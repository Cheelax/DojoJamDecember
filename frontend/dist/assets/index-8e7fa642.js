var q1e=Object.defineProperty;var Z1e=(Ye,nr,ei)=>nr in Ye?q1e(Ye,nr,{enumerable:!0,configurable:!0,writable:!0,value:ei}):Ye[nr]=ei;var X1e=(Ye,nr)=>()=>(nr||Ye((nr={exports:{}}).exports,nr),nr.exports);var is=(Ye,nr,ei)=>(Z1e(Ye,typeof nr!="symbol"?nr+"":nr,ei),ei);var Y1e=X1e((fwe,pR)=>{(async()=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ei(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var mR={exports:{}},Fg={},yR={exports:{}},rt={},Xf=Symbol.for("react.element"),P$=Symbol.for("react.portal"),R$=Symbol.for("react.fragment"),M$=Symbol.for("react.strict_mode"),N$=Symbol.for("react.profiler"),D$=Symbol.for("react.provider"),L$=Symbol.for("react.context"),B$=Symbol.for("react.forward_ref"),F$=Symbol.for("react.suspense"),U$=Symbol.for("react.memo"),j$=Symbol.for("react.lazy"),gR=Symbol.iterator;function z$(e){return e===null||typeof e!="object"?null:(e=gR&&e[gR]||e["@@iterator"],typeof e=="function"?e:null)}var vR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_R=Object.assign,bR={};function Kc(e,t,r){this.props=e,this.context=t,this.refs=bR,this.updater=r||vR}Kc.prototype.isReactComponent={},Kc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Kc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wR(){}wR.prototype=Kc.prototype;function ux(e,t,r){this.props=e,this.context=t,this.refs=bR,this.updater=r||vR}var lx=ux.prototype=new wR;lx.constructor=ux,_R(lx,Kc.prototype),lx.isPureReactComponent=!0;var xR=Array.isArray,ER=Object.prototype.hasOwnProperty,cx={current:null},SR={key:!0,ref:!0,__self:!0,__source:!0};function AR(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)ER.call(t,n)&&!SR.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Xf,type:e,key:s,ref:o,props:i,_owner:cx.current}}function H$(e,t){return{$$typeof:Xf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xf}function G$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var TR=/\/+/g;function dx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?G$(""+e.key):t.toString(36)}function Ug(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Xf:case P$:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+dx(o,0):n,xR(i)?(r="",e!=null&&(r=e.replace(TR,"$&/")+"/"),Ug(i,t,r,"",function(l){return l})):i!=null&&(hx(i)&&(i=H$(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TR,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",xR(e))for(var a=0;a<e.length;a++){s=e[a];var u=n+dx(s,a);o+=Ug(s,t,r,u,i)}else if(u=z$(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=n+dx(s,a++),o+=Ug(s,t,r,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function jg(e,t,r){if(e==null)return e;var n=[],i=0;return Ug(e,n,"","",function(s){return t.call(r,s,i++)}),n}function $$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gn={current:null},zg={transition:null},V$={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:zg,ReactCurrentOwner:cx};rt.Children={map:jg,forEach:function(e,t,r){jg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jg(e,function(){t++}),t},toArray:function(e){return jg(e,function(t){return t})||[]},only:function(e){if(!hx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},rt.Component=Kc,rt.Fragment=R$,rt.Profiler=N$,rt.PureComponent=ux,rt.StrictMode=M$,rt.Suspense=F$,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V$,rt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_R({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=cx.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)ER.call(t,u)&&!SR.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Xf,type:e.type,key:i,ref:s,props:n,_owner:o}},rt.createContext=function(e){return e={$$typeof:L$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:D$,_context:e},e.Consumer=e},rt.createElement=AR,rt.createFactory=function(e){var t=AR.bind(null,e);return t.type=e,t},rt.createRef=function(){return{current:null}},rt.forwardRef=function(e){return{$$typeof:B$,render:e}},rt.isValidElement=hx,rt.lazy=function(e){return{$$typeof:j$,_payload:{_status:-1,_result:e},_init:$$}},rt.memo=function(e,t){return{$$typeof:U$,type:e,compare:t===void 0?null:t}},rt.startTransition=function(e){var t=zg.transition;zg.transition={};try{e()}finally{zg.transition=t}},rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},rt.useCallback=function(e,t){return gn.current.useCallback(e,t)},rt.useContext=function(e){return gn.current.useContext(e)},rt.useDebugValue=function(){},rt.useDeferredValue=function(e){return gn.current.useDeferredValue(e)},rt.useEffect=function(e,t){return gn.current.useEffect(e,t)},rt.useId=function(){return gn.current.useId()},rt.useImperativeHandle=function(e,t,r){return gn.current.useImperativeHandle(e,t,r)},rt.useInsertionEffect=function(e,t){return gn.current.useInsertionEffect(e,t)},rt.useLayoutEffect=function(e,t){return gn.current.useLayoutEffect(e,t)},rt.useMemo=function(e,t){return gn.current.useMemo(e,t)},rt.useReducer=function(e,t,r){return gn.current.useReducer(e,t,r)},rt.useRef=function(e){return gn.current.useRef(e)},rt.useState=function(e){return gn.current.useState(e)},rt.useSyncExternalStore=function(e,t,r){return gn.current.useSyncExternalStore(e,t,r)},rt.useTransition=function(){return gn.current.useTransition()},rt.version="18.2.0",yR.exports=rt;var Ie=yR.exports;const eo=nr(Ie);var W$=Ie,q$=Symbol.for("react.element"),Z$=Symbol.for("react.fragment"),X$=Object.prototype.hasOwnProperty,Y$=W$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K$={key:!0,ref:!0,__self:!0,__source:!0};function IR(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)X$.call(t,n)&&!K$.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:q$,type:e,key:s,ref:o,props:i,_owner:Y$.current}}Fg.Fragment=Z$,Fg.jsx=IR,Fg.jsxs=IR,mR.exports=Fg;var Qr=mR.exports,fx={},CR={exports:{}},ti={},kR={exports:{}},OR={};(function(e){function t(N,z){var U=N.length;N.push(z);e:for(;0<U;){var q=U-1>>>1,J=N[q];if(0<i(J,z))N[q]=z,N[U]=J,U=q;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var z=N[0],U=N.pop();if(U!==z){N[0]=U;e:for(var q=0,J=N.length,pe=J>>>1;q<pe;){var fe=2*(q+1)-1,Ne=N[fe],we=fe+1,Ce=N[we];if(0>i(Ne,U))we<J&&0>i(Ce,Ne)?(N[q]=Ce,N[we]=U,q=we):(N[q]=Ne,N[fe]=U,q=fe);else if(we<J&&0>i(Ce,U))N[q]=Ce,N[we]=U,q=we;else break e}}return z}function i(N,z){var U=N.sortIndex-z.sortIndex;return U!==0?U:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],h=1,f=null,p=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(N){for(var z=r(l);z!==null;){if(z.callback===null)n(l);else if(z.startTime<=N)n(l),z.sortIndex=z.expirationTime,t(u,z);else break;z=r(l)}}function T(N){if(v=!1,E(N),!y)if(r(u)!==null)y=!0,D(R);else{var z=r(l);z!==null&&L(T,z.startTime-N)}}function R(N,z){y=!1,v&&(v=!1,_(M),M=-1),m=!0;var U=p;try{for(E(z),f=r(u);f!==null&&(!(f.expirationTime>z)||N&&!X());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var J=q(f.expirationTime<=z);z=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(u)&&n(u),E(z)}else n(u);f=r(u)}if(f!==null)var pe=!0;else{var fe=r(l);fe!==null&&L(T,fe.startTime-z),pe=!1}return pe}finally{f=null,p=U,m=!1}}var P=!1,k=null,M=-1,V=5,H=-1;function X(){return!(e.unstable_now()-H<V)}function Q(){if(k!==null){var N=e.unstable_now();H=N;var z=!0;try{z=k(!0,N)}finally{z?W():(P=!1,k=null)}}else P=!1}var W;if(typeof x=="function")W=function(){x(Q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,O=G.port2;G.port1.onmessage=Q,W=function(){O.postMessage(null)}}else W=function(){w(Q,0)};function D(N){k=N,P||(P=!0,W())}function L(N,z){M=w(function(){N(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,D(R))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var U=p;p=z;try{return N()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=p;p=N;try{return z()}finally{p=U}},e.unstable_scheduleCallback=function(N,z,U){var q=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,N={id:h++,callback:z,priorityLevel:N,startTime:U,expirationTime:J,sortIndex:-1},U>q?(N.sortIndex=U,t(l,N),r(u)===null&&N===r(l)&&(v?(_(M),M=-1):v=!0,L(T,U-q))):(N.sortIndex=J,t(u,N),y||m||(y=!0,D(R))),N},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(N){var z=p;return function(){var U=p;p=z;try{return N.apply(this,arguments)}finally{p=U}}}})(OR),kR.exports=OR;var Q$=kR.exports,PR=Ie,ri=Q$;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RR=new Set,Yf={};function hl(e,t){Qc(e,t),Qc(e+"Capture",t)}function Qc(e,t){for(Yf[e]=t,e=0;e<t.length;e++)RR.add(t[e])}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),px=Object.prototype.hasOwnProperty,J$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MR={},NR={};function eV(e){return px.call(NR,e)?!0:px.call(MR,e)?!1:J$.test(e)?NR[e]=!0:(MR[e]=!0,!1)}function tV(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rV(e,t,r,n){if(t===null||typeof t>"u"||tV(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function vn(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ur[e]=new vn(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ur[t]=new vn(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ur[e]=new vn(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ur[e]=new vn(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ur[e]=new vn(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Ur[e]=new vn(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Ur[e]=new vn(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Ur[e]=new vn(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Ur[e]=new vn(e,5,!1,e.toLowerCase(),null,!1,!1)});var mx=/[\-:]([a-z])/g;function yx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mx,yx);Ur[t]=new vn(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mx,yx);Ur[t]=new vn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mx,yx);Ur[t]=new vn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Ur[e]=new vn(e,1,!1,e.toLowerCase(),null,!1,!1)}),Ur.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Ur[e]=new vn(e,1,!1,e.toLowerCase(),null,!0,!0)});function gx(e,t,r,n){var i=Ur.hasOwnProperty(t)?Ur[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rV(t,r,i,n)&&(r=null),n||i===null?eV(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xo=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hg=Symbol.for("react.element"),Jc=Symbol.for("react.portal"),eh=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),_x=Symbol.for("react.profiler"),DR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),bx=Symbol.for("react.forward_ref"),wx=Symbol.for("react.suspense"),xx=Symbol.for("react.suspense_list"),Ex=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),BR=Symbol.for("react.offscreen"),FR=Symbol.iterator;function Kf(e){return e===null||typeof e!="object"?null:(e=FR&&e[FR]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Object.assign,Sx;function Qf(e){if(Sx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Sx=t&&t[1]||""}return`
`+Sx+e}var Ax=!1;function Tx(e,t){if(!e||Ax)return"";Ax=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ax=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qf(e):""}function nV(e){switch(e.tag){case 5:return Qf(e.type);case 16:return Qf("Lazy");case 13:return Qf("Suspense");case 19:return Qf("SuspenseList");case 0:case 2:case 15:return e=Tx(e.type,!1),e;case 11:return e=Tx(e.type.render,!1),e;case 1:return e=Tx(e.type,!0),e;default:return""}}function Ix(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eh:return"Fragment";case Jc:return"Portal";case _x:return"Profiler";case vx:return"StrictMode";case wx:return"Suspense";case xx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LR:return(e.displayName||"Context")+".Consumer";case DR:return(e._context.displayName||"Context")+".Provider";case bx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ex:return t=e.displayName||null,t!==null?t:Ix(e.type)||"Memo";case La:t=e._payload,e=e._init;try{return Ix(e(t))}catch{}}return null}function iV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ix(t);case 8:return t===vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sV(e){var t=UR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gg(e){e._valueTracker||(e._valueTracker=sV(e))}function jR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=UR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $g(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cx(e,t){var r=t.checked;return Wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zR(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ba(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HR(e,t){t=t.checked,t!=null&&gx(e,"checked",t,!1)}function kx(e,t){HR(e,t);var r=Ba(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ox(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ox(e,t.type,Ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GR(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ox(e,t,r){(t!=="number"||$g(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jf=Array.isArray;function th(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ba(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Px(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $R(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(le(92));if(Jf(r)){if(1<r.length)throw Error(le(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ba(r)}}function VR(e,t){var r=Ba(t.value),n=Ba(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function WR(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vg,ZR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vg=Vg||document.createElement("div"),Vg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ep(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var tp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oV=["Webkit","ms","Moz","O"];Object.keys(tp).forEach(function(e){oV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tp[t]=tp[e]})});function XR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||tp.hasOwnProperty(e)&&tp[e]?(""+t).trim():t+"px"}function YR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=XR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var aV=Wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mx(e,t){if(t){if(aV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Nx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dx=null;function Lx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bx=null,rh=null,nh=null;function KR(e){if(e=Ep(e)){if(typeof Bx!="function")throw Error(le(280));var t=e.stateNode;t&&(t=pv(t),Bx(e.stateNode,e.type,t))}}function QR(e){rh?nh?nh.push(e):nh=[e]:rh=e}function JR(){if(rh){var e=rh,t=nh;if(nh=rh=null,KR(e),t)for(e=0;e<t.length;e++)KR(t[e])}}function eM(e,t){return e(t)}function tM(){}var Fx=!1;function rM(e,t,r){if(Fx)return e(t,r);Fx=!0;try{return eM(e,t,r)}finally{Fx=!1,(rh!==null||nh!==null)&&(tM(),JR())}}function rp(e,t){var r=e.stateNode;if(r===null)return null;var n=pv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(le(231,t,typeof r));return r}var Ux=!1;if(Zo)try{var np={};Object.defineProperty(np,"passive",{get:function(){Ux=!0}}),window.addEventListener("test",np,np),window.removeEventListener("test",np,np)}catch{Ux=!1}function uV(e,t,r,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(h){this.onError(h)}}var ip=!1,Wg=null,qg=!1,jx=null,lV={onError:function(e){ip=!0,Wg=e}};function cV(e,t,r,n,i,s,o,a,u){ip=!1,Wg=null,uV.apply(lV,arguments)}function hV(e,t,r,n,i,s,o,a,u){if(cV.apply(this,arguments),ip){if(ip){var l=Wg;ip=!1,Wg=null}else throw Error(le(198));qg||(qg=!0,jx=l)}}function dl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function iM(e){if(dl(e)!==e)throw Error(le(188))}function dV(e){var t=e.alternate;if(!t){if(t=dl(e),t===null)throw Error(le(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return iM(i),e;if(s===n)return iM(i),t;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?e:t}function sM(e){return e=dV(e),e!==null?oM(e):null}function oM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oM(e);if(t!==null)return t;e=e.sibling}return null}var aM=ri.unstable_scheduleCallback,uM=ri.unstable_cancelCallback,fV=ri.unstable_shouldYield,pV=ri.unstable_requestPaint,ir=ri.unstable_now,mV=ri.unstable_getCurrentPriorityLevel,zx=ri.unstable_ImmediatePriority,lM=ri.unstable_UserBlockingPriority,Zg=ri.unstable_NormalPriority,yV=ri.unstable_LowPriority,cM=ri.unstable_IdlePriority,Xg=null,to=null;function gV(e){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(Xg,e,void 0,(e.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:bV,vV=Math.log,_V=Math.LN2;function bV(e){return e>>>=0,e===0?32:31-(vV(e)/_V|0)|0}var Yg=64,Kg=4194304;function sp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=sp(a):(s&=o,s!==0&&(n=sp(s)))}else o=r&~i,o!==0?n=sp(o):s!==0&&(n=sp(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ss(t),i=1<<r,n|=e[r],t&=~i;return n}function wV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xV(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ss(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=wV(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function Hx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hM(){var e=Yg;return Yg<<=1,!(Yg&4194240)&&(Yg=64),e}function Gx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function op(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ss(t),e[t]=r}function EV(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ss(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function $x(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ss(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var bt=0;function dM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fM,Vx,pM,mM,yM,Wx=!1,Jg=[],Fa=null,Ua=null,ja=null,ap=new Map,up=new Map,za=[],SV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gM(e,t){switch(e){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":ap.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":up.delete(t.pointerId)}}function lp(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ep(t),t!==null&&Vx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function AV(e,t,r,n,i){switch(t){case"focusin":return Fa=lp(Fa,e,t,r,n,i),!0;case"dragenter":return Ua=lp(Ua,e,t,r,n,i),!0;case"mouseover":return ja=lp(ja,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return ap.set(s,lp(ap.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,up.set(s,lp(up.get(s)||null,e,t,r,n,i)),!0}return!1}function vM(e){var t=fl(e.target);if(t!==null){var r=dl(t);if(r!==null){if(t=r.tag,t===13){if(t=nM(r),t!==null){e.blockedOn=t,yM(e.priority,function(){pM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ev(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Dx=n,r.target.dispatchEvent(n),Dx=null}else return t=Ep(r),t!==null&&Vx(t),e.blockedOn=r,!1;t.shift()}return!0}function _M(e,t,r){ev(e)&&r.delete(t)}function TV(){Wx=!1,Fa!==null&&ev(Fa)&&(Fa=null),Ua!==null&&ev(Ua)&&(Ua=null),ja!==null&&ev(ja)&&(ja=null),ap.forEach(_M),up.forEach(_M)}function cp(e,t){e.blockedOn===t&&(e.blockedOn=null,Wx||(Wx=!0,ri.unstable_scheduleCallback(ri.unstable_NormalPriority,TV)))}function hp(e){function t(i){return cp(i,e)}if(0<Jg.length){cp(Jg[0],e);for(var r=1;r<Jg.length;r++){var n=Jg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fa!==null&&cp(Fa,e),Ua!==null&&cp(Ua,e),ja!==null&&cp(ja,e),ap.forEach(t),up.forEach(t),r=0;r<za.length;r++)n=za[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<za.length&&(r=za[0],r.blockedOn===null);)vM(r),r.blockedOn===null&&za.shift()}var ih=Xo.ReactCurrentBatchConfig,tv=!0;function IV(e,t,r,n){var i=bt,s=ih.transition;ih.transition=null;try{bt=1,qx(e,t,r,n)}finally{bt=i,ih.transition=s}}function CV(e,t,r,n){var i=bt,s=ih.transition;ih.transition=null;try{bt=4,qx(e,t,r,n)}finally{bt=i,ih.transition=s}}function qx(e,t,r,n){if(tv){var i=Zx(e,t,r,n);if(i===null)hE(e,t,n,rv,r),gM(e,n);else if(AV(i,e,t,r,n))n.stopPropagation();else if(gM(e,n),t&4&&-1<SV.indexOf(e)){for(;i!==null;){var s=Ep(i);if(s!==null&&fM(s),s=Zx(e,t,r,n),s===null&&hE(e,t,n,rv,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else hE(e,t,n,null,r)}}var rv=null;function Zx(e,t,r,n){if(rv=null,e=Lx(n),e=fl(e),e!==null)if(t=dl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rv=e,null}function bM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mV()){case zx:return 1;case lM:return 4;case Zg:case yV:return 16;case cM:return 536870912;default:return 16}default:return 16}}var Ha=null,Xx=null,nv=null;function wM(){if(nv)return nv;var e,t=Xx,r=t.length,n,i="value"in Ha?Ha.value:Ha.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return nv=i.slice(e,1<n?1-n:void 0)}function iv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sv(){return!0}function xM(){return!1}function ni(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sv:xM,this.isPropagationStopped=xM,this}return Wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sv)},persist:function(){},isPersistent:sv}),t}var sh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yx=ni(sh),dp=Wt({},sh,{view:0,detail:0}),kV=ni(dp),Kx,Qx,fp,ov=Wt({},dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eE,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fp&&(fp&&e.type==="mousemove"?(Kx=e.screenX-fp.screenX,Qx=e.screenY-fp.screenY):Qx=Kx=0,fp=e),Kx)},movementY:function(e){return"movementY"in e?e.movementY:Qx}}),EM=ni(ov),OV=Wt({},ov,{dataTransfer:0}),PV=ni(OV),RV=Wt({},dp,{relatedTarget:0}),Jx=ni(RV),MV=Wt({},sh,{animationName:0,elapsedTime:0,pseudoElement:0}),NV=ni(MV),DV=Wt({},sh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LV=ni(DV),BV=Wt({},sh,{data:0}),SM=ni(BV),FV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jV[e])?!!t[e]:!1}function eE(){return zV}var HV=Wt({},dp,{key:function(e){if(e.key){var t=FV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=iv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eE,charCode:function(e){return e.type==="keypress"?iv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?iv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GV=ni(HV),$V=Wt({},ov,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AM=ni($V),VV=Wt({},dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eE}),WV=ni(VV),qV=Wt({},sh,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZV=ni(qV),XV=Wt({},ov,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YV=ni(XV),KV=[9,13,27,32],tE=Zo&&"CompositionEvent"in window,pp=null;Zo&&"documentMode"in document&&(pp=document.documentMode);var QV=Zo&&"TextEvent"in window&&!pp,TM=Zo&&(!tE||pp&&8<pp&&11>=pp),IM=String.fromCharCode(32),CM=!1;function kM(e,t){switch(e){case"keyup":return KV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oh=!1;function JV(e,t){switch(e){case"compositionend":return OM(t);case"keypress":return t.which!==32?null:(CM=!0,IM);case"textInput":return e=t.data,e===IM&&CM?null:e;default:return null}}function eW(e,t){if(oh)return e==="compositionend"||!tE&&kM(e,t)?(e=wM(),nv=Xx=Ha=null,oh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return TM&&t.locale!=="ko"?null:t.data;default:return null}}var tW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tW[e.type]:t==="textarea"}function RM(e,t,r,n){QR(n),t=hv(t,"onChange"),0<t.length&&(r=new Yx("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mp=null,yp=null;function rW(e){YM(e,0)}function av(e){var t=hh(e);if(jR(t))return e}function nW(e,t){if(e==="change")return t}var MM=!1;if(Zo){var rE;if(Zo){var nE="oninput"in document;if(!nE){var NM=document.createElement("div");NM.setAttribute("oninput","return;"),nE=typeof NM.oninput=="function"}rE=nE}else rE=!1;MM=rE&&(!document.documentMode||9<document.documentMode)}function DM(){mp&&(mp.detachEvent("onpropertychange",LM),yp=mp=null)}function LM(e){if(e.propertyName==="value"&&av(yp)){var t=[];RM(t,yp,e,Lx(e)),rM(rW,t)}}function iW(e,t,r){e==="focusin"?(DM(),mp=t,yp=r,mp.attachEvent("onpropertychange",LM)):e==="focusout"&&DM()}function sW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return av(yp)}function oW(e,t){if(e==="click")return av(t)}function aW(e,t){if(e==="input"||e==="change")return av(t)}function uW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var os=typeof Object.is=="function"?Object.is:uW;function gp(e,t){if(os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!px.call(t,i)||!os(e[i],t[i]))return!1}return!0}function BM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function FM(e,t){var r=BM(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=BM(r)}}function UM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?UM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jM(){for(var e=window,t=$g();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$g(e.document)}return t}function iE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lW(e){var t=jM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&UM(r.ownerDocument.documentElement,r)){if(n!==null&&iE(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=FM(r,s);var o=FM(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cW=Zo&&"documentMode"in document&&11>=document.documentMode,ah=null,sE=null,vp=null,oE=!1;function zM(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oE||ah==null||ah!==$g(n)||(n=ah,"selectionStart"in n&&iE(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vp&&gp(vp,n)||(vp=n,n=hv(sE,"onSelect"),0<n.length&&(t=new Yx("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ah)))}function uv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var uh={animationend:uv("Animation","AnimationEnd"),animationiteration:uv("Animation","AnimationIteration"),animationstart:uv("Animation","AnimationStart"),transitionend:uv("Transition","TransitionEnd")},aE={},HM={};Zo&&(HM=document.createElement("div").style,"AnimationEvent"in window||(delete uh.animationend.animation,delete uh.animationiteration.animation,delete uh.animationstart.animation),"TransitionEvent"in window||delete uh.transitionend.transition);function lv(e){if(aE[e])return aE[e];if(!uh[e])return e;var t=uh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HM)return aE[e]=t[r];return e}var GM=lv("animationend"),$M=lv("animationiteration"),VM=lv("animationstart"),WM=lv("transitionend"),qM=new Map,ZM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(e,t){qM.set(e,t),hl(t,[e])}for(var uE=0;uE<ZM.length;uE++){var lE=ZM[uE],hW=lE.toLowerCase(),dW=lE[0].toUpperCase()+lE.slice(1);Ga(hW,"on"+dW)}Ga(GM,"onAnimationEnd"),Ga($M,"onAnimationIteration"),Ga(VM,"onAnimationStart"),Ga("dblclick","onDoubleClick"),Ga("focusin","onFocus"),Ga("focusout","onBlur"),Ga(WM,"onTransitionEnd"),Qc("onMouseEnter",["mouseout","mouseover"]),Qc("onMouseLeave",["mouseout","mouseover"]),Qc("onPointerEnter",["pointerout","pointerover"]),Qc("onPointerLeave",["pointerout","pointerover"]),hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hl("onBeforeInput",["compositionend","keypress","textInput","paste"]),hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _p="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fW=new Set("cancel close invalid load scroll toggle".split(" ").concat(_p));function XM(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,hV(n,t,void 0,e),e.currentTarget=null}function YM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;XM(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;XM(i,a,l),s=u}}}if(qg)throw e=jx,qg=!1,jx=null,e}function Rt(e,t){var r=t[gE];r===void 0&&(r=t[gE]=new Set);var n=e+"__bubble";r.has(n)||(KM(t,e,2,!1),r.add(n))}function cE(e,t,r){var n=0;t&&(n|=4),KM(r,e,n,t)}var cv="_reactListening"+Math.random().toString(36).slice(2);function bp(e){if(!e[cv]){e[cv]=!0,RR.forEach(function(r){r!=="selectionchange"&&(fW.has(r)||cE(r,!1,e),cE(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cv]||(t[cv]=!0,cE("selectionchange",!1,t))}}function KM(e,t,r,n){switch(bM(t)){case 1:var i=IV;break;case 4:i=CV;break;default:i=qx}r=i.bind(null,t,r,e),i=void 0,!Ux||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function hE(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fl(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}rM(function(){var l=s,h=Lx(r),f=[];e:{var p=qM.get(e);if(p!==void 0){var m=Yx,y=e;switch(e){case"keypress":if(iv(r)===0)break e;case"keydown":case"keyup":m=GV;break;case"focusin":y="focus",m=Jx;break;case"focusout":y="blur",m=Jx;break;case"beforeblur":case"afterblur":m=Jx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=EM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WV;break;case GM:case $M:case VM:m=NV;break;case WM:m=ZV;break;case"scroll":m=kV;break;case"wheel":m=YV;break;case"copy":case"cut":case"paste":m=LV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=AM}var v=(t&4)!==0,w=!v&&e==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var x=l,E;x!==null;){E=x;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,_!==null&&(T=rp(x,_),T!=null&&v.push(wp(x,T,E)))),w)break;x=x.return}0<v.length&&(p=new m(p,y,null,r,h),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Dx&&(y=r.relatedTarget||r.fromElement)&&(fl(y)||y[Yo]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=l,y=y?fl(y):null,y!==null&&(w=dl(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=l),m!==y)){if(v=EM,T="onMouseLeave",_="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=AM,T="onPointerLeave",_="onPointerEnter",x="pointer"),w=m==null?p:hh(m),E=y==null?p:hh(y),p=new v(T,x+"leave",m,r,h),p.target=w,p.relatedTarget=E,T=null,fl(h)===l&&(v=new v(_,x+"enter",y,r,h),v.target=E,v.relatedTarget=w,T=v),w=T,m&&y)t:{for(v=m,_=y,x=0,E=v;E;E=lh(E))x++;for(E=0,T=_;T;T=lh(T))E++;for(;0<x-E;)v=lh(v),x--;for(;0<E-x;)_=lh(_),E--;for(;x--;){if(v===_||_!==null&&v===_.alternate)break t;v=lh(v),_=lh(_)}v=null}else v=null;m!==null&&QM(f,p,m,v,!1),y!==null&&w!==null&&QM(f,w,y,v,!0)}}e:{if(p=l?hh(l):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=nW;else if(PM(p))if(MM)R=aW;else{R=sW;var P=iW}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=oW);if(R&&(R=R(e,l))){RM(f,R,r,h);break e}P&&P(e,p,l),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Ox(p,"number",p.value)}switch(P=l?hh(l):window,e){case"focusin":(PM(P)||P.contentEditable==="true")&&(ah=P,sE=l,vp=null);break;case"focusout":vp=sE=ah=null;break;case"mousedown":oE=!0;break;case"contextmenu":case"mouseup":case"dragend":oE=!1,zM(f,r,h);break;case"selectionchange":if(cW)break;case"keydown":case"keyup":zM(f,r,h)}var k;if(tE)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else oh?kM(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(TM&&r.locale!=="ko"&&(oh||M!=="onCompositionStart"?M==="onCompositionEnd"&&oh&&(k=wM()):(Ha=h,Xx="value"in Ha?Ha.value:Ha.textContent,oh=!0)),P=hv(l,M),0<P.length&&(M=new SM(M,e,null,r,h),f.push({event:M,listeners:P}),k?M.data=k:(k=OM(r),k!==null&&(M.data=k)))),(k=QV?JV(e,r):eW(e,r))&&(l=hv(l,"onBeforeInput"),0<l.length&&(h=new SM("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:l}),h.data=k))}YM(f,t)})}function wp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hv(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rp(e,r),s!=null&&n.unshift(wp(e,s,i)),s=rp(e,t),s!=null&&n.push(wp(e,s,i))),e=e.return}return n}function lh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function QM(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=rp(r,s),u!=null&&o.unshift(wp(r,u,a))):i||(u=rp(r,s),u!=null&&o.push(wp(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var pW=/\r\n?/g,mW=/\u0000|\uFFFD/g;function JM(e){return(typeof e=="string"?e:""+e).replace(pW,`
`).replace(mW,"")}function dv(e,t,r){if(t=JM(t),JM(e)!==t&&r)throw Error(le(425))}function fv(){}var dE=null,fE=null;function pE(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mE=typeof setTimeout=="function"?setTimeout:void 0,yW=typeof clearTimeout=="function"?clearTimeout:void 0,eN=typeof Promise=="function"?Promise:void 0,gW=typeof queueMicrotask=="function"?queueMicrotask:typeof eN<"u"?function(e){return eN.resolve(null).then(e).catch(vW)}:mE;function vW(e){setTimeout(function(){throw e})}function yE(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),hp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);hp(t)}function $a(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ch=Math.random().toString(36).slice(2),ro="__reactFiber$"+ch,xp="__reactProps$"+ch,Yo="__reactContainer$"+ch,gE="__reactEvents$"+ch,_W="__reactListeners$"+ch,bW="__reactHandles$"+ch;function fl(e){var t=e[ro];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yo]||r[ro]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tN(e);e!==null;){if(r=e[ro])return r;e=tN(e)}return t}e=r,r=e.parentNode}return null}function Ep(e){return e=e[ro]||e[Yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function pv(e){return e[xp]||null}var vE=[],dh=-1;function Va(e){return{current:e}}function Mt(e){0>dh||(e.current=vE[dh],vE[dh]=null,dh--)}function At(e,t){dh++,vE[dh]=e.current,e.current=t}var Wa={},Jr=Va(Wa),Fn=Va(!1),pl=Wa;function fh(e,t){var r=e.type.contextTypes;if(!r)return Wa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Un(e){return e=e.childContextTypes,e!=null}function mv(){Mt(Fn),Mt(Jr)}function rN(e,t,r){if(Jr.current!==Wa)throw Error(le(168));At(Jr,t),At(Fn,r)}function nN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(le(108,iV(e)||"Unknown",i));return Wt({},r,n)}function yv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wa,pl=Jr.current,At(Jr,e),At(Fn,Fn.current),!0}function iN(e,t,r){var n=e.stateNode;if(!n)throw Error(le(169));r?(e=nN(e,t,pl),n.__reactInternalMemoizedMergedChildContext=e,Mt(Fn),Mt(Jr),At(Jr,e)):Mt(Fn),At(Fn,r)}var Ko=null,gv=!1,_E=!1;function sN(e){Ko===null?Ko=[e]:Ko.push(e)}function wW(e){gv=!0,sN(e)}function qa(){if(!_E&&Ko!==null){_E=!0;var e=0,t=bt;try{var r=Ko;for(bt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ko=null,gv=!1}catch(i){throw Ko!==null&&(Ko=Ko.slice(e+1)),aM(zx,qa),i}finally{bt=t,_E=!1}}return null}var ph=[],mh=0,vv=null,_v=0,Ei=[],Si=0,ml=null,Qo=1,Jo="";function yl(e,t){ph[mh++]=_v,ph[mh++]=vv,vv=e,_v=t}function oN(e,t,r){Ei[Si++]=Qo,Ei[Si++]=Jo,Ei[Si++]=ml,ml=e;var n=Qo;e=Jo;var i=32-ss(n)-1;n&=~(1<<i),r+=1;var s=32-ss(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qo=1<<32-ss(t)+i|r<<i|n,Jo=s+e}else Qo=1<<s|r<<i|n,Jo=e}function bE(e){e.return!==null&&(yl(e,1),oN(e,1,0))}function wE(e){for(;e===vv;)vv=ph[--mh],ph[mh]=null,_v=ph[--mh],ph[mh]=null;for(;e===ml;)ml=Ei[--Si],Ei[Si]=null,Jo=Ei[--Si],Ei[Si]=null,Qo=Ei[--Si],Ei[Si]=null}var ii=null,si=null,jt=!1,as=null;function aN(e,t){var r=Ci(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uN(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ii=e,si=$a(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ii=e,si=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ml!==null?{id:Qo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ci(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ii=e,si=null,!0):!1;default:return!1}}function xE(e){return(e.mode&1)!==0&&(e.flags&128)===0}function EE(e){if(jt){var t=si;if(t){var r=t;if(!uN(e,t)){if(xE(e))throw Error(le(418));t=$a(r.nextSibling);var n=ii;t&&uN(e,t)?aN(n,r):(e.flags=e.flags&-4097|2,jt=!1,ii=e)}}else{if(xE(e))throw Error(le(418));e.flags=e.flags&-4097|2,jt=!1,ii=e}}}function lN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ii=e}function bv(e){if(e!==ii)return!1;if(!jt)return lN(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pE(e.type,e.memoizedProps)),t&&(t=si)){if(xE(e))throw cN(),Error(le(418));for(;t;)aN(e,t),t=$a(t.nextSibling)}if(lN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){si=$a(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}si=null}}else si=ii?$a(e.stateNode.nextSibling):null;return!0}function cN(){for(var e=si;e;)e=$a(e.nextSibling)}function yh(){si=ii=null,jt=!1}function SE(e){as===null?as=[e]:as.push(e)}var xW=Xo.ReactCurrentBatchConfig;function us(e,t){if(e&&e.defaultProps){t=Wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var wv=Va(null),xv=null,gh=null,AE=null;function TE(){AE=gh=xv=null}function IE(e){var t=wv.current;Mt(wv),e._currentValue=t}function CE(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vh(e,t){xv=e,AE=gh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jn=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(AE!==e)if(e={context:e,memoizedValue:t,next:null},gh===null){if(xv===null)throw Error(le(308));gh=e,xv.dependencies={lanes:0,firstContext:e}}else gh=gh.next=e;return t}var gl=null;function kE(e){gl===null?gl=[e]:gl.push(e)}function hN(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,kE(t)):(r.next=i.next,i.next=r),t.interleaved=r,ea(e,n)}function ea(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Za=!1;function OE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ht&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ea(e,r)}return i=n.interleaved,i===null?(t.next=t,kE(n)):(t.next=i.next,i.next=t),n.interleaved=t,ea(e,r)}function Ev(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$x(e,r)}}function fN(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sv(e,t,r,n){var i=e.updateQueue;Za=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=l=u=null,a=s;do{var p=a.lane,m=a.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,v=a;switch(p=t,m=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Wt({},f,p);break e;case 2:Za=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(l=h=m,u=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);bl|=o,e.lanes=o,e.memoizedState=f}}function pN(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var mN=new PR.Component().refs;function PE(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Av={isMounted:function(e){return(e=e._reactInternals)?dl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=bn(),i=Ja(e),s=ta(n,i);s.payload=t,r!=null&&(s.callback=r),t=Xa(e,s,i),t!==null&&(hs(t,e,i,n),Ev(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=bn(),i=Ja(e),s=ta(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Xa(e,s,i),t!==null&&(hs(t,e,i,n),Ev(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=bn(),n=Ja(e),i=ta(r,n);i.tag=2,t!=null&&(i.callback=t),t=Xa(e,i,n),t!==null&&(hs(t,e,n,r),Ev(t,e,n))}};function yN(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!gp(r,n)||!gp(i,s):!0}function gN(e,t,r){var n=!1,i=Wa,s=t.contextType;return typeof s=="object"&&s!==null?s=Ai(s):(i=Un(t)?pl:Jr.current,n=t.contextTypes,s=(n=n!=null)?fh(e,i):Wa),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Av,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function vN(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Av.enqueueReplaceState(t,t.state,null)}function RE(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=mN,OE(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ai(s):(s=Un(t)?pl:Jr.current,i.context=fh(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(PE(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Av.enqueueReplaceState(i,i.state,null),Sv(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;a===mN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,e))}return e}function Tv(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _N(e){var t=e._init;return t(e._payload)}function bN(e){function t(_,x){if(e){var E=_.deletions;E===null?(_.deletions=[x],_.flags|=16):E.push(x)}}function r(_,x){if(!e)return null;for(;x!==null;)t(_,x),x=x.sibling;return null}function n(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=tu(_,x),_.index=0,_.sibling=null,_}function s(_,x,E){return _.index=E,e?(E=_.alternate,E!==null?(E=E.index,E<x?(_.flags|=2,x):E):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return e&&_.alternate===null&&(_.flags|=2),_}function a(_,x,E,T){return x===null||x.tag!==6?(x=pS(E,_.mode,T),x.return=_,x):(x=i(x,E),x.return=_,x)}function u(_,x,E,T){var R=E.type;return R===eh?h(_,x,E.props.children,T,E.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===La&&_N(R)===x.type)?(T=i(x,E.props),T.ref=Sp(_,x,E),T.return=_,T):(T=Vv(E.type,E.key,E.props,null,_.mode,T),T.ref=Sp(_,x,E),T.return=_,T)}function l(_,x,E,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=mS(E,_.mode,T),x.return=_,x):(x=i(x,E.children||[]),x.return=_,x)}function h(_,x,E,T,R){return x===null||x.tag!==7?(x=Sl(E,_.mode,T,R),x.return=_,x):(x=i(x,E),x.return=_,x)}function f(_,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pS(""+x,_.mode,E),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hg:return E=Vv(x.type,x.key,x.props,null,_.mode,E),E.ref=Sp(_,null,x),E.return=_,E;case Jc:return x=mS(x,_.mode,E),x.return=_,x;case La:var T=x._init;return f(_,T(x._payload),E)}if(Jf(x)||Kf(x))return x=Sl(x,_.mode,E,null),x.return=_,x;Tv(_,x)}return null}function p(_,x,E,T){var R=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(_,x,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hg:return E.key===R?u(_,x,E,T):null;case Jc:return E.key===R?l(_,x,E,T):null;case La:return R=E._init,p(_,x,R(E._payload),T)}if(Jf(E)||Kf(E))return R!==null?null:h(_,x,E,T,null);Tv(_,E)}return null}function m(_,x,E,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(E)||null,a(x,_,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Hg:return _=_.get(T.key===null?E:T.key)||null,u(x,_,T,R);case Jc:return _=_.get(T.key===null?E:T.key)||null,l(x,_,T,R);case La:var P=T._init;return m(_,x,E,P(T._payload),R)}if(Jf(T)||Kf(T))return _=_.get(E)||null,h(x,_,T,R,null);Tv(x,T)}return null}function y(_,x,E,T){for(var R=null,P=null,k=x,M=x=0,V=null;k!==null&&M<E.length;M++){k.index>M?(V=k,k=null):V=k.sibling;var H=p(_,k,E[M],T);if(H===null){k===null&&(k=V);break}e&&k&&H.alternate===null&&t(_,k),x=s(H,x,M),P===null?R=H:P.sibling=H,P=H,k=V}if(M===E.length)return r(_,k),jt&&yl(_,M),R;if(k===null){for(;M<E.length;M++)k=f(_,E[M],T),k!==null&&(x=s(k,x,M),P===null?R=k:P.sibling=k,P=k);return jt&&yl(_,M),R}for(k=n(_,k);M<E.length;M++)V=m(k,_,M,E[M],T),V!==null&&(e&&V.alternate!==null&&k.delete(V.key===null?M:V.key),x=s(V,x,M),P===null?R=V:P.sibling=V,P=V);return e&&k.forEach(function(X){return t(_,X)}),jt&&yl(_,M),R}function v(_,x,E,T){var R=Kf(E);if(typeof R!="function")throw Error(le(150));if(E=R.call(E),E==null)throw Error(le(151));for(var P=R=null,k=x,M=x=0,V=null,H=E.next();k!==null&&!H.done;M++,H=E.next()){k.index>M?(V=k,k=null):V=k.sibling;var X=p(_,k,H.value,T);if(X===null){k===null&&(k=V);break}e&&k&&X.alternate===null&&t(_,k),x=s(X,x,M),P===null?R=X:P.sibling=X,P=X,k=V}if(H.done)return r(_,k),jt&&yl(_,M),R;if(k===null){for(;!H.done;M++,H=E.next())H=f(_,H.value,T),H!==null&&(x=s(H,x,M),P===null?R=H:P.sibling=H,P=H);return jt&&yl(_,M),R}for(k=n(_,k);!H.done;M++,H=E.next())H=m(k,_,M,H.value,T),H!==null&&(e&&H.alternate!==null&&k.delete(H.key===null?M:H.key),x=s(H,x,M),P===null?R=H:P.sibling=H,P=H);return e&&k.forEach(function(Q){return t(_,Q)}),jt&&yl(_,M),R}function w(_,x,E,T){if(typeof E=="object"&&E!==null&&E.type===eh&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Hg:e:{for(var R=E.key,P=x;P!==null;){if(P.key===R){if(R=E.type,R===eh){if(P.tag===7){r(_,P.sibling),x=i(P,E.props.children),x.return=_,_=x;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===La&&_N(R)===P.type){r(_,P.sibling),x=i(P,E.props),x.ref=Sp(_,P,E),x.return=_,_=x;break e}r(_,P);break}else t(_,P);P=P.sibling}E.type===eh?(x=Sl(E.props.children,_.mode,T,E.key),x.return=_,_=x):(T=Vv(E.type,E.key,E.props,null,_.mode,T),T.ref=Sp(_,x,E),T.return=_,_=T)}return o(_);case Jc:e:{for(P=E.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){r(_,x.sibling),x=i(x,E.children||[]),x.return=_,_=x;break e}else{r(_,x);break}else t(_,x);x=x.sibling}x=mS(E,_.mode,T),x.return=_,_=x}return o(_);case La:return P=E._init,w(_,x,P(E._payload),T)}if(Jf(E))return y(_,x,E,T);if(Kf(E))return v(_,x,E,T);Tv(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(r(_,x.sibling),x=i(x,E),x.return=_,_=x):(r(_,x),x=pS(E,_.mode,T),x.return=_,_=x),o(_)):r(_,x)}return w}var _h=bN(!0),wN=bN(!1),Ap={},no=Va(Ap),Tp=Va(Ap),Ip=Va(Ap);function vl(e){if(e===Ap)throw Error(le(174));return e}function ME(e,t){switch(At(Ip,t),At(Tp,e),At(no,Ap),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rx(t,e)}Mt(no),At(no,t)}function bh(){Mt(no),Mt(Tp),Mt(Ip)}function xN(e){vl(Ip.current);var t=vl(no.current),r=Rx(t,e.type);t!==r&&(At(Tp,e),At(no,r))}function NE(e){Tp.current===e&&(Mt(no),Mt(Tp))}var qt=Va(0);function Iv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var DE=[];function LE(){for(var e=0;e<DE.length;e++)DE[e]._workInProgressVersionPrimary=null;DE.length=0}var Cv=Xo.ReactCurrentDispatcher,BE=Xo.ReactCurrentBatchConfig,_l=0,Zt=null,yr=null,Tr=null,kv=!1,Cp=!1,kp=0,EW=0;function en(){throw Error(le(321))}function FE(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!os(e[r],t[r]))return!1;return!0}function UE(e,t,r,n,i,s){if(_l=s,Zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cv.current=e===null||e.memoizedState===null?IW:CW,e=r(n,i),Cp){s=0;do{if(Cp=!1,kp=0,25<=s)throw Error(le(301));s+=1,Tr=yr=null,t.updateQueue=null,Cv.current=kW,e=r(n,i)}while(Cp)}if(Cv.current=Rv,t=yr!==null&&yr.next!==null,_l=0,Tr=yr=Zt=null,kv=!1,t)throw Error(le(300));return e}function jE(){var e=kp!==0;return kp=0,e}function io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Zt.memoizedState=Tr=e:Tr=Tr.next=e,Tr}function Ti(){if(yr===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=yr.next;var t=Tr===null?Zt.memoizedState:Tr.next;if(t!==null)Tr=t,yr=e;else{if(e===null)throw Error(le(310));yr=e,e={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Tr===null?Zt.memoizedState=Tr=e:Tr=Tr.next=e}return Tr}function Op(e,t){return typeof t=="function"?t(e):t}function zE(e){var t=Ti(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=yr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var h=l.lane;if((_l&h)===h)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:e(n,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=n):u=u.next=f,Zt.lanes|=h,bl|=h}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,os(n,t.memoizedState)||(jn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Zt.lanes|=s,bl|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function HE(e){var t=Ti(),r=t.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);os(s,t.memoizedState)||(jn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function EN(){}function SN(e,t){var r=Zt,n=Ti(),i=t(),s=!os(n.memoizedState,i);if(s&&(n.memoizedState=i,jn=!0),n=n.queue,GE(IN.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Tr!==null&&Tr.memoizedState.tag&1){if(r.flags|=2048,Pp(9,TN.bind(null,r,n,i,t),void 0,null),Ir===null)throw Error(le(349));_l&30||AN(r,t,i)}return i}function AN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function TN(e,t,r,n){t.value=r,t.getSnapshot=n,CN(t)&&kN(e)}function IN(e,t,r){return r(function(){CN(t)&&kN(e)})}function CN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!os(e,r)}catch{return!0}}function kN(e){var t=ea(e,1);t!==null&&hs(t,e,1,-1)}function ON(e){var t=io();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:e},t.queue=e,e=e.dispatch=TW.bind(null,Zt,e),[t.memoizedState,e]}function Pp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function PN(){return Ti().memoizedState}function Ov(e,t,r,n){var i=io();Zt.flags|=e,i.memoizedState=Pp(1|t,r,void 0,n===void 0?null:n)}function Pv(e,t,r,n){var i=Ti();n=n===void 0?null:n;var s=void 0;if(yr!==null){var o=yr.memoizedState;if(s=o.destroy,n!==null&&FE(n,o.deps)){i.memoizedState=Pp(t,r,s,n);return}}Zt.flags|=e,i.memoizedState=Pp(1|t,r,s,n)}function RN(e,t){return Ov(8390656,8,e,t)}function GE(e,t){return Pv(2048,8,e,t)}function MN(e,t){return Pv(4,2,e,t)}function NN(e,t){return Pv(4,4,e,t)}function DN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function LN(e,t,r){return r=r!=null?r.concat([e]):null,Pv(4,4,DN.bind(null,t,e),r)}function $E(){}function BN(e,t){var r=Ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&FE(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function FN(e,t){var r=Ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&FE(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function UN(e,t,r){return _l&21?(os(r,t)||(r=hM(),Zt.lanes|=r,bl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jn=!0),e.memoizedState=r)}function SW(e,t){var r=bt;bt=r!==0&&4>r?r:4,e(!0);var n=BE.transition;BE.transition={};try{e(!1),t()}finally{bt=r,BE.transition=n}}function jN(){return Ti().memoizedState}function AW(e,t,r){var n=Ja(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zN(e))HN(t,r);else if(r=hN(e,t,r,n),r!==null){var i=bn();hs(r,e,n,i),GN(r,t,n)}}function TW(e,t,r){var n=Ja(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zN(e))HN(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,os(a,o)){var u=t.interleaved;u===null?(i.next=i,kE(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}r=hN(e,t,i,n),r!==null&&(i=bn(),hs(r,e,n,i),GN(r,t,n))}}function zN(e){var t=e.alternate;return e===Zt||t!==null&&t===Zt}function HN(e,t){Cp=kv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function GN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$x(e,r)}}var Rv={readContext:Ai,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},IW={readContext:Ai,useCallback:function(e,t){return io().memoizedState=[e,t===void 0?null:t],e},useContext:Ai,useEffect:RN,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ov(4194308,4,DN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ov(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ov(4,2,e,t)},useMemo:function(e,t){var r=io();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=io();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=AW.bind(null,Zt,e),[n.memoizedState,e]},useRef:function(e){var t=io();return e={current:e},t.memoizedState=e},useState:ON,useDebugValue:$E,useDeferredValue:function(e){return io().memoizedState=e},useTransition:function(){var e=ON(!1),t=e[0];return e=SW.bind(null,e[1]),io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Zt,i=io();if(jt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=t(),Ir===null)throw Error(le(349));_l&30||AN(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,RN(IN.bind(null,n,s,e),[e]),n.flags|=2048,Pp(9,TN.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=io(),t=Ir.identifierPrefix;if(jt){var r=Jo,n=Qo;r=(n&~(1<<32-ss(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=kp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=EW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CW={readContext:Ai,useCallback:BN,useContext:Ai,useEffect:GE,useImperativeHandle:LN,useInsertionEffect:MN,useLayoutEffect:NN,useMemo:FN,useReducer:zE,useRef:PN,useState:function(){return zE(Op)},useDebugValue:$E,useDeferredValue:function(e){var t=Ti();return UN(t,yr.memoizedState,e)},useTransition:function(){var e=zE(Op)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:EN,useSyncExternalStore:SN,useId:jN,unstable_isNewReconciler:!1},kW={readContext:Ai,useCallback:BN,useContext:Ai,useEffect:GE,useImperativeHandle:LN,useInsertionEffect:MN,useLayoutEffect:NN,useMemo:FN,useReducer:HE,useRef:PN,useState:function(){return HE(Op)},useDebugValue:$E,useDeferredValue:function(e){var t=Ti();return yr===null?t.memoizedState=e:UN(t,yr.memoizedState,e)},useTransition:function(){var e=HE(Op)[0],t=Ti().memoizedState;return[e,t]},useMutableSource:EN,useSyncExternalStore:SN,useId:jN,unstable_isNewReconciler:!1};function wh(e,t){try{var r="",n=t;do r+=nV(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function VE(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function WE(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var OW=typeof WeakMap=="function"?WeakMap:Map;function $N(e,t,r){r=ta(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Uv||(Uv=!0,oS=n),WE(e,t)},r}function VN(e,t,r){r=ta(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){WE(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){WE(e,t),typeof n!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function WN(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new OW;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=$W.bind(null,e,t,r),t.then(e,e))}function qN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZN(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ta(-1,1),t.tag=2,Xa(r,t,1))),r.lanes|=1),e)}var PW=Xo.ReactCurrentOwner,jn=!1;function _n(e,t,r,n){t.child=e===null?wN(t,null,r,n):_h(t,e.child,r,n)}function XN(e,t,r,n,i){r=r.render;var s=t.ref;return vh(t,i),n=UE(e,t,r,n,s,i),r=jE(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i)):(jt&&r&&bE(t),t.flags|=1,_n(e,t,n,i),t.child)}function YN(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!fS(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,KN(e,t,s,n,i)):(e=Vv(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:gp,r(o,n)&&e.ref===t.ref)return ra(e,t,i)}return t.flags|=1,e=tu(s,n),e.ref=t.ref,e.return=t,t.child=e}function KN(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(gp(s,n)&&e.ref===t.ref)if(jn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(jn=!0);else return t.lanes=e.lanes,ra(e,t,i)}return qE(e,t,r,n,i)}function QN(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(Eh,oi),oi|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,At(Eh,oi),oi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,At(Eh,oi),oi|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,At(Eh,oi),oi|=n;return _n(e,t,i,r),t.child}function JN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qE(e,t,r,n,i){var s=Un(r)?pl:Jr.current;return s=fh(t,s),vh(t,i),r=UE(e,t,r,n,s,i),n=jE(),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ra(e,t,i)):(jt&&n&&bE(t),t.flags|=1,_n(e,t,r,i),t.child)}function eD(e,t,r,n,i){if(Un(r)){var s=!0;yv(t)}else s=!1;if(vh(t,i),t.stateNode===null)Nv(e,t),gN(t,r,n),RE(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Ai(l):(l=Un(r)?pl:Jr.current,l=fh(t,l));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&vN(t,o,n,l),Za=!1;var p=t.memoizedState;o.state=p,Sv(t,n,o,i),u=t.memoizedState,a!==n||p!==u||Fn.current||Za?(typeof h=="function"&&(PE(t,r,h,n),u=t.memoizedState),(a=Za||yN(t,r,a,n,p,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,dN(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:us(t.type,a),o.props=l,f=t.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ai(u):(u=Un(r)?pl:Jr.current,u=fh(t,u));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&vN(t,o,n,u),Za=!1,p=t.memoizedState,o.state=p,Sv(t,n,o,i);var y=t.memoizedState;a!==f||p!==y||Fn.current||Za?(typeof m=="function"&&(PE(t,r,m,n),y=t.memoizedState),(l=Za||yN(t,r,l,n,p,y,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return ZE(e,t,r,n,s,i)}function ZE(e,t,r,n,i,s){JN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&iN(t,r,!1),ra(e,t,s);n=t.stateNode,PW.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=_h(t,e.child,null,s),t.child=_h(t,null,a,s)):_n(e,t,a,s),t.memoizedState=n.state,i&&iN(t,r,!0),t.child}function tD(e){var t=e.stateNode;t.pendingContext?rN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rN(e,t.context,!1),ME(e,t.containerInfo)}function rD(e,t,r,n,i){return yh(),SE(i),t.flags|=256,_n(e,t,r,n),t.child}var XE={dehydrated:null,treeContext:null,retryLane:0};function YE(e){return{baseLanes:e,cachePool:null,transitions:null}}function nD(e,t,r){var n=t.pendingProps,i=qt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),At(qt,i&1),e===null)return EE(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wv(o,n,0,null),e=Sl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=YE(r),t.memoizedState=XE,e):KE(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RW(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=tu(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=tu(a,s):(s=Sl(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?YE(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=XE,n}return s=e.child,e=s.sibling,n=tu(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function KE(e,t){return t=Wv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mv(e,t,r,n){return n!==null&&SE(n),_h(t,e.child,null,r),e=KE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RW(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=VE(Error(le(422))),Mv(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Wv({mode:"visible",children:n.children},i,0,null),s=Sl(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&_h(t,e.child,null,o),t.child.memoizedState=YE(o),t.memoizedState=XE,s);if(!(t.mode&1))return Mv(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(le(419)),n=VE(s,n,void 0),Mv(e,t,o,n)}if(a=(o&e.childLanes)!==0,jn||a){if(n=Ir,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ea(e,i),hs(n,e,i,-1))}return dS(),n=VE(Error(le(421))),Mv(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=VW.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,si=$a(i.nextSibling),ii=t,jt=!0,as=null,e!==null&&(Ei[Si++]=Qo,Ei[Si++]=Jo,Ei[Si++]=ml,Qo=e.id,Jo=e.overflow,ml=t),t=KE(t,n.children),t.flags|=4096,t)}function iD(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),CE(e.return,t,r)}function QE(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function sD(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(_n(e,t,n.children,r),n=qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iD(e,r,t);else if(e.tag===19)iD(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(At(qt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Iv(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),QE(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Iv(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}QE(t,!0,r,null,s);break;case"together":QE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ra(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,r=tu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function MW(e,t,r){switch(t.tag){case 3:tD(t),yh();break;case 5:xN(t);break;case 1:Un(t.type)&&yv(t);break;case 4:ME(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;At(wv,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(At(qt,qt.current&1),t.flags|=128,null):r&t.child.childLanes?nD(e,t,r):(At(qt,qt.current&1),e=ra(e,t,r),e!==null?e.sibling:null);At(qt,qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return sD(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(qt,qt.current),n)break;return null;case 22:case 23:return t.lanes=0,QN(e,t,r)}return ra(e,t,r)}var oD,JE,aD,uD;oD=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},JE=function(){},aD=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,vl(no.current);var s=null;switch(r){case"input":i=Cx(e,i),n=Cx(e,n),s=[];break;case"select":i=Wt({},i,{value:void 0}),n=Wt({},n,{value:void 0}),s=[];break;case"textarea":i=Px(e,i),n=Px(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fv)}Mx(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Yf.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i==null?void 0:i[l],n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Yf.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Rt("scroll",e),s||a===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},uD=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rp(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NW(e,t,r){var n=t.pendingProps;switch(wE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(t),null;case 1:return Un(t.type)&&mv(),tn(t),null;case 3:return n=t.stateNode,bh(),Mt(Fn),Mt(Jr),LE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,as!==null&&(lS(as),as=null))),JE(e,t),tn(t),null;case 5:NE(t);var i=vl(Ip.current);if(r=t.type,e!==null&&t.stateNode!=null)aD(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(le(166));return tn(t),null}if(e=vl(no.current),bv(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ro]=t,n[xp]=s,e=(t.mode&1)!==0,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(i=0;i<_p.length;i++)Rt(_p[i],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":zR(n,s),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Rt("invalid",n);break;case"textarea":$R(n,s),Rt("invalid",n)}Mx(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&dv(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dv(n.textContent,a,e),i=["children",""+a]):Yf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Rt("scroll",n)}switch(r){case"input":Gg(n),GR(n,s,!0);break;case"textarea":Gg(n),WR(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fv)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ro]=t,e[xp]=n,oD(e,t,!1,!1),t.stateNode=e;e:{switch(o=Nx(r,n),r){case"dialog":Rt("cancel",e),Rt("close",e),i=n;break;case"iframe":case"object":case"embed":Rt("load",e),i=n;break;case"video":case"audio":for(i=0;i<_p.length;i++)Rt(_p[i],e);i=n;break;case"source":Rt("error",e),i=n;break;case"img":case"image":case"link":Rt("error",e),Rt("load",e),i=n;break;case"details":Rt("toggle",e),i=n;break;case"input":zR(e,n),i=Cx(e,n),Rt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Wt({},n,{value:void 0}),Rt("invalid",e);break;case"textarea":$R(e,n),i=Px(e,n),Rt("invalid",e);break;default:i=n}Mx(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?YR(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ZR(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ep(e,u):typeof u=="number"&&ep(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yf.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Rt("scroll",e):u!=null&&gx(e,s,u,o))}switch(r){case"input":Gg(e),GR(e,n,!1);break;case"textarea":Gg(e),WR(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ba(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?th(e,!!n.multiple,s,!1):n.defaultValue!=null&&th(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tn(t),null;case 6:if(e&&t.stateNode!=null)uD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(le(166));if(r=vl(Ip.current),vl(no.current),bv(t)){if(n=t.stateNode,r=t.memoizedProps,n[ro]=t,(s=n.nodeValue!==r)&&(e=ii,e!==null))switch(e.tag){case 3:dv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dv(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ro]=t,t.stateNode=n}return tn(t),null;case 13:if(Mt(qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&si!==null&&t.mode&1&&!(t.flags&128))cN(),yh(),t.flags|=98560,s=!1;else if(s=bv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[ro]=t}else yh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tn(t),s=!1}else as!==null&&(lS(as),as=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||qt.current&1?gr===0&&(gr=3):dS())),t.updateQueue!==null&&(t.flags|=4),tn(t),null);case 4:return bh(),JE(e,t),e===null&&bp(t.stateNode.containerInfo),tn(t),null;case 10:return IE(t.type._context),tn(t),null;case 17:return Un(t.type)&&mv(),tn(t),null;case 19:if(Mt(qt),s=t.memoizedState,s===null)return tn(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Rp(s,!1);else{if(gr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Iv(e),o!==null){for(t.flags|=128,Rp(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return At(qt,qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&ir()>Sh&&(t.flags|=128,n=!0,Rp(s,!1),t.lanes=4194304)}else{if(!n)if(e=Iv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jt)return tn(t),null}else 2*ir()-s.renderingStartTime>Sh&&r!==1073741824&&(t.flags|=128,n=!0,Rp(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ir(),t.sibling=null,r=qt.current,At(qt,n?r&1|2:r&1),t):(tn(t),null);case 22:case 23:return hS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?oi&1073741824&&(tn(t),t.subtreeFlags&6&&(t.flags|=8192)):tn(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function DW(e,t){switch(wE(t),t.tag){case 1:return Un(t.type)&&mv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bh(),Mt(Fn),Mt(Jr),LE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return NE(t),null;case 13:if(Mt(qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));yh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Mt(qt),null;case 4:return bh(),null;case 10:return IE(t.type._context),null;case 22:case 23:return hS(),null;case 24:return null;default:return null}}var Dv=!1,rn=!1,LW=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function xh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jt(e,t,n)}else r.current=null}function lD(e,t,r){try{r()}catch(n){Jt(e,t,n)}}var cD=!1;function BW(e,t){if(dE=tv,e=jM(),iE(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,h=0,f=e,p=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++l===i&&(a=o),p===s&&++h===n&&(u=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(fE={focusedElem:e,selectionRange:r},tv=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,_=t.stateNode,x=_.getSnapshotBeforeUpdate(t.elementType===t.type?v:us(t.type,v),w);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(T){Jt(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return y=cD,cD=!1,y}function Mp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&lD(t,r,s)}i=i.next}while(i!==n)}}function Lv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function eS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hD(e){var t=e.alternate;t!==null&&(e.alternate=null,hD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ro],delete t[xp],delete t[gE],delete t[_W],delete t[bW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dD(e){return e.tag===5||e.tag===3||e.tag===4}function fD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fv));else if(n!==4&&(e=e.child,e!==null))for(tS(e,t,r),e=e.sibling;e!==null;)tS(e,t,r),e=e.sibling}function rS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(rS(e,t,r),e=e.sibling;e!==null;)rS(e,t,r),e=e.sibling}var jr=null,ls=!1;function Ya(e,t,r){for(r=r.child;r!==null;)pD(e,t,r),r=r.sibling}function pD(e,t,r){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(Xg,r)}catch{}switch(r.tag){case 5:rn||xh(r,t);case 6:var n=jr,i=ls;jr=null,Ya(e,t,r),jr=n,ls=i,jr!==null&&(ls?(e=jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):jr.removeChild(r.stateNode));break;case 18:jr!==null&&(ls?(e=jr,r=r.stateNode,e.nodeType===8?yE(e.parentNode,r):e.nodeType===1&&yE(e,r),hp(e)):yE(jr,r.stateNode));break;case 4:n=jr,i=ls,jr=r.stateNode.containerInfo,ls=!0,Ya(e,t,r),jr=n,ls=i;break;case 0:case 11:case 14:case 15:if(!rn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lD(r,t,o),i=i.next}while(i!==n)}Ya(e,t,r);break;case 1:if(!rn&&(xh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Jt(r,t,a)}Ya(e,t,r);break;case 21:Ya(e,t,r);break;case 22:r.mode&1?(rn=(n=rn)||r.memoizedState!==null,Ya(e,t,r),rn=n):Ya(e,t,r);break;default:Ya(e,t,r)}}function mD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LW),t.forEach(function(n){var i=WW.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function cs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:jr=a.stateNode,ls=!1;break e;case 3:jr=a.stateNode.containerInfo,ls=!0;break e;case 4:jr=a.stateNode.containerInfo,ls=!0;break e}a=a.return}if(jr===null)throw Error(le(160));pD(s,o,i),jr=null,ls=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Jt(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yD(t,e),t=t.sibling}function yD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cs(t,e),so(e),n&4){try{Mp(3,e,e.return),Lv(3,e)}catch(v){Jt(e,e.return,v)}try{Mp(5,e,e.return)}catch(v){Jt(e,e.return,v)}}break;case 1:cs(t,e),so(e),n&512&&r!==null&&xh(r,r.return);break;case 5:if(cs(t,e),so(e),n&512&&r!==null&&xh(r,r.return),e.flags&32){var i=e.stateNode;try{ep(i,"")}catch(v){Jt(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&HR(i,s),Nx(a,o);var l=Nx(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?YR(i,f):h==="dangerouslySetInnerHTML"?ZR(i,f):h==="children"?ep(i,f):gx(i,h,f,l)}switch(a){case"input":kx(i,s);break;case"textarea":VR(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?th(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?th(i,!!s.multiple,s.defaultValue,!0):th(i,!!s.multiple,s.multiple?[]:"",!1))}i[xp]=s}catch(v){Jt(e,e.return,v)}}break;case 6:if(cs(t,e),so(e),n&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){Jt(e,e.return,v)}}break;case 3:if(cs(t,e),so(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hp(t.containerInfo)}catch(v){Jt(e,e.return,v)}break;case 4:cs(t,e),so(e);break;case 13:cs(t,e),so(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sS=ir())),n&4&&mD(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(rn=(l=rn)||h,cs(t,e),rn=l):cs(t,e),so(e),n&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!h&&e.mode&1)for(Ae=e,h=e.child;h!==null;){for(f=Ae=h;Ae!==null;){switch(p=Ae,m=p.child,p.tag){case 0:case 11:case 14:case 15:Mp(4,p,p.return);break;case 1:xh(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Jt(n,r,v)}}break;case 5:xh(p,p.return);break;case 22:if(p.memoizedState!==null){_D(f);continue}}m!==null?(m.return=p,Ae=m):_D(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=XR("display",o))}catch(v){Jt(e,e.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){Jt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cs(t,e),so(e),n&4&&mD(e);break;case 21:break;default:cs(t,e),so(e)}}function so(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dD(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ep(i,""),n.flags&=-33);var s=fD(e);rS(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=fD(e);tS(e,a,o);break;default:throw Error(le(161))}}catch(u){Jt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FW(e,t,r){Ae=e,gD(e)}function gD(e,t,r){for(var n=(e.mode&1)!==0;Ae!==null;){var i=Ae,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Dv;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||rn;a=Dv;var l=rn;if(Dv=o,(rn=u)&&!l)for(Ae=i;Ae!==null;)o=Ae,u=o.child,o.tag===22&&o.memoizedState!==null?bD(i):u!==null?(u.return=o,Ae=u):bD(i);for(;s!==null;)Ae=s,gD(s),s=s.sibling;Ae=i,Dv=a,rn=l}vD(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ae=s):vD(e)}}function vD(e){for(;Ae!==null;){var t=Ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rn||Lv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:us(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&pN(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pN(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var h=l.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&hp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}rn||t.flags&512&&eS(t)}catch(p){Jt(t,t.return,p)}}if(t===e){Ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function _D(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ae=r;break}Ae=t.return}}function bD(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Lv(4,t)}catch(u){Jt(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(u){Jt(t,i,u)}}var s=t.return;try{eS(t)}catch(u){Jt(t,s,u)}break;case 5:var o=t.return;try{eS(t)}catch(u){Jt(t,o,u)}}}catch(u){Jt(t,t.return,u)}if(t===e){Ae=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ae=a;break}Ae=t.return}}var UW=Math.ceil,Bv=Xo.ReactCurrentDispatcher,nS=Xo.ReactCurrentOwner,Ii=Xo.ReactCurrentBatchConfig,ht=0,Ir=null,cr=null,zr=0,oi=0,Eh=Va(0),gr=0,Np=null,bl=0,Fv=0,iS=0,Dp=null,zn=null,sS=0,Sh=1/0,na=null,Uv=!1,oS=null,Ka=null,jv=!1,Qa=null,zv=0,Lp=0,aS=null,Hv=-1,Gv=0;function bn(){return ht&6?ir():Hv!==-1?Hv:Hv=ir()}function Ja(e){return e.mode&1?ht&2&&zr!==0?zr&-zr:xW.transition!==null?(Gv===0&&(Gv=hM()),Gv):(e=bt,e!==0||(e=window.event,e=e===void 0?16:bM(e.type)),e):1}function hs(e,t,r,n){if(50<Lp)throw Lp=0,aS=null,Error(le(185));op(e,r,n),(!(ht&2)||e!==Ir)&&(e===Ir&&(!(ht&2)&&(Fv|=r),gr===4&&eu(e,zr)),Hn(e,n),r===1&&ht===0&&!(t.mode&1)&&(Sh=ir()+500,gv&&qa()))}function Hn(e,t){var r=e.callbackNode;xV(e,t);var n=Qg(e,e===Ir?zr:0);if(n===0)r!==null&&uM(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&uM(r),t===1)e.tag===0?wW(xD.bind(null,e)):sN(xD.bind(null,e)),gW(function(){!(ht&6)&&qa()}),r=null;else{switch(dM(n)){case 1:r=zx;break;case 4:r=lM;break;case 16:r=Zg;break;case 536870912:r=cM;break;default:r=Zg}r=OD(r,wD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wD(e,t){if(Hv=-1,Gv=0,ht&6)throw Error(le(327));var r=e.callbackNode;if(Ah()&&e.callbackNode!==r)return null;var n=Qg(e,e===Ir?zr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$v(e,n);else{t=n;var i=ht;ht|=2;var s=SD();(Ir!==e||zr!==t)&&(na=null,Sh=ir()+500,xl(e,t));do try{HW();break}catch(a){ED(e,a)}while(1);TE(),Bv.current=s,ht=i,cr!==null?t=0:(Ir=null,zr=0,t=gr)}if(t!==0){if(t===2&&(i=Hx(e),i!==0&&(n=i,t=uS(e,i))),t===1)throw r=Np,xl(e,0),eu(e,n),Hn(e,ir()),r;if(t===6)eu(e,n);else{if(i=e.current.alternate,!(n&30)&&!jW(i)&&(t=$v(e,n),t===2&&(s=Hx(e),s!==0&&(n=s,t=uS(e,s))),t===1))throw r=Np,xl(e,0),eu(e,n),Hn(e,ir()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:El(e,zn,na);break;case 3:if(eu(e,n),(n&130023424)===n&&(t=sS+500-ir(),10<t)){if(Qg(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){bn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mE(El.bind(null,e,zn,na),t);break}El(e,zn,na);break;case 4:if(eu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-ss(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ir()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UW(n/1960))-n,10<n){e.timeoutHandle=mE(El.bind(null,e,zn,na),n);break}El(e,zn,na);break;case 5:El(e,zn,na);break;default:throw Error(le(329))}}}return Hn(e,ir()),e.callbackNode===r?wD.bind(null,e):null}function uS(e,t){var r=Dp;return e.current.memoizedState.isDehydrated&&(xl(e,t).flags|=256),e=$v(e,t),e!==2&&(t=zn,zn=r,t!==null&&lS(t)),e}function lS(e){zn===null?zn=e:zn.push.apply(zn,e)}function jW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!os(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t){for(t&=~iS,t&=~Fv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ss(t),n=1<<r;e[r]=-1,t&=~n}}function xD(e){if(ht&6)throw Error(le(327));Ah();var t=Qg(e,0);if(!(t&1))return Hn(e,ir()),null;var r=$v(e,t);if(e.tag!==0&&r===2){var n=Hx(e);n!==0&&(t=n,r=uS(e,n))}if(r===1)throw r=Np,xl(e,0),eu(e,t),Hn(e,ir()),r;if(r===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,zn,na),Hn(e,ir()),null}function cS(e,t){var r=ht;ht|=1;try{return e(t)}finally{ht=r,ht===0&&(Sh=ir()+500,gv&&qa())}}function wl(e){Qa!==null&&Qa.tag===0&&!(ht&6)&&Ah();var t=ht;ht|=1;var r=Ii.transition,n=bt;try{if(Ii.transition=null,bt=1,e)return e()}finally{bt=n,Ii.transition=r,ht=t,!(ht&6)&&qa()}}function hS(){oi=Eh.current,Mt(Eh)}function xl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yW(r)),cr!==null)for(r=cr.return;r!==null;){var n=r;switch(wE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mv();break;case 3:bh(),Mt(Fn),Mt(Jr),LE();break;case 5:NE(n);break;case 4:bh();break;case 13:Mt(qt);break;case 19:Mt(qt);break;case 10:IE(n.type._context);break;case 22:case 23:hS()}r=r.return}if(Ir=e,cr=e=tu(e.current,null),zr=oi=t,gr=0,Np=null,iS=Fv=bl=0,zn=Dp=null,gl!==null){for(t=0;t<gl.length;t++)if(r=gl[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}gl=null}return e}function ED(e,t){do{var r=cr;try{if(TE(),Cv.current=Rv,kv){for(var n=Zt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}kv=!1}if(_l=0,Tr=yr=Zt=null,Cp=!1,kp=0,nS.current=null,r===null||r.return===null){gr=1,Np=t,cr=null;break}e:{var s=e,o=r.return,a=r,u=t;if(t=zr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=qN(o);if(m!==null){m.flags&=-257,ZN(m,o,a,s,t),m.mode&1&&WN(s,l,t),t=m,u=l;var y=t.updateQueue;if(y===null){var v=new Set;v.add(u),t.updateQueue=v}else y.add(u);break e}else{if(!(t&1)){WN(s,l,t),dS();break e}u=Error(le(426))}}else if(jt&&a.mode&1){var w=qN(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ZN(w,o,a,s,t),SE(wh(u,a));break e}}s=u=wh(u,a),gr!==4&&(gr=2),Dp===null?Dp=[s]:Dp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=$N(s,u,t);fN(s,_);break e;case 1:a=u;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ka===null||!Ka.has(E)))){s.flags|=65536,t&=-t,s.lanes|=t;var T=VN(s,a,t);fN(s,T);break e}}s=s.return}while(s!==null)}TD(r)}catch(R){t=R,cr===r&&r!==null&&(cr=r=r.return);continue}break}while(1)}function SD(){var e=Bv.current;return Bv.current=Rv,e===null?Rv:e}function dS(){(gr===0||gr===3||gr===2)&&(gr=4),Ir===null||!(bl&268435455)&&!(Fv&268435455)||eu(Ir,zr)}function $v(e,t){var r=ht;ht|=2;var n=SD();(Ir!==e||zr!==t)&&(na=null,xl(e,t));do try{zW();break}catch(i){ED(e,i)}while(1);if(TE(),ht=r,Bv.current=n,cr!==null)throw Error(le(261));return Ir=null,zr=0,gr}function zW(){for(;cr!==null;)AD(cr)}function HW(){for(;cr!==null&&!fV();)AD(cr)}function AD(e){var t=kD(e.alternate,e,oi);e.memoizedProps=e.pendingProps,t===null?TD(e):cr=t,nS.current=null}function TD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=DW(r,t),r!==null){r.flags&=32767,cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gr=6,cr=null;return}}else if(r=NW(r,t,oi),r!==null){cr=r;return}if(t=t.sibling,t!==null){cr=t;return}cr=t=e}while(t!==null);gr===0&&(gr=5)}function El(e,t,r){var n=bt,i=Ii.transition;try{Ii.transition=null,bt=1,GW(e,t,r,n)}finally{Ii.transition=i,bt=n}return null}function GW(e,t,r,n){do Ah();while(Qa!==null);if(ht&6)throw Error(le(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(EV(e,s),e===Ir&&(cr=Ir=null,zr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||jv||(jv=!0,OD(Zg,function(){return Ah(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ii.transition,Ii.transition=null;var o=bt;bt=1;var a=ht;ht|=4,nS.current=null,BW(e,r),yD(r,e),lW(fE),tv=!!dE,fE=dE=null,e.current=r,FW(r),pV(),ht=a,bt=o,Ii.transition=s}else e.current=r;if(jv&&(jv=!1,Qa=e,zv=i),s=e.pendingLanes,s===0&&(Ka=null),gV(r.stateNode),Hn(e,ir()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uv)throw Uv=!1,e=oS,oS=null,e;return zv&1&&e.tag!==0&&Ah(),s=e.pendingLanes,s&1?e===aS?Lp++:(Lp=0,aS=e):Lp=0,qa(),null}function Ah(){if(Qa!==null){var e=dM(zv),t=Ii.transition,r=bt;try{if(Ii.transition=null,bt=16>e?16:e,Qa===null)var n=!1;else{if(e=Qa,Qa=null,zv=0,ht&6)throw Error(le(331));var i=ht;for(ht|=4,Ae=e.current;Ae!==null;){var s=Ae,o=s.child;if(Ae.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ae=l;Ae!==null;){var h=Ae;switch(h.tag){case 0:case 11:case 15:Mp(8,h,s)}var f=h.child;if(f!==null)f.return=h,Ae=f;else for(;Ae!==null;){h=Ae;var p=h.sibling,m=h.return;if(hD(h),h===l){Ae=null;break}if(p!==null){p.return=m,Ae=p;break}Ae=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ae=o;else e:for(;Ae!==null;){if(s=Ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mp(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Ae=_;break e}Ae=s.return}}var x=e.current;for(Ae=x;Ae!==null;){o=Ae;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Ae=E;else e:for(o=x;Ae!==null;){if(a=Ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lv(9,a)}}catch(R){Jt(a,a.return,R)}if(a===o){Ae=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ae=T;break e}Ae=a.return}}if(ht=i,qa(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(Xg,e)}catch{}n=!0}return n}finally{bt=r,Ii.transition=t}}return!1}function ID(e,t,r){t=wh(r,t),t=$N(e,t,1),e=Xa(e,t,1),t=bn(),e!==null&&(op(e,1,t),Hn(e,t))}function Jt(e,t,r){if(e.tag===3)ID(e,e,r);else for(;t!==null;){if(t.tag===3){ID(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ka===null||!Ka.has(n))){e=wh(r,e),e=VN(t,e,1),t=Xa(t,e,1),e=bn(),t!==null&&(op(t,1,e),Hn(t,e));break}}t=t.return}}function $W(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&r,Ir===e&&(zr&r)===r&&(gr===4||gr===3&&(zr&130023424)===zr&&500>ir()-sS?xl(e,0):iS|=r),Hn(e,t)}function CD(e,t){t===0&&(e.mode&1?(t=Kg,Kg<<=1,!(Kg&130023424)&&(Kg=4194304)):t=1);var r=bn();e=ea(e,t),e!==null&&(op(e,t,r),Hn(e,r))}function VW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),CD(e,r)}function WW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(t),CD(e,r)}var kD;kD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)jn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return jn=!1,MW(e,t,r);jn=!!(e.flags&131072)}else jn=!1,jt&&t.flags&1048576&&oN(t,_v,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Nv(e,t),e=t.pendingProps;var i=fh(t,Jr.current);vh(t,r),i=UE(null,t,n,e,i,r);var s=jE();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Un(n)?(s=!0,yv(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OE(t),i.updater=Av,t.stateNode=i,i._reactInternals=t,RE(t,n,e,r),t=ZE(null,t,n,!0,s,r)):(t.tag=0,jt&&s&&bE(t),_n(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Nv(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=ZW(n),e=us(n,e),i){case 0:t=qE(null,t,n,e,r);break e;case 1:t=eD(null,t,n,e,r);break e;case 11:t=XN(null,t,n,e,r);break e;case 14:t=YN(null,t,n,us(n.type,e),r);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:us(n,i),qE(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:us(n,i),eD(e,t,n,i,r);case 3:e:{if(tD(t),e===null)throw Error(le(387));n=t.pendingProps,s=t.memoizedState,i=s.element,dN(e,t),Sv(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=wh(Error(le(423)),t),t=rD(e,t,n,r,i);break e}else if(n!==i){i=wh(Error(le(424)),t),t=rD(e,t,n,r,i);break e}else for(si=$a(t.stateNode.containerInfo.firstChild),ii=t,jt=!0,as=null,r=wN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yh(),n===i){t=ra(e,t,r);break e}_n(e,t,n,r)}t=t.child}return t;case 5:return xN(t),e===null&&EE(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,pE(n,i)?o=null:s!==null&&pE(n,s)&&(t.flags|=32),JN(e,t),_n(e,t,o,r),t.child;case 6:return e===null&&EE(t),null;case 13:return nD(e,t,r);case 4:return ME(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_h(t,null,n,r):_n(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:us(n,i),XN(e,t,n,i,r);case 7:return _n(e,t,t.pendingProps,r),t.child;case 8:return _n(e,t,t.pendingProps.children,r),t.child;case 12:return _n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,At(wv,n._currentValue),n._currentValue=o,s!==null)if(os(s.value,o)){if(s.children===i.children&&!Fn.current){t=ra(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=ta(-1,r&-r),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),CE(s.return,r,t),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),CE(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,vh(t,r),i=Ai(i),n=n(i),t.flags|=1,_n(e,t,n,r),t.child;case 14:return n=t.type,i=us(n,t.pendingProps),i=us(n.type,i),YN(e,t,n,i,r);case 15:return KN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:us(n,i),Nv(e,t),t.tag=1,Un(n)?(e=!0,yv(t)):e=!1,vh(t,r),gN(t,n,i),RE(t,n,i,r),ZE(null,t,n,!0,e,r);case 19:return sD(e,t,r);case 22:return QN(e,t,r)}throw Error(le(156,t.tag))};function OD(e,t){return aM(e,t)}function qW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ci(e,t,r,n){return new qW(e,t,r,n)}function fS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZW(e){if(typeof e=="function")return fS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bx)return 11;if(e===Ex)return 14}return 2}function tu(e,t){var r=e.alternate;return r===null?(r=Ci(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vv(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")fS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case eh:return Sl(r.children,i,s,t);case vx:o=8,i|=8;break;case _x:return e=Ci(12,r,t,i|2),e.elementType=_x,e.lanes=s,e;case wx:return e=Ci(13,r,t,i),e.elementType=wx,e.lanes=s,e;case xx:return e=Ci(19,r,t,i),e.elementType=xx,e.lanes=s,e;case BR:return Wv(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case DR:o=10;break e;case LR:o=9;break e;case bx:o=11;break e;case Ex:o=14;break e;case La:o=16,n=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=Ci(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Sl(e,t,r,n){return e=Ci(7,e,n,t),e.lanes=r,e}function Wv(e,t,r,n){return e=Ci(22,e,n,t),e.elementType=BR,e.lanes=r,e.stateNode={isHidden:!1},e}function pS(e,t,r){return e=Ci(6,e,null,t),e.lanes=r,e}function mS(e,t,r){return t=Ci(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XW(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gx(0),this.expirationTimes=Gx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function yS(e,t,r,n,i,s,o,a,u){return e=new XW(e,t,r,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ci(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},OE(s),e}function YW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function PD(e){if(!e)return Wa;e=e._reactInternals;e:{if(dl(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var r=e.type;if(Un(r))return nN(e,r,t)}return t}function RD(e,t,r,n,i,s,o,a,u){return e=yS(r,n,!0,e,i,s,o,a,u),e.context=PD(null),r=e.current,n=bn(),i=Ja(r),s=ta(n,i),s.callback=t??null,Xa(r,s,i),e.current.lanes=i,op(e,i,n),Hn(e,n),e}function qv(e,t,r,n){var i=t.current,s=bn(),o=Ja(i);return r=PD(r),t.context===null?t.context=r:t.pendingContext=r,t=ta(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xa(i,t,o),e!==null&&(hs(e,i,o,s),Ev(e,i,o)),o}function Zv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function MD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gS(e,t){MD(e,t),(e=e.alternate)&&MD(e,t)}function KW(){return null}var ND=typeof reportError=="function"?reportError:function(e){console.error(e)};function vS(e){this._internalRoot=e}Xv.prototype.render=vS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));qv(e,t,null,null)},Xv.prototype.unmount=vS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wl(function(){qv(null,e,null,null)}),t[Yo]=null}};function Xv(e){this._internalRoot=e}Xv.prototype.unstable_scheduleHydration=function(e){if(e){var t=mM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<za.length&&t!==0&&t<za[r].priority;r++);za.splice(r,0,e),r===0&&vM(e)}};function _S(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function DD(){}function QW(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=Zv(o);s.call(l)}}var o=RD(t,n,e,0,null,!1,!1,"",DD);return e._reactRootContainer=o,e[Yo]=o.current,bp(e.nodeType===8?e.parentNode:e),wl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=Zv(u);a.call(l)}}var u=yS(e,0,!1,null,null,!1,!1,"",DD);return e._reactRootContainer=u,e[Yo]=u.current,bp(e.nodeType===8?e.parentNode:e),wl(function(){qv(t,u,r,n)}),u}function Kv(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Zv(o);a.call(u)}}qv(t,o,e,i)}else o=QW(r,t,e,i,n);return Zv(o)}fM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sp(t.pendingLanes);r!==0&&($x(t,r|1),Hn(t,ir()),!(ht&6)&&(Sh=ir()+500,qa()))}break;case 13:wl(function(){var n=ea(e,1);if(n!==null){var i=bn();hs(n,e,1,i)}}),gS(e,1)}},Vx=function(e){if(e.tag===13){var t=ea(e,134217728);if(t!==null){var r=bn();hs(t,e,134217728,r)}gS(e,134217728)}},pM=function(e){if(e.tag===13){var t=Ja(e),r=ea(e,t);if(r!==null){var n=bn();hs(r,e,t,n)}gS(e,t)}},mM=function(){return bt},yM=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Bx=function(e,t,r){switch(t){case"input":if(kx(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=pv(n);if(!i)throw Error(le(90));jR(n),kx(n,i)}}}break;case"textarea":VR(e,r);break;case"select":t=r.value,t!=null&&th(e,!!r.multiple,t,!1)}},eM=cS,tM=wl;var JW={usingClientEntryPoint:!1,Events:[Ep,hh,pv,QR,JR,cS]},Bp={findFiberByHostInstance:fl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},eq={bundleType:Bp.bundleType,version:Bp.version,rendererPackageName:Bp.rendererPackageName,rendererConfig:Bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sM(e),e===null?null:e.stateNode},findFiberByHostInstance:Bp.findFiberByHostInstance||KW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qv.isDisabled&&Qv.supportsFiber)try{Xg=Qv.inject(eq),to=Qv}catch{}}ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JW,ti.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_S(t))throw Error(le(200));return YW(e,t,null,r)},ti.createRoot=function(e,t){if(!_S(e))throw Error(le(299));var r=!1,n="",i=ND;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=yS(e,1,!1,null,null,r,!1,n,i),e[Yo]=t.current,bp(e.nodeType===8?e.parentNode:e),new vS(t)},ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=sM(t),e=e===null?null:e.stateNode,e},ti.flushSync=function(e){return wl(e)},ti.hydrate=function(e,t,r){if(!Yv(t))throw Error(le(200));return Kv(null,e,t,!0,r)},ti.hydrateRoot=function(e,t,r){if(!_S(e))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=ND;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=RD(t,null,e,1,r??null,i,!1,s,o),e[Yo]=t.current,bp(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Xv(t)},ti.render=function(e,t,r){if(!Yv(t))throw Error(le(200));return Kv(null,e,t,!1,r)},ti.unmountComponentAtNode=function(e){if(!Yv(e))throw Error(le(40));return e._reactRootContainer?(wl(function(){Kv(null,null,e,!1,function(){e._reactRootContainer=null,e[Yo]=null})}),!0):!1},ti.unstable_batchedUpdates=cS,ti.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yv(r))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Kv(e,t,r,!1,n)},ti.version="18.2.0-next-9e3b772b8-20220608";function LD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LD)}catch(e){console.error(e)}}LD(),CR.exports=ti;var BD=CR.exports,FD=BD;fx.createRoot=FD.createRoot,fx.hydrateRoot=FD.hydrateRoot;var bS={exports:{}},Al={},UD={exports:{}},tq="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rq=tq,nq=rq;function jD(){}function zD(){}zD.resetWarningCache=jD;var iq=function(){function e(n,i,s,o,a,u){if(u!==nq){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zD,resetWarningCache:jD};return r.PropTypes=r,r};UD.exports=iq();var wS=UD.exports;const Nt=nr(wS);var xS={exports:{}},ds={},ES={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var r="none",n="contents",i=/input|select|textarea|button|object|iframe/;function s(f,p){return p.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function o(f){var p=f.offsetWidth<=0&&f.offsetHeight<=0;if(p&&!f.innerHTML)return!0;try{var m=window.getComputedStyle(f),y=m.getPropertyValue("display");return p?y!==n&&s(f,m):y===r}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var p=f,m=f.getRootNode&&f.getRootNode();p&&p!==document.body;){if(m&&p===m&&(p=m.host.parentNode),o(p))return!1;p=p.parentNode}return!0}function u(f,p){var m=f.nodeName.toLowerCase(),y=i.test(m)&&!f.disabled||m==="a"&&f.href||p;return y&&a(f)}function l(f){var p=f.getAttribute("tabindex");p===null&&(p=void 0);var m=isNaN(p);return(m||p>=0)&&u(f,!m)}function h(f){var p=[].slice.call(f.querySelectorAll("*"),0).reduce(function(m,y){return m.concat(y.shadowRoot?h(y.shadowRoot):[y])},[]);return p.filter(l)}e.exports=t.default})(ES,ES.exports);var HD=ES.exports;Object.defineProperty(ds,"__esModule",{value:!0}),ds.resetState=uq,ds.log=lq,ds.handleBlur=Fp,ds.handleFocus=Up,ds.markForFocusLater=cq,ds.returnFocus=hq,ds.popWithoutFocus=dq,ds.setupScopedFocus=fq,ds.teardownScopedFocus=pq;var sq=HD,oq=aq(sq);function aq(e){return e&&e.__esModule?e:{default:e}}var Th=[],Ih=null,SS=!1;function uq(){Th=[]}function lq(){}function Fp(){SS=!0}function Up(){if(SS){if(SS=!1,!Ih)return;setTimeout(function(){if(!Ih.contains(document.activeElement)){var e=(0,oq.default)(Ih)[0]||Ih;e.focus()}},0)}}function cq(){Th.push(document.activeElement)}function hq(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Th.length!==0&&(t=Th.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function dq(){Th.length>0&&Th.pop()}function fq(e){Ih=e,window.addEventListener?(window.addEventListener("blur",Fp,!1),document.addEventListener("focus",Up,!0)):(window.attachEvent("onBlur",Fp),document.attachEvent("onFocus",Up))}function pq(){Ih=null,window.addEventListener?(window.removeEventListener("blur",Fp),document.removeEventListener("focus",Up)):(window.detachEvent("onBlur",Fp),document.detachEvent("onFocus",Up))}var AS={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=HD,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var l=(0,n.default)(a);if(!l.length){u.preventDefault();return}var h=void 0,f=u.shiftKey,p=l[0],m=l[l.length-1],y=s();if(a===y){if(!f)return;h=m}if(m===y&&!f&&(h=p),p===y&&f&&(h=m),h){u.preventDefault(),h.focus();return}var v=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=v!=null&&v[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var _=l.indexOf(y);if(_>-1&&(_+=f?-1:1),h=l[_],typeof h>"u"){u.preventDefault(),h=f?m:p,h.focus();return}u.preventDefault(),h.focus()}}e.exports=t.default})(AS,AS.exports);var mq=AS.exports,fs={},yq=function(){},gq=yq,ps={},GD={exports:{}};(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=r:window.ExecutionEnvironment=r})()})(GD);var vq=GD.exports;Object.defineProperty(ps,"__esModule",{value:!0}),ps.canUseDOM=ps.SafeNodeList=ps.SafeHTMLCollection=void 0;var _q=vq,bq=wq(_q);function wq(e){return e&&e.__esModule?e:{default:e}}var Jv=bq.default,xq=Jv.canUseDOM?window.HTMLElement:{};ps.SafeHTMLCollection=Jv.canUseDOM?window.HTMLCollection:{},ps.SafeNodeList=Jv.canUseDOM?window.NodeList:{},ps.canUseDOM=Jv.canUseDOM,ps.default=xq,Object.defineProperty(fs,"__esModule",{value:!0}),fs.resetState=Iq,fs.log=Cq,fs.assertNodeList=$D,fs.setElement=kq,fs.validateElement=TS,fs.hide=Oq,fs.show=Pq,fs.documentNotReadyOrSSRTesting=Rq;var Eq=gq,Sq=Tq(Eq),Aq=ps;function Tq(e){return e&&e.__esModule?e:{default:e}}var ki=null;function Iq(){ki&&(ki.removeAttribute?ki.removeAttribute("aria-hidden"):ki.length!=null?ki.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(ki).forEach(function(e){return e.removeAttribute("aria-hidden")})),ki=null}function Cq(){}function $D(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function kq(e){var t=e;if(typeof t=="string"&&Aq.canUseDOM){var r=document.querySelectorAll(t);$D(r,t),t=r}return ki=t||ki,ki}function TS(e){var t=e||ki;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Sq.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Oq(e){var t=!0,r=!1,n=void 0;try{for(var i=TS(e)[Symbol.iterator](),s;!(t=(s=i.next()).done);t=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){r=!0,n=a}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}function Pq(e){var t=!0,r=!1,n=void 0;try{for(var i=TS(e)[Symbol.iterator](),s;!(t=(s=i.next()).done);t=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){r=!0,n=a}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}function Rq(){ki=null}var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0}),Ch.resetState=Mq,Ch.log=Nq;var jp={},zp={};function VD(e,t){e.classList.remove(t)}function Mq(){var e=document.getElementsByTagName("html")[0];for(var t in jp)VD(e,jp[t]);var r=document.body;for(var n in zp)VD(r,zp[n]);jp={},zp={}}function Nq(){}var Dq=function(e,t){return e[t]||(e[t]=0),e[t]+=1,t},Lq=function(e,t){return e[t]&&(e[t]-=1),t},Bq=function(e,t,r){r.forEach(function(n){Dq(t,n),e.add(n)})},Fq=function(e,t,r){r.forEach(function(n){Lq(t,n),t[n]===0&&e.remove(n)})};Ch.add=function(e,t){return Bq(e.classList,e.nodeName.toLowerCase()=="html"?jp:zp,t.split(" "))},Ch.remove=function(e,t){return Fq(e.classList,e.nodeName.toLowerCase()=="html"?jp:zp,t.split(" "))};var kh={};Object.defineProperty(kh,"__esModule",{value:!0}),kh.log=jq,kh.resetState=zq;function Uq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var WD=function e(){var t=this;Uq(this,e),this.register=function(r){t.openInstances.indexOf(r)===-1&&(t.openInstances.push(r),t.emit("register"))},this.deregister=function(r){var n=t.openInstances.indexOf(r);n!==-1&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(r){t.subscribers.push(r)},this.emit=function(r){t.subscribers.forEach(function(n){return n(r,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},e_=new WD;function jq(){console.log("portalOpenInstances ----------"),console.log(e_.openInstances.length),e_.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function zq(){e_=new WD}kh.default=e_;var IS={};Object.defineProperty(IS,"__esModule",{value:!0}),IS.resetState=Vq,IS.log=Wq;var Hq=kh,Gq=$q(Hq);function $q(e){return e&&e.__esModule?e:{default:e}}var nn=void 0,ms=void 0,Tl=[];function Vq(){for(var e=[nn,ms],t=0;t<e.length;t++){var r=e[t];r&&r.parentNode&&r.parentNode.removeChild(r)}nn=ms=null,Tl=[]}function Wq(){console.log("bodyTrap ----------"),console.log(Tl.length);for(var e=[nn,ms],t=0;t<e.length;t++){var r=e[t],n=r||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function qD(){Tl.length!==0&&Tl[Tl.length-1].focusContent()}function qq(e,t){!nn&&!ms&&(nn=document.createElement("div"),nn.setAttribute("data-react-modal-body-trap",""),nn.style.position="absolute",nn.style.opacity="0",nn.setAttribute("tabindex","0"),nn.addEventListener("focus",qD),ms=nn.cloneNode(),ms.addEventListener("focus",qD)),Tl=t,Tl.length>0?(document.body.firstChild!==nn&&document.body.insertBefore(nn,document.body.firstChild),document.body.lastChild!==ms&&document.body.appendChild(ms)):(nn.parentElement&&nn.parentElement.removeChild(nn),ms.parentElement&&ms.parentElement.removeChild(ms))}Gq.default.subscribe(qq),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(G){for(var O=1;O<arguments.length;O++){var D=arguments[O];for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(G[L]=D[L])}return G},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},i=function(){function G(O,D){for(var L=0;L<D.length;L++){var N=D[L];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}}return function(O,D,L){return D&&G(O.prototype,D),L&&G(O,L),O}}(),s=Ie,o=wS,a=R(o),u=ds,l=T(u),h=mq,f=R(h),p=fs,m=T(p),y=Ch,v=T(y),w=ps,_=R(w),x=kh,E=R(x);function T(G){if(G&&G.__esModule)return G;var O={};if(G!=null)for(var D in G)Object.prototype.hasOwnProperty.call(G,D)&&(O[D]=G[D]);return O.default=G,O}function R(G){return G&&G.__esModule?G:{default:G}}function P(G,O){if(!(G instanceof O))throw new TypeError("Cannot call a class as a function")}function k(G,O){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:G}function M(G,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);G.prototype=Object.create(O&&O.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(G,O):G.__proto__=O)}var V={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},H=function(G){return G.code==="Tab"||G.keyCode===9},X=function(G){return G.code==="Escape"||G.keyCode===27},Q=0,W=function(G){M(O,G);function O(D){P(this,O);var L=k(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,D));return L.setOverlayRef=function(N){L.overlay=N,L.props.overlayRef&&L.props.overlayRef(N)},L.setContentRef=function(N){L.content=N,L.props.contentRef&&L.props.contentRef(N)},L.afterClose=function(){var N=L.props,z=N.appElement,U=N.ariaHideApp,q=N.htmlOpenClassName,J=N.bodyOpenClassName,pe=N.parentSelector,fe=pe&&pe().ownerDocument||document;J&&v.remove(fe.body,J),q&&v.remove(fe.getElementsByTagName("html")[0],q),U&&Q>0&&(Q-=1,Q===0&&m.show(z)),L.props.shouldFocusAfterRender&&(L.props.shouldReturnFocusAfterClose?(l.returnFocus(L.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),L.props.onAfterClose&&L.props.onAfterClose(),E.default.deregister(L)},L.open=function(){L.beforeOpen(),L.state.afterOpen&&L.state.beforeClose?(clearTimeout(L.closeTimer),L.setState({beforeClose:!1})):(L.props.shouldFocusAfterRender&&(l.setupScopedFocus(L.node),l.markForFocusLater()),L.setState({isOpen:!0},function(){L.openAnimationFrame=requestAnimationFrame(function(){L.setState({afterOpen:!0}),L.props.isOpen&&L.props.onAfterOpen&&L.props.onAfterOpen({overlayEl:L.overlay,contentEl:L.content})})}))},L.close=function(){L.props.closeTimeoutMS>0?L.closeWithTimeout():L.closeWithoutTimeout()},L.focusContent=function(){return L.content&&!L.contentHasFocus()&&L.content.focus({preventScroll:!0})},L.closeWithTimeout=function(){var N=Date.now()+L.props.closeTimeoutMS;L.setState({beforeClose:!0,closesAt:N},function(){L.closeTimer=setTimeout(L.closeWithoutTimeout,L.state.closesAt-Date.now())})},L.closeWithoutTimeout=function(){L.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},L.afterClose)},L.handleKeyDown=function(N){H(N)&&(0,f.default)(L.content,N),L.props.shouldCloseOnEsc&&X(N)&&(N.stopPropagation(),L.requestClose(N))},L.handleOverlayOnClick=function(N){L.shouldClose===null&&(L.shouldClose=!0),L.shouldClose&&L.props.shouldCloseOnOverlayClick&&(L.ownerHandlesClose()?L.requestClose(N):L.focusContent()),L.shouldClose=null},L.handleContentOnMouseUp=function(){L.shouldClose=!1},L.handleOverlayOnMouseDown=function(N){!L.props.shouldCloseOnOverlayClick&&N.target==L.overlay&&N.preventDefault()},L.handleContentOnClick=function(){L.shouldClose=!1},L.handleContentOnMouseDown=function(){L.shouldClose=!1},L.requestClose=function(N){return L.ownerHandlesClose()&&L.props.onRequestClose(N)},L.ownerHandlesClose=function(){return L.props.onRequestClose},L.shouldBeClosed=function(){return!L.state.isOpen&&!L.state.beforeClose},L.contentHasFocus=function(){return document.activeElement===L.content||L.content.contains(document.activeElement)},L.buildClassName=function(N,z){var U=(typeof z>"u"?"undefined":n(z))==="object"?z:{base:V[N],afterOpen:V[N]+"--after-open",beforeClose:V[N]+"--before-close"},q=U.base;return L.state.afterOpen&&(q=q+" "+U.afterOpen),L.state.beforeClose&&(q=q+" "+U.beforeClose),typeof z=="string"&&z?q+" "+z:q},L.attributesFromObject=function(N,z){return Object.keys(z).reduce(function(U,q){return U[N+"-"+q]=z[q],U},{})},L.state={afterOpen:!1,beforeClose:!1},L.shouldClose=null,L.moveFromContentToOverlay=null,L}return i(O,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(D,L){this.props.isOpen&&!D.isOpen?this.open():!this.props.isOpen&&D.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!L.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var D=this.props,L=D.appElement,N=D.ariaHideApp,z=D.htmlOpenClassName,U=D.bodyOpenClassName,q=D.parentSelector,J=q&&q().ownerDocument||document;U&&v.add(J.body,U),z&&v.add(J.getElementsByTagName("html")[0],z),N&&(Q+=1,m.hide(L)),E.default.register(this)}},{key:"render",value:function(){var D=this.props,L=D.id,N=D.className,z=D.overlayClassName,U=D.defaultStyles,q=D.children,J=N?{}:U.content,pe=z?{}:U.overlay;if(this.shouldBeClosed())return null;var fe={ref:this.setOverlayRef,className:this.buildClassName("overlay",z),style:r({},pe,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ne=r({id:L,ref:this.setContentRef,style:r({},J,this.props.style.content),className:this.buildClassName("content",N),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),we=this.props.contentElement(Ne,q);return this.props.overlayElement(fe,we)}}]),O}(s.Component);W.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},W.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(_.default),a.default.instanceOf(w.SafeHTMLCollection),a.default.instanceOf(w.SafeNodeList),a.default.arrayOf(a.default.instanceOf(_.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=W,e.exports=t.default}(xS,xS.exports);var Zq=xS.exports;function ZD(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function XD(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function YD(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}ZD.__suppressDeprecationWarning=!0,XD.__suppressDeprecationWarning=!0,YD.__suppressDeprecationWarning=!0;function Xq(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,i=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=ZD,t.componentWillReceiveProps=XD),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=YD;var a=t.componentDidUpdate;t.componentDidUpdate=function(u,l,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;a.call(this,u,l,f)}}return e}const Yq=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Xq},Symbol.toStringTag,{value:"Module"})),Kq=ei(Yq);Object.defineProperty(Al,"__esModule",{value:!0}),Al.bodyOpenClassName=Al.portalClassName=void 0;var KD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qq=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),QD=Ie,t_=Hp(QD),Jq=BD,r_=Hp(Jq),eZ=wS,We=Hp(eZ),tZ=Zq,JD=Hp(tZ),rZ=fs,nZ=sZ(rZ),ru=ps,e3=Hp(ru),iZ=Kq;function sZ(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Hp(e){return e&&e.__esModule?e:{default:e}}function oZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t3(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function aZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var uZ=Al.portalClassName="ReactModalPortal",lZ=Al.bodyOpenClassName="ReactModal__Body--open",Il=ru.canUseDOM&&r_.default.createPortal!==void 0,r3=function(e){return document.createElement(e)},n3=function(){return Il?r_.default.createPortal:r_.default.unstable_renderSubtreeIntoContainer};function n_(e){return e()}var Gp=function(e){aZ(t,e);function t(){var r,n,i,s;oZ(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(n=(i=t3(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(a))),i),i.removePortal=function(){!Il&&r_.default.unmountComponentAtNode(i.node);var l=n_(i.props.parentSelector);l&&l.contains(i.node)?l.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(l){i.portal=l},i.renderPortal=function(l){var h=n3(),f=h(i,t_.default.createElement(JD.default,KD({defaultStyles:t.defaultStyles},l)),i.node);i.portalRef(f)},n),t3(i,s)}return Qq(t,[{key:"componentDidMount",value:function(){if(ru.canUseDOM){Il||(this.node=r3("div")),this.node.className=this.props.portalClassName;var r=n_(this.props.parentSelector);r.appendChild(this.node),!Il&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var n=n_(r.parentSelector),i=n_(this.props.parentSelector);return{prevParent:n,nextParent:i}}},{key:"componentDidUpdate",value:function(r,n,i){if(ru.canUseDOM){var s=this.props,o=s.isOpen,a=s.portalClassName;r.portalClassName!==a&&(this.node.className=a);var u=i.prevParent,l=i.nextParent;l!==u&&(u.removeChild(this.node),l.appendChild(this.node)),!(!r.isOpen&&!o)&&!Il&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ru.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,n=Date.now(),i=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||n+this.props.closeTimeoutMS);i?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-n)):this.removePortal()}}},{key:"render",value:function(){if(!ru.canUseDOM||!Il)return null;!this.node&&Il&&(this.node=r3("div"));var r=n3();return r(t_.default.createElement(JD.default,KD({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){nZ.setElement(r)}}]),t}(QD.Component);Gp.propTypes={isOpen:We.default.bool.isRequired,style:We.default.shape({content:We.default.object,overlay:We.default.object}),portalClassName:We.default.string,bodyOpenClassName:We.default.string,htmlOpenClassName:We.default.string,className:We.default.oneOfType([We.default.string,We.default.shape({base:We.default.string.isRequired,afterOpen:We.default.string.isRequired,beforeClose:We.default.string.isRequired})]),overlayClassName:We.default.oneOfType([We.default.string,We.default.shape({base:We.default.string.isRequired,afterOpen:We.default.string.isRequired,beforeClose:We.default.string.isRequired})]),appElement:We.default.oneOfType([We.default.instanceOf(e3.default),We.default.instanceOf(ru.SafeHTMLCollection),We.default.instanceOf(ru.SafeNodeList),We.default.arrayOf(We.default.instanceOf(e3.default))]),onAfterOpen:We.default.func,onRequestClose:We.default.func,closeTimeoutMS:We.default.number,ariaHideApp:We.default.bool,shouldFocusAfterRender:We.default.bool,shouldCloseOnOverlayClick:We.default.bool,shouldReturnFocusAfterClose:We.default.bool,preventScroll:We.default.bool,parentSelector:We.default.func,aria:We.default.object,data:We.default.object,role:We.default.string,contentLabel:We.default.string,shouldCloseOnEsc:We.default.bool,overlayRef:We.default.func,contentRef:We.default.func,id:We.default.string,overlayElement:We.default.func,contentElement:We.default.func},Gp.defaultProps={isOpen:!1,portalClassName:uZ,bodyOpenClassName:lZ,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return t_.default.createElement("div",e,t)},contentElement:function(e,t){return t_.default.createElement("div",e,t)}},Gp.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,iZ.polyfill)(Gp),Al.default=Gp,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Al,n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}t.default=n.default,e.exports=t.default}(bS,bS.exports);var cZ=bS.exports;const hZ=nr(cZ);var i3={exports:{}},Cl=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(Cl||{}),s3=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(s3||{}),CS=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(CS||{}),Ue=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(Ue||{}),ys=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(ys||{}),ce=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(ce||{}),Oh=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(Oh||{}),Le=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(Le||{}),_e=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(_e||{}),gs=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(gs||{}),ia=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(ia||{}),oo=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(oo||{}),Gn=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(Gn||{}),ao=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(ao||{}),kS=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(kS||{}),Oi=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(Oi||{}),vr=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(vr||{}),hr=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(hr||{}),uo=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(uo||{});const dZ={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")},be={ADAPTER:dZ,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var OS=/iPhone/i,o3=/iPod/i,a3=/iPad/i,u3=/\biOS-universal(?:.+)Mac\b/i,PS=/\bAndroid(?:.+)Mobile\b/i,l3=/Android/i,Ph=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,i_=/Silk/i,sa=/Windows Phone/i,c3=/\bWindows(?:.+)ARM\b/i,h3=/BlackBerry/i,d3=/BB10/i,f3=/Opera Mini/i,p3=/\b(CriOS|Chrome)(?:.+)Mobile/i,m3=/Mobile(?:.+)Firefox\b/i,y3=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function fZ(e){return function(t){return t.test(e)}}function g3(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=fZ(r),s={apple:{phone:i(OS)&&!i(sa),ipod:i(o3),tablet:!i(OS)&&(i(a3)||y3(t))&&!i(sa),universal:i(u3),device:(i(OS)||i(o3)||i(a3)||i(u3)||y3(t))&&!i(sa)},amazon:{phone:i(Ph),tablet:!i(Ph)&&i(i_),device:i(Ph)||i(i_)},android:{phone:!i(sa)&&i(Ph)||!i(sa)&&i(PS),tablet:!i(sa)&&!i(Ph)&&!i(PS)&&(i(i_)||i(l3)),device:!i(sa)&&(i(Ph)||i(i_)||i(PS)||i(l3))||i(/\bokhttp\b/i)},windows:{phone:i(sa),tablet:i(c3),device:i(sa)||i(c3)},other:{blackberry:i(h3),blackberry10:i(d3),opera:i(f3),firefox:i(m3),chrome:i(p3),device:i(h3)||i(d3)||i(f3)||i(m3)||i(p3)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const pZ=g3.default??g3,oa=pZ(globalThis.navigator);be.RETINA_PREFIX=/@([0-9\.]+)x/,be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var v3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,h){this.fn=u,this.context=l,this.once=h||!1}function s(u,l,h,f,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,f||u,p),y=r?r+l:l;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],m]:u._events[y].push(m):(u._events[y]=m,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,h;if(this._eventsCount===0)return u;for(h in l=this._events)t.call(l,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=r?r+u:u,h=this._events[l];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(u){var l=r?r+u:u,h=this._events[l];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,l,h,f,p,m){var y=r?r+u:u;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,_,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,l),!0;case 3:return v.fn.call(v.context,l,h),!0;case 4:return v.fn.call(v.context,l,h,f),!0;case 5:return v.fn.call(v.context,l,h,f,p),!0;case 6:return v.fn.call(v.context,l,h,f,p,m),!0}for(x=1,_=new Array(w-1);x<w;x++)_[x-1]=arguments[x];v.fn.apply(v.context,_)}else{var E=v.length,T;for(x=0;x<E;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),w){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,l);break;case 3:v[x].fn.call(v[x].context,l,h);break;case 4:v[x].fn.call(v[x].context,l,h,f);break;default:if(!_)for(T=1,_=new Array(w-1);T<w;T++)_[T-1]=arguments[T];v[x].fn.apply(v[x].context,_)}}return!0},a.prototype.on=function(u,l,h){return s(this,u,l,h,!1)},a.prototype.once=function(u,l,h){return s(this,u,l,h,!0)},a.prototype.removeListener=function(u,l,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===l&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var y=0,v=[],w=m.length;y<w;y++)(m[y].fn!==l||f&&!m[y].once||h&&m[y].context!==h)&&v.push(m[y]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=r?r+u:u,this._events[l]&&o(this,l)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a})(v3);var mZ=v3.exports;const $p=nr(mZ);var RS={exports:{}};RS.exports=s_,RS.exports.default=s_;function s_(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,s=_3(e,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,l,h,f,p,m;if(n&&(s=bZ(e,t,s,r)),e.length>80*r){a=l=e[0],u=h=e[1];for(var y=r;y<i;y+=r)f=e[y],p=e[y+1],f<a&&(a=f),p<u&&(u=p),f>l&&(l=f),p>h&&(h=p);m=Math.max(l-a,h-u),m=m!==0?32767/m:0}return Vp(s,o,r,a,u,m,0),o}function _3(e,t,r,n,i){var s,o;if(i===DS(e,t,r,n)>0)for(s=t;s<r;s+=n)o=x3(s,e[s],e[s+1],o);else for(s=r-n;s>=t;s-=n)o=x3(s,e[s],e[s+1],o);return o&&o_(o,o.next)&&(qp(o),o=o.next),o}function kl(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(o_(r,r.next)||Xt(r.prev,r,r.next)===0)){if(qp(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function Vp(e,t,r,n,i,s,o){if(e){!o&&s&&AZ(e,n,i,s);for(var a=e,u,l;e.prev!==e.next;){if(u=e.prev,l=e.next,s?gZ(e,n,i,s):yZ(e)){t.push(u.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),qp(e),e=l.next,a=l.next;continue}if(e=l,e===a){o?o===1?(e=vZ(kl(e),t,r),Vp(e,t,r,n,i,s,2)):o===2&&_Z(e,t,r,n,i,s):Vp(kl(e),t,r,n,i,s,1);break}}}}function yZ(e){var t=e.prev,r=e,n=e.next;if(Xt(t,r,n)>=0)return!1;for(var i=t.x,s=r.x,o=n.x,a=t.y,u=r.y,l=n.y,h=i<s?i<o?i:o:s<o?s:o,f=a<u?a<l?a:l:u<l?u:l,p=i>s?i>o?i:o:s>o?s:o,m=a>u?a>l?a:l:u>l?u:l,y=n.next;y!==t;){if(y.x>=h&&y.x<=p&&y.y>=f&&y.y<=m&&Rh(i,a,s,u,o,l,y.x,y.y)&&Xt(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function gZ(e,t,r,n){var i=e.prev,s=e,o=e.next;if(Xt(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,l=o.x,h=i.y,f=s.y,p=o.y,m=a<u?a<l?a:l:u<l?u:l,y=h<f?h<p?h:p:f<p?f:p,v=a>u?a>l?a:l:u>l?u:l,w=h>f?h>p?h:p:f>p?f:p,_=MS(m,y,t,r,n),x=MS(v,w,t,r,n),E=e.prevZ,T=e.nextZ;E&&E.z>=_&&T&&T.z<=x;){if(E.x>=m&&E.x<=v&&E.y>=y&&E.y<=w&&E!==i&&E!==o&&Rh(a,h,u,f,l,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0||(E=E.prevZ,T.x>=m&&T.x<=v&&T.y>=y&&T.y<=w&&T!==i&&T!==o&&Rh(a,h,u,f,l,p,T.x,T.y)&&Xt(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;E&&E.z>=_;){if(E.x>=m&&E.x<=v&&E.y>=y&&E.y<=w&&E!==i&&E!==o&&Rh(a,h,u,f,l,p,E.x,E.y)&&Xt(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;T&&T.z<=x;){if(T.x>=m&&T.x<=v&&T.y>=y&&T.y<=w&&T!==i&&T!==o&&Rh(a,h,u,f,l,p,T.x,T.y)&&Xt(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function vZ(e,t,r){var n=e;do{var i=n.prev,s=n.next.next;!o_(i,s)&&b3(i,n,n.next,s)&&Wp(i,s)&&Wp(s,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(s.i/r|0),qp(n),qp(n.next),n=e=s),n=n.next}while(n!==e);return kl(n)}function _Z(e,t,r,n,i,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&CZ(o,a)){var u=w3(o,a);o=kl(o,o.next),u=kl(u,u.next),Vp(o,t,r,n,i,s,0),Vp(u,t,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==e)}function bZ(e,t,r,n){var i=[],s,o,a,u,l;for(s=0,o=t.length;s<o;s++)a=t[s]*n,u=s<o-1?t[s+1]*n:e.length,l=_3(e,a,u,n,!1),l===l.next&&(l.steiner=!0),i.push(IZ(l));for(i.sort(wZ),s=0;s<i.length;s++)r=xZ(i[s],r);return r}function wZ(e,t){return e.x-t.x}function xZ(e,t){var r=EZ(e,t);if(!r)return t;var n=w3(r,e);return kl(n,n.next),kl(r,r.next)}function EZ(e,t){var r=t,n=e.x,i=e.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==t);if(!o)return null;var u=o,l=o.x,h=o.y,f=1/0,p;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&Rh(i<h?n:s,i,l,h,i<h?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),Wp(r,e)&&(p<f||p===f&&(r.x>o.x||r.x===o.x&&SZ(o,r)))&&(o=r,f=p)),r=r.next;while(r!==u);return o}function SZ(e,t){return Xt(e.prev,e,t.prev)<0&&Xt(t.next,e,e.next)<0}function AZ(e,t,r,n){var i=e;do i.z===0&&(i.z=MS(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,TZ(i)}function TZ(e){var t,r,n,i,s,o,a,u,l=1;do{for(r=e,e=null,s=null,o=0;r;){for(o++,n=r,a=0,t=0;t<l&&(a++,n=n.nextZ,!!n);t++);for(u=l;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;r=n}s.nextZ=null,l*=2}while(o>1);return e}function MS(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function IZ(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function Rh(e,t,r,n,i,s,o,a){return(i-o)*(t-a)>=(e-o)*(s-a)&&(e-o)*(n-a)>=(r-o)*(t-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function CZ(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!kZ(e,t)&&(Wp(e,t)&&Wp(t,e)&&OZ(e,t)&&(Xt(e.prev,e,t.prev)||Xt(e,t.prev,t))||o_(e,t)&&Xt(e.prev,e,e.next)>0&&Xt(t.prev,t,t.next)>0)}function Xt(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function o_(e,t){return e.x===t.x&&e.y===t.y}function b3(e,t,r,n){var i=u_(Xt(e,t,r)),s=u_(Xt(e,t,n)),o=u_(Xt(r,n,e)),a=u_(Xt(r,n,t));return!!(i!==s&&o!==a||i===0&&a_(e,r,t)||s===0&&a_(e,n,t)||o===0&&a_(r,e,n)||a===0&&a_(r,t,n))}function a_(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function u_(e){return e>0?1:e<0?-1:0}function kZ(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&b3(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function Wp(e,t){return Xt(e.prev,e,e.next)<0?Xt(e,t,e.next)>=0&&Xt(e,e.prev,t)>=0:Xt(e,t,e.prev)<0||Xt(e,e.next,t)<0}function OZ(e,t){var r=e,n=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function w3(e,t){var r=new NS(e.i,e.x,e.y),n=new NS(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function x3(e,t,r,n){var i=new NS(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function qp(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function NS(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s_.deviation=function(e,t,r,n){var i=t&&t.length,s=i?t[0]*r:e.length,o=Math.abs(DS(e,0,s,r));if(i)for(var a=0,u=t.length;a<u;a++){var l=t[a]*r,h=a<u-1?t[a+1]*r:e.length;o-=Math.abs(DS(e,l,h,r))}var f=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,m=n[a+1]*r,y=n[a+2]*r;f+=Math.abs((e[p]-e[y])*(e[m+1]-e[p+1])-(e[p]-e[m])*(e[y+1]-e[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function DS(e,t,r,n){for(var i=0,s=t,o=r-n;s<r;s+=n)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}s_.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)r.vertices.push(e[i][s][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var PZ=RS.exports;const RZ=nr(PZ);var l_={exports:{}};l_.exports,function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,s=typeof Ye=="object"&&Ye;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,l=1,h=26,f=38,p=700,m=72,y=128,v="-",w=/^xn--/,_=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=u-l,R=Math.floor,P=String.fromCharCode,k;function M(U){throw new RangeError(E[U])}function V(U,q){for(var J=U.length,pe=[];J--;)pe[J]=q(U[J]);return pe}function H(U,q){var J=U.split("@"),pe="";J.length>1&&(pe=J[0]+"@",U=J[1]),U=U.replace(x,".");var fe=U.split("."),Ne=V(fe,q).join(".");return pe+Ne}function X(U){for(var q=[],J=0,pe=U.length,fe,Ne;J<pe;)fe=U.charCodeAt(J++),fe>=55296&&fe<=56319&&J<pe?(Ne=U.charCodeAt(J++),(Ne&64512)==56320?q.push(((fe&1023)<<10)+(Ne&1023)+65536):(q.push(fe),J--)):q.push(fe);return q}function Q(U){return V(U,function(q){var J="";return q>65535&&(q-=65536,J+=P(q>>>10&1023|55296),q=56320|q&1023),J+=P(q),J}).join("")}function W(U){return U-48<10?U-22:U-65<26?U-65:U-97<26?U-97:u}function G(U,q){return U+22+75*(U<26)-((q!=0)<<5)}function O(U,q,J){var pe=0;for(U=J?R(U/p):U>>1,U+=R(U/q);U>T*h>>1;pe+=u)U=R(U/T);return R(pe+(T+1)*U/(U+f))}function D(U){var q=[],J=U.length,pe,fe=0,Ne=y,we=m,Ce,lt,Ge,ze,De,ke,Be,st,St;for(Ce=U.lastIndexOf(v),Ce<0&&(Ce=0),lt=0;lt<Ce;++lt)U.charCodeAt(lt)>=128&&M("not-basic"),q.push(U.charCodeAt(lt));for(Ge=Ce>0?Ce+1:0;Ge<J;){for(ze=fe,De=1,ke=u;Ge>=J&&M("invalid-input"),Be=W(U.charCodeAt(Ge++)),(Be>=u||Be>R((a-fe)/De))&&M("overflow"),fe+=Be*De,st=ke<=we?l:ke>=we+h?h:ke-we,!(Be<st);ke+=u)St=u-st,De>R(a/St)&&M("overflow"),De*=St;pe=q.length+1,we=O(fe-ze,pe,ze==0),R(fe/pe)>a-Ne&&M("overflow"),Ne+=R(fe/pe),fe%=pe,q.splice(fe++,0,Ne)}return Q(q)}function L(U){var q,J,pe,fe,Ne,we,Ce,lt,Ge,ze,De,ke=[],Be,st,St,Kt;for(U=X(U),Be=U.length,q=y,J=0,Ne=m,we=0;we<Be;++we)De=U[we],De<128&&ke.push(P(De));for(pe=fe=ke.length,fe&&ke.push(v);pe<Be;){for(Ce=a,we=0;we<Be;++we)De=U[we],De>=q&&De<Ce&&(Ce=De);for(st=pe+1,Ce-q>R((a-J)/st)&&M("overflow"),J+=(Ce-q)*st,q=Ce,we=0;we<Be;++we)if(De=U[we],De<q&&++J>a&&M("overflow"),De==q){for(lt=J,Ge=u;ze=Ge<=Ne?l:Ge>=Ne+h?h:Ge-Ne,!(lt<ze);Ge+=u)Kt=lt-ze,St=u-ze,ke.push(P(G(ze+Kt%St,0))),lt=R(Kt/St);ke.push(P(G(lt,0))),Ne=O(J,st,pe==fe),J=0,++pe}++J,++q}return ke.join("")}function N(U){return H(U,function(q){return w.test(q)?D(q.slice(4).toLowerCase()):q})}function z(U){return H(U,function(q){return _.test(q)?"xn--"+L(q):q})}if(o={version:"1.4.1",ucs2:{decode:X,encode:Q},decode:D,encode:L,toASCII:z,toUnicode:N},n&&i)if(e.exports==n)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(n[k]=o[k]);else r.punycode=o})(Ye)}(l_,l_.exports);var MZ=l_.exports,NZ=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==n||s.enumerable!==!0)return!1}return!0},E3=typeof Symbol<"u"&&Symbol,DZ=NZ,LZ=function(){return typeof E3!="function"||typeof Symbol!="function"||typeof E3("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:DZ()},S3={foo:{}},BZ=Object,FZ=function(){return{__proto__:S3}.foo===S3.foo&&!({__proto__:null}instanceof BZ)},UZ="Function.prototype.bind called on incompatible ",jZ=Object.prototype.toString,zZ=Math.max,HZ="[object Function]",A3=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},GZ=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},$Z=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},VZ=function(e){var t=this;if(typeof t!="function"||jZ.apply(t)!==HZ)throw new TypeError(UZ+t);for(var r=GZ(arguments,1),n,i=function(){if(this instanceof n){var l=t.apply(this,A3(r,arguments));return Object(l)===l?l:this}return t.apply(e,A3(r,arguments))},s=zZ(0,t.length-r.length),o=[],a=0;a<s;a++)o[a]="$"+a;if(n=Function("binder","return function ("+$Z(o,",")+"){ return binder.apply(this,arguments); }")(i),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n},WZ=VZ,LS=Function.prototype.bind||WZ,qZ=Function.prototype.call,ZZ=Object.prototype.hasOwnProperty,XZ=LS,YZ=XZ.call(qZ,ZZ),ot,Mh=SyntaxError,T3=Function,Nh=TypeError,BS=function(e){try{return T3('"use strict"; return ('+e+").constructor;")()}catch{}},Ol=Object.getOwnPropertyDescriptor;if(Ol)try{Ol({},"")}catch{Ol=null}var FS=function(){throw new Nh},KZ=Ol?function(){try{return arguments.callee,FS}catch{try{return Ol(arguments,"callee").get}catch{return FS}}}():FS,Dh=LZ(),QZ=FZ(),Cr=Object.getPrototypeOf||(QZ?function(e){return e.__proto__}:null),Lh={},JZ=typeof Uint8Array>"u"||!Cr?ot:Cr(Uint8Array),Pl={"%AggregateError%":typeof AggregateError>"u"?ot:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ot:ArrayBuffer,"%ArrayIteratorPrototype%":Dh&&Cr?Cr([][Symbol.iterator]()):ot,"%AsyncFromSyncIteratorPrototype%":ot,"%AsyncFunction%":Lh,"%AsyncGenerator%":Lh,"%AsyncGeneratorFunction%":Lh,"%AsyncIteratorPrototype%":Lh,"%Atomics%":typeof Atomics>"u"?ot:Atomics,"%BigInt%":typeof BigInt>"u"?ot:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ot:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ot:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ot:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ot:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ot:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ot:FinalizationRegistry,"%Function%":T3,"%GeneratorFunction%":Lh,"%Int8Array%":typeof Int8Array>"u"?ot:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ot:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ot:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Dh&&Cr?Cr(Cr([][Symbol.iterator]())):ot,"%JSON%":typeof JSON=="object"?JSON:ot,"%Map%":typeof Map>"u"?ot:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Dh||!Cr?ot:Cr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ot:Promise,"%Proxy%":typeof Proxy>"u"?ot:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ot:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ot:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Dh||!Cr?ot:Cr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ot:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Dh&&Cr?Cr(""[Symbol.iterator]()):ot,"%Symbol%":Dh?Symbol:ot,"%SyntaxError%":Mh,"%ThrowTypeError%":KZ,"%TypedArray%":JZ,"%TypeError%":Nh,"%Uint8Array%":typeof Uint8Array>"u"?ot:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ot:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ot:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ot:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ot:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ot:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ot:WeakSet};if(Cr)try{null.error}catch(e){var eX=Cr(Cr(e));Pl["%Error.prototype%"]=eX}var tX=function e(t){var r;if(t==="%AsyncFunction%")r=BS("async function () {}");else if(t==="%GeneratorFunction%")r=BS("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=BS("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Cr&&(r=Cr(i.prototype))}return Pl[t]=r,r},I3={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Zp=LS,c_=YZ,rX=Zp.call(Function.call,Array.prototype.concat),nX=Zp.call(Function.apply,Array.prototype.splice),C3=Zp.call(Function.call,String.prototype.replace),h_=Zp.call(Function.call,String.prototype.slice),iX=Zp.call(Function.call,RegExp.prototype.exec),sX=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oX=/\\(\\)?/g,aX=function(e){var t=h_(e,0,1),r=h_(e,-1);if(t==="%"&&r!=="%")throw new Mh("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Mh("invalid intrinsic syntax, expected opening `%`");var n=[];return C3(e,sX,function(i,s,o,a){n[n.length]=o?C3(a,oX,"$1"):s||i}),n},uX=function(e,t){var r=e,n;if(c_(I3,r)&&(n=I3[r],r="%"+n[0]+"%"),c_(Pl,r)){var i=Pl[r];if(i===Lh&&(i=tX(r)),typeof i>"u"&&!t)throw new Nh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Mh("intrinsic "+e+" does not exist!")},Rl=function(e,t){if(typeof e!="string"||e.length===0)throw new Nh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Nh('"allowMissing" argument must be a boolean');if(iX(/^%?[^%]*%?$/,e)===null)throw new Mh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=aX(e),n=r.length>0?r[0]:"",i=uX("%"+n+"%",t),s=i.name,o=i.value,a=!1,u=i.alias;u&&(n=u[0],nX(r,rX([0,1],u)));for(var l=1,h=!0;l<r.length;l+=1){var f=r[l],p=h_(f,0,1),m=h_(f,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Mh("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(a=!0),n+="."+f,s="%"+n+"%",c_(Pl,s))o=Pl[s];else if(o!=null){if(!(f in o)){if(!t)throw new Nh("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ol&&l+1>=r.length){var y=Ol(o,f);h=!!y,h&&"get"in y&&!("originalValue"in y.get)?o=y.get:o=o[f]}else h=c_(o,f),o=o[f];h&&!a&&(Pl[s]=o)}}return o},k3={exports:{}},lX=Rl,US=lX("%Object.defineProperty%",!0),jS=function(){if(US)try{return US({},"a",{value:1}),!0}catch{return!1}return!1};jS.hasArrayLengthDefineBug=function(){if(!jS())return null;try{return US([],"length",{value:1}).length!==1}catch{return!0}};var O3=jS,cX=Rl,d_=cX("%Object.getOwnPropertyDescriptor%",!0);if(d_)try{d_([],"length")}catch{d_=null}var P3=d_,hX=O3(),zS=Rl,Xp=hX&&zS("%Object.defineProperty%",!0);if(Xp)try{Xp({},"a",{value:1})}catch{Xp=!1}var dX=zS("%SyntaxError%"),Bh=zS("%TypeError%"),R3=P3,fX=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Bh("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Bh("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Bh("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Bh("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Bh("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Bh("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6?arguments[6]:!1,a=!!R3&&R3(e,t);if(Xp)Xp(e,t,{configurable:s===null&&a?a.configurable:!s,enumerable:n===null&&a?a.enumerable:!n,value:r,writable:i===null&&a?a.writable:!i});else if(o||!n&&!i&&!s)e[t]=r;else throw new dX("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},M3=Rl,N3=fX,pX=O3(),D3=P3,L3=M3("%TypeError%"),mX=M3("%Math.floor%"),yX=function(e,t){if(typeof e!="function")throw new L3("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||mX(t)!==t)throw new L3("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,i=!0;if("length"in e&&D3){var s=D3(e,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(i=!1)}return(n||i||!r)&&(pX?N3(e,"length",t,!0,!0):N3(e,"length",t)),e};(function(e){var t=LS,r=Rl,n=yX,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(o,s),u=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var p=a(t,o,arguments);return n(p,1+l(0,f.length-(arguments.length-1)),!0)};var h=function(){return a(t,s,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h})(k3);var gX=k3.exports,B3=Rl,F3=gX,vX=F3(B3("String.prototype.indexOf")),_X=function(e,t){var r=B3(e,!!t);return typeof r=="function"&&vX(e,".prototype.")>-1?F3(r):r};const bX={},wX=Object.freeze(Object.defineProperty({__proto__:null,default:bX},Symbol.toStringTag,{value:"Module"})),xX=ei(wX);var HS=typeof Map=="function"&&Map.prototype,GS=Object.getOwnPropertyDescriptor&&HS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,f_=HS&&GS&&typeof GS.get=="function"?GS.get:null,U3=HS&&Map.prototype.forEach,$S=typeof Set=="function"&&Set.prototype,VS=Object.getOwnPropertyDescriptor&&$S?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,p_=$S&&VS&&typeof VS.get=="function"?VS.get:null,j3=$S&&Set.prototype.forEach,EX=typeof WeakMap=="function"&&WeakMap.prototype,Yp=EX?WeakMap.prototype.has:null,SX=typeof WeakSet=="function"&&WeakSet.prototype,Kp=SX?WeakSet.prototype.has:null,AX=typeof WeakRef=="function"&&WeakRef.prototype,z3=AX?WeakRef.prototype.deref:null,TX=Boolean.prototype.valueOf,IX=Object.prototype.toString,CX=Function.prototype.toString,kX=String.prototype.match,WS=String.prototype.slice,nu=String.prototype.replace,OX=String.prototype.toUpperCase,H3=String.prototype.toLowerCase,G3=RegExp.prototype.test,$3=Array.prototype.concat,lo=Array.prototype.join,PX=Array.prototype.slice,V3=Math.floor,qS=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ZS=Object.getOwnPropertySymbols,XS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="object",sn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Fh||"symbol")?Symbol.toStringTag:null,W3=Object.prototype.propertyIsEnumerable,q3=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function Z3(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||G3.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-V3(-e):V3(e);if(n!==e){var i=String(n),s=WS.call(t,i.length+1);return nu.call(i,r,"$&_")+"."+nu.call(nu.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return nu.call(t,r,"$&_")}var YS=xX,X3=YS.custom,Y3=J3(X3)?X3:null,RX=function e(t,r,n,i){var s=r||{};if(iu(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(iu(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=iu(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(iu(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(iu(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return tL(t,s);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var u=String(t);return a?Z3(t,u):u}if(typeof t=="bigint"){var l=String(t)+"n";return a?Z3(t,l):l}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof t=="object")return KS(t)?"[Array]":"[Object]";var f=YX(s,n);if(typeof i>"u")i=[];else if(eL(i,t)>=0)return"[Circular]";function p(W,G,O){if(G&&(i=PX.call(i),i.push(G)),O){var D={depth:s.depth};return iu(s,"quoteStyle")&&(D.quoteStyle=s.quoteStyle),e(W,D,n+1,i)}return e(W,s,n+1,i)}if(typeof t=="function"&&!Q3(t)){var m=zX(t),y=m_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(y.length>0?" { "+lo.call(y,", ")+" }":"")}if(J3(t)){var v=Fh?nu.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):XS.call(t);return typeof t=="object"&&!Fh?Qp(v):v}if(qX(t)){for(var w="<"+H3.call(String(t.nodeName)),_=t.attributes||[],x=0;x<_.length;x++)w+=" "+_[x].name+"="+K3(MX(_[x].value),"double",s);return w+=">",t.childNodes&&t.childNodes.length&&(w+="..."),w+="</"+H3.call(String(t.nodeName))+">",w}if(KS(t)){if(t.length===0)return"[]";var E=m_(t,p);return f&&!XX(E)?"["+JS(E,f)+"]":"[ "+lo.call(E,", ")+" ]"}if(DX(t)){var T=m_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!W3.call(t,"cause")?"{ ["+String(t)+"] "+lo.call($3.call("[cause]: "+p(t.cause),T),", ")+" }":T.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+lo.call(T,", ")+" }"}if(typeof t=="object"&&o){if(Y3&&typeof t[Y3]=="function"&&YS)return YS(t,{depth:h-n});if(o!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(HX(t)){var R=[];return U3&&U3.call(t,function(W,G){R.push(p(G,t,!0)+" => "+p(W,t))}),rL("Map",f_.call(t),R,f)}if(VX(t)){var P=[];return j3&&j3.call(t,function(W){P.push(p(W,t))}),rL("Set",p_.call(t),P,f)}if(GX(t))return QS("WeakMap");if(WX(t))return QS("WeakSet");if($X(t))return QS("WeakRef");if(BX(t))return Qp(p(Number(t)));if(UX(t))return Qp(p(qS.call(t)));if(FX(t))return Qp(TX.call(t));if(LX(t))return Qp(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===Ye)return"{ [object globalThis] }";if(!NX(t)&&!Q3(t)){var k=m_(t,p),M=q3?q3(t)===Object.prototype:t instanceof Object||t.constructor===Object,V=t instanceof Object?"":"null prototype",H=!M&&sn&&Object(t)===t&&sn in t?WS.call(su(t),8,-1):V?"Object":"",X=M||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",Q=X+(H||V?"["+lo.call($3.call([],H||[],V||[]),": ")+"] ":"");return k.length===0?Q+"{}":f?Q+"{"+JS(k,f)+"}":Q+"{ "+lo.call(k,", ")+" }"}return String(t)};function K3(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function MX(e){return nu.call(String(e),/"/g,"&quot;")}function KS(e){return su(e)==="[object Array]"&&(!sn||!(typeof e=="object"&&sn in e))}function NX(e){return su(e)==="[object Date]"&&(!sn||!(typeof e=="object"&&sn in e))}function Q3(e){return su(e)==="[object RegExp]"&&(!sn||!(typeof e=="object"&&sn in e))}function DX(e){return su(e)==="[object Error]"&&(!sn||!(typeof e=="object"&&sn in e))}function LX(e){return su(e)==="[object String]"&&(!sn||!(typeof e=="object"&&sn in e))}function BX(e){return su(e)==="[object Number]"&&(!sn||!(typeof e=="object"&&sn in e))}function FX(e){return su(e)==="[object Boolean]"&&(!sn||!(typeof e=="object"&&sn in e))}function J3(e){if(Fh)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!XS)return!1;try{return XS.call(e),!0}catch{}return!1}function UX(e){if(!e||typeof e!="object"||!qS)return!1;try{return qS.call(e),!0}catch{}return!1}var jX=Object.prototype.hasOwnProperty||function(e){return e in this};function iu(e,t){return jX.call(e,t)}function su(e){return IX.call(e)}function zX(e){if(e.name)return e.name;var t=kX.call(CX.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function eL(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function HX(e){if(!f_||!e||typeof e!="object")return!1;try{f_.call(e);try{p_.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function GX(e){if(!Yp||!e||typeof e!="object")return!1;try{Yp.call(e,Yp);try{Kp.call(e,Kp)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function $X(e){if(!z3||!e||typeof e!="object")return!1;try{return z3.call(e),!0}catch{}return!1}function VX(e){if(!p_||!e||typeof e!="object")return!1;try{p_.call(e);try{f_.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function WX(e){if(!Kp||!e||typeof e!="object")return!1;try{Kp.call(e,Kp);try{Yp.call(e,Yp)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function qX(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function tL(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return tL(WS.call(e,0,t.maxStringLength),t)+n}var i=nu.call(nu.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ZX);return K3(i,"single",t)}function ZX(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+OX.call(t.toString(16))}function Qp(e){return"Object("+e+")"}function QS(e){return e+" { ? }"}function rL(e,t,r,n){var i=n?JS(r,n):lo.call(r,", ");return e+" ("+t+") {"+i+"}"}function XX(e){for(var t=0;t<e.length;t++)if(eL(e[t],`
`)>=0)return!1;return!0}function YX(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=lo.call(Array(e.indent+1)," ");else return null;return{base:r,prev:lo.call(Array(t+1),r)}}function JS(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+lo.call(e,","+r)+`
`+t.prev}function m_(e,t){var r=KS(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=iu(e,i)?t(e[i],e):""}var s=typeof ZS=="function"?ZS(e):[],o;if(Fh){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in e)iu(e,u)&&(r&&String(Number(u))===u&&u<e.length||Fh&&o["$"+u]instanceof Symbol||(G3.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if(typeof ZS=="function")for(var l=0;l<s.length;l++)W3.call(e,s[l])&&n.push("["+t(s[l])+"]: "+t(e[s[l]],e));return n}var eA=Rl,Uh=_X,KX=RX,QX=eA("%TypeError%"),y_=eA("%WeakMap%",!0),g_=eA("%Map%",!0),JX=Uh("WeakMap.prototype.get",!0),eY=Uh("WeakMap.prototype.set",!0),tY=Uh("WeakMap.prototype.has",!0),rY=Uh("Map.prototype.get",!0),nY=Uh("Map.prototype.set",!0),iY=Uh("Map.prototype.has",!0),tA=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},sY=function(e,t){var r=tA(e,t);return r&&r.value},oY=function(e,t,r){var n=tA(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},aY=function(e,t){return!!tA(e,t)},uY=function(){var e,t,r,n={assert:function(i){if(!n.has(i))throw new QX("Side channel does not contain "+KX(i))},get:function(i){if(y_&&i&&(typeof i=="object"||typeof i=="function")){if(e)return JX(e,i)}else if(g_){if(t)return rY(t,i)}else if(r)return sY(r,i)},has:function(i){if(y_&&i&&(typeof i=="object"||typeof i=="function")){if(e)return tY(e,i)}else if(g_){if(t)return iY(t,i)}else if(r)return aY(r,i);return!1},set:function(i,s){y_&&i&&(typeof i=="object"||typeof i=="function")?(e||(e=new y_),eY(e,i,s)):g_?(t||(t=new g_),nY(t,i,s)):(r||(r={key:{},next:null}),oY(r,i,s))}};return n},lY=String.prototype.replace,cY=/%20/g,rA={RFC1738:"RFC1738",RFC3986:"RFC3986"},nA={default:rA.RFC3986,formatters:{RFC1738:function(e){return lY.call(e,cY,"+")},RFC3986:function(e){return String(e)}},RFC1738:rA.RFC1738,RFC3986:rA.RFC3986},hY=nA,iA=Object.prototype.hasOwnProperty,Ml=Array.isArray,co=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),dY=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Ml(r)){for(var n=[],i=0;i<r.length;++i)typeof r[i]<"u"&&n.push(r[i]);t.obj[t.prop]=n}}},nL=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(r[n]=e[n]);return r},fY=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(Ml(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!iA.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return Ml(t)&&!Ml(r)&&(i=nL(t,n)),Ml(t)&&Ml(r)?(r.forEach(function(s,o){if(iA.call(t,o)){var a=t[o];a&&typeof a=="object"&&s&&typeof s=="object"?t[o]=e(a,s,n):t.push(s)}else t[o]=s}),t):Object.keys(r).reduce(function(s,o){var a=r[o];return iA.call(s,o)?s[o]=e(s[o],a,n):s[o]=a,s},i)},pY=function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},mY=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},yY=function(e,t,r,n,i){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});for(var o="",a=0;a<s.length;++a){var u=s.charCodeAt(a);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===hY.RFC1738&&(u===40||u===41)){o+=s.charAt(a);continue}if(u<128){o=o+co[u];continue}if(u<2048){o=o+(co[192|u>>6]+co[128|u&63]);continue}if(u<55296||u>=57344){o=o+(co[224|u>>12]+co[128|u>>6&63]+co[128|u&63]);continue}a+=1,u=65536+((u&1023)<<10|s.charCodeAt(a)&1023),o+=co[240|u>>18]+co[128|u>>12&63]+co[128|u>>6&63]+co[128|u&63]}return o},gY=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],o=Object.keys(s),a=0;a<o.length;++a){var u=o[a],l=s[u];typeof l=="object"&&l!==null&&r.indexOf(l)===-1&&(t.push({obj:s,prop:u}),r.push(l))}return dY(t),e},vY=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_Y=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},bY=function(e,t){return[].concat(e,t)},wY=function(e,t){if(Ml(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},iL={arrayToObject:nL,assign:pY,combine:bY,compact:gY,decode:mY,encode:yY,isBuffer:_Y,isRegExp:vY,maybeMap:wY,merge:fY},sL=uY,v_=iL,Jp=nA,xY=Object.prototype.hasOwnProperty,oL={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},aa=Array.isArray,EY=Array.prototype.push,aL=function(e,t){EY.apply(e,aa(t)?t:[t])},SY=Date.prototype.toISOString,uL=Jp.default,on={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:v_.encode,encodeValuesOnly:!1,format:uL,formatter:Jp.formatters[uL],indices:!1,serializeDate:function(e){return SY.call(e)},skipNulls:!1,strictNullHandling:!1},AY=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},sA={},TY=function e(t,r,n,i,s,o,a,u,l,h,f,p,m,y,v,w){for(var _=t,x=w,E=0,T=!1;(x=x.get(sA))!==void 0&&!T;){var R=x.get(t);if(E+=1,typeof R<"u"){if(R===E)throw new RangeError("Cyclic object value");T=!0}typeof x.get(sA)>"u"&&(E=0)}if(typeof u=="function"?_=u(r,_):_ instanceof Date?_=f(_):n==="comma"&&aa(_)&&(_=v_.maybeMap(_,function(D){return D instanceof Date?f(D):D})),_===null){if(s)return a&&!y?a(r,on.encoder,v,"key",p):r;_=""}if(AY(_)||v_.isBuffer(_)){if(a){var P=y?r:a(r,on.encoder,v,"key",p);return[m(P)+"="+m(a(_,on.encoder,v,"value",p))]}return[m(r)+"="+m(String(_))]}var k=[];if(typeof _>"u")return k;var M;if(n==="comma"&&aa(_))y&&a&&(_=v_.maybeMap(_,a)),M=[{value:_.length>0?_.join(",")||null:void 0}];else if(aa(u))M=u;else{var V=Object.keys(_);M=l?V.sort(l):V}for(var H=i&&aa(_)&&_.length===1?r+"[]":r,X=0;X<M.length;++X){var Q=M[X],W=typeof Q=="object"&&typeof Q.value<"u"?Q.value:_[Q];if(!(o&&W===null)){var G=aa(_)?typeof n=="function"?n(H,Q):H:H+(h?"."+Q:"["+Q+"]");w.set(t,E);var O=sL();O.set(sA,w),aL(k,e(W,G,n,i,s,o,n==="comma"&&y&&aa(_)?null:a,u,l,h,f,p,m,y,v,O))}}return k},IY=function(e){if(!e)return on;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||on.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Jp.default;if(typeof e.format<"u"){if(!xY.call(Jp.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=Jp.formatters[r],i=on.filter;return(typeof e.filter=="function"||aa(e.filter))&&(i=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:on.addQueryPrefix,allowDots:typeof e.allowDots>"u"?on.allowDots:!!e.allowDots,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:on.charsetSentinel,delimiter:typeof e.delimiter>"u"?on.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:on.encode,encoder:typeof e.encoder=="function"?e.encoder:on.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:on.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:on.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:on.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:on.strictNullHandling}},CY=function(e,t){var r=e,n=IY(t),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):aa(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;t&&t.arrayFormat in oL?a=t.arrayFormat:t&&"indices"in t?a=t.indices?"indices":"repeat":a="indices";var u=oL[a];if(t&&"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&t&&t.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=sL(),f=0;f<i.length;++f){var p=i[f];n.skipNulls&&r[p]===null||aL(o,TY(r[p],p,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var m=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""},jh=iL,oA=Object.prototype.hasOwnProperty,kY=Array.isArray,kr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:jh.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},OY=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},lL=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},PY="utf8=%26%2310003%3B",RY="utf8=%E2%9C%93",MY=function(e,t){var r={__proto__:null},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,i),o=-1,a,u=t.charset;if(t.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===RY?u="utf-8":s[a]===PY&&(u="iso-8859-1"),o=a,a=s.length);for(a=0;a<s.length;++a)if(a!==o){var l=s[a],h=l.indexOf("]="),f=h===-1?l.indexOf("="):h+1,p,m;f===-1?(p=t.decoder(l,kr.decoder,u,"key"),m=t.strictNullHandling?null:""):(p=t.decoder(l.slice(0,f),kr.decoder,u,"key"),m=jh.maybeMap(lL(l.slice(f+1),t),function(y){return t.decoder(y,kr.decoder,u,"value")})),m&&t.interpretNumericEntities&&u==="iso-8859-1"&&(m=OY(m)),l.indexOf("[]=")>-1&&(m=kY(m)?[m]:m),oA.call(r,p)?r[p]=jh.combine(r[p],m):r[p]=m}return r},NY=function(e,t,r,n){for(var i=n?t:lL(t,r),s=e.length-1;s>=0;--s){var o,a=e[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},DY=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,a=r.depth>0&&s.exec(i),u=a?i.slice(0,a.index):i,l=[];if(u){if(!r.plainObjects&&oA.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var h=0;r.depth>0&&(a=o.exec(i))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&oA.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+i.slice(a.index)+"]"),NY(l,t,r,n)}},LY=function(e){if(!e)return kr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?kr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?kr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:kr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:kr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:kr.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:kr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:kr.comma,decoder:typeof e.decoder=="function"?e.decoder:kr.decoder,delimiter:typeof e.delimiter=="string"||jh.isRegExp(e.delimiter)?e.delimiter:kr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:kr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:kr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:kr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:kr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:kr.strictNullHandling}},BY=function(e,t){var r=LY(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?MY(e,r):e,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=DY(a,n[a],r,typeof e=="string");i=jh.merge(i,u,r)}return r.allowSparse===!0?i:jh.compact(i)},FY=CY,UY=BY,jY=nA,zY={formats:jY,parse:UY,stringify:FY},HY=MZ;function ua(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var GY=/^([a-z0-9.+-]+:)/i,$Y=/:[0-9]*$/,VY=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,WY=["<",">",'"',"`"," ","\r",`
`,"	"],qY=["{","}","|","\\","^","`"].concat(WY),aA=["'"].concat(qY),cL=["%","/","?",";","#"].concat(aA),hL=["/","?","#"],ZY=255,dL=/^[+a-z0-9A-Z_-]{0,63}$/,XY=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,YY={javascript:!0,"javascript:":!0},uA={javascript:!0,"javascript:":!0},zh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},lA=zY;function KY(e,t,r){if(e&&typeof e=="object"&&e instanceof ua)return e;var n=new ua;return n.parse(e,t,r),n}ua.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",s=e.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),e=s.join(i);var a=e;if(a=a.trim(),!r&&e.split("#").length===1){var u=VY.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=lA.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=GY.exec(a);if(l){l=l[0];var h=l.toLowerCase();this.protocol=h,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(l&&uA[l])&&(a=a.substr(2),this.slashes=!0)}if(!uA[l]&&(f||l&&!zh[l])){for(var p=-1,m=0;m<hL.length;m++){var y=a.indexOf(hL[m]);y!==-1&&(p===-1||y<p)&&(p=y)}var v,w;p===-1?w=a.lastIndexOf("@"):w=a.lastIndexOf("@",p),w!==-1&&(v=a.slice(0,w),a=a.slice(w+1),this.auth=decodeURIComponent(v)),p=-1;for(var m=0;m<cL.length;m++){var y=a.indexOf(cL[m]);y!==-1&&(p===-1||y<p)&&(p=y)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var x=this.hostname.split(/\./),m=0,E=x.length;m<E;m++){var T=x[m];if(T&&!T.match(dL)){for(var R="",P=0,k=T.length;P<k;P++)T.charCodeAt(P)>127?R+="x":R+=T[P];if(!R.match(dL)){var M=x.slice(0,m),V=x.slice(m+1),H=T.match(XY);H&&(M.push(H[1]),V.unshift(H[2])),V.length&&(a="/"+V.join(".")+a),this.hostname=M.join(".");break}}}this.hostname.length>ZY?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=HY.toASCII(this.hostname));var X=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+X,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!YY[h])for(var m=0,E=aA.length;m<E;m++){var W=aA[m];if(a.indexOf(W)!==-1){var G=encodeURIComponent(W);G===W&&(G=escape(W)),a=a.split(W).join(G)}}var O=a.indexOf("#");O!==-1&&(this.hash=a.substr(O),a=a.slice(0,O));var D=a.indexOf("?");if(D!==-1?(this.search=a.substr(D),this.query=a.substr(D+1),t&&(this.query=lA.parse(this.query)),a=a.slice(0,D)):t&&(this.search="",this.query={}),a&&(this.pathname=a),zh[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var X=this.pathname||"",L=this.search||"";this.path=X+L}return this.href=this.format(),this},ua.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=lA.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||zh[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),t+i+r+o+n},ua.prototype.resolve=function(e){return this.resolveObject(KY(e,!1,!0)).format()},ua.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new ua;t.parse(e,!1,!0),e=t}for(var r=new ua,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=e[u])}return zh[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!zh[e.protocol]){for(var l=Object.keys(e),h=0;h<l.length;h++){var f=l[h];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!uA[e.protocol]){for(var E=(e.pathname||"").split("/");E.length&&!(e.host=E.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),E[0]!==""&&E.unshift(""),E.length<2&&E.unshift(""),r.pathname=E.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",m=r.search||"";r.path=p+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",v=e.host||e.pathname&&e.pathname.charAt(0)==="/",w=v||y||r.host&&e.pathname,_=w,x=r.pathname&&r.pathname.split("/")||[],E=e.pathname&&e.pathname.split("/")||[],T=r.protocol&&!zh[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(x[0]===""?x[0]=r.host:x.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(E[0]===""?E[0]=e.host:E.unshift(e.host)),e.host=null),w=w&&(E[0]===""||x[0]==="")),v)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,x=E;else if(E.length)x||(x=[]),x.pop(),x=x.concat(E),r.search=e.search,r.query=e.query;else if(e.search!=null){if(T){r.host=x.shift(),r.hostname=r.host;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=x.slice(-1)[0],k=(r.host||e.host||x.length>1)&&(P==="."||P==="..")||P==="",M=0,V=x.length;V>=0;V--)P=x[V],P==="."?x.splice(V,1):P===".."?(x.splice(V,1),M++):M&&(x.splice(V,1),M--);if(!w&&!_)for(;M--;M)x.unshift("..");w&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),k&&x.join("/").substr(-1)!=="/"&&x.push("");var H=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(T){r.hostname=H?"":x.length?x.shift():"",r.host=r.hostname;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return w=w||r.host&&x.length,w&&!H&&x.unshift(""),x.length>0?r.pathname=x.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},ua.prototype.parseHost=function(){var e=this.host,t=$Y.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const fL={};function et(e,t,r=3){if(fL[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(n))),fL[t]=!0}function vs(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function em(e){return e.split("?")[0].split("#")[0]}function QY(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function JY(e,t,r){return e.replace(new RegExp(QY(t),"g"),r)}function eK(e,t){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=e.length;++a){if(a<e.length)o=e.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${e.slice(i+1,a)}`:r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const _r={toPosix(e){return JY(e,"\\","/")},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},isBlobUrl(e){return e.startsWith("blob:")},hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){vs(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const r=/^[^/:]+:\/{0,2}/.exec(e);return r?r[0]:""},toAbsolute(e,t,r){if(vs(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const n=em(this.toPosix(t??be.ADAPTER.getBaseUrl())),i=em(this.toPosix(r??this.rootname(n)));return e=this.toPosix(e),e.startsWith("/")?_r.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(n,e)},normalize(e){if(vs(e),e.length===0)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;e=this.toPosix(e);let t="";const r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const n=e.endsWith("/");return e=eK(e,!1),e.length>0&&n&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return vs(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join(...e){if(e.length===0)return".";let t;for(let r=0;r<e.length;++r){const n=e[r];if(vs(n),n.length>0)if(t===void 0)t=n;else{const i=e[r-1]??"";this.extname(i)?t+=`/../${n}`:t+=`/${n}`}}return t===void 0?".":this.normalize(t)},dirname(e){if(vs(e),e.length===0)return".";e=this.toPosix(e);let t=e.charCodeAt(0);const r=t===47;let n=-1,i=!0;const s=this.getProtocol(e),o=e;e=e.slice(s.length);for(let a=e.length-1;a>=1;--a)if(t=e.charCodeAt(a),t===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+e:s:r&&n===1?"//":s+e.slice(0,n)},rootname(e){vs(e),e=this.toPosix(e);let t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){const r=e.indexOf("/",t.length);r!==-1?t=e.slice(0,r):t=e,t.endsWith("/")||(t+="/")}return t},basename(e,t){vs(e),t&&vs(t),e=em(this.toPosix(e));let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let o=t.length-1,a=-1;for(s=e.length-1;s>=0;--s){const u=e.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===t.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){vs(e),e=em(this.toPosix(e));let t=-1,r=0,n=-1,i=!0,s=0;for(let o=e.length-1;o>=0;--o){const a=e.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},parse(e){vs(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=em(this.toPosix(e));let r=e.charCodeAt(0);const n=this.isAbsolute(e);let i;t.root=this.rootname(e),n||this.hasProtocol(e)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,l=e.length-1,h=0;for(;l>=i;--l){if(r=e.charCodeAt(l),r===47){if(!u){o=l+1;break}continue}a===-1&&(u=!1,a=l+1),r===46?s===-1?s=l:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?t.base=t.name=e.slice(1,a):t.base=t.name=e.slice(o,a)):(o===0&&n?(t.name=e.slice(1,s),t.base=e.slice(1,a)):(t.name=e.slice(o,s),t.base=e.slice(o,a)),t.ext=e.slice(s,a)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"};let cA;async function tK(){return cA??(cA=(async()=>{var s;const e=document.createElement("canvas").getContext("webgl");if(!e)return Gn.UNPACK;const t=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!t)return Gn.UNPACK;const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.deleteFramebuffer(n),e.deleteTexture(r),(s=e.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Gn.PMA:Gn.UNPACK})()),cA}let hA;function rK(){return typeof hA>"u"&&(hA=function(){var t;const e={stencil:!0,failIfMajorPerformanceCaveat:be.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!be.ADAPTER.getWebGLRenderingContext())return!1;const r=be.ADAPTER.createCanvas();let n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const i=!!((t=n==null?void 0:n.getContextAttributes())!=null&&t.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),hA}var nK={grad:.9,turn:360,rad:360/(2*Math.PI)},la=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Or=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},Pi=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},pL=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},mL=function(e){return{r:Pi(e.r,0,255),g:Pi(e.g,0,255),b:Pi(e.b,0,255),a:Pi(e.a)}},dA=function(e){return{r:Or(e.r),g:Or(e.g),b:Or(e.b),a:Or(e.a,3)}},iK=/^#([0-9a-f]{3,8})$/i,__=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},yL=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=Math.max(t,r,n),o=s-Math.min(t,r,n),a=o?s===t?(r-n)/o:s===r?2+(n-t)/o:4+(t-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},gL=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var s=Math.floor(t),o=n*(1-r),a=n*(1-(t-s)*r),u=n*(1-(1-t+s)*r),l=s%6;return{r:255*[n,a,o,o,u,n][l],g:255*[u,n,n,a,o,o][l],b:255*[o,o,u,n,n,a][l],a:i}},vL=function(e){return{h:pL(e.h),s:Pi(e.s,0,100),l:Pi(e.l,0,100),a:Pi(e.a)}},_L=function(e){return{h:Or(e.h),s:Or(e.s),l:Or(e.l),a:Or(e.a,3)}},bL=function(e){return gL((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},tm=function(e){return{h:(t=yL(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},sK=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oK=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aK=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uK=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fA={string:[[function(e){var t=iK.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Or(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Or(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=aK.exec(e)||uK.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:mL({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=sK.exec(e)||oK.exec(e);if(!t)return null;var r,n,i=vL({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(nK[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return bL(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=i===void 0?1:i;return la(t)&&la(r)&&la(n)?mL({r:Number(t),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,s=i===void 0?1:i;if(!la(t)||!la(r)||!la(n))return null;var o=vL({h:Number(t),s:Number(r),l:Number(n),a:Number(s)});return bL(o)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,s=i===void 0?1:i;if(!la(t)||!la(r)||!la(n))return null;var o=function(a){return{h:pL(a.h),s:Pi(a.s,0,100),v:Pi(a.v,0,100),a:Pi(a.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(s)});return gL(o)},"hsv"]]},wL=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},lK=function(e){return typeof e=="string"?wL(e.trim(),fA.string):typeof e=="object"&&e!==null?wL(e,fA.object):[null,void 0]},pA=function(e,t){var r=tm(e);return{h:r.h,s:Pi(r.s+100*t,0,100),l:r.l,a:r.a}},mA=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},xL=function(e,t){var r=tm(e);return{h:r.h,s:r.s,l:Pi(r.l+100*t,0,100),a:r.a}},yA=function(){function e(t){this.parsed=lK(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Or(mA(this.rgba),2)},e.prototype.isDark=function(){return mA(this.rgba)<.5},e.prototype.isLight=function(){return mA(this.rgba)>=.5},e.prototype.toHex=function(){return t=dA(this.rgba),r=t.r,n=t.g,i=t.b,o=(s=t.a)<1?__(Or(255*s)):"","#"+__(r)+__(n)+__(i)+o;var t,r,n,i,s,o},e.prototype.toRgb=function(){return dA(this.rgba)},e.prototype.toRgbString=function(){return t=dA(this.rgba),r=t.r,n=t.g,i=t.b,(s=t.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var t,r,n,i,s},e.prototype.toHsl=function(){return _L(tm(this.rgba))},e.prototype.toHslString=function(){return t=_L(tm(this.rgba)),r=t.h,n=t.s,i=t.l,(s=t.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var t,r,n,i,s},e.prototype.toHsv=function(){return t=yL(this.rgba),{h:Or(t.h),s:Or(t.s),v:Or(t.v),a:Or(t.a,3)};var t},e.prototype.invert=function(){return ho({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),ho(pA(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),ho(pA(this.rgba,-t))},e.prototype.grayscale=function(){return ho(pA(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),ho(xL(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),ho(xL(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?ho({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):Or(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=tm(this.rgba);return typeof t=="number"?ho({h:t,s:r.s,l:r.l,a:r.a}):Or(r.h)},e.prototype.isEqual=function(t){return this.toHex()===ho(t).toHex()},e}(),ho=function(e){return e instanceof yA?e:new yA(e)},EL=[],cK=function(e){e.forEach(function(t){EL.indexOf(t)<0&&(t(yA,fA),EL.push(t))})};function hK(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};e.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,l=n[this.toHex()];if(l)return l;if(o!=null&&o.closest){var h=this.toRgb(),f=1/0,p="black";if(!s.length)for(var m in r)s[m]=new e(r[m]).toRgb();for(var y in r){var v=(a=h,u=s[y],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));v<f&&(f=v,p=y)}return p}},t.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new e(u).toRgb():null},"name"])}cK([hK]);const Hh=class nx{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof nx)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,r){const n=typeof t;if(n!==typeof r)return!1;if(n==="number"||n==="string"||t instanceof Number)return t===r;if(Array.isArray(t)&&Array.isArray(r)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(r))return t.length!==r.length?!1:t.every((i,s)=>i===r[s]);if(t!==null&&r!==null){const i=Object.keys(t),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>t[o]===r[o])}return t===r}toRgba(){const[t,r,n,i]=this._components;return{r:t,g:r,b:n,a:i}}toRgb(){const[t,r,n]=this._components;return{r:t,g:r,b:n}}toRgbaString(){const[t,r,n]=this.toUint8RgbArray();return`rgba(${t},${r},${n},${this.alpha})`}toUint8RgbArray(t){const[r,n,i]=this._components;return t=t??[],t[0]=Math.round(r*255),t[1]=Math.round(n*255),t[2]=Math.round(i*255),t}toRgbArray(t){t=t??[];const[r,n,i]=this._components;return t[0]=r,t[1]=n,t[2]=i,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[r,n,i,s]=nx.temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(t,r=!0){return r&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,r=!0){if(t===1)return(255<<24)+this._int;if(t===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*t+.5|0,i=i*t+.5|0,s=s*t+.5|0),(t*255<<24)+(n<<16)+(i<<8)+s}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[r,n,i]=this._components;return this._components[0]=Math.round(r*t)/t,this._components[1]=Math.round(n*t)/t,this._components[2]=Math.round(i*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[r,n,i,s]=this._components;return t[0]=r,t[1]=n,t[2]=i,t[3]=s,t}normalize(t){let r,n,i,s;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const o=t;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,n,i,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,n,i,s=255]=t,r/=255,n/=255,i/=255,s/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const a=nx.HEX_PATTERN.exec(t);a&&(t=`#${a[2]}`)}const o=ho(t);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,r,n]=this._components;this._int=(t*255<<16)+(r*255<<8)+(n*255|0)}_clamp(t,r=0,n=1){return typeof t=="number"?Math.min(Math.max(t,r),n):(t.forEach((i,s)=>{t[s]=Math.min(Math.max(i,r),n)}),t)}};Hh.shared=new Hh,Hh.temp=new Hh,Hh.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Tt=Hh;function dK(e){return et("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Tt.shared.setValue(e).toHex()}function fK(e){return et("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Tt.shared.setValue(e).toNumber()}function pK(){const e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[Ue.NORMAL_NPM]=Ue.NORMAL,e[Ue.ADD_NPM]=Ue.ADD,e[Ue.SCREEN_NPM]=Ue.SCREEN,t[Ue.NORMAL]=Ue.NORMAL_NPM,t[Ue.ADD]=Ue.ADD_NPM,t[Ue.SCREEN]=Ue.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}const SL=pK();function AL(e,t){return SL[t?1:0][e]}function mK(e,t=null){const r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function TL(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function b_(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function IL(e){return!(e&e-1)&&!!e}function CL(e){let t=(e>65535?1:0)<<4;e>>>=t;let r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function Gh(e,t,r){const n=e.length;let i;if(t>=n||r===0)return;r=t+r>n?n-t:r;const s=n-r;for(i=t;i<s;++i)e[i]=e[i+r];e.length=s}function ou(e){return e===0?0:e<0?-1:1}let yK=0;function Nl(){return++yK}const gA=class{constructor(e,t,r,n){this.left=e,this.top=t,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};gA.EMPTY=new gA(0,0,0,0);let kL=gA;const OL={},fo=Object.create(null),au=Object.create(null);class gK{constructor(t,r,n){this._canvas=be.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||be.RESOLUTION,this.resize(t,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,r){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function PL(e,t,r){for(let n=0,i=4*r*t;n<t;++n,i+=4)if(e[i+3]!==0)return!1;return!0}function RL(e,t,r,n,i){const s=4*t;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(e[a+3]!==0)return!1;return!0}function vK(e){const{width:t,height:r}=e,n=e.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,t,r).data;let s=0,o=0,a=t-1,u=r-1;for(;o<r&&PL(i,t,o);)++o;if(o===r)return kL.EMPTY;for(;PL(i,t,u);)--u;for(;RL(i,t,s,o,u);)++s;for(;RL(i,t,a,o,u);)--a;return++a,++u,new kL(s,o,a,u)}function _K(e){const t=vK(e),{width:r,height:n}=t;let i=null;if(!t.isEmpty()){const s=e.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(t.left,t.top,r,n)}return{width:r,height:n,data:i}}function bK(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;const r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}function ca(e,t=1){var n;const r=(n=be.RETINA_PREFIX)==null?void 0:n.exec(e);return r?parseFloat(r[1]):t}var ge=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(ge||{});const vA=e=>{if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={...typeof e.extension!="object"?{type:e.extension}:e.extension,ref:e}}if(typeof e=="object")e={...e};else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},ML=(e,t)=>vA(e).priority??t,Oe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(vA).forEach(t=>{t.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,t)})}),this},add(...e){return e.map(vA).forEach(t=>{t.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](t):(i[r]=i[r]||[],i[r].push(t))})}),this},handle(e,t,r){const n=this._addHandlers,i=this._removeHandlers;if(n[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,i[e]=r;const s=this._queue;return s[e]&&(s[e].forEach(o=>t(o)),delete s[e]),this},handleByMap(e,t){return this.handle(e,r=>{t[r.name]=r.ref},r=>{delete t[r.name]})},handleByList(e,t,r=-1){return this.handle(e,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((i,s)=>ML(s,r)-ML(i,r)))},n=>{const i=t.indexOf(n.ref);i!==-1&&t.splice(i,1)})}};class _A{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const wK=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function xK(e){let t="";for(let r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}function EK(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=wK.replace(/%forloop%/gi,xK(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}const bA=0,wA=1,xA=2,EA=3,SA=4,AA=5;class po{constructor(){this.data=0,this.blendMode=Ue.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<bA)}set blend(t){!!(this.data&1<<bA)!==t&&(this.data^=1<<bA)}get offsets(){return!!(this.data&1<<wA)}set offsets(t){!!(this.data&1<<wA)!==t&&(this.data^=1<<wA)}get culling(){return!!(this.data&1<<xA)}set culling(t){!!(this.data&1<<xA)!==t&&(this.data^=1<<xA)}get depthTest(){return!!(this.data&1<<EA)}set depthTest(t){!!(this.data&1<<EA)!==t&&(this.data^=1<<EA)}get depthMask(){return!!(this.data&1<<AA)}set depthMask(t){!!(this.data&1<<AA)!==t&&(this.data^=1<<AA)}get clockwiseFrontFace(){return!!(this.data&1<<SA)}set clockwiseFrontFace(t){!!(this.data&1<<SA)!==t&&(this.data^=1<<SA)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==Ue.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}static for2d(){const t=new po;return t.depthTest=!1,t.blend=!0,t}}po.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const TA=[];function NL(e,t){if(!e)return null;let r="";if(typeof e=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(let n=TA.length-1;n>=0;--n){const i=TA[n];if(i.test&&i.test(e,r))return new i(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class _s{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:h}=this;this._aliasCount++;for(let f=0,p=h.length;f<p;f++)h[f][l](t,r,n,i,s,o,a,u);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(_s.prototype,{dispatch:{value:_s.prototype.emit},run:{value:_s.prototype.emit}});class rm{constructor(t=0,r=0){this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new _s("setRealSize"),this.onUpdate=new _s("update"),this.onError=new _s("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,r){return!1}}class w_ extends rm{constructor(t,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=t,this.unpackAlignment=r.unpackAlignment??4}upload(t,r,n){const i=t.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Gn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t===null||t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}const SK={scaleMode:gs.NEAREST,alphaMode:Gn.NPM},IA=class Vf extends $p{constructor(t=null,r=null){super(),r=Object.assign({},Vf.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:u,wrapMode:l,format:h,type:f,target:p,resolution:m,resourceOptions:y}=r;t&&!(t instanceof rm)&&(t=NL(t,y),t.internal=!0),this.resolution=m||be.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=l,this._scaleMode=o,this.format=h,this.type=f,this.target=p,this.alphaMode=n,this.uid=Nl(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,r){let n;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(t,r,n){return n=n||this.resolution,this.setRealSize(t*n,r*n,n)}setRealSize(t,r,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=IL(this.realWidth)&&IL(this.realHeight)}setResolution(t){const r=this.resolution;return r===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*r)/t,this.height=Math.round(this.height*r)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete au[this.cacheId],delete fo[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Vf.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,r,n=be.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let s=null;if(i)s=t;else{if(!t._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${Nl()}`}s=t._pixiId}let o=au[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Vf(t,r),o.cacheId=s,Vf.addToCache(o,s)),o}static fromBuffer(t,r,n,i){t=t||new Float32Array(r*n*4);const s=new w_(t,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return t instanceof Float32Array?(o=ce.RGBA,a=Le.FLOAT):t instanceof Int32Array?(o=ce.RGBA_INTEGER,a=Le.INT):t instanceof Uint32Array?(o=ce.RGBA_INTEGER,a=Le.UNSIGNED_INT):t instanceof Int16Array?(o=ce.RGBA_INTEGER,a=Le.SHORT):t instanceof Uint16Array?(o=ce.RGBA_INTEGER,a=Le.UNSIGNED_SHORT):t instanceof Int8Array?(o=ce.RGBA,a=Le.BYTE):(o=ce.RGBA,a=Le.UNSIGNED_BYTE),s.internal=!0,new Vf(s,Object.assign({},SK,{type:a,format:o},i))}static addToCache(t,r){r&&(t.textureCacheIds.includes(r)||t.textureCacheIds.push(r),au[r]&&au[r]!==t&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),au[r]=t)}static removeFromCache(t){if(typeof t=="string"){const r=au[t];if(r){const n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete au[t],r}}else if(t!=null&&t.textureCacheIds){for(let r=0;r<t.textureCacheIds.length;++r)delete au[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null}};IA.defaultOptions={mipmap:oo.POW2,anisotropicLevel:0,scaleMode:gs.LINEAR,wrapMode:ia.CLAMP,alphaMode:Gn.UNPACK,target:Oh.TEXTURE_2D,format:ce.RGBA,type:Le.UNSIGNED_BYTE},IA._globalBatch=0;let Ze=IA;class CA{constructor(){this.texArray=null,this.blend=0,this.type=ys.TRIANGLES,this.start=0,this.size=0,this.data=null}}let AK=0,br=class T${constructor(t,r=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=AK++,this.disposeRunner=new _s("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?uo.ELEMENT_ARRAY_BUFFER:uo.ARRAY_BUFFER}get index(){return this.type===uo.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new T$(t)}};class x_{constructor(t,r=0,n=!1,i=Le.FLOAT,s,o,a,u=1){this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(t,r,n,i,s){return new x_(t,r,n,i,s)}}const TK={Float32Array,Uint32Array,Int32Array,Uint8Array};function IK(e,t){let r=0,n=0;const i={};for(let u=0;u<e.length;u++)n+=t[u],r+=e[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<e.length;u++){const l=t[u],h=e[u],f=TL(h);i[f]||(i[f]=new TK[f](s)),o=i[f];for(let p=0;p<h.length;p++){const m=(p/l|0)*n+a,y=p%l;o[m+y]=h[p]}a+=l}return new Float32Array(s)}const DL={5126:4,5123:2,5121:1};let CK=0;const kK={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class uu{constructor(t=[],r={}){this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=CK++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new _s("disposeGeometry"),this.refCount=0}addAttribute(t,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof br||(r instanceof Array&&(r=new Float32Array(r)),r=new br(r));const l=t.split("|");if(l.length>1){for(let f=0;f<l.length;f++)this.addAttribute(l[f],r,n,i,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[t]=new x_(h,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof br||(t instanceof Array&&(t=new Uint16Array(t)),t=new br(t)),t.type=uo.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],r=[],n=new br;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];t.push(o.data),r.push(s.size*DL[s.type]/4),s.buffer=0}for(n.data=IK(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const r=this.attributes[t];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new uu;for(let r=0;r<this.buffers.length;r++)t.buffers[r]=new br(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];t.attributes[r]=new x_(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=uo.ELEMENT_ARRAY_BUFFER),t}static merge(t){const r=new uu,n=[],i=[],s=[];let o;for(let a=0;a<t.length;a++){o=t[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new kK[TL(o.buffers[a].data)](i[a]),r.buffers[a]=new br(n[a]);for(let a=0;a<t.length;a++){o=t[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=uo.ELEMENT_ARRAY_BUFFER;let a=0,u=0,l=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===h&&(u+=p.size*DL[p.type]/4)}for(let f=0;f<t.length;f++){const p=t[f].indexBuffer.data;for(let m=0;m<p.length;m++)r.indexBuffer.data[m+l]+=a;a+=t[f].buffers[h].data.length/u,l+=p.length}}return r}}class LL extends uu{constructor(t=!1){super(),this._buffer=new br(null,t,!1),this._indexBuffer=new br(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Le.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Le.FLOAT).addAttribute("aColor",this._buffer,4,!0,Le.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Le.FLOAT).addIndex(this._indexBuffer)}}const E_=Math.PI*2,OK=180/Math.PI,PK=Math.PI/180;var Hr=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(Hr||{});class nt{constructor(t=0,r=0){this.x=0,this.y=0,this.x=t,this.y=r}clone(){return new nt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,r=t){return this.x=t,this.y=r,this}}nt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const S_=[new nt,new nt,new nt,new nt];class Xe{constructor(t=0,r=0,n=0,i=0){this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Hr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Xe(0,0,0,0)}clone(){return new Xe(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(t,r){if(!r){const M=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=M)return!1;const V=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>V}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=S_[0].set(t.left,t.top),u=S_[1].set(t.left,t.bottom),l=S_[2].set(t.right,t.top),h=S_[3].set(t.right,t.bottom);if(l.x<=a.x||u.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(u,u),r.apply(l,l),r.apply(h,h),Math.max(a.x,u.x,l.x,h.x)<=n||Math.min(a.x,u.x,l.x,h.x)>=i||Math.max(a.y,u.y,l.y,h.y)<=s||Math.min(a.y,u.y,l.y,h.y)>=o))return!1;const p=f*(u.y-a.y),m=f*(a.x-u.x),y=p*n+m*s,v=p*i+m*s,w=p*n+m*o,_=p*i+m*o;if(Math.max(y,v,w,_)<=p*a.x+m*a.y||Math.min(y,v,w,_)>=p*h.x+m*h.y)return!1;const x=f*(a.y-l.y),E=f*(l.x-a.x),T=x*n+E*s,R=x*i+E*s,P=x*n+E*o,k=x*i+E*o;return!(Math.max(T,R,P,k)<=x*a.x+E*a.y||Math.min(T,R,P,k)>=x*h.x+E*h.y)}pad(t=0,r=t){return this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this}fit(t){const r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(t=1,r=.001){const n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this}enlarge(t){const r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Xe.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class A_{constructor(t=0,r=0,n=0){this.x=t,this.y=r,this.radius=n,this.type=Hr.CIRC}clone(){return new A_(this.x,this.y,this.radius)}contains(t,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-t,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Xe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}A_.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class T_{constructor(t=0,r=0,n=0,i=0){this.x=t,this.y=r,this.width=n,this.height=i,this.type=Hr.ELIP}clone(){return new T_(this.x,this.y,this.width,this.height)}contains(t,r){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Xe(this.x-this.width,this.y-this.height,this.width,this.height)}}T_.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Dl{constructor(...t){let r=Array.isArray(t[0])?t[0]:t;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Hr.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),r=new Dl(t);return r.closeStroke=this.closeStroke,r}contains(t,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],l=this.points[o*2],h=this.points[o*2+1];u>r!=h>r&&t<(l-a)*((r-u)/(h-u))+a&&(n=!n)}return n}}Dl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,t)=>`${e}, ${t}`,"")}]`};class I_{constructor(t=0,r=0,n=0,i=0,s=20){this.x=t,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Hr.RREC}clone(){return new I_(this.x,this.y,this.width,this.height,this.radius)}contains(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let i=t-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=t-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=t-(this.x+n),i*i+s*s<=o))return!0}return!1}}I_.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Dt{constructor(t=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,r,n,i,s,o){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(t,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,r){r=r||new nt;const n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(t,r){r=r||new nt;const n=1/(this.a*this.d+this.c*-this.b),i=t.x,s=t.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(t,r){return this.tx+=t,this.ty+=r,this}scale(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this}rotate(t){const r=Math.cos(t),n=Math.sin(t),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(t){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*s,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*s,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*s+this.ty,this}setTransform(t,r,n,i,s,o,a,u,l){return this.a=Math.cos(a+l)*s,this.b=Math.sin(a+l)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(t){const r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this}decompose(t){const r=this.a,n=this.b,i=this.c,s=this.d,o=t.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),l=Math.abs(a+u);return l<1e-5||Math.abs(E_-l)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=u),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+s*s),t.position.x=this.tx+(o.x*r+o.y*i),t.position.y=this.ty+(o.x*n+o.y*s),t}invert(){const t=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=t*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(t*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Dt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}static get IDENTITY(){return new Dt}static get TEMP_MATRIX(){return new Dt}}Dt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Ll=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Bl=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Fl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ul=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],kA=[],BL=[],C_=Math.sign;function RK(){for(let e=0;e<16;e++){const t=[];kA.push(t);for(let r=0;r<16;r++){const n=C_(Ll[e]*Ll[r]+Fl[e]*Bl[r]),i=C_(Bl[e]*Ll[r]+Ul[e]*Bl[r]),s=C_(Ll[e]*Fl[r]+Fl[e]*Ul[r]),o=C_(Bl[e]*Fl[r]+Ul[e]*Ul[r]);for(let a=0;a<16;a++)if(Ll[a]===n&&Bl[a]===i&&Fl[a]===s&&Ul[a]===o){t.push(a);break}}}for(let e=0;e<16;e++){const t=new Dt;t.set(Ll[e],Bl[e],Fl[e],Ul[e],0,0),BL.push(t)}}RK();const Yt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>Ll[e],uY:e=>Bl[e],vX:e=>Fl[e],vY:e=>Ul[e],inv:e=>e&8?e&15:-e&7,add:(e,t)=>kA[e][t],sub:(e,t)=>kA[e][Yt.inv(t)],rotate180:e=>e^4,isVertical:e=>(e&3)===2,byDirection:(e,t)=>Math.abs(e)*2<=Math.abs(t)?t>=0?Yt.S:Yt.N:Math.abs(t)*2<=Math.abs(e)?e>0?Yt.E:Yt.W:t>0?e>0?Yt.SE:Yt.SW:e>0?Yt.NE:Yt.NW,matrixAppendRotationInv:(e,t,r=0,n=0)=>{const i=BL[Yt.inv(t)];i.tx=r,i.ty=n,e.append(i)}};class mo{constructor(t,r,n=0,i=0){this._x=n,this._y=i,this.cb=t,this.scope=r}clone(t=this.cb,r=this.scope){return new mo(t,r,this._x,this._y)}set(t=0,r=t){return(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}mo.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const OA=class{constructor(){this.worldTransform=new Dt,this.localTransform=new Dt,this.position=new mo(this.onChange,this,0,0),this.scale=new mo(this.onChange,this,1,1),this.pivot=new mo(this.onChange,this,0,0),this.skew=new mo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};OA.IDENTITY=new OA;let k_=OA;k_.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var MK=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,NK=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function FL(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function PA(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=!1;return t}function UL(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return PA(2*t);case"bvec3":return PA(3*t);case"bvec4":return PA(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const $h=[{test:e=>e.type==="float"&&e.size===1&&!e.isArray,code:e=>`
            if(uv["${e}"] !== ud["${e}"].value)
            {
                ud["${e}"].value = uv["${e}"]
                gl.uniform1f(ud["${e}"].location, uv["${e}"])
            }
            `},{test:(e,t)=>(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray&&(t==null||t.castToBaseTexture!==void 0),code:e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${e}"], t);

            if(ud["${e}"].value !== t)
            {
                ud["${e}"].value = t;
                gl.uniform1i(ud["${e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(e,t)=>e.type==="mat3"&&e.size===1&&!e.isArray&&t.a!==void 0,code:e=>`
            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));
            `,codeUbo:e=>`
                var ${e}_matrix = uv.${e}.toArray(true);

                data[offset] = ${e}_matrix[0];
                data[offset+1] = ${e}_matrix[1];
                data[offset+2] = ${e}_matrix[2];
        
                data[offset + 4] = ${e}_matrix[3];
                data[offset + 5] = ${e}_matrix[4];
                data[offset + 6] = ${e}_matrix[5];
        
                data[offset + 8] = ${e}_matrix[6];
                data[offset + 9] = ${e}_matrix[7];
                data[offset + 10] = ${e}_matrix[8];
            `},{test:(e,t)=>e.type==="vec2"&&e.size===1&&!e.isArray&&t.x!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${e}"].location, v.x, v.y);
                }`,codeUbo:e=>`
                v = uv.${e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:e=>e.type==="vec2"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);
                }
            `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.width!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(e,t)=>e.type==="vec3"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:e=>e.type==="vec4"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])
                }`}],DK={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},LK={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function BK(e,t){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in e.uniforms){const s=t[i];if(!s){((n=e.uniforms[i])==null?void 0:n.group)===!0&&(e.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=e.uniforms[i];let a=!1;for(let u=0;u<$h.length;u++)if($h[u].test(s,o)){r.push($h[u].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?DK:LK)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const jL={};let Vh=jL;function FK(){if(Vh===jL||Vh!=null&&Vh.isContextLost()){const e=be.ADAPTER.createCanvas();let t;be.PREFER_ENV>=Cl.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Vh=t}return Vh}let O_;function UK(){if(!O_){O_=Oi.MEDIUM;const e=FK();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(O_=t.precision?Oi.HIGH:Oi.MEDIUM)}}return O_}function zL(e,t){const r=e.getShaderSource(t).split(`
`).map((l,h)=>`${h}: ${l}`),n=e.getShaderInfoLog(t),i=n.split(`
`),s={},o=i.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!s[l]?(s[l]=!0,!0):!1),a=[""];o.forEach(l=>{r[l-1]=`%c${r[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function jK(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||zL(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||zL(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}const zK={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function HL(e){return zK[e]}let P_=null;const GL={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function $L(e,t){if(!P_){const r=Object.keys(GL);P_={};for(let n=0;n<r.length;++n){const i=r[n];P_[e[i]]=GL[i]}}return P_[t]}function VL(e,t,r){if(e.substring(0,9)!=="precision"){let n=t;return t===Oi.HIGH&&r!==Oi.HIGH&&(n=Oi.MEDIUM),`precision ${n} float;
${e}`}else if(r!==Oi.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}let nm;function HK(){if(typeof nm=="boolean")return nm;try{nm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{nm=!1}return nm}let GK=0;const R_={},RA=class Wf{constructor(t,r,n="pixi-shader",i={}){this.extra={},this.id=GK++,this.vertexSrc=t||Wf.defaultVertexSrc,this.fragmentSrc=r||Wf.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),R_[n]?(R_[n]++,n+=`-${R_[n]}`):R_[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=VL(this.vertexSrc,Wf.defaultVertexPrecision,Oi.HIGH),this.fragmentSrc=VL(this.fragmentSrc,Wf.defaultFragmentPrecision,UK())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return NK}static get defaultFragmentSrc(){return MK}static from(t,r,n){const i=t+r;let s=OL[i];return s||(OL[i]=s=new Wf(t,r,n)),s}};RA.defaultVertexPrecision=Oi.HIGH,RA.defaultFragmentPrecision=oa.apple.device?Oi.HIGH:Oi.MEDIUM;let ha=RA,$K=0;class bs{constructor(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=$K++,this.static=!!r,this.ubo=!!n,t instanceof br?(this.buffer=t,this.buffer.type=uo.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new br(new Float32Array(1)),this.buffer.type=uo.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,r,n){if(!this.ubo)this.uniforms[t]=new bs(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,r,n){return new bs(t,r,n)}static uboFrom(t,r){return new bs(t,r??!0,!0)}}class yo{constructor(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof bs?this.uniformGroup=r:this.uniformGroup=new bs(r):this.uniformGroup=new bs({}),this.disposeRunner=new _s("disposeShader")}checkUniformExists(t,r){if(r.uniforms[t])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(t,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,r,n){const i=ha.from(t,r);return new yo(i,n)}}class VK{constructor(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let s=0;s<t;s++)n[s]=s;this.defaultGroupCache[t]=bs.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${t}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new ha(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:this.defaultGroupCache[t]};return new yo(this.programCache[t],r)}generateSampleSrc(t){let r="";r+=`
`,r+=`
`;for(let n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class MA{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function WK(){return!oa.apple.device}function qK(e){let t=!0;const r=be.ADAPTER.getNavigator();if(oa.tablet||oa.phone){if(oa.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(oa.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?e:4}class M_{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var ZK=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,XK=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const im=class Js extends M_{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=LL,this.vertexSize=6,this.state=po.for2d(),this.size=Js.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??qK(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??WK(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return et("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return XK}static get defaultFragmentTemplate(){return ZK}setShaderGenerator({vertex:t=Js.defaultVertexSrc,fragment:r=Js.defaultFragmentTemplate}={}){this.shaderGenerator=new VK(t,r)}contextChange(){const t=this.renderer.gl;be.PREFER_ENV===Cl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Js.defaultMaxTextures),this.maxTextures=EK(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:r}=Js,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;t.length<n;)t.push(new CA);for(;r.length<i;)r.push(new MA);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:r}=this,n=Js._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Ze._globalBatch,u=0,l=n[0],h=0;i.copyBoundTextures(s,r);for(let f=0;f<this._bufferSize;++f){const p=t[f];t[f]=null,p._batchEnabled!==a&&(l.count>=r&&(i.boundArray(l,s,a,r),this.buildDrawCalls(l,h,f),h=f,l=n[++u],++a),p._batchEnabled=a,p.touched=o,l.elements[l.count++]=p)}l.count>0&&(i.boundArray(l,s,a,r),this.buildDrawCalls(l,h,this._bufferSize),++u,++a);for(let f=0;f<s.length;f++)s[f]=null;Ze._globalBatch=a}buildDrawCalls(t,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,u=Js._drawCallPool;let l=this._dcIndex,h=this._aIndex,f=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=t;for(let m=r;m<n;++m){const y=i[m],v=y._texture.baseTexture,w=SL[v.alphaMode?1:0][y.blendMode];i[m]=null,r<m&&p.blend!==w&&(p.size=f-p.start,r=m,p=u[++l],p.texArray=t,p.start=f),this.packInterleavedGeometry(y,s,o,h,f),h+=y.vertexData.length/2*a,f+=y.indices.length,p.blend=w}r<n&&(p.size=f-p.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=f}bindAndClearTexArray(t){const r=this.renderer.texture;for(let n=0;n<t.count;n++)r.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:r,_indexBuffer:n}=this;Js.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:r,state:n}=this.renderer,i=Js._drawCallPool;let s=null;for(let o=0;o<t;o++){const{texArray:a,type:u,size:l,start:h,blend:f}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=f,n.set(this.state),r.drawElements(u,l,r.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Js.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const r=b_(Math.ceil(t/8)),n=CL(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new _A(i*this.vertexSize*4)),s}getIndexBuffer(t){const r=b_(Math.ceil(t/12)),n=CL(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(t,r,n,i,s){const{uint32View:o,float32View:a}=r,u=i/this.vertexSize,l=t.uvs,h=t.indices,f=t.vertexData,p=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),y=Tt.shared.setValue(t._tintRGB).toPremultiplied(m,t._texture.baseTexture.alphaMode>0);for(let v=0;v<f.length;v+=2)a[i++]=f[v],a[i++]=f[v+1],a[i++]=l[v],a[i++]=l[v+1],o[i++]=y,a[i++]=p;for(let v=0;v<h.length;v++)n[s++]=u+h[v]}};im.defaultBatchSize=4096,im.extension={name:"batch",type:ge.RendererPlugin},im._drawCallPool=[],im._textureArrayPool=[];let jl=im;Oe.add(jl);var YK=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,KK=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const NA=class Mg extends yo{constructor(t,r,n){const i=ha.from(t||Mg.defaultVertexSrc,r||Mg.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Mg.defaultResolution,this.multisample=Mg.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new po}apply(t,r,n,i,s){t.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return KK}static get defaultFragmentSrc(){return YK}};NA.defaultResolution=1,NA.defaultMultisample=hr.NONE;let wn=NA;class N_{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Tt(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=t,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}N_.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},N_.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"background"},Oe.add(N_);class WL{constructor(t){this.renderer=t,this.emptyRenderer=new M_(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)}boundArray(t,r,n,i){const{elements:s,ids:o,count:a}=t;let u=0;for(let l=0;l<a;l++){const h=s[l],f=h._batchLocation;if(f>=0&&f<i&&r[f]===h){o[l]=f;continue}for(;u<i;){const p=r[u];if(p&&p._batchEnabled===n&&p._batchLocation===u){u++;continue}o[l]=u,h._batchLocation=u,r[u]=h;break}}}destroy(){this.renderer=null}}WL.extension={type:ge.RendererSystem,name:"batch"},Oe.add(WL);let qL=0;class D_{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=qL++}init(t){if(t.context)this.initFromContext(t.context);else{const r=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=qL++,this.renderer.runners.contextChange.emit(t);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const r=this.createContext(this.renderer.view,t);this.initFromContext(r)}createContext(t,r){let n;if(be.PREFER_ENV>=Cl.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,r={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}D_.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},D_.extension={type:ge.RendererSystem,name:"context"},Oe.add(D_);class DA{constructor(t,r){if(this.width=Math.round(t),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new _s("disposeFramebuffer"),this.multisample=hr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,r){return this.colorTextures[t]=r||new Ze(null,{scaleMode:gs.NEAREST,resolution:1,mipmap:oo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new Ze(null,{scaleMode:gs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:oo.OFF,format:ce.DEPTH_COMPONENT,type:Le.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,r){if(t=Math.round(t),r=Math.round(r),!t||!r)throw new Error("Framebuffer width and height must not be zero");if(!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(t/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class ZL extends Ze{constructor(t={}){if(typeof t=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];t={width:r,height:n,scaleMode:i,resolution:s}}t.width=t.width??100,t.height=t.height??100,t.multisample??(t.multisample=hr.NONE),super(null,t),this.mipmap=oo.OFF,this.valid=!0,this._clear=new Tt([0,0,0,0]),this.framebuffer=new DA(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,r){this.framebuffer.resize(t*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class lu extends rm{constructor(t){const r=t,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=t,this.noSubImage=!1}static crossOrigin(t,r,n){n===void 0&&!r.startsWith("data:")?t.crossOrigin=bK(r):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,r,n,i){const s=t.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Gn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const t=this.source,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class XL extends lu{constructor(t,r){if(r=r||{},typeof t=="string"){const n=new Image;lu.crossOrigin(n,t,r.crossorigin),n.src=t,t=n}super(t),!t.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??be.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Gn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class LA{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,r,n){const i=r.width,s=r.height;if(n){const o=t.width/2/i,a=t.height/2/s,u=t.x/i+o,l=t.y/s+a;n=Yt.add(n,Yt.NW),this.x0=u+o*Yt.uX(n),this.y0=l+a*Yt.uY(n),n=Yt.add(n,2),this.x1=u+o*Yt.uX(n),this.y1=l+a*Yt.uY(n),n=Yt.add(n,2),this.x2=u+o*Yt.uX(n),this.y2=l+a*Yt.uY(n),n=Yt.add(n,2),this.x3=u+o*Yt.uX(n),this.y3=l+a*Yt.uY(n)}else this.x0=t.x/i,this.y0=t.y/s,this.x1=(t.x+t.width)/i,this.y1=t.y/s,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/s,this.x3=t.x/i,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}LA.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const YL=new LA;function L_(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class me extends $p{constructor(t,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Xe(0,0,1,1)),t instanceof me&&(t=t.baseTexture),this.baseTexture=t,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=YL,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new nt(o.x,o.y):new nt(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=r:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:r}=this.baseTexture;r!=null&&r.url&&fo[r.url]&&me.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,me.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),n=new me(this.baseTexture,!this.noFrame&&t,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===YL&&(this._uvs=new LA),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,r={},n=be.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let s=null;if(i)s=t;else if(t instanceof Ze){if(!t.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t.cacheId=`${a}-${Nl()}`,Ze.addToCache(t,t.cacheId)}s=t.cacheId}else{if(!t._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId=`${a}_${Nl()}`}s=t._pixiId}let o=fo[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(t instanceof Ze)?(r.resolution||(r.resolution=ca(t)),o=new me(new Ze(t,r)),o.baseTexture.cacheId=s,Ze.addToCache(o.baseTexture,s),me.addToCache(o,s)):!o&&t instanceof Ze&&(o=new me(t),me.addToCache(o,s)),o}static fromURL(t,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=me.from(t,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(t,r,n,i){return new me(Ze.fromBuffer(t,r,n,i))}static fromLoader(t,r,n,i){const s=new Ze(t,Object.assign({scaleMode:Ze.defaultOptions.scaleMode,resolution:ca(r)},i)),{resource:o}=s;o instanceof XL&&(o.url=r);const a=new me(s);return n||(n=r),Ze.addToCache(a.baseTexture,n),me.addToCache(a,n),n!==r&&(Ze.addToCache(a.baseTexture,r),me.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(t,r){r&&(t.textureCacheIds.includes(r)||t.textureCacheIds.push(r),fo[r]&&fo[r]!==t&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),fo[r]=t)}static removeFromCache(t){if(typeof t=="string"){const r=fo[t];if(r){const n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete fo[t],r}}else if(t!=null&&t.textureCacheIds){for(let r=0;r<t.textureCacheIds.length;++r)fo[t.textureCacheIds[r]]===t&&delete fo[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=t,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",l=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,h=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${l} ${u} ${h}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return me._EMPTY||(me._EMPTY=new me(new Ze),L_(me._EMPTY),L_(me._EMPTY.baseTexture)),me._EMPTY}static get WHITE(){if(!me._WHITE){const t=be.ADAPTER.createCanvas(16,16),r=t.getContext("2d");t.width=16,t.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),me._WHITE=new me(Ze.from(t)),L_(me._WHITE),L_(me._WHITE.baseTexture)}return me._WHITE}}class zl extends me{constructor(t,r){super(t,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(t*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(t){const{baseTexture:r}=this;r.resolution!==t&&(r.setResolution(t),this.resize(r.width,r.height,!1))}static create(t){return new zl(new ZL(t))}}class KL{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,r,n=hr.NONE){const i=new ZL(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new zl(i)}getOptimalTexture(t,r,n=1,i=hr.NONE){let s;t=Math.max(Math.ceil(t*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=b_(t),r=b_(r),s=((t&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(t,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(t,r,n){const i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||hr.NONE);return i.filterFrame=t.filterFrame,i}returnTexture(t){const r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}KL.SCREEN_KEY=-1;class QK extends uu{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class QL extends uu{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new br(this.vertices),this.uvBuffer=new br(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/t.width,this.uvs[3]=i,this.uvs[4]=n+r.width/t.width,this.uvs[5]=i+r.height/t.height,this.uvs[6]=n,this.uvs[7]=i+r.height/t.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class JK{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=hr.NONE,this.sourceFrame=new Xe,this.destinationFrame=new Xe,this.bindingSourceFrame=new Xe,this.bindingDestinationFrame=new Xe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const B_=[new nt,new nt,new nt,new nt],BA=new Dt;class JL{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new KL,this.statePool=[],this.quad=new QK,this.quadUv=new QL,this.tempRect=new Xe,this.activeState={},this.globalUniforms=new bs({outputFrame:new Xe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new JK,o=n.renderTexture;let a,u;if(o.current){const w=o.current;a=w.resolution,u=w.multisample}else a=n.resolution,u=n.multisample;let l=r[0].resolution||a,h=r[0].multisample??u,f=r[0].padding,p=r[0].autoFit,m=r[0].legacy??!0;for(let w=1;w<r.length;w++){const _=r[w];l=Math.min(l,_.resolution||a),h=Math.min(h,_.multisample??u),f=this.useMaxPadding?Math.max(f,_.padding):f+_.padding,p=p&&_.autoFit,m=m||(_.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=h,s.legacy=m,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(f);const y=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(BA.copyFrom(n.projection.transform).invert(),y),p?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,h),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,v),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const l=i.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,ao.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let l=r.renderTexture,h=this.getOptimalFilterTexture(l.width,l.height,r.resolution);h.filterFrame=l.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(l.width,l.height,r.resolution),h.filterFrame=l.filterFrame),n[f].apply(this,l,h,ao.CLEAR,r);const p=l;l=h,h=p}n[f].apply(this,l,u.renderTexture,ao.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(t,r=ao.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t==null?void 0:t.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,n.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ao.CLEAR||r===ao.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,r,n,i){const s=this.renderer;s.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(ys.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(ys.TRIANGLE_STRIP))}calculateSpriteMatrix(t,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=t.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Dt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,r,n=1,i=hr.NONE){return this.texturePool.getOptimalTexture(t,r,n,i)}getFilterTexture(t,r,n){if(typeof t=="number"){const s=t;t=r,r=s}t=t||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||hr.NONE);return i.filterFrame=t.filterFrame,i}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,r){const n=B_[0],i=B_[1],s=B_[2],o=B_[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(s,s),t.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),l=Math.max(n.x,i.x,s.x,o.x),h=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=l-a,r.height=h-u}roundFrame(t,r,n,i,s){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:l}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}s=s?BA.copyFrom(s):BA.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,t),t.ceil(r),this.transformAABB(s.invert(),t)}}}JL.extension={type:ge.RendererSystem,name:"filter"},Oe.add(JL);class eQ{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=hr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const tQ=new Xe;class eB{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new DA(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Xe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;be.PREFER_ENV===Cl.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,r,n=0){const{gl:i}=this;if(t){const s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=n),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let o=0;o<t.colorTextures.length;o++){const a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=t.width>>n,a=t.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,r,n,i){const s=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==t||s.y!==r)&&(s.x=t,s.y=r,s.width=n,s.height=i,this.gl.viewport(t,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,r,n,i,s=CS.COLOR|CS.DEPTH){const{gl:o}=this;o.clearColor(t,r,n,i),o.clear(s)}initFramebuffer(t){const{gl:r}=this,n=new eQ(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:r}=this,n=t.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:t.depth&&t.stencil?o=r.DEPTH24_STENCIL8:t.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,o,t.width,t.height)}const i=t.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,r){const{gl:n}=this,i=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const l=s[u],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,l.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){const u=t.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}if((t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let u,l;this.renderer.context.webGLVersion===1?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH_STENCIL):t.depth&&t.stencil?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH24_STENCIL8):t.depth?(u=n.DEPTH_ATTACHMENT,l=n.DEPTH_COMPONENT24):(u=n.STENCIL_ATTACHMENT,l=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,l,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,l,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,u,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:r}=this;let n=hr.NONE;if(t<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=hr.NONE),n}blit(t,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!t){if(!u.msaaBuffer)return;const h=i.colorTextures[0];if(!h)return;u.blitFramebuffer||(u.blitFramebuffer=new DA(i.width,i.height),u.blitFramebuffer.addColorTexture(0,h)),t=u.blitFramebuffer,t.colorTextures[0]!==h&&(t.colorTextures[0]=h,t.dirtyId++,t.dirtyFormat++),(t.width!==i.width||t.height!==i.height)&&(t.width=i.width,t.height=i.height,t.dirtyId++,t.dirtySize++)}r||(r=tQ,r.width=i.width,r.height=i.height),n||(n=r);const l=r.width===n.width&&r.height===n.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,r){const n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(t){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)}forceStencil(){const t=this.current;if(!t)return;const r=t.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&t.stencil)return;t.stencil=!0;const n=t.width,i=t.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,u;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH_STENCIL):t.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,u=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,u,n,i):s.renderbufferStorage(s.RENDERBUFFER,u,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Xe}destroy(){this.renderer=null}}eB.extension={type:ge.RendererSystem,name:"framebuffer"},Oe.add(eB);const FA={5126:4,5123:2,5121:1};class tB{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;be.PREFER_ENV===Cl.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=i=>n.bindVertexArrayOES(i),t.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),t.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),t.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(t,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(t,r,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const i=t.buffers[n];r.update(i)}}checkCompatibility(t,r){const n=t.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(t,r){const n=t.attributes,i=r.attributeData,s=["g",t.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(t,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,a);const u=this.getSignature(t,a),l=t.glVertexArrayObjects[this.CONTEXT_UID];let h=l[u];if(h)return l[a.id]=h,h;const f=t.buffers,p=t.attributes,m={},y={};for(const v in f)m[v]=0,y[v]=0;for(const v in p)!p[v].size&&a.attributeData[v]?p[v].size=a.attributeData[v].size:p[v].size||console.warn(`PIXI Geometry attribute '${v}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[v].buffer]+=p[v].size*FA[p[v].type];for(const v in p){const w=p[v],_=w.size;w.stride===void 0&&(m[w.buffer]===_*FA[w.type]?w.stride=0:w.stride=m[w.buffer]),w.start===void 0&&(w.start=y[w.buffer],y[w.buffer]+=_*FA[w.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let v=0;v<f.length;v++){const w=f[v];o.bind(w),n&&w._glBuffers[s].refCount++}return this.activateVao(t,a),l[a.id]=h,l[u]=h,i.bindVertexArray(null),o.unbind(uo.ARRAY_BUFFER),h}disposeGeometry(t,r){var a;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=t.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(t.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const l=s[u]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const l=n[u];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)}activateVao(t,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);let u=null;for(const l in a){const h=a[l],f=o[h.buffer],p=f._glBuffers[i];if(r.attributeData[l]){u!==p&&(s.bind(f),u=p);const m=r.attributeData[l].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(m,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(t,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,n,r||o.getSize(),i||1):s.drawArrays(t,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}tB.extension={type:ge.RendererSystem,name:"geometry"},Oe.add(tB);const rB=new Dt;class UA{constructor(t,r){this._texture=t,this.mapCoord=new Dt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,r){r===void 0&&(r=t);const n=this.mapCoord;for(let i=0;i<t.length;i+=2){const s=t[i],o=t[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(t){const r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(rB.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(rB));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(r._frame.x+u+l)/o.width,a[1]=(r._frame.y+u+l)/o.height,a[2]=(r._frame.x+r._frame.width-u+l)/o.width,a[3]=(r._frame.y+r._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var rQ=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,nQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class iQ extends wn{constructor(t,r,n){let i=null;typeof t!="string"&&r===void 0&&n===void 0&&(i=t,t=void 0,r=void 0,n=void 0),super(t||nQ,r||rQ,n),this.maskSprite=i,this.maskMatrix=new Dt}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new UA(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,r,n,i))}}class sQ{constructor(t=null){this.type=vr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=wn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=vr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class nB{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new sQ;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==vr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case vr.SCISSOR:this.renderer.scissor.push(n);break;case vr.STENCIL:this.renderer.stencil.push(n);break;case vr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case vr.COLOR:this.pushColorMask(n);break}n.type===vr.SPRITE&&this.maskStack.push(n)}pop(t){const r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case vr.SCISSOR:this.renderer.scissor.pop(r);break;case vr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case vr.SPRITE:this.popSpriteMask(r);break;case vr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===vr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const r=t.maskObject;r?r.isSprite?t.type=vr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=vr.SCISSOR:t.type=vr.STENCIL:t.type=vr.COLOR}pushSpriteMask(t){const{maskObject:r}=t,n=t._target;let i=t._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new iQ])),i[0].resolution=t.resolution,i[0].multisample=t.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const r=t._colorMask,n=t._colorMask=r&t.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const r=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}nB.extension={type:ge.RendererSystem,name:"mask"},Oe.add(nB);class iB{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=t;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const sB=new Dt,oB=[],aB=class ix extends iB{constructor(t){super(t),this.glConst=be.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const r=t._scissorRect,{maskObject:n}=t,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,oB.pop()??new Xe);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),t._scissorRectLocal=o}static isMatrixRotated(t){if(!t)return!1;const{a:r,b:n,c:i,d:s}=t;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(t){const{maskObject:r}=t;if(!r.isFastRect||!r.isFastRect()||ix.isMatrixRotated(r.worldTransform)||ix.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const n=t._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(t,r,n,i,s){ix.isMatrixRotated(s)||(s=s?sB.copyFrom(s):sB.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,t),t.fit(i),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:r}=this.renderer;t._scissorRect||r.enable(r.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:r}=this.renderer;t&&oB.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=t.y:r=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,r,t.width,t.height)}};aB.extension={type:ge.RendererSystem,name:"scissor"};let oQ=aB;Oe.add(oQ);class uB extends iB{constructor(t){super(t),this.glConst=be.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const r=t.maskObject,{gl:n}=this.renderer,i=t._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const s=t._colorMask;s!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(t._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(t){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}uB.extension={type:ge.RendererSystem,name:"stencil"},Oe.add(uB);class lB{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return et("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return et("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return et("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const r in t)this.plugins[r]=new t[r](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}lB.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"_plugin"},Oe.add(lB);class cB{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Dt,this.transform=null}update(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(t,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(t){}destroy(){this.renderer=null}}cB.extension={type:ge.RendererSystem,name:"projection"},Oe.add(cB);const aQ=new k_,hB=new Xe;class dB{constructor(t){this.renderer=t,this._tempMatrix=new Dt}generateTexture(t,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(hB))||t.getLocalBounds(hB,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=zl.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=t.transform;return t.transform=aQ,this.renderer.render(t,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=u,a}destroy(){}}dB.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"textureGenerator"},Oe.add(dB);const Hl=new Xe,sm=new Xe;class fB{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Xe,this.destinationFrame=new Xe,this.viewportFrame=new Xe}contextChange(){var r;const t=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,r,n){const i=this.renderer;this.current=t;let s,o,a;t?(s=t.baseTexture,a=s.resolution,r||(Hl.width=t.frame.width,Hl.height=t.frame.height,r=Hl),n||(sm.x=t.frame.x,sm.y=t.frame.y,sm.width=r.width,sm.height=r.height,n=sm),o=s.framebuffer):(a=i.resolution,r||(Hl.width=i._view.screen.width,Hl.height=i._view.screen.height,r=Hl),n||(n=Hl,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,t||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),t?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(t,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Tt.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:l,width:h,height:f}=this.viewportFrame;u=Math.round(u),l=Math.round(l),h=Math.round(h),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,l,h,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}fB.extension={type:ge.RendererSystem,name:"renderTexture"},Oe.add(fB);class uQ{constructor(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function lQ(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=t.getActiveAttrib(e,i);if(s.name.startsWith("gl_"))continue;const o=$L(t,s.type),a={type:o,name:s.name,size:HL(o),location:t.getAttribLocation(e,s.name)};r[s.name]=a}return r}function cQ(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=t.getActiveUniform(e,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=$L(t,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:UL(u,s.size)}}return r}function hQ(e,t){var a;const r=FL(e,e.VERTEX_SHADER,t.vertexSrc),n=FL(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();e.attachShader(i,r),e.attachShader(i,n);const s=(a=t.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof e.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||jK(e,i,r,n),t.attributeData=lQ(i,e),t.uniformData=cQ(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const u=Object.keys(t.attributeData);u.sort((l,h)=>l>h?1:-1);for(let l=0;l<u.length;l++)t.attributeData[u[l]].location=l,e.bindAttribLocation(i,l,u[l]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);const o={};for(const u in t.uniformData){const l=t.uniformData[u];o[u]={location:e.getUniformLocation(i,u),value:UL(l.type,l.size)}}return new uQ(i,o)}function dQ(e,t,r,n,i){r.buffer.update(i)}const fQ={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},pB={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function pQ(e){const t=e.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<t.length;s++){const o=t[s];if(r=pB[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function mQ(e,t){const r=[];for(const n in e)t[n]&&r.push(t[n]);return r.sort((n,i)=>n.index-i.index),r}function yQ(e,t){if(!e.autoManage)return{size:0,syncFunc:dQ};const r=mQ(e.uniforms,t),{uboElements:n,size:i}=pQ(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=e.uniforms[a.data.name],l=a.data.name;let h=!1;for(let f=0;f<$h.length;f++){const p=$h[f];if(p.codeUbo&&p.test(a.data,u)){s.push(`offset = ${a.offset/4};`,$h[f].codeUbo(a.data.name,u)),h=!0;break}}if(!h)if(a.data.size>1){const f=HL(a.data.type),p=Math.max(pB[a.data.type]/16,1),m=f/p,y=(4-m%4)%4;s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${y};
                }

                `)}else{const f=fQ[a.data.type];s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let gQ=0;const F_={textureCount:0,uboCount:0};class mB{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=gQ++}systemCheck(){if(!HK())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,r){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(F_.textureCount=0,F_.uboCount=0,this.syncUniformGroup(t.uniformGroup,F_)),i}setUniforms(t){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,r){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))}syncUniforms(t,r,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(r.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=BK(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,r){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,F_,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(t,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(t.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(t,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=yQ(t,this.shader.program.uniformData)),t.autoManage){const u=new Float32Array(a.size/4);t.buffer.update(u)}return r.uniformGroups[t.id]=a.syncFunc,r.uniformGroups[t.id]}getSignature(t,r,n){const i=t.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const r=this.gl,n=t.program,i=hQ(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}mB.extension={type:ge.RendererSystem,name:"shader"},Oe.add(mB);class U_{constructor(t){this.renderer=t}run(t){const{renderer:r}=this;r.runners.init.emit(r.options),t.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}U_.defaultOptions={hello:!1},U_.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"startup"},Oe.add(U_);function vQ(e,t=[]){return t[Ue.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.ADD]=[e.ONE,e.ONE],t[Ue.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.NONE]=[0,0],t[Ue.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Ue.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ue.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Ue.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Ue.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Ue.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Ue.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Ue.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Ue.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Ue.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Ue.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}const _Q=0,bQ=1,wQ=2,xQ=3,EQ=4,SQ=5,yB=class aR{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ue.NONE,this._blendEq=!1,this.map=[],this.map[_Q]=this.setBlend,this.map[bQ]=this.setOffset,this.map[wQ]=this.setCullFace,this.map[xQ]=this.setDepthTest,this.map[EQ]=this.setFrontFace,this.map[SQ]=this.setDepthMask,this.checks=[],this.defaultState=new po,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=vQ(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let r=this.stateId^t.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,t)}forceState(t){t=t||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(aR.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(aR.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(t,r){this.gl.polygonOffset(t,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,r){const n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(t,r){t.setBlendMode(r.blendMode)}static checkPolygonOffset(t,r){t.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};yB.extension={type:ge.RendererSystem,name:"state"};let AQ=yB;Oe.add(AQ);class TQ extends $p{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){this.addRunners(...t.runners);const r=(t.priority??[]).filter(i=>t.systems[i]),n=[...r,...Object.keys(t.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(t.systems[i],i)}addRunners(...t){t.forEach(r=>{this.runners[r]=new _s(r)})}addSystem(t,r){const n=new t(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(t,r){const n=Object.keys(this._systemsHash);t.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[t.name](r[s])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const om=class sx{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=sx.defaultMaxIdle,this.checkCountMax=sx.defaultCheckCountMax,this.mode=sx.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==kS.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,r=t.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(t.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(t){const r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=t.children.length-1;i>=0;i--)this.unload(t.children[i])}destroy(){this.renderer=null}};om.defaultMode=kS.AUTO,om.defaultMaxIdle=60*60,om.defaultCheckCountMax=60*10,om.extension={type:ge.RendererSystem,name:"textureGC"};let Gl=om;Oe.add(Gl);class jA{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Le.UNSIGNED_BYTE,this.internalFormat=ce.RGBA,this.samplerType=0}}function IQ(e){let t;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?t={[e.RGB]:_e.FLOAT,[e.RGBA]:_e.FLOAT,[e.ALPHA]:_e.FLOAT,[e.LUMINANCE]:_e.FLOAT,[e.LUMINANCE_ALPHA]:_e.FLOAT,[e.R8]:_e.FLOAT,[e.R8_SNORM]:_e.FLOAT,[e.RG8]:_e.FLOAT,[e.RG8_SNORM]:_e.FLOAT,[e.RGB8]:_e.FLOAT,[e.RGB8_SNORM]:_e.FLOAT,[e.RGB565]:_e.FLOAT,[e.RGBA4]:_e.FLOAT,[e.RGB5_A1]:_e.FLOAT,[e.RGBA8]:_e.FLOAT,[e.RGBA8_SNORM]:_e.FLOAT,[e.RGB10_A2]:_e.FLOAT,[e.RGB10_A2UI]:_e.FLOAT,[e.SRGB8]:_e.FLOAT,[e.SRGB8_ALPHA8]:_e.FLOAT,[e.R16F]:_e.FLOAT,[e.RG16F]:_e.FLOAT,[e.RGB16F]:_e.FLOAT,[e.RGBA16F]:_e.FLOAT,[e.R32F]:_e.FLOAT,[e.RG32F]:_e.FLOAT,[e.RGB32F]:_e.FLOAT,[e.RGBA32F]:_e.FLOAT,[e.R11F_G11F_B10F]:_e.FLOAT,[e.RGB9_E5]:_e.FLOAT,[e.R8I]:_e.INT,[e.R8UI]:_e.UINT,[e.R16I]:_e.INT,[e.R16UI]:_e.UINT,[e.R32I]:_e.INT,[e.R32UI]:_e.UINT,[e.RG8I]:_e.INT,[e.RG8UI]:_e.UINT,[e.RG16I]:_e.INT,[e.RG16UI]:_e.UINT,[e.RG32I]:_e.INT,[e.RG32UI]:_e.UINT,[e.RGB8I]:_e.INT,[e.RGB8UI]:_e.UINT,[e.RGB16I]:_e.INT,[e.RGB16UI]:_e.UINT,[e.RGB32I]:_e.INT,[e.RGB32UI]:_e.UINT,[e.RGBA8I]:_e.INT,[e.RGBA8UI]:_e.UINT,[e.RGBA16I]:_e.INT,[e.RGBA16UI]:_e.UINT,[e.RGBA32I]:_e.INT,[e.RGBA32UI]:_e.UINT,[e.DEPTH_COMPONENT16]:_e.FLOAT,[e.DEPTH_COMPONENT24]:_e.FLOAT,[e.DEPTH_COMPONENT32F]:_e.FLOAT,[e.DEPTH_STENCIL]:_e.FLOAT,[e.DEPTH24_STENCIL8]:_e.FLOAT,[e.DEPTH32F_STENCIL8]:_e.FLOAT}:t={[e.RGB]:_e.FLOAT,[e.RGBA]:_e.FLOAT,[e.ALPHA]:_e.FLOAT,[e.LUMINANCE]:_e.FLOAT,[e.LUMINANCE_ALPHA]:_e.FLOAT,[e.DEPTH_STENCIL]:_e.FLOAT},t}function CQ(e){let t;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?t={[Le.UNSIGNED_BYTE]:{[ce.RGBA]:e.RGBA8,[ce.RGB]:e.RGB8,[ce.RG]:e.RG8,[ce.RED]:e.R8,[ce.RGBA_INTEGER]:e.RGBA8UI,[ce.RGB_INTEGER]:e.RGB8UI,[ce.RG_INTEGER]:e.RG8UI,[ce.RED_INTEGER]:e.R8UI,[ce.ALPHA]:e.ALPHA,[ce.LUMINANCE]:e.LUMINANCE,[ce.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Le.BYTE]:{[ce.RGBA]:e.RGBA8_SNORM,[ce.RGB]:e.RGB8_SNORM,[ce.RG]:e.RG8_SNORM,[ce.RED]:e.R8_SNORM,[ce.RGBA_INTEGER]:e.RGBA8I,[ce.RGB_INTEGER]:e.RGB8I,[ce.RG_INTEGER]:e.RG8I,[ce.RED_INTEGER]:e.R8I},[Le.UNSIGNED_SHORT]:{[ce.RGBA_INTEGER]:e.RGBA16UI,[ce.RGB_INTEGER]:e.RGB16UI,[ce.RG_INTEGER]:e.RG16UI,[ce.RED_INTEGER]:e.R16UI,[ce.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[Le.SHORT]:{[ce.RGBA_INTEGER]:e.RGBA16I,[ce.RGB_INTEGER]:e.RGB16I,[ce.RG_INTEGER]:e.RG16I,[ce.RED_INTEGER]:e.R16I},[Le.UNSIGNED_INT]:{[ce.RGBA_INTEGER]:e.RGBA32UI,[ce.RGB_INTEGER]:e.RGB32UI,[ce.RG_INTEGER]:e.RG32UI,[ce.RED_INTEGER]:e.R32UI,[ce.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[Le.INT]:{[ce.RGBA_INTEGER]:e.RGBA32I,[ce.RGB_INTEGER]:e.RGB32I,[ce.RG_INTEGER]:e.RG32I,[ce.RED_INTEGER]:e.R32I},[Le.FLOAT]:{[ce.RGBA]:e.RGBA32F,[ce.RGB]:e.RGB32F,[ce.RG]:e.RG32F,[ce.RED]:e.R32F,[ce.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[Le.HALF_FLOAT]:{[ce.RGBA]:e.RGBA16F,[ce.RGB]:e.RGB16F,[ce.RG]:e.RG16F,[ce.RED]:e.R16F},[Le.UNSIGNED_SHORT_5_6_5]:{[ce.RGB]:e.RGB565},[Le.UNSIGNED_SHORT_4_4_4_4]:{[ce.RGBA]:e.RGBA4},[Le.UNSIGNED_SHORT_5_5_5_1]:{[ce.RGBA]:e.RGB5_A1},[Le.UNSIGNED_INT_2_10_10_10_REV]:{[ce.RGBA]:e.RGB10_A2,[ce.RGBA_INTEGER]:e.RGB10_A2UI},[Le.UNSIGNED_INT_10F_11F_11F_REV]:{[ce.RGB]:e.R11F_G11F_B10F},[Le.UNSIGNED_INT_5_9_9_9_REV]:{[ce.RGB]:e.RGB9_E5},[Le.UNSIGNED_INT_24_8]:{[ce.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[Le.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ce.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:t={[Le.UNSIGNED_BYTE]:{[ce.RGBA]:e.RGBA,[ce.RGB]:e.RGB,[ce.ALPHA]:e.ALPHA,[ce.LUMINANCE]:e.LUMINANCE,[ce.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[Le.UNSIGNED_SHORT_5_6_5]:{[ce.RGB]:e.RGB},[Le.UNSIGNED_SHORT_4_4_4_4]:{[ce.RGBA]:e.RGBA},[Le.UNSIGNED_SHORT_5_5_5_1]:{[ce.RGBA]:e.RGBA}},t}class gB{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ze,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=CQ(t),this.samplerTypes=IQ(t);const r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new jA(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new jA(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(t,r=0){const{gl:n}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===t&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(t.target,this.emptyTextures[t.target].texture),n[i]=null)}ensureSamplerType(t){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=t-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==_e.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(t){const r=new jA(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r}initTextureType(t,r){var n;r.internalFormat=((n=this.internalFormats[t.type])==null?void 0:n[t.format])??t.format,r.samplerType=this.samplerTypes[r.internalFormat]??_e.FLOAT,this.webGLVersion===2&&t.type===Le.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type}updateTexture(t){var i;const r=t._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(t,r),(i=t.resource)==null?void 0:i.upload(n,t,r))r.samplerType!==_e.FLOAT&&(this.hasIntegerTextures=!0);else{const s=t.realWidth,o=t.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(t.target,0,r.internalFormat,s,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}destroyTexture(t,r){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(t);i!==-1&&Gh(this.managedTextures,i,1)}}updateTextureStyle(t){var n;const r=t._glTextures[this.CONTEXT_UID];r&&((t.mipmap===oo.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=ia.CLAMP:r.wrapMode=t.wrapMode,(n=t.resource)!=null&&n.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)}setStyle(t,r){const n=this.gl;if(r.mipmap&&t.mipmap!==oo.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===gs.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===gs.LINEAR){const s=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===gs.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===gs.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}gB.extension={type:ge.RendererSystem,name:"texture"},Oe.add(gB);class vB{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();t._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),s}disposeTransformFeedback(t,r){const n=t._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<t.buffers.length;o++){const a=t.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}vB.extension={type:ge.RendererSystem,name:"transformFeedback"},Oe.add(vB);class j_{constructor(t){this.renderer=t}init(t){this.screen=new Xe(0,0,t.width,t.height),this.element=t.view||be.ADAPTER.createCanvas(),this.resolution=t.resolution||be.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,r){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var r;t&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}j_.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},j_.extension={type:[ge.RendererSystem,ge.CanvasRendererSystem],name:"_view"},Oe.add(j_),be.PREFER_ENV=Cl.WEBGL2,be.STRICT_TEXTURE_CACHE=!1,be.RENDER_OPTIONS={...D_.defaultOptions,...N_.defaultOptions,...j_.defaultOptions,...U_.defaultOptions},Object.defineProperties(be,{WRAP_MODE:{get(){return Ze.defaultOptions.wrapMode},set(e){et("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ze.defaultOptions.wrapMode=e}},SCALE_MODE:{get(){return Ze.defaultOptions.scaleMode},set(e){et("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ze.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get(){return Ze.defaultOptions.mipmap},set(e){et("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ze.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get(){return Ze.defaultOptions.anisotropicLevel},set(e){et("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ze.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get(){return et("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),wn.defaultResolution},set(e){wn.defaultResolution=e}},FILTER_MULTISAMPLE:{get(){return et("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),wn.defaultMultisample},set(e){wn.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get(){return jl.defaultMaxTextures},set(e){et("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),jl.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get(){return jl.defaultBatchSize},set(e){et("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),jl.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get(){return jl.canUploadSameBuffer},set(e){et("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),jl.canUploadSameBuffer=e}},GC_MODE:{get(){return Gl.defaultMode},set(e){et("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Gl.defaultMode=e}},GC_MAX_IDLE:{get(){return Gl.defaultMaxIdle},set(e){et("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Gl.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get(){return Gl.defaultCheckCountMax},set(e){et("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Gl.defaultCheckCountMax=e}},PRECISION_VERTEX:{get(){return ha.defaultVertexPrecision},set(e){et("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ha.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get(){return ha.defaultFragmentPrecision},set(e){et("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ha.defaultFragmentPrecision=e}}});var cu=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(cu||{});class zA{constructor(t,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}match(t,r=null){return this.fn===t&&this.context===r}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=t?null:r,this.previous=null,r}}const _B=class xi{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new zA(null,null,1/0),this.deltaMS=1/xi.targetFPMS,this.elapsedMS=1/xi.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,r,n=cu.NORMAL){return this._addListener(new zA(t,r,n))}addOnce(t,r,n=cu.NORMAL){return this._addListener(new zA(t,r,n,!0))}_addListener(t){let r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this}remove(t,r){let n=this._head.next;for(;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,r=this._head;for(;r=r.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=t-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=t-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*xi.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,xi.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!xi._shared){const t=xi._shared=new xi;t.autoStart=!0,t._protected=!0}return xi._shared}static get system(){if(!xi._system){const t=xi._system=new xi;t.autoStart=!0,t._protected=!0}return xi._system}};_B.targetFPMS=.06;let Pr=_B;Object.defineProperties(be,{TARGET_FPMS:{get(){return Pr.targetFPMS},set(e){et("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Pr.targetFPMS=e}}});class bB{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,cu.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Pr.shared:new Pr,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}bB.extension=ge.Application,Oe.add(bB);const wB=[];Oe.handleByList(ge.Renderer,wB);function kQ(e){for(const t of wB)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}var OQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PQ=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const RQ=OQ,xB=PQ;class EB{constructor(t){this.renderer=t}contextChange(t){let r;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}r>=hr.HIGH?this.multisample=hr.HIGH:r>=hr.MEDIUM?this.multisample=hr.MEDIUM:r>=hr.LOW?this.multisample=hr.LOW:this.multisample=hr.NONE}destroy(){}}EB.extension={type:ge.RendererSystem,name:"_multisample"},Oe.add(EB);class MQ{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class SB{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);r.bindBuffer(t.type,i.buffer)}unbind(t){const{gl:r}=this;r.bindBuffer(t,null)}bindBufferBase(t,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==t){const s=t._glBuffers[i]||this.createGLBuffer(t);this.boundBufferBases[r]=t,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(t,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=t._glBuffers[s]||this.createGLBuffer(t);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==i.updateID)if(i.updateID=t._updateID,r.bindBuffer(t.type,i.buffer),i.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{const s=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,s)}}dispose(t,r){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)}createGLBuffer(t){const{CONTEXT_UID:r,gl:n}=this;return t._glBuffers[r]=new MQ(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]}}SB.extension={type:ge.RendererSystem,name:"buffer"},Oe.add(SB);class AB{constructor(t){this.renderer=t}render(t,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=t),!a){const u=t.enableTempParent();t.updateTransform(),t.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}AB.extension={type:ge.RendererSystem,name:"objectRenderer"},Oe.add(AB);const z_=class uR extends TQ{constructor(t){super(),this.type=s3.WEBGL,t=Object.assign({},be.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new bs({projectionMatrix:new Dt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:uR.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in t&&(et("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=uR.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:rK()}render(t,r){this.objectRenderer.render(t,r)}resize(t,r){this._view.resizeView(t,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return et("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return et("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return et("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return et("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){et("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return et("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){et("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return et("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,r){return this.textureGenerator.generateTexture(t,r)}};z_.extension={type:ge.Renderer,priority:1},z_.__plugins={},z_.__systems={};let HA=z_;Oe.handleByMap(ge.RendererPlugin,HA.__plugins),Oe.handleByMap(ge.RendererSystem,HA.__systems),Oe.add(HA);class TB extends rm{constructor(t,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<t;s++){const o=new Ze;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,r){for(let n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof rm?this.addResourceAt(t[n],n):this.addResourceAt(NL(t[n],r),n))}dispose(){for(let t=0,r=this.length;t<r;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[r].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)}unbind(t){super.unbind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)}load(){if(this._load)return this._load;const t=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(t).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class NQ extends TB{constructor(t,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(t)?(s=t,o=t.length):o=t,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(t,r){if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=Oh.TEXTURE_2D_ARRAY}upload(t,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=t;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const l=o[u];s[u]<l.dirtyId&&(s[u]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,r.format,n.type,l.resource.source))}return!0}}class DQ extends lu{constructor(t){super(t)}static test(t){const{OffscreenCanvas:r}=globalThis;return r&&t instanceof r?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const IB=class Ng extends TB{constructor(t,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(t&&t.length!==Ng.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Ng.SIDES;a++)this.items[a].target=Oh.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,t&&this.initFromArray(t,r),s!==!1&&this.load()}bind(t){super.bind(t),t.target=Oh.TEXTURE_CUBE_MAP}addBaseTextureAt(t,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Oh.TEXTURE_CUBE_MAP_POSITIVE_X+r,t.parentTextureArray=this.baseTexture,this.items[r]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[r]=t,this}upload(t,r,n){const i=this.itemDirtyIds;for(let s=0;s<Ng.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(t,o,n),i[s]=o.dirtyId):i[s]<-1&&(t.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Ng.SIDES}};IB.SIDES=6;let LQ=IB;class Wh extends lu{constructor(t,r){r=r||{};let n,i,s;typeof t=="string"?(n=Wh.EMPTY,i=t,s=!0):(n=t,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,r)=>{if(this.url===null){t(this);return}try{const n=await be.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Gn.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),t(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(t,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(t,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){return Wh._EMPTY=Wh._EMPTY??be.ADAPTER.createCanvas(0,0),Wh._EMPTY}}const GA=class ox extends lu{constructor(t,r){r=r||{},super(be.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.update(),t(this)},ox.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;lu.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=r=>{this._resolve&&(t.onerror=null,this.onError.emit(r))},t.onload=()=>{if(!this._resolve)return;const r=t.width,n=t.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${Nl()}`,o.getContext("2d").drawImage(t,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(t){const r=ox.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,r){return r==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&ox.SVG_XML.test(t)}};GA.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,GA.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let $A=GA;const VA=class lR extends lu{constructor(t,r){if(r=r||{},!(t instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof t=="string"&&(t=[t]);const i=t[0].src||t[0];lu.crossOrigin(n,i,r.crossorigin);for(let s=0;s<t.length;++s){const o=document.createElement("source");let{src:a,mime:u}=t[s];if(a=a||t[s],a.startsWith("data:"))u=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const l=a.split("?").shift().toLowerCase(),h=l.slice(l.lastIndexOf(".")+1);u=u||lR.MIME_TYPES[h]||`video/${h}`}o.src=a,u&&(o.type=u),n.appendChild(o)}t=n}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){if(this._updateFPS){const r=Pr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._configureAutoUpdate();const t=this.source;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Pr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Pr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Pr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||lR.TYPES.includes(r)}};VA.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],VA.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let CB=VA;TA.push(Wh,XL,DQ,CB,$A,w_,LQ,NQ);class H_{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Xe.EMPTY:(t=t||new Xe(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,r){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=t,l=n*r.x+s*r.y+a,h=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(t){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=t[0],a=t[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=t[2],a=t[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=t[4],a=t[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=t[6],a=t[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(t,r,n,i,s){this.addFrameMatrix(t.worldTransform,r,n,i,s)}addFrameMatrix(t,r,n,i,s){const o=t.a,a=t.b,u=t.c,l=t.d,h=t.tx,f=t.ty;let p=this.minX,m=this.minY,y=this.maxX,v=this.maxY,w=o*r+u*n+h,_=a*r+l*n+f;p=w<p?w:p,m=_<m?_:m,y=w>y?w:y,v=_>v?_:v,w=o*i+u*n+h,_=a*i+l*n+f,p=w<p?w:p,m=_<m?_:m,y=w>y?w:y,v=_>v?_:v,w=o*r+u*s+h,_=a*r+l*s+f,p=w<p?w:p,m=_<m?_:m,y=w>y?w:y,v=_>v?_:v,w=o*i+u*s+h,_=a*i+l*s+f,p=w<p?w:p,m=_<m?_:m,y=w>y?w:y,v=_>v?_:v,this.minX=p,this.minY=m,this.maxX=y,this.maxY=v}addVertexData(t,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=r;u<n;u+=2){const l=t[u],h=t[u+1];i=l<i?l:i,s=h<s?h:s,o=l>o?l:o,a=h>a?h:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)}addVerticesMatrix(t,r,n,i,s=0,o=s){const a=t.a,u=t.b,l=t.c,h=t.d,f=t.tx,p=t.ty;let m=this.minX,y=this.minY,v=this.maxX,w=this.maxY;for(let _=n;_<i;_+=2){const x=r[_],E=r[_+1],T=a*x+l*E+f,R=h*E+u*x+p;m=Math.min(m,T-s),v=Math.max(v,T+s),y=Math.min(y,R-o),w=Math.max(w,R+o)}this.minX=m,this.minY=y,this.maxX=v,this.maxY=w}addBounds(t){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>s?t.maxY:s}addBoundsMask(t,r){const n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,s=t.maxX<r.maxX?t.maxX:r.maxX,o=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>h?o:h}}addBoundsMatrix(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,r){const n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,s=t.maxX<r.x+r.width?t.maxX:r.x+r.width,o=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,h=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>h?o:h}}pad(t=0,r=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)}addFramePad(t,r,n,i,s,o){t-=s,r-=o,n+=s,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class zt extends $p{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new k_,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new H_,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const r=Object.keys(t);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(zt.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,r){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Xe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Xe),t=this._localBoundsRect),this._localBounds||(this._localBounds=new H_);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,t);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(t,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,r)}toLocal(t,r,n,i){return r&&(t=r.toGlobal(t,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,r=0,n=1,i=1,s=0,o=0,a=0,u=0,l=0){return this.position.x=t,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=l,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new BQ),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*OK}set angle(t){this.transform.rotation=t*PK}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=t,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class BQ extends zt{constructor(){super(...arguments),this.sortDirty=null}}zt.prototype.displayObjectUpdateTransform=zt.prototype.updateTransform;const FQ=new Dt;function UQ(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const kB=class cR extends zt{constructor(){super(),this.children=[],this.sortableChildren=cR.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let r=0;r<t.length;r++)this.addChild(t[r]);else{const r=t[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return t[0]}addChildAt(t,r){if(r<0||r>this.children.length)throw new Error(`${t}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(r,0,t),this._boundsID++,this.onChildrenChange(r),t.emit("added",this),this.emit("childAdded",t,this,r),t}swapChildren(t,r){if(t===r)return;const n=this.getChildIndex(t),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=t,this.onChildrenChange(n<i?n:i)}getChildIndex(t){const r=this.children.indexOf(t);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(t,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(t);Gh(this.children,n,1),this.children.splice(r,0,t),this.onChildrenChange(r)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let r=0;r<t.length;r++)this.removeChild(t[r]);else{const r=t[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Gh(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return t[0]}removeChildAt(t){const r=this.getChildAt(t);return r.parent=null,r.transform._parentID=-1,Gh(this.children,t,1),this._boundsID++,this.onChildrenChange(t),r.emit("removed",this),this.emit("childRemoved",r,this,t),r}removeChildren(t=0,r=this.children.length){const n=t,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!t&&i.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(UQ),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,r=this.children.length;t<r;++t){const n=this.children[t];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const r=this.children[t];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,r=!1){const n=super.getLocalBounds(t);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(t){const r=t.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==cR.prototype._render&&(n=this.getBounds(!0));const s=t.projection.transform;if(s&&(i?(i=FQ.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(t);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const u=this.children[o],l=u.cullable;u.cullable=l||!this.cullArea,u.render(t),u.cullable=l}}render(t){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(t)}}renderAdvanced(t){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<r.length;u++)r[u].enabled&&this._enabledFilters.push(r[u])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==vr.NONE));if(i&&t.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let u=0,l=this.children.length;u<l;++u)this.children[u].render(t)}i&&t.batch.flush(),n&&t.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const r=typeof t=="boolean"?t:t==null?void 0:t.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const r=this.getLocalBounds().width;r!==0?this.scale.x=t/r:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const r=this.getLocalBounds().height;r!==0?this.scale.y=t/r:this.scale.y=1,this._height=t}};kB.defaultSortableChildren=!1;let xn=kB;xn.prototype.containerUpdateTransform=xn.prototype.updateTransform,Object.defineProperties(be,{SORTABLE_CHILDREN:{get(){return xn.defaultSortableChildren},set(e){et("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),xn.defaultSortableChildren=e}}});var G_=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(G_||{});const am=new nt,jQ=new Uint16Array([0,1,2,0,2,3]);class go extends xn{constructor(t){super(),this._anchor=new mo(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Tt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ue.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||me.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=jQ,this.pluginName="batch",this.isSprite=!0,this._roundPixels=be.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ou(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ou(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,l=this.vertexData,h=t.trim,f=t.orig,p=this._anchor;let m=0,y=0,v=0,w=0;if(h?(y=h.x-p._x*f.width,m=y+h.width,w=h.y-p._y*f.height,v=w+h.height):(y=-p._x*f.width,m=y+f.width,w=-p._y*f.height,v=w+f.height),l[0]=n*y+s*w+a,l[1]=o*w+i*y+u,l[2]=n*m+s*w+a,l[3]=o*w+i*m+u,l[4]=n*m+s*v+a,l[5]=o*v+i*m+u,l[6]=n*y+s*v+a,l[7]=o*v+i*y+u,this._roundPixels){const _=be.RESOLUTION;for(let x=0;x<l.length;++x)l[x]=Math.round(l[x]*_)/_}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,r=this.vertexTrimmedData,n=t.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,l=s.d,h=s.tx,f=s.ty,p=-i._x*n.width,m=p+n.width,y=-i._y*n.height,v=y+n.height;if(r[0]=o*p+u*y+h,r[1]=l*y+a*p+f,r[2]=o*m+u*y+h,r[3]=l*y+a*m+f,r[4]=o*m+u*v+h,r[5]=l*v+a*m+f,r[6]=o*p+u*v+h,r[7]=l*v+a*p+f,this._roundPixels){const w=be.RESOLUTION;for(let _=0;_<r.length;++_)r[_]=Math.round(r[_]*w)/w}}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,r=this._texture.orig;!t||t.width===r.width&&t.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new H_),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Xe),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,am);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return am.x>=i&&am.x<i+r&&(s=-n*this.anchor.y,am.y>=s&&am.y<s+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(t,r){const n=t instanceof me?t:me.from(t,r);return new go(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const r=ou(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const r=ou(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||me.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const $_={willReadFrequently:!0},vo=class Me{static get experimentalLetterSpacingSupported(){let t=Me._experimentalLetterSpacingSupported;if(t!==void 0){const r=be.ADAPTER.getCanvasRenderingContext2D().prototype;t=Me._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return t}constructor(t,r,n,i,s,o,a,u,l){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=l}static measureText(t,r,n,i=Me._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=Me.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",$_);a.font=s;const u=(n?Me.wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),l=new Array(u.length);let h=0;for(let y=0;y<u.length;y++){const v=Me._measureText(u[y],r.letterSpacing,a);l[y]=v,h=Math.max(h,v)}let f=h+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let m=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(u.length-1)*(p+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new Me(t,r,f,m,u,l,p+r.leading,h,o)}static _measureText(t,r,n){let i=!1;Me.experimentalLetterSpacingSupported&&(Me.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(t).width;return s>0&&(i?s-=r:s+=(Me.graphemeSegmenter(t).length-1)*r),s}static wordWrap(t,r,n=Me._canvas){const i=n.getContext("2d",$_);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:l,whiteSpace:h}=r,f=Me.collapseSpaces(h),p=Me.collapseNewlines(h);let m=!f;const y=r.wordWrapWidth+l,v=Me.tokenize(t);for(let w=0;w<v.length;w++){let _=v[w];if(Me.isNewline(_)){if(!p){a+=Me.addLine(o),m=!f,o="",s=0;continue}_=" "}if(f){const E=Me.isBreakingSpace(_),T=Me.isBreakingSpace(o[o.length-1]);if(E&&T)continue}const x=Me.getFromCache(_,l,u,i);if(x>y)if(o!==""&&(a+=Me.addLine(o),o="",s=0),Me.canBreakWords(_,r.breakWords)){const E=Me.wordWrapSplit(_);for(let T=0;T<E.length;T++){let R=E[T],P=R,k=1;for(;E[T+k];){const V=E[T+k];if(!Me.canBreakChars(P,V,_,T,r.breakWords))R+=V;else break;P=V,k++}T+=k-1;const M=Me.getFromCache(R,l,u,i);M+s>y&&(a+=Me.addLine(o),m=!1,o="",s=0),o+=R,s+=M}}else{o.length>0&&(a+=Me.addLine(o),o="",s=0);const E=w===v.length-1;a+=Me.addLine(_,!E),m=!1,o="",s=0}else x+s>y&&(m=!1,a+=Me.addLine(o),o="",s=0),(o.length>0||!Me.isBreakingSpace(_)||m)&&(o+=_,s+=x)}return a+=Me.addLine(o,!1),a}static addLine(t,r=!0){return t=Me.trimRight(t),t=r?`${t}
`:t,t}static getFromCache(t,r,n,i){let s=n[t];return typeof s!="number"&&(s=Me._measureText(t,r,i)+r,n[t]=s),s}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let r=t.length-1;r>=0;r--){const n=t[r];if(!Me.isBreakingSpace(n))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:Me._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,r){return typeof t!="string"?!1:Me._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const r=[];let n="";if(typeof t!="string")return r;for(let i=0;i<t.length;i++){const s=t[i],o=t[i+1];if(Me.isBreakingSpace(s,o)||Me.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(t,r){return r}static canBreakChars(t,r,n,i,s){return!0}static wordWrapSplit(t){return Me.graphemeSegmenter(t)}static measureFont(t){if(Me._fonts[t])return Me._fonts[t];const r={ascent:0,descent:0,fontSize:0},n=Me._canvas,i=Me._context;i.font=t;const s=Me.METRICS_STRING+Me.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(Me.BASELINE_SYMBOL).width);const u=Math.ceil(Me.HEIGHT_MULTIPLIER*a);if(a=a*Me.BASELINE_MULTIPLIER|0,o===0||u===0)return Me._fonts[t]=r,r;n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const l=i.getImageData(0,0,o,u).data,h=l.length,f=o*4;let p=0,m=0,y=!1;for(p=0;p<a;++p){for(let v=0;v<f;v+=4)if(l[m+v]!==255){y=!0;break}if(!y)m+=f;else break}for(r.ascent=a-p,m=h-f,y=!1,p=u;p>a;--p){for(let v=0;v<f;v+=4)if(l[m+v]!==255){y=!0;break}if(!y)m-=f;else break}return r.descent=p-a,r.fontSize=r.ascent+r.descent,Me._fonts[t]=r,r}static clearMetrics(t=""){t?delete Me._fonts[t]:Me._fonts={}}static get _canvas(){var t;if(!Me.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((t=n.getContext("2d",$_))!=null&&t.measureText)return Me.__canvas=n,n;r=be.ADAPTER.createCanvas()}catch{r=be.ADAPTER.createCanvas()}r.width=r.height=10,Me.__canvas=r}return Me.__canvas}static get _context(){return Me.__context||(Me.__context=Me._canvas.getContext("2d",$_)),Me.__context}};vo.METRICS_STRING="|\xC9q\xC5",vo.BASELINE_SYMBOL="M",vo.BASELINE_MULTIPLIER=1.4,vo.HEIGHT_MULTIPLIER=2,vo.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map(r=>r.segment)}return e=>[...e]})(),vo.experimentalLetterSpacing=!1,vo._fonts={},vo._newlines=[10,13],vo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let hu=vo;const zQ=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],OB=class Dg{constructor(t){this.styleID=0,this.reset(),qA(this,t,t)}clone(){const t={};return qA(t,this,Dg.defaultStyle),new Dg(t)}reset(){qA(this,Dg.defaultStyle,Dg.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const r=WA(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const r=WA(t);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){HQ(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const r=WA(t);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!zQ.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${r.join(",")}`}};OB.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:G_.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let du=OB;function WA(e){const t=Tt.shared,r=n=>{const i=t.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(e)?e.map(r):r(e)}function HQ(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function qA(e,t,r){for(const n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}const GQ={texture:!0,children:!1,baseTexture:!0},PB=class hR extends go{constructor(t,r,n){let i=!1;n||(n=be.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=me.from(n);s.orig=new Xe,s.trim=new Xe,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=hR.defaultResolution??be.RESOLUTION,this._autoResolution=hR.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return hu.experimentalLetterSpacing}static set experimentalLetterSpacing(t){et("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),hu.experimentalLetterSpacing=t}updateText(t){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const n=this.context,i=hu.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,u=i.lineHeight,l=i.lineWidths,h=i.maxLineWidth,f=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let p,m;const y=r.dropShadow?2:1;for(let v=0;v<y;++v){const w=r.dropShadow&&v===0,_=w?Math.ceil(Math.max(1,o)+r.padding*2):0,x=_*this._resolution;if(w){n.fillStyle="black",n.strokeStyle="black";const T=r.dropShadowColor,R=r.dropShadowBlur*this._resolution,P=r.dropShadowDistance*this._resolution;n.shadowColor=Tt.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=R,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*P,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*P+x}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let E=(u-f.fontSize)/2;u-f.fontSize<0&&(E=0);for(let T=0;T<a.length;T++)p=r.strokeThickness/2,m=r.strokeThickness/2+T*u+f.ascent+E,r.align==="right"?p+=h-l[T]:r.align==="center"&&(p+=(h-l[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[T],p+r.padding,m+r.padding-_,!0),r.fill&&this.drawLetterSpacing(a[T],p+r.padding,m+r.padding-_)}this.updateTexture()}drawLetterSpacing(t,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(hu.experimentalLetterSpacingSupported&&(hu.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(t,r,n):this.context.fillText(t,r,n);return}let a=r;const u=hu.graphemeSegmenter(t);let l=this.context.measureText(t).width,h=0;for(let f=0;f<u.length;++f){const p=u[f];i?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let y=f+1;y<u.length;++y)m+=u[y];h=this.context.measureText(m).width,a+=l-h+s,l=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const o=_K(t);o.data&&(t.width=o.width,t.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=t.width/this._resolution,r.trim.height=r._frame.height=t.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,r){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,r)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,r,n){const i=t.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,u=this.canvas.width/this._resolution-o-a*2,l=this.canvas.height/this._resolution-o-a*2,h=i.slice(),f=t.fillGradientStops.slice();if(!f.length){const p=h.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(h.unshift(i[0]),f.unshift(0),h.push(i[i.length-1]),f.push(1),t.fillGradientType===G_.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,a,u/2,l+a);const p=n.fontProperties.fontSize+t.strokeThickness;for(let m=0;m<r.length;m++){const y=n.lineHeight*(m-1)+p,v=n.lineHeight*m;let w=v;m>0&&y>v&&(w=(v+y)/2);const _=v+p,x=n.lineHeight*(m+1);let E=_;m+1<r.length&&x<_&&(E=(_+x)/2);const T=(E-w)/l;for(let R=0;R<h.length;R++){let P=0;typeof f[R]=="number"?P=f[R]:P=R/h.length;let k=Math.min(1,Math.max(0,w/l+P*T));k=Number(k.toFixed(5)),s.addColorStop(k,h[R])}}}else{s=this.context.createLinearGradient(a,l/2,u+a,l/2);const p=h.length+1;let m=1;for(let y=0;y<h.length;y++){let v;typeof f[y]=="number"?v=f[y]:v=m/p,s.addColorStop(v,h[y]),m++}}return s}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},GQ,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const r=ou(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const r=ou(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof du?this._style=t:this._style=new du(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};PB.defaultAutoResolution=!0;let ZA=PB;class V_{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class W_{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const l in a){const h=a[l].split("="),f=h[0],p=h[1].replace(/"/gm,""),m=parseFloat(p),y=isNaN(m)?p:m;u[f]=y}n[o].push(u)}const i=new V_;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class XA{static test(t){const r=t;return typeof t!="string"&&"getElementsByTagName"in t&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const r=new V_,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),u=t.getElementsByTagName("distanceField");for(let l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(let l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(let l=0;l<s.length;l++)r.page.push({id:parseInt(s[l].getAttribute("id"),10)||0,file:s[l].getAttribute("file")});for(let l=0;l<o.length;l++){const h=o[l];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let l=0;l<a.length;l++)r.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(let l=0;l<u.length;l++)r.distanceField.push({fieldType:u[l].getAttribute("fieldType"),distanceRange:parseInt(u[l].getAttribute("distanceRange"),10)});return r}}class YA{static test(t){return typeof t=="string"&&t.includes("<font>")?XA.test(be.ADAPTER.parseXML(t)):!1}static parse(t){return XA.parse(be.ADAPTER.parseXML(t))}}const KA=[W_,XA,YA];function $Q(e){for(let t=0;t<KA.length;t++)if(KA[t].test(e))return KA[t];return null}function VQ(e,t,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,h=e.width/n-u-l*2,f=e.height/n-u-l*2,p=o.slice(),m=r.fillGradientStops.slice();if(!m.length){const y=p.length+1;for(let v=1;v<y;++v)m.push(v/y)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),r.fillGradientType===G_.LINEAR_VERTICAL){a=t.createLinearGradient(h/2,l,h/2,f+l);let y=0;const v=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let w=0;w<i.length;w++){const _=s.lineHeight*w;for(let x=0;x<p.length;x++){let E=0;typeof m[x]=="number"?E=m[x]:E=x/p.length;const T=_/f+E*v;let R=Math.max(y,T);R=Math.min(R,1),a.addColorStop(R,p[x]),y=R}}}else{a=t.createLinearGradient(l,f/2,h+l,f/2);const y=p.length+1;let v=1;for(let w=0;w<p.length;w++){let _;typeof m[w]=="number"?_=m[w]:_=v/y,a.addColorStop(_,p[w]),v++}}return a}function WQ(e,t,r,n,i,s,o){const a=r.text,u=r.fontProperties;t.translate(n,i),t.scale(s,s);const l=o.strokeThickness/2,h=-(o.strokeThickness/2);if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=VQ(e,t,o,s,[a],r),t.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=o.dropShadowBlur*s,m=o.dropShadowDistance*s;t.shadowColor=Tt.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),t.shadowBlur=p,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*m,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*m}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,l,h+r.lineHeight-u.descent),o.fill&&t.fillText(a,l,h+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function q_(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}function RB(e){return Array.from?Array.from(e):e.split("")}function qQ(e){typeof e=="string"&&(e=[e]);const t=[];for(let r=0,n=e.length;r<n;r++){const i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)t.push(String.fromCharCode(a))}else t.push(...RB(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const fu=class qo{constructor(t,r,n){var h;const[i]=t.info,[s]=t.common,[o]=t.page,[a]=t.distanceField,u=ca(o.file),l={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=l;for(let f=0;f<t.page.length;f++){const{id:p,file:m}=t.page[f];l[p]=r instanceof Array?r[f]:r[m],a!=null&&a.fieldType&&a.fieldType!=="none"&&(l[p].baseTexture.alphaMode=Gn.NO_PREMULTIPLIED_ALPHA,l[p].baseTexture.mipmap=oo.OFF)}for(let f=0;f<t.char.length;f++){const{id:p,page:m}=t.char[f];let{x:y,y:v,width:w,height:_,xoffset:x,yoffset:E,xadvance:T}=t.char[f];y/=u,v/=u,w/=u,_/=u,x/=u,E/=u,T/=u;const R=new Xe(y+l[m].frame.x/u,v+l[m].frame.y/u,w,_);this.chars[p]={xOffset:x,yOffset:E,xAdvance:T,kerning:{},texture:new me(l[m].baseTexture,R),page:m}}for(let f=0;f<t.kerning.length;f++){let{first:p,second:m,amount:y}=t.kerning[f];p/=u,m/=u,y/=u,this.chars[m]&&(this.chars[m].kerning[p]=y)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((h=a==null?void 0:a.fieldType)==null?void 0:h.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,r,n){let i;if(t instanceof V_)i=t;else{const o=$Q(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof me&&(r=[r]);const s=new qo(i,r,n);return qo.available[s.font]=s,s}static uninstall(t){const r=qo.available[t];if(!r)throw new Error(`No font found named '${t}'`);r.destroy(),delete qo.available[t]}static from(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:u,...l}=Object.assign({},qo.defaultOptions,n),h=qQ(i),f=r instanceof du?r:new du(r),p=a,m=new V_;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let y=0,v=0,w,_,x,E=0;const T=[];for(let P=0;P<h.length;P++){w||(w=be.ADAPTER.createCanvas(),w.width=a,w.height=u,_=w.getContext("2d"),x=new Ze(w,{resolution:o,...l}),T.push(new me(x)),m.page.push({id:T.length-1,file:""}));const k=h[P],M=hu.measureText(k,f,!1,w),V=M.width,H=Math.ceil(M.height),X=Math.ceil((f.fontStyle==="italic"?2:1)*V);if(v>=u-H*o){if(v===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${k}')`);--P,w=null,_=null,x=null,v=0,y=0,E=0;continue}if(E=Math.max(H+M.fontProperties.descent,E),X*o+y>=p){if(y===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${k}')`);--P,v+=E*o,v=Math.ceil(v),y=0,E=0;continue}WQ(w,_,M,y,v,o,f);const Q=q_(M.text);m.char.push({id:Q,page:T.length-1,x:y/o,y:v/o,width:X,height:H,xoffset:0,yoffset:0,xadvance:V-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),y+=(X+2*s)*o,y=Math.ceil(y)}if(!(n!=null&&n.skipKerning))for(let P=0,k=h.length;P<k;P++){const M=h[P];for(let V=0;V<k;V++){const H=h[V],X=_.measureText(M).width,Q=_.measureText(H).width,W=_.measureText(M+H).width-(X+Q);W&&m.kerning.push({first:q_(M),second:q_(H),amount:W})}}const R=new qo(m,T,!0);return qo.available[t]!==void 0&&qo.uninstall(t),qo.available[t]=R,R}};fu.ALPHA=[["a","z"],["A","Z"]," "],fu.NUMERIC=[["0","9"]],fu.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],fu.ASCII=[[" ","~"]],fu.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:fu.ALPHANUMERIC},fu.available={};let pu=fu;class ZQ{constructor(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const QA=new nt,MB=new Dl,NB=class I$ extends xn{constructor(t,r,n,i=ys.TRIANGLES){super(),this.geometry=t,this.shader=r,this.state=n||po.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=be.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ys.TRIANGLES&&r.length<I$.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),t.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(r),t.state.set(this.state),t.geometry.bind(this.geometry,r),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)}calculateVertices(){const t=this.geometry.buffers[0],r=t.data,n=t._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,l=i.tx,h=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=r[p*2],y=r[p*2+1];f[p*2]=s*m+a*y+l,f[p*2+1]=o*m+u*y+h}if(this._roundPixels){const p=be.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=n}calculateUvs(){const t=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new ZQ(t,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,QA);const r=this.geometry.getBuffer("aVertexPosition").data,n=MB.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const u=i[a]*2,l=i[a+1]*2,h=i[a+2]*2;if(n[0]=r[u],n[1]=r[u+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[h],n[5]=r[h+1],MB.contains(QA.x,QA.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};NB.BATCHABLE_SIZE=100;let um=NB;class Z_ extends uu{constructor(t,r,n){super();const i=new br(t),s=new br(r,!0),o=new br(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Le.FLOAT).addAttribute("aTextureCoord",s,2,!1,Le.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var XQ=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,YQ=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class lm extends yo{constructor(t,r){const n={uSampler:t,alpha:1,uTextureMatrix:Dt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||ha.from(YQ,XQ),n),this._colorDirty=!1,this.uvMatrix=new UA(t),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Tt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const t=this.texture.baseTexture.alphaMode;Tt.shared.setValue(this._tintColor).premultiply(this._alpha,t).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var KQ=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,QQ=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const DB=[],LB=[],BB=[],FB=class C$ extends xn{constructor(t,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:u}=Object.assign({},C$.styleDefaults,r);if(!pu.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Tt(i),this._font=void 0,this._fontName=a,this._fontSize=u,this.text=t,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new mo(()=>{this.dirty=!0},this,0,0),this._roundPixels=be.ROUND_PIXELS,this.dirty=!0,this._resolution=be.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var X;const t=pu.available[this._fontName],r=this.fontSize,n=r/t.size,i=new nt,s=[],o=[],a=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=RB(u),h=this._maxWidth*t.size/r,f=t.distanceFieldType==="none"?DB:LB;let p=null,m=0,y=0,v=0,w=-1,_=0,x=0,E=0,T=0;for(let Q=0;Q<l.length;Q++){const W=l[Q],G=q_(W);if(/(?:\s)/.test(W)&&(w=Q,_=m,T++),W==="\r"||W===`
`){o.push(m),a.push(-1),y=Math.max(y,m),++v,++x,i.x=0,i.y+=t.lineHeight,p=null,T=0;continue}const O=t.chars[G];if(!O)continue;p&&O.kerning[p]&&(i.x+=O.kerning[p]);const D=BB.pop()||{texture:me.EMPTY,line:0,charCode:0,prevSpaces:0,position:new nt};D.texture=O.texture,D.line=v,D.charCode=G,D.position.x=Math.round(i.x+O.xOffset+this._letterSpacing/2),D.position.y=Math.round(i.y+O.yOffset),D.prevSpaces=T,s.push(D),m=D.position.x+Math.max(O.xAdvance-O.xOffset,O.texture.orig.width),i.x+=O.xAdvance+this._letterSpacing,E=Math.max(E,O.yOffset+O.texture.height),p=G,w!==-1&&h>0&&i.x>h&&(++x,Gh(s,1+w-x,1+Q-w),Q=w,w=-1,o.push(_),a.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,_),v++,i.x=0,i.y+=t.lineHeight,p=null,T=0)}const R=l[l.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(m=_),o.push(m),y=Math.max(y,m),a.push(-1));const P=[];for(let Q=0;Q<=v;Q++){let W=0;this._align==="right"?W=y-o[Q]:this._align==="center"?W=(y-o[Q])/2:this._align==="justify"&&(W=a[Q]<0?0:(y-o[Q])/a[Q]),P.push(W)}const k=s.length,M={},V=[],H=this._activePagesMeshData;f.push(...H);for(let Q=0;Q<k;Q++){const W=s[Q].texture,G=W.baseTexture.uid;if(!M[G]){let O=f.pop();if(!O){const L=new Z_;let N,z;t.distanceFieldType==="none"?(N=new lm(me.EMPTY),z=Ue.NORMAL):(N=new lm(me.EMPTY,{program:ha.from(QQ,KQ),uniforms:{uFWidth:0}}),z=Ue.NORMAL_NPM);const U=new um(L,N);U.blendMode=z,O={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:U,vertices:null,uvs:null,indices:null}}O.index=0,O.indexCount=0,O.vertexCount=0,O.uvsCount=0,O.total=0;const{_textureCache:D}=this;D[G]=D[G]||new me(W.baseTexture),O.mesh.texture=D[G],O.mesh.tint=this._tintColor.value,V.push(O),M[G]=O}M[G].total++}for(let Q=0;Q<H.length;Q++)V.includes(H[Q])||this.removeChild(H[Q].mesh);for(let Q=0;Q<V.length;Q++)V[Q].mesh.parent!==this&&this.addChild(V[Q].mesh);this._activePagesMeshData=V;for(const Q in M){const W=M[Q],G=W.total;if(!(((X=W.indices)==null?void 0:X.length)>6*G)||W.vertices.length<um.BATCHABLE_SIZE*2)W.vertices=new Float32Array(4*2*G),W.uvs=new Float32Array(4*2*G),W.indices=new Uint16Array(6*G);else{const O=W.total,D=W.vertices;for(let L=O*4*2;L<D.length;L++)D[L]=0}W.mesh.size=6*G}for(let Q=0;Q<k;Q++){const W=s[Q];let G=W.position.x+P[W.line]*(this._align==="justify"?W.prevSpaces:1);this._roundPixels&&(G=Math.round(G));const O=G*n,D=W.position.y*n,L=W.texture,N=M[L.baseTexture.uid],z=L.frame,U=L._uvs,q=N.index++;N.indices[q*6+0]=0+q*4,N.indices[q*6+1]=1+q*4,N.indices[q*6+2]=2+q*4,N.indices[q*6+3]=0+q*4,N.indices[q*6+4]=2+q*4,N.indices[q*6+5]=3+q*4,N.vertices[q*8+0]=O,N.vertices[q*8+1]=D,N.vertices[q*8+2]=O+z.width*n,N.vertices[q*8+3]=D,N.vertices[q*8+4]=O+z.width*n,N.vertices[q*8+5]=D+z.height*n,N.vertices[q*8+6]=O,N.vertices[q*8+7]=D+z.height*n,N.uvs[q*8+0]=U.x0,N.uvs[q*8+1]=U.y0,N.uvs[q*8+2]=U.x1,N.uvs[q*8+3]=U.y1,N.uvs[q*8+4]=U.x2,N.uvs[q*8+5]=U.y2,N.uvs[q*8+6]=U.x3,N.uvs[q*8+7]=U.y3}this._textWidth=y*n,this._textHeight=(i.y+t.lineHeight)*n;for(const Q in M){const W=M[Q];if(this.anchor.x!==0||this.anchor.y!==0){let L=0;const N=this._textWidth*this.anchor.x,z=this._textHeight*this.anchor.y;for(let U=0;U<W.total;U++)W.vertices[L++]-=N,W.vertices[L++]-=z,W.vertices[L++]-=N,W.vertices[L++]-=z,W.vertices[L++]-=N,W.vertices[L++]-=z,W.vertices[L++]-=N,W.vertices[L++]-=z}this._maxLineHeight=E*n;const G=W.mesh.geometry.getBuffer("aVertexPosition"),O=W.mesh.geometry.getBuffer("aTextureCoord"),D=W.mesh.geometry.getIndex();G.data=W.vertices,O.data=W.uvs,D.data=W.indices,G.update(),O.update(),D.update()}for(let Q=0;Q<s.length;Q++)BB.push(s[Q]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=pu.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:u}=this.worldTransform,l=Math.sqrt(s*s+o*o),h=Math.sqrt(a*a+u*u),f=(Math.abs(l)+Math.abs(h))/2,p=this.fontSize/i,m=t._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=f*r*p*m}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=pu.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!pu.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??pu.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:r}=this,n=pu.available[this._fontName].distanceFieldType==="none"?DB:LB;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=me.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};FB.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let JQ=FB;const UB={loader:ge.LoadParser,resolver:ge.ResolveParser,cache:ge.CacheParser,detection:ge.DetectionParser};Oe.handle(ge.Asset,e=>{const t=e.ref;Object.entries(UB).filter(([r])=>!!t[r]).forEach(([r,n])=>Oe.add(Object.assign(t[r],{extension:t[r].extension??n})))},e=>{const t=e.ref;Object.keys(UB).filter(r=>!!t[r]).forEach(r=>Oe.remove(t[r]))});class eJ{constructor(t,r=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(t){t.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function qh(e,t){if(Array.isArray(t)){for(const r of t)if(e.startsWith(`data:${r}`))return!0;return!1}return e.startsWith(`data:${t}`)}function mu(e,t){const r=e.split("?")[0],n=_r.extname(r).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const ws=(e,t,r=!1)=>(Array.isArray(e)||(e=[e]),t?e.map(n=>typeof n=="string"||r?t(n):n):e),JA=(e,t)=>{const r=t.split("?")[1];return r&&(e+=`?${r}`),e};function jB(e,t,r,n,i){const s=t[r];for(let o=0;o<s.length;o++){const a=s[o];r<t.length-1?jB(e.replace(n[r],a),t,r+1,n,i):i.push(e.replace(n[r],a))}}function tJ(e){const t=/\{(.*?)\}/g,r=e.match(t),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),jB(e,i,0,r,n)}else n.push(e);return n}const X_=e=>!Array.isArray(e);class rJ{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const r=this._cache.get(t);return r||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),r}set(t,r){const n=ws(t);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof me){const a=r;n.forEach(u=>{a.baseTexture!==me.EMPTY.baseTexture&&Ze.addToCache(a.baseTexture,u),me.addToCache(a,u)})}}remove(t){if(!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const r=this._cacheMap.get(t);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const $l=new rJ;class nJ{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,r,n)=>(this._parsersValidated=!1,t[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${t}`)),!s){for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.load&&((o=l.test)!=null&&o.call(l,t,r,this))){s=l;break}}if(!s)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(t,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,i,r,this))&&(i=await l.parse(i,r,this)||i,n.parser=l)}return i})(),n}async load(t,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=X_(t),o=ws(t,l=>({alias:[l],src:l})),a=o.length,u=o.map(async l=>{const h=_r.toAbsolute(l.src);if(!i[l.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,l)),i[l.src]=await this.promiseCache[h].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[h],delete i[l.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(t){const r=ws(t,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=_r.toAbsolute(n.src),s=this.promiseCache[i];if(s){const u=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,u,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,r)=>(t[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...t,[r.name]:r}),{})}}var xs=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(xs||{});const iJ=".json",sJ="application/json",oJ={extension:{type:ge.LoadParser,priority:xs.Low},name:"loadJson",test(e){return qh(e,sJ)||mu(e,iJ)},async load(e){return await(await be.ADAPTER.fetch(e)).json()}};Oe.add(oJ);const aJ=".txt",uJ="text/plain",lJ={name:"loadTxt",extension:{type:ge.LoadParser,priority:xs.Low},test(e){return qh(e,uJ)||mu(e,aJ)},async load(e){return await(await be.ADAPTER.fetch(e)).text()}};Oe.add(lJ);const cJ=["normal","bold","100","200","300","400","500","600","700","800","900"],hJ=[".ttf",".otf",".woff",".woff2"],dJ=["font/ttf","font/otf","font/woff","font/woff2"],fJ=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function pJ(e){const t=_r.extname(e),r=_r.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(fJ)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const mJ=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function yJ(e){return mJ.test(e)?e:encodeURI(e)}const gJ={extension:{type:ge.LoadParser,priority:xs.Low},name:"loadWebFont",test(e){return qh(e,dJ)||mu(e,hJ)},async load(e,t){var n,i,s;const r=be.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=t.data)==null?void 0:n.family)??pJ(e),u=((s=(i=t.data)==null?void 0:i.weights)==null?void 0:s.filter(h=>cJ.includes(h)))??["normal"],l=t.data??{};for(let h=0;h<u.length;h++){const f=u[h],p=new FontFace(a,`url(${yJ(e)})`,{...l,weight:f});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(t=>be.ADAPTER.getFontFaceSet().delete(t))}};Oe.add(gJ);let zB=0,eT;const vJ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",_J={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${vJ}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},bJ={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let tT;class wJ{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const r=URL.createObjectURL(new Blob([_J.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),t(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){eT===void 0&&(eT=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<eT&&(tT||(tT=URL.createObjectURL(new Blob([bJ.code],{type:"application/javascript"}))),this._createdWorkers++,t=new Worker(tT),t.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:t,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const r=this.queue.pop(),n=r.id;this.resolveHash[zB]={resolve:r.resolve,reject:r.reject},t.postMessage({data:r.arguments,uuid:zB++,id:n})}}const HB=new wJ;function cm(e,t,r){e.resource.internal=!0;const n=new me(e),i=()=>{delete t.promiseCache[r],$l.has(r)&&$l.remove(r)};return n.baseTexture.once("destroyed",()=>{r in t.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{e.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const xJ=[".jpeg",".jpg",".png",".webp",".avif"],EJ=["image/jpeg","image/png","image/webp","image/avif"];async function SJ(e){const t=await be.ADAPTER.fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const r=await t.blob();return await createImageBitmap(r)}const Y_={name:"loadTextures",extension:{type:ge.LoadParser,priority:xs.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(e){return qh(e,EJ)||mu(e,xJ)},async load(e,t,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await HB.isImageBitmapSupported()?i=await HB.loadImageBitmap(e):i=await SJ(e):i=await new Promise((u,l)=>{const h=new Image;h.crossOrigin=this.config.crossOrigin,h.src=e,h.complete?u(h):(h.onload=()=>u(h),h.onerror=f=>l(f))});const s={...t.data};s.resolution??(s.resolution=ca(e)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Ze(i,s);return o.resource.src=e,cm(o,r,e)},unload(e){e.destroy(!0)}};Oe.add(Y_);const AJ=".svg",TJ="image/svg+xml",IJ={extension:{type:ge.LoadParser,priority:xs.High},name:"loadSVG",test(e){return qh(e,TJ)||mu(e,AJ)},async testParse(e){return $A.test(e)},async parse(e,t,r){var s;const n=new $A(e,(s=t==null?void 0:t.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ze(n,{resolution:ca(e),...t==null?void 0:t.data});return i.resource.src=t.src,cm(i,r,t.src)},async load(e,t){return(await be.ADAPTER.fetch(e)).text()},unload:Y_.unload};Oe.add(IJ);const CJ=[".mp4",".m4v",".webm",".ogv"],kJ=["video/mp4","video/webm","video/ogg"],OJ={name:"loadVideo",extension:{type:ge.LoadParser,priority:xs.High},config:{defaultAutoPlay:!0},test(e){return qh(e,kJ)||mu(e,CJ)},async load(e,t,r){var o;let n;const i=await(await be.ADAPTER.fetch(e)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions},u=new CB(s,a);await u.load();const l=new Ze(u,{alphaMode:await tK(),resolution:ca(e),...t==null?void 0:t.data});l.resource.src=e,n=cm(l,r,e),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(e){e.destroy(!0)}};Oe.add(OJ);class PJ{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,r)=>`${t}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(t,r)=>r.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const r=t;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(t){const{alias:r,name:n,src:i,srcs:s}=t;return ws(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(t,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const u=this._createBundleAssetId(t,o);n.push(u),a=[o,u]}else{const u=o.map(l=>this._createBundleAssetId(t,l));n.push(...u),a=[...o,...u]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(t,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[t]=n}add(t,r,n,i,s){const o=[];typeof t=="string"||Array.isArray(t)&&typeof t[0]=="string"?(et("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:t,src:r,data:n,format:i,loadParser:s})):Array.isArray(t)?o.push(...t):o.push(t);let a;a=u=>{this.hasKey(u)&&console.warn(`[Resolver] already has key: ${u} overwriting`)},ws(o).forEach(u=>{const{src:l,srcs:h}=u;let{data:f,format:p,loadParser:m}=u;const y=ws(l||h).map(_=>typeof _=="string"?tJ(_):Array.isArray(_)?_:[_]),v=this.getAlias(u);Array.isArray(v)?v.forEach(a):a(v);const w=[];y.forEach(_=>{_.forEach(x=>{let E={};if(typeof x!="object"){E.src=x;for(let T=0;T<this._parsers.length;T++){const R=this._parsers[T];if(R.test(x)){E=R.parse(x);break}}}else f=x.data??f,p=x.format??p,m=x.loadParser??m,E={...E,...x};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${E.src}`);E=this.buildResolvedAsset(E,{aliases:v,data:f,format:p,loadParser:m}),w.push(E)})}),v.forEach(_=>{this._assetMap[_]=w})})}resolveBundle(t){const r=X_(t);t=ws(t);const n={};return t.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const l=o[u];a[this._extractAssetIdFromBundle(i,u)]=l}n[i]=a}}),r?n[t[0]]:n}resolveUrl(t){const r=this.resolve(t);if(typeof t!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(t){const r=X_(t);t=ws(t);const n={};return t.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(u=>{a.params[u].forEach(l=>{const h=s.filter(f=>f[u]?f[u]===l:!1);h.length&&(s=h)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let r=0;r<t.length;r++){const n=t[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const r=/\?/.test(t)?"&":"?";return`${t}${r}${this._defaultSearchParams}`}buildResolvedAsset(t,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(t.src=_r.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=n??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...i||{},...t.data},t.loadParser=s??t.loadParser,t.format=o??_r.extname(t.src).slice(1),t.srcs=t.src,t.name=t.alias,t}}class RJ{constructor(){this._detections=[],this._initialized=!1,this.resolver=new PJ,this.loader=new nJ,this.cache=$l,this._backgroundLoader=new eJ(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let a=t.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=t.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=t.texturePreference)==null?void 0:o.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t,r,n,i,s){this.resolver.add(t,r,n,i,s)}async load(t,r){this._initialized||await this.init();const n=X_(t),i=ws(t).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(t,r){this.resolver.addBundle(t,r)}async loadBundle(t,r){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const i=this.resolver.resolveBundle(t),s={},o=Object.keys(i);let a=0,u=0;const l=()=>{r==null||r(++a/u)},h=o.map(f=>{const p=i[f];return u+=Object.keys(p).length,this._mapLoadToResolve(p,l).then(m=>{s[f]=m})});return await Promise.all(h),n?s[t[0]]:s}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolveBundle(t);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return $l.get(t);const r={};for(let n=0;n<t.length;n++)r[n]=$l.get(t[n]);return r}async _mapLoadToResolve(t,r){const n=Object.values(t),i=Object.keys(t);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const l=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[i[u]]=l,$l.set(h,l)}),o}async unload(t){this._initialized||await this.init();const r=ws(t).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=ws(t);const r=this.resolver.resolveBundle(t),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(t){const r=Object.values(t);r.forEach(n=>{$l.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(t){let r=[];t.preferredFormats&&(r=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const n of t.detections)t.skipDetections||await n.test()?r=await n.add(r):t.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Y_.config.preferWorkers}set preferWorkers(t){et("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in t).forEach(n=>{r.config[n]=t[n]})})}}const hm=new RJ;Oe.handleByList(ge.LoadParser,hm.loader.parsers).handleByList(ge.ResolveParser,hm.resolver.parsers).handleByList(ge.CacheParser,hm.cache.parsers).handleByList(ge.DetectionParser,hm.detections);const MJ={extension:ge.CacheParser,test:e=>Array.isArray(e)&&e.every(t=>t instanceof me),getCacheableAssets:(e,t)=>{const r={};return e.forEach(n=>{t.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Oe.add(MJ);async function GB(e){if("Image"in globalThis)return new Promise(t=>{const r=new Image;r.onload=()=>{t(!0)},r.onerror=()=>{t(!1)},r.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const NJ={extension:{type:ge.DetectionParser,priority:1},test:async()=>GB("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(t=>t!=="avif")};Oe.add(NJ);const DJ={extension:{type:ge.DetectionParser,priority:0},test:async()=>GB("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(t=>t!=="webp")};Oe.add(DJ);const $B=["png","jpg","jpeg"],LJ={extension:{type:ge.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...$B],remove:async e=>e.filter(t=>!$B.includes(t))};Oe.add(LJ);const BJ="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function rT(e){return BJ?!1:document.createElement("video").canPlayType(e)!==""}const FJ={extension:{type:ge.DetectionParser,priority:0},test:async()=>rT("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(t=>t!=="webm")};Oe.add(FJ);const UJ={extension:{type:ge.DetectionParser,priority:0},test:async()=>rT("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(t=>t!=="mp4"&&t!=="m4v")};Oe.add(UJ);const jJ={extension:{type:ge.DetectionParser,priority:0},test:async()=>rT("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(t=>t!=="ogv")};Oe.add(jJ);const zJ={extension:ge.ResolveParser,test:Y_.test,parse:e=>{var t;return{resolution:parseFloat(((t=be.RETINA_PREFIX.exec(e))==null?void 0:t[1])??"1"),format:_r.extname(e).slice(1),src:e}}};Oe.add(zJ);const HJ=[".xml",".fnt"],GJ={extension:{type:ge.LoadParser,priority:xs.Normal},name:"loadBitmapFont",test(e){return HJ.includes(_r.extname(e).toLowerCase())},async testParse(e){return W_.test(e)||YA.test(e)},async parse(e,t,r){const n=W_.test(e)?W_.parse(e):YA.parse(e),{src:i}=t,{page:s}=n,o=[];for(let l=0;l<s.length;++l){const h=s[l].file;let f=_r.join(_r.dirname(i),h);f=JA(f,i),o.push(f)}const a=await r.load(o),u=o.map(l=>a[l]);return pu.install(n,u,!0)},async load(e,t){return(await be.ADAPTER.fetch(e)).text()},unload(e){e.destroy()}};Oe.add(GJ);const K_={build(e){const t=e.points;let r,n,i,s,o,a;if(e.type===Hr.CIRC){const y=e.shape;r=y.x,n=y.y,o=a=y.radius,i=s=0}else if(e.type===Hr.ELIP){const y=e.shape;r=y.x,n=y.y,o=y.width,a=y.height,i=s=0}else{const y=e.shape,v=y.width/2,w=y.height/2;r=y.x+v,n=y.y+w,o=a=Math.max(0,Math.min(y.radius,Math.min(v,w))),i=v-o,s=w-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){t.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),l=u*8+(i?4:0)+(s?4:0);if(t.length=l,l===0)return;if(u===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+s,t[2]=t[4]=r-i,t[5]=t[7]=n-s;return}let h=0,f=u*4+(i?2:0)+2,p=f,m=l;{const y=i+o,v=s,w=r+y,_=r-y,x=n+v;if(t[h++]=w,t[h++]=x,t[--f]=x,t[--f]=_,s){const E=n-v;t[p++]=_,t[p++]=E,t[--m]=E,t[--m]=w}}for(let y=1;y<u;y++){const v=Math.PI/2*(y/u),w=i+Math.cos(v)*o,_=s+Math.sin(v)*a,x=r+w,E=r-w,T=n+_,R=n-_;t[h++]=x,t[h++]=T,t[--f]=T,t[--f]=E,t[p++]=E,t[p++]=R,t[--m]=R,t[--m]=x}{const y=i,v=s+a,w=r+y,_=r-y,x=n+v,E=n-v;t[h++]=w,t[h++]=x,t[--m]=E,t[--m]=w,i&&(t[h++]=_,t[h++]=x,t[--m]=E,t[--m]=_)}},triangulate(e,t){const r=e.points,n=t.points,i=t.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,u;if(e.type!==Hr.RREC){const h=e.shape;a=h.x,u=h.y}else{const h=e.shape;a=h.x+h.width/2,u=h.y+h.height/2}const l=e.matrix;n.push(e.matrix?l.a*a+l.c*u+l.tx:a,e.matrix?l.b*a+l.d*u+l.ty:u),s++,n.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)n.push(r[h],r[h+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function VB(e,t=!1){const r=e.length;if(r<6)return;let n=0;for(let i=0,s=e[r-2],o=e[r-1];i<r;i+=2){const a=e[i],u=e[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!t&&n>0||t&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,u=s,l=s+1;[e[o],e[u]]=[e[u],e[o]],[e[a],e[l]]=[e[l],e[a]]}}}const WB={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points;const n=e.holes,i=t.points,s=t.indices;if(r.length>=6){VB(r,!1);const o=[];for(let l=0;l<n.length;l++){const h=n[l];VB(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=RZ(r,o,2);if(!a)return;const u=i.length/2;for(let l=0;l<a.length;l+=3)s.push(a[l]+u),s.push(a[l+1]+u),s.push(a[l+2]+u);for(let l=0;l<r.length;l++)i.push(r[l])}}},$J={build(e){const t=e.shape,r=t.x,n=t.y,i=t.width,s=t.height,o=e.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(e,t){const r=e.points,n=t.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},VJ={build(e){K_.build(e)},triangulate(e,t){K_.triangulate(e,t)}};var Ri=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(Ri||{}),yu=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(yu||{});const Zh={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class qB{static curveTo(t,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,l=a-t,h=i-r,f=n-t,p=Math.abs(u*f-l*h);if(p<1e-8||s===0)return(o[o.length-2]!==t||o[o.length-1]!==r)&&o.push(t,r),null;const m=u*u+l*l,y=h*h+f*f,v=u*h+l*f,w=s*Math.sqrt(m)/p,_=s*Math.sqrt(y)/p,x=w*v/m,E=_*v/y,T=w*f+_*l,R=w*h+_*u,P=l*(_+x),k=u*(_+x),M=f*(w+E),V=h*(w+E),H=Math.atan2(k-R,P-T),X=Math.atan2(V-R,M-T);return{cx:T+t,cy:R+r,radius:s,startAngle:H,endAngle:X,anticlockwise:l*h>f*u}}static arc(t,r,n,i,s,o,a,u,l){const h=a-o,f=Zh._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/E_)*40),p=h/(f*2),m=p*2,y=Math.cos(p),v=Math.sin(p),w=f-1,_=w%1/w;for(let x=0;x<=w;++x){const E=x+_*x,T=p+o+m*E,R=Math.cos(T),P=-Math.sin(T);l.push((y*R+v*P)*s+n,(y*-P+v*R)*s+i)}}}class WJ{constructor(){this.reset()}begin(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n}end(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class nT{static curveLength(t,r,n,i,s,o,a,u){let l=0,h=0,f=0,p=0,m=0,y=0,v=0,w=0,_=0,x=0,E=0,T=t,R=r;for(let P=1;P<=10;++P)h=P/10,f=h*h,p=f*h,m=1-h,y=m*m,v=y*m,w=v*t+3*y*h*n+3*m*f*s+p*a,_=v*r+3*y*h*i+3*m*f*o+p*u,x=T-w,E=R-_,T=w,R=_,l+=Math.sqrt(x*x+E*E);return l}static curveTo(t,r,n,i,s,o,a){const u=a[a.length-2],l=a[a.length-1];a.length-=2;const h=Zh._segmentsCount(nT.curveLength(u,l,t,r,n,i,s,o));let f=0,p=0,m=0,y=0,v=0;a.push(u,l);for(let w=1,_=0;w<=h;++w)_=w/h,f=1-_,p=f*f,m=p*f,y=_*_,v=y*_,a.push(m*u+3*p*_*t+3*f*y*n+v*s,m*l+3*p*_*r+3*f*y*i+v*o)}}function ZB(e,t,r,n,i,s,o,a){const u=e-r*i,l=t-n*i,h=e+r*s,f=t+n*s;let p,m;o?(p=n,m=-r):(p=-n,m=r);const y=u+p,v=l+m,w=h+p,_=f+m;return a.push(y,v,w,_),2}function Vl(e,t,r,n,i,s,o,a){const u=r-e,l=n-t;let h=Math.atan2(u,l),f=Math.atan2(i-e,s-t);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let p=h;const m=f-h,y=Math.abs(m),v=Math.sqrt(u*u+l*l),w=(15*y*Math.sqrt(v)/Math.PI>>0)+1,_=m/w;if(p+=_,a){o.push(e,t,r,n);for(let x=1,E=p;x<w;x++,E+=_)o.push(e,t,e+Math.sin(E)*v,t+Math.cos(E)*v);o.push(e,t,i,s)}else{o.push(r,n,e,t);for(let x=1,E=p;x<w;x++,E+=_)o.push(e+Math.sin(E)*v,t+Math.cos(E)*v,e,t);o.push(i,s,e,t)}return w*2}function qJ(e,t){const r=e.shape;let n=e.points||r.points.slice();const i=t.closePointEps;if(n.length===0)return;const s=e.lineStyle,o=new nt(n[0],n[1]),a=new nt(n[n.length-2],n[n.length-1]),u=r.type!==Hr.POLY||r.closeStroke,l=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const L=(o.x+a.x)*.5,N=(a.y+o.y)*.5;n.unshift(L,N),n.push(L,N)}const h=t.points,f=n.length/2;let p=n.length;const m=h.length/2,y=s.width/2,v=y*y,w=s.miterLimit*s.miterLimit;let _=n[0],x=n[1],E=n[2],T=n[3],R=0,P=0,k=-(x-T),M=_-E,V=0,H=0,X=Math.sqrt(k*k+M*M);k/=X,M/=X,k*=y,M*=y;const Q=s.alignment,W=(1-Q)*2,G=Q*2;u||(s.cap===yu.ROUND?p+=Vl(_-k*(W-G)*.5,x-M*(W-G)*.5,_-k*W,x-M*W,_+k*G,x+M*G,h,!0)+2:s.cap===yu.SQUARE&&(p+=ZB(_,x,k,M,W,G,!0,h))),h.push(_-k*W,x-M*W,_+k*G,x+M*G);for(let L=1;L<f-1;++L){_=n[(L-1)*2],x=n[(L-1)*2+1],E=n[L*2],T=n[L*2+1],R=n[(L+1)*2],P=n[(L+1)*2+1],k=-(x-T),M=_-E,X=Math.sqrt(k*k+M*M),k/=X,M/=X,k*=y,M*=y,V=-(T-P),H=E-R,X=Math.sqrt(V*V+H*H),V/=X,H/=X,V*=y,H*=y;const N=E-_,z=x-T,U=E-R,q=P-T,J=N*U+z*q,pe=z*U-q*N,fe=pe<0;if(Math.abs(pe)<.001*Math.abs(J)){h.push(E-k*W,T-M*W,E+k*G,T+M*G),J>=0&&(s.join===Ri.ROUND?p+=Vl(E,T,E-k*W,T-M*W,E-V*W,T-H*W,h,!1)+4:p+=2,h.push(E-V*G,T-H*G,E+V*W,T+H*W));continue}const Ne=(-k+_)*(-M+T)-(-k+E)*(-M+x),we=(-V+R)*(-H+T)-(-V+E)*(-H+P),Ce=(N*we-U*Ne)/pe,lt=(q*Ne-z*we)/pe,Ge=(Ce-E)*(Ce-E)+(lt-T)*(lt-T),ze=E+(Ce-E)*W,De=T+(lt-T)*W,ke=E-(Ce-E)*G,Be=T-(lt-T)*G,st=Math.min(N*N+z*z,U*U+q*q),St=fe?W:G,Kt=st+St*St*v,Dn=Ge<=Kt;let dn=s.join;if(dn===Ri.MITER&&Ge/v>w&&(dn=Ri.BEVEL),Dn)switch(dn){case Ri.MITER:{h.push(ze,De,ke,Be);break}case Ri.BEVEL:{fe?h.push(ze,De,E+k*G,T+M*G,ze,De,E+V*G,T+H*G):h.push(E-k*W,T-M*W,ke,Be,E-V*W,T-H*W,ke,Be),p+=2;break}case Ri.ROUND:{fe?(h.push(ze,De,E+k*G,T+M*G),p+=Vl(E,T,E+k*G,T+M*G,E+V*G,T+H*G,h,!0)+4,h.push(ze,De,E+V*G,T+H*G)):(h.push(E-k*W,T-M*W,ke,Be),p+=Vl(E,T,E-k*W,T-M*W,E-V*W,T-H*W,h,!1)+4,h.push(E-V*W,T-H*W,ke,Be));break}}else{switch(h.push(E-k*W,T-M*W,E+k*G,T+M*G),dn){case Ri.MITER:{fe?h.push(ke,Be,ke,Be):h.push(ze,De,ze,De),p+=2;break}case Ri.ROUND:{fe?p+=Vl(E,T,E+k*G,T+M*G,E+V*G,T+H*G,h,!0)+2:p+=Vl(E,T,E-k*W,T-M*W,E-V*W,T-H*W,h,!1)+2;break}}h.push(E-V*W,T-H*W,E+V*G,T+H*G),p+=2}}_=n[(f-2)*2],x=n[(f-2)*2+1],E=n[(f-1)*2],T=n[(f-1)*2+1],k=-(x-T),M=_-E,X=Math.sqrt(k*k+M*M),k/=X,M/=X,k*=y,M*=y,h.push(E-k*W,T-M*W,E+k*G,T+M*G),u||(s.cap===yu.ROUND?p+=Vl(E-k*(W-G)*.5,T-M*(W-G)*.5,E-k*W,T-M*W,E+k*G,T+M*G,h,!1)+2:s.cap===yu.SQUARE&&(p+=ZB(E,T,k,M,W,G,!1,h)));const O=t.indices,D=Zh.epsilon*Zh.epsilon;for(let L=m;L<p+m-2;++L)_=h[L*2],x=h[L*2+1],E=h[(L+1)*2],T=h[(L+1)*2+1],R=h[(L+2)*2],P=h[(L+2)*2+1],!(Math.abs(_*(T-P)+E*(P-x)+R*(x-T))<D)&&O.push(L,L+1,L+2)}function ZJ(e,t){let r=0;const n=e.shape,i=e.points||n.points,s=n.type!==Hr.POLY||n.closeStroke;if(i.length===0)return;const o=t.points,a=t.indices,u=i.length/2,l=o.length/2;let h=l;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,l)}function XB(e,t){e.lineStyle.native?ZJ(e,t):qJ(e,t)}class iT{static curveLength(t,r,n,i,s,o){const a=t-2*n+s,u=r-2*i+o,l=2*n-2*t,h=2*i-2*r,f=4*(a*a+u*u),p=4*(a*l+u*h),m=l*l+h*h,y=2*Math.sqrt(f+p+m),v=Math.sqrt(f),w=2*f*v,_=2*Math.sqrt(m),x=p/v;return(w*y+v*p*(y-_)+(4*m*f-p*p)*Math.log((2*v+x+y)/(x+_)))/(4*w)}static curveTo(t,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=Zh._segmentsCount(iT.curveLength(o,a,t,r,n,i));let l=0,h=0;for(let f=1;f<=u;++f){const p=f/u;l=o+(t-o)*p,h=a+(r-a)*p,s.push(l+(t+(n-t)*p-l)*p,h+(r+(i-r)*p-h)*p)}}}const sT={[Hr.POLY]:WB,[Hr.CIRC]:K_,[Hr.ELIP]:K_,[Hr.RECT]:$J,[Hr.RREC]:VJ},YB=[],Q_=[];class J_{constructor(t,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}clone(){return new J_(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Xh=new nt,KB=class k$ extends LL{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new H_,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Q_.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const r=this.batches[t];r.reset(),YB.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,r=null,n=null,i=null){const s=new J_(t,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(t,r=null){if(!this.graphicsData.length)return null;const n=new J_(t,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,Xh):Xh.copyFrom(t),i.shape.contains(Xh.x,Xh.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Xh.x,Xh.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let u=this.shapeIndex;u<r.length;u++){this.shapeIndex++;const l=r[u],h=l.fillStyle,f=l.lineStyle;sT[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(h.visible||f.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?h:f;if(!m.visible)continue;const y=m.texture.baseTexture,v=this.indices.length,w=this.points.length/2;y.wrapMode=ia.REPEAT,p===0?this.processFill(l):this.processLine(l);const _=this.points.length/2-w;_!==0&&(n&&!this._compareStyles(i,m)&&(n.end(v,w),n=null),n||(n=YB.pop()||new WJ,n.begin(m,v,w),this.batches.push(n),i=m),this.addUvs(this.points,t,m.texture,w,_,m.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,r){return!(!t||!r||t.texture.baseTexture!==r.texture.baseTexture||t.color+t.alpha!==r.color+r.alpha||!!t.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,r=this.graphicsData.length;t<r;t++){const n=this.graphicsData[t],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let r=0,n=t.length;r<n;r++){const i=t[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<k$.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Ze._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Q_.push(this.drawCalls[f]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Q_.pop();i||(i=new CA,i.texArray=new MA),i.texArray.count=0,i.start=0,i.size=0,i.type=ys.TRIANGLES;let s=0,o=null,a=0,u=!1,l=ys.TRIANGLES,h=0;this.drawCalls.push(i);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,y=p.style,v=y.texture.baseTexture;u!==!!y.native&&(u=!!y.native,l=u?ys.LINES:ys.TRIANGLES,o=null,s=m,t++),o!==v&&(o=v,v._batchEnabled!==t&&(s===m&&(t++,s=0,i.size>0&&(i=Q_.pop(),i||(i=new CA,i.texArray=new MA),this.drawCalls.push(i)),i.start=h,i.size=0,i.texArray.count=0,i.type=l),v.touched=1,v._batchEnabled=t,v._batchLocation=s,v.wrapMode=ia.REPEAT,i.texArray.elements[i.texArray.count++]=v,s++)),i.size+=p.size,h+=p.size,a=v._batchLocation,this.addColors(r,y.color,y.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,a,p.attribSize,p.attribStart)}Ze._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(t.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let u=0;for(let l=0;l<t.length/2;l++)o[u++]=t[l*2],o[u++]=t[l*2+1],o[u++]=r[l*2],o[u++]=r[l*2+1],a[u++]=n[l],o[u++]=i[l];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?WB.triangulate(t,this):sT[t.type].triangulate(t,this)}processLine(t){XB(t,this);for(let r=0;r<t.holes.length;r++)XB(t.holes[r],this)}processHoles(t){for(let r=0;r<t.length;r++){const n=t[r];sT[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,r){for(let n=0;n<t.length/2;n++){const i=t[n*2],s=t[n*2+1];t[n*2]=r.a*i+r.c*s+r.tx,t[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(t,r,n,i,s=0){const o=Tt.shared.setValue(r).toLittleEndianNumber(),a=Tt.shared.setValue(o).toPremultiplied(n);t.length=Math.max(t.length,s+i);for(let u=0;u<i;u++)t[s+u]=a}addTextureIds(t,r,n,i=0){t.length=Math.max(t.length,i+n);for(let s=0;s<n;s++)t[i+s]=r}addUvs(t,r,n,i,s,o=null){let a=0;const u=r.length,l=n.frame;for(;a<s;){let f=t[(i+a)*2],p=t[(i+a)*2+1];if(o){const m=o.a*f+o.c*p+o.tx;p=o.b*f+o.d*p+o.ty,f=m}a++,r.push(f/l.width,p/l.height)}const h=n.baseTexture;(l.width<h.width||l.height<h.height)&&this.adjustUvs(r,n,u,s)}adjustUvs(t,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,u=r.frame,l=u.width/s.width,h=u.height/s.height;let f=u.x/u.width,p=u.y/u.height,m=Math.floor(t[n]+o),y=Math.floor(t[n+1]+o);for(let v=n+2;v<a;v+=2)m=Math.min(m,Math.floor(t[v]+o)),y=Math.min(y,Math.floor(t[v+1]+o));f-=m,p-=y;for(let v=n;v<a;v+=2)t[v]=(t[v]+f)*l,t[v+1]=(t[v+1]+p)*h}};KB.BATCHABLE_SIZE=100;let XJ=KB;class e0{constructor(){this.color=16777215,this.alpha=1,this.texture=me.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new e0;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=me.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class oT extends e0{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=yu.BUTT,this.join=Ri.MITER,this.miterLimit=10}clone(){const t=new oT;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=yu.BUTT,this.join=Ri.MITER,this.miterLimit=10}}const aT={},uT=class ax extends xn{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new e0,this._lineStyle=new oT,this._matrix=null,this._holeMode=!1,this.state=po.for2d(),this._geometry=t||new XJ,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Tt(16777215),this.blendMode=Ue.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new ax(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,r=0,n,i=.5,s=!1){return typeof t=="number"&&(t={width:t,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(t)}lineTextureStyle(t){const r={width:0,texture:me.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:yu.BUTT,join:Ri.MITER,miterLimit:10};t=Object.assign(r,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.width>0&&t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:n},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Dl,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[r-2],t[r-1]))}else this.currentPath=new Dl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,r){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=r,this}lineTo(t,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==t||s!==r)&&n.push(t,r),this}_initCurve(t=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,r]):this.moveTo(t,r)}quadraticCurveTo(t,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),iT.curveTo(t,r,n,i,s),this}bezierCurveTo(t,r,n,i,s,o){return this._initCurve(),nT.curveTo(t,r,n,i,s,o,this.currentPath.points),this}arcTo(t,r,n,i,s){this._initCurve(t,r);const o=this.currentPath.points,a=qB.curveTo(t,r,n,i,s,o);if(a){const{cx:u,cy:l,radius:h,startAngle:f,endAngle:p,anticlockwise:m}=a;this.arc(u,l,h,f,p,m)}return this}arc(t,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=E_:o&&i<=s&&(i+=E_),s-i===0)return this;const a=t+Math.cos(i)*n,u=r+Math.sin(i)*n,l=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),p=Math.abs(h[h.length-1]-u);f<l&&p<l||h.push(a,u)}else this.moveTo(a,u),h=this.currentPath.points;return qB.arc(a,u,t,r,n,i,s,o,h),this}beginFill(t=0,r){return this.beginTextureFill({texture:me.WHITE,color:t,alpha:r})}normalizeColor(t){const r=Tt.shared.setValue(t.color??0);t.color=r.toNumber(),t.alpha??(t.alpha=r.alpha)}beginTextureFill(t){const r={texture:me.WHITE,color:16777215,matrix:null};t=Object.assign(r,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const n=t.alpha>0;return n?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:n},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,r,n,i){return this.drawShape(new Xe(t,r,n,i))}drawRoundedRect(t,r,n,i,s){return this.drawShape(new I_(t,r,n,i,s))}drawCircle(t,r,n){return this.drawShape(new A_(t,r,n))}drawEllipse(t,r,n,i){return this.drawShape(new T_(t,r,n,i))}drawPolygon(...t){let r,n=!0;const i=t[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(t[0])?r=t[0]:r=t;const s=new Dl(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Hr.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,r=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(let i=0;i<n;i++){const s=t.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),u=new Float32Array(t.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,s.start*2,s.size),h={vertexData:a,blendMode:r,indices:l,uvs:u,_batchRGB:Tt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=h}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}}_renderDirect(t){const r=this._resolveDirectShader(t),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Tt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),t.shader.bind(r),t.geometry.bind(n,r),t.state.set(this.state);for(let a=0,u=o.length;a<u;a++)this._renderDrawCallDirect(t,n.drawCalls[a])}_renderDrawCallDirect(t,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let u=0;u<a;u++)t.texture.bind(n.elements[u],u);t.geometry.draw(i,s,o)}_resolveDirectShader(t){let r=this.shader;const n=this.pluginName;if(!r){if(!aT[n]){const{maxTextures:i}=t.plugins[n],s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=u;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Dt,default:bs.from({uSamplers:s},!0)},a=t.plugins[n]._shader.program;aT[n]=new yo(a,o)}r=aT[n]}return r}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=t.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(t){return this.worldTransform.applyInverse(t,ax._TEMP_POINT),this._geometry.containsPoint(ax._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const r=this.batches[t];r._tintRGB=Tt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,l=this._geometry.points,h=this.vertexData;let f=0;for(let p=0;p<l.length;p+=2){const m=l[p],y=l[p+1];h[f++]=n*m+s*y+a,h[f++]=o*y+i*m+u}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};uT.curves=Zh,uT._TEMP_POINT=new nt;let dm=uT;class YJ extends Z_{constructor(t=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=t,this.height=r,this.build()}build(){const t=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let h=0;h<t;h++){const f=h%this.segWidth,p=h/this.segWidth|0;r.push(f*a,p*u),n.push(f/s,p/o)}const l=s*o;for(let h=0;h<l;h++){const f=h%s,p=h/s|0,m=p*this.segWidth+f,y=p*this.segWidth+f+1,v=(p+1)*this.segWidth+f,w=(p+1)*this.segWidth+f+1;i.push(m,y,v,y,w,v)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class KJ extends Z_{constructor(t=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=t,this.textureScale=n,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(t.length<1)return;r.data.length/4!==t.length&&(r.data=new Float32Array(t.length*4),n.data=new Float32Array(t.length*4),i.data=new Uint16Array((t.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=t[0];const l=this._width*this.textureScale,h=t.length;for(let p=0;p<h;p++){const m=p*4;if(this.textureScale>0){const y=u.x-t[p].x,v=u.y-t[p].y,w=Math.sqrt(y*y+v*v);u=t[p],a+=w/l}else a=p/(h-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<h-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let r=t[0],n,i=0,s=0;const o=this.buffers[0].data,a=t.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const h=t[l],f=l*4;l<t.length-1?n=t[l+1]:n=h,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=u,s*=u),o[f]=h.x+i,o[f+1]=h.y+s,o[f+2]=h.x-i,o[f+3]=h.y-s,r=h}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class QJ extends um{constructor(t,r,n){const i=new YJ(t.width,t.height,r,n),s=new lm(me.WHITE);super(i,s),this.texture=t,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const t=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(t.width!==r||t.height!==n)&&(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())}set texture(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(t)}destroy(t){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(t)}}const t0=10;class JJ extends QJ{constructor(t,r,n,i,s){var o,a,u,l;super(me.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=t.defaultBorders)==null?void 0:o.left)??t0,this._rightWidth=i??((a=t.defaultBorders)==null?void 0:a.right)??t0,this._topHeight=n??((u=t.defaultBorders)==null?void 0:u.top)??t0,this._bottomHeight=s??((l=t.defaultBorders)==null?void 0:l.bottom)??t0,this.texture=t}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}updateHorizontalVertices(){const t=this.vertices,r=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height}updateVerticalVertices(){const t=this.vertices,r=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width}_getMinScale(){const t=this._leftWidth+this._rightWidth,r=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(t){this._width=t,this._refresh()}get height(){return this._height}set height(t){this._height=t,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this._refresh()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this._refresh()}_refresh(){const t=this.texture,r=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class eee extends um{constructor(t=me.EMPTY,r,n,i,s){const o=new Z_(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new lm(t);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}_render(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(t)}}class tee extends um{constructor(t,r,n=0){const i=new KJ(t.height,r,n),s=new lm(t);n>0&&(t.baseTexture.wrapMode=ia.REPEAT),super(i,s),this.autoUpdate=!0}_render(t){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(t)}}class ree extends xn{constructor(t=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ue.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Tt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const r=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class QB{constructor(t,r,n){this.geometry=new uu,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<t.length;++i){let s=t[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Le.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let r=0;this.indexBuffer=new br(mK(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new br(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new br(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Le.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Le.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(t,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(t,r,n,s.type===Le.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(t,r,n,s.type===Le.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var nee=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,iee=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class JB extends M_{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new Dt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Le.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=yo.from(iee,nee,{}),this.state=po.for2d()}render(t){const r=t.children,n=t._maxSize,i=t._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!t.autoResize&&(o=n);let a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));const u=r[0]._texture.baseTexture,l=u.alphaMode>0;this.state.blendMode=AL(t.blendMode,l),s.state.set(this.state);const h=s.gl,f=t.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=Tt.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,y=0;m<o;m+=i,y+=1){let v=o-m;v>i&&(v=i),y>=a.length&&a.push(this._generateOneMoreBuffer(t));const w=a[y];w.uploadDynamic(r,m,v);const _=t._bufferUpdateIDs[y]||0;p=p||w._updateID<_,p&&(w._updateID=t._updateID,w.uploadStatic(r,m,v)),s.geometry.bind(w.geometry),h.drawElements(h.TRIANGLES,v*6,h.UNSIGNED_SHORT,0)}}generateBuffers(t){const r=[],n=t._maxSize,i=t._batchSize,s=t._properties;for(let o=0;o<n;o+=i)r.push(new QB(this.properties,s,i));return r}_generateOneMoreBuffer(t){const r=t._batchSize,n=t._properties;return new QB(this.properties,n,r)}uploadVertices(t,r,n,i,s,o){let a=0,u=0,l=0,h=0;for(let f=0;f<n;++f){const p=t[r+f],m=p._texture,y=p.scale.x,v=p.scale.y,w=m.trim,_=m.orig;w?(u=w.x-p.anchor.x*_.width,a=u+w.width,h=w.y-p.anchor.y*_.height,l=h+w.height):(a=_.width*(1-p.anchor.x),u=_.width*-p.anchor.x,l=_.height*(1-p.anchor.y),h=_.height*-p.anchor.y),i[o]=u*y,i[o+1]=h*v,i[o+s]=a*y,i[o+s+1]=h*v,i[o+s*2]=a*y,i[o+s*2+1]=l*v,i[o+s*3]=u*y,i[o+s*3+1]=l*v,o+=s*4}}uploadPosition(t,r,n,i,s,o){for(let a=0;a<n;a++){const u=t[r+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(t,r,n,i,s,o){for(let a=0;a<n;a++){const u=t[r+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(t,r,n,i,s,o){for(let a=0;a<n;++a){const u=t[r+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(t,r,n,i,s,o){for(let a=0;a<n;++a){const u=t[r+a],l=Tt.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}JB.extension={name:"particle",type:ge.RendererPlugin},Oe.add(JB);class fm extends go{constructor(t,r=!0){super(t[0]instanceof me?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Pr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Pr.shared.add(this.update,this,cu.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const r=this.animationSpeed*t,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const r=[];for(let n=0;n<t.length;++n)r.push(me.from(t[n]));return new fm(r)}static fromImages(t){const r=[];for(let n=0;n<t.length;++n)r.push(me.from(t[n]));return new fm(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof me)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<t.length;r++)this._textures.push(t[r].texture),this._durations.push(t[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=t,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Pr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Pr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const pm=new nt;class lT extends go{constructor(t,r=100,n=100){super(t),this.tileTransform=new k_,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new UA(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,r,n,i)}getLocalBounds(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Xe),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,pm);const r=this._width,n=this._height,i=-r*this.anchor._x;if(pm.x>=i&&pm.x<i+r){const s=-n*this.anchor._y;if(pm.y>=s&&pm.y<s+n)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,r){const n=t instanceof me?t:me.from(t,r);return new lT(n,r.width,r.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}var see=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,oee=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,aee=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,e4=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,uee=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const r0=new Dt;class t4 extends M_{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new QL,this.state=po.for2d()}contextChange(){const t=this.renderer,r={globals:t.globalUniforms};this.simpleShader=yo.from(e4,uee,r),this.shader=t.context.webGLVersion>1?yo.from(oee,see,r):yo.from(e4,aee,r)}render(t){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);const s=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=t._texture,u=a.baseTexture,l=u.alphaMode>0,h=t.tileTransform.localTransform,f=t.uvMatrix;let p=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;p&&(u._glTextures[r.CONTEXT_UID]?p=u.wrapMode!==ia.CLAMP:u.wrapMode===ia.CLAMP&&(u.wrapMode=ia.REPEAT));const m=p?this.simpleShader:this.shader,y=a.width,v=a.height,w=t._width,_=t._height;r0.set(h.a*y/w,h.b*y/_,h.c*v/w,h.d*v/_,h.tx/w,h.ty/_),r0.invert(),p?r0.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=r0.toArray(!0),m.uniforms.uColor=Tt.shared.setValue(t.tint).premultiply(t.worldAlpha,l).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,r.shader.bind(m),r.geometry.bind(n),this.state.blendMode=AL(t.blendMode,l),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}t4.extension={name:"tilingSprite",type:ge.RendererPlugin},Oe.add(t4);const r4=class dR{constructor(t){this.stage=new xn,t=Object.assign({forceCanvas:!1},t),this.renderer=kQ(t),dR._plugins.forEach(r=>{r.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){var t;return(t=this.renderer)==null?void 0:t.view}get screen(){var t;return(t=this.renderer)==null?void 0:t.screen}destroy(t,r){const n=dR._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null}};r4._plugins=[];let n0=r4;Oe.handleByList(ge.Application,n0._plugins);class n4{static init(t){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}n4.extension=ge.Application,Oe.add(n4);function ai(e){return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}function i4(e){var t=function(r,n){if(ai(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(ai(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return ai(t)==="symbol"?t:String(t)}function sr(e,t,r){return(t=i4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function da(e){return function(t){if(Array.isArray(t))return cT(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,r){if(t){if(typeof t=="string")return cT(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cT(t,r):void 0}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function er(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var lee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hee=function(e){return e==null};function mm(e){var t=[];if(e===void 0)return t;if(typeof e=="string")t=e.split(",");else if(typeof e=="number")t=[e];else if(Array.isArray(e))t=da(e);else{if(e===null||ai(e)!=="object")return t;t=[e&&(e==null?void 0:e.x)||0,e&&(e==null?void 0:e.y)||0]}return t.filter(function(r){return!hee(r)&&!isNaN(r)}).map(Number)}function s4(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function hT(e){return e instanceof nt||e instanceof mo}var i0=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function dT(e,t,r){if(hT(e[t])&&hT(r))e[t].copyFrom(r);else if(hT(e[t])){var n=mm(r);er(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",t,JSON.stringify(r),ai(r)),e[t].set(n.shift(),n.shift())}else e[t]=r}var Yh,o4=function(e){var t,r=e;if(!Array.isArray(r)){if(t=e,Object.prototype.toString.call(t)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(e)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},a4=function(e){return function(){return!e.apply(void 0,arguments)}},fT="children",dee=(sr(Yh={},fT,!0),sr(Yh,"parent",!0),sr(Yh,"worldAlpha",!0),sr(Yh,"worldTransform",!0),sr(Yh,"worldVisible",!0),Yh),pT={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},_o=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,l;a==null||(u=a.__reactpixi)===null||u===void 0||(l=u.root)===null||l===void 0||l.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return er(u.typeofs.some(function(l){return ai(r[a])===l})||u.instanceofs.some(function(l){return r[a]instanceof l}),"".concat(e," ").concat(a," prop is invalid")),r[a]};if(r.texture)return er(r.texture instanceof me,"".concat(e," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,me]});er(!!s,"".concat(e," could not get texture from props"));var o=me.from(s);return o.__reactpixi={root:t},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},fee=a4(o4([].concat(da(Object.keys(dee)),da(i0))));function bo(e,t,r){var n=!1;if(er(zt.prototype.isPrototypeOf(e),"instance needs to be typeof `DisplayObject`, got `%s`",ai(e)),!r.ignoreEvents)for(var i=typeof e.removeListener=="function",s=typeof e.on=="function",o=0;o<i0.length;o++){var a=i0[o];t[a]!==r[a]&&(n=!0,typeof t[a]=="function"&&i&&e.removeListener(a,t[a]),typeof r[a]=="function"&&s&&e.on(a,r[a]))}var u=Object.keys(r||{});if(r.overwriteProps){for(var l=0;l<u.length;l++){var h=u[l];t[h]!==r[h]&&(n=!0,dT(e,h,r[h]))}return n}for(var f=u.filter(fee),p=0;p<f.length;p++){var m=f[p],y=r[m];r[m]!==t[m]&&(n=!0),y!==void 0?dT(e,m,y):m in pT?(console.warn("setting default value: ".concat(m,", from: ").concat(e[m]," to: ").concat(y," for"),e),n=!0,dT(e,m,pT[m])):console.warn("ignoring prop: ".concat(m,", from ").concat(e[m]," to ").concat(y," for"),e)}return n}var pee=function(e,t){var r=t.text,n=t.style;return new JQ(r,n)},mee=function(){return new xn};function gu(e,t){if(e==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,l,h={},f=Object.keys(o);for(l=0;l<f.length;l++)u=f[l],a.indexOf(u)>=0||(h[u]=o[u]);return h}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var yee=["draw","geometry"],gee=function(e,t){var r=t.geometry;er(!r||r instanceof dm,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new dm(r.geometry):new dm;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=bo(i,s,gu(o,yee));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},vee=["image","texture"],_ee=function(e,t){var r=t.leftWidth,n=r===void 0?10:r,i=t.topHeight,s=i===void 0?10:i,o=t.rightWidth,a=o===void 0?10:o,u=t.bottomHeight,l=u===void 0?10:u,h=_o("NineSlicePlane",e,t),f=new JJ(h,n,s,a,l);return f.applyProps=function(p,m,y){var v=y.image,w=y.texture,_=bo(p,m,gu(y,vee));return(v||w)&&(w!==m.texture&&(_=!0),p.texture=_o("NineSlicePlane",e,y)),_},f};function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function s0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var bee=function(e,t){var r=t.maxSize,n=r===void 0?1500:r,i=t.batchSize,s=i===void 0?16384:i,o=t.autoResize,a=o!==void 0&&o,u=s0(s0({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),t.properties||{}),l=s0(s0({},{children:!1,texture:!1,baseTexture:!1}),t.destroyOptions||{}),h=new ree(n,u,s,a);return h.willUnmount=function(f,p,m){f.destroy(l)},h},wee=["image","texture"],xee=function(e,t){var r=new go(_o("Sprite",e,t));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=bo(n,i,gu(s,wee));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=_o("Sprite",e,s)),u},r},Eee=["textures","isPlaying","initialFrame","images"],See=function(e,t){var r=t.textures,n=t.images,i=t.isPlaying,s=i===void 0||i,o=t.initialFrame,a=function(l){return l.map(function(h){return er(h instanceof me||(h==null?void 0:h.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),h})},u=n?fm.fromImages(n):new fm(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(l,h,f){var p=f.textures,m=f.isPlaying,y=f.initialFrame,v=f.images,w=bo(l,h,gu(f,Eee));if(v&&h.images!==v){for(var _=[],x=0;x<v.length;++x)_.push(me.from(v[x]));l.textures=_,w=!0}if(p&&h.textures!==p&&(l.textures=a(p),w=!0),m!==h.isPlaying||y!==h.initialFrame){var E=typeof y=="number"?y:u.currentFrame||0;u[m?"gotoAndPlay":"gotoAndStop"](E),w=!0}return w},u},Aee=function(e,t){var r=t.text,n=r===void 0?"":r,i=t.style,s=i===void 0?{}:i,o=t.isSprite,a=new ZA(n,s);return o?(a.updateText(),new go(a.texture)):a},Tee=["tileScale","tilePosition","image","texture"],Iee=function(e,t){var r=t.width,n=r===void 0?100:r,i=t.height,s=i===void 0?100:i,o=_o("TilingSprite",e,t),a=new lT(o,n,s);return a.applyProps=function(u,l,h){var f=h.tileScale,p=h.tilePosition,m=h.image,y=h.texture,v=bo(u,l,gu(h,Tee));if(p){var w,_=mm(p);(w=u.tilePosition).set.apply(w,da(_)),v=!s4(mm(l.tilePosition),_)||v}if(f){var x,E=mm(f);(x=u.tileScale).set.apply(x,da(E)),v=!s4(mm(l.tileScale),E)||v}return(m||y)&&(y!==l.texture&&(v=!0),u.texture=_o("Sprite",e,h)),v},a},Cee=["image","texture"],kee=function(e,t){var r=_o("Mesh",e,t),n=t.vertices,i=t.uvs,s=t.indices,o=t.drawMode,a=o===void 0?ys.TRIANGLES:o,u=new eee(r,n,i,s,a);return u.applyProps=function(l,h,f){var p=f.image,m=f.texture,y=bo(l,h,gu(f,Cee));return(p||m)&&(m!==h.texture&&(y=!0),l.texture=_o("Mesh",e,f)),y},u},Oee=["image","texture"],Pee=function(e,t){var r=_o("SimpleRope",e,t),n=t.points,i=new tee(r,n);return i.applyProps=function(s,o,a){var u=a.image,l=a.texture,h=gu(a,Oee);er(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var f=bo(s,o,h);return(u||l)&&(l!==o.texture&&(f=!0),s.texture=_o("SimpleRope",e,a)),f},i},Ree=Object.freeze({__proto__:null,BitmapText:pee,Container:mee,Graphics:gee,NineSlicePlane:_ee,ParticleContainer:bee,Sprite:xee,Text:Aee,TilingSprite:Iee,SimpleMesh:kee,SimpleRope:Pee,AnimatedSprite:See});function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var $n={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},Mee=Object.keys($n).reduce(function(e,t){return c4(c4({},e),{},sr({},t,Ree[t]))},{}),h4={};function Nee(e,t){return er(!!e,"Expect type to be defined, got `%s`",e),er(!$n[e],"Component `%s` could not be created, already exists in default components.",e),h4[e]=t,e}var d4,f4,p4,m4,mT={},yT={},Dee={get exports(){return yT},set exports(e){yT=e}},y4={};function Lee(){return f4||(f4=1,Dee.exports=(d4||(d4=1,function(e){function t(N,z){var U=N.length;N.push(z);e:for(;0<U;){var q=U-1>>>1,J=N[q];if(!(0<i(J,z)))break e;N[q]=z,N[U]=J,U=q}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var z=N[0],U=N.pop();if(U!==z){N[0]=U;e:for(var q=0,J=N.length,pe=J>>>1;q<pe;){var fe=2*(q+1)-1,Ne=N[fe],we=fe+1,Ce=N[we];if(0>i(Ne,U))we<J&&0>i(Ce,Ne)?(N[q]=Ce,N[we]=U,q=we):(N[q]=Ne,N[fe]=U,q=fe);else{if(!(we<J&&0>i(Ce,U)))break e;N[q]=Ce,N[we]=U,q=we}}}return z}function i(N,z){var U=N.sortIndex-z.sortIndex;return U!==0?U:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],h=1,f=null,p=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function E(N){for(var z=r(l);z!==null;){if(z.callback===null)n(l);else{if(!(z.startTime<=N))break;n(l),z.sortIndex=z.expirationTime,t(u,z)}z=r(l)}}function T(N){if(v=!1,E(N),!y)if(r(u)!==null)y=!0,D(R);else{var z=r(l);z!==null&&L(T,z.startTime-N)}}function R(N,z){y=!1,v&&(v=!1,_(V),V=-1),m=!0;var U=p;try{for(E(z),f=r(u);f!==null&&(!(f.expirationTime>z)||N&&!Q());){var q=f.callback;if(typeof q=="function"){f.callback=null,p=f.priorityLevel;var J=q(f.expirationTime<=z);z=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(u)&&n(u),E(z)}else n(u);f=r(u)}if(f!==null)var pe=!0;else{var fe=r(l);fe!==null&&L(T,fe.startTime-z),pe=!1}return pe}finally{f=null,p=U,m=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P,k=!1,M=null,V=-1,H=5,X=-1;function Q(){return!(e.unstable_now()-X<H)}function W(){if(M!==null){var N=e.unstable_now();X=N;var z=!0;try{z=M(!0,N)}finally{z?P():(k=!1,M=null)}}else k=!1}if(typeof x=="function")P=function(){x(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,O=G.port2;G.port1.onmessage=W,P=function(){O.postMessage(null)}}else P=function(){w(W,0)};function D(N){M=N,k||(k=!0,P())}function L(N,z){V=w(function(){N(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,D(R))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(N){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var U=p;p=z;try{return N()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var U=p;p=N;try{return z()}finally{p=U}},e.unstable_scheduleCallback=function(N,z,U){var q=e.unstable_now();switch(U=typeof U=="object"&&U!==null&&typeof(U=U.delay)=="number"&&0<U?q+U:q,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return N={id:h++,callback:z,priorityLevel:N,startTime:U,expirationTime:J=U+J,sortIndex:-1},U>q?(N.sortIndex=U,t(l,N),r(u)===null&&N===r(l)&&(v?(_(V),V=-1):v=!0,L(T,U-q))):(N.sortIndex=J,t(u,N),y||m||(y=!0,D(R))),N},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(N){var z=p;return function(){var U=p;p=z;try{return N.apply(this,arguments)}finally{p=U}}}}(y4)),y4)),yT}function Bee(){return m4||(m4=1,p4=function(e){var t={},r=eo,n=Lee(),i=Object.assign;function s(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(c){return c===null||typeof c!="object"?null:typeof(c=T&&c[T]||c["@@iterator"])=="function"?c:null}function P(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case u:return"Portal";case f:return"Profiler";case h:return"StrictMode";case v:return"Suspense";case w:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case m:return(c.displayName||"Context")+".Consumer";case p:return(c._context.displayName||"Context")+".Provider";case y:var d=c.render;return(c=c.displayName)||(c=(c=d.displayName||d.name||"")!==""?"ForwardRef("+c+")":"ForwardRef"),c;case _:return(d=c.displayName||null)!==null?d:P(c.type)||"Memo";case x:d=c._payload,c=c._init;try{return P(c(d))}catch{}}return null}function k(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=(c=d.render).displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function M(c){var d=c,g=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do 4098&(d=c).flags&&(g=d.return),c=d.return;while(c)}return d.tag===3?g:null}function V(c){if(M(c)!==c)throw Error(s(188))}function H(c){var d=c.alternate;if(!d){if((d=M(c))===null)throw Error(s(188));return d!==c?null:c}for(var g=c,b=d;;){var S=g.return;if(S===null)break;var I=S.alternate;if(I===null){if((b=S.return)!==null){g=b;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===g)return V(S),c;if(I===b)return V(S),d;I=I.sibling}throw Error(s(188))}if(g.return!==b.return)g=S,b=I;else{for(var F=!1,Z=S.child;Z;){if(Z===g){F=!0,g=S,b=I;break}if(Z===b){F=!0,b=S,g=I;break}Z=Z.sibling}if(!F){for(Z=I.child;Z;){if(Z===g){F=!0,g=I,b=S;break}if(Z===b){F=!0,b=I,g=S;break}Z=Z.sibling}if(!F)throw Error(s(189))}}if(g.alternate!==b)throw Error(s(190))}if(g.tag!==3)throw Error(s(188));return g.stateNode.current===g?c:d}function X(c){return(c=H(c))!==null?Q(c):null}function Q(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=Q(c);if(d!==null)return d;c=c.sibling}return null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var d=W(c);if(d!==null)return d}c=c.sibling}return null}var G,O=Array.isArray,D=e.getPublicInstance,L=e.getRootHostContext,N=e.getChildHostContext,z=e.prepareForCommit,U=e.resetAfterCommit,q=e.createInstance,J=e.appendInitialChild,pe=e.finalizeInitialChildren,fe=e.prepareUpdate,Ne=e.shouldSetTextContent,we=e.createTextInstance,Ce=e.scheduleTimeout,lt=e.cancelTimeout,Ge=e.noTimeout,ze=e.isPrimaryRenderer,De=e.supportsMutation,ke=e.supportsPersistence,Be=e.supportsHydration,st=e.getInstanceFromNode,St=e.preparePortalMount,Kt=e.getCurrentEventPriority,Dn=e.detachDeletedInstance,dn=e.supportsMicrotasks,Pa=e.scheduleMicrotask,Ws=e.supportsTestSelectors,If=e.findFiberRoot,Cf=e.getBoundingRect,iw=e.getTextContent,qs=e.isHiddenSubtree,kf=e.matchAccessibilityRole,TO=e.setFocusIfFocusable,$e=e.setupIntersectionObserver,IO=e.appendChild,sw=e.appendChildToContainer,ow=e.commitTextUpdate,CO=e.commitMount,kO=e.commitUpdate,aw=e.insertBefore,OO=e.insertInContainerBefore,PO=e.removeChild,RO=e.removeChildFromContainer,uw=e.resetTextContent,MO=e.hideInstance,NO=e.hideTextInstance,DO=e.unhideInstance,LO=e.unhideTextInstance,BO=e.clearContainer,FO=e.cloneInstance,lw=e.createContainerChildSet,cw=e.appendChildToContainerChildSet,UO=e.finalizeContainerChildren,fg=e.replaceContainerChildren,hw=e.cloneHiddenInstance,dw=e.cloneHiddenTextInstance,jO=e.canHydrateInstance,zO=e.canHydrateTextInstance,HO=e.canHydrateSuspenseInstance,fw=e.isSuspenseInstancePending,pg=e.isSuspenseInstanceFallback,GO=e.getSuspenseInstanceFallbackErrorDetails,$O=e.registerSuspenseInstanceRetry,Of=e.getNextHydratableSibling,pw=e.getFirstHydratableChild,VO=e.getFirstHydratableChildWithinContainer,WO=e.getFirstHydratableChildWithinSuspenseInstance,qO=e.hydrateInstance,ZO=e.hydrateTextInstance,XO=e.hydrateSuspenseInstance,YO=e.getNextHydratableInstanceAfterSuspenseInstance,KO=e.commitHydratedContainer,$=e.commitHydratedSuspenseInstance,A=e.clearSuspenseBoundary,C=e.clearSuspenseBoundaryFromContainer,B=e.shouldDeleteUnhydratedTailInstances,j=e.didNotMatchHydratedContainerTextInstance,de=e.didNotMatchHydratedTextInstance;function ue(c){if(G===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+c}var se=!1;function xe(c,d){if(!c||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(te){var b=te}Reflect.construct(c,[],d)}else{try{d.call()}catch(te){b=te}c.call(d.prototype)}else{try{throw Error()}catch(te){b=te}c()}}catch(te){if(te&&b&&typeof te.stack=="string"){for(var S=te.stack.split(`
`),I=b.stack.split(`
`),F=S.length-1,Z=I.length-1;1<=F&&0<=Z&&S[F]!==I[Z];)Z--;for(;1<=F&&0<=Z;F--,Z--)if(S[F]!==I[Z]){if(F!==1||Z!==1)do if(F--,0>--Z||S[F]!==I[Z]){var K=`
`+S[F].replace(" at new "," at ");return c.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",c.displayName)),K}while(1<=F&&0<=Z);break}}}finally{se=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?ue(c):""}var je=Object.prototype.hasOwnProperty,vt=[],gi=-1;function Xi(c){return{current:c}}function Gt(c){0>gi||(c.current=vt[gi],vt[gi]=null,gi--)}function Pt(c,d){gi++,vt[gi]=c.current,c.current=d}var tl={},fn=Xi(tl),Yn=Xi(!1),Hc=tl;function Pf(c,d){var g=c.type.contextTypes;if(!g)return tl;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===d)return b.__reactInternalMemoizedMaskedChildContext;var S,I={};for(S in g)I[S]=d[S];return b&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=I),I}function vi(c){return(c=c.childContextTypes)!=null}function QO(){Gt(Yn),Gt(fn)}function HH(c,d,g){if(fn.current!==tl)throw Error(s(168));Pt(fn,d),Pt(Yn,g)}function GH(c,d,g){var b=c.stateNode;if(d=d.childContextTypes,typeof b.getChildContext!="function")return g;for(var S in b=b.getChildContext())if(!(S in d))throw Error(s(108,k(c)||"Unknown",S));return i({},g,b)}function mw(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||tl,Hc=fn.current,Pt(fn,c),Pt(Yn,Yn.current),!0}function $H(c,d,g){var b=c.stateNode;if(!b)throw Error(s(169));g?(c=GH(c,d,Hc),b.__reactInternalMemoizedMergedChildContext=c,Gt(Yn),Gt(fn),Pt(fn,c)):Gt(Yn),Pt(Yn,g)}var Zs=Math.clz32?Math.clz32:function(c){return(c>>>=0)===0?32:31-(p1e(c)/m1e|0)|0},p1e=Math.log,m1e=Math.LN2,JO=64,eP=4194304;function mg(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&c;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&c;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function yw(c,d){var g=c.pendingLanes;if(g===0)return 0;var b=0,S=c.suspendedLanes,I=c.pingedLanes,F=268435455&g;if(F!==0){var Z=F&~S;Z!==0?b=mg(Z):(I&=F)!==0&&(b=mg(I))}else(F=g&~S)!==0?b=mg(F):I!==0&&(b=mg(I));if(b===0)return 0;if(d!==0&&d!==b&&!(d&S)&&((S=b&-b)>=(I=d&-d)||S===16&&4194240&I))return d;if(4&b&&(b|=16&g),(d=c.entangledLanes)!==0)for(c=c.entanglements,d&=b;0<d;)S=1<<(g=31-Zs(d)),b|=c[g],d&=~S;return b}function y1e(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;default:return-1}}function tP(c){return(c=-1073741825&c.pendingLanes)!==0?c:1073741824&c?1073741824:0}function VH(){var c=JO;return!(4194240&(JO<<=1))&&(JO=64),c}function rP(c){for(var d=[],g=0;31>g;g++)d.push(c);return d}function yg(c,d,g){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),(c=c.eventTimes)[d=31-Zs(d)]=g}function nP(c,d){var g=c.entangledLanes|=d;for(c=c.entanglements;g;){var b=31-Zs(g),S=1<<b;S&d|c[b]&d&&(c[b]|=d),g&=~S}}var mt=0;function WH(c){return 1<(c&=-c)?4<c?268435455&c?16:536870912:4:1}var iP=n.unstable_scheduleCallback,qH=n.unstable_cancelCallback,g1e=n.unstable_shouldYield,v1e=n.unstable_requestPaint,Dr=n.unstable_now,sP=n.unstable_ImmediatePriority,_1e=n.unstable_UserBlockingPriority,ZH=n.unstable_NormalPriority,b1e=n.unstable_IdlePriority,gw=null,Bo=null,Xs=typeof Object.is=="function"?Object.is:function(c,d){return c===d&&(c!==0||1/c==1/d)||c!=c&&d!=d},Ra=null,vw=!1,oP=!1;function XH(c){Ra===null?Ra=[c]:Ra.push(c)}function Fo(){if(!oP&&Ra!==null){oP=!0;var c=0,d=mt;try{var g=Ra;for(mt=1;c<g.length;c++){var b=g[c];do b=b(!0);while(b!==null)}Ra=null,vw=!1}catch(S){throw Ra!==null&&(Ra=Ra.slice(c+1)),iP(sP,Fo),S}finally{mt=d,oP=!1}}return null}var Rf=[],Mf=0,_w=null,bw=0,Yi=[],Ki=0,Gc=null,Uo=1,Ma="";function $c(c,d){Rf[Mf++]=bw,Rf[Mf++]=_w,_w=c,bw=d}function YH(c,d,g){Yi[Ki++]=Uo,Yi[Ki++]=Ma,Yi[Ki++]=Gc,Gc=c;var b=Uo;c=Ma;var S=32-Zs(b)-1;b&=~(1<<S),g+=1;var I=32-Zs(d)+S;if(30<I){var F=S-S%5;I=(b&(1<<F)-1).toString(32),b>>=F,S-=F,Uo=1<<32-Zs(d)+S|g<<S|b,Ma=I+c}else Uo=1<<I|g<<S|b,Ma=c}function aP(c){c.return!==null&&($c(c,1),YH(c,1,0))}function uP(c){for(;c===_w;)_w=Rf[--Mf],Rf[Mf]=null,bw=Rf[--Mf],Rf[Mf]=null;for(;c===Gc;)Gc=Yi[--Ki],Yi[Ki]=null,Ma=Yi[--Ki],Yi[Ki]=null,Uo=Yi[--Ki],Yi[Ki]=null}var _i=null,Qi=null,$t=!1,gg=!1,Ys=null;function KH(c,d){var g=ns(5,null,null,0);g.elementType="DELETED",g.stateNode=d,g.return=c,(d=c.deletions)===null?(c.deletions=[g],c.flags|=16):d.push(g)}function QH(c,d){switch(c.tag){case 5:return(d=jO(d,c.type,c.pendingProps))!==null&&(c.stateNode=d,_i=c,Qi=pw(d),!0);case 6:return(d=zO(d,c.pendingProps))!==null&&(c.stateNode=d,_i=c,Qi=null,!0);case 13:if((d=HO(d))!==null){var g=Gc!==null?{id:Uo,overflow:Ma}:null;return c.memoizedState={dehydrated:d,treeContext:g,retryLane:1073741824},(g=ns(18,null,null,0)).stateNode=d,g.return=c,c.child=g,_i=c,Qi=null,!0}return!1;default:return!1}}function lP(c){return(1&c.mode)!=0&&(128&c.flags)==0}function cP(c){if($t){var d=Qi;if(d){var g=d;if(!QH(c,d)){if(lP(c))throw Error(s(418));d=Of(g);var b=_i;d&&QH(c,d)?KH(b,g):(c.flags=-4097&c.flags|2,$t=!1,_i=c)}}else{if(lP(c))throw Error(s(418));c.flags=-4097&c.flags|2,$t=!1,_i=c}}}function JH(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;_i=c}function ww(c){if(!Be||c!==_i)return!1;if(!$t)return JH(c),$t=!0,!1;if(c.tag!==3&&(c.tag!==5||B(c.type)&&!Ne(c.type,c.memoizedProps))){var d=Qi;if(d){if(lP(c))throw eG(),Error(s(418));for(;d;)KH(c,d),d=Of(d)}}if(JH(c),c.tag===13){if(!Be)throw Error(s(316));if(!(c=(c=c.memoizedState)!==null?c.dehydrated:null))throw Error(s(317));Qi=YO(c)}else Qi=_i?Of(c.stateNode):null;return!0}function eG(){for(var c=Qi;c;)c=Of(c)}function Nf(){Be&&(Qi=_i=null,gg=$t=!1)}function hP(c){Ys===null?Ys=[c]:Ys.push(c)}var w1e=o.ReactCurrentBatchConfig;function xw(c,d){if(Xs(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var g=Object.keys(c),b=Object.keys(d);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var S=g[b];if(!je.call(d,S)||!Xs(c[S],d[S]))return!1}return!0}function x1e(c){switch(c.tag){case 5:return ue(c.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return c=xe(c.type,!1);case 11:return c=xe(c.type.render,!1);case 1:return c=xe(c.type,!0);default:return""}}function Ks(c,d){if(c&&c.defaultProps){for(var g in d=i({},d),c=c.defaultProps)d[g]===void 0&&(d[g]=c[g]);return d}return d}var Ew=Xi(null),Sw=null,Df=null,dP=null;function fP(){dP=Df=Sw=null}function tG(c,d,g){ze?(Pt(Ew,d._currentValue),d._currentValue=g):(Pt(Ew,d._currentValue2),d._currentValue2=g)}function pP(c){var d=Ew.current;Gt(Ew),ze?c._currentValue=d:c._currentValue2=d}function mP(c,d,g){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===g)break;c=c.return}}function Lf(c,d){Sw=c,dP=Df=null,(c=c.dependencies)!==null&&c.firstContext!==null&&(c.lanes&d&&(Kn=!0),c.firstContext=null)}function Ji(c){var d=ze?c._currentValue:c._currentValue2;if(dP!==c)if(c={context:c,memoizedValue:d,next:null},Df===null){if(Sw===null)throw Error(s(308));Df=c,Sw.dependencies={lanes:0,firstContext:c}}else Df=Df.next=c;return d}var Vc=null;function yP(c){Vc===null?Vc=[c]:Vc.push(c)}function rG(c,d,g,b){var S=d.interleaved;return S===null?(g.next=g,yP(d)):(g.next=S.next,S.next=g),d.interleaved=g,jo(c,b)}function jo(c,d){c.lanes|=d;var g=c.alternate;for(g!==null&&(g.lanes|=d),g=c,c=c.return;c!==null;)c.childLanes|=d,(g=c.alternate)!==null&&(g.childLanes|=d),g=c,c=c.return;return g.tag===3?g.stateNode:null}var rl=!1;function gP(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nG(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Na(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function nl(c,d,g){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(2&ct)!=0){var S=b.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),b.pending=d,jo(c,g)}return(S=b.interleaved)===null?(d.next=d,yP(b)):(d.next=S.next,S.next=d),b.interleaved=d,jo(c,g)}function Aw(c,d,g){if((d=d.updateQueue)!==null&&(d=d.shared,(4194240&g)!=0)){var b=d.lanes;g|=b&=c.pendingLanes,d.lanes=g,nP(c,g)}}function iG(c,d){var g=c.updateQueue,b=c.alternate;if(b!==null&&g===(b=b.updateQueue)){var S=null,I=null;if((g=g.firstBaseUpdate)!==null){do{var F={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};I===null?S=I=F:I=I.next=F,g=g.next}while(g!==null);I===null?S=I=d:I=I.next=d}else S=I=d;return g={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:b.shared,effects:b.effects},void(c.updateQueue=g)}(c=g.lastBaseUpdate)===null?g.firstBaseUpdate=d:c.next=d,g.lastBaseUpdate=d}function Tw(c,d,g,b){var S=c.updateQueue;rl=!1;var I=S.firstBaseUpdate,F=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var K=Z,te=K.next;K.next=null,F===null?I=te:F.next=te,F=K;var ne=c.alternate;ne!==null&&(Z=(ne=ne.updateQueue).lastBaseUpdate)!==F&&(Z===null?ne.firstBaseUpdate=te:Z.next=te,ne.lastBaseUpdate=K)}if(I!==null){var ye=S.baseState;for(F=0,ne=te=K=null,Z=I;;){var re=Z.lane,he=Z.eventTime;if((b&re)===re){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var Pe=c,Je=Z;switch(re=d,he=g,Je.tag){case 1:if(typeof(Pe=Je.payload)=="function"){ye=Pe.call(he,ye,re);break e}ye=Pe;break e;case 3:Pe.flags=-65537&Pe.flags|128;case 0:if((re=typeof(Pe=Je.payload)=="function"?Pe.call(he,ye,re):Pe)==null)break e;ye=i({},ye,re);break e;case 2:rl=!0}}Z.callback!==null&&Z.lane!==0&&(c.flags|=64,(re=S.effects)===null?S.effects=[Z]:re.push(Z))}else he={eventTime:he,lane:re,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},ne===null?(te=ne=he,K=ye):ne=ne.next=he,F|=re;if((Z=Z.next)===null){if((Z=S.shared.pending)===null)break;Z=(re=Z).next,re.next=null,S.lastBaseUpdate=re,S.shared.pending=null}}if(ne===null&&(K=ye),S.baseState=K,S.firstBaseUpdate=te,S.lastBaseUpdate=ne,(d=S.shared.interleaved)!==null){S=d;do F|=S.lane,S=S.next;while(S!==d)}else I===null&&(S.shared.lanes=0);qc|=F,c.lanes=F,c.memoizedState=ye}}function sG(c,d,g){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var b=c[d],S=b.callback;if(S!==null){if(b.callback=null,b=g,typeof S!="function")throw Error(s(191,S));S.call(b)}}}var oG=new r.Component().refs;function vP(c,d,g,b){g=(g=g(b,d=c.memoizedState))==null?d:i({},d,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var Iw={isMounted:function(c){return!!(c=c._reactInternals)&&M(c)===c},enqueueSetState:function(c,d,g){c=c._reactInternals;var b=yn(),S=al(c),I=Na(b,S);I.payload=d,g!=null&&(I.callback=g),(d=nl(c,I,S))!==null&&(rs(d,c,S,b),Aw(d,c,S))},enqueueReplaceState:function(c,d,g){c=c._reactInternals;var b=yn(),S=al(c),I=Na(b,S);I.tag=1,I.payload=d,g!=null&&(I.callback=g),(d=nl(c,I,S))!==null&&(rs(d,c,S,b),Aw(d,c,S))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var g=yn(),b=al(c),S=Na(g,b);S.tag=2,d!=null&&(S.callback=d),(d=nl(c,S,b))!==null&&(rs(d,c,b,g),Aw(d,c,b))}};function aG(c,d,g,b,S,I,F){return typeof(c=c.stateNode).shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,I,F):!d.prototype||!d.prototype.isPureReactComponent||!xw(g,b)||!xw(S,I)}function uG(c,d,g){var b=!1,S=tl,I=d.contextType;return typeof I=="object"&&I!==null?I=Ji(I):(S=vi(d)?Hc:fn.current,I=(b=(b=d.contextTypes)!=null)?Pf(c,S):tl),d=new d(g,I),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Iw,c.stateNode=d,d._reactInternals=c,b&&((c=c.stateNode).__reactInternalMemoizedUnmaskedChildContext=S,c.__reactInternalMemoizedMaskedChildContext=I),d}function lG(c,d,g,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,b),d.state!==c&&Iw.enqueueReplaceState(d,d.state,null)}function _P(c,d,g,b){var S=c.stateNode;S.props=g,S.state=c.memoizedState,S.refs=oG,gP(c);var I=d.contextType;typeof I=="object"&&I!==null?S.context=Ji(I):(I=vi(d)?Hc:fn.current,S.context=Pf(c,I)),S.state=c.memoizedState,typeof(I=d.getDerivedStateFromProps)=="function"&&(vP(c,d,I,g),S.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(d=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),d!==S.state&&Iw.enqueueReplaceState(S,S.state,null),Tw(c,g,S,b),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308)}function vg(c,d,g){if((c=g.ref)!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner){if(g.tag!==1)throw Error(s(309));var b=g.stateNode}if(!b)throw Error(s(147,c));var S=b,I=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(F){var Z=S.refs;Z===oG&&(Z=S.refs={}),F===null?delete Z[I]:Z[I]=F},d._stringRef=I,d)}if(typeof c!="string")throw Error(s(284));if(!g._owner)throw Error(s(290,c))}return c}function Cw(c,d){throw c=Object.prototype.toString.call(d),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function cG(c){return(0,c._init)(c._payload)}function hG(c){function d(ie,Y){if(c){var ee=ie.deletions;ee===null?(ie.deletions=[Y],ie.flags|=16):ee.push(Y)}}function g(ie,Y){if(!c)return null;for(;Y!==null;)d(ie,Y),Y=Y.sibling;return null}function b(ie,Y){for(ie=new Map;Y!==null;)Y.key!==null?ie.set(Y.key,Y):ie.set(Y.index,Y),Y=Y.sibling;return ie}function S(ie,Y){return(ie=ll(ie,Y)).index=0,ie.sibling=null,ie}function I(ie,Y,ee){return ie.index=ee,c?(ee=ie.alternate)!==null?(ee=ee.index)<Y?(ie.flags|=2,Y):ee:(ie.flags|=2,Y):(ie.flags|=1048576,Y)}function F(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function Z(ie,Y,ee,oe){return Y===null||Y.tag!==6?((Y=sR(ee,ie.mode,oe)).return=ie,Y):((Y=S(Y,ee)).return=ie,Y)}function K(ie,Y,ee,oe){var Fe=ee.type;return Fe===l?ne(ie,Y,ee.props.children,oe,ee.key):Y!==null&&(Y.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===x&&cG(Fe)===Y.type)?((oe=S(Y,ee.props)).ref=vg(ie,Y,ee),oe.return=ie,oe):((oe=ex(ee.type,ee.key,ee.props,null,ie.mode,oe)).ref=vg(ie,Y,ee),oe.return=ie,oe)}function te(ie,Y,ee,oe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?((Y=oR(ee,ie.mode,oe)).return=ie,Y):((Y=S(Y,ee.children||[])).return=ie,Y)}function ne(ie,Y,ee,oe,Fe){return Y===null||Y.tag!==7?((Y=Yc(ee,ie.mode,oe,Fe)).return=ie,Y):((Y=S(Y,ee)).return=ie,Y)}function ye(ie,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return(Y=sR(""+Y,ie.mode,ee)).return=ie,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case a:return(ee=ex(Y.type,Y.key,Y.props,null,ie.mode,ee)).ref=vg(ie,null,Y),ee.return=ie,ee;case u:return(Y=oR(Y,ie.mode,ee)).return=ie,Y;case x:return ye(ie,(0,Y._init)(Y._payload),ee)}if(O(Y)||R(Y))return(Y=Yc(Y,ie.mode,ee,null)).return=ie,Y;Cw(ie,Y)}return null}function re(ie,Y,ee,oe){var Fe=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Fe!==null?null:Z(ie,Y,""+ee,oe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case a:return ee.key===Fe?K(ie,Y,ee,oe):null;case u:return ee.key===Fe?te(ie,Y,ee,oe):null;case x:return re(ie,Y,(Fe=ee._init)(ee._payload),oe)}if(O(ee)||R(ee))return Fe!==null?null:ne(ie,Y,ee,oe,null);Cw(ie,ee)}return null}function he(ie,Y,ee,oe,Fe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Z(Y,ie=ie.get(ee)||null,""+oe,Fe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:return K(Y,ie=ie.get(oe.key===null?ee:oe.key)||null,oe,Fe);case u:return te(Y,ie=ie.get(oe.key===null?ee:oe.key)||null,oe,Fe);case x:return he(ie,Y,ee,(0,oe._init)(oe._payload),Fe)}if(O(oe)||R(oe))return ne(Y,ie=ie.get(ee)||null,oe,Fe,null);Cw(Y,oe)}return null}function Pe(ie,Y,ee,oe){for(var Fe=null,wt=null,Re=Y,yt=Y=0,Kr=null;Re!==null&&yt<ee.length;yt++){Re.index>yt?(Kr=Re,Re=null):Kr=Re.sibling;var _t=re(ie,Re,ee[yt],oe);if(_t===null){Re===null&&(Re=Kr);break}c&&Re&&_t.alternate===null&&d(ie,Re),Y=I(_t,Y,yt),wt===null?Fe=_t:wt.sibling=_t,wt=_t,Re=Kr}if(yt===ee.length)return g(ie,Re),$t&&$c(ie,yt),Fe;if(Re===null){for(;yt<ee.length;yt++)(Re=ye(ie,ee[yt],oe))!==null&&(Y=I(Re,Y,yt),wt===null?Fe=Re:wt.sibling=Re,wt=Re);return $t&&$c(ie,yt),Fe}for(Re=b(ie,Re);yt<ee.length;yt++)(Kr=he(Re,ie,yt,ee[yt],oe))!==null&&(c&&Kr.alternate!==null&&Re.delete(Kr.key===null?yt:Kr.key),Y=I(Kr,Y,yt),wt===null?Fe=Kr:wt.sibling=Kr,wt=Kr);return c&&Re.forEach(function(cl){return d(ie,cl)}),$t&&$c(ie,yt),Fe}function Je(ie,Y,ee,oe){var Fe=R(ee);if(typeof Fe!="function")throw Error(s(150));if((ee=Fe.call(ee))==null)throw Error(s(151));for(var wt=Fe=null,Re=Y,yt=Y=0,Kr=null,_t=ee.next();Re!==null&&!_t.done;yt++,_t=ee.next()){Re.index>yt?(Kr=Re,Re=null):Kr=Re.sibling;var cl=re(ie,Re,_t.value,oe);if(cl===null){Re===null&&(Re=Kr);break}c&&Re&&cl.alternate===null&&d(ie,Re),Y=I(cl,Y,yt),wt===null?Fe=cl:wt.sibling=cl,wt=cl,Re=Kr}if(_t.done)return g(ie,Re),$t&&$c(ie,yt),Fe;if(Re===null){for(;!_t.done;yt++,_t=ee.next())(_t=ye(ie,_t.value,oe))!==null&&(Y=I(_t,Y,yt),wt===null?Fe=_t:wt.sibling=_t,wt=_t);return $t&&$c(ie,yt),Fe}for(Re=b(ie,Re);!_t.done;yt++,_t=ee.next())(_t=he(Re,ie,yt,_t.value,oe))!==null&&(c&&_t.alternate!==null&&Re.delete(_t.key===null?yt:_t.key),Y=I(_t,Y,yt),wt===null?Fe=_t:wt.sibling=_t,wt=_t);return c&&Re.forEach(function(W1e){return d(ie,W1e)}),$t&&$c(ie,yt),Fe}return function ie(Y,ee,oe,Fe){if(typeof oe=="object"&&oe!==null&&oe.type===l&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:e:{for(var wt=oe.key,Re=ee;Re!==null;){if(Re.key===wt){if((wt=oe.type)===l){if(Re.tag===7){g(Y,Re.sibling),(ee=S(Re,oe.props.children)).return=Y,Y=ee;break e}}else if(Re.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===x&&cG(wt)===Re.type){g(Y,Re.sibling),(ee=S(Re,oe.props)).ref=vg(Y,Re,oe),ee.return=Y,Y=ee;break e}g(Y,Re);break}d(Y,Re),Re=Re.sibling}oe.type===l?((ee=Yc(oe.props.children,Y.mode,Fe,oe.key)).return=Y,Y=ee):((Fe=ex(oe.type,oe.key,oe.props,null,Y.mode,Fe)).ref=vg(Y,ee,oe),Fe.return=Y,Y=Fe)}return F(Y);case u:e:{for(Re=oe.key;ee!==null;){if(ee.key===Re){if(ee.tag===4&&ee.stateNode.containerInfo===oe.containerInfo&&ee.stateNode.implementation===oe.implementation){g(Y,ee.sibling),(ee=S(ee,oe.children||[])).return=Y,Y=ee;break e}g(Y,ee);break}d(Y,ee),ee=ee.sibling}(ee=oR(oe,Y.mode,Fe)).return=Y,Y=ee}return F(Y);case x:return ie(Y,ee,(Re=oe._init)(oe._payload),Fe)}if(O(oe))return Pe(Y,ee,oe,Fe);if(R(oe))return Je(Y,ee,oe,Fe);Cw(Y,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,ee!==null&&ee.tag===6?(g(Y,ee.sibling),(ee=S(ee,oe)).return=Y,Y=ee):(g(Y,ee),(ee=sR(oe,Y.mode,Fe)).return=Y,Y=ee),F(Y)):g(Y,ee)}}var Bf=hG(!0),dG=hG(!1),_g={},es=Xi(_g),bg=Xi(_g),Ff=Xi(_g);function zo(c){if(c===_g)throw Error(s(174));return c}function bP(c,d){Pt(Ff,d),Pt(bg,c),Pt(es,_g),c=L(d),Gt(es),Pt(es,c)}function Uf(){Gt(es),Gt(bg),Gt(Ff)}function fG(c){var d=zo(Ff.current),g=zo(es.current);g!==(d=N(g,c.type,d))&&(Pt(bg,c),Pt(es,d))}function wP(c){bg.current===c&&(Gt(es),Gt(bg))}var rr=Xi(0);function kw(c){for(var d=c;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&((g=g.dehydrated)===null||fw(g)||pg(g)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(128&d.flags)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var xP=[];function EP(){for(var c=0;c<xP.length;c++){var d=xP[c];ze?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}xP.length=0}var Ow=o.ReactCurrentDispatcher,SP=o.ReactCurrentBatchConfig,Wc=0,Qt=null,Lr=null,Br=null,Pw=!1,wg=!1,xg=0,E1e=0;function pn(){throw Error(s(321))}function AP(c,d){if(d===null)return!1;for(var g=0;g<d.length&&g<c.length;g++)if(!Xs(c[g],d[g]))return!1;return!0}function TP(c,d,g,b,S,I){if(Wc=I,Qt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ow.current=c===null||c.memoizedState===null?I1e:C1e,c=g(b,S),wg){I=0;do{if(wg=!1,xg=0,25<=I)throw Error(s(301));I+=1,Br=Lr=null,d.updateQueue=null,Ow.current=k1e,c=g(b,S)}while(wg)}if(Ow.current=Nw,d=Lr!==null&&Lr.next!==null,Wc=0,Br=Lr=Qt=null,Pw=!1,d)throw Error(s(300));return c}function IP(){var c=xg!==0;return xg=0,c}function Ho(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Qt.memoizedState=Br=c:Br=Br.next=c,Br}function ts(){if(Lr===null){var c=Qt.alternate;c=c!==null?c.memoizedState:null}else c=Lr.next;var d=Br===null?Qt.memoizedState:Br.next;if(d!==null)Br=d,Lr=c;else{if(c===null)throw Error(s(310));c={memoizedState:(Lr=c).memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Br===null?Qt.memoizedState=Br=c:Br=Br.next=c}return Br}function Eg(c,d){return typeof d=="function"?d(c):d}function CP(c){var d=ts(),g=d.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=c;var b=Lr,S=b.baseQueue,I=g.pending;if(I!==null){if(S!==null){var F=S.next;S.next=I.next,I.next=F}b.baseQueue=S=I,g.pending=null}if(S!==null){I=S.next,b=b.baseState;var Z=F=null,K=null,te=I;do{var ne=te.lane;if((Wc&ne)===ne)K!==null&&(K=K.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),b=te.hasEagerState?te.eagerState:c(b,te.action);else{var ye={lane:ne,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};K===null?(Z=K=ye,F=b):K=K.next=ye,Qt.lanes|=ne,qc|=ne}te=te.next}while(te!==null&&te!==I);K===null?F=b:K.next=Z,Xs(b,d.memoizedState)||(Kn=!0),d.memoizedState=b,d.baseState=F,d.baseQueue=K,g.lastRenderedState=b}if((c=g.interleaved)!==null){S=c;do I=S.lane,Qt.lanes|=I,qc|=I,S=S.next;while(S!==c)}else S===null&&(g.lanes=0);return[d.memoizedState,g.dispatch]}function kP(c){var d=ts(),g=d.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=c;var b=g.dispatch,S=g.pending,I=d.memoizedState;if(S!==null){g.pending=null;var F=S=S.next;do I=c(I,F.action),F=F.next;while(F!==S);Xs(I,d.memoizedState)||(Kn=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),g.lastRenderedState=I}return[I,b]}function pG(){}function mG(c,d){var g=Qt,b=ts(),S=d(),I=!Xs(b.memoizedState,S);if(I&&(b.memoizedState=S,Kn=!0),b=b.queue,OP(vG.bind(null,g,b,c),[c]),b.getSnapshot!==d||I||Br!==null&&1&Br.memoizedState.tag){if(g.flags|=2048,Sg(9,gG.bind(null,g,b,S,d),void 0,null),Fr===null)throw Error(s(349));30&Wc||yG(g,d,S)}return S}function yG(c,d,g){c.flags|=16384,c={getSnapshot:d,value:g},(d=Qt.updateQueue)===null?(d={lastEffect:null,stores:null},Qt.updateQueue=d,d.stores=[c]):(g=d.stores)===null?d.stores=[c]:g.push(c)}function gG(c,d,g,b){d.value=g,d.getSnapshot=b,_G(d)&&bG(c)}function vG(c,d,g){return g(function(){_G(d)&&bG(c)})}function _G(c){var d=c.getSnapshot;c=c.value;try{var g=d();return!Xs(c,g)}catch{return!0}}function bG(c){var d=jo(c,1);d!==null&&rs(d,c,1,-1)}function wG(c){var d=Ho();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:c},d.queue=c,c=c.dispatch=T1e.bind(null,Qt,c),[d.memoizedState,c]}function Sg(c,d,g,b){return c={tag:c,create:d,destroy:g,deps:b,next:null},(d=Qt.updateQueue)===null?(d={lastEffect:null,stores:null},Qt.updateQueue=d,d.lastEffect=c.next=c):(g=d.lastEffect)===null?d.lastEffect=c.next=c:(b=g.next,g.next=c,c.next=b,d.lastEffect=c),c}function xG(){return ts().memoizedState}function Rw(c,d,g,b){var S=Ho();Qt.flags|=c,S.memoizedState=Sg(1|d,g,void 0,b===void 0?null:b)}function Mw(c,d,g,b){var S=ts();b=b===void 0?null:b;var I=void 0;if(Lr!==null){var F=Lr.memoizedState;if(I=F.destroy,b!==null&&AP(b,F.deps))return void(S.memoizedState=Sg(d,g,I,b))}Qt.flags|=c,S.memoizedState=Sg(1|d,g,I,b)}function EG(c,d){return Rw(8390656,8,c,d)}function OP(c,d){return Mw(2048,8,c,d)}function SG(c,d){return Mw(4,2,c,d)}function AG(c,d){return Mw(4,4,c,d)}function TG(c,d){return typeof d=="function"?(c=c(),d(c),function(){d(null)}):d!=null?(c=c(),d.current=c,function(){d.current=null}):void 0}function IG(c,d,g){return g=g!=null?g.concat([c]):null,Mw(4,4,TG.bind(null,d,c),g)}function PP(){}function CG(c,d){var g=ts();d=d===void 0?null:d;var b=g.memoizedState;return b!==null&&d!==null&&AP(d,b[1])?b[0]:(g.memoizedState=[c,d],c)}function kG(c,d){var g=ts();d=d===void 0?null:d;var b=g.memoizedState;return b!==null&&d!==null&&AP(d,b[1])?b[0]:(c=c(),g.memoizedState=[c,d],c)}function OG(c,d,g){return 21&Wc?(Xs(g,d)||(g=VH(),Qt.lanes|=g,qc|=g,c.baseState=!0),d):(c.baseState&&(c.baseState=!1,Kn=!0),c.memoizedState=g)}function S1e(c,d){var g=mt;mt=g!==0&&4>g?g:4,c(!0);var b=SP.transition;SP.transition={};try{c(!1),d()}finally{mt=g,SP.transition=b}}function PG(){return ts().memoizedState}function A1e(c,d,g){var b=al(c);g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},RG(c)?MG(d,g):(g=rG(c,d,g,b))!==null&&(rs(g,c,b,yn()),NG(g,d,b))}function T1e(c,d,g){var b=al(c),S={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(RG(c))MG(d,S);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer)!==null)try{var F=d.lastRenderedState,Z=I(F,g);if(S.hasEagerState=!0,S.eagerState=Z,Xs(Z,F)){var K=d.interleaved;return K===null?(S.next=S,yP(d)):(S.next=K.next,K.next=S),void(d.interleaved=S)}}catch{}(g=rG(c,d,S,b))!==null&&(rs(g,c,b,S=yn()),NG(g,d,b))}}function RG(c){var d=c.alternate;return c===Qt||d!==null&&d===Qt}function MG(c,d){wg=Pw=!0;var g=c.pending;g===null?d.next=d:(d.next=g.next,g.next=d),c.pending=d}function NG(c,d,g){if(4194240&g){var b=d.lanes;g|=b&=c.pendingLanes,d.lanes=g,nP(c,g)}}var Nw={readContext:Ji,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},I1e={readContext:Ji,useCallback:function(c,d){return Ho().memoizedState=[c,d===void 0?null:d],c},useContext:Ji,useEffect:EG,useImperativeHandle:function(c,d,g){return g=g!=null?g.concat([c]):null,Rw(4194308,4,TG.bind(null,d,c),g)},useLayoutEffect:function(c,d){return Rw(4194308,4,c,d)},useInsertionEffect:function(c,d){return Rw(4,2,c,d)},useMemo:function(c,d){var g=Ho();return d=d===void 0?null:d,c=c(),g.memoizedState=[c,d],c},useReducer:function(c,d,g){var b=Ho();return d=g!==void 0?g(d):d,b.memoizedState=b.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},b.queue=c,c=c.dispatch=A1e.bind(null,Qt,c),[b.memoizedState,c]},useRef:function(c){return c={current:c},Ho().memoizedState=c},useState:wG,useDebugValue:PP,useDeferredValue:function(c){return Ho().memoizedState=c},useTransition:function(){var c=wG(!1),d=c[0];return c=S1e.bind(null,c[1]),Ho().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,g){var b=Qt,S=Ho();if($t){if(g===void 0)throw Error(s(407));g=g()}else{if(g=d(),Fr===null)throw Error(s(349));30&Wc||yG(b,d,g)}S.memoizedState=g;var I={value:g,getSnapshot:d};return S.queue=I,EG(vG.bind(null,b,I,c),[c]),b.flags|=2048,Sg(9,gG.bind(null,b,I,g,d),void 0,null),g},useId:function(){var c=Ho(),d=Fr.identifierPrefix;if($t){var g=Ma;d=":"+d+"R"+(g=(Uo&~(1<<32-Zs(Uo)-1)).toString(32)+g),0<(g=xg++)&&(d+="H"+g.toString(32)),d+=":"}else d=":"+d+"r"+(g=E1e++).toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},C1e={readContext:Ji,useCallback:CG,useContext:Ji,useEffect:OP,useImperativeHandle:IG,useInsertionEffect:SG,useLayoutEffect:AG,useMemo:kG,useReducer:CP,useRef:xG,useState:function(){return CP(Eg)},useDebugValue:PP,useDeferredValue:function(c){return OG(ts(),Lr.memoizedState,c)},useTransition:function(){return[CP(Eg)[0],ts().memoizedState]},useMutableSource:pG,useSyncExternalStore:mG,useId:PG,unstable_isNewReconciler:!1},k1e={readContext:Ji,useCallback:CG,useContext:Ji,useEffect:OP,useImperativeHandle:IG,useInsertionEffect:SG,useLayoutEffect:AG,useMemo:kG,useReducer:kP,useRef:xG,useState:function(){return kP(Eg)},useDebugValue:PP,useDeferredValue:function(c){var d=ts();return Lr===null?d.memoizedState=c:OG(d,Lr.memoizedState,c)},useTransition:function(){return[kP(Eg)[0],ts().memoizedState]},useMutableSource:pG,useSyncExternalStore:mG,useId:PG,unstable_isNewReconciler:!1};function jf(c,d){try{var g="",b=d;do g+=x1e(b),b=b.return;while(b);var S=g}catch(I){S=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:d,stack:S,digest:null}}function RP(c,d,g){return{value:c,source:null,stack:g??null,digest:d??null}}function MP(c,d){try{console.error(d.value)}catch(g){setTimeout(function(){throw g})}}var O1e=typeof WeakMap=="function"?WeakMap:Map;function DG(c,d,g){(g=Na(-1,g)).tag=3,g.payload={element:null};var b=d.value;return g.callback=function(){Zw||(Zw=!0,QP=b),MP(0,d)},g}function LG(c,d,g){(g=Na(-1,g)).tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var S=d.value;g.payload=function(){return b(S)},g.callback=function(){MP(0,d)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(g.callback=function(){MP(0,d),typeof b!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var F=d.stack;this.componentDidCatch(d.value,{componentStack:F!==null?F:""})}),g}function BG(c,d,g){var b=c.pingCache;if(b===null){b=c.pingCache=new O1e;var S=new Set;b.set(d,S)}else(S=b.get(d))===void 0&&(S=new Set,b.set(d,S));S.has(g)||(S.add(g),c=U1e.bind(null,c,d,g),d.then(c,c))}function FG(c){do{var d;if((d=c.tag===13)&&(d=(d=c.memoizedState)===null||d.dehydrated!==null),d)return c;c=c.return}while(c!==null);return null}function UG(c,d,g,b,S){return 1&c.mode?(c.flags|=65536,c.lanes=S,c):(c===d?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:((d=Na(-1,1)).tag=2,nl(g,d,1))),g.lanes|=1),c)}var P1e=o.ReactCurrentOwner,Kn=!1;function Qn(c,d,g,b){d.child=c===null?dG(d,null,g,b):Bf(d,c.child,g,b)}function jG(c,d,g,b,S){g=g.render;var I=d.ref;return Lf(d,S),b=TP(c,d,g,b,I,S),g=IP(),c===null||Kn?($t&&g&&aP(d),d.flags|=1,Qn(c,d,b,S),d.child):(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Da(c,d,S))}function zG(c,d,g,b,S){if(c===null){var I=g.type;return typeof I!="function"||iR(I)||I.defaultProps!==void 0||g.compare!==null||g.defaultProps!==void 0?((c=ex(g.type,null,b,d,d.mode,S)).ref=d.ref,c.return=d,d.child=c):(d.tag=15,d.type=I,HG(c,d,I,b,S))}if(I=c.child,(c.lanes&S)==0){var F=I.memoizedProps;if((g=(g=g.compare)!==null?g:xw)(F,b)&&c.ref===d.ref)return Da(c,d,S)}return d.flags|=1,(c=ll(I,b)).ref=d.ref,c.return=d,d.child=c}function HG(c,d,g,b,S){if(c!==null){var I=c.memoizedProps;if(xw(I,b)&&c.ref===d.ref){if(Kn=!1,d.pendingProps=b=I,(c.lanes&S)==0)return d.lanes=c.lanes,Da(c,d,S);131072&c.flags&&(Kn=!0)}}return NP(c,d,g,b,S)}function GG(c,d,g){var b=d.pendingProps,S=b.children,I=c!==null?c.memoizedState:null;if(b.mode==="hidden")if(!(1&d.mode))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Hf,bi),bi|=g;else{if(!(1073741824&g))return c=I!==null?I.baseLanes|g:g,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Pt(Hf,bi),bi|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=I!==null?I.baseLanes:g,Pt(Hf,bi),bi|=b}else I!==null?(b=I.baseLanes|g,d.memoizedState=null):b=g,Pt(Hf,bi),bi|=b;return Qn(c,d,S,g),d.child}function $G(c,d){var g=d.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(d.flags|=512,d.flags|=2097152)}function NP(c,d,g,b,S){var I=vi(g)?Hc:fn.current;return I=Pf(d,I),Lf(d,S),g=TP(c,d,g,b,I,S),b=IP(),c===null||Kn?($t&&b&&aP(d),d.flags|=1,Qn(c,d,g,S),d.child):(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~S,Da(c,d,S))}function VG(c,d,g,b,S){if(vi(g)){var I=!0;mw(d)}else I=!1;if(Lf(d,S),d.stateNode===null)Fw(c,d),uG(d,g,b),_P(d,g,b,S),b=!0;else if(c===null){var F=d.stateNode,Z=d.memoizedProps;F.props=Z;var K=F.context,te=g.contextType;typeof te=="object"&&te!==null?te=Ji(te):te=Pf(d,te=vi(g)?Hc:fn.current);var ne=g.getDerivedStateFromProps,ye=typeof ne=="function"||typeof F.getSnapshotBeforeUpdate=="function";ye||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==b||K!==te)&&lG(d,F,b,te),rl=!1;var re=d.memoizedState;F.state=re,Tw(d,b,F,S),K=d.memoizedState,Z!==b||re!==K||Yn.current||rl?(typeof ne=="function"&&(vP(d,g,ne,b),K=d.memoizedState),(Z=rl||aG(d,g,Z,b,re,K,te))?(ye||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(d.flags|=4194308)):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=K),F.props=b,F.state=K,F.context=te,b=Z):(typeof F.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{F=d.stateNode,nG(c,d),Z=d.memoizedProps,te=d.type===d.elementType?Z:Ks(d.type,Z),F.props=te,ye=d.pendingProps,re=F.context,typeof(K=g.contextType)=="object"&&K!==null?K=Ji(K):K=Pf(d,K=vi(g)?Hc:fn.current);var he=g.getDerivedStateFromProps;(ne=typeof he=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==ye||re!==K)&&lG(d,F,b,K),rl=!1,re=d.memoizedState,F.state=re,Tw(d,b,F,S);var Pe=d.memoizedState;Z!==ye||re!==Pe||Yn.current||rl?(typeof he=="function"&&(vP(d,g,he,b),Pe=d.memoizedState),(te=rl||aG(d,g,te,b,re,Pe,K)||!1)?(ne||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(b,Pe,K),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(b,Pe,K)),typeof F.componentDidUpdate=="function"&&(d.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof F.componentDidUpdate!="function"||Z===c.memoizedProps&&re===c.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&re===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=Pe),F.props=b,F.state=Pe,F.context=K,b=te):(typeof F.componentDidUpdate!="function"||Z===c.memoizedProps&&re===c.memoizedState||(d.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&re===c.memoizedState||(d.flags|=1024),b=!1)}return DP(c,d,g,b,I,S)}function DP(c,d,g,b,S,I){$G(c,d);var F=(128&d.flags)!=0;if(!b&&!F)return S&&$H(d,g,!1),Da(c,d,I);b=d.stateNode,P1e.current=d;var Z=F&&typeof g.getDerivedStateFromError!="function"?null:b.render();return d.flags|=1,c!==null&&F?(d.child=Bf(d,c.child,null,I),d.child=Bf(d,null,Z,I)):Qn(c,d,Z,I),d.memoizedState=b.state,S&&$H(d,g,!0),d.child}function WG(c){var d=c.stateNode;d.pendingContext?HH(0,d.pendingContext,d.pendingContext!==d.context):d.context&&HH(0,d.context,!1),bP(c,d.containerInfo)}function qG(c,d,g,b,S){return Nf(),hP(S),d.flags|=256,Qn(c,d,g,b),d.child}var Ag,Tg,Dw,Lw,LP={dehydrated:null,treeContext:null,retryLane:0};function BP(c){return{baseLanes:c,cachePool:null,transitions:null}}function ZG(c,d,g){var b,S=d.pendingProps,I=rr.current,F=!1,Z=(128&d.flags)!=0;if((b=Z)||(b=(c===null||c.memoizedState!==null)&&(2&I)!=0),b?(F=!0,d.flags&=-129):c!==null&&c.memoizedState===null||(I|=1),Pt(rr,1&I),c===null)return cP(d),(c=d.memoizedState)!==null&&(c=c.dehydrated)!==null?(1&d.mode?pg(c)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(Z=S.children,c=S.fallback,F?(S=d.mode,F=d.child,Z={mode:"hidden",children:Z},!(1&S)&&F!==null?(F.childLanes=0,F.pendingProps=Z):F=tx(Z,S,0,null),c=Yc(c,S,g,null),F.return=d,c.return=d,F.sibling=c,d.child=F,d.child.memoizedState=BP(g),d.memoizedState=LP,c):FP(d,Z));if((I=c.memoizedState)!==null&&(b=I.dehydrated)!==null)return function(te,ne,ye,re,he,Pe,Je){if(ye)return 256&ne.flags?(ne.flags&=-257,Bw(te,ne,Je,re=RP(Error(s(422))))):ne.memoizedState!==null?(ne.child=te.child,ne.flags|=128,null):(Pe=re.fallback,he=ne.mode,re=tx({mode:"visible",children:re.children},he,0,null),(Pe=Yc(Pe,he,Je,null)).flags|=2,re.return=ne,Pe.return=ne,re.sibling=Pe,ne.child=re,1&ne.mode&&Bf(ne,te.child,null,Je),ne.child.memoizedState=BP(Je),ne.memoizedState=LP,Pe);if(!(1&ne.mode))return Bw(te,ne,Je,null);if(pg(he))return re=GO(he).digest,Pe=Error(s(419)),re=RP(Pe,re,void 0),Bw(te,ne,Je,re);if(ye=(Je&te.childLanes)!=0,Kn||ye){if((re=Fr)!==null){switch(Je&-Je){case 4:he=2;break;case 16:he=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:he=32;break;case 536870912:he=268435456;break;default:he=0}(he=he&(re.suspendedLanes|Je)?0:he)!==0&&he!==Pe.retryLane&&(Pe.retryLane=he,jo(te,he),rs(re,te,he,-1))}return nR(),Bw(te,ne,Je,re=RP(Error(s(421))))}return fw(he)?(ne.flags|=128,ne.child=te.child,ne=j1e.bind(null,te),$O(he,ne),null):(te=Pe.treeContext,Be&&(Qi=WO(he),_i=ne,$t=!0,Ys=null,gg=!1,te!==null&&(Yi[Ki++]=Uo,Yi[Ki++]=Ma,Yi[Ki++]=Gc,Uo=te.id,Ma=te.overflow,Gc=ne)),ne=FP(ne,re.children),ne.flags|=4096,ne)}(c,d,Z,S,b,I,g);if(F){F=S.fallback,Z=d.mode,b=(I=c.child).sibling;var K={mode:"hidden",children:S.children};return!(1&Z)&&d.child!==I?((S=d.child).childLanes=0,S.pendingProps=K,d.deletions=null):(S=ll(I,K)).subtreeFlags=14680064&I.subtreeFlags,b!==null?F=ll(b,F):(F=Yc(F,Z,g,null)).flags|=2,F.return=d,S.return=d,S.sibling=F,d.child=S,S=F,F=d.child,Z=(Z=c.child.memoizedState)===null?BP(g):{baseLanes:Z.baseLanes|g,cachePool:null,transitions:Z.transitions},F.memoizedState=Z,F.childLanes=c.childLanes&~g,d.memoizedState=LP,S}return c=(F=c.child).sibling,S=ll(F,{mode:"visible",children:S.children}),!(1&d.mode)&&(S.lanes=g),S.return=d,S.sibling=null,c!==null&&((g=d.deletions)===null?(d.deletions=[c],d.flags|=16):g.push(c)),d.child=S,d.memoizedState=null,S}function FP(c,d){return(d=tx({mode:"visible",children:d},c.mode,0,null)).return=c,c.child=d}function Bw(c,d,g,b){return b!==null&&hP(b),Bf(d,c.child,null,g),(c=FP(d,d.pendingProps.children)).flags|=2,d.memoizedState=null,c}function XG(c,d,g){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),mP(c.return,d,g)}function UP(c,d,g,b,S){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:S}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=g,I.tailMode=S)}function YG(c,d,g){var b=d.pendingProps,S=b.revealOrder,I=b.tail;if(Qn(c,d,b.children,g),(2&(b=rr.current))!=0)b=1&b|2,d.flags|=128;else{if(c!==null&&128&c.flags)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&XG(c,g,d);else if(c.tag===19)XG(c,g,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(Pt(rr,b),(1&d.mode)==0)d.memoizedState=null;else switch(S){case"forwards":for(g=d.child,S=null;g!==null;)(c=g.alternate)!==null&&kw(c)===null&&(S=g),g=g.sibling;(g=S)===null?(S=d.child,d.child=null):(S=g.sibling,g.sibling=null),UP(d,!1,S,g,I);break;case"backwards":for(g=null,S=d.child,d.child=null;S!==null;){if((c=S.alternate)!==null&&kw(c)===null){d.child=S;break}c=S.sibling,S.sibling=g,g=S,S=c}UP(d,!0,g,null,I);break;case"together":UP(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Fw(c,d){!(1&d.mode)&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function Da(c,d,g){if(c!==null&&(d.dependencies=c.dependencies),qc|=d.lanes,(g&d.childLanes)==0)return null;if(c!==null&&d.child!==c.child)throw Error(s(153));if(d.child!==null){for(g=ll(c=d.child,c.pendingProps),d.child=g,g.return=d;c.sibling!==null;)c=c.sibling,(g=g.sibling=ll(c,c.pendingProps)).return=d;g.sibling=null}return d.child}function Go(c){c.flags|=4}function KG(c,d){if(c!==null&&c.child===d.child)return!0;if(16&d.flags)return!1;for(c=d.child;c!==null;){if(12854&c.flags||12854&c.subtreeFlags)return!1;c=c.sibling}return!0}if(De)Ag=function(c,d){for(var g=d.child;g!==null;){if(g.tag===5||g.tag===6)J(c,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Tg=function(){},Dw=function(c,d,g,b,S){if((c=c.memoizedProps)!==b){var I=d.stateNode,F=zo(es.current);g=fe(I,g,c,b,S,F),(d.updateQueue=g)&&Go(d)}},Lw=function(c,d,g,b){g!==b&&Go(d)};else if(ke){Ag=function(c,d,g,b){for(var S=d.child;S!==null;){if(S.tag===5){var I=S.stateNode;g&&b&&(I=hw(I,S.type,S.memoizedProps,S)),J(c,I)}else if(S.tag===6)I=S.stateNode,g&&b&&(I=dw(I,S.memoizedProps,S)),J(c,I);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)(I=S.child)!==null&&(I.return=S),Ag(c,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};var QG=function(c,d,g,b){for(var S=d.child;S!==null;){if(S.tag===5){var I=S.stateNode;g&&b&&(I=hw(I,S.type,S.memoizedProps,S)),cw(c,I)}else if(S.tag===6)I=S.stateNode,g&&b&&(I=dw(I,S.memoizedProps,S)),cw(c,I);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)(I=S.child)!==null&&(I.return=S),QG(c,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};Tg=function(c,d){var g=d.stateNode;if(!KG(c,d)){c=g.containerInfo;var b=lw(c);QG(b,d,!1,!1),g.pendingChildren=b,Go(d),UO(c,b)}},Dw=function(c,d,g,b,S){var I=c.stateNode,F=c.memoizedProps;if((c=KG(c,d))&&F===b)d.stateNode=I;else{var Z=d.stateNode,K=zo(es.current),te=null;F!==b&&(te=fe(Z,g,F,b,S,K)),c&&te===null?d.stateNode=I:(I=FO(I,te,g,F,b,d,c,Z),pe(I,g,b,S,K)&&Go(d),d.stateNode=I,c?Go(d):Ag(I,d,!1,!1))}},Lw=function(c,d,g,b){g!==b?(c=zo(Ff.current),g=zo(es.current),d.stateNode=we(b,c,g,d),Go(d)):d.stateNode=c.stateNode}}else Tg=function(){},Dw=function(){},Lw=function(){};function Ig(c,d){if(!$t)switch(c.tailMode){case"hidden":d=c.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function Ln(c){var d=c.alternate!==null&&c.alternate.child===c.child,g=0,b=0;if(d)for(var S=c.child;S!==null;)g|=S.lanes|S.childLanes,b|=14680064&S.subtreeFlags,b|=14680064&S.flags,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)g|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=b,c.childLanes=g,d}function R1e(c,d,g){var b=d.pendingProps;switch(uP(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(d),null;case 1:case 17:return vi(d.type)&&QO(),Ln(d),null;case 3:return g=d.stateNode,Uf(),Gt(Yn),Gt(fn),EP(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),c!==null&&c.child!==null||(ww(d)?Go(d):c===null||c.memoizedState.isDehydrated&&!(256&d.flags)||(d.flags|=1024,Ys!==null&&(tR(Ys),Ys=null))),Tg(c,d),Ln(d),null;case 5:wP(d),g=zo(Ff.current);var S=d.type;if(c!==null&&d.stateNode!=null)Dw(c,d,S,b,g),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!b){if(d.stateNode===null)throw Error(s(166));return Ln(d),null}if(c=zo(es.current),ww(d)){if(!Be)throw Error(s(175));c=qO(d.stateNode,d.type,d.memoizedProps,g,c,d,!gg),d.updateQueue=c,c!==null&&Go(d)}else{var I=q(S,b,g,c,d);Ag(I,d,!1,!1),d.stateNode=I,pe(I,S,b,g,c)&&Go(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Ln(d),null;case 6:if(c&&d.stateNode!=null)Lw(c,d,c.memoizedProps,b);else{if(typeof b!="string"&&d.stateNode===null)throw Error(s(166));if(c=zo(Ff.current),g=zo(es.current),ww(d)){if(!Be)throw Error(s(176));if(c=d.stateNode,g=d.memoizedProps,(b=ZO(c,g,d,!gg))&&(S=_i)!==null)switch(S.tag){case 3:j(S.stateNode.containerInfo,c,g,(1&S.mode)!=0);break;case 5:de(S.type,S.memoizedProps,S.stateNode,c,g,(1&S.mode)!=0)}b&&Go(d)}else d.stateNode=we(b,c,g,d)}return Ln(d),null;case 13:if(Gt(rr),b=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if($t&&Qi!==null&&1&d.mode&&!(128&d.flags))eG(),Nf(),d.flags|=98560,S=!1;else if(S=ww(d),b!==null&&b.dehydrated!==null){if(c===null){if(!S)throw Error(s(318));if(!Be)throw Error(s(344));if(!(S=(S=d.memoizedState)!==null?S.dehydrated:null))throw Error(s(317));XO(S,d)}else Nf(),!(128&d.flags)&&(d.memoizedState=null),d.flags|=4;Ln(d),S=!1}else Ys!==null&&(tR(Ys),Ys=null),S=!0;if(!S)return 65536&d.flags?d:null}return 128&d.flags?(d.lanes=g,d):((g=b!==null)!=(c!==null&&c.memoizedState!==null)&&g&&(d.child.flags|=8192,1&d.mode&&(c===null||1&rr.current?Ar===0&&(Ar=3):nR())),d.updateQueue!==null&&(d.flags|=4),Ln(d),null);case 4:return Uf(),Tg(c,d),c===null&&St(d.stateNode.containerInfo),Ln(d),null;case 10:return pP(d.type._context),Ln(d),null;case 19:if(Gt(rr),(S=d.memoizedState)===null)return Ln(d),null;if(b=(128&d.flags)!=0,(I=S.rendering)===null)if(b)Ig(S,!1);else{if(Ar!==0||c!==null&&128&c.flags)for(c=d.child;c!==null;){if((I=kw(c))!==null){for(d.flags|=128,Ig(S,!1),(c=I.updateQueue)!==null&&(d.updateQueue=c,d.flags|=4),d.subtreeFlags=0,c=g,g=d.child;g!==null;)S=c,(b=g).flags&=14680066,(I=b.alternate)===null?(b.childLanes=0,b.lanes=S,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=I.childLanes,b.lanes=I.lanes,b.child=I.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=I.memoizedProps,b.memoizedState=I.memoizedState,b.updateQueue=I.updateQueue,b.type=I.type,S=I.dependencies,b.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),g=g.sibling;return Pt(rr,1&rr.current|2),d.child}c=c.sibling}S.tail!==null&&Dr()>KP&&(d.flags|=128,b=!0,Ig(S,!1),d.lanes=4194304)}else{if(!b)if((c=kw(I))!==null){if(d.flags|=128,b=!0,(c=c.updateQueue)!==null&&(d.updateQueue=c,d.flags|=4),Ig(S,!0),S.tail===null&&S.tailMode==="hidden"&&!I.alternate&&!$t)return Ln(d),null}else 2*Dr()-S.renderingStartTime>KP&&g!==1073741824&&(d.flags|=128,b=!0,Ig(S,!1),d.lanes=4194304);S.isBackwards?(I.sibling=d.child,d.child=I):((c=S.last)!==null?c.sibling=I:d.child=I,S.last=I)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=Dr(),d.sibling=null,c=rr.current,Pt(rr,b?1&c|2:1&c),d):(Ln(d),null);case 22:case 23:return rR(),g=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==g&&(d.flags|=8192),g&&1&d.mode?1073741824&bi&&(Ln(d),De&&6&d.subtreeFlags&&(d.flags|=8192)):Ln(d),null;case 24:case 25:return null}throw Error(s(156,d.tag))}function M1e(c,d){switch(uP(d),d.tag){case 1:return vi(d.type)&&QO(),65536&(c=d.flags)?(d.flags=-65537&c|128,d):null;case 3:return Uf(),Gt(Yn),Gt(fn),EP(),65536&(c=d.flags)&&!(128&c)?(d.flags=-65537&c|128,d):null;case 5:return wP(d),null;case 13:if(Gt(rr),(c=d.memoizedState)!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(s(340));Nf()}return 65536&(c=d.flags)?(d.flags=-65537&c|128,d):null;case 19:return Gt(rr),null;case 4:return Uf(),null;case 10:return pP(d.type._context),null;case 22:case 23:return rR(),null;default:return null}}var Uw=!1,mn=!1,N1e=typeof WeakSet=="function"?WeakSet:Set,Te=null;function zf(c,d){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Vt(c,d,b)}else g.current=null}function JG(c,d,g){try{g()}catch(b){Vt(c,d,b)}}var e$=!1;function Cg(c,d,g){var b=d.updateQueue;if((b=b!==null?b.lastEffect:null)!==null){var S=b=b.next;do{if((S.tag&c)===c){var I=S.destroy;S.destroy=void 0,I!==void 0&&JG(d,g,I)}S=S.next}while(S!==b)}}function jw(c,d){if((d=(d=d.updateQueue)!==null?d.lastEffect:null)!==null){var g=d=d.next;do{if((g.tag&c)===c){var b=g.create;g.destroy=b()}g=g.next}while(g!==d)}}function jP(c){var d=c.ref;if(d!==null){var g=c.stateNode;c.tag===5?c=D(g):c=g,typeof d=="function"?d(c):d.current=c}}function t$(c){var d=c.alternate;d!==null&&(c.alternate=null,t$(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode)!==null&&Dn(d),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function r$(c){return c.tag===5||c.tag===3||c.tag===4}function n$(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||r$(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(2&c.flags||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(2&c.flags))return c.stateNode}}function zP(c,d,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?OO(g,c,d):sw(g,c);else if(b!==4&&(c=c.child)!==null)for(zP(c,d,g),c=c.sibling;c!==null;)zP(c,d,g),c=c.sibling}function HP(c,d,g){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?aw(g,c,d):IO(g,c);else if(b!==4&&(c=c.child)!==null)for(HP(c,d,g),c=c.sibling;c!==null;)HP(c,d,g),c=c.sibling}var Bn=null,$o=!1;function Vo(c,d,g){for(g=g.child;g!==null;)GP(c,d,g),g=g.sibling}function GP(c,d,g){if(Bo&&typeof Bo.onCommitFiberUnmount=="function")try{Bo.onCommitFiberUnmount(gw,g)}catch{}switch(g.tag){case 5:mn||zf(g,d);case 6:if(De){var b=Bn,S=$o;Bn=null,Vo(c,d,g),$o=S,(Bn=b)!==null&&($o?RO(Bn,g.stateNode):PO(Bn,g.stateNode))}else Vo(c,d,g);break;case 18:De&&Bn!==null&&($o?C(Bn,g.stateNode):A(Bn,g.stateNode));break;case 4:De?(b=Bn,S=$o,Bn=g.stateNode.containerInfo,$o=!0,Vo(c,d,g),Bn=b,$o=S):(ke&&(b=g.stateNode.containerInfo,S=lw(b),fg(b,S)),Vo(c,d,g));break;case 0:case 11:case 14:case 15:if(!mn&&(b=g.updateQueue)!==null&&(b=b.lastEffect)!==null){S=b=b.next;do{var I=S,F=I.destroy;I=I.tag,F!==void 0&&(2&I||4&I)&&JG(g,d,F),S=S.next}while(S!==b)}Vo(c,d,g);break;case 1:if(!mn&&(zf(g,d),typeof(b=g.stateNode).componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(Z){Vt(g,d,Z)}Vo(c,d,g);break;case 21:Vo(c,d,g);break;case 22:1&g.mode?(mn=(b=mn)||g.memoizedState!==null,Vo(c,d,g),mn=b):Vo(c,d,g);break;default:Vo(c,d,g)}}function i$(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new N1e),d.forEach(function(b){var S=z1e.bind(null,c,b);g.has(b)||(g.add(b),b.then(S,S))})}}function Qs(c,d){var g=d.deletions;if(g!==null)for(var b=0;b<g.length;b++){var S=g[b];try{var I=c,F=d;if(De){var Z=F;e:for(;Z!==null;){switch(Z.tag){case 5:Bn=Z.stateNode,$o=!1;break e;case 3:case 4:Bn=Z.stateNode.containerInfo,$o=!0;break e}Z=Z.return}if(Bn===null)throw Error(s(160));GP(I,F,S),Bn=null,$o=!1}else GP(I,F,S);var K=S.alternate;K!==null&&(K.return=null),S.return=null}catch(te){Vt(S,d,te)}}if(12854&d.subtreeFlags)for(d=d.child;d!==null;)s$(d,c),d=d.sibling}function s$(c,d){var g=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Qs(d,c),Wo(c),4&b){try{Cg(3,c,c.return),jw(3,c)}catch(re){Vt(c,c.return,re)}try{Cg(5,c,c.return)}catch(re){Vt(c,c.return,re)}}break;case 1:Qs(d,c),Wo(c),512&b&&g!==null&&zf(g,g.return);break;case 5:if(Qs(d,c),Wo(c),512&b&&g!==null&&zf(g,g.return),De){if(32&c.flags){var S=c.stateNode;try{uw(S)}catch(re){Vt(c,c.return,re)}}if(4&b&&(S=c.stateNode)!=null){var I=c.memoizedProps;if(g=g!==null?g.memoizedProps:I,b=c.type,d=c.updateQueue,c.updateQueue=null,d!==null)try{kO(S,d,b,g,I,c)}catch(re){Vt(c,c.return,re)}}}break;case 6:if(Qs(d,c),Wo(c),4&b&&De){if(c.stateNode===null)throw Error(s(162));S=c.stateNode,I=c.memoizedProps,g=g!==null?g.memoizedProps:I;try{ow(S,g,I)}catch(re){Vt(c,c.return,re)}}break;case 3:if(Qs(d,c),Wo(c),4&b){if(De&&Be&&g!==null&&g.memoizedState.isDehydrated)try{KO(d.containerInfo)}catch(re){Vt(c,c.return,re)}if(ke){S=d.containerInfo,I=d.pendingChildren;try{fg(S,I)}catch(re){Vt(c,c.return,re)}}}break;case 4:if(Qs(d,c),Wo(c),4&b&&ke){S=(I=c.stateNode).containerInfo,I=I.pendingChildren;try{fg(S,I)}catch(re){Vt(c,c.return,re)}}break;case 13:Qs(d,c),Wo(c),8192&(S=c.child).flags&&(I=S.memoizedState!==null,S.stateNode.isHidden=I,!I||S.alternate!==null&&S.alternate.memoizedState!==null||(YP=Dr())),4&b&&i$(c);break;case 22:var F=g!==null&&g.memoizedState!==null;if(1&c.mode?(mn=(g=mn)||F,Qs(d,c),mn=g):Qs(d,c),Wo(c),8192&b){if(g=c.memoizedState!==null,(c.stateNode.isHidden=g)&&!F&&(1&c.mode)!=0)for(Te=c,b=c.child;b!==null;){for(d=Te=b;Te!==null;){var Z=(F=Te).child;switch(F.tag){case 0:case 11:case 14:case 15:Cg(4,F,F.return);break;case 1:zf(F,F.return);var K=F.stateNode;if(typeof K.componentWillUnmount=="function"){var te=F,ne=F.return;try{var ye=te;K.props=ye.memoizedProps,K.state=ye.memoizedState,K.componentWillUnmount()}catch(re){Vt(te,ne,re)}}break;case 5:zf(F,F.return);break;case 22:if(F.memoizedState!==null){u$(d);continue}}Z!==null?(Z.return=F,Te=Z):u$(d)}b=b.sibling}if(De){e:if(b=null,De)for(d=c;;){if(d.tag===5){if(b===null){b=d;try{S=d.stateNode,g?MO(S):DO(d.stateNode,d.memoizedProps)}catch(re){Vt(c,c.return,re)}}}else if(d.tag===6){if(b===null)try{I=d.stateNode,g?NO(I):LO(I,d.memoizedProps)}catch(re){Vt(c,c.return,re)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;b===d&&(b=null),d=d.return}b===d&&(b=null),d.sibling.return=d.return,d=d.sibling}}}break;case 19:Qs(d,c),Wo(c),4&b&&i$(c);break;case 21:break;default:Qs(d,c),Wo(c)}}function Wo(c){var d=c.flags;if(2&d){try{if(De){e:{for(var g=c.return;g!==null;){if(r$(g)){var b=g;break e}g=g.return}throw Error(s(160))}switch(b.tag){case 5:var S=b.stateNode;32&b.flags&&(uw(S),b.flags&=-33),HP(c,n$(c),S);break;case 3:case 4:var I=b.stateNode.containerInfo;zP(c,n$(c),I);break;default:throw Error(s(161))}}}catch(F){Vt(c,c.return,F)}c.flags&=-3}4096&d&&(c.flags&=-4097)}function D1e(c,d,g){Te=c,o$(c)}function o$(c,d,g){for(var b=(1&c.mode)!=0;Te!==null;){var S=Te,I=S.child;if(S.tag===22&&b){var F=S.memoizedState!==null||Uw;if(!F){var Z=S.alternate,K=Z!==null&&Z.memoizedState!==null||mn;Z=Uw;var te=mn;if(Uw=F,(mn=K)&&!te)for(Te=S;Te!==null;)K=(F=Te).child,F.tag===22&&F.memoizedState!==null?l$(S):K!==null?(K.return=F,Te=K):l$(S);for(;I!==null;)Te=I,o$(I),I=I.sibling;Te=S,Uw=Z,mn=te}a$(c)}else 8772&S.subtreeFlags&&I!==null?(I.return=S,Te=I):a$(c)}}function a$(c){for(;Te!==null;){var d=Te;if(8772&d.flags){var g=d.alternate;try{if(8772&d.flags)switch(d.tag){case 0:case 11:case 15:mn||jw(5,d);break;case 1:var b=d.stateNode;if(4&d.flags&&!mn)if(g===null)b.componentDidMount();else{var S=d.elementType===d.type?g.memoizedProps:Ks(d.type,g.memoizedProps);b.componentDidUpdate(S,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&sG(d,I,b);break;case 3:var F=d.updateQueue;if(F!==null){if(g=null,d.child!==null)switch(d.child.tag){case 5:g=D(d.child.stateNode);break;case 1:g=d.child.stateNode}sG(d,F,g)}break;case 5:var Z=d.stateNode;g===null&&4&d.flags&&CO(Z,d.type,d.memoizedProps,d);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Be&&d.memoizedState===null){var K=d.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&$(ne)}}}break;default:throw Error(s(163))}mn||512&d.flags&&jP(d)}catch(ye){Vt(d,d.return,ye)}}if(d===c){Te=null;break}if((g=d.sibling)!==null){g.return=d.return,Te=g;break}Te=d.return}}function u$(c){for(;Te!==null;){var d=Te;if(d===c){Te=null;break}var g=d.sibling;if(g!==null){g.return=d.return,Te=g;break}Te=d.return}}function l$(c){for(;Te!==null;){var d=Te;try{switch(d.tag){case 0:case 11:case 15:var g=d.return;try{jw(4,d)}catch(K){Vt(d,g,K)}break;case 1:var b=d.stateNode;if(typeof b.componentDidMount=="function"){var S=d.return;try{b.componentDidMount()}catch(K){Vt(d,S,K)}}var I=d.return;try{jP(d)}catch(K){Vt(d,I,K)}break;case 5:var F=d.return;try{jP(d)}catch(K){Vt(d,F,K)}}}catch(K){Vt(d,d.return,K)}if(d===c){Te=null;break}var Z=d.sibling;if(Z!==null){Z.return=d.return,Te=Z;break}Te=d.return}}var zw=0,Hw=1,Gw=2,$w=3,Vw=4;if(typeof Symbol=="function"&&Symbol.for){var kg=Symbol.for;zw=kg("selector.component"),Hw=kg("selector.has_pseudo_class"),Gw=kg("selector.role"),$w=kg("selector.test_id"),Vw=kg("selector.text")}function $P(c){var d=st(c);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(s(364));return d}if((c=If(c))===null)throw Error(s(362));return c.stateNode.current}function VP(c,d){switch(d.$$typeof){case zw:if(c.type===d.value)return!0;break;case Hw:e:{d=d.value,c=[c,0];for(var g=0;g<c.length;){var b=c[g++],S=c[g++],I=d[S];if(b.tag!==5||!qs(b)){for(;I!=null&&VP(b,I);)I=d[++S];if(S===d.length){d=!0;break e}for(b=b.child;b!==null;)c.push(b,S),b=b.sibling}}d=!1}return d;case Gw:if(c.tag===5&&kf(c.stateNode,d.value))return!0;break;case Vw:if((c.tag===5||c.tag===6)&&(c=iw(c))!==null&&0<=c.indexOf(d.value))return!0;break;case $w:if(c.tag===5&&typeof(c=c.memoizedProps["data-testname"])=="string"&&c.toLowerCase()===d.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function WP(c){switch(c.$$typeof){case zw:return"<"+(P(c.value)||"Unknown")+">";case Hw:return":has("+(WP(c)||"")+")";case Gw:return'[role="'+c.value+'"]';case Vw:return'"'+c.value+'"';case $w:return'[data-testname="'+c.value+'"]';default:throw Error(s(365))}}function c$(c,d){var g=[];c=[c,0];for(var b=0;b<c.length;){var S=c[b++],I=c[b++],F=d[I];if(S.tag!==5||!qs(S)){for(;F!=null&&VP(S,F);)F=d[++I];if(I===d.length)g.push(S);else for(S=S.child;S!==null;)c.push(S,I),S=S.sibling}}return g}function qP(c,d){if(!Ws)throw Error(s(363));c=c$(c=$P(c),d),d=[],c=Array.from(c);for(var g=0;g<c.length;){var b=c[g++];if(b.tag===5)qs(b)||d.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return d}var L1e=Math.ceil,Ww=o.ReactCurrentDispatcher,ZP=o.ReactCurrentOwner,lr=o.ReactCurrentBatchConfig,ct=0,Fr=null,mr=null,Yr=0,bi=0,Hf=Xi(0),Ar=0,Og=null,qc=0,qw=0,XP=0,Pg=null,wi=null,YP=0,KP=1/0,il=null;function Gf(){KP=Dr()+500}var h$,Zw=!1,QP=null,sl=null,Xw=!1,ol=null,Yw=0,Rg=0,JP=null,Kw=-1,Qw=0;function yn(){return 6&ct?Dr():Kw!==-1?Kw:Kw=Dr()}function al(c){return 1&c.mode?2&ct&&Yr!==0?Yr&-Yr:w1e.transition!==null?(Qw===0&&(Qw=VH()),Qw):(c=mt)!==0?c:Kt():1}function rs(c,d,g,b){if(50<Rg)throw Rg=0,JP=null,Error(s(185));yg(c,g,b),2&ct&&c===Fr||(c===Fr&&(!(2&ct)&&(qw|=g),Ar===4&&ul(c,Yr)),Jn(c,b),g===1&&ct===0&&!(1&d.mode)&&(Gf(),vw&&Fo()))}function Jn(c,d){var g=c.callbackNode;(function(S,I){for(var F=S.suspendedLanes,Z=S.pingedLanes,K=S.expirationTimes,te=S.pendingLanes;0<te;){var ne=31-Zs(te),ye=1<<ne,re=K[ne];re===-1?ye&F&&!(ye&Z)||(K[ne]=y1e(ye,I)):re<=I&&(S.expiredLanes|=ye),te&=~ye}})(c,d);var b=yw(c,c===Fr?Yr:0);if(b===0)g!==null&&qH(g),c.callbackNode=null,c.callbackPriority=0;else if(d=b&-b,c.callbackPriority!==d){if(g!=null&&qH(g),d===1)c.tag===0?function(S){vw=!0,XH(S)}(f$.bind(null,c)):XH(f$.bind(null,c)),dn?Pa(function(){!(6&ct)&&Fo()}):iP(sP,Fo),g=null;else{switch(WH(b)){case 1:g=sP;break;case 4:g=_1e;break;case 16:default:g=ZH;break;case 536870912:g=b1e}g=w$(g,d$.bind(null,c))}c.callbackPriority=d,c.callbackNode=g}}function d$(c,d){if(Kw=-1,Qw=0,(6&ct)!=0)throw Error(s(327));var g=c.callbackNode;if(Xc()&&c.callbackNode!==g)return null;var b=yw(c,c===Fr?Yr:0);if(b===0)return null;if(30&b||b&c.expiredLanes||d)d=Jw(c,b);else{d=b;var S=ct;ct|=2;var I=y$();for(Fr===c&&Yr===d||(il=null,Gf(),Zc(c,d));;)try{F1e();break}catch(Z){m$(c,Z)}fP(),Ww.current=I,ct=S,mr!==null?d=0:(Fr=null,Yr=0,d=Ar)}if(d!==0){if(d===2&&(S=tP(c))!==0&&(b=S,d=eR(c,S)),d===1)throw g=Og,Zc(c,0),ul(c,b),Jn(c,Dr()),g;if(d===6)ul(c,b);else{if(S=c.current.alternate,(30&b)==0&&!function(Z){for(var K=Z;;){if(16384&K.flags){var te=K.updateQueue;if(te!==null&&(te=te.stores)!==null)for(var ne=0;ne<te.length;ne++){var ye=te[ne],re=ye.getSnapshot;ye=ye.value;try{if(!Xs(re(),ye))return!1}catch{return!1}}}if(te=K.child,16384&K.subtreeFlags&&te!==null)te.return=K,K=te;else{if(K===Z)break;for(;K.sibling===null;){if(K.return===null||K.return===Z)return!0;K=K.return}K.sibling.return=K.return,K=K.sibling}}return!0}(S)&&((d=Jw(c,b))===2&&(I=tP(c))!==0&&(b=I,d=eR(c,I)),d===1))throw g=Og,Zc(c,0),ul(c,b),Jn(c,Dr()),g;switch(c.finishedWork=S,c.finishedLanes=b,d){case 0:case 1:throw Error(s(345));case 2:case 5:$f(c,wi,il);break;case 3:if(ul(c,b),(130023424&b)===b&&10<(d=YP+500-Dr())){if(yw(c,0)!==0)break;if(((S=c.suspendedLanes)&b)!==b){yn(),c.pingedLanes|=c.suspendedLanes&S;break}c.timeoutHandle=Ce($f.bind(null,c,wi,il),d);break}$f(c,wi,il);break;case 4:if(ul(c,b),(4194240&b)===b)break;for(d=c.eventTimes,S=-1;0<b;){var F=31-Zs(b);I=1<<F,(F=d[F])>S&&(S=F),b&=~I}if(b=S,10<(b=(120>(b=Dr()-b)?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*L1e(b/1960))-b)){c.timeoutHandle=Ce($f.bind(null,c,wi,il),b);break}$f(c,wi,il);break;default:throw Error(s(329))}}}return Jn(c,Dr()),c.callbackNode===g?d$.bind(null,c):null}function eR(c,d){var g=Pg;return c.current.memoizedState.isDehydrated&&(Zc(c,d).flags|=256),(c=Jw(c,d))!==2&&(d=wi,wi=g,d!==null&&tR(d)),c}function tR(c){wi===null?wi=c:wi.push.apply(wi,c)}function ul(c,d){for(d&=~XP,d&=~qw,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var g=31-Zs(d),b=1<<g;c[g]=-1,d&=~b}}function f$(c){if(6&ct)throw Error(s(327));Xc();var d=yw(c,0);if(!(1&d))return Jn(c,Dr()),null;var g=Jw(c,d);if(c.tag!==0&&g===2){var b=tP(c);b!==0&&(d=b,g=eR(c,b))}if(g===1)throw g=Og,Zc(c,0),ul(c,d),Jn(c,Dr()),g;if(g===6)throw Error(s(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,$f(c,wi,il),Jn(c,Dr()),null}function p$(c){ol!==null&&ol.tag===0&&!(6&ct)&&Xc();var d=ct;ct|=1;var g=lr.transition,b=mt;try{if(lr.transition=null,mt=1,c)return c()}finally{mt=b,lr.transition=g,!(6&(ct=d))&&Fo()}}function rR(){bi=Hf.current,Gt(Hf)}function Zc(c,d){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==Ge&&(c.timeoutHandle=Ge,lt(g)),mr!==null)for(g=mr.return;g!==null;){var b=g;switch(uP(b),b.tag){case 1:(b=b.type.childContextTypes)!=null&&QO();break;case 3:Uf(),Gt(Yn),Gt(fn),EP();break;case 5:wP(b);break;case 4:Uf();break;case 13:case 19:Gt(rr);break;case 10:pP(b.type._context);break;case 22:case 23:rR()}g=g.return}if(Fr=c,mr=c=ll(c.current,null),Yr=bi=d,Ar=0,Og=null,XP=qw=qc=0,wi=Pg=null,Vc!==null){for(d=0;d<Vc.length;d++)if((b=(g=Vc[d]).interleaved)!==null){g.interleaved=null;var S=b.next,I=g.pending;if(I!==null){var F=I.next;I.next=S,b.next=F}g.pending=b}Vc=null}return c}function m$(c,d){for(;;){var g=mr;try{if(fP(),Ow.current=Nw,Pw){for(var b=Qt.memoizedState;b!==null;){var S=b.queue;S!==null&&(S.pending=null),b=b.next}Pw=!1}if(Wc=0,Br=Lr=Qt=null,wg=!1,xg=0,ZP.current=null,g===null||g.return===null){Ar=1,Og=d,mr=null;break}e:{var I=c,F=g.return,Z=g,K=d;if(d=Yr,Z.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var te=K,ne=Z,ye=ne.tag;if(!(1&ne.mode)&&(ye===0||ye===11||ye===15)){var re=ne.alternate;re?(ne.updateQueue=re.updateQueue,ne.memoizedState=re.memoizedState,ne.lanes=re.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=FG(F);if(he!==null){he.flags&=-257,UG(he,F,Z,0,d),1&he.mode&&BG(I,te,d),K=te;var Pe=(d=he).updateQueue;if(Pe===null){var Je=new Set;Je.add(K),d.updateQueue=Je}else Pe.add(K);break e}if(!(1&d)){BG(I,te,d),nR();break e}K=Error(s(426))}else if($t&&1&Z.mode){var ie=FG(F);if(ie!==null){!(65536&ie.flags)&&(ie.flags|=256),UG(ie,F,Z,0,d),hP(jf(K,Z));break e}}I=K=jf(K,Z),Ar!==4&&(Ar=2),Pg===null?Pg=[I]:Pg.push(I),I=F;do{switch(I.tag){case 3:I.flags|=65536,d&=-d,I.lanes|=d,iG(I,DG(0,K,d));break e;case 1:Z=K;var Y=I.type,ee=I.stateNode;if(!(128&I.flags)&&(typeof Y.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(sl===null||!sl.has(ee)))){I.flags|=65536,d&=-d,I.lanes|=d,iG(I,LG(I,Z,d));break e}}I=I.return}while(I!==null)}v$(g)}catch(oe){d=oe,mr===g&&g!==null&&(mr=g=g.return);continue}break}}function y$(){var c=Ww.current;return Ww.current=Nw,c===null?Nw:c}function nR(){Ar!==0&&Ar!==3&&Ar!==2||(Ar=4),Fr===null||!(268435455&qc)&&!(268435455&qw)||ul(Fr,Yr)}function Jw(c,d){var g=ct;ct|=2;var b=y$();for(Fr===c&&Yr===d||(il=null,Zc(c,d));;)try{B1e();break}catch(S){m$(c,S)}if(fP(),ct=g,Ww.current=b,mr!==null)throw Error(s(261));return Fr=null,Yr=0,Ar}function B1e(){for(;mr!==null;)g$(mr)}function F1e(){for(;mr!==null&&!g1e();)g$(mr)}function g$(c){var d=h$(c.alternate,c,bi);c.memoizedProps=c.pendingProps,d===null?v$(c):mr=d,ZP.current=null}function v$(c){var d=c;do{var g=d.alternate;if(c=d.return,(32768&d.flags)==0){if((g=R1e(g,d,bi))!==null)return void(mr=g)}else{if((g=M1e(g,d))!==null)return g.flags&=32767,void(mr=g);if(c===null)return Ar=6,void(mr=null);c.flags|=32768,c.subtreeFlags=0,c.deletions=null}if((d=d.sibling)!==null)return void(mr=d);mr=d=c}while(d!==null);Ar===0&&(Ar=5)}function $f(c,d,g){var b=mt,S=lr.transition;try{lr.transition=null,mt=1,function(I,F,Z,K){do Xc();while(ol!==null);if(6&ct)throw Error(s(327));Z=I.finishedWork;var te=I.finishedLanes;if(Z===null)return null;if(I.finishedWork=null,I.finishedLanes=0,Z===I.current)throw Error(s(177));I.callbackNode=null,I.callbackPriority=0;var ne=Z.lanes|Z.childLanes;if(function(he,Pe){var Je=he.pendingLanes&~Pe;he.pendingLanes=Pe,he.suspendedLanes=0,he.pingedLanes=0,he.expiredLanes&=Pe,he.mutableReadLanes&=Pe,he.entangledLanes&=Pe,Pe=he.entanglements;var ie=he.eventTimes;for(he=he.expirationTimes;0<Je;){var Y=31-Zs(Je),ee=1<<Y;Pe[Y]=0,ie[Y]=-1,he[Y]=-1,Je&=~ee}}(I,ne),I===Fr&&(mr=Fr=null,Yr=0),!(2064&Z.subtreeFlags)&&!(2064&Z.flags)||Xw||(Xw=!0,w$(ZH,function(){return Xc(),null})),ne=(15990&Z.flags)!=0,(15990&Z.subtreeFlags)!=0||ne){ne=lr.transition,lr.transition=null;var ye=mt;mt=1;var re=ct;ct|=4,ZP.current=null,function(he,Pe){for(z(he.containerInfo),Te=Pe;Te!==null;)if(Pe=(he=Te).child,(1028&he.subtreeFlags)!=0&&Pe!==null)Pe.return=he,Te=Pe;else for(;Te!==null;){he=Te;try{var Je=he.alternate;if(1024&he.flags)switch(he.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Je!==null){var ie=Je.memoizedProps,Y=Je.memoizedState,ee=he.stateNode,oe=ee.getSnapshotBeforeUpdate(he.elementType===he.type?ie:Ks(he.type,ie),Y);ee.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:De&&BO(he.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Fe){Vt(he,he.return,Fe)}if((Pe=he.sibling)!==null){Pe.return=he.return,Te=Pe;break}Te=he.return}Je=e$,e$=!1}(I,Z),s$(Z,I),U(I.containerInfo),I.current=Z,D1e(Z),v1e(),ct=re,mt=ye,lr.transition=ne}else I.current=Z;if(Xw&&(Xw=!1,ol=I,Yw=te),ne=I.pendingLanes,ne===0&&(sl=null),function(he){if(Bo&&typeof Bo.onCommitFiberRoot=="function")try{Bo.onCommitFiberRoot(gw,he,void 0,(128&he.current.flags)==128)}catch{}}(Z.stateNode),Jn(I,Dr()),F!==null)for(K=I.onRecoverableError,Z=0;Z<F.length;Z++)te=F[Z],K(te.value,{componentStack:te.stack,digest:te.digest});if(Zw)throw Zw=!1,I=QP,QP=null,I;1&Yw&&I.tag!==0&&Xc(),ne=I.pendingLanes,1&ne?I===JP?Rg++:(Rg=0,JP=I):Rg=0,Fo()}(c,d,g,b)}finally{lr.transition=S,mt=b}return null}function Xc(){if(ol!==null){var c=WH(Yw),d=lr.transition,g=mt;try{if(lr.transition=null,mt=16>c?16:c,ol===null)var b=!1;else{if(c=ol,ol=null,Yw=0,(6&ct)!=0)throw Error(s(331));var S=ct;for(ct|=4,Te=c.current;Te!==null;){var I=Te,F=I.child;if(16&Te.flags){var Z=I.deletions;if(Z!==null){for(var K=0;K<Z.length;K++){var te=Z[K];for(Te=te;Te!==null;){var ne=Te;switch(ne.tag){case 0:case 11:case 15:Cg(8,ne,I)}var ye=ne.child;if(ye!==null)ye.return=ne,Te=ye;else for(;Te!==null;){var re=(ne=Te).sibling,he=ne.return;if(t$(ne),ne===te){Te=null;break}if(re!==null){re.return=he,Te=re;break}Te=he}}}var Pe=I.alternate;if(Pe!==null){var Je=Pe.child;if(Je!==null){Pe.child=null;do{var ie=Je.sibling;Je.sibling=null,Je=ie}while(Je!==null)}}Te=I}}if(2064&I.subtreeFlags&&F!==null)F.return=I,Te=F;else e:for(;Te!==null;){if(2048&(I=Te).flags)switch(I.tag){case 0:case 11:case 15:Cg(9,I,I.return)}var Y=I.sibling;if(Y!==null){Y.return=I.return,Te=Y;break e}Te=I.return}}var ee=c.current;for(Te=ee;Te!==null;){var oe=(F=Te).child;if(2064&F.subtreeFlags&&oe!==null)oe.return=F,Te=oe;else e:for(F=ee;Te!==null;){if(2048&(Z=Te).flags)try{switch(Z.tag){case 0:case 11:case 15:jw(9,Z)}}catch(wt){Vt(Z,Z.return,wt)}if(Z===F){Te=null;break e}var Fe=Z.sibling;if(Fe!==null){Fe.return=Z.return,Te=Fe;break e}Te=Z.return}}if(ct=S,Fo(),Bo&&typeof Bo.onPostCommitFiberRoot=="function")try{Bo.onPostCommitFiberRoot(gw,c)}catch{}b=!0}return b}finally{mt=g,lr.transition=d}}return!1}function _$(c,d,g){c=nl(c,d=DG(0,d=jf(g,d),1),1),d=yn(),c!==null&&(yg(c,1,d),Jn(c,d))}function Vt(c,d,g){if(c.tag===3)_$(c,c,g);else for(;d!==null;){if(d.tag===3){_$(d,c,g);break}if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(sl===null||!sl.has(b))){d=nl(d,c=LG(d,c=jf(g,c),1),1),c=yn(),d!==null&&(yg(d,1,c),Jn(d,c));break}}d=d.return}}function U1e(c,d,g){var b=c.pingCache;b!==null&&b.delete(d),d=yn(),c.pingedLanes|=c.suspendedLanes&g,Fr===c&&(Yr&g)===g&&(Ar===4||Ar===3&&(130023424&Yr)===Yr&&500>Dr()-YP?Zc(c,0):XP|=g),Jn(c,d)}function b$(c,d){d===0&&(1&c.mode?(d=eP,!(130023424&(eP<<=1))&&(eP=4194304)):d=1);var g=yn();(c=jo(c,d))!==null&&(yg(c,d,g),Jn(c,g))}function j1e(c){var d=c.memoizedState,g=0;d!==null&&(g=d.retryLane),b$(c,g)}function z1e(c,d){var g=0;switch(c.tag){case 13:var b=c.stateNode,S=c.memoizedState;S!==null&&(g=S.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(s(314))}b!==null&&b.delete(d),b$(c,g)}function w$(c,d){return iP(c,d)}function H1e(c,d,g,b){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(c,d,g,b){return new H1e(c,d,g,b)}function iR(c){return!(!(c=c.prototype)||!c.isReactComponent)}function ll(c,d){var g=c.alternate;return g===null?((g=ns(c.tag,d,c.key,c.mode)).elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=d,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=14680064&c.flags,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,d=c.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function ex(c,d,g,b,S,I){var F=2;if(b=c,typeof c=="function")iR(c)&&(F=1);else if(typeof c=="string")F=5;else e:switch(c){case l:return Yc(g.children,S,I,d);case h:F=8,S|=8;break;case f:return(c=ns(12,g,d,2|S)).elementType=f,c.lanes=I,c;case v:return(c=ns(13,g,d,S)).elementType=v,c.lanes=I,c;case w:return(c=ns(19,g,d,S)).elementType=w,c.lanes=I,c;case E:return tx(g,S,I,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case p:F=10;break e;case m:F=9;break e;case y:F=11;break e;case _:F=14;break e;case x:F=16,b=null;break e}throw Error(s(130,c==null?c:typeof c,""))}return(d=ns(F,g,d,S)).elementType=c,d.type=b,d.lanes=I,d}function Yc(c,d,g,b){return(c=ns(7,c,b,d)).lanes=g,c}function tx(c,d,g,b){return(c=ns(22,c,b,d)).elementType=E,c.lanes=g,c.stateNode={isHidden:!1},c}function sR(c,d,g){return(c=ns(6,c,null,d)).lanes=g,c}function oR(c,d,g){return(d=ns(4,c.children!==null?c.children:[],c.key,d)).lanes=g,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function G1e(c,d,g,b,S){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ge,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rP(0),this.expirationTimes=rP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rP(0),this.identifierPrefix=b,this.onRecoverableError=S,Be&&(this.mutableSourceEagerHydrationData=null)}function x$(c,d,g,b,S,I,F,Z,K){return c=new G1e(c,d,g,Z,K),d===1?(d=1,I===!0&&(d|=8)):d=0,I=ns(3,null,null,d),c.current=I,I.stateNode=c,I.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},gP(I),c}function E$(c){if(!c)return tl;e:{if(M(c=c._reactInternals)!==c||c.tag!==1)throw Error(s(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(vi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(s(171))}if(c.tag===1){var g=c.type;if(vi(g))return GH(c,g,d)}return d}function S$(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return(c=X(d))===null?null:c.stateNode}function A$(c,d){if((c=c.memoizedState)!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<d?g:d}}function rx(c,d){A$(c,d),(c=c.alternate)&&A$(c,d)}function $1e(c){return(c=X(c))===null?null:c.stateNode}function V1e(){return null}return h$=function(c,d,g){if(c!==null)if(c.memoizedProps!==d.pendingProps||Yn.current)Kn=!0;else{if(!(c.lanes&g)&&!(128&d.flags))return Kn=!1,function(ye,re,he){switch(re.tag){case 3:WG(re),Nf();break;case 5:fG(re);break;case 1:vi(re.type)&&mw(re);break;case 4:bP(re,re.stateNode.containerInfo);break;case 10:tG(0,re.type._context,re.memoizedProps.value);break;case 13:var Pe=re.memoizedState;if(Pe!==null)return Pe.dehydrated!==null?(Pt(rr,1&rr.current),re.flags|=128,null):he&re.child.childLanes?ZG(ye,re,he):(Pt(rr,1&rr.current),(ye=Da(ye,re,he))!==null?ye.sibling:null);Pt(rr,1&rr.current);break;case 19:if(Pe=(he&re.childLanes)!=0,(128&ye.flags)!=0){if(Pe)return YG(ye,re,he);re.flags|=128}var Je=re.memoizedState;if(Je!==null&&(Je.rendering=null,Je.tail=null,Je.lastEffect=null),Pt(rr,rr.current),Pe)break;return null;case 22:case 23:return re.lanes=0,GG(ye,re,he)}return Da(ye,re,he)}(c,d,g);Kn=(131072&c.flags)!=0}else Kn=!1,$t&&1048576&d.flags&&YH(d,bw,d.index);switch(d.lanes=0,d.tag){case 2:var b=d.type;Fw(c,d),c=d.pendingProps;var S=Pf(d,fn.current);Lf(d,g),S=TP(null,d,b,c,S,g);var I=IP();return d.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,vi(b)?(I=!0,mw(d)):I=!1,d.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,gP(d),S.updater=Iw,d.stateNode=S,S._reactInternals=d,_P(d,b,c,g),d=DP(null,d,b,!0,I,g)):(d.tag=0,$t&&I&&aP(d),Qn(null,d,S,g),d=d.child),d;case 16:b=d.elementType;e:{switch(Fw(c,d),c=d.pendingProps,b=(S=b._init)(b._payload),d.type=b,S=d.tag=function(ye){if(typeof ye=="function")return iR(ye)?1:0;if(ye!=null){if((ye=ye.$$typeof)===y)return 11;if(ye===_)return 14}return 2}(b),c=Ks(b,c),S){case 0:d=NP(null,d,b,c,g);break e;case 1:d=VG(null,d,b,c,g);break e;case 11:d=jG(null,d,b,c,g);break e;case 14:d=zG(null,d,b,Ks(b.type,c),g);break e}throw Error(s(306,b,""))}return d;case 0:return b=d.type,S=d.pendingProps,NP(c,d,b,S=d.elementType===b?S:Ks(b,S),g);case 1:return b=d.type,S=d.pendingProps,VG(c,d,b,S=d.elementType===b?S:Ks(b,S),g);case 3:e:{if(WG(d),c===null)throw Error(s(387));b=d.pendingProps,S=(I=d.memoizedState).element,nG(c,d),Tw(d,b,null,g);var F=d.memoizedState;if(b=F.element,Be&&I.isDehydrated){if(I={element:b,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},d.updateQueue.baseState=I,d.memoizedState=I,256&d.flags){d=qG(c,d,b,g,S=jf(Error(s(423)),d));break e}if(b!==S){d=qG(c,d,b,g,S=jf(Error(s(424)),d));break e}for(Be&&(Qi=VO(d.stateNode.containerInfo),_i=d,$t=!0,Ys=null,gg=!1),g=dG(d,null,b,g),d.child=g;g;)g.flags=-3&g.flags|4096,g=g.sibling}else{if(Nf(),b===S){d=Da(c,d,g);break e}Qn(c,d,b,g)}d=d.child}return d;case 5:return fG(d),c===null&&cP(d),b=d.type,S=d.pendingProps,I=c!==null?c.memoizedProps:null,F=S.children,Ne(b,S)?F=null:I!==null&&Ne(b,I)&&(d.flags|=32),$G(c,d),Qn(c,d,F,g),d.child;case 6:return c===null&&cP(d),null;case 13:return ZG(c,d,g);case 4:return bP(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=Bf(d,null,b,g):Qn(c,d,b,g),d.child;case 11:return b=d.type,S=d.pendingProps,jG(c,d,b,S=d.elementType===b?S:Ks(b,S),g);case 7:return Qn(c,d,d.pendingProps,g),d.child;case 8:case 12:return Qn(c,d,d.pendingProps.children,g),d.child;case 10:e:{if(b=d.type._context,S=d.pendingProps,I=d.memoizedProps,tG(0,b,F=S.value),I!==null)if(Xs(I.value,F)){if(I.children===S.children&&!Yn.current){d=Da(c,d,g);break e}}else for((I=d.child)!==null&&(I.return=d);I!==null;){var Z=I.dependencies;if(Z!==null){F=I.child;for(var K=Z.firstContext;K!==null;){if(K.context===b){if(I.tag===1){(K=Na(-1,g&-g)).tag=2;var te=I.updateQueue;if(te!==null){var ne=(te=te.shared).pending;ne===null?K.next=K:(K.next=ne.next,ne.next=K),te.pending=K}}I.lanes|=g,(K=I.alternate)!==null&&(K.lanes|=g),mP(I.return,g,d),Z.lanes|=g;break}K=K.next}}else if(I.tag===10)F=I.type===d.type?null:I.child;else if(I.tag===18){if((F=I.return)===null)throw Error(s(341));F.lanes|=g,(Z=F.alternate)!==null&&(Z.lanes|=g),mP(F,g,d),F=I.sibling}else F=I.child;if(F!==null)F.return=I;else for(F=I;F!==null;){if(F===d){F=null;break}if((I=F.sibling)!==null){I.return=F.return,F=I;break}F=F.return}I=F}Qn(c,d,S.children,g),d=d.child}return d;case 9:return S=d.type,b=d.pendingProps.children,Lf(d,g),b=b(S=Ji(S)),d.flags|=1,Qn(c,d,b,g),d.child;case 14:return S=Ks(b=d.type,d.pendingProps),zG(c,d,b,S=Ks(b.type,S),g);case 15:return HG(c,d,d.type,d.pendingProps,g);case 17:return b=d.type,S=d.pendingProps,S=d.elementType===b?S:Ks(b,S),Fw(c,d),d.tag=1,vi(b)?(c=!0,mw(d)):c=!1,Lf(d,g),uG(d,b,S),_P(d,b,S,g),DP(null,d,b,!0,c,g);case 19:return YG(c,d,g);case 22:return GG(c,d,g)}throw Error(s(156,d.tag))},t.attemptContinuousHydration=function(c){if(c.tag===13){var d=jo(c,134217728);d!==null&&rs(d,c,134217728,yn()),rx(c,134217728)}},t.attemptDiscreteHydration=function(c){if(c.tag===13){var d=jo(c,1);d!==null&&rs(d,c,1,yn()),rx(c,1)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var d=al(c),g=jo(c,d);g!==null&&rs(g,c,d,yn()),rx(c,d)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var g=mg(d.pendingLanes);g!==0&&(nP(d,1|g),Jn(d,Dr()),!(6&ct)&&(Gf(),Fo()))}break;case 13:p$(function(){var b=jo(c,1);if(b!==null){var S=yn();rs(b,c,1,S)}}),rx(c,1)}},t.batchedUpdates=function(c,d){var g=ct;ct|=1;try{return c(d)}finally{(ct=g)===0&&(Gf(),vw&&Fo())}},t.createComponentSelector=function(c){return{$$typeof:zw,value:c}},t.createContainer=function(c,d,g,b,S,I,F){return x$(c,d,!1,null,0,b,0,I,F)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Hw,value:c}},t.createHydrationContainer=function(c,d,g,b,S,I,F,Z,K){return(c=x$(g,b,!0,c,0,I,0,Z,K)).context=E$(null),g=c.current,(I=Na(b=yn(),S=al(g))).callback=d??null,nl(g,I,S),c.current.lanes=S,yg(c,S,b),Jn(c,b),c},t.createPortal=function(c,d,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:c,containerInfo:d,implementation:g}},t.createRoleSelector=function(c){return{$$typeof:Gw,value:c}},t.createTestNameSelector=function(c){return{$$typeof:$w,value:c}},t.createTextSelector=function(c){return{$$typeof:Vw,value:c}},t.deferredUpdates=function(c){var d=mt,g=lr.transition;try{return lr.transition=null,mt=16,c()}finally{mt=d,lr.transition=g}},t.discreteUpdates=function(c,d,g,b,S){var I=mt,F=lr.transition;try{return lr.transition=null,mt=1,c(d,g,b,S)}finally{mt=I,lr.transition=F,ct===0&&Gf()}},t.findAllNodes=qP,t.findBoundingRects=function(c,d){if(!Ws)throw Error(s(363));d=qP(c,d),c=[];for(var g=0;g<d.length;g++)c.push(Cf(d[g]));for(d=c.length-1;0<d;d--)for(var b=(g=c[d]).x,S=b+g.width,I=g.y,F=I+g.height,Z=d-1;0<=Z;Z--)if(d!==Z){var K=c[Z],te=K.x,ne=te+K.width,ye=K.y,re=ye+K.height;if(b>=te&&I>=ye&&S<=ne&&F<=re){c.splice(d,1);break}if(!(b!==te||g.width!==K.width||re<I||ye>F)){ye>I&&(K.height+=ye-I,K.y=I),re<F&&(K.height=F-ye),c.splice(d,1);break}if(!(I!==ye||g.height!==K.height||ne<b||te>S)){te>b&&(K.width+=te-b,K.x=b),ne<S&&(K.width=S-te),c.splice(d,1);break}}return c},t.findHostInstance=S$,t.findHostInstanceWithNoPortals=function(c){return(c=(c=H(c))!==null?W(c):null)===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return S$(c)},t.flushControlled=function(c){var d=ct;ct|=1;var g=lr.transition,b=mt;try{lr.transition=null,mt=1,c()}finally{mt=b,lr.transition=g,(ct=d)===0&&(Gf(),Fo())}},t.flushPassiveEffects=Xc,t.flushSync=p$,t.focusWithin=function(c,d){if(!Ws)throw Error(s(363));for(d=c$(c=$P(c),d),d=Array.from(d),c=0;c<d.length;){var g=d[c++];if(!qs(g)){if(g.tag===5&&TO(g.stateNode))return!0;for(g=g.child;g!==null;)d.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return mt},t.getFindAllNodesFailureDescription=function(c,d){if(!Ws)throw Error(s(363));var g=0,b=[];c=[$P(c),0];for(var S=0;S<c.length;){var I=c[S++],F=c[S++],Z=d[F];if((I.tag!==5||!qs(I))&&(VP(I,Z)&&(b.push(WP(Z)),++F>g&&(g=F)),F<d.length))for(I=I.child;I!==null;)c.push(I,F),I=I.sibling}if(g<d.length){for(c=[];g<d.length;g++)c.push(WP(d[g]));return`findAllNodes was able to match part of the selector:
  `+b.join(" > ")+`

No matching component was found for:
  `+c.join(" > ")}return null},t.getPublicRootInstance=function(c){return(c=c.current).child?c.child.tag===5?D(c.child.stateNode):c.child.stateNode:null},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:$1e,findFiberByHostInstance:c.findFiberByHostInstance||V1e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)c=!0;else{try{gw=d.inject(c),Bo=d}catch{}c=!!d.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,d,g,b){if(!Ws)throw Error(s(363));c=qP(c,d);var S=$e(c,g,b).disconnect;return{disconnect:function(){S()}}},t.registerMutableSourceForHydration=function(c,d){var g=d._getVersion;g=g(d._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[d,g]:c.mutableSourceEagerHydrationData.push(d,g)},t.runWithPriority=function(c,d){var g=mt;try{return mt=c,d()}finally{mt=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,d,g,b){var S=d.current,I=yn(),F=al(S);return g=E$(g),d.context===null?d.context=g:d.pendingContext=g,(d=Na(I,F)).payload={element:c},(b=b===void 0?null:b)!==null&&(d.callback=b),(c=nl(S,d,F))!==null&&(rs(c,S,F,I),Aw(c,S,F)),F},t}),p4}({get exports(){return mT},set exports(e){mT=e}}).exports=Bee();var Fee=cee(mT),g4={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},gT={},o0={get exports(){return gT},set exports(e){gT=e}};(function(){var e,t,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?o0.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(o0.exports=function(){return(e()-i)/1e6},t=process.hrtime,n=(e=function(){var o;return 1e9*(o=t())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(o0.exports=function(){return Date.now()-r},r=Date.now()):(o0.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(lee);var v4,Kh={},Wl={};({get exports(){return Kh},set exports(e){Kh=e}}).exports=(v4||(v4=1,Wl.ConcurrentRoot=1,Wl.ContinuousEventPriority=4,Wl.DefaultEventPriority=16,Wl.DiscreteEventPriority=1,Wl.IdleEventPriority=536870912,Wl.LegacyRoot=0),Wl);var Uee={};function vT(e,t){e.addChild&&(e.addChild(t),typeof t.didMount=="function"&&t.didMount(t,e))}function _4(e,t){var r,n,i;(r=e.willUnmount)===null||r===void 0||r.call(e,e,t),((n=e.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=e.children)!==null&&i!==void 0&&i.length&&da(e.children).forEach(function(s){_4(s,e)})}function b4(e,t){var r;_4(t,e),e.removeChild(t);var n=(r=t.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,l=u!==void 0&&u,h=n.destroyBaseTexture,f=h!==void 0&&h;s&&t.destroy({children:a,texture:l,baseTexture:f})}function w4(e,t,r){er(t!==r,"pixi-react: PixiFiber cannot insert node before itself"),e.children.indexOf(t)!==-1&&e.removeChild(t);var n=e.getChildIndex(r);e.addChildAt(t,n)}var x4=null,Es=Fee({getRootHostContext:function(){return Uee},getChildHostContext:function(e){return e},getChildHostContextForEventComponent:function(e){return e},getPublicInstance:function(e){return e},getCurrentEventPriority:function(){return function(){var e,t;if(typeof window>"u")return Kh.DefaultEventPriority;switch((e=window)===null||e===void 0||(t=e.event)===null||t===void 0?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Kh.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Kh.ContinuousEventPriority;default:return Kh.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(e){var t,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=Mee[e];if(typeof s=="function"&&(t=s(i,n)),!t){var o=h4[e];o&&((t=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(t):void 0,t.willUnmount=o.willUnmount?o.willUnmount.bind(t):void 0,t.applyProps=o.applyProps?o.applyProps.bind(t):void 0,t.config=o.config)}return t&&(t.__reactpixi={root:i},(typeof((r=t)===null||r===void 0?void 0:r.applyProps)=="function"?t.applyProps:bo)(t,{},n)),t},hideInstance:function(e){e.visible=!1},unhideInstance:function(e,t){var r=t==null||!t.hasOwnProperty("visible")||t.visible;e.visible=r},finalizeInitialChildren:function(e,t,r){return!1},prepareUpdate:function(e,t,r,n,i,s){return x4=function(o,a,u,l){var h=null;for(var f in u)!l.hasOwnProperty(f)&&u.hasOwnProperty(f)&&u[f]!==null&&(f===fT||(h||(h=[]),h.push(f,null)));for(var p in l){var m=l[p],y=u!==null?u[p]:void 0;!l.hasOwnProperty(p)||m===y||m===null&&y===null||p===fT||(h||(h=[]),h.push(p,m))}return h}(0,0,r,n)},shouldSetTextContent:function(e,t){return!1},shouldDeprioritizeSubtree:function(e,t){var r=t.alpha===void 0||t.alpha>0,n=t.renderable===void 0||t.renderable===!0,i=t.visible===void 0||t.visible===!0;return!(r&&n&&i)},createTextInstance:function(e,t,r){er(!1,'pixi-react: Error trying to add text node "'.concat(e,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(e,t){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:gT,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=vT.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=vT.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=vT.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=b4.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=b4.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:w4,insertInContainerBefore:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=w4.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(e,t,r,n,i){var s,o,a=e&&e.applyProps;typeof a!="function"&&(a=bo),(a(e,n,i)||x4)&&((s=e.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(e,t,r,n,i){},commitTextUpdate:function(e,t,r){},resetTextContent:function(e){},clearContainer:function(e){},getFundamentalComponentInstance:function(e){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(e){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},getInstanceFromNode:function(e){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(e){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(e){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(e){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(e){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(e){}}),jee=g4.dependencies["react-dom"].replace(/[^0-9.]/g,""),zee=g4.name;Es.injectIntoDevTools({bundleType:0,version:jee,rendererPackageName:zee,findHostInstanceByFiber:Es.findHostInstance});var vu=new Map;function E4(e){if(er(xn.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `PIXI.Container`."),vu.has(e)){var t=vu.get(e).pixiFiberContainer;Es.updateContainer(null,t,void 0,function(){vu.delete(e)})}}function S4(e){er(xn.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `PIXI.Container`.");var t=vu.get(e);if(er(!t,"Pixi React: createRoot should only be called once"),!t){var r=Es.createContainer(e);t={pixiFiberContainer:r,reactRoot:{render:function(n){return Es.updateContainer(n,r,void 0),Es.getPublicRootInstance(r)},unmount:function(){E4(e),vu.delete(e)}}},vu.set(e,t)}return t.reactRoot}function Hee(e,t,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),vu.has(t)?n=vu.get(t).reactRoot:n=S4(t),n.render(e)}function Gee(e){E4(e)}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(this,arguments)}function $ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i4(n.key),n)}}function fa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a0(e,t){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},a0(e,t)}function Wee(e,t){if(t&&(ai(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fa(e)}function u0(e){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u0(e)}var l0=eo.createContext(null),A4=l0.Provider,T4=l0.Consumer,qee=function(e){var t=eo.forwardRef(function(r,n){return eo.createElement(T4,null,function(i){return eo.createElement(e,ym({},r,{ref:n,app:i}))})});return t.displayName="withPIXIApp(".concat(e.displayName||e.name,")"),t};function Zee(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=u0(e);if(t){var i=u0(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Wee(this,r)}}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var C4=function(){},k4={width:Nt.number,height:Nt.number,onMount:Nt.func,onUnmount:Nt.func,raf:Nt.bool,renderOnComponentChange:Nt.bool,children:Nt.node,options:Nt.shape({autoStart:Nt.bool,width:Nt.number,height:Nt.number,useContextAlpha:Nt.bool,backgroundAlpha:Nt.number,autoDensity:Nt.bool,antialias:Nt.bool,preserveDrawingBuffer:Nt.bool,resolution:Nt.number,forceCanvas:Nt.bool,backgroundColor:Nt.number,clearBeforeRender:Nt.bool,powerPreference:Nt.string,sharedTicker:Nt.bool,sharedLoader:Nt.bool,resizeTo:function(e,t){var r=e[t];r&&er(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ai(r),", expect `window` or an `HTMLElement`."))},view:function(e,t,r){var n=e[t];n&&er(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ai(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},Xee={width:800,height:600,onMount:C4,onUnmount:C4,raf:!0,renderOnComponentChange:!0},_T=function(e){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&a0(s,o)})(i,eo.Component);var t,r,n=Zee(i);function i(){var s;$ee(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return sr(fa(s=n.call.apply(n,[this].concat(a))),"_canvas",null),sr(fa(s),"_mediaQuery",null),sr(fa(s),"_ticker",null),sr(fa(s),"_needsUpdate",!0),sr(fa(s),"app",null),sr(fa(s),"updateSize",function(){var l=s.props,h=l.width,f=l.height,p=l.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(h,f)}),sr(fa(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),sr(fa(s),"renderStage",function(){var l=s.props,h=l.renderOnComponentChange;!l.raf&&h&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return t=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,l=s.options,h=s.raf,f=s.renderOnComponentChange;this.app=new n0(c0(c0({width:a,height:u,view:this._canvas},l),{},{autoDensity:(l==null?void 0:l.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[h?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Es.createContainer(this.app.stage),Es.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),l!=null&&l.autoDensity&&window.matchMedia&&(l==null?void 0:l.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!h&&(this._ticker=new Pr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,l=this.props,h=l.width,f=l.height,p=l.raf,m=l.renderOnComponentChange,y=l.options;(y==null?void 0:y.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(y==null?void 0:y.resolution)&&(this.app.renderer.resolution=y.resolution,this.resetInteractionManager()),s.height===f&&s.width===h&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(y==null?void 0:y.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),Es.updateContainer(this.getChildren(),this.mountNode,this),s.width===h&&s.height===f&&s.raf===p&&s.renderOnComponentChange===m&&s.options===y||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return eo.createElement(A4,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Es.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(er(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):eo.createElement("canvas",ym({},(s=this.props,o=[].concat(da(Object.keys(k4)),da(Object.keys(pT))),Object.keys(s).filter(function(l){return!o.includes(l)}).reduce(function(l,h){return c0(c0({},l),{},sr({},h,s[h]))},{})),{ref:function(l){return a._canvas=l}}))}}])&&Vee(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();_T.propTypes=k4,_T.defaultProps=Xee;var Yee=_T;function O4(){var e=Ie.useContext(l0);return er(e instanceof n0,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),e}function Kee(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=O4();er(typeof e=="function","`useTick` needs a callback function."),er(r instanceof n0,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=Ie.useRef(null);Ie.useEffect(function(){n.current=e},[e]),Ie.useEffect(function(){if(t){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[t])}function Qee(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bT(e,t,r){return bT=Qee()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&a0(a,s.prototype),a},bT.apply(null,arguments)}var Jee=["children","apply"];function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ete=function(e,t){er(ai(t)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(t),n=function(i){var s=i.children,o=i.apply,a=gu(i,Jee),u=Ie.useRef(Ie.useMemo(function(){return r.map(function(f){var p,m=(a==null||(p=a[f])===null||p===void 0?void 0:p.construct)||[];return bT(t[f],da(m))})},[r])),l=Ie.useMemo(function(){return r.reduce(function(f,p,m){return h0(h0({},f),{},sr({},p,u.current[m]))},{})},[r]),h=Ie.useMemo(function(){return Object.keys(a).filter(a4(o4(r))).reduce(function(f,p){return h0(h0({},f),{},sr({},p,a[p]))},{})},[a,r]);return r.forEach(function(f,p){return Object.assign(u.current[p],a[f])}),o&&function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return p.every(function(y){return typeof y=="function"})}(o)&&o.call(e,l),eo.createElement(e,ym({},h,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Nt.node,apply:Nt.func},n},tte=$n.BitmapText,rte=$n.Container,nte=$n.Graphics,ite=$n.NineSlicePlane,ste=$n.ParticleContainer,ote=$n.Sprite,ate=$n.AnimatedSprite,ute=$n.Text,lte=$n.TilingSprite,cte=$n.SimpleMesh,hte=$n.SimpleRope;const dte=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:ate,AppConsumer:T4,AppContext:l0,AppProvider:A4,BitmapText:tte,Container:rte,Graphics:nte,NineSlicePlane:ite,ParticleContainer:ste,PixiComponent:Nee,PixiFiber:Es,SimpleMesh:cte,SimpleRope:hte,Sprite:ote,Stage:Yee,TYPES:$n,Text:ute,TilingSprite:lte,applyDefaultProps:bo,createRoot:S4,eventHandlers:i0,render:Hee,unmountComponentAtNode:Gee,useApp:O4,useTick:Kee,withFilters:ete,withPixiApp:qee},Symbol.toStringTag,{value:"Module"})),fte=ei(dte);i3.exports=fte;var d0=i3.exports;const R4=1,M4=.5,N4=-1,D4=.5,f0=32*2,gm=32*2,pte=8,p0=1200,L4=600,m0=(L4-pte*gm/2)/2;function vm(e,t){return{x:e*R4*.5*f0+t*N4*.5*f0,y:e*M4*.5*gm+t*D4*.5*gm}}function mte(e,t,r,n){const i=1/(e*n-t*r);return{a:i*n,b:i*-t,c:i*-r,d:i*e}}function wT(e){const t=R4*.5*f0,r=N4*.5*f0,n=M4*.5*gm,i=D4*.5*gm,s=mte(t,r,n,i);return{x:e.x*s.a+e.y*s.b,y:e.x*s.c+e.y*s.d}}function xT(e){return{x:e.x+p0/2,y:e.y+m0}}const yte=(e,t)=>e.x===t.x&&e.y===t.y,B4=new Dt;zt.prototype._cacheAsBitmap=!1,zt.prototype._cacheData=null,zt.prototype._cacheAsBitmapResolution=null,zt.prototype._cacheAsBitmapMultisample=null;class gte{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(zt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){if(this._cacheAsBitmap===e)return;this._cacheAsBitmap=e;let t;e?(this._cacheData||(this._cacheData=new gte),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}),zt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},zt.prototype._initCachedDisplayObject=function(e){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const t=this.alpha;this.alpha=1,e.batch.flush();const r=this.getLocalBounds(new Xe,!0);if((m=this.filters)!=null&&m.length){const y=this.filters[0].padding;r.pad(y)}const n=this.cacheAsBitmapResolution||e.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,u=zl.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??e.multisample}),l=`cacheAsBitmap_${Nl()}`;this._cacheData.textureCacheId=l,Ze.addToCache(u.baseTexture,l),me.addToCache(u,l);const h=this.transform.localTransform.copyTo(B4).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=t;const f=new go(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=t,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)},zt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},zt.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const t=this.getLocalBounds(new Xe,!0),r=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,i=e._projTransform,s=this.cacheAsBitmapResolution||e.resolution;t.ceil(s),t.width=Math.max(t.width,1/s),t.height=Math.max(t.height,1/s);const o=zl.create({width:t.width,height:t.height,resolution:s}),a=`cacheAsBitmap_${Nl()}`;this._cacheData.textureCacheId=a,Ze.addToCache(o.baseTexture,a),me.addToCache(o,a);const u=B4;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=t.x,u.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const l=new go(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)},zt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},zt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},zt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ze.removeFromCache(this._cacheData.textureCacheId),me.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},zt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},zt.prototype.name=null,xn.prototype.getChildByName=function(e,t){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===e)return this.children[r];if(t)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(e,!0);if(s)return s}return null},zt.prototype.getGlobalPosition=function(e=new nt,t=!1){return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var vte=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class _te extends wn{constructor(t=1){super(RQ,vte,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const bte={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},wte=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function xte(e){const t=bte[e],r=t.length;let n=wte,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<e;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=e-a-1),u=u.replace("%value%",t[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}const Ete=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Ste(e,t){const r=Math.ceil(e/2);let n=Ete,i="",s;t?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<e;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}class ET extends wn{constructor(t,r=8,n=4,i=wn.defaultResolution,s=5){const o=Ste(s,t),a=xte(s);super(o,a),this.horizontal=t,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(t,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/r.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,r,n,i);else{const s=t.getFilterTexture(),o=t.renderer;let a=r,u=s;this.state.blend=!1,t.applyFilter(this,a,u,ao.CLEAR);for(let l=1;l<this.passes-1;l++){t.bindAndClear(a,ao.BLIT),this.uniforms.uSampler=u;const h=u;u=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,u,n,i),t.returnFilterTexture(s)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class Ate extends wn{constructor(t=8,r=4,n=wn.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new ET(!0,t,r,n,i),this.blurYFilter=new ET(!1,t,r,n,i),this.resolution=n,this.quality=r,this.blur=t,this.repeatEdgePixels=!1}apply(t,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=t.getFilterTexture();this.blurXFilter.apply(t,r,a,ao.CLEAR),this.blurYFilter.apply(t,a,n,i),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,r,n,i):this.blurXFilter.apply(t,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var Tte=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class ST extends wn{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(xB,Tte,t),this.alpha=1}_loadMatrix(t,r=!1){let n=t;r&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(t,r,n){return t[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],t[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],t[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],t[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],t[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],t[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],t[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],t[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],t[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],t[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],t[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],t[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],t[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],t[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],t[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],t[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],t[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],t[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],t[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],t[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],t}_colorMatrix(t){const r=new Float32Array(t);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(t,r){const n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(t,r){const[n,i,s]=Tt.shared.setValue(t).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(t,r){const n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(t){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,t)}hue(t,r){t=(t||0)/180*Math.PI;const n=Math.cos(t),i=Math.sin(t),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,l=o*(1-n)-a*i,h=o*(1-n)+a*i,f=o*(1-n)+a*i,p=n+o*(1-n),m=o*(1-n)-a*i,y=o*(1-n)-a*i,v=o*(1-n)+a*i,w=n+o*(1-n),_=[u,l,h,0,0,f,p,m,0,0,y,v,w,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(t,r){const n=(t||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(t=0,r){const n=t*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(t){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,t)}sepia(t){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,t)}technicolor(t){const r=[1.9125277891456085,-.8545344976951645,-.09155508482755584,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491134,0,0,0,1,0];this._loadMatrix(r,t)}polaroid(t){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,t)}toBGR(t){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,t)}kodachrome(t){const r=[1.1285582396593523,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964945,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,t)}browni(t){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.03770324983778316,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,t)}vintage(t){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,t)}colorTone(t,r,n,i,s){t=t||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Tt.shared,[a,u,l]=o.setValue(n).toArray(),[h,f,p]=o.setValue(i).toArray(),m=[.3,.59,.11,0,0,a,u,l,t,0,h,f,p,r,0,a-h,u-f,l-p,0,0];this._loadMatrix(m,s)}night(t,r){t=t||.1;const n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(t,r){const n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,r)}lsd(t){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}ST.prototype.grayscale=ST.prototype.greyscale;var Ite=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Cte=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class kte extends wn{constructor(t,r){const n=new Dt;t.renderable=!1,super(Cte,Ite,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=n,r==null&&(r=20),this.scale=new nt(r,r)}apply(t,r,n,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),t.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var Ote=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Pte=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class Rte extends wn{constructor(){super(Pte,Ote)}}var Mte=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class Nte extends wn{constructor(t=.5,r=Math.random()){super(xB,Mte,{uNoise:0,uSeed:0}),this.noise=t,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const F4={AlphaFilter:_te,BlurFilter:Ate,BlurFilterPass:ET,ColorMatrixFilter:ST,DisplacementFilter:kte,FXAAFilter:Rte,NoiseFilter:Nte};Object.entries(F4).forEach(([e,t])=>{Object.defineProperty(F4,e,{get(){return et("7.1.0",`filters.${e} has moved to ${e}`),t}})});class Dte{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(Pr.system.add(this.tickerUpdate,this,cu.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Pr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const _u=new Dte;class _m{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=_m.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new nt,this.page=new nt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class y0 extends _m{constructor(){super(...arguments),this.client=new nt,this.movement=new nt,this.offset=new nt,this.global=new nt,this.screen=new nt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,r,n,i,s,o,a,u,l,h,f,p,m,y,v){throw new Error("Method not implemented.")}}class Ss extends y0{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Qh extends y0{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Qh.DOM_DELTA_PIXEL=0,Qh.DOM_DELTA_LINE=1,Qh.DOM_DELTA_PAGE=2;const Lte=2048,Bte=new nt,AT=new nt;class Fte{constructor(t){this.dispatch=new $p,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,r){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:r,priority:0}),this.mappingTable[t].sort((n,i)=>n.priority-i.priority)}dispatchEvent(t,r){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,r),this.dispatch.emit(r||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const r=this.mappingTable[t.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,r){_u.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,Bte.set(t,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(t,r){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(t.currentTarget=n[i],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,r),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(t.currentTarget=n[i],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,r,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{t.currentTarget=n[s],this.notifyTarget(t,o)})}propagationPath(t){const r=[t];for(let n=0;n<Lte&&t!==this.rootTarget;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(t.parent),t=t.parent}return r.reverse(),r}hitTestMoveRecursive(t,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||r==="dynamic")&&(_u.pauseUpdate=!1),t.interactiveChildren&&t.children){const h=t.children;for(let f=h.length-1;f>=0;f--){const p=h[f],m=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(t,n));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const y=t.isInteractive();(m.length>0||y)&&(y&&this._allInteractiveElements.push(t),m.push(t)),this._hitElements.length===0&&(this._hitElements=m),a=!0}}}const u=this._isInteractive(r),l=t.isInteractive();return u&&l&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(t,n)&&i(t,n)?l?[t]:[]:null}hitTestRecursive(t,r,n,i,s){if(this._interactivePrune(t)||s(t,n))return null;if((t.eventMode==="dynamic"||r==="dynamic")&&(_u.pauseUpdate=!1),t.interactiveChildren&&t.children){const u=t.children;for(let l=u.length-1;l>=0;l--){const h=u[l],f=this.hitTestRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=t.isInteractive();return(f.length>0||p)&&f.push(t),f}}}const o=this._isInteractive(r),a=t.isInteractive();return o&&i(t,n)?a?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,r){var n;if(t.hitArea&&(t.worldTransform.applyInverse(r,AT),!t.hitArea.contains(AT.x,AT.y)))return!0;if(t._mask){const i=t._mask.isMaskData?t._mask.maskObject:t._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(t,r){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(r):!1}notifyTarget(t,r){var s,o;r=r??t.type;const n=`on${r}`;(o=(s=t.currentTarget)[n])==null||o.call(s,t);const i=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${r}capture`:r;this.notifyListeners(t,i),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,r)}mapPointerDown(t){if(!(t instanceof Ss)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(t){var u,l;if(!(t instanceof Ss)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(t.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const h=t.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(t,h,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(t,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}if(s!==r.target){const h=t.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,h);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const m=this.clonePointerEvent(r,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(t){var o;if(!(t instanceof Ss)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId),n=this.createPointerEvent(t),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(t){if(!(t instanceof Ss)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId);if(r.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(t,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(t,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(t){if(!(t instanceof Ss)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(t.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[t.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[t.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[t.button]||(i.clicksByButton[t.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[t.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof Ss)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[t.button]),i=this.createPointerEvent(t);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[t.button]}this.freeEvent(i)}mapWheel(t){if(!(t instanceof Qh)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(t);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(t){if(!t)return null;let r=t[0];for(let n=1;n<t.length&&t[n].parent===r;n++)r=t[n];return r}createPointerEvent(t,r,n){const i=this.allocateEvent(Ss);return this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(t){const r=this.allocateEvent(Qh);return this.copyWheelData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.nativeEvent=t.nativeEvent,r.originalEvent=t,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(t,r){const n=this.allocateEvent(Ss);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=r??n.type,n}copyWheelData(t,r){r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ}copyPointerData(t,r){t instanceof Ss&&r instanceof Ss&&(r.pointerId=t.pointerId,r.width=t.width,r.height=t.height,r.isPrimary=t.isPrimary,r.pointerType=t.pointerType,r.pressure=t.pressure,r.tangentialPressure=t.tangentialPressure,r.tiltX=t.tiltX,r.tiltY=t.tiltY,r.twist=t.twist)}copyMouseData(t,r){t instanceof y0&&r instanceof y0&&(r.altKey=t.altKey,r.button=t.button,r.buttons=t.buttons,r.client.copyFrom(t.client),r.ctrlKey=t.ctrlKey,r.metaKey=t.metaKey,r.movement.copyFrom(t.movement),r.screen.copyFrom(t.screen),r.shiftKey=t.shiftKey,r.global.copyFrom(t.global))}copyData(t,r){r.isTrusted=t.isTrusted,r.srcElement=t.srcElement,r.timeStamp=performance.now(),r.type=t.type,r.detail=t.detail,r.view=t.view,r.which=t.which,r.layer.copyFrom(t.layer),r.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const r=this.eventPool.get(t).pop()||new t(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=t.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(t)}notifyListeners(t,r){const n=t.currentTarget._events[r];if(n&&t.currentTarget.isInteractive())if("fn"in n)n.once&&t.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let i=0,s=n.length;i<s&&!t.propagationImmediatelyStopped;i++)n[i].once&&t.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,t)}}const Ute=1,jte={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},TT=class fR{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new Fte(null),_u.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ss(null),this.rootWheelEvent=new Qh(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...fR.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,fR._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===t)return;this.currentCursor=t;const n=this.cursorStyles[t];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(t);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(t);this.autoPreventDefault&&r[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,_u.pointerMoved();const r=this.normalizeToPointerData(t);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=t.target;t.composedPath&&t.composedPath().length>0&&(r=t.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(t);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(t);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(t){this.removeEvents(),this.domElement=t,_u.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;_u.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;_u.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;t.x=(r-i.left)*(this.domElement.width/i.width)*s,t.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(t){const r=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let n=0,i=t.changedTouches.length;n<i;n++){const s=t.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=t.type,r.push(s)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const n=t;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=Ute),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(t);return r}normalizeWheelEvent(t){const r=this.rootWheelEvent;return this.transferMouseData(r,t),r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ,r.deltaMode=t.deltaMode,this.mapPositionToPoint(r.screen,t.clientX,t.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=t,r.type=t.type,r}bootstrapEvent(t,r){return t.originalEvent=null,t.nativeEvent=r,t.pointerId=r.pointerId,t.width=r.width,t.height=r.height,t.isPrimary=r.isPrimary,t.pointerType=r.pointerType,t.pressure=r.pressure,t.tangentialPressure=r.tangentialPressure,t.tiltX=r.tiltX,t.tiltY=r.tiltY,t.twist=r.twist,this.transferMouseData(t,r),this.mapPositionToPoint(t.screen,r.clientX,r.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=r.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=jte[t.type]||t.type),t}transferMouseData(t,r){t.isTrusted=r.isTrusted,t.srcElement=r.srcElement,t.timeStamp=performance.now(),t.type=r.type,t.altKey=r.altKey,t.button=r.button,t.buttons=r.buttons,t.client.x=r.clientX,t.client.y=r.clientY,t.ctrlKey=r.ctrlKey,t.metaKey=r.metaKey,t.movement.x=r.movementX,t.movement.y=r.movementY,t.page.x=r.pageX,t.page.y=r.pageY,t.relatedTarget=null,t.shiftKey=r.shiftKey}};TT.extension={name:"events",type:[ge.RendererSystem,ge.CanvasRendererSystem]},TT.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let IT=TT;Oe.add(IT);function U4(e){return e==="dynamic"||e==="static"}const zte={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??U4(IT.defaultEventMode)},set interactive(e){et("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??IT.defaultEventMode},set eventMode(e){this._internalInteractive=U4(e),this._internalEventMode=e},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof t=="function"?void 0:t;e=n?`${e}capture`:e,t=typeof t=="function"?t:t.handleEvent,this.on(e,t,i)},removeEventListener(e,t,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof t=="function"?void 0:t;e=n?`${e}capture`:e,t=typeof t=="function"?t:t.handleEvent,this.off(e,t,i)},dispatchEvent(e){if(!(e instanceof _m))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};zt.mixin(zte);const Hte={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};zt.mixin(Hte);const Gte=9,g0=100,$te=0,Vte=0,j4=2,z4=1,Wte=-1e3,qte=-1e3,Zte=2;class H4{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(oa.tablet||oa.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${g0}px`,r.style.height=`${g0}px`,r.style.position="absolute",r.style.top=`${$te}px`,r.style.left=`${Vte}px`,r.style.zIndex=j4.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${z4}px`,t.style.height=`${z4}px`,t.style.position="absolute",t.style.top=`${Wte}px`,t.style.left=`${qte}px`,t.style.zIndex=Zte.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)==null||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)==null||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const r=t.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const t=performance.now();if(oa.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,l=i/o*u,h=s/a*u;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,Gh(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let y=m.hitArea;const v=m.worldTransform;m.hitArea?(f.style.left=`${(v.tx+y.x*v.a)*l}px`,f.style.top=`${(v.ty+y.y*v.d)*h}px`,f.style.width=`${y.width*v.a*l}px`,f.style.height=`${y.height*v.d*h}px`):(y=m.getBounds(),this.capHitArea(y),f.style.left=`${y.x*l}px`,f.style.top=`${y.y*h}px`,f.style.width=`${y.width*l}px`,f.style.height=`${y.height*h}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:r,height:n}=this.renderer;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>n&&(t.height=n-t.y)}addChild(t){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${g0}px`,r.style.height=`${g0}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=j4.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,r){const{displayObject:n}=t.target,i=this.renderer.events.rootBoundary,s=Object.assign(new _m(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===Gte&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}H4.extension={name:"accessibility",type:[ge.RendererPlugin,ge.CanvasRendererPlugin]},Oe.add(H4);var ui=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e))(ui||{});const v0={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let pa,Jh;function G4(){Jh={s3tc:pa.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:pa.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:pa.getExtension("WEBGL_compressed_texture_etc"),etc1:pa.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:pa.getExtension("WEBGL_compressed_texture_pvrtc")||pa.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:pa.getExtension("WEBGL_compressed_texture_atc"),astc:pa.getExtension("WEBGL_compressed_texture_astc")}}const Xte={extension:{type:ge.DetectionParser,priority:2},test:async()=>{const e=be.ADAPTER.createCanvas().getContext("webgl");return e?(pa=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{Jh||G4();const t=[];for(const r in Jh)Jh[r]&&t.push(r);return[...t,...e]},remove:async e=>(Jh||G4(),e.filter(t=>!(t in Jh)))};Oe.add(Xte);class Yte extends w_{constructor(t,r={width:1,height:1,autoLoad:!0}){let n,i;typeof t=="string"?(n=t,i=new Uint8Array):(n=null,i=t),super(i,r),this.origin=n,this.buffer=i?new _A(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new _A(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class ql extends Yte{constructor(t,r){super(t,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ql._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ql._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,r,n){const i=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:u,levelHeight:l,levelBuffer:h}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,u,l,0,h)}return!0}onBlobLoaded(){this._levelBuffers=ql._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(t,r,n,i,s,o,a){const u=new Array(n);let l=t.byteOffset,h=o,f=a,p=h+i-1&~(i-1),m=f+s-1&~(s-1),y=p*m*v0[r];for(let v=0;v<n;v++)u[v]={levelID:v,levelWidth:n>1?h:p,levelHeight:n>1?f:m,levelBuffer:new Uint8Array(t.buffer,l,y)},l+=y,h=h>>1||1,f=f>>1||1,p=h+i-1&~(i-1),m=f+s-1&~(s-1),y=p*m*v0[r];return u}}const CT=4,_0=124,Kte=32,$4=20,Qte=542327876,b0={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Jte={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},w0={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},ere=1,tre=2,rre=4,nre=64,ire=512,sre=131072,ore=827611204,are=861165636,ure=894720068,lre=808540228,cre=4,hre={[ore]:ui.COMPRESSED_RGBA_S3TC_DXT1_EXT,[are]:ui.COMPRESSED_RGBA_S3TC_DXT3_EXT,[ure]:ui.COMPRESSED_RGBA_S3TC_DXT5_EXT},dre={70:ui.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:ui.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:ui.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:ui.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:ui.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:ui.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:ui.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:ui.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:ui.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function fre(e){const t=new Uint32Array(e);if(t[0]!==Qte)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(e,0,_0/Uint32Array.BYTES_PER_ELEMENT),n=r[b0.HEIGHT],i=r[b0.WIDTH],s=r[b0.MIPMAP_COUNT],o=new Uint32Array(e,b0.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Kte/Uint32Array.BYTES_PER_ELEMENT),a=o[ere];if(a&rre){const u=o[Jte.FOURCC];if(u!==lre){const x=hre[u],E=CT+_0,T=new Uint8Array(e,E);return[new ql(T,{format:x,width:i,height:n,levels:s})]}const l=CT+_0,h=new Uint32Array(t.buffer,l,$4/Uint32Array.BYTES_PER_ELEMENT),f=h[w0.DXGI_FORMAT],p=h[w0.RESOURCE_DIMENSION],m=h[w0.MISC_FLAG],y=h[w0.ARRAY_SIZE],v=dre[f];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(m===cre)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const w=new Array,_=CT+_0+$4;if(y===1)w.push(new Uint8Array(e,_));else{const x=v0[v];let E=0,T=i,R=n;for(let k=0;k<s;k++){const M=Math.max(1,T+3&-4),V=Math.max(1,R+3&-4),H=M*V*x;E+=H,T=T>>>1,R=R>>>1}let P=_;for(let k=0;k<y;k++)w.push(new Uint8Array(e,P,E)),P+=E}return w.map(x=>new ql(x,{format:v,width:i,height:n,levels:s}))}throw a&nre?new Error("DDSParser does not support uncompressed texture data."):a&ire?new Error("DDSParser does not supported YUV uncompressed texture data."):a&sre?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&tre?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const V4=[171,75,84,88,32,49,49,187,13,10,26,10],pre=67305985,As={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},kT=64,W4={[Le.UNSIGNED_BYTE]:1,[Le.UNSIGNED_SHORT]:2,[Le.INT]:4,[Le.UNSIGNED_INT]:4,[Le.FLOAT]:4,[Le.HALF_FLOAT]:8},mre={[ce.RGBA]:4,[ce.RGB]:3,[ce.RG]:2,[ce.RED]:1,[ce.LUMINANCE]:1,[ce.LUMINANCE_ALPHA]:2,[ce.ALPHA]:1},yre={[Le.UNSIGNED_SHORT_4_4_4_4]:2,[Le.UNSIGNED_SHORT_5_5_5_1]:2,[Le.UNSIGNED_SHORT_5_6_5]:2};function gre(e,t,r=!1){const n=new DataView(t);if(!vre(e,n))return null;const i=n.getUint32(As.ENDIANNESS,!0)===pre,s=n.getUint32(As.GL_TYPE,i),o=n.getUint32(As.GL_FORMAT,i),a=n.getUint32(As.GL_INTERNAL_FORMAT,i),u=n.getUint32(As.PIXEL_WIDTH,i),l=n.getUint32(As.PIXEL_HEIGHT,i)||1,h=n.getUint32(As.PIXEL_DEPTH,i)||1,f=n.getUint32(As.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(As.NUMBER_OF_FACES,i),m=n.getUint32(As.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(As.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||h!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const v=4,w=4,_=u+3&-4,x=l+3&-4,E=new Array(f);let T=u*l;s===0&&(T=_*x);let R;if(s!==0?W4[s]?R=W4[s]*mre[o]:R=yre[s]:R=v0[a],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const P=r?bre(n,y,i):null;let k=T*R,M=u,V=l,H=_,X=x,Q=kT+y;for(let W=0;W<m;W++){const G=n.getUint32(Q,i);let O=Q+4;for(let D=0;D<f;D++){let L=E[D];L||(L=E[D]=new Array(m)),L[W]={levelID:W,levelWidth:m>1||s!==0?M:H,levelHeight:m>1||s!==0?V:X,levelBuffer:new Uint8Array(t,O,k)},O+=k}Q+=G+4,Q=Q%4!==0?Q+4-Q%4:Q,M=M>>1||1,V=V>>1||1,H=M+v-1&~(v-1),X=V+w-1&~(w-1),k=H*X*R}return s!==0?{uncompressed:E.map(W=>{let G=W[0].levelBuffer,O=!1;return s===Le.FLOAT?G=new Float32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4):s===Le.UNSIGNED_INT?(O=!0,G=new Uint32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4)):s===Le.INT&&(O=!0,G=new Int32Array(W[0].levelBuffer.buffer,W[0].levelBuffer.byteOffset,W[0].levelBuffer.byteLength/4)),{resource:new w_(G,{width:W[0].levelWidth,height:W[0].levelHeight}),type:s,format:O?_re(o):o}}),kvData:P}:{compressed:E.map(W=>new ql(null,{format:a,width:u,height:l,levels:m,levelBuffers:W})),kvData:P}}function vre(e,t){for(let r=0;r<V4.length;r++)if(t.getUint8(r)!==V4[r])return console.error(`${e} is not a valid *.ktx file!`),!1;return!0}function _re(e){switch(e){case ce.RGBA:return ce.RGBA_INTEGER;case ce.RGB:return ce.RGB_INTEGER;case ce.RG:return ce.RG_INTEGER;case ce.RED:return ce.RED_INTEGER;default:return e}}function bre(e,t,r){const n=new Map;let i=0;for(;i<t;){const s=e.getUint32(kT+i,r),o=kT+i+4,a=3-(s+3)%4;if(s===0||s>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&e.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=new TextDecoder().decode(new Uint8Array(e.buffer,o,u)),h=new DataView(e.buffer,o+u+1,s-u-1);n.set(l,h),i+=4+s+a}return n}const wre={extension:{type:ge.LoadParser,priority:xs.High},name:"loadDDS",test(e){return mu(e,".dds")},async load(e,t,r){const n=await(await be.ADAPTER.fetch(e)).arrayBuffer(),i=fre(n).map(s=>{const o=new Ze(s,{mipmap:oo.OFF,alphaMode:Gn.NO_PREMULTIPLIED_ALPHA,resolution:ca(e),...t.data});return cm(o,r,e)});return i.length===1?i[0]:i},unload(e){Array.isArray(e)?e.forEach(t=>t.destroy(!0)):e.destroy(!0)}};Oe.add(wre);const xre={extension:{type:ge.LoadParser,priority:xs.High},name:"loadKTX",test(e){return mu(e,".ktx")},async load(e,t,r){const n=await(await be.ADAPTER.fetch(e)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=gre(e,n),a=i??s,u={mipmap:oo.OFF,alphaMode:Gn.NO_PREMULTIPLIED_ALPHA,resolution:ca(e),...t.data},l=a.map(h=>{a===s&&Object.assign(u,{type:h.type,format:h.format});const f=h.resource??h,p=new Ze(f,u);return p.ktxKeyValueData=o,cm(p,r,e)});return l.length===1?l[0]:l},unload(e){Array.isArray(e)?e.forEach(t=>t.destroy(!0)):e.destroy(!0)}};Oe.add(xre);const Ere={extension:ge.ResolveParser,test:e=>{const t=_r.extname(e).slice(1);return["basis","ktx","dds"].includes(t)},parse:e=>{var r,n;const t=_r.extname(e).slice(1);if(t==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>e.endsWith(s)))return{resolution:parseFloat(((r=be.RETINA_PREFIX.exec(e))==null?void 0:r[1])??"1"),format:i.find(s=>e.endsWith(s)),src:e}}return{resolution:parseFloat(((n=be.RETINA_PREFIX.exec(e))==null?void 0:n[1])??"1"),format:t,src:e}}};Oe.add(Ere);const x0=new Xe,Sre=4,q4=class Lg{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const t=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,r,n,i){const s=new Image;return s.src=await this.base64(t,r,n,i),s}async base64(t,r,n,i){const s=this.canvas(t,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(u=>{if(!u){a(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=a,l.readAsDataURL(u)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,u)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=u,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,r);o&&Lg._flipY(n,i,s),a&&Lg._unpremultiplyAlpha(n);const u=new gK(i,s,1),l=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return u.context.putImageData(l,0,0),u.canvas}pixels(t,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(t,r);return o&&Lg._flipY(n,i,s),a&&Lg._unpremultiplyAlpha(n),n}_rawPixels(t,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,u=!1;t&&(t instanceof zl?a=t:(a=n.generateTexture(t,{region:r,resolution:n.resolution,multisample:n.multisample}),u=!0,r&&(x0.width=r.width,x0.height=r.height,r=x0)));const l=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ce.RGBA,!u){n.renderTexture.bind(a);const m=a.framebuffer.glFramebuffers[n.CONTEXT_UID];m.blitFramebuffer&&n.framebuffer.bind(m.blitFramebuffer)}}else i=n.resolution,r||(r=x0,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const h=Math.max(Math.round(r.width*i),1),f=Math.max(Math.round(r.height*i),1),p=new Uint8Array(Sre*h*f);return l.readPixels(Math.round(r.x*i),Math.round(r.y*i),h,f,l.RGBA,l.UNSIGNED_BYTE,p),u&&(a==null||a.destroy(!0)),{pixels:p,width:h,height:f,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(t,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const u=a*i,l=(n-a-1)*i;o.set(t.subarray(u,u+i)),t.copyWithin(u,l,l+i),t.set(o,l)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const r=t.length;for(let n=0;n<r;n+=4){const i=t[n+3];if(i!==0){const s=255.001/i;t[n]=t[n]*s+.5,t[n+1]=t[n+1]*s+.5,t[n+2]=t[n+2]*s+.5}}}};q4.extension={name:"extract",type:ge.RendererSystem};let Are=q4;Oe.add(Are);class Tre{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Ire(e,t){var n;let r=!1;if((n=e==null?void 0:e._textures)!=null&&n.length){for(let i=0;i<e._textures.length;i++)if(e._textures[i]instanceof me){const s=e._textures[i].baseTexture;t.includes(s)||(t.push(s),r=!0)}}return r}function Cre(e,t){if(e.baseTexture instanceof Ze){const r=e.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function kre(e,t){if(e._texture&&e._texture instanceof me){const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function Ore(e,t){return t instanceof ZA?(t.updateText(!0),!0):!1}function Pre(e,t){if(t instanceof du){const r=t.toFontString();return hu.measureFont(r),!0}return!1}function Rre(e,t){if(e instanceof ZA){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function Mre(e,t){return e instanceof du?(t.includes(e)||t.push(e),!0):!1}const Z4=class O${constructor(t){this.limiter=new Tre(O$.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Rre),this.registerFindHook(Mre),this.registerFindHook(Ire),this.registerFindHook(Cre),this.registerFindHook(kre),this.registerUploadHook(Ore),this.registerUploadHook(Pre)}upload(t){return new Promise(r=>{t&&this.add(t),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Pr.system.addOnce(this.tick,this,cu.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let r=!1;if(t&&!t._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Pr.system.addOnce(this.tick,this,cu.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let r=0,n=t.length;r<n;r++)t[r]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](t,this.queue);r++);if(t instanceof xn)for(let r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this}destroy(){this.ticking&&Pr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Z4.uploadsPerFrame=4;let OT=Z4;Object.defineProperties(be,{UPLOADS_PER_FRAME:{get(){return OT.uploadsPerFrame},set(e){et("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),OT.uploadsPerFrame=e}}});function X4(e,t){return t instanceof Ze?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function Nre(e,t){if(!(t instanceof dm))return!1;const{geometry:r}=t;t.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&X4(e,s.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function Dre(e,t){return e instanceof dm?(t.push(e),!0):!1}class Y4 extends OT{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(Dre),this.registerUploadHook(X4),this.registerUploadHook(Nre)}}Y4.extension={name:"prepare",type:ge.RendererSystem},Oe.add(Y4);const K4=class Bg{constructor(t,r,n=null){this.linkedSheets=[],this._texture=t instanceof me?t:null,this.baseTexture=t instanceof Ze?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:r}=this.data.meta;let n=ca(t,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Bg.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let r=t;const n=Bg.BATCH_SIZE;for(;r-t<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const l=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,h=new Xe(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s.rotated?a=new Xe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Xe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new Xe(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new me(this.baseTexture,a,h,u,s.rotated?2:0,s.anchor,s.borders),me.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const t=this.data.animations||{};for(const r in t){this.animations[r]=[];for(let n=0;n<t[r].length;n++){const i=t[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Bg.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Bg.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};K4.BATCH_SIZE=1e3;let Q4=K4;const Lre=["jpg","png","jpeg","avif","webp"];function J4(e,t,r){const n={};if(e.forEach(i=>{n[i]=t}),Object.keys(t.textures).forEach(i=>{n[i]=t.textures[i]}),!r){const i=_r.dirname(e[0]);t.linkedSheets.forEach((s,o)=>{const a=J4([`${i}/${t.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const Bre={extension:ge.Asset,cache:{test:e=>e instanceof Q4,getCacheableAssets:(e,t)=>J4(e,t,!1)},resolver:{test:e=>{const t=e.split("?")[0].split("."),r=t.pop(),n=t.pop();return r==="json"&&Lre.includes(n)},parse:e=>{var r;const t=e.split(".");return{resolution:parseFloat(((r=be.RETINA_PREFIX.exec(e))==null?void 0:r[1])??"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:ge.LoadParser,priority:xs.Normal},async testParse(e,t){return _r.extname(t.src).toLowerCase()===".json"&&!!e.frames},async parse(e,t,r){var u,l;let n=_r.dirname(t.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+e.meta.image;i=JA(i,t.src);const s=(await r.load([i]))[i],o=new Q4(s.baseTexture,e,t.src);await o.parse();const a=(u=e==null?void 0:e.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(a)){const h=[];for(const p of a){if(typeof p!="string")continue;let m=n+p;(l=t.data)!=null&&l.ignoreMultiPack||(m=JA(m,t.src),h.push(r.load({src:m,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(h);o.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[o].concat(o.linkedSheets.filter(m=>m!==p))})}return o},unload(e){e.destroy(!0)}}};Oe.add(Bre);const PT=class qf extends du{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new qf(Object.keys(qf.defaultOptions).reduce((r,n)=>({...r,[n]:t[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete qf.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,r={}){const{availableFonts:n}=qf;if(n[t]){const i=n[t];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return be.ADAPTER.fetch(t).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),u=new FileReader;u.onload=()=>s([a,u.result]),u.onerror=o,u.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:_r.basename(t,_r.extname(t)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:t,fontFace:null},r);n[t]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const r=t.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...t){const r=t.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,r)=>`${t}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=fK(t)),typeof t=="number"?dK(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&r<1&&(t+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${s} ${t}`}reset(){Object.assign(this,qf.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=be.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};PT.availableFonts={},PT.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let RT=PT;const E0=class Zf extends go{constructor(t="",r={}){super(me.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=me.from(n,{scaleMode:be.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Xe,i.trim=new Xe,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject"),l=document.createElementNS(o,"div"),h=document.createElementNS(o,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",a.appendChild(u),this.maxWidth=Zf.defaultMaxWidth,this.maxHeight=Zf.defaultMaxHeight,this._domElement=l,this._styleElement=h,this._svgRoot=a,this._foreignObject=u,this._foreignObject.appendChild(h),this._foreignObject.appendChild(l),this._image=n,this._loadImage=new Image,this._autoResolution=Zf.defaultAutoResolution,this._resolution=Zf.defaultResolution??be.RESOLUTION,this.text=t,this.style=r}measureText(t){var h,f;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",l.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(h=this._style)==null?void 0:h.toCSS(i)}),this._styleElement.textContent=(f=this._style)==null?void 0:f.toGlobalCSS()),{width:u+n.padding*2,height:l+n.padding*2}}async updateText(t=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&t)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(u=>{i.onload=async()=>{if(a<this._updateID){u();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),u()};const l=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`})}get source(){return this._image}updateTexture(){const{style:t,texture:r,_image:n,resolution:i}=this,{padding:s}=t,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var n,i,s,o,a;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Zf.defaultDestroyOptions,t),super.destroy(t);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const r=ou(this.scale.x)||1;this.scale.x=r*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const r=ou(this.scale.y)||1;this.scale.y=r*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof RT?(this.ownsStyle=!1,this._style=t):t instanceof du?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=RT.from(t)):(this.ownsStyle=!0,this._style=new RT(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};E0.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},E0.defaultMaxWidth=2024,E0.defaultMaxHeight=2024,E0.defaultAutoResolution=!0;const e5="/assets/0_1-07718a39.png",Fre=({hoveredTile:e,cameraOffset:t})=>(me.from(e5).baseTexture.scaleMode=gs.NEAREST,Array.from(Array(50)).map((r,n)=>Array.from(Array(50)).map((i,s)=>{const o={x:s,y:n,layer:"base",type:"ground"},a=vm(o.x,o.y),u=e&&e.x===o.x&&e.y===o.y?5:0;return Qr.jsx(d0.Sprite,{image:e5,anchor:.5,scale:2,x:a.x+p0/2,y:a.y+m0-u},`${o.x}-${o.y}`)})));var t5=(e=>(e[e.S=0]="S",e[e.SE=1]="SE",e[e.E=2]="E",e[e.NE=3]="NE",e[e.N=4]="N",e[e.NW=5]="NW",e[e.W=6]="W",e[e.SW=7]="SW",e))(t5||{}),S0=(e=>(e[e.Idle=0]="Idle",e[e.Walk=1]="Walk",e[e.Carry=2]="Carry",e[e.Jump=3]="Jump",e[e.Throw=4]="Throw",e[e.Hurt=5]="Hurt",e[e.Death=6]="Death",e))(S0||{});const Ure=(e,t,r,n)=>{const i=Object.keys(n.data.frames);let s=[];if(t===0)s=i.filter(o=>o.includes("idle"));else if(t===1)s=i.filter(o=>o.includes("walk"));else if(t===2)s=i.filter(o=>o.includes("carry"));else if(t===3)s=i.filter(o=>o.includes("jump"));else if(t===4)s=i.filter(o=>o.includes("throw"));else if(t===5)s=i.filter(o=>o.includes("hurt"));else if(t===6)s=i.filter(o=>o.includes("death"));else throw new Error("Invalid AnimationType");return r===1?s=s.filter(o=>/-SE-/.test(o)):r===7?s=s.filter(o=>/-SW-/.test(o)):r===5?s=s.filter(o=>/-NW-/.test(o)):r===3?s=s.filter(o=>/-NE-/.test(o)):r===0?s=s.filter(o=>/-S-/.test(o)&&!/-SE-/.test(o)&&!/-SW-/.test(o)):r===2?s=s.filter(o=>/-E-/.test(o)&&!/-SE-/.test(o)&&!/-NE-/.test(o)):r===4?s=s.filter(o=>/-N-/.test(o)&&!/-NE-/.test(o)&&!/-NW-/.test(o)):r===6&&(s=s.filter(o=>/-W-/.test(o)&&!/-SW-/.test(o)&&!/-NW-/.test(o))),s.map(o=>{const a=me.from(o);return a.baseTexture.scaleMode=gs.NEAREST,a})},jre=({type:e,position:t,lifeStatus:r})=>{const[n,i]=Ie.useState(S0.Idle),[s,o]=Ie.useState([]),[a,u]=Ie.useState(void 0),[l,h]=Ie.useState(0);Ie.useState(0);const[f,p]=Ie.useState(!1),[m,y]=Ie.useState(!1),[v,w]=Ie.useState(!1);Ie.useEffect(()=>{f&&i(S0.Walk)},[f]);const[_,x]=Ie.useState(xT(vm(t.x,t.y)));return Ie.useEffect(()=>{(async()=>{const E=await hm.load(`assets/${e}/${e}.json`);u(E),o(Ure(e,S0.Idle,t5.SE,E))})(),x(xT(vm(t.x,t.y)))},[]),Ie.useEffect(()=>{x(xT(vm(t.x,t.y)))},[t]),Ie.useEffect(()=>{r!==void 0&&(alert(r.infectionStacks),r.isInfected&&!v&&w(!0),r.isDead&&!m&&y(!0))},[r]),s.length===0?null:Qr.jsx(Qr.Fragment,{children:Qr.jsx(d0.AnimatedSprite,{zIndex:wT(_).x+wT(_).y,x:m?-100:_.x,y:m?-100:_.y-36,anchor:.5,scale:2,isPlaying:!m,textures:s,initialFrame:l,animationSpeed:.05+(v?.1:0)})})};function dt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var zre={};function r5(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:zre}var n5=Object.assign,A0=Object.getOwnPropertyDescriptor,wo=Object.defineProperty,T0=Object.prototype,MT=[];Object.freeze(MT);var i5={};Object.freeze(i5);var Hre=typeof Proxy<"u",Gre=Object.toString();function s5(){Hre||dt("Proxy not available")}function o5(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ed=function(){};function Ts(e){return typeof e=="function"}function Zl(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function I0(e){return e!==null&&typeof e=="object"}function bu(e){if(!I0(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r.toString()===Gre}function a5(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function NT(e,t,r){wo(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function u5(e,t,r){wo(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function Xl(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(n){return I0(n)&&n[r]===!0}}function td(e){return e instanceof Map}function bm(e){return e instanceof Set}var l5=typeof Object.getOwnPropertySymbols<"u";function $re(e){var t=Object.keys(e);if(!l5)return t;var r=Object.getOwnPropertySymbols(e);return r.length?[].concat(t,r.filter(function(n){return T0.propertyIsEnumerable.call(e,n)})):t}var DT=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:l5?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function c5(e){return e===null?null:typeof e=="object"?""+e:e}function wu(e,t){return T0.hasOwnProperty.call(e,t)}var Vre=Object.getOwnPropertyDescriptors||function(e){var t={};return DT(e).forEach(function(r){t[r]=A0(e,r)}),t};function h5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zre(n.key),n)}}function LT(e,t,r){return t&&h5(e.prototype,t),r&&h5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}function d5(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,BT(e,t)}function BT(e,t){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},BT(e,t)}function FT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wre(e,t){if(e){if(typeof e=="string")return f5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f5(e,t)}}function f5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nd(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Wre(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qre(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e){var t=qre(e,"string");return typeof t=="symbol"?t:String(t)}var id=Symbol("mobx-stored-annotations");function xo(e){function t(r,n){if(wm(n))return e.decorate_20223_(r,n);sd(r,n,e)}return Object.assign(t,e)}function sd(e,t,r){wu(e,id)||NT(e,id,rd({},e[id])),rne(r)||(e[id][t]=r)}function wm(e){return typeof e=="object"&&typeof e.kind=="string"}var Ve=Symbol("mobx administration"),xm=function(){function e(r){r===void 0&&(r="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ft.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return M5(this)},t.reportChanged=function(){Mi(),N5(this),Ni()},t.toString=function(){return this.name_},e}(),UT=Xl("Atom",xm);function p5(e,t,r){t===void 0&&(t=ed),r===void 0&&(r=ed);var n=new xm(e);return t!==ed&&sie(n,t),r!==ed&&U5(n,r),n}function Xre(e,t){return e===t}function Yre(e,t){return i2(e,t)}function Kre(e,t){return i2(e,t,1)}function Qre(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var C0={identity:Xre,structural:Yre,default:Qre,shallow:Kre};function od(e,t,r){return G5(e)?e:Array.isArray(e)?Rr.array(e,{name:r}):bu(e)?Rr.object(e,void 0,{name:r}):td(e)?Rr.map(e,{name:r}):bm(e)?Rr.set(e,{name:r}):typeof e=="function"&&!j0(e)&&!Im(e)?a5(e)?ld(e):Tm(r,e):e}function Jre(e,t,r){if(e==null||Pm(e)||H0(e)||Jl(e)||hd(e))return e;if(Array.isArray(e))return Rr.array(e,{name:r,deep:!1});if(bu(e))return Rr.object(e,void 0,{name:r,deep:!1});if(td(e))return Rr.map(e,{name:r,deep:!1});if(bm(e))return Rr.set(e,{name:r,deep:!1})}function k0(e){return e}function ene(e,t){return i2(e,t)?t:e}var tne="override";function rne(e){return e.annotationType_===tne}function Em(e,t){return{annotationType_:e,options_:t,make_:nne,extend_:ine,decorate_20223_:sne}}function nne(e,t,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,r,!1)===null?0:1;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if(j0(r.value))return 1;var s=m5(e,this,t,r,!1);return wo(n,t,s),2}function ine(e,t,r,n){var i=m5(e,this,t,r);return e.defineProperty_(t,i,n)}function sne(e,t){var r=t.kind,n=t.name,i=t.addInitializer,s=this,o=function(u){var l,h,f,p;return Yl((l=(h=s.options_)==null?void 0:h.name)!=null?l:n.toString(),u,(f=(p=s.options_)==null?void 0:p.autoAction)!=null?f:!1)};if(r=="field"){i(function(){sd(this,n,s)});return}if(r=="method"){var a;return j0(e)||(e=o(e)),(a=this.options_)!=null&&a.bound&&i(function(){var u=this,l=u[n].bind(u);l.isMobxAction=!0,u[n]=l}),e}dt("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function one(e,t,r,n){t.annotationType_,n.value}function m5(e,t,r,n,i){var s,o,a,u,l,h,f;i===void 0&&(i=Ee.safeDescriptors),one(e,t,r,n);var p=n.value;if((s=t.options_)!=null&&s.bound){var m;p=p.bind((m=e.proxy_)!=null?m:e.target_)}return{value:Yl((o=(a=t.options_)==null?void 0:a.name)!=null?o:r.toString(),p,(u=(l=t.options_)==null?void 0:l.autoAction)!=null?u:!1,(h=t.options_)!=null&&h.bound?(f=e.proxy_)!=null?f:e.target_:void 0),configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function y5(e,t){return{annotationType_:e,options_:t,make_:ane,extend_:une,decorate_20223_:lne}}function ane(e,t,r,n){var i;if(n===e.target_)return this.extend_(e,t,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!wu(e.target_,t)||!Im(e.target_[t]))&&this.extend_(e,t,r,!1)===null)return 0;if(Im(r.value))return 1;var s=g5(e,this,t,r,!1,!1);return wo(n,t,s),2}function une(e,t,r,n){var i,s=g5(e,this,t,r,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,s,n)}function lne(e,t){var r,n=t.name,i=t.addInitializer;return Im(e)||(e=ld(e)),(r=this.options_)!=null&&r.bound&&i(function(){var s=this,o=s[n].bind(s);o.isMobXFlow=!0,s[n]=o}),e}function cne(e,t,r,n){t.annotationType_,n.value}function g5(e,t,r,n,i,s){s===void 0&&(s=Ee.safeDescriptors),cne(e,t,r,n);var o=n.value;if(Im(o)||(o=ld(o)),i){var a;o=o.bind((a=e.proxy_)!=null?a:e.target_),o.isMobXFlow=!0}return{value:o,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function jT(e,t){return{annotationType_:e,options_:t,make_:hne,extend_:dne,decorate_20223_:fne}}function hne(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function dne(e,t,r,n){return pne(e,this,t,r),e.defineComputedProperty_(t,rd({},this.options_,{get:r.get,set:r.set}),n)}function fne(e,t){var r=this,n=t.name,i=t.addInitializer;return i(function(){var s=Om(this)[Ve],o=rd({},r.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+n.toString()),s.values_.set(n,new ad(o))}),function(){return this[Ve].getObservablePropValue_(n)}}function pne(e,t,r,n){t.annotationType_,n.get}function O0(e,t){return{annotationType_:e,options_:t,make_:mne,extend_:yne,decorate_20223_:gne}}function mne(e,t,r){return this.extend_(e,t,r,!1)===null?0:1}function yne(e,t,r,n){var i,s;return vne(e,this),e.defineObservableProperty_(t,r.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:od,n)}function gne(e,t){var r=this,n=t.kind,i=t.name,s=new WeakSet;function o(a,u){var l,h,f=Om(a)[Ve],p=new Kl(u,(l=(h=r.options_)==null?void 0:h.enhancer)!=null?l:od,"ObservableObject."+i.toString(),!1);f.values_.set(i,p),s.add(a)}if(n=="accessor")return{get:function(){return s.has(this)||o(this,e.get.call(this)),this[Ve].getObservablePropValue_(i)},set:function(a){return s.has(this)||o(this,a),this[Ve].setObservablePropValue_(i,a)},init:function(a){return s.has(this)||o(this,a),a}}}function vne(e,t,r,n){t.annotationType_}var _ne="true",bne=v5();function v5(e){return{annotationType_:_ne,options_:e,make_:wne,extend_:xne,decorate_20223_:Ene}}function wne(e,t,r,n){var i,s;if(r.get)return M0.make_(e,t,r,n);if(r.set){var o=Yl(t.toString(),r.set);return n===e.target_?e.defineProperty_(t,{configurable:Ee.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(wo(n,t,{configurable:!0,set:o}),2)}if(n!==e.target_&&typeof r.value=="function"){var a;if(a5(r.value)){var u,l=(u=this.options_)!=null&&u.autoBind?ld.bound:ld;return l.make_(e,t,r,n)}var h=(a=this.options_)!=null&&a.autoBind?Tm.bound:Tm;return h.make_(e,t,r,n)}var f=((i=this.options_)==null?void 0:i.deep)===!1?Rr.ref:Rr;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var p;r.value=r.value.bind((p=e.proxy_)!=null?p:e.target_)}return f.make_(e,t,r,n)}function xne(e,t,r,n){var i,s;if(r.get)return M0.extend_(e,t,r,n);if(r.set)return e.defineProperty_(t,{configurable:Ee.safeDescriptors?e.isPlainObject_:!0,set:Yl(t.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;r.value=r.value.bind((o=e.proxy_)!=null?o:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?Rr.ref:Rr;return a.extend_(e,t,r,n)}function Ene(e,t){dt("'"+this.annotationType_+"' cannot be used as a decorator")}var Sne="observable",Ane="observable.ref",Tne="observable.shallow",Ine="observable.struct",_5={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(_5);function P0(e){return e||_5}var zT=O0(Sne),Cne=O0(Ane,{enhancer:k0}),kne=O0(Tne,{enhancer:Jre}),One=O0(Ine,{enhancer:ene}),b5=xo(zT);function R0(e){return e.deep===!0?od:e.deep===!1?k0:Rne(e.defaultDecorator)}function Pne(e){var t;return e?(t=e.defaultDecorator)!=null?t:v5(e):void 0}function Rne(e){var t,r;return e&&(t=(r=e.options_)==null?void 0:r.enhancer)!=null?t:od}function w5(e,t,r){if(wm(t))return zT.decorate_20223_(e,t);if(Zl(t)){sd(e,t,zT);return}return G5(e)?e:bu(e)?Rr.object(e,t,r):Array.isArray(e)?Rr.array(e,t):td(e)?Rr.map(e,t):bm(e)?Rr.set(e,t):typeof e=="object"&&e!==null?e:Rr.box(e,t)}n5(w5,b5);var Mne={box:function(e,t){var r=P0(t);return new Kl(e,R0(r),r.name,!0,r.equals)},array:function(e,t){var r=P0(t);return(Ee.useProxies===!1||r.proxy===!1?Sie:pie)(e,R0(r),r.name)},map:function(e,t){var r=P0(t);return new Z5(e,R0(r),r.name)},set:function(e,t){var r=P0(t);return new K5(e,R0(r),r.name)},object:function(e,t,r){return dd(function(){return oie(Ee.useProxies===!1||(r==null?void 0:r.proxy)===!1?Om({},r):hie({},r),e,t)})},ref:xo(Cne),shallow:xo(kne),deep:b5,struct:xo(One)},Rr=n5(w5,Mne),x5="computed",Nne="computed.struct",HT=jT(x5),Dne=jT(Nne,{equals:C0.structural}),M0=function(e,t){if(wm(t))return HT.decorate_20223_(e,t);if(Zl(t))return sd(e,t,HT);if(bu(e))return xo(jT(x5,e));var r=bu(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new ad(r)};Object.assign(M0,HT),M0.struct=xo(Dne);var E5,S5,N0=0,Lne=1,Bne=(E5=(S5=A0(function(){},"name"))==null?void 0:S5.configurable)!=null?E5:!1,A5={value:"action",configurable:!0,writable:!1,enumerable:!1};function Yl(e,t,r,n){r===void 0&&(r=!1);function i(){return Fne(e,r,t,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return t.toString()},Bne&&(A5.value=e,wo(i,"name",A5)),i}function Fne(e,t,r,n,i){var s=Une(e,t);try{return r.apply(n,i)}catch(o){throw s.error_=o,o}finally{jne(s)}}function Une(e,t,r,n){var i=!1,s=0,o=Ee.trackingDerivation,a=!t||!o;Mi();var u=Ee.allowStateChanges;a&&(Ql(),u=GT(!0));var l=qT(!0),h={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:Lne++,parentActionId_:N0};return N0=h.actionId_,h}function jne(e){N0!==e.actionId_&&dt(30),N0=e.parentActionId_,e.error_!==void 0&&(Ee.suppressReactionErrors=!0),$T(e.prevAllowStateChanges_),Sm(e.prevAllowStateReads_),Ni(),e.runAsAction_&&ma(e.prevDerivation_),Ee.suppressReactionErrors=!1}function GT(e){var t=Ee.allowStateChanges;return Ee.allowStateChanges=e,t}function $T(e){Ee.allowStateChanges=e}var T5;T5=Symbol.toPrimitive;var Kl=function(e){d5(t,e);function t(n,i,s,o,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=C0.default),u=e.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=s,u.equals=a,u.value_=i(n,void 0,s),u}var r=t.prototype;return r.dehanceValue=function(n){return this.dehancer!==void 0?this.dehancer(n):n},r.set=function(n){this.value_,n=this.prepareNewValue_(n),n!==Ee.UNCHANGED&&this.setNewValue_(n)},r.prepareNewValue_=function(n){if(Di(this)){var i=Li(this,{object:this,type:Eo,newValue:n});if(!i)return Ee.UNCHANGED;n=i.newValue}return n=this.enhancer(n,this.value_,this.name_),this.equals(this.value_,n)?Ee.UNCHANGED:n},r.setNewValue_=function(n){var i=this.value_;this.value_=n,this.reportChanged(),Is(this)&&Cs(this,{type:Eo,object:this,newValue:n,oldValue:i})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(n){return Cm(this,n)},r.observe_=function(n,i){return i&&n({observableKind:"value",debugObjectName:this.name_,object:this,type:Eo,newValue:this.value_,oldValue:void 0}),km(this,n)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return c5(this.get())},r[T5]=function(){return this.valueOf()},t}(xm),I5;I5=Symbol.toPrimitive;var ad=function(){function e(r){this.dependenciesState_=ft.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ft.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new B0(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=L0.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||dt(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=Yl("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?C0.structural:C0.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){$ne(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing_&&dt(32,this.name_,this.derivation),Ee.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)VT(this)&&(this.warnAboutUntrackedRead_(),Mi(),this.value_=this.computeValue_(!1),Ni());else if(M5(this),VT(this)){var r=Ee.trackingContext;this.keepAlive_&&!r&&(Ee.trackingContext=this),this.trackAndCompute()&&Gne(this),Ee.trackingContext=r}var n=this.value_;if(F0(n))throw n.cause;return n},t.set=function(r){if(this.setter_){this.isRunningSetter_&&dt(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else dt(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,n=this.dependenciesState_===ft.NOT_TRACKING_,i=this.computeValue_(!0),s=n||F0(r)||F0(i)||!this.equals_(r,i);return s&&(this.value_=i),s},t.computeValue_=function(r){this.isComputing_=!0;var n=GT(!1),i;if(r)i=C5(this,this.derivation,this.scope_);else if(Ee.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(s){i=new B0(s)}return $T(n),this.isComputing_=!1,i},t.suspend_=function(){this.keepAlive_||(WT(this),this.value_=void 0)},t.observe_=function(r,n){var i=this,s=!0,o=void 0;return eie(function(){var a=i.get();if(!s||n){var u=Ql();r({observableKind:"computed",debugObjectName:i.name_,type:Eo,object:i,newValue:a,oldValue:o}),ma(u)}s=!1,o=a})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return c5(this.get())},t[I5]=function(){return this.valueOf()},e}(),D0=Xl("ComputedValue",ad),ft;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(ft||(ft={}));var L0;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(L0||(L0={}));var B0=function(e){this.cause=void 0,this.cause=e};function F0(e){return e instanceof B0}function VT(e){switch(e.dependenciesState_){case ft.UP_TO_DATE_:return!1;case ft.NOT_TRACKING_:case ft.STALE_:return!0;case ft.POSSIBLY_STALE_:{for(var t=qT(!0),r=Ql(),n=e.observing_,i=n.length,s=0;s<i;s++){var o=n[s];if(D0(o)){if(Ee.disableErrorBoundaries)o.get();else try{o.get()}catch{return ma(r),Sm(t),!0}if(e.dependenciesState_===ft.STALE_)return ma(r),Sm(t),!0}}return O5(e),ma(r),Sm(t),!1}}}function C5(e,t,r){var n=qT(!0);O5(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Ee.runId;var i=Ee.trackingDerivation;Ee.trackingDerivation=e,Ee.inBatch++;var s;if(Ee.disableErrorBoundaries===!0)s=t.call(r);else try{s=t.call(r)}catch(o){s=new B0(o)}return Ee.inBatch--,Ee.trackingDerivation=i,zne(e),Sm(n),s}function zne(e){for(var t=e.observing_,r=e.observing_=e.newObserving_,n=ft.UP_TO_DATE_,i=0,s=e.unboundDepsCount_,o=0;o<s;o++){var a=r[o];a.diffValue_===0&&(a.diffValue_=1,i!==o&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,e.newObserving_=null,s=t.length;s--;){var u=t[s];u.diffValue_===0&&P5(u,e),u.diffValue_=0}for(;i--;){var l=r[i];l.diffValue_===1&&(l.diffValue_=0,Hne(l,e))}n!==ft.UP_TO_DATE_&&(e.dependenciesState_=n,e.onBecomeStale_())}function WT(e){var t=e.observing_;e.observing_=[];for(var r=t.length;r--;)P5(t[r],e);e.dependenciesState_=ft.NOT_TRACKING_}function k5(e){var t=Ql();try{return e()}finally{ma(t)}}function Ql(){var e=Ee.trackingDerivation;return Ee.trackingDerivation=null,e}function ma(e){Ee.trackingDerivation=e}function qT(e){var t=Ee.allowStateReads;return Ee.allowStateReads=e,t}function Sm(e){Ee.allowStateReads=e}function O5(e){if(e.dependenciesState_!==ft.UP_TO_DATE_){e.dependenciesState_=ft.UP_TO_DATE_;for(var t=e.observing_,r=t.length;r--;)t[r].lowestObserverState_=ft.UP_TO_DATE_}}var ZT=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},XT=!0,Ee=function(){var e=r5();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(XT=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new ZT().version&&(XT=!1),XT?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ZT):(setTimeout(function(){dt(35)},1),new ZT)}();function Hne(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function P5(e,t){e.observers_.delete(t),e.observers_.size===0&&R5(e)}function R5(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,Ee.pendingUnobservations.push(e))}function Mi(){Ee.inBatch++}function Ni(){if(--Ee.inBatch===0){D5();for(var e=Ee.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation_=!1,r.observers_.size===0&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof ad&&r.suspend_())}Ee.pendingUnobservations=[]}}function M5(e){var t=Ee.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Ee.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(e.observers_.size===0&&Ee.inBatch>0&&R5(e),!1)}function N5(e){e.lowestObserverState_!==ft.STALE_&&(e.lowestObserverState_=ft.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ft.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=ft.STALE_}))}function Gne(e){e.lowestObserverState_!==ft.STALE_&&(e.lowestObserverState_=ft.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ft.POSSIBLY_STALE_?t.dependenciesState_=ft.STALE_:t.dependenciesState_===ft.UP_TO_DATE_&&(e.lowestObserverState_=ft.UP_TO_DATE_)}))}function $ne(e){e.lowestObserverState_===ft.UP_TO_DATE_&&(e.lowestObserverState_=ft.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===ft.UP_TO_DATE_&&(t.dependenciesState_=ft.POSSIBLY_STALE_,t.onBecomeStale_())}))}var YT=function(){function e(r,n,i,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ft.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=L0.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Ee.pendingReactions.push(this),D5())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){Mi(),this.isScheduled_=!1;var r=Ee.trackingContext;if(Ee.trackingContext=this,VT(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(n){this.reportExceptionInDerivation_(n)}}Ee.trackingContext=r,Ni()}},t.track=function(r){if(!this.isDisposed_){Mi(),this.isRunning_=!0;var n=Ee.trackingContext;Ee.trackingContext=this;var i=C5(this,r,void 0);Ee.trackingContext=n,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&WT(this),F0(i)&&this.reportExceptionInDerivation_(i.cause),Ni()}},t.reportExceptionInDerivation_=function(r){var n=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Ee.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";Ee.suppressReactionErrors||console.error(i,r),Ee.globalReactionErrorHandlers.forEach(function(s){return s(r,n)})},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Mi(),WT(this),Ni()))},t.getDisposer_=function(r){var n=this,i=function s(){n.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",s)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[Ve]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},e}(),Vne=100,Wne=function(e){return e()};function D5(){Ee.inBatch>0||Ee.isRunningReactions||Wne(qne)}function qne(){Ee.isRunningReactions=!0;for(var e=Ee.pendingReactions,t=0;e.length>0;){++t===Vne&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}Ee.isRunningReactions=!1}var U0=Xl("Reaction",YT);function Am(){return!1}function Zne(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var L5="action",Xne="action.bound",B5="autoAction",Yne="autoAction.bound",Kne="<unnamed action>",KT=Em(L5),Qne=Em(Xne,{bound:!0}),QT=Em(B5,{autoAction:!0}),Jne=Em(Yne,{autoAction:!0,bound:!0});function F5(e){var t=function(r,n){if(Ts(r))return Yl(r.name||Kne,r,e);if(Ts(n))return Yl(r,n,e);if(wm(n))return(e?QT:KT).decorate_20223_(r,n);if(Zl(n))return sd(r,n,e?QT:KT);if(Zl(r))return xo(Em(e?B5:L5,{name:r,autoAction:e}))};return t}var ud=F5(!1);Object.assign(ud,KT);var Tm=F5(!0);Object.assign(Tm,QT),ud.bound=xo(Qne),Tm.bound=xo(Jne);function j0(e){return Ts(e)&&e.isMobxAction===!0}function eie(e,t){var r,n,i,s,o;t===void 0&&(t=i5);var a=(r=(n=t)==null?void 0:n.name)!=null?r:"Autorun",u=!t.scheduler&&!t.delay,l;if(u)l=new YT(a,function(){this.track(p)},t.onError,t.requiresObservable);else{var h=rie(t),f=!1;l=new YT(a,function(){f||(f=!0,h(function(){f=!1,l.isDisposed_||l.track(p)}))},t.onError,t.requiresObservable)}function p(){e(l)}return(i=t)!=null&&(s=i.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((o=t)==null?void 0:o.signal)}var tie=function(e){return e()};function rie(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:tie}var nie="onBO",iie="onBUO";function sie(e,t,r){return j5(nie,e,t,r)}function U5(e,t,r){return j5(iie,e,t,r)}function j5(e,t,r,n){var i=typeof n=="function"?Rm(t,r):Rm(t),s=Ts(n)?n:r,o=e+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}function oie(e,t,r,n){var i=Vre(t);return dd(function(){var s=Om(e,n)[Ve];DT(i).forEach(function(o){s.extend_(o,i[o],r&&o in r?r[o]:!0)})}),e}var aie=0;function z5(){this.message="FLOW_CANCELLED"}z5.prototype=Object.create(Error.prototype);var JT=y5("flow"),uie=y5("flow.bound",{bound:!0}),ld=Object.assign(function(e,t){if(wm(t))return JT.decorate_20223_(e,t);if(Zl(t))return sd(e,t,JT);var r=e,n=r.name||"<unnamed flow>",i=function(){var s=this,o=arguments,a=++aie,u=ud(n+" - runid: "+a+" - init",r).apply(s,o),l,h=void 0,f=new Promise(function(p,m){var y=0;l=m;function v(x){h=void 0;var E;try{E=ud(n+" - runid: "+a+" - yield "+y++,u.next).call(u,x)}catch(T){return m(T)}_(E)}function w(x){h=void 0;var E;try{E=ud(n+" - runid: "+a+" - yield "+y++,u.throw).call(u,x)}catch(T){return m(T)}_(E)}function _(x){if(Ts(x==null?void 0:x.then)){x.then(_,m);return}return x.done?p(x.value):(h=Promise.resolve(x.value),h.then(v,w))}v(void 0)});return f.cancel=ud(n+" - runid: "+a+" - cancel",function(){try{h&&H5(h);var p=u.return(void 0),m=Promise.resolve(p.value);m.then(ed,ed),H5(m),l(new z5)}catch(y){l(y)}}),f};return i.isMobXFlow=!0,i},JT);ld.bound=xo(uie);function H5(e){Ts(e.cancel)&&e.cancel()}function Im(e){return(e==null?void 0:e.isMobXFlow)===!0}function lie(e,t){return e?t!==void 0?Pm(e)?e[Ve].values_.has(t):!1:Pm(e)||!!e[Ve]||UT(e)||U0(e)||D0(e):!1}function G5(e){return lie(e)}function ya(e,t){t===void 0&&(t=void 0),Mi();try{return e.apply(t)}finally{Ni()}}function cd(e){return e[Ve]}var cie={has:function(e,t){return cd(e).has_(t)},get:function(e,t){return cd(e).get_(t)},set:function(e,t,r){var n;return Zl(t)?(n=cd(e).set_(t,r,!0))!=null?n:!0:!1},deleteProperty:function(e,t){var r;return Zl(t)?(r=cd(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function(e,t,r){var n;return(n=cd(e).defineProperty_(t,r))!=null?n:!0},ownKeys:function(e){return cd(e).ownKeys_()},preventExtensions:function(e){dt(13)}};function hie(e,t){var r,n;return s5(),e=Om(e,t),(n=(r=e[Ve]).proxy_)!=null?n:r.proxy_=new Proxy(e,cie)}function Di(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Cm(e,t){var r=e.interceptors_||(e.interceptors_=[]);return r.push(t),o5(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function Li(e,t){var r=Ql();try{for(var n=[].concat(e.interceptors_||[]),i=0,s=n.length;i<s&&(t=n[i](t),t&&!t.type&&dt(14),!!t);i++);return t}finally{ma(r)}}function Is(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function km(e,t){var r=e.changeListeners_||(e.changeListeners_=[]);return r.push(t),o5(function(){var n=r.indexOf(t);n!==-1&&r.splice(n,1)})}function Cs(e,t){var r=Ql(),n=e.changeListeners_;if(n){n=n.slice();for(var i=0,s=n.length;i<s;i++)n[i](t);ma(r)}}var $5="splice",Eo="update",die=1e4,fie={get:function(e,t){var r=e[Ve];return t===Ve?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):wu(z0,t)?z0[t]:e[t]},set:function(e,t,r){var n=e[Ve];return t==="length"&&n.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:n.set_(parseInt(t),r),!0},preventExtensions:function(){dt(15)}},e2=function(){function e(r,n,i,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new xm(r),this.enhancer_=function(o,a){return n(o,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return Cm(this,r)},t.observe_=function(r,n){return n===void 0&&(n=!1),n&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),km(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&dt("Out of range: "+r);var n=this.values_.length;if(r!==n)if(r>n){for(var i=new Array(r-n),s=0;s<r-n;s++)i[s]=void 0;this.spliceWithArray_(n,0,i)}else this.spliceWithArray_(r,n-r)},t.updateArrayLength_=function(r,n){r!==this.lastKnownLength_&&dt(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&sF(r+n+1)},t.spliceWithArray_=function(r,n,i){var s=this;this.atom_;var o=this.values_.length;if(r===void 0?r=0:r>o?r=o:r<0&&(r=Math.max(0,o+r)),arguments.length===1?n=o-r:n==null?n=0:n=Math.max(0,Math.min(n,o-r)),i===void 0&&(i=MT),Di(this)){var a=Li(this,{object:this.proxy_,type:$5,index:r,removedCount:n,added:i});if(!a)return MT;n=a.removedCount,i=a.added}if(i=i.length===0?i:i.map(function(h){return s.enhancer_(h,void 0)}),this.legacyMode_){var u=i.length-n;this.updateArrayLength_(o,u)}var l=this.spliceItemsIntoValues_(r,n,i);return(n!==0||i.length!==0)&&this.notifyArraySplice_(r,i,l),this.dehanceValues_(l)},t.spliceItemsIntoValues_=function(r,n,i){if(i.length<die){var s;return(s=this.values_).splice.apply(s,[r,n].concat(i))}else{var o=this.values_.slice(r,r+n),a=this.values_.slice(r+n);this.values_.length+=i.length-n;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var l=0;l<a.length;l++)this.values_[r+i.length+l]=a[l];return o}},t.notifyArrayChildUpdate_=function(r,n,i){var s=!this.owned_&&Am(),o=Is(this),a=o||s?{observableKind:"array",object:this.proxy_,type:Eo,debugObjectName:this.atom_.name_,index:r,newValue:n,oldValue:i}:null;this.atom_.reportChanged(),o&&Cs(this,a)},t.notifyArraySplice_=function(r,n,i){var s=!this.owned_&&Am(),o=Is(this),a=o||s?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:$5,index:r,removed:i,added:n,removedCount:i.length,addedCount:n.length}:null;this.atom_.reportChanged(),o&&Cs(this,a)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,n){var i=this.values_;if(this.legacyMode_&&r>i.length&&dt(17,r,i.length),r<i.length){this.atom_;var s=i[r];if(Di(this)){var o=Li(this,{type:Eo,object:this.proxy_,index:r,newValue:n});if(!o)return;n=o.newValue}n=this.enhancer_(n,s);var a=n!==s;a&&(i[r]=n,this.notifyArrayChildUpdate_(r,n,s))}else{for(var u=new Array(r+1-i.length),l=0;l<u.length-1;l++)u[l]=void 0;u[u.length-1]=n,this.spliceWithArray_(i.length,0,u)}},e}();function pie(e,t,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),s5(),dd(function(){var i=new e2(r,t,n,!1);u5(i.values_,Ve,i);var s=new Proxy(i.values_,fie);return i.proxy_=s,e&&e.length&&i.spliceWithArray_(0,0,e),s})}var z0={clear:function(){return this.splice(0)},replace:function(e){var t=this[Ve];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var s=this[Ve];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,n)},spliceWithArray:function(e,t,r){return this[Ve].spliceWithArray_(e,t,r)},push:function(){for(var e=this[Ve],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[Ve].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Ve],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return Ee.trackingDerivation&&dt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ee.trackingDerivation&&dt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[Ve],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};It("at",li),It("concat",li),It("flat",li),It("includes",li),It("indexOf",li),It("join",li),It("lastIndexOf",li),It("slice",li),It("toString",li),It("toLocaleString",li),It("toSorted",li),It("toSpliced",li),It("with",li),It("every",ks),It("filter",ks),It("find",ks),It("findIndex",ks),It("findLast",ks),It("findLastIndex",ks),It("flatMap",ks),It("forEach",ks),It("map",ks),It("some",ks),It("toReversed",ks),It("reduce",V5),It("reduceRight",V5);function It(e,t){typeof Array.prototype[e]=="function"&&(z0[e]=t(e))}function li(e){return function(){var t=this[Ve];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_);return r[e].apply(r,arguments)}}function ks(e){return function(t,r){var n=this,i=this[Ve];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[e](function(o,a){return t.call(r,o,a,n)})}}function V5(e){return function(){var t=this,r=this[Ve];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,t)},n[e].apply(n,arguments)}}var mie=Xl("ObservableArrayAdministration",e2);function H0(e){return I0(e)&&mie(e[Ve])}var W5,q5,yie={},xu="add",G0="delete";W5=Symbol.iterator,q5=Symbol.toStringTag;var Z5=function(){function e(r,n,i){var s=this;n===void 0&&(n=od),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Ve]=yie,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,Ts(Map)||dt(18),dd(function(){s.keysAtom_=p5("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var n=this;if(!Ee.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var s=i=new Kl(this.has_(r),k0,"ObservableMap.key?",!1);this.hasMap_.set(r,s),U5(s,function(){return n.hasMap_.delete(r)})}return i.get()},t.set=function(r,n){var i=this.has_(r);if(Di(this)){var s=Li(this,{type:i?Eo:xu,object:this,newValue:n,name:r});if(!s)return this;n=s.newValue}return i?this.updateValue_(r,n):this.addValue_(r,n),this},t.delete=function(r){var n=this;if(this.keysAtom_,Di(this)){var i=Li(this,{type:G0,object:this,name:r});if(!i)return!1}if(this.has_(r)){var s=Am(),o=Is(this),a=o||s?{observableKind:"map",debugObjectName:this.name_,type:G0,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return ya(function(){var u;n.keysAtom_.reportChanged(),(u=n.hasMap_.get(r))==null||u.setNewValue_(!1);var l=n.data_.get(r);l.setNewValue_(void 0),n.data_.delete(r)}),o&&Cs(this,a),!0}return!1},t.updateValue_=function(r,n){var i=this.data_.get(r);if(n=i.prepareNewValue_(n),n!==Ee.UNCHANGED){var s=Am(),o=Is(this),a=o||s?{observableKind:"map",debugObjectName:this.name_,type:Eo,object:this,oldValue:i.value_,name:r,newValue:n}:null;i.setNewValue_(n),o&&Cs(this,a)}},t.addValue_=function(r,n){var i=this;this.keysAtom_,ya(function(){var u,l=new Kl(n,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,l),n=l.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var s=Am(),o=Is(this),a=o||s?{observableKind:"map",debugObjectName:this.name_,type:xu,object:this,name:r,newValue:n}:null;o&&Cs(this,a)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,n=this.keys();return Mm({next:function(){var i=n.next(),s=i.done,o=i.value;return{done:s,value:s?void 0:r.get(o)}}})},t.entries=function(){var r=this,n=this.keys();return Mm({next:function(){var i=n.next(),s=i.done,o=i.value;return{done:s,value:s?void 0:[o,r.get(o)]}}})},t[W5]=function(){return this.entries()},t.forEach=function(r,n){for(var i=nd(this),s;!(s=i()).done;){var o=s.value,a=o[0],u=o[1];r.call(n,u,a,this)}},t.merge=function(r){var n=this;return Jl(r)&&(r=new Map(r)),ya(function(){bu(r)?$re(r).forEach(function(i){return n.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var s=i[0],o=i[1];return n.set(s,o)}):td(r)?(r.constructor!==Map&&dt(19,r),r.forEach(function(i,s){return n.set(s,i)})):r!=null&&dt(20,r)}),this},t.clear=function(){var r=this;ya(function(){k5(function(){for(var n=nd(r.keys()),i;!(i=n()).done;){var s=i.value;r.delete(s)}})})},t.replace=function(r){var n=this;return ya(function(){for(var i=gie(r),s=new Map,o=!1,a=nd(n.data_.keys()),u;!(u=a()).done;){var l=u.value;if(!i.has(l)){var h=n.delete(l);if(h)o=!0;else{var f=n.data_.get(l);s.set(l,f)}}}for(var p=nd(i.entries()),m;!(m=p()).done;){var y=m.value,v=y[0],w=y[1],_=n.data_.has(v);if(n.set(v,w),n.data_.has(v)){var x=n.data_.get(v);s.set(v,x),_||(o=!0)}}if(!o)if(n.data_.size!==s.size)n.keysAtom_.reportChanged();else for(var E=n.data_.keys(),T=s.keys(),R=E.next(),P=T.next();!R.done;){if(R.value!==P.value){n.keysAtom_.reportChanged();break}R=E.next(),P=T.next()}n.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,n){return km(this,r)},t.intercept_=function(r){return Cm(this,r)},LT(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:q5,get:function(){return"Map"}}]),e}(),Jl=Xl("ObservableMap",Z5);function gie(e){if(td(e)||Jl(e))return e;if(Array.isArray(e))return new Map(e);if(bu(e)){var t=new Map;for(var r in e)t.set(r,e[r]);return t}else return dt(21,e)}var X5,Y5,vie={};X5=Symbol.iterator,Y5=Symbol.toStringTag;var K5=function(){function e(r,n,i){var s=this;n===void 0&&(n=od),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Ve]=vie,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,Ts(Set)||dt(22),this.enhancer_=function(o,a){return n(o,a,i)},dd(function(){s.atom_=p5(s.name_),r&&s.replace(r)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;ya(function(){k5(function(){for(var n=nd(r.data_.values()),i;!(i=n()).done;){var s=i.value;r.delete(s)}})})},t.forEach=function(r,n){for(var i=nd(this),s;!(s=i()).done;){var o=s.value;r.call(n,o,o,this)}},t.add=function(r){var n=this;if(this.atom_,Di(this)){var i=Li(this,{type:xu,object:this,newValue:r});if(!i)return this}if(!this.has(r)){ya(function(){n.data_.add(n.enhancer_(r,void 0)),n.atom_.reportChanged()});var s=!1,o=Is(this),a=o||s?{observableKind:"set",debugObjectName:this.name_,type:xu,object:this,newValue:r}:null;o&&Cs(this,a)}return this},t.delete=function(r){var n=this;if(Di(this)){var i=Li(this,{type:G0,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var s=!1,o=Is(this),a=o||s?{observableKind:"set",debugObjectName:this.name_,type:G0,object:this,oldValue:r}:null;return ya(function(){n.atom_.reportChanged(),n.data_.delete(r)}),o&&Cs(this,a),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,n=Array.from(this.keys()),i=Array.from(this.values());return Mm({next:function(){var s=r;return r+=1,s<i.length?{value:[n[s],i[s]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,n=0,i=Array.from(this.data_.values());return Mm({next:function(){return n<i.length?{value:r.dehanceValue_(i[n++]),done:!1}:{done:!0}}})},t.replace=function(r){var n=this;return hd(r)&&(r=new Set(r)),ya(function(){Array.isArray(r)?(n.clear(),r.forEach(function(i){return n.add(i)})):bm(r)?(n.clear(),r.forEach(function(i){return n.add(i)})):r!=null&&dt("Cannot initialize set from "+r)}),this},t.observe_=function(r,n){return km(this,r)},t.intercept_=function(r){return Cm(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[X5]=function(){return this.values()},LT(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Y5,get:function(){return"Set"}}]),e}(),hd=Xl("ObservableSet",K5),Q5=Object.create(null),J5="remove",eF=function(){function e(r,n,i,s){n===void 0&&(n=new Map),s===void 0&&(s=bne),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new xm("ObservableObject.keys"),this.isPlainObject_=bu(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,n){var i=this.values_.get(r);if(i instanceof ad)return i.set(n),!0;if(Di(this)){var s=Li(this,{type:Eo,object:this.proxy_||this.target_,name:r,newValue:n});if(!s)return null;n=s.newValue}if(n=i.prepareNewValue_(n),n!==Ee.UNCHANGED){var o=Is(this),a=!1,u=o||a?{type:Eo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:n}:null;i.setNewValue_(n),o&&Cs(this,u)}return!0},t.get_=function(r){return Ee.trackingDerivation&&!wu(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,n,i){return i===void 0&&(i=!1),wu(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,n):i?Reflect.set(this.target_,r,n):(this.target_[r]=n,!0):this.extend_(r,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!Ee.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(r);return n||(n=new Kl(r in this.target_,k0,"ObservableObject.key?",!1),this.pendingKeys_.set(r,n)),n.get()},t.make_=function(r,n){if(n===!0&&(n=this.defaultAnnotation_),n!==!1){if(!(r in this.target_)){var i;if((i=this.target_[id])!=null&&i[r])return;dt(1,n.annotationType_,this.name_+"."+r.toString())}for(var s=this.target_;s&&s!==T0;){var o=A0(s,r);if(o){var a=n.make_(this,r,o,s);if(a===0)return;if(a===1)break}s=Object.getPrototypeOf(s)}rF(this,n,r)}},t.extend_=function(r,n,i,s){if(s===void 0&&(s=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,n,s);var o=i.extend_(this,r,n,s);return o&&rF(this,i,r),o},t.defineProperty_=function(r,n,i){i===void 0&&(i=!1),this.keysAtom_;try{Mi();var s=this.delete_(r);if(!s)return s;if(Di(this)){var o=Li(this,{object:this.proxy_||this.target_,name:r,type:xu,newValue:n.value});if(!o)return null;var a=o.newValue;n.value!==a&&(n=rd({},n,{value:a}))}if(i){if(!Reflect.defineProperty(this.target_,r,n))return!1}else wo(this.target_,r,n);this.notifyPropertyAddition_(r,n.value)}finally{Ni()}return!0},t.defineObservableProperty_=function(r,n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{Mi();var o=this.delete_(r);if(!o)return o;if(Di(this)){var a=Li(this,{object:this.proxy_||this.target_,name:r,type:xu,newValue:n});if(!a)return null;n=a.newValue}var u=tF(r),l={configurable:Ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,l))return!1}else wo(this.target_,r,l);var h=new Kl(n,i,"ObservableObject.key",!1);this.values_.set(r,h),this.notifyPropertyAddition_(r,h.value_)}finally{Ni()}return!0},t.defineComputedProperty_=function(r,n,i){i===void 0&&(i=!1),this.keysAtom_;try{Mi();var s=this.delete_(r);if(!s)return s;if(Di(this)){var o=Li(this,{object:this.proxy_||this.target_,name:r,type:xu,newValue:void 0});if(!o)return null}n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=tF(r),u={configurable:Ee.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:a.get,set:a.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else wo(this.target_,r,u);this.values_.set(r,new ad(n)),this.notifyPropertyAddition_(r,void 0)}finally{Ni()}return!0},t.delete_=function(r,n){if(n===void 0&&(n=!1),this.keysAtom_,!wu(this.target_,r))return!0;if(Di(this)){var i=Li(this,{object:this.proxy_||this.target_,name:r,type:J5});if(!i)return null}try{var s,o;Mi();var a=Is(this),u=!1,l=this.values_.get(r),h=void 0;if(!l&&(a||u)){var f;h=(f=A0(this.target_,r))==null?void 0:f.value}if(n){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(l&&(this.values_.delete(r),l instanceof Kl&&(h=l.value_),N5(l)),this.keysAtom_.reportChanged(),(s=this.pendingKeys_)==null||(o=s.get(r))==null||o.set(r in this.target_),a||u){var p={type:J5,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:h,name:r};a&&Cs(this,p)}}finally{Ni()}return!0},t.observe_=function(r,n){return km(this,r)},t.intercept_=function(r){return Cm(this,r)},t.notifyPropertyAddition_=function(r,n){var i,s,o=Is(this),a=!1;if(o||a){var u=o||a?{type:xu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:n}:null;o&&Cs(this,u)}(i=this.pendingKeys_)==null||(s=i.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),DT(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Om(e,t){var r;if(wu(e,Ve))return e;var n=(r=t==null?void 0:t.name)!=null?r:"ObservableObject",i=new eF(e,new Map,String(n),Pne(t));return NT(e,Ve,i),e}var _ie=Xl("ObservableObjectAdministration",eF);function tF(e){return Q5[e]||(Q5[e]={get:function(){return this[Ve].getObservablePropValue_(e)},set:function(t){return this[Ve].setObservablePropValue_(e,t)}})}function Pm(e){return I0(e)?_ie(e[Ve]):!1}function rF(e,t,r){var n;(n=e.target_[id])==null||delete n[r]}var bie=iF(0),wie=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),t2=0,nF=function(){};function xie(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}xie(nF,Array.prototype);var r2=function(e,t,r){d5(n,e);function n(s,o,a,u){var l;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),l=e.call(this)||this,dd(function(){var h=new e2(a,o,u,!0);h.proxy_=FT(l),u5(FT(l),Ve,h),s&&s.length&&l.spliceWithArray(0,0,s),wie&&Object.defineProperty(FT(l),"0",bie)}),l}var i=n.prototype;return i.concat=function(){this[Ve].atom_.reportObserved();for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),o.map(function(u){return H0(u)?u.slice():u}))},i[r]=function(){var s=this,o=0;return Mm({next:function(){return o<s.length?{value:s[o++],done:!1}:{done:!0,value:void 0}}})},LT(n,[{key:"length",get:function(){return this[Ve].getArrayLength_()},set:function(s){this[Ve].setArrayLength_(s)}},{key:t,get:function(){return"Array"}}]),n}(nF,Symbol.toStringTag,Symbol.iterator);Object.entries(z0).forEach(function(e){var t=e[0],r=e[1];t!=="concat"&&NT(r2.prototype,t,r)});function iF(e){return{enumerable:!1,configurable:!0,get:function(){return this[Ve].get_(e)},set:function(t){this[Ve].set_(e,t)}}}function Eie(e){wo(r2.prototype,""+e,iF(e))}function sF(e){if(e>t2){for(var t=t2;t<e+100;t++)Eie(t);t2=e}}sF(1e3);function Sie(e,t,r){return new r2(e,t,r)}function Rm(e,t){if(typeof e=="object"&&e!==null){if(H0(e))return t!==void 0&&dt(23),e[Ve].atom_;if(hd(e))return e.atom_;if(Jl(e)){if(t===void 0)return e.keysAtom_;var r=e.data_.get(t)||e.hasMap_.get(t);return r||dt(25,t,n2(e)),r}if(Pm(e)){if(!t)return dt(26);var n=e[Ve].values_.get(t);return n||dt(27,t,n2(e)),n}if(UT(e)||D0(e)||U0(e))return e}else if(Ts(e)&&U0(e[Ve]))return e[Ve];dt(28)}function oF(e,t){if(e||dt(29),t!==void 0)return oF(Rm(e,t));if(UT(e)||D0(e)||U0(e)||Jl(e)||hd(e))return e;if(e[Ve])return e[Ve];dt(24,e)}function n2(e,t){var r;if(t!==void 0)r=Rm(e,t);else{if(j0(e))return e.name;Pm(e)||Jl(e)||hd(e)?r=oF(e):r=Rm(e)}return r.name_}function dd(e){var t=Ql(),r=GT(!0);Mi();try{return e()}finally{Ni(),$T(r),ma(t)}}var aF=T0.toString;function i2(e,t,r){return r===void 0&&(r=-1),s2(e,t,r)}function s2(e,t,r,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var o=aF.call(e);if(o!==aF.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":r>=0&&r++;break}e=uF(e),t=uF(t);var a=o==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(Ts(u)&&u instanceof u&&Ts(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var h=n.length;h--;)if(n[h]===e)return i[h]===t;if(n.push(e),i.push(t),a){if(h=e.length,h!==t.length)return!1;for(;h--;)if(!s2(e[h],t[h],r-1,n,i))return!1}else{var f=Object.keys(e),p;if(h=f.length,Object.keys(t).length!==h)return!1;for(;h--;)if(p=f[h],!(wu(t,p)&&s2(e[p],t[p],r-1,n,i)))return!1}return n.pop(),i.pop(),!0}function uF(e){return H0(e)?e.slice():td(e)||Jl(e)||bm(e)||hd(e)?Array.from(e.entries()):e}function Mm(e){return e[Symbol.iterator]=Aie,e}function Aie(){return this}["Symbol","Map","Set"].forEach(function(e){var t=r5();typeof t[e]>"u"&&dt("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Zne,extras:{getDebugName:n2},$mobx:Ve});var o2=function(e,t){return o2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},o2(e,t)};function Nm(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Tie(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(f){o(f)}}function u(h){try{l(n.throw(h))}catch(f){o(f)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((n=n.apply(e,t||[])).next())})}function lF(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return u([l,h])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function fd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dm(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Lm(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function pd(e){return this instanceof pd?(this.v=e,this):new pd(e)}function Iie(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(y,v){s.push([p,m,y,v])>1||a(p,m)})})}function a(p,m){try{u(n[p](m))}catch(y){f(s[0][3],y)}}function u(p){p.value instanceof pd?Promise.resolve(p.value.v).then(l,h):f(s[0][2],p)}function l(p){a("next",p)}function h(p){a("throw",p)}function f(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Cie(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof fd=="function"?fd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function dr(e){return typeof e=="function"}function cF(e){var t=function(n){Error.call(n),n.stack=new Error().stack},r=e(t);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var a2=cF(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function u2(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var $0=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=fd(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(v){t={error:v}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}else o.remove(this);var h=this.initialTeardown;if(dr(h))try{h()}catch(v){s=v instanceof a2?v.errors:[v]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=fd(f),m=p.next();!m.done;m=p.next()){var y=m.value;try{fF(y)}catch(v){s=s??[],v instanceof a2?s=Lm(Lm([],Dm(s)),Dm(v.errors)):s.push(v)}}}catch(v){n={error:v}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(s)throw new a2(s)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)fF(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}},e.prototype._hasParent=function(t){var r=this._parentage;return r===t||Array.isArray(r)&&r.includes(t)},e.prototype._addParent=function(t){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t},e.prototype._removeParent=function(t){var r=this._parentage;r===t?this._parentage=null:Array.isArray(r)&&u2(r,t)},e.prototype.remove=function(t){var r=this._finalizers;r&&u2(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),hF=$0.EMPTY;function dF(e){return e instanceof $0||e&&"closed"in e&&dr(e.remove)&&dr(e.add)&&dr(e.unsubscribe)}function fF(e){dr(e)?e():e.unsubscribe()}var pF={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l2={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=l2.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Lm([e,t],Dm(r))):setTimeout.apply(void 0,Lm([e,t],Dm(r)))},clearTimeout:function(e){var t=l2.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function mF(e){l2.setTimeout(function(){throw e})}function yF(){}function V0(e){e()}var c2=function(e){Nm(t,e);function t(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,dF(r)&&r.add(n)):n.destination=Rie,n}return t.create=function(r,n,i){return new W0(r,n,i)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}($0),kie=Function.prototype.bind;function h2(e,t){return kie.call(e,t)}var Oie=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var r=this.partialObserver;if(r.next)try{r.next(t)}catch(n){q0(n)}},e.prototype.error=function(t){var r=this.partialObserver;if(r.error)try{r.error(t)}catch(n){q0(n)}else q0(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(r){q0(r)}},e}(),W0=function(e){Nm(t,e);function t(r,n,i){var s=e.call(this)||this,o;if(dr(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&pF.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&h2(r.next,a),error:r.error&&h2(r.error,a),complete:r.complete&&h2(r.complete,a)}):o=r}return s.destination=new Oie(o),s}return t}(c2);function q0(e){mF(e)}function Pie(e){throw e}var Rie={closed:!0,next:yF,error:Pie,complete:yF},d2=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function gF(e){return e}function vF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _F(e)}function _F(e){return e.length===0?gF:e.length===1?e[0]:function(t){return e.reduce(function(r,n){return n(r)},t)}}var Bi=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(t,r,n){var i=this,s=Nie(t)?t:new W0(t,r,n);return V0(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(r){t.error(r)}},e.prototype.forEach=function(t,r){var n=this;return r=bF(r),new r(function(i,s){var o=new W0({next:function(a){try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},e.prototype._subscribe=function(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)},e.prototype[d2]=function(){return this},e.prototype.pipe=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return _F(t)(this)},e.prototype.toPromise=function(t){var r=this;return t=bF(t),new t(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},e.create=function(t){return new e(t)},e}();function bF(e){var t;return(t=e??pF.Promise)!==null&&t!==void 0?t:Promise}function Mie(e){return e&&dr(e.next)&&dr(e.error)&&dr(e.complete)}function Nie(e){return e&&e instanceof c2||Mie(e)&&dF(e)}function Die(e){return dr(e==null?void 0:e.lift)}function ec(e){return function(t){if(Die(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function md(e,t,r,n,i){return new Lie(e,t,r,n,i)}var Lie=function(e){Nm(t,e);function t(r,n,i,s,o,a){var u=e.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(l){try{n(l)}catch(h){r.error(h)}}:e.prototype._next,u._error=s?function(l){try{s(l)}catch(h){r.error(h)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},t}(c2),Bie=cF(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Z0=function(e){Nm(t,e);function t(){var r=e.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return t.prototype.lift=function(r){var n=new wF(this,this);return n.operator=r,n},t.prototype._throwIfClosed=function(){if(this.closed)throw new Bie},t.prototype.next=function(r){var n=this;V0(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=fd(n.currentObservers),a=o.next();!a.done;a=o.next()){var u=a.value;u.next(r)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},t.prototype.error=function(r){var n=this;V0(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},t.prototype.complete=function(){var r=this;V0(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(r){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,r)},t.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},t.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?hF:(this.currentObservers=null,a.push(r),new $0(function(){n.currentObservers=null,u2(a,r)}))},t.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},t.prototype.asObservable=function(){var r=new Bi;return r.source=this,r},t.create=function(r,n){return new wF(r,n)},t}(Bi),wF=function(e){Nm(t,e);function t(r,n){var i=e.call(this)||this;return i.destination=r,i.source=n,i}return t.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},t.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},t.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},t.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:hF},t}(Z0),xF=new Bi(function(e){return e.complete()});function Fie(e){return e&&dr(e.schedule)}function EF(e){return e[e.length-1]}function f2(e){return Fie(EF(e))?e.pop():void 0}function Uie(e,t){return typeof EF(e)=="number"?e.pop():t}var SF=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function AF(e){return dr(e==null?void 0:e.then)}function TF(e){return dr(e[d2])}function IF(e){return Symbol.asyncIterator&&dr(e==null?void 0:e[Symbol.asyncIterator])}function CF(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function jie(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kF=jie();function OF(e){return dr(e==null?void 0:e[kF])}function PF(e){return Iie(this,arguments,function(){var t,r,n,i;return lF(this,function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,pd(t.read())];case 3:return r=s.sent(),n=r.value,i=r.done,i?[4,pd(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,pd(n)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function RF(e){return dr(e==null?void 0:e.getReader)}function yd(e){if(e instanceof Bi)return e;if(e!=null){if(TF(e))return zie(e);if(SF(e))return Hie(e);if(AF(e))return Gie(e);if(IF(e))return MF(e);if(OF(e))return $ie(e);if(RF(e))return Vie(e)}throw CF(e)}function zie(e){return new Bi(function(t){var r=e[d2]();if(dr(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Hie(e){return new Bi(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function Gie(e){return new Bi(function(t){e.then(function(r){t.closed||(t.next(r),t.complete())},function(r){return t.error(r)}).then(null,mF)})}function $ie(e){return new Bi(function(t){var r,n;try{for(var i=fd(e),s=i.next();!s.done;s=i.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function MF(e){return new Bi(function(t){Wie(e,t).catch(function(r){return t.error(r)})})}function Vie(e){return MF(PF(e))}function Wie(e,t){var r,n,i,s;return Tie(this,void 0,void 0,function(){var o,a;return lF(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=Cie(e),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Eu(e,t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!i)return s}function NF(e,t){return t===void 0&&(t=0),ec(function(r,n){r.subscribe(md(n,function(i){return Eu(n,e,function(){return n.next(i)},t)},function(){return Eu(n,e,function(){return n.complete()},t)},function(i){return Eu(n,e,function(){return n.error(i)},t)}))})}function DF(e,t){return t===void 0&&(t=0),ec(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function qie(e,t){return yd(e).pipe(DF(t),NF(t))}function Zie(e,t){return yd(e).pipe(DF(t),NF(t))}function Xie(e,t){return new Bi(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function Yie(e,t){return new Bi(function(r){var n;return Eu(r,t,function(){n=e[kF](),Eu(r,t,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return dr(n==null?void 0:n.return)&&n.return()}})}function LF(e,t){if(!e)throw new Error("Iterable cannot be null");return new Bi(function(r){Eu(r,t,function(){var n=e[Symbol.asyncIterator]();Eu(r,t,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function Kie(e,t){return LF(PF(e),t)}function Qie(e,t){if(e!=null){if(TF(e))return qie(e,t);if(SF(e))return Xie(e,t);if(AF(e))return Zie(e,t);if(IF(e))return LF(e,t);if(OF(e))return Yie(e,t);if(RF(e))return Kie(e,t)}throw CF(e)}function Bm(e,t){return t?Qie(e,t):yd(e)}function Jie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=f2(e);return Bm(e,r)}function X0(e,t){return ec(function(r,n){var i=0;r.subscribe(md(n,function(s){n.next(e.call(t,s,i++))}))})}function ese(e,t,r,n,i,s,o,a){var u=[],l=0,h=0,f=!1,p=function(){f&&!u.length&&!l&&t.complete()},m=function(v){return l<n?y(v):u.push(v)},y=function(v){s&&t.next(v),l++;var w=!1;yd(r(v,h++)).subscribe(md(t,function(_){i==null||i(_),s?m(_):t.next(_)},function(){w=!0},void 0,function(){if(w)try{l--;for(var _=function(){var x=u.shift();o?Eu(t,o,function(){return y(x)}):y(x)};u.length&&l<n;)_();p()}catch(x){t.error(x)}}))};return e.subscribe(md(t,m,function(){f=!0,p()})),function(){a==null||a()}}function Y0(e,t,r){return r===void 0&&(r=1/0),dr(t)?Y0(function(n,i){return X0(function(s,o){return t(n,s,i,o)})(yd(e(n,i)))},r):(typeof t=="number"&&(r=t),ec(function(n,i){return ese(n,i,e,r)}))}function BF(e){return e===void 0&&(e=1/0),Y0(gF,e)}function tse(){return BF(1)}function rse(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tse()(Bm(e,f2(e)))}function nse(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=f2(e),n=Uie(e,1/0),i=e;return i.length?i.length===1?yd(i[0]):BF(n)(Bm(i,r)):xF}function FF(e,t){return ec(function(r,n){var i=0;r.subscribe(md(n,function(s){return e.call(t,s,i++)&&n.next(s)}))})}function ise(e,t){return dr(t)?Y0(e,t,1):Y0(e,1)}function sse(e){return e<=0?function(){return xF}:ec(function(t,r){var n=0;t.subscribe(md(r,function(i){++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function ose(e){e===void 0&&(e={});var t=e.connector,r=t===void 0?function(){return new Z0}:t,n=e.resetOnError,i=n===void 0?!0:n,s=e.resetOnComplete,o=s===void 0?!0:s,a=e.resetOnRefCountZero,u=a===void 0?!0:a;return function(l){var h=null,f=null,p=null,m=0,y=!1,v=!1,w=function(){f==null||f.unsubscribe(),f=null},_=function(){w(),h=p=null,y=v=!1},x=function(){var E=h;_(),E==null||E.unsubscribe()};return ec(function(E,T){m++,!v&&!y&&w();var R=p=p??r();T.add(function(){m--,m===0&&!v&&!y&&(f=p2(x,u))}),R.subscribe(T),h||(h=new W0({next:function(P){return R.next(P)},error:function(P){v=!0,w(),f=p2(_,i,P),R.error(P)},complete:function(){y=!0,w(),f=p2(_,o),R.complete()}}),Bm(E).subscribe(h))})(l)}}function p2(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return t===!0?(e(),null):t===!1?null:t.apply(void 0,Lm([],Dm(r))).pipe(sse(1)).subscribe(function(){return e()})}function ase(e,t){let r={};for(let n in e)r[n]=t(e[n],n);return r}function use(){return vF(FF(e=>e!=null))}var lse=function(){let e=cse,t=hse;return t(e(32),8)+"-"+t(e(16),4)+"-"+t(16384|e(12),4)+"-"+t(32768|e(14),4)+"-"+t(e(48),12)},cse=function(e){if(e<0||e>53)return NaN;let t=0|Math.random()*1073741824;return e>30?t+(0|Math.random()*(1<<e-30))*1073741824:t>>>30-e},hse=function(e,t){let r=e.toString(16),n=t-r.length,i="0";for(;n>0;n>>>=1,i+=i)n&1&&(r=i+r);return r};function dse(e){return{...e,[Symbol.iterator](){return this}}}function m2(e,t){return dse({next(){let{done:r,value:n}=e.next();return{done:r,value:r?n:t(n)}}})}function fse(e){if(e<2)throw new Error("Minimum size is 2");if(e>64)throw new Error("Maximum size is 64");let t=2**(e-1)-1,r=-t-1;return n=>{if(n=n<<0,n>t||n<r)throw console.log("value",n,t,r,n>t,n<r),new Error(`Int${e} overflow`);return n<0?2**e+n:n}}fse(32);var En=(e=>(e[e.Boolean=0]="Boolean",e[e.Number=1]="Number",e[e.OptionalNumber=2]="OptionalNumber",e[e.BigInt=3]="BigInt",e[e.OptionalBigInt=4]="OptionalBigInt",e[e.String=5]="String",e[e.OptionalString=6]="OptionalString",e[e.NumberArray=7]="NumberArray",e[e.OptionalNumberArray=8]="OptionalNumberArray",e[e.BigIntArray=9]="BigIntArray",e[e.OptionalBigIntArray=10]="OptionalBigIntArray",e[e.StringArray=11]="StringArray",e[e.OptionalStringArray=12]="OptionalStringArray",e[e.Entity=13]="Entity",e[e.OptionalEntity=14]="OptionalEntity",e[e.EntityArray=15]="EntityArray",e[e.OptionalEntityArray=16]="OptionalEntityArray",e[e.T=17]="T",e[e.OptionalT=18]="OptionalT",e[e.Schema=19]="Schema",e))(En||{}),pse=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e[e.Update=2]="Update",e[e.Noop=3]="Noop",e))(pse||{}),UF=[14,16,2,8,4,10,6,12,18];function mse(e){let t=new Map;function r(a){let u=t.get(n(a));return u?new Set([...u].map(K0)):new Set}function n(a){return Object.values(a).join("/")}function i(a,u){if(!u)return;let l=n(u),h=t.get(l);h||(h=new Set,t.set(l,h)),h.add(a)}function s(a,u){if(!u)return;let l=n(u),h=t.get(l);h&&h.delete(a)}for(let a of _2(e)){let u=Os(e,a);i(ci(a),u)}let o=e.update$.subscribe(({entity:a,value:u})=>{s(ci(a),u[1]),i(ci(a),u[0])});return e.world.registerDisposer(()=>o==null?void 0:o.unsubscribe()),{...e,getEntitiesWithValue:r}}function yse(e,t){let r=Os(t,e);return{entity:e,component:t,value:[r,void 0],type:r==null?3:0}}function gse(e){return vF(X0(t=>yse(t,e)))}function vse(e){return"getEntitiesWithValue"in e}function _se(e,t){return Object.keys(e.schema).every(r=>r in t)}function bse(e){var t,r,n,i;return((t=e.metadata)==null?void 0:t.componentName)??((r=e.metadata)==null?void 0:r.tableName)??((n=e.metadata)==null?void 0:n.tableId)??((i=e.metadata)==null?void 0:i.contractId)??e.id}function y2(e,t,r){if(Object.keys(t).length===0)throw new Error("Component schema must have at least one key");let n=(r==null?void 0:r.id)??lse(),i=ase(t,()=>new Map),s=new Z0,o=r==null?void 0:r.metadata,a={values:i,schema:t,id:n,update$:s,metadata:o,entities:()=>m2(Object.values(i)[0].keys(),K0),world:e};return r!=null&&r.indexed&&(a=mse(a)),e.registerComponent(a),a}function wse(e,t,r,n={}){var o;let i=ci(t),s=Os(e,t);for(let[a,u]of Object.entries(r))e.values[a]?e.values[a].set(i,u):(o=e.metadata)!=null&&o.tableId&&/^\d+$/.test(a)||console.warn("Component definition for",bse(e),"is missing key",a,", ignoring value",u,"for entity",t,". Existing keys: ",Object.keys(e.values));n.skipUpdateStream||e.update$.next({entity:t,value:[r,s],component:e})}function xse(e,t,r={}){let n=ci(t),i=Os(e,t);for(let s of Object.keys(e.values))e.values[s].delete(n);r.skipUpdateStream||e.update$.next({entity:t,value:[void 0,i],component:e})}function g2(e,t){let r=ci(t);return Object.values(e.values)[0].has(r)}function Os(e,t){function r(o,a,u){let l={},h=Object.keys(o);for(let f of h){let p=u[f];if(typeof p=="object"){let m=r(o[f],a,p);if(m===void 0)return;l[f]=m}else{if(p===void 0&&!UF.includes(o[f]))return;l[f]=p}}return l}let n={},i=ci(t),s=Object.keys(e.schema);for(let o of s){let a=e.values[o].get(i);if(typeof a=="object"){let u=r(e.schema[o],i,a);if(u===void 0)return;n[o]=u}else{if(a===void 0&&!UF.includes(e.schema[o]))return;n[o]=a}}return n}function v2(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;let r=!0;for(let n of Object.keys(e))if(r=e[n]===t[n],!r)return!1;return r}function jF(e,t){if(vse(e)&&_se(e,t))return e.getEntitiesWithValue(t);let r=new Set;for(let n of _2(e)){let i=Os(e,n);v2(t,i)&&r.add(n)}return r}function _2(e){return e.entities()}function Ese(e){let t=0,r=new Map,n=new Map,i=new Z0;function s(m,y){r.set(m,{update:y,nonce:t++}),p(y.entity,y.value)}function o(m){var w;let y=(w=r.get(m))==null?void 0:w.update.entity;if(r.delete(m),y==null)return;let v=[...r.values()].filter(_=>_.update.entity===y).sort((_,x)=>_.nonce<x.nonce?-1:1);if(v.length>0){let _=v[v.length-1];p(y,_.update.value)}else p(y,void 0)}function a(m){let y=Os(e,m),v=ci(m),w=n.get(v);return(y||w)&&w!==null?{...y,...w}:void 0}let u=m=>({get(y,v){return v==="get"?w=>{let _=y.get(w),x=n.get(w);return x&&x[m]!=null?x[m]:_}:v==="has"?w=>y.has(w)||n.has(w):v==="keys"?()=>new Set([...y.keys(),...n.keys()]).values():Reflect.get(y,v,y)}}),l={};for(let m of Object.keys(e.values))l[m]=new Proxy(e.values[m],u(m));let h=l,f=new Proxy(e,{get(m,y){return y==="addOverride"?s:y==="removeOverride"?o:y==="values"?h:y==="update$"?i:y==="entities"?()=>new Set([...m2(n.keys(),K0),...m.entities()]).values():Reflect.get(m,y)},has(m,y){return y==="addOverride"||y==="removeOverride"?!0:y in m}});function p(m,y){let v=ci(m),w=a(m);y!==void 0?n.set(v,y):n.delete(v),i.next({entity:m,value:[a(m),w],component:f})}return e.update$.pipe(FF(m=>!n.get(ci(m.entity))),X0(m=>({...m,component:f}))).subscribe(i),f}function ci(e){return Symbol.for(e)}function K0(e){return Symbol.keyFor(e)}var Sse=(e=>(e[e.Has=0]="Has",e[e.HasValue=1]="HasValue",e[e.Not=2]="Not",e[e.NotValue=3]="NotValue",e[e.ProxyRead=4]="ProxyRead",e[e.ProxyExpand=5]="ProxyExpand",e))(Sse||{});function zF(e){return{type:0,component:e}}function Fm(e,t){if(t.type===0)return g2(t.component,e);if(t.type===1)return v2(t.value,Os(t.component,e));if(t.type===2)return!g2(t.component,e);if(t.type===3)return!v2(t.value,Os(t.component,e));throw new Error("Unknown query fragment")}function Ase(e){return e.type===0||e.type==1}function HF(e){return e.type===2||e.type==3}function Tse(e){return e.type===5||e.type==4}function GF(e,t){return e&&Ase(t)||!e&&HF(t)}function $F(e,t,r){let n=e,i=!1;for(let s=0;s<r.depth;s++){let o=Os(r.component,n);if(!o)return null;let a=o.value;if(!a)return null;if(n=a,i=Fm(n,t),GF(i,t))return i}return i}function b2(e,t,r){if(r===0)return new Set;let n=jF(t,{value:e});if(r===1)return n;let i=[...n].map(s=>[...b2(s,t,r-1)]).flat();return new Set([...n,...i])}function VF(e,t){let r=t?new Set([...t]):void 0,n,i;for(let s=0;s<e.length;s++){let o=e[s];if(Tse(o))o.type===4&&(n=o),o.type===5&&(i=o);else if(r)for(let a of[...r]){let u=Fm(a,o);if(n&&n.depth>0&&!GF(u,o)&&(u=$F(a,o,n)??u),u||r.delete(a),i&&i.depth>0){let l=b2(a,i.component,i.depth);for(let h of l)(Fm(h,o)||n&&n.depth>0&&$F(h,o,n))&&r.add(h)}}else{if(HF(o))throw new Error("First EntityQueryFragment must be Has or HasValue");if(r=o.type===0?new Set([..._2(o.component)]):jF(o.component,o.value),i&&i.depth>0)for(let a of[...r])for(let u of b2(a,i.component,i.depth))r.add(u)}}return r??new Set}function Ise(e,t){let r=t!=null&&t.runOnInit||t!=null&&t.initialSet?VF(e,t.initialSet):new Set,n=Rr(r),i=Bm(n).pipe(gse(e[0].component)),s=e.findIndex(a=>[5,4].includes(a.type))!==-1,o=nse(...e.map(a=>a.component.update$)).pipe(s?ise(a=>{let u=VF(e,t==null?void 0:t.initialSet),l=[];for(let h of n)u.has(h)||(n.delete(h),l.push({entity:h,type:1,component:a.component,value:[void 0,void 0]}));for(let h of u)n.has(h)?l.push({entity:h,type:2,component:a.component,value:[Os(a.component,h),void 0]}):(n.add(h),l.push({entity:h,type:0,component:a.component,value:[Os(a.component,h),void 0]}));return Jie(...l)}):X0(a=>{if(n.has(a.entity))return e.filter(u=>u.component.id===a.component.id).every(u=>Fm(a.entity,u))?{...a,type:2}:(n.delete(a.entity),{...a,type:1});if(e.every(u=>Fm(a.entity,u)))return n.add(a.entity),{...a,type:0}}),use());return{matching:n,update$:rse(i,o).pipe(ose())}}function Cse(e,t,r){let n=t.subscribe(r);e.registerDisposer(()=>n==null?void 0:n.unsubscribe())}function WF(e,t,r,n={runOnInit:!0}){Cse(e,Ise(t,n).update$,r)}function kse(){let e=new Set,t=[],r=[];function n({id:h,idSuffix:f}={}){let p=h||e.size+(f?"-"+f:""),m=ci(p);return e.add(m),p}function i(){return m2(e.values(),K0)}function s(h){t.push(h)}function o(h){for(let[,f]of r.filter(p=>!h||p[0]===h))f();r=r.filter(f=>h&&f[0]!==h)}function a(h,f=""){r.push([f,h])}function u(h){let f=ci(h);return e.has(f)}function l(h){for(let f of t)g2(f,h)&&xse(f,h);e.delete(ci(h))}return{registerEntity:n,components:t,registerComponent:s,dispose:o,registerDisposer:a,hasEntity:u,getEntities:i,entitySymbols:e,deleteEntity:l}}const Ose=({networkLayer:e})=>{if(e==null)return null;const{systemCalls:t,world:r,account:n,components:{Player:i,EntityLifeStatus:s}}=e,{spawn:o,move:a}=t,[u,l]=Ie.useState(void 0),[h,f]=Ie.useState({}),[p,m]=Ie.useState({}),[y,v]=Ie.useState(),[w,_]=Ie.useState({x:0,y:0}),[x,E]=Ie.useState();function T(P){return"0x"+P.toString(16)==n.address}Ie.useEffect(()=>{if(y===void 0)return;const P=vm(y.x,y.y),k={x:P.x,y:P.y-m0};_(k)},[y]),Ie.useEffect(()=>{o(n),WF(r,[zF(i)],function({value:[P]}){f(k=>({...k,[P.id]:P})),T(P.id)&&v(P)}),WF(r,[zF(s)],function({value:[P]}){console.log(P),m(k=>({...k,[P.id]:P}))})},[]);function R(P){const k=wT({x:P.nativeEvent.offsetX-p0/2+w.x,y:P.nativeEvent.offsetY-m0+18+w.y}),M=Math.round(k.x),V=Math.round(k.y);return{x:M,y:V}}return Qr.jsx("div",{style:{position:"relative"},children:Qr.jsx(d0.Stage,{width:p0,height:L4,onPointerMove:P=>{E(P);const k=R(P);(u===void 0||!yte(u,k))&&l(k)},onPointerDown:P=>{const k=R(P);k.x<0||k.x>=50||k.y<0||k.y>=50||a(n,k.x,k.y)},children:Qr.jsxs(d0.Container,{sortableChildren:!0,x:-w.x,y:-w.y,children:[Qr.jsx(Fre,{hoveredTile:u,cameraOffset:w}),Object.values(h).map(P=>Qr.jsx(jre,{lifeStatus:p[P.id],type:"knight",position:{x:P.x,y:P.y}},P.id))]})})})},qF=e=>{let t;const r=new Set,n=(o,a)=>{const u=typeof o=="function"?o(t):o;if(!Object.is(u,t)){const l=t;t=a??(typeof u!="object"||u===null)?u:Object.assign({},t,u),r.forEach(h=>h(t,l))}},i=()=>t,s={setState:n,getState:i,subscribe:o=>(r.add(o),()=>r.delete(o)),destroy:()=>{r.clear()}};return t=e(n,i,s),s},Pse=e=>e?qF(e):qF;var ZF={exports:{}},XF={},YF={exports:{}},KF={},gd=Ie;function Rse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mse=typeof Object.is=="function"?Object.is:Rse,Nse=gd.useState,Dse=gd.useEffect,Lse=gd.useLayoutEffect,Bse=gd.useDebugValue;function Fse(e,t){var r=t(),n=Nse({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return Lse(function(){i.value=r,i.getSnapshot=t,w2(i)&&s({inst:i})},[e,r,t]),Dse(function(){return w2(i)&&s({inst:i}),e(function(){w2(i)&&s({inst:i})})},[e]),Bse(r),r}function w2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mse(e,r)}catch{return!0}}function Use(e,t){return t()}var jse=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Use:Fse;KF.useSyncExternalStore=gd.useSyncExternalStore!==void 0?gd.useSyncExternalStore:jse,YF.exports=KF;var QF=YF.exports,Q0=Ie,zse=QF;function Hse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gse=typeof Object.is=="function"?Object.is:Hse,$se=zse.useSyncExternalStore,Vse=Q0.useRef,Wse=Q0.useEffect,qse=Q0.useMemo,Zse=Q0.useDebugValue;XF.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=Vse(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=qse(function(){function u(m){if(!l){if(l=!0,h=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return f=y}return f=m}if(y=f,Gse(h,m))return y;var v=n(m);return i!==void 0&&i(y,v)?y:(h=m,f=v)}var l=!1,h,f,p=r===void 0?null:r;return[function(){return u(t())},p===null?void 0:function(){return u(p())}]},[t,r,n,i]);var a=$se(e,s[0],s[1]);return Wse(function(){o.hasValue=!0,o.value=a},[a]),Zse(a),a},ZF.exports=XF;var Xse=ZF.exports;const Yse=nr(Xse),{useDebugValue:Kse}=eo,{useSyncExternalStoreWithSelector:Qse}=Yse;function Jse(e,t=e.getState,r){const n=Qse(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return Kse(n),n}const JF=e=>{const t=typeof e=="function"?Pse(e):e,r=(n,i)=>Jse(t,n,i);return Object.assign(r,t),r},eU=e=>e?JF(e):JF,eoe=eU(()=>({networkLayer:null}));eU(e=>({loggedIn:!1,setLoggedIn:()=>e(()=>({loggedIn:!0}))}));const x2=kse();function toe({contractComponents:e}){return{...e,Player:Ese(e.Player)}}function roe({execute:e}){return{spawn:async t=>{try{await e(t,"plaguestark::actions::actions","spawn",[])}catch(r){console.error(r)}},move:async(t,r,n)=>{try{await e(t,"plaguestark::actions::actions","move",[r,n])}catch(i){console.error(i)}}}}function noe(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function ioe(...e){const t=s=>s,r=(s,o)=>a=>s(o(a)),n=e.map(s=>s.encode).reduceRight(r,t),i=e.map(s=>s.decode).reduce(r,t);return{encode:n,decode:i}}function soe(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})}}}function ooe(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function aoe(e,t="="){if(typeof t!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}const tU=(e,t)=>t?tU(t,e%t):e,J0=(e,t)=>e+(t-tU(e,t));function rU(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(J0(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${J0(t,r)}`);let i=0,s=0;const o=2**r-1,a=[];for(const u of e){if(u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(i=i<<t|u,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)a.push((i>>s-r&o)>>>0);i&=2**s-1}if(i=i<<r-s&o,!n&&s>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&a.push(i>>>0),a}function uoe(e,t=!1){if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(J0(8,e)>32||J0(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!noe(r))throw new Error("radix2.encode input should be Uint8Array");return rU(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(rU(r,e,8,t))}}}const nU=ioe(uoe(6),soe("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),aoe(6),ooe("")),iU=BigInt(0),eb=BigInt(1),loe=BigInt(2),tb=e=>e instanceof Uint8Array,coe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vd(e){if(!tb(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=coe[e[r]];return t}function sU(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function E2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Su(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const i=n*2,s=e.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function _d(e){return E2(vd(e))}function oU(e){if(!tb(e))throw new Error("Uint8Array expected");return E2(vd(Uint8Array.from(e).reverse()))}function Um(e,t){return Su(e.toString(16).padStart(t*2,"0"))}function aU(e,t){return Um(e,t).reverse()}function hoe(e){return Su(sU(e))}function Ps(e,t,r){let n;if(typeof t=="string")try{n=Su(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(tb(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function jm(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!tb(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function doe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function foe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function poe(e){let t;for(t=0;e>iU;e>>=eb,t+=1);return t}function moe(e,t){return e>>BigInt(t)&eb}const yoe=(e,t,r)=>e|(r?eb:iU)<<BigInt(t),uU=e=>(loe<<BigInt(e-1))-eb,S2=e=>new Uint8Array(e),lU=e=>Uint8Array.from(e);function cU(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=S2(e),i=S2(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),u=(h=S2())=>{i=a(lU([0]),h),n=a(),h.length!==0&&(i=a(lU([1]),h),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<t;){n=a();const p=n.slice();f.push(p),h+=n.length}return jm(...f)};return(h,f)=>{o(),u(h);let p;for(;!(p=f(l()));)u();return o(),p}}const goe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function zm(e,t,r={}){const n=(i,s,o)=>{const a=goe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(o&&u===void 0)&&!a(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const voe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:moe,bitLen:poe,bitMask:uU,bitSet:yoe,bytesToHex:vd,bytesToNumberBE:_d,bytesToNumberLE:oU,concatBytes:jm,createHmacDrbg:cU,ensureBytes:Ps,equalBytes:doe,hexToBytes:Su,hexToNumber:E2,numberToBytesBE:Um,numberToBytesLE:aU,numberToHexUnpadded:sU,numberToVarBytesBE:hoe,utf8ToBytes:foe,validateObject:zm},Symbol.toStringTag,{value:"Module"}));function hU(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function _oe(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function dU(e,...t){if(!_oe(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function rb(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function fU(e,t){dU(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const nb=BigInt(2**32-1),pU=BigInt(32);function boe(e,t=!1){return t?{h:Number(e&nb),l:Number(e>>pU&nb)}:{h:Number(e>>pU&nb)|0,l:Number(e&nb)|0}}function woe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=boe(e[i],t);[r[i],n[i]]=[s,o]}return[r,n]}const xoe=(e,t,r)=>e<<r|t>>>32-r,Eoe=(e,t,r)=>t<<r|e>>>32-r,Soe=(e,t,r)=>t<<r-32|e>>>64-r,Aoe=(e,t,r)=>e<<r-32|t>>>64-r,Toe=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function Ioe(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}const A2=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),So=(e,t)=>e<<32-t|e>>>t;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function T2(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function I2(e){if(typeof e=="string"&&(e=T2(e)),!Ioe(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}let mU=class{clone(){return this._cloneInto()}};function yU(e){const t=n=>e().update(I2(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const[gU,vU,_U]=[[],[],[]],Coe=BigInt(0),Hm=BigInt(1),koe=BigInt(2),Ooe=BigInt(7),Poe=BigInt(256),Roe=BigInt(113);for(let e=0,t=Hm,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],gU.push(2*(5*n+r)),vU.push((e+1)*(e+2)/2%64);let i=Coe;for(let s=0;s<7;s++)t=(t<<Hm^(t>>Ooe)*Roe)%Poe,t&koe&&(i^=Hm<<(Hm<<BigInt(s))-Hm);_U.push(i)}const[Moe,Noe]=woe(_U,!0),bU=(e,t,r)=>r>32?Soe(e,t,r):xoe(e,t,r),wU=(e,t,r)=>r>32?Aoe(e,t,r):Eoe(e,t,r);function Doe(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let o=0;o<10;o++)r[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,l=r[u],h=r[u+1],f=bU(l,h,1)^r[a],p=wU(l,h,1)^r[a+1];for(let m=0;m<50;m+=10)e[o+m]^=f,e[o+m+1]^=p}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=vU[o],u=bU(i,s,a),l=wU(i,s,a),h=gU[o];i=e[h],s=e[h+1],e[h]=u,e[h+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Moe[n],e[1]^=Noe[n]}r.fill(0)}class C2 extends mU{constructor(t,r,n,i=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hU(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Toe(this.state)}keccak(){Doe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){rb(this);const{blockLen:r,state:n}=this;t=I2(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=t[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){rb(this,!1),dU(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=t.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);t.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return hU(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(fU(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new C2(r,n,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Loe=(e,t,r)=>yU(()=>new C2(t,e,r)),Boe=Loe(1,136,256/8);function Foe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;e.setUint32(t+u,o,n),e.setUint32(t+l,a,n)}class Uoe extends mU{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=A2(this.buffer)}update(t){rb(this);const{view:r,buffer:n,blockLen:i}=this;t=I2(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=A2(t);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){rb(this),fU(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;Foe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=A2(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,h=this.get();if(l>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,h[f],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}}const joe=(e,t,r)=>e&t^~e&r,zoe=(e,t,r)=>e&t^e&r^t&r,Hoe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Au=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Tu=new Uint32Array(64);class Goe extends Uoe{constructor(){super(64,32,8,!1),this.A=Au[0]|0,this.B=Au[1]|0,this.C=Au[2]|0,this.D=Au[3]|0,this.E=Au[4]|0,this.F=Au[5]|0,this.G=Au[6]|0,this.H=Au[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[t,r,n,i,s,o,a,u]}set(t,r,n,i,s,o,a,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(t,r){for(let f=0;f<16;f++,r+=4)Tu[f]=t.getUint32(r,!1);for(let f=16;f<64;f++){const p=Tu[f-15],m=Tu[f-2],y=So(p,7)^So(p,18)^p>>>3,v=So(m,17)^So(m,19)^m>>>10;Tu[f]=v+Tu[f-7]+y+Tu[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:l,H:h}=this;for(let f=0;f<64;f++){const p=So(a,6)^So(a,11)^So(a,25),m=h+p+joe(a,u,l)+Hoe[f]+Tu[f]|0,y=(So(n,2)^So(n,13)^So(n,22))+zoe(n,i,s)|0;h=l,l=u,u=a,a=o+m|0,o=s,s=i,i=n,n=m+y|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,h=h+this.H|0,this.set(n,i,s,o,a,u,l,h)}roundClean(){Tu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Gm=yU(()=>new Goe),xU=BigInt(0),ib=BigInt(1),$oe=BigInt(2),sb=e=>e instanceof Uint8Array,Voe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Iu(e){if(!sb(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Voe[e[r]];return t}function EU(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function ob(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function tc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const i=n*2,s=e.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function Sn(e){return ob(Iu(e))}function k2(e){if(!sb(e))throw new Error("Uint8Array expected");return ob(Iu(Uint8Array.from(e).reverse()))}function bd(e,t){return tc(e.toString(16).padStart(t*2,"0"))}function O2(e,t){return bd(e,t).reverse()}function P2(e){return tc(EU(e))}function Fi(e,t,r){let n;if(typeof t=="string")try{n=tc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(sb(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function wd(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!sb(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function Woe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function qoe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Zoe(e){let t;for(t=0;e>xU;e>>=ib,t+=1);return t}function Xoe(e,t){return e>>BigInt(t)&ib}const Yoe=(e,t,r)=>e|(r?ib:xU)<<BigInt(t),ab=e=>($oe<<BigInt(e-1))-ib,R2=e=>new Uint8Array(e),SU=e=>Uint8Array.from(e);function AU(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=R2(e),i=R2(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),u=(h=R2())=>{i=a(SU([0]),h),n=a(),h.length!==0&&(i=a(SU([1]),h),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<t;){n=a();const p=n.slice();f.push(p),h+=n.length}return wd(...f)};return(h,f)=>{o(),u(h);let p;for(;!(p=f(l()));)u();return o(),p}}const Koe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function $m(e,t,r={}){const n=(i,s,o)=>{const a=Koe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(o&&u===void 0)&&!a(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const Qoe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Xoe,bitLen:Zoe,bitMask:ab,bitSet:Yoe,bytesToHex:Iu,bytesToNumberBE:Sn,bytesToNumberLE:k2,concatBytes:wd,createHmacDrbg:AU,ensureBytes:Fi,equalBytes:Woe,hexToBytes:tc,hexToNumber:ob,numberToBytesBE:bd,numberToBytesLE:O2,numberToHexUnpadded:EU,numberToVarBytesBE:P2,utf8ToBytes:qoe,validateObject:$m},Symbol.toStringTag,{value:"Module"})),Gr=BigInt(0),or=BigInt(1),rc=BigInt(2),Joe=BigInt(3),M2=BigInt(4),TU=BigInt(5),IU=BigInt(8);BigInt(9),BigInt(16);function An(e,t){const r=e%t;return r>=Gr?r:t+r}function eae(e,t,r){if(r<=Gr||t<Gr)throw new Error("Expected power/modulo > 0");if(r===or)return Gr;let n=or;for(;t>Gr;)t&or&&(n=n*e%r),e=e*e%r,t>>=or;return n}function ub(e,t){if(e===Gr||t<=Gr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=An(e,t),n=t,i=Gr,s=or;for(;r!==Gr;){const o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}if(n!==or)throw new Error("invert: does not exist");return An(i,t)}function tae(e){const t=(e-or)/rc;let r,n,i;for(r=e-or,n=0;r%rc===Gr;r/=rc,n++);for(i=rc;i<e&&eae(i,t,e)!==e-or;i++);if(n===1){const o=(e+or)/M2;return function(a,u){const l=a.pow(u,o);if(!a.eql(a.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+or)/rc;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=n,l=o.pow(o.mul(o.ONE,i),r),h=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let p=1;for(let y=o.sqr(f);p<u&&!o.eql(y,o.ONE);p++)y=o.sqr(y);const m=o.pow(l,or<<BigInt(u-p-1));l=o.sqr(m),h=o.mul(h,m),f=o.mul(f,l),u=p}return h}}function rae(e){if(e%M2===Joe){const t=(e+or)/M2;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%IU===TU){const t=(e-TU)/IU;return function(r,n){const i=r.mul(n,rc),s=r.pow(i,t),o=r.mul(n,s),a=r.mul(r.mul(o,rc),s),u=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return tae(e)}const nae=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function N2(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=nae.reduce((n,i)=>(n[i]="function",n),t);return $m(e,r)}function CU(e,t,r){if(r<Gr)throw new Error("Expected power > 0");if(r===Gr)return e.ONE;if(r===or)return t;let n=e.ONE,i=t;for(;r>Gr;)r&or&&(n=e.mul(n,i)),i=e.sqr(i),r>>=or;return n}function iae(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function kU(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function OU(e,t,r=!1,n={}){if(e<=Gr)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=kU(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=rae(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:ab(i),ZERO:Gr,ONE:or,create:u=>An(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Gr<=u&&u<e},is0:u=>u===Gr,isOdd:u=>(u&or)===or,neg:u=>An(-u,e),eql:(u,l)=>u===l,sqr:u=>An(u*u,e),add:(u,l)=>An(u+l,e),sub:(u,l)=>An(u-l,e),mul:(u,l)=>An(u*l,e),pow:(u,l)=>CU(a,u,l),div:(u,l)=>An(u*ub(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>ub(u,e),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>iae(a,u),cmov:(u,l,h)=>h?l:u,toBytes:u=>r?O2(u,s):bd(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?k2(u):Sn(u)}});return Object.freeze(a)}function PU(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function RU(e){const t=PU(e);return t+Math.ceil(t/2)}function sae(e,t,r=!1){const n=e.length,i=PU(t),s=RU(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?Sn(e):k2(e),a=An(o,t-or)+or;return r?O2(a,i):bd(a,i)}function oae(e){const{Fp:t,mds:r,reversePartialPowIdx:n,roundConstants:i}=e,{roundsFull:s,roundsPartial:o,sboxPower:a,t:u}=e;N2(t);for(const y of["t","roundsFull","roundsPartial"])if(typeof e[y]!="number"||!Number.isSafeInteger(e[y]))throw new Error(`Poseidon: invalid param ${y}=${e[y]} (${typeof e[y]})`);if(!Array.isArray(r)||r.length!==u)throw new Error("Poseidon: wrong MDS matrix");const l=r.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon MDS matrix row: ${y}`);return y.map(v=>{if(typeof v!="bigint")throw new Error(`Poseidon MDS matrix value=${v}`);return t.create(v)})});if(n!==void 0&&typeof n!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${n}`);if(s%2!==0)throw new Error(`Poseidon roundsFull is not even: ${s}`);const h=s+o;if(!Array.isArray(i)||i.length!==h)throw new Error("Poseidon: wrong round constants");const f=i.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon wrong round constants: ${y}`);return y.map(v=>{if(typeof v!="bigint"||!t.isValid(v))throw new Error(`Poseidon wrong round constant=${v}`);return t.create(v)})});if(!a||![3,5,7].includes(a))throw new Error(`Poseidon wrong sboxPower=${a}`);const p=BigInt(a);let m=y=>CU(t,y,p);return a===3?m=y=>t.mul(t.sqrN(y),y):a===5&&(m=y=>t.mul(t.sqrN(t.sqrN(y)),y)),Object.freeze({...e,rounds:h,sboxFn:m,roundConstants:f,mds:l})}function aae(e){const t=oae(e),{Fp:r,mds:n,roundConstants:i,rounds:s,roundsPartial:o,sboxFn:a,t:u}=t,l=t.roundsFull/2,h=t.reversePartialPowIdx?u-1:0,f=(m,y,v)=>(m=m.map((w,_)=>r.add(w,i[v][_])),y?m=m.map(w=>a(w)):m[h]=a(m[h]),m=n.map(w=>w.reduce((_,x,E)=>r.add(_,r.mulN(x,m[E])),r.ZERO)),m),p=function(m){if(!Array.isArray(m)||m.length!==u)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${u})`);m=m.map(v=>{if(typeof v!="bigint")throw new Error(`Poseidon: wrong value=${v} (${typeof v})`);return r.create(v)});let y=0;for(let v=0;v<l;v++)m=f(m,!0,y++);for(let v=0;v<o;v++)m=f(m,!1,y++);for(let v=0;v<l;v++)m=f(m,!0,y++);if(y!==s)throw new Error(`Poseidon: wrong number of rounds: last round=${y}, total=${s}`);return m};return p.roundConstants=i,p}const uae=BigInt(0),D2=BigInt(1);function lae(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>uae;)s&D2&&(o=o.add(a)),a=a.double(),s>>=D2;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,h=l;for(let f=0;f<o;f++){h=l,u.push(h);for(let p=1;p<a;p++)h=h.add(l),u.push(h);l=h.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=e.ZERO,h=e.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const v=y*u;let w=Number(o&f);o>>=m,w>u&&(w-=p,o+=D2);const _=v,x=v+Math.abs(w)-1,E=y%2!==0,T=w<0;w===0?h=h.add(r(E,s[_])):l=l.add(r(T,s[x]))}return{p:l,f:h}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function MU(e){return N2(e.Fp),$m(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kU(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function cae(e){const t=MU(e);$m(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:hae,hexToBytes:dae}=Qoe,Cu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Cu;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:hae(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Cu,r=typeof e=="string"?dae(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Cu._parseInt(r.subarray(2)),{d:o,l:a}=Cu._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const h=l.toString(16);return h.length&1?`0${h}`:h},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},ga=BigInt(0),Ui=BigInt(1);BigInt(2);const NU=BigInt(3);BigInt(4);function fae(e){const t=cae(e),{Fp:r}=t,n=t.toBytes||((y,v,w)=>{const _=v.toAffine();return wd(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),i=t.fromBytes||(y=>{const v=y.subarray(1),w=r.fromBytes(v.subarray(0,r.BYTES)),_=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:w,y:_}});function s(y){const{a:v,b:w}=t,_=r.sqr(y),x=r.mul(_,y);return r.add(r.add(x,r.mul(y,v)),w)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&ga<y&&y<t.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:v,nByteLength:w,wrapPrivateKey:_,n:x}=t;if(v&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Iu(y)),typeof y!="string"||!v.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let E;try{E=typeof y=="bigint"?y:Sn(Fi("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return _&&(E=An(E,x)),a(E),E}const l=new Map;function h(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,w,_){if(this.px=v,this.py=w,this.pz=_,v==null||!r.isValid(v))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required")}static fromAffine(v){const{x:w,y:_}=v||{};if(!v||!r.isValid(w)||!r.isValid(_))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const x=E=>r.eql(E,r.ZERO);return x(w)&&x(_)?f.ZERO:new f(w,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const w=r.invertBatch(v.map(_=>_.pz));return v.map((_,x)=>_.toAffine(w[x])).map(f.fromAffine)}static fromHex(v){const w=f.fromAffine(i(Fi("pointHex",v)));return w.assertValidity(),w}static fromPrivateKey(v){return f.BASE.multiply(u(v))}_setWindowSize(v){this._WINDOW_SIZE=v,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:w}=this.toAffine();if(!r.isValid(v)||!r.isValid(w))throw new Error("bad point: x or y not FE");const _=r.sqr(w),x=s(v);if(!r.eql(_,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(r.isOdd)return!r.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){h(v);const{px:w,py:_,pz:x}=this,{px:E,py:T,pz:R}=v,P=r.eql(r.mul(w,R),r.mul(E,x)),k=r.eql(r.mul(_,R),r.mul(T,x));return P&&k}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:w}=t,_=r.mul(w,NU),{px:x,py:E,pz:T}=this;let R=r.ZERO,P=r.ZERO,k=r.ZERO,M=r.mul(x,x),V=r.mul(E,E),H=r.mul(T,T),X=r.mul(x,E);return X=r.add(X,X),k=r.mul(x,T),k=r.add(k,k),R=r.mul(v,k),P=r.mul(_,H),P=r.add(R,P),R=r.sub(V,P),P=r.add(V,P),P=r.mul(R,P),R=r.mul(X,R),k=r.mul(_,k),H=r.mul(v,H),X=r.sub(M,H),X=r.mul(v,X),X=r.add(X,k),k=r.add(M,M),M=r.add(k,M),M=r.add(M,H),M=r.mul(M,X),P=r.add(P,M),H=r.mul(E,T),H=r.add(H,H),M=r.mul(H,X),R=r.sub(R,M),k=r.mul(H,V),k=r.add(k,k),k=r.add(k,k),new f(R,P,k)}add(v){h(v);const{px:w,py:_,pz:x}=this,{px:E,py:T,pz:R}=v;let P=r.ZERO,k=r.ZERO,M=r.ZERO;const V=t.a,H=r.mul(t.b,NU);let X=r.mul(w,E),Q=r.mul(_,T),W=r.mul(x,R),G=r.add(w,_),O=r.add(E,T);G=r.mul(G,O),O=r.add(X,Q),G=r.sub(G,O),O=r.add(w,x);let D=r.add(E,R);return O=r.mul(O,D),D=r.add(X,W),O=r.sub(O,D),D=r.add(_,x),P=r.add(T,R),D=r.mul(D,P),P=r.add(Q,W),D=r.sub(D,P),M=r.mul(V,O),P=r.mul(H,W),M=r.add(P,M),P=r.sub(Q,M),M=r.add(Q,M),k=r.mul(P,M),Q=r.add(X,X),Q=r.add(Q,X),W=r.mul(V,W),O=r.mul(H,O),Q=r.add(Q,W),W=r.sub(X,W),W=r.mul(V,W),O=r.add(O,W),X=r.mul(Q,O),k=r.add(k,X),X=r.mul(D,O),P=r.mul(G,P),P=r.sub(P,X),X=r.mul(G,Q),M=r.mul(D,M),M=r.add(M,X),new f(P,k,M)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return m.wNAFCached(this,l,v,w=>{const _=r.invertBatch(w.map(x=>x.pz));return w.map((x,E)=>x.toAffine(_[E])).map(f.fromAffine)})}multiplyUnsafe(v){const w=f.ZERO;if(v===ga)return w;if(a(v),v===Ui)return this;const{endo:_}=t;if(!_)return m.unsafeLadder(this,v);let{k1neg:x,k1:E,k2neg:T,k2:R}=_.splitScalar(v),P=w,k=w,M=this;for(;E>ga||R>ga;)E&Ui&&(P=P.add(M)),R&Ui&&(k=k.add(M)),M=M.double(),E>>=Ui,R>>=Ui;return x&&(P=P.negate()),T&&(k=k.negate()),k=new f(r.mul(k.px,_.beta),k.py,k.pz),P.add(k)}multiply(v){a(v);let w=v,_,x;const{endo:E}=t;if(E){const{k1neg:T,k1:R,k2neg:P,k2:k}=E.splitScalar(w);let{p:M,f:V}=this.wNAF(R),{p:H,f:X}=this.wNAF(k);M=m.constTimeNegate(T,M),H=m.constTimeNegate(P,H),H=new f(r.mul(H.px,E.beta),H.py,H.pz),_=M.add(H),x=V.add(X)}else{const{p:T,f:R}=this.wNAF(w);_=T,x=R}return f.normalizeZ([_,x])[0]}multiplyAndAddUnsafe(v,w,_){const x=f.BASE,E=(R,P)=>P===ga||P===Ui||!R.equals(x)?R.multiplyUnsafe(P):R.multiply(P),T=E(this,w).add(E(v,_));return T.is0()?void 0:T}toAffine(v){const{px:w,py:_,pz:x}=this,E=this.is0();v==null&&(v=E?r.ONE:r.inv(x));const T=r.mul(w,v),R=r.mul(_,v),P=r.mul(x,v);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:T,y:R}}isTorsionFree(){const{h:v,isTorsionFree:w}=t;if(v===Ui)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:w}=t;return v===Ui?this:w?w(f,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),n(f,this,v)}toHex(v=!0){return Iu(this.toRawBytes(v))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,m=lae(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function pae(e){const t=MU(e);return $m(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function mae(e){const t=pae(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(O){return ga<O&&O<r.ORDER}function a(O){return An(O,n)}function u(O){return ub(O,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=fae({...t,toBytes(O,D,L){const N=D.toAffine(),z=r.toBytes(N.x),U=wd;return L?U(Uint8Array.from([D.hasEvenY()?2:3]),z):U(Uint8Array.from([4]),z,r.toBytes(N.y))},fromBytes(O){const D=O.length,L=O[0],N=O.subarray(1);if(D===i&&(L===2||L===3)){const z=Sn(N);if(!o(z))throw new Error("Point is not on curve");const U=f(z);let q=r.sqrt(U);const J=(q&Ui)===Ui;return(L&1)===1!==J&&(q=r.neg(q)),{x:z,y:q}}else if(D===s&&L===4){const z=r.fromBytes(N.subarray(0,r.BYTES)),U=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:z,y:U}}else throw new Error(`Point of length ${D} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=O=>Iu(bd(O,t.nByteLength));function y(O){const D=n>>Ui;return O>D}function v(O){return y(O)?a(-O):O}const w=(O,D,L)=>Sn(O.slice(D,L));class _{constructor(D,L,N){this.r=D,this.s=L,this.recovery=N,this.assertValidity()}static fromCompact(D){const L=t.nByteLength;return D=Fi("compactSignature",D,L*2),new _(w(D,0,L),w(D,L,2*L))}static fromDER(D){const{r:L,s:N}=Cu.toSig(Fi("DER",D));return new _(L,N)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(D){return new _(this.r,this.s,D)}recoverPublicKey(D){const{r:L,s:N,recovery:z}=this,U=k(Fi("msgHash",D));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const q=z===2||z===3?L+t.n:L;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=z&1?"03":"02",pe=l.fromHex(J+m(q)),fe=u(q),Ne=a(-U*fe),we=a(N*fe),Ce=l.BASE.multiplyAndAddUnsafe(pe,Ne,we);if(!Ce)throw new Error("point at infinify");return Ce.assertValidity(),Ce}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return tc(this.toDERHex())}toDERHex(){return Cu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return tc(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const x={isValidPrivateKey(O){try{return h(O),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const O=RU(t.n);return sae(t.randomBytes(O),t.n)},precompute(O=8,D=l.BASE){return D._setWindowSize(O),D.multiply(BigInt(3)),D}};function E(O,D=!0){return l.fromPrivateKey(O).toRawBytes(D)}function T(O){const D=O instanceof Uint8Array,L=typeof O=="string",N=(D||L)&&O.length;return D?N===i||N===s:L?N===2*i||N===2*s:O instanceof l}function R(O,D,L=!0){if(T(O))throw new Error("first arg must be private key");if(!T(D))throw new Error("second arg must be public key");return l.fromHex(D).multiply(h(O)).toRawBytes(L)}const P=t.bits2int||function(O){const D=Sn(O),L=O.length*8-t.nBitLength;return L>0?D>>BigInt(L):D},k=t.bits2int_modN||function(O){return a(P(O))},M=ab(t.nBitLength);function V(O){if(typeof O!="bigint")throw new Error("bigint expected");if(!(ga<=O&&O<M))throw new Error(`bigint expected < 2^${t.nBitLength}`);return bd(O,t.nByteLength)}function H(O,D,L=X){if(["recovered","canonical"].some(Ge=>Ge in L))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:z}=t;let{lowS:U,prehash:q,extraEntropy:J}=L;U==null&&(U=!0),O=Fi("msgHash",O),q&&(O=Fi("prehashed msgHash",N(O)));const pe=k(O),fe=h(D),Ne=[V(fe),V(pe)];if(J!=null){const Ge=J===!0?z(r.BYTES):J;Ne.push(Fi("extraEntropy",Ge))}const we=wd(...Ne),Ce=pe;function lt(Ge){const ze=P(Ge);if(!p(ze))return;const De=u(ze),ke=l.BASE.multiply(ze).toAffine(),Be=a(ke.x);if(Be===ga)return;const st=a(De*a(Ce+Be*fe));if(st===ga)return;let St=(ke.x===Be?0:2)|Number(ke.y&Ui),Kt=st;return U&&y(st)&&(Kt=v(st),St^=1),new _(Be,Kt,St)}return{seed:we,k2sig:lt}}const X={lowS:t.lowS,prehash:!1},Q={lowS:t.lowS,prehash:!1};function W(O,D,L=X){const{seed:N,k2sig:z}=H(O,D,L),U=t;return AU(U.hash.outputLen,U.nByteLength,U.hmac)(N,z)}l.BASE._setWindowSize(8);function G(O,D,L,N=Q){var De;const z=O;if(D=Fi("msgHash",D),L=Fi("publicKey",L),"strict"in N)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:q}=N;let J,pe;try{if(typeof z=="string"||z instanceof Uint8Array)try{J=_.fromDER(z)}catch(ke){if(!(ke instanceof Cu.Err))throw ke;J=_.fromCompact(z)}else if(typeof z=="object"&&typeof z.r=="bigint"&&typeof z.s=="bigint"){const{r:ke,s:Be}=z;J=new _(ke,Be)}else throw new Error("PARSE");pe=l.fromHex(L)}catch(ke){if(ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&J.hasHighS())return!1;q&&(D=t.hash(D));const{r:fe,s:Ne}=J,we=k(D),Ce=u(Ne),lt=a(we*Ce),Ge=a(fe*Ce),ze=(De=l.BASE.multiplyAndAddUnsafe(pe,lt,Ge))==null?void 0:De.toAffine();return ze?a(ze.x)===fe:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:R,sign:W,verify:G,ProjectivePoint:l,Signature:_,utils:x}}function DU(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function yae(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function gae(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");DU(e.outputLen),DU(e.blockLen)}function LU(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const L2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,BU=e=>e instanceof Uint8Array;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function vae(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function _ae(e){if(typeof e=="string"&&(e=vae(e)),!BU(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function bae(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!BU(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}let wae=class{clone(){return this._cloneInto()}};function xae(e=32){if(L2&&typeof L2.getRandomValues=="function")return L2.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}let FU=class extends wae{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,gae(e);const r=_ae(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return LU(this),this.iHash.update(e),this}digestInto(e){LU(this),yae(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return e=e,e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const UU=(e,t,r)=>new FU(e,t).update(r).digest();UU.create=(e,t)=>new FU(e,t);function Eae(e){return{hash:e,hmac:(t,...r)=>UU(e,t,bae(...r)),randomBytes:xae}}const Vm=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),nc=BigInt("0x800000000000000000000000000000000000000000000000000000000000000"),jU=252;function zU(e){for(;e[0]===0;)e=e.subarray(1);const t=e.length*8-jU,r=Sn(e);return t>0?r>>BigInt(t):r}function HU(e){return typeof e=="string"&&(e=U2(e),e.length&1&&(e="0"+e)),tc(e)}const ic=mae({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:OU(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:Vm,nBitLength:jU,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...Eae(Gm),bits2int:zU,bits2int_modN:e=>{const t=Sn(e).toString(16);return t.length===63&&(e=HU(t+"0")),An(zU(e),Vm)}}),Sae=ic;function xd(e){return Fi("",typeof e=="string"?HU(e):e)}function B2(e){return Iu(xd(e)).padStart(64,"0")}function GU(e,t=!1){return ic.getPublicKey(B2(e),t)}function Aae(e,t){return ic.getSharedSecret(B2(e),t)}function $U(e){const{r:t,s:r}=e;if(t<0n||t>=nc)throw new Error(`Signature.r should be [1, ${nc})`);const n=ub(r,Vm);if(n<0n||n>=nc)throw new Error(`inv(Signature.s) should be [1, ${nc})`)}function VU(e){const t=xd(e);if(Sn(t)>=nc)throw new Error(`msgHash should be [0, ${nc})`);return t}function Wm(e,t,r){const n=ic.sign(VU(e),B2(t),r);return $U(n),n}function Tae(e,t,r){if(!(e instanceof lb)){const n=xd(e);try{e=lb.fromDER(n)}catch(i){if(!(i instanceof Cu.Err))throw i;e=lb.fromCompact(n)}}return $U(e),ic.verify(e,VU(t),xd(r))}const{CURVE:Iae,ProjectivePoint:Ed,Signature:lb,utils:F2}=ic;function WU(e){return`0x${Iu(e.subarray(1)).replace(/^0+/gm,"")}`}function U2(e){return e.replace(/^0x/i,"")}function qU(e){const t=xd(e),r=2n**256n,n=r-An(r,Vm);for(let i=0;;i++){const s=z2(wd(t,P2(BigInt(i))));if(s<n)return An(s,Vm).toString(16);if(i===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function j2(e){return WU(GU(e,!0))}function Cae(e){if(e=U2(e),e.length!==130)throw new Error("Wrong ethereum signature");return qU(e.substring(0,64))}const kae=2n**31n-1n,cb=e=>Number(e&kae);function Oae(e,t,r,n){const i=cb(z2(e)),s=cb(z2(t)),o=ob(U2(r));return`m/2645'/${i}'/${s}'/${cb(o)}'/${cb(o>>31n)}'/${n}`}const qm=[new Ed(0x49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804n,0x3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268an,1n),new Ed(0x234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47bn,0x3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615n,1n),new Ed(0x4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378n,0x3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54dn,1n),new Ed(0x4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997n,0x40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219cn,1n),new Ed(0x54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202n,0x1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426n,1n)];function ZU(e,t){const r=[];let n=e;for(let i=0;i<248;i++)r.push(n),n=n.double();n=t;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}const Pae=ZU(qm[1],qm[2]),Rae=ZU(qm[3],qm[4]);function Mae(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=Sn(xd(e));if(!(0n<=t&&t<ic.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}function XU(e,t,r){let n=Mae(t);for(let i=0;i<252;i++){const s=r[i];if(s.equals(e))throw new Error("Same point");(n&1n)!==0n&&(e=e.add(s)),n>>=1n}return e}function Zm(e,t){let r=qm[0];return r=XU(r,e,Pae),r=XU(r,t,Rae),WU(r.toRawBytes(!0))}const Nae=(e,t=Zm)=>[0,...e,e.length].reduce((r,n)=>t(r,n)),Dae=ab(250),Sd=e=>Sn(Boe(e))&Dae,z2=e=>Sn(Gm(e)),YU=OU(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function H2(e,t,r){const n=e.fromBytes(Gm(T2(`${t}${r}`)));return e.create(n)}function KU(e,t,r,n=0){const i=[],s=[];for(let o=0;o<r;o++)i.push(H2(e,`${t}x`,n*r+o)),s.push(H2(e,`${t}y`,n*r+o));if(new Set([...i,...s]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map(o=>s.map(a=>e.inv(e.sub(o,a))))}const Lae=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function G2(e,t){if(N2(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);const r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,i=[];for(let o=0;o<n;o++){const a=[];for(let u=0;u<r;u++)a.push(H2(e.Fp,"Hades",r*o+u));i.push(a)}const s=aae({...e,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:i});return s.m=r,s.rate=e.rate,s.capacity=e.capacity,s}function Bae(e,t=0){const r=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error(`Wrong mdsAttempt=${t}`);return G2(e,KU(e.Fp,"HadesMDS",r,t))}const Xm=G2({Fp:YU,rate:2,capacity:1,roundsFull:8,roundsPartial:83},Lae);function QU(e,t,r=Xm){return r([e,t,2n])[0]}function Fae(e,t,r=Xm){return P2(QU(Sn(e),Sn(t),r))}function Uae(e,t=Xm){return t([e,0n,1n])[0]}function ku(e,t=Xm){const{m:r,rate:n}=t;if(!Array.isArray(e))throw new Error("bigint array expected in values");const i=Array.from(e);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let a=0;a<n;a++)s[a]+=i[o+a];s=t(s)}return s[0]}const jae=Object.freeze(Object.defineProperty({__proto__:null,CURVE:Iae,Fp251:YU,MAX_VALUE:nc,ProjectivePoint:Ed,Signature:lb,_poseidonMDS:KU,_starkCurve:Sae,computeHashOnElements:Nae,ethSigToPrivate:Cae,getAccountPath:Oae,getPublicKey:GU,getSharedSecret:Aae,getStarkKey:j2,grindKey:qU,keccak:Sd,pedersen:Zm,poseidonBasic:G2,poseidonCreate:Bae,poseidonHash:QU,poseidonHashFunc:Fae,poseidonHashMany:ku,poseidonHashSingle:Uae,poseidonSmall:Xm,sign:Wm,utils:F2,verify:Tae},Symbol.toStringTag,{value:"Module"})),Ou=BigInt(0),sc=BigInt(1);BigInt(2),BigInt(3),BigInt(4),BigInt(5),BigInt(8),BigInt(9),BigInt(16);function Ym(e,t){const r=e%t;return r>=Ou?r:t+r}function zae(e,t){if(e===Ou||t<=Ou)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ym(e,t),n=t,i=Ou,s=sc;for(;r!==Ou;){const o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}if(n!==sc)throw new Error("invert: does not exist");return Ym(i,t)}const Hae=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $2(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Hae.reduce((n,i)=>(n[i]="function",n),t);return zm(e,r)}function Gae(e,t,r){if(r<Ou)throw new Error("Expected power > 0");if(r===Ou)return e.ONE;if(r===sc)return t;let n=e.ONE,i=t;for(;r>Ou;)r&sc&&(n=e.mul(n,i)),i=e.sqr(i),r>>=sc;return n}function $ae(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function JU(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ej(e){const t=JU(e);return t+Math.ceil(t/2)}function Vae(e,t,r=!1){const n=e.length,i=JU(t),s=ej(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?_d(e):oU(e),a=Ym(o,t-sc)+sc;return r?aU(a,i):Um(a,i)}const Wae=BigInt(0),V2=BigInt(1);function qae(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>Wae;)s&V2&&(o=o.add(a)),a=a.double(),s>>=V2;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,h=l;for(let f=0;f<o;f++){h=l,u.push(h);for(let p=1;p<a;p++)h=h.add(l),u.push(h);l=h.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=e.ZERO,h=e.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const v=y*u;let w=Number(o&f);o>>=m,w>u&&(w-=p,o+=V2);const _=v,x=v+Math.abs(w)-1,E=y%2!==0,T=w<0;w===0?h=h.add(r(E,s[_])):l=l.add(r(T,s[x]))}return{p:l,f:h}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function tj(e){return $2(e.Fp),zm(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...$ae(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Zae(e){const t=tj(e);zm(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Xae,hexToBytes:Yae}=voe,Pu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Pu;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Xae(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=Pu,r=typeof e=="string"?Yae(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Pu._parseInt(r.subarray(2)),{d:o,l:a}=Pu._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const h=l.toString(16);return h.length&1?`0${h}`:h},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Rs=BigInt(0),tr=BigInt(1),Ru=BigInt(2),hb=BigInt(3),rj=BigInt(4);function nj(e){const t=Zae(e),{Fp:r}=t,n=t.toBytes||((y,v,w)=>{const _=v.toAffine();return jm(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),i=t.fromBytes||(y=>{const v=y.subarray(1),w=r.fromBytes(v.subarray(0,r.BYTES)),_=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:w,y:_}});function s(y){const{a:v,b:w}=t,_=r.sqr(y),x=r.mul(_,y);return r.add(r.add(x,r.mul(y,v)),w)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Rs<y&&y<t.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:v,nByteLength:w,wrapPrivateKey:_,n:x}=t;if(v&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=vd(y)),typeof y!="string"||!v.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let E;try{E=typeof y=="bigint"?y:_d(Ps("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return _&&(E=Ym(E,x)),a(E),E}const l=new Map;function h(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,w,_){if(this.px=v,this.py=w,this.pz=_,v==null||!r.isValid(v))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required")}static fromAffine(v){const{x:w,y:_}=v||{};if(!v||!r.isValid(w)||!r.isValid(_))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const x=E=>r.eql(E,r.ZERO);return x(w)&&x(_)?f.ZERO:new f(w,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const w=r.invertBatch(v.map(_=>_.pz));return v.map((_,x)=>_.toAffine(w[x])).map(f.fromAffine)}static fromHex(v){const w=f.fromAffine(i(Ps("pointHex",v)));return w.assertValidity(),w}static fromPrivateKey(v){return f.BASE.multiply(u(v))}_setWindowSize(v){this._WINDOW_SIZE=v,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:w}=this.toAffine();if(!r.isValid(v)||!r.isValid(w))throw new Error("bad point: x or y not FE");const _=r.sqr(w),x=s(v);if(!r.eql(_,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(r.isOdd)return!r.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){h(v);const{px:w,py:_,pz:x}=this,{px:E,py:T,pz:R}=v,P=r.eql(r.mul(w,R),r.mul(E,x)),k=r.eql(r.mul(_,R),r.mul(T,x));return P&&k}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:w}=t,_=r.mul(w,hb),{px:x,py:E,pz:T}=this;let R=r.ZERO,P=r.ZERO,k=r.ZERO,M=r.mul(x,x),V=r.mul(E,E),H=r.mul(T,T),X=r.mul(x,E);return X=r.add(X,X),k=r.mul(x,T),k=r.add(k,k),R=r.mul(v,k),P=r.mul(_,H),P=r.add(R,P),R=r.sub(V,P),P=r.add(V,P),P=r.mul(R,P),R=r.mul(X,R),k=r.mul(_,k),H=r.mul(v,H),X=r.sub(M,H),X=r.mul(v,X),X=r.add(X,k),k=r.add(M,M),M=r.add(k,M),M=r.add(M,H),M=r.mul(M,X),P=r.add(P,M),H=r.mul(E,T),H=r.add(H,H),M=r.mul(H,X),R=r.sub(R,M),k=r.mul(H,V),k=r.add(k,k),k=r.add(k,k),new f(R,P,k)}add(v){h(v);const{px:w,py:_,pz:x}=this,{px:E,py:T,pz:R}=v;let P=r.ZERO,k=r.ZERO,M=r.ZERO;const V=t.a,H=r.mul(t.b,hb);let X=r.mul(w,E),Q=r.mul(_,T),W=r.mul(x,R),G=r.add(w,_),O=r.add(E,T);G=r.mul(G,O),O=r.add(X,Q),G=r.sub(G,O),O=r.add(w,x);let D=r.add(E,R);return O=r.mul(O,D),D=r.add(X,W),O=r.sub(O,D),D=r.add(_,x),P=r.add(T,R),D=r.mul(D,P),P=r.add(Q,W),D=r.sub(D,P),M=r.mul(V,O),P=r.mul(H,W),M=r.add(P,M),P=r.sub(Q,M),M=r.add(Q,M),k=r.mul(P,M),Q=r.add(X,X),Q=r.add(Q,X),W=r.mul(V,W),O=r.mul(H,O),Q=r.add(Q,W),W=r.sub(X,W),W=r.mul(V,W),O=r.add(O,W),X=r.mul(Q,O),k=r.add(k,X),X=r.mul(D,O),P=r.mul(G,P),P=r.sub(P,X),X=r.mul(G,Q),M=r.mul(D,M),M=r.add(M,X),new f(P,k,M)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return m.wNAFCached(this,l,v,w=>{const _=r.invertBatch(w.map(x=>x.pz));return w.map((x,E)=>x.toAffine(_[E])).map(f.fromAffine)})}multiplyUnsafe(v){const w=f.ZERO;if(v===Rs)return w;if(a(v),v===tr)return this;const{endo:_}=t;if(!_)return m.unsafeLadder(this,v);let{k1neg:x,k1:E,k2neg:T,k2:R}=_.splitScalar(v),P=w,k=w,M=this;for(;E>Rs||R>Rs;)E&tr&&(P=P.add(M)),R&tr&&(k=k.add(M)),M=M.double(),E>>=tr,R>>=tr;return x&&(P=P.negate()),T&&(k=k.negate()),k=new f(r.mul(k.px,_.beta),k.py,k.pz),P.add(k)}multiply(v){a(v);let w=v,_,x;const{endo:E}=t;if(E){const{k1neg:T,k1:R,k2neg:P,k2:k}=E.splitScalar(w);let{p:M,f:V}=this.wNAF(R),{p:H,f:X}=this.wNAF(k);M=m.constTimeNegate(T,M),H=m.constTimeNegate(P,H),H=new f(r.mul(H.px,E.beta),H.py,H.pz),_=M.add(H),x=V.add(X)}else{const{p:T,f:R}=this.wNAF(w);_=T,x=R}return f.normalizeZ([_,x])[0]}multiplyAndAddUnsafe(v,w,_){const x=f.BASE,E=(R,P)=>P===Rs||P===tr||!R.equals(x)?R.multiplyUnsafe(P):R.multiply(P),T=E(this,w).add(E(v,_));return T.is0()?void 0:T}toAffine(v){const{px:w,py:_,pz:x}=this,E=this.is0();v==null&&(v=E?r.ONE:r.inv(x));const T=r.mul(w,v),R=r.mul(_,v),P=r.mul(x,v);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:T,y:R}}isTorsionFree(){const{h:v,isTorsionFree:w}=t;if(v===tr)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:w}=t;return v===tr?this:w?w(f,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),n(f,this,v)}toHex(v=!0){return vd(this.toRawBytes(v))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,m=qae(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function Kae(e){const t=tj(e);return zm(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Qae(e){const t=Kae(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(O){return Rs<O&&O<r.ORDER}function a(O){return Ym(O,n)}function u(O){return zae(O,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=nj({...t,toBytes(O,D,L){const N=D.toAffine(),z=r.toBytes(N.x),U=jm;return L?U(Uint8Array.from([D.hasEvenY()?2:3]),z):U(Uint8Array.from([4]),z,r.toBytes(N.y))},fromBytes(O){const D=O.length,L=O[0],N=O.subarray(1);if(D===i&&(L===2||L===3)){const z=_d(N);if(!o(z))throw new Error("Point is not on curve");const U=f(z);let q=r.sqrt(U);const J=(q&tr)===tr;return(L&1)===1!==J&&(q=r.neg(q)),{x:z,y:q}}else if(D===s&&L===4){const z=r.fromBytes(N.subarray(0,r.BYTES)),U=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:z,y:U}}else throw new Error(`Point of length ${D} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=O=>vd(Um(O,t.nByteLength));function y(O){const D=n>>tr;return O>D}function v(O){return y(O)?a(-O):O}const w=(O,D,L)=>_d(O.slice(D,L));class _{constructor(D,L,N){this.r=D,this.s=L,this.recovery=N,this.assertValidity()}static fromCompact(D){const L=t.nByteLength;return D=Ps("compactSignature",D,L*2),new _(w(D,0,L),w(D,L,2*L))}static fromDER(D){const{r:L,s:N}=Pu.toSig(Ps("DER",D));return new _(L,N)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(D){return new _(this.r,this.s,D)}recoverPublicKey(D){const{r:L,s:N,recovery:z}=this,U=k(Ps("msgHash",D));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const q=z===2||z===3?L+t.n:L;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=z&1?"03":"02",pe=l.fromHex(J+m(q)),fe=u(q),Ne=a(-U*fe),we=a(N*fe),Ce=l.BASE.multiplyAndAddUnsafe(pe,Ne,we);if(!Ce)throw new Error("point at infinify");return Ce.assertValidity(),Ce}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Su(this.toDERHex())}toDERHex(){return Pu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Su(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const x={isValidPrivateKey(O){try{return h(O),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const O=ej(t.n);return Vae(t.randomBytes(O),t.n)},precompute(O=8,D=l.BASE){return D._setWindowSize(O),D.multiply(BigInt(3)),D}};function E(O,D=!0){return l.fromPrivateKey(O).toRawBytes(D)}function T(O){const D=O instanceof Uint8Array,L=typeof O=="string",N=(D||L)&&O.length;return D?N===i||N===s:L?N===2*i||N===2*s:O instanceof l}function R(O,D,L=!0){if(T(O))throw new Error("first arg must be private key");if(!T(D))throw new Error("second arg must be public key");return l.fromHex(D).multiply(h(O)).toRawBytes(L)}const P=t.bits2int||function(O){const D=_d(O),L=O.length*8-t.nBitLength;return L>0?D>>BigInt(L):D},k=t.bits2int_modN||function(O){return a(P(O))},M=uU(t.nBitLength);function V(O){if(typeof O!="bigint")throw new Error("bigint expected");if(!(Rs<=O&&O<M))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Um(O,t.nByteLength)}function H(O,D,L=X){if(["recovered","canonical"].some(Ge=>Ge in L))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:z}=t;let{lowS:U,prehash:q,extraEntropy:J}=L;U==null&&(U=!0),O=Ps("msgHash",O),q&&(O=Ps("prehashed msgHash",N(O)));const pe=k(O),fe=h(D),Ne=[V(fe),V(pe)];if(J!=null){const Ge=J===!0?z(r.BYTES):J;Ne.push(Ps("extraEntropy",Ge))}const we=jm(...Ne),Ce=pe;function lt(Ge){const ze=P(Ge);if(!p(ze))return;const De=u(ze),ke=l.BASE.multiply(ze).toAffine(),Be=a(ke.x);if(Be===Rs)return;const st=a(De*a(Ce+Be*fe));if(st===Rs)return;let St=(ke.x===Be?0:2)|Number(ke.y&tr),Kt=st;return U&&y(st)&&(Kt=v(st),St^=1),new _(Be,Kt,St)}return{seed:we,k2sig:lt}}const X={lowS:t.lowS,prehash:!1},Q={lowS:t.lowS,prehash:!1};function W(O,D,L=X){const{seed:N,k2sig:z}=H(O,D,L),U=t;return cU(U.hash.outputLen,U.nByteLength,U.hmac)(N,z)}l.BASE._setWindowSize(8);function G(O,D,L,N=Q){var De;const z=O;if(D=Ps("msgHash",D),L=Ps("publicKey",L),"strict"in N)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:q}=N;let J,pe;try{if(typeof z=="string"||z instanceof Uint8Array)try{J=_.fromDER(z)}catch(ke){if(!(ke instanceof Pu.Err))throw ke;J=_.fromCompact(z)}else if(typeof z=="object"&&typeof z.r=="bigint"&&typeof z.s=="bigint"){const{r:ke,s:Be}=z;J=new _(ke,Be)}else throw new Error("PARSE");pe=l.fromHex(L)}catch(ke){if(ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&J.hasHighS())return!1;q&&(D=t.hash(D));const{r:fe,s:Ne}=J,we=k(D),Ce=u(Ne),lt=a(we*Ce),Ge=a(fe*Ce),ze=(De=l.BASE.multiplyAndAddUnsafe(pe,lt,Ge))==null?void 0:De.toAffine();return ze?a(ze.x)===fe:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:R,sign:W,verify:G,ProjectivePoint:l,Signature:_,utils:x}}function ij(e,t){const r=e.ORDER;let n=Rs;for(let y=r-tr;y%Ru===Rs;y/=Ru)n+=tr;const i=n,s=Ru<<i-tr-tr,o=s*Ru,a=(r-tr)/o,u=(a-tr)/Ru,l=o-tr,h=s,f=e.pow(t,a),p=e.pow(t,(a+tr)/Ru);let m=(y,v)=>{let w=f,_=e.pow(v,l),x=e.sqr(_);x=e.mul(x,v);let E=e.mul(y,x);E=e.pow(E,u),E=e.mul(E,_),_=e.mul(E,v),x=e.mul(E,y);let T=e.mul(x,_);E=e.pow(T,h);let R=e.eql(E,e.ONE);_=e.mul(x,p),E=e.mul(T,w),x=e.cmov(_,x,R),T=e.cmov(E,T,R);for(let P=i;P>tr;P--){let k=P-Ru;k=Ru<<k-tr;let M=e.pow(T,k);const V=e.eql(M,e.ONE);_=e.mul(x,w),w=e.mul(w,w),M=e.mul(T,w),x=e.cmov(_,x,V),T=e.cmov(M,T,V)}return{isValid:R,value:x}};if(e.ORDER%rj===hb){const y=(e.ORDER-hb)/rj,v=e.sqrt(e.neg(t));m=(w,_)=>{let x=e.sqr(_);const E=e.mul(w,_);x=e.mul(x,E);let T=e.pow(x,y);T=e.mul(T,E);const R=e.mul(T,v),P=e.mul(e.sqr(T),_),k=e.eql(P,w);let M=e.cmov(R,T,k);return{isValid:k,value:M}}}return m}function Jae(e,t){if($2(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=ij(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,l,h,f;i=e.sqr(n),i=e.mul(i,t.Z),s=e.sqr(i),s=e.add(s,i),o=e.add(s,e.ONE),o=e.mul(o,t.B),a=e.cmov(t.Z,e.neg(s),!e.eql(s,e.ZERO)),a=e.mul(a,t.A),s=e.sqr(o),l=e.sqr(a),u=e.mul(l,t.A),s=e.add(s,u),s=e.mul(s,o),l=e.mul(l,a),u=e.mul(l,t.B),s=e.add(s,u),h=e.mul(i,o);const{isValid:p,value:m}=r(s,l);f=e.mul(i,n),f=e.mul(f,m),h=e.cmov(h,o,p),f=e.cmov(f,m,p);const y=e.isOdd(n)===e.isOdd(f);return f=e.cmov(e.neg(f),f,y),h=e.div(h,a),{x:h,y:f}}}const eue=Object.freeze(Object.defineProperty({__proto__:null,DER:Pu,SWUFpSqrtRatio:ij,mapToCurveSimpleSWU:Jae,weierstrass:Qae,weierstrassPoints:nj},Symbol.toStringTag,{value:"Module"}));function Km(e){return tue.test(e)}var tue=/^-?[0-9]+$/;function sj(e){return rue.test(e)}var rue=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function nue(e,t){var r=parseFloat(e),n=String(r),i=oj(e),s=oj(n);if(i===s)return!0;if((t==null?void 0:t.approx)===!0){var o=14;if(!Km(e)&&s.length>=o&&i.startsWith(s.substring(0,o)))return!0}return!1}var Qm=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function iue(e){if(!nue(e,{approx:!1})){if(Km(e))return Qm.truncate_integer;var t=parseFloat(e);return isFinite(t)?t===0?Qm.underflow:Qm.truncate_float:Qm.overflow}}function oj(e){return e.replace(sue,"").replace(aue,"").replace(uue,"").replace(oue,"")}var sue=/[eE][+-]?\d+$/,oue=/^-?(0*)?/,aue=/\./,uue=/0+$/;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function lue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uj(n.key),n)}}function cue(e,t,r){return t&&aj(e.prototype,t),r&&aj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hue(e,t,r){return t=uj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uj(e){var t=due(e,"string");return Ad(t)==="symbol"?t:String(t)}function due(e,t){if(Ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fue=function(){function e(t){if(lue(this,e),hue(this,"isLosslessNumber",!0),!sj(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}return cue(e,[{key:"valueOf",value:function(){var t=iue(this.value);if(t===void 0||t===Qm.truncate_float)return parseFloat(this.value);if(Km(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(t," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),e}();function pue(e){return e&&Ad(e)==="object"&&e.isLosslessNumber===!0||!1}function mue(e){return new fue(e)}function yue(e){return Km(e)?BigInt(e):parseFloat(e)}function W2(e){"@babel/helpers - typeof";return W2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W2(e)}function gue(e,t){return q2({"":e},"",e,t)}function q2(e,t,r,n){return Array.isArray(r)?n.call(e,t,_ue(r,n)):r&&W2(r)==="object"&&!pue(r)?n.call(e,t,vue(r,n)):n.call(e,t,r)}function vue(e,t){return Object.keys(e).forEach(function(r){var n=q2(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function _ue(e,t){for(var r=0;r<e.length;r++)e[r]=q2(e,r+"",e[r],t);return e}function Z2(e){"@babel/helpers - typeof";return Z2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z2(e)}function X2(e){return Eue(e)||xue(e)||wue(e)||bue()}function bue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wue(e,t){if(e){if(typeof e=="string")return Y2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y2(e,t)}}function xue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eue(e){if(Array.isArray(e))return Y2(e)}function Y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lj(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mue,n=0,i=a();return y(i),w(),t?gue(i,t):i;function s(){if(e.charCodeAt(n)===kue){n++,l();for(var G={},O=!0;n<e.length&&e.charCodeAt(n)!==hj;){O?O=!1:(p(),l());var D=n,L=h();L===void 0&&E(),l(),m();var N=a();N===void 0&&V(),Object.prototype.hasOwnProperty.call(G,L)&&!K2(N,G[L])&&T(L,D+1),G[L]=N}return e.charCodeAt(n)!==hj&&R(),n++,G}}function o(){if(e.charCodeAt(n)===Oue){n++,l();for(var G=[],O=!0;n<e.length&&e.charCodeAt(n)!==dj;){O?O=!1:p();var D=a();v(D),G.push(D)}return e.charCodeAt(n)!==dj&&P(),n++,G}}function a(){var G,O,D,L,N,z;l();var U=(G=(O=(D=(L=(N=(z=h())!==null&&z!==void 0?z:f())!==null&&N!==void 0?N:s())!==null&&L!==void 0?L:o())!==null&&D!==void 0?D:u("true",!0))!==null&&O!==void 0?O:u("false",!1))!==null&&G!==void 0?G:u("null",null);return l(),U}function u(G,O){if(e.slice(n,n+G.length)===G)return n+=G.length,O}function l(){for(;Sue(e.charCodeAt(n));)n++}function h(){if(e.charCodeAt(n)===Q2){n++;for(var G="";n<e.length&&e.charCodeAt(n)!==Q2;){if(e.charCodeAt(n)===Cue){var O=e[n+1],D=Iue[O];D!==void 0?(G+=D,n++):O==="u"?db(e.charCodeAt(n+2))&&db(e.charCodeAt(n+3))&&db(e.charCodeAt(n+4))&&db(e.charCodeAt(n+5))?(G+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):H(n):M(n)}else Tue(e.charCodeAt(n))?G+=e[n]:k(e[n]);n++}return x(),n++,G}}function f(){var G=n;if(e.charCodeAt(n)===fj&&(n++,_(G)),e.charCodeAt(n)===J2)n++;else if(Aue(e.charCodeAt(n)))for(n++;fb(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===Fue)for(n++,_(G);fb(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===Gue||e.charCodeAt(n)===Hue)for(n++,(e.charCodeAt(n)===fj||e.charCodeAt(n)===Due)&&n++,_(G);fb(e.charCodeAt(n));)n++;if(n>G)return r(e.slice(G,n))}function p(){if(e.charCodeAt(n)!==Bue)throw new SyntaxError("Comma ',' expected after value ".concat(W()));n++}function m(){if(e.charCodeAt(n)!==Uue)throw new SyntaxError("Colon ':' expected after property name ".concat(W()));n++}function y(G){if(G===void 0)throw new SyntaxError("JSON value expected ".concat(W()))}function v(G){if(G===void 0)throw new SyntaxError("Array item expected ".concat(W()))}function w(){if(n<e.length)throw new SyntaxError("Expected end of input ".concat(W()))}function _(G){if(!fb(e.charCodeAt(n))){var O=e.slice(G,n);throw new SyntaxError("Invalid number '".concat(O,"', expecting a digit ").concat(W()))}}function x(){if(e.charCodeAt(n)!==Q2)throw new SyntaxError(`End of string '"' expected `.concat(W()))}function E(){throw new SyntaxError("Quoted object key expected ".concat(W()))}function T(G,O){throw new SyntaxError("Duplicate key '".concat(G,"' encountered at position ").concat(O))}function R(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(W()))}function P(){throw new SyntaxError("Array item or end of array ']' expected ".concat(W()))}function k(G){throw new SyntaxError("Invalid character '".concat(G,"' ").concat(X()))}function M(G){var O=e.slice(G,G+2);throw new SyntaxError("Invalid escape character '".concat(O,"' ").concat(X()))}function V(){throw new SyntaxError("Object value expected after ':' ".concat(X()))}function H(G){for(var O=G+2;/\w/.test(e[O]);)O++;var D=e.slice(G,O);throw new SyntaxError("Invalid unicode character '".concat(D,"' ").concat(X()))}function X(){return"at position ".concat(n)}function Q(){return n<e.length?"but got '".concat(e[n],"'"):"but reached end of input"}function W(){return Q()+" "+X()}}function Sue(e){return e===Pue||e===Rue||e===Mue||e===Nue}function db(e){return e>=J2&&e<=eI||e>=jue&&e<=$ue||e>=zue&&e<=Vue}function fb(e){return e>=J2&&e<=eI}function Aue(e){return e>=Lue&&e<=eI}function Tue(e){return e>=32&&e<=1114111}function K2(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(function(n,i){return K2(n,t[i])});if(cj(e)&&cj(t)){var r=X2(new Set([].concat(X2(Object.keys(e)),X2(Object.keys(t)))));return r.every(function(n){return K2(e[n],t[n])})}return!1}function cj(e){return Z2(e)==="object"&&e!==null}var Iue={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Cue=92,kue=123,hj=125,Oue=91,dj=93,Pue=32,Rue=10,Mue=9,Nue=13,Q2=34,Due=43,fj=45,J2=48,Lue=49,eI=57,Bue=44,Fue=46,Uue=58,jue=65,zue=97,Hue=69,Gue=101,$ue=70,Vue=102;function pb(e){"@babel/helpers - typeof";return pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(e)}function pj(e,t,r,n){var i=Wue(r),s=typeof t=="function"?t.call({"":e},"",e):e;return o(s,"");function o(h,f){if(Array.isArray(n)){var p=n.find(function(y){return y.test(h)});if(p){var m=p.stringify(h);if(typeof m!="string"||!sj(m))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(m,")"));return m}}if(typeof h=="boolean"||typeof h=="number"||typeof h=="string"||h===null||h instanceof Date||h instanceof Boolean||h instanceof Number||h instanceof String)return JSON.stringify(h);if(h&&h.isLosslessNumber||typeof h=="bigint")return h.toString();if(Array.isArray(h))return a(h,f);if(h&&pb(h)==="object")return u(h,f)}function a(h,f){if(h.length===0)return"[]";for(var p=i?f+i:void 0,m=i?`[
`:"[",y=0;y<h.length;y++){var v=typeof t=="function"?t.call(h,String(y),h[y]):h[y];i&&(m+=p),typeof v<"u"&&typeof v!="function"?m+=o(v,p):m+="null",y<h.length-1&&(m+=i?`,
`:",")}return m+=i?`
`+f+"]":"]",m}function u(h,f){if(typeof h.toJSON=="function")return pj(h.toJSON(),t,r,void 0);var p=Array.isArray(t)?t.map(String):Object.keys(h);if(p.length===0)return"{}";var m=i?f+i:void 0,y=!0,v=i?`{
`:"{";return p.forEach(function(w){var _=typeof t=="function"?t.call(h,w,h[w]):h[w];if(l(w,_)){y?y=!1:v+=i?`,
`:",";var x=JSON.stringify(w);v+=i?m+x+": ":x+":",v+=o(_,m)}}),v+=i?`
`+f+"}":"}",v}function l(h,f){return typeof f<"u"&&typeof f!="function"&&pb(f)!=="symbol"}}function Wue(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}function mj(e){const{Fp:t,mds:r,reversePartialPowIdx:n,roundConstants:i}=e,{roundsFull:s,roundsPartial:o,sboxPower:a,t:u}=e;$2(t);for(const y of["t","roundsFull","roundsPartial"])if(typeof e[y]!="number"||!Number.isSafeInteger(e[y]))throw new Error(`Poseidon: invalid param ${y}=${e[y]} (${typeof e[y]})`);if(!Array.isArray(r)||r.length!==u)throw new Error("Poseidon: wrong MDS matrix");const l=r.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon MDS matrix row: ${y}`);return y.map(v=>{if(typeof v!="bigint")throw new Error(`Poseidon MDS matrix value=${v}`);return t.create(v)})});if(n!==void 0&&typeof n!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${n}`);if(s%2!==0)throw new Error(`Poseidon roundsFull is not even: ${s}`);const h=s+o;if(!Array.isArray(i)||i.length!==h)throw new Error("Poseidon: wrong round constants");const f=i.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon wrong round constants: ${y}`);return y.map(v=>{if(typeof v!="bigint"||!t.isValid(v))throw new Error(`Poseidon wrong round constant=${v}`);return t.create(v)})});if(!a||![3,5,7].includes(a))throw new Error(`Poseidon wrong sboxPower=${a}`);const p=BigInt(a);let m=y=>Gae(t,y,p);return a===3?m=y=>t.mul(t.sqrN(y),y):a===5&&(m=y=>t.mul(t.sqrN(t.sqrN(y)),y)),Object.freeze({...e,rounds:h,sboxFn:m,roundConstants:f,mds:l})}function que(e,t){if(typeof t!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: wrong rc");const r=[];let n=[];for(let i=0;i<e.length;i++)n.push(e[i]),n.length===t&&(r.push(n),n=[]);return r}function Zue(e){const t=mj(e),{Fp:r,mds:n,roundConstants:i,rounds:s,roundsPartial:o,sboxFn:a,t:u}=t,l=t.roundsFull/2,h=t.reversePartialPowIdx?u-1:0,f=(m,y,v)=>(m=m.map((w,_)=>r.add(w,i[v][_])),y?m=m.map(w=>a(w)):m[h]=a(m[h]),m=n.map(w=>w.reduce((_,x,E)=>r.add(_,r.mulN(x,m[E])),r.ZERO)),m),p=function(m){if(!Array.isArray(m)||m.length!==u)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${u})`);m=m.map(v=>{if(typeof v!="bigint")throw new Error(`Poseidon: wrong value=${v} (${typeof v})`);return r.create(v)});let y=0;for(let v=0;v<l;v++)m=f(m,!0,y++);for(let v=0;v<o;v++)m=f(m,!1,y++);for(let v=0;v<l;v++)m=f(m,!0,y++);if(y!==s)throw new Error(`Poseidon: wrong number of rounds: last round=${y}, total=${s}`);return m};return p.roundConstants=i,p}const Xue=Object.freeze(Object.defineProperty({__proto__:null,poseidon:Zue,splitConstants:que,validateOpts:mj},Symbol.toStringTag,{value:"Module"})),Yue=4,yj=0,gj=1,Kue=2;function Td(e){let t=e.length;for(;--t>=0;)e[t]=0}const Que=0,vj=1,Jue=2,ele=3,tle=258,tI=29,Jm=256,ey=Jm+1+tI,Id=30,rI=19,_j=2*ey+1,oc=15,nI=16,rle=7,iI=256,bj=16,wj=17,xj=18,sI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nle=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ej=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ile=512,va=new Array((ey+2)*2);Td(va);const ty=new Array(Id*2);Td(ty);const ry=new Array(ile);Td(ry);const ny=new Array(tle-ele+1);Td(ny);const oI=new Array(tI);Td(oI);const yb=new Array(Id);Td(yb);function aI(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let Sj,Aj,Tj;function uI(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Ij=e=>e<256?ry[e]:ry[256+(e>>>7)],iy=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Vn=(e,t,r)=>{e.bi_valid>nI-r?(e.bi_buf|=t<<e.bi_valid&65535,iy(e,e.bi_buf),e.bi_buf=t>>nI-e.bi_valid,e.bi_valid+=r-nI):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Ao=(e,t,r)=>{Vn(e,r[t*2],r[t*2+1])},Cj=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},sle=e=>{e.bi_valid===16?(iy(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},ole=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,u=t.stat_desc.max_length;let l,h,f,p,m,y,v=0;for(p=0;p<=oc;p++)e.bl_count[p]=0;for(r[e.heap[e.heap_max]*2+1]=0,l=e.heap_max+1;l<_j;l++)h=e.heap[l],p=r[r[h*2+1]*2+1]+1,p>u&&(p=u,v++),r[h*2+1]=p,!(h>n)&&(e.bl_count[p]++,m=0,h>=a&&(m=o[h-a]),y=r[h*2],e.opt_len+=y*(p+m),s&&(e.static_len+=y*(i[h*2+1]+m)));if(v!==0){do{for(p=u-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[u]--,v-=2}while(v>0);for(p=u;p!==0;p--)for(h=e.bl_count[p];h!==0;)f=e.heap[--l],!(f>n)&&(r[f*2+1]!==p&&(e.opt_len+=(p-r[f*2+1])*r[f*2],r[f*2+1]=p),h--)}},kj=(e,t,r)=>{const n=new Array(oc+1);let i=0,s,o;for(s=1;s<=oc;s++)i=i+r[s-1]<<1,n[s]=i;for(o=0;o<=t;o++){let a=e[o*2+1];a!==0&&(e[o*2]=Cj(n[a]++,a))}},ale=()=>{let e,t,r,n,i;const s=new Array(oc+1);for(r=0,n=0;n<tI-1;n++)for(oI[n]=r,e=0;e<1<<sI[n];e++)ny[r++]=n;for(ny[r-1]=n,i=0,n=0;n<16;n++)for(yb[n]=i,e=0;e<1<<mb[n];e++)ry[i++]=n;for(i>>=7;n<Id;n++)for(yb[n]=i<<7,e=0;e<1<<mb[n]-7;e++)ry[256+i++]=n;for(t=0;t<=oc;t++)s[t]=0;for(e=0;e<=143;)va[e*2+1]=8,e++,s[8]++;for(;e<=255;)va[e*2+1]=9,e++,s[9]++;for(;e<=279;)va[e*2+1]=7,e++,s[7]++;for(;e<=287;)va[e*2+1]=8,e++,s[8]++;for(kj(va,ey+1,s),e=0;e<Id;e++)ty[e*2+1]=5,ty[e*2]=Cj(e,5);Sj=new aI(va,sI,Jm+1,ey,oc),Aj=new aI(ty,mb,0,Id,oc),Tj=new aI(new Array(0),nle,0,rI,rle)},Oj=e=>{let t;for(t=0;t<ey;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Id;t++)e.dyn_dtree[t*2]=0;for(t=0;t<rI;t++)e.bl_tree[t*2]=0;e.dyn_ltree[iI*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Pj=e=>{e.bi_valid>8?iy(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Rj=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},lI=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Rj(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Rj(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},Mj=(e,t,r)=>{let n,i,s=0,o,a;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?Ao(e,i,t):(o=ny[i],Ao(e,o+Jm+1,t),a=sI[o],a!==0&&(i-=oI[o],Vn(e,i,a)),n--,o=Ij(n),Ao(e,o,r),a=mb[o],a!==0&&(n-=yb[o],Vn(e,n,a)));while(s<e.sym_next);Ao(e,iI,t)},cI=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,u=-1,l;for(e.heap_len=0,e.heap_max=_j,o=0;o<s;o++)r[o*2]!==0?(e.heap[++e.heap_len]=u=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,r[l*2]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=n[l*2+1]);for(t.max_code=u,o=e.heap_len>>1;o>=1;o--)lI(e,r,o);l=s;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],lI(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[l*2]=r[o*2]+r[a*2],e.depth[l]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[o*2+1]=r[a*2+1]=l,e.heap[1]=l++,lI(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],ole(e,t),kj(r,u,e.bl_count)},Nj=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],a=0,u=7,l=4;for(o===0&&(u=138,l=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=t[(n+1)*2+1],!(++a<u&&s===o)&&(a<l?e.bl_tree[s*2]+=a:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[bj*2]++):a<=10?e.bl_tree[wj*2]++:e.bl_tree[xj*2]++,a=0,i=s,o===0?(u=138,l=3):s===o?(u=6,l=3):(u=7,l=4))},Dj=(e,t,r)=>{let n,i=-1,s,o=t[0*2+1],a=0,u=7,l=4;for(o===0&&(u=138,l=3),n=0;n<=r;n++)if(s=o,o=t[(n+1)*2+1],!(++a<u&&s===o)){if(a<l)do Ao(e,s,e.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ao(e,s,e.bl_tree),a--),Ao(e,bj,e.bl_tree),Vn(e,a-3,2)):a<=10?(Ao(e,wj,e.bl_tree),Vn(e,a-3,3)):(Ao(e,xj,e.bl_tree),Vn(e,a-11,7));a=0,i=s,o===0?(u=138,l=3):s===o?(u=6,l=3):(u=7,l=4)}},ule=e=>{let t;for(Nj(e,e.dyn_ltree,e.l_desc.max_code),Nj(e,e.dyn_dtree,e.d_desc.max_code),cI(e,e.bl_desc),t=rI-1;t>=3&&e.bl_tree[Ej[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},lle=(e,t,r,n)=>{let i;for(Vn(e,t-257,5),Vn(e,r-1,5),Vn(e,n-4,4),i=0;i<n;i++)Vn(e,e.bl_tree[Ej[i]*2+1],3);Dj(e,e.dyn_ltree,t-1),Dj(e,e.dyn_dtree,r-1)},cle=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return yj;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return gj;for(r=32;r<Jm;r++)if(e.dyn_ltree[r*2]!==0)return gj;return yj};let Lj=!1;const hle=e=>{Lj||(ale(),Lj=!0),e.l_desc=new uI(e.dyn_ltree,Sj),e.d_desc=new uI(e.dyn_dtree,Aj),e.bl_desc=new uI(e.bl_tree,Tj),e.bi_buf=0,e.bi_valid=0,Oj(e)},Bj=(e,t,r,n)=>{Vn(e,(Que<<1)+(n?1:0),3),Pj(e),iy(e,r),iy(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},dle=e=>{Vn(e,vj<<1,3),Ao(e,iI,va),sle(e)},fle=(e,t,r,n)=>{let i,s,o=0;e.level>0?(e.strm.data_type===Kue&&(e.strm.data_type=cle(e)),cI(e,e.l_desc),cI(e,e.d_desc),o=ule(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?Bj(e,t,r,n):e.strategy===Yue||s===i?(Vn(e,(vj<<1)+(n?1:0),3),Mj(e,va,ty)):(Vn(e,(Jue<<1)+(n?1:0),3),lle(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Mj(e,e.dyn_ltree,e.dyn_dtree)),Oj(e),n&&Pj(e)},ple=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(ny[r]+Jm+1)*2]++,e.dyn_dtree[Ij(t)*2]++),e.sym_next===e.sym_end);var mle=hle,yle=Bj,gle=fle,vle=ple,_le=dle,ble={_tr_init:mle,_tr_stored_block:yle,_tr_flush_block:gle,_tr_tally:vle,_tr_align:_le},sy=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+t[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};const wle=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},xle=new Uint32Array(wle());var Mr=(e,t,r,n)=>{const i=xle,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^i[(e^t[o])&255];return e^-1},ac={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cd={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ele,_tr_stored_block:hI,_tr_flush_block:Sle,_tr_tally:Mu,_tr_align:Ale}=ble,{Z_NO_FLUSH:Nu,Z_PARTIAL_FLUSH:Tle,Z_FULL_FLUSH:Ile,Z_FINISH:ji,Z_BLOCK:Fj,Z_OK:$r,Z_STREAM_END:Uj,Z_STREAM_ERROR:To,Z_DATA_ERROR:Cle,Z_BUF_ERROR:dI,Z_DEFAULT_COMPRESSION:kle,Z_FILTERED:Ole,Z_HUFFMAN_ONLY:gb,Z_RLE:Ple,Z_FIXED:Rle,Z_DEFAULT_STRATEGY:Mle,Z_UNKNOWN:Nle,Z_DEFLATED:vb}=Cd,Dle=9,Lle=15,Ble=8,Fle=29,Ule=256,fI=Ule+1+Fle,jle=30,zle=19,Hle=2*fI+1,Gle=15,at=3,Du=258,Io=Du+at+1,$le=32,kd=42,pI=57,mI=69,yI=73,gI=91,vI=103,uc=113,oy=666,Tn=1,Od=2,lc=3,Pd=4,Vle=3,cc=(e,t)=>(e.msg=ac[t],t),jj=e=>e*2-(e>4?9:0),Lu=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Wle=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let qle=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Bu=qle;const hi=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},di=(e,t)=>{Sle(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,hi(e.strm)},gt=(e,t)=>{e.pending_buf[e.pending++]=t},ay=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},_I=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=sy(e.adler,t,i,r):e.state.wrap===2&&(e.adler=Mr(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},zj=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,o=e.prev_length,a=e.nice_match;const u=e.strstart>e.w_size-Io?e.strstart-(e.w_size-Io):0,l=e.window,h=e.w_mask,f=e.prev,p=e.strstart+Du;let m=l[n+o-1],y=l[n+o];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(l[i+o]!==y||l[i+o-1]!==m||l[i]!==l[n]||l[++i]!==l[n+1])){n+=2,i++;do;while(l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&n<p);if(s=Du-(p-n),n=p-Du,s>o){if(e.match_start=t,o=s,s>=a)break;m=l[n+o-1],y=l[n+o]}}while((t=f[t&h])>u&&--r!==0);return o<=e.lookahead?o:e.lookahead},Rd=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Io)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Wle(e),n+=t),e.strm.avail_in===0)break;if(r=_I(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=at)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Bu(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Bu(e,e.ins_h,e.window[i+at-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<at)););}while(e.lookahead<Io&&e.strm.avail_in!==0)},Hj=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,o=0,a=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==ji||t===Nu||n!==i+e.strm.avail_in)))break;o=t===ji&&n===i+e.strm.avail_in?1:0,hI(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,hi(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(_I(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(o===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Pd:t!==Nu&&t!==ji&&e.strm.avail_in===0&&e.strstart===e.block_start?Od:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(_I(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===ji)&&t!==Nu&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,o=t===ji&&e.strm.avail_in===0&&n===i?1:0,hI(e,e.block_start,n,o),e.block_start+=n,hi(e.strm)),o?lc:Tn)},bI=(e,t)=>{let r,n;for(;;){if(e.lookahead<Io){if(Rd(e),e.lookahead<Io&&t===Nu)return Tn;if(e.lookahead===0)break}if(r=0,e.lookahead>=at&&(e.ins_h=Bu(e,e.ins_h,e.window[e.strstart+at-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Io&&(e.match_length=zj(e,r)),e.match_length>=at)if(n=Mu(e,e.strstart-e.match_start,e.match_length-at),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=at){e.match_length--;do e.strstart++,e.ins_h=Bu(e,e.ins_h,e.window[e.strstart+at-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Bu(e,e.ins_h,e.window[e.strstart+1]);else n=Mu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(di(e,!1),e.strm.avail_out===0))return Tn}return e.insert=e.strstart<at-1?e.strstart:at-1,t===ji?(di(e,!0),e.strm.avail_out===0?lc:Pd):e.sym_next&&(di(e,!1),e.strm.avail_out===0)?Tn:Od},Md=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<Io){if(Rd(e),e.lookahead<Io&&t===Nu)return Tn;if(e.lookahead===0)break}if(r=0,e.lookahead>=at&&(e.ins_h=Bu(e,e.ins_h,e.window[e.strstart+at-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=at-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Io&&(e.match_length=zj(e,r),e.match_length<=5&&(e.strategy===Ole||e.match_length===at&&e.strstart-e.match_start>4096)&&(e.match_length=at-1)),e.prev_length>=at&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-at,n=Mu(e,e.strstart-1-e.prev_match,e.prev_length-at),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Bu(e,e.ins_h,e.window[e.strstart+at-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=at-1,e.strstart++,n&&(di(e,!1),e.strm.avail_out===0))return Tn}else if(e.match_available){if(n=Mu(e,0,e.window[e.strstart-1]),n&&di(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Tn}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Mu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<at-1?e.strstart:at-1,t===ji?(di(e,!0),e.strm.avail_out===0?lc:Pd):e.sym_next&&(di(e,!1),e.strm.avail_out===0)?Tn:Od},Zle=(e,t)=>{let r,n,i,s;const o=e.window;for(;;){if(e.lookahead<=Du){if(Rd(e),e.lookahead<=Du&&t===Nu)return Tn;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=at&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+Du;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=Du-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=at?(r=Mu(e,1,e.match_length-at),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Mu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(di(e,!1),e.strm.avail_out===0))return Tn}return e.insert=0,t===ji?(di(e,!0),e.strm.avail_out===0?lc:Pd):e.sym_next&&(di(e,!1),e.strm.avail_out===0)?Tn:Od},Xle=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Rd(e),e.lookahead===0)){if(t===Nu)return Tn;break}if(e.match_length=0,r=Mu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(di(e,!1),e.strm.avail_out===0))return Tn}return e.insert=0,t===ji?(di(e,!0),e.strm.avail_out===0?lc:Pd):e.sym_next&&(di(e,!1),e.strm.avail_out===0)?Tn:Od};function Co(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const uy=[new Co(0,0,0,0,Hj),new Co(4,4,8,4,bI),new Co(4,5,16,8,bI),new Co(4,6,32,32,bI),new Co(4,4,16,16,Md),new Co(8,16,32,32,Md),new Co(8,16,128,128,Md),new Co(8,32,128,256,Md),new Co(32,128,258,1024,Md),new Co(32,258,258,4096,Md)],Yle=e=>{e.window_size=2*e.w_size,Lu(e.head),e.max_lazy_match=uy[e.level].max_lazy,e.good_match=uy[e.level].good_length,e.nice_match=uy[e.level].nice_length,e.max_chain_length=uy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=at-1,e.match_available=0,e.ins_h=0};function Kle(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Hle*2),this.dyn_dtree=new Uint16Array((2*jle+1)*2),this.bl_tree=new Uint16Array((2*zle+1)*2),Lu(this.dyn_ltree),Lu(this.dyn_dtree),Lu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Gle+1),this.heap=new Uint16Array(2*fI+1),Lu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*fI+1),Lu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ly=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==kd&&t.status!==pI&&t.status!==mI&&t.status!==yI&&t.status!==gI&&t.status!==vI&&t.status!==uc&&t.status!==oy?1:0},Gj=e=>{if(ly(e))return cc(e,To);e.total_in=e.total_out=0,e.data_type=Nle;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?pI:t.wrap?kd:uc,e.adler=t.wrap===2?0:1,t.last_flush=-2,Ele(t),$r},$j=e=>{const t=Gj(e);return t===$r&&Yle(e.state),t},Qle=(e,t)=>ly(e)||e.state.wrap!==2?To:(e.state.gzhead=t,$r),Vj=(e,t,r,n,i,s)=>{if(!e)return To;let o=1;if(t===kle&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>Dle||r!==vb||n<8||n>15||t<0||t>9||s<0||s>Rle||n===8&&o!==1)return cc(e,To);n===8&&(n=9);const a=new Kle;return e.state=a,a.strm=e,a.status=kd,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+at-1)/at),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=s,a.method=r,$j(e)},Jle=(e,t)=>Vj(e,t,vb,Lle,Ble,Mle),ece=(e,t)=>{if(ly(e)||t>Fj||t<0)return e?cc(e,To):To;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===oy&&t!==ji)return cc(e,e.avail_out===0?dI:To);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(hi(e),e.avail_out===0)return r.last_flush=-1,$r}else if(e.avail_in===0&&jj(t)<=jj(n)&&t!==ji)return cc(e,dI);if(r.status===oy&&e.avail_in!==0)return cc(e,dI);if(r.status===kd&&r.wrap===0&&(r.status=uc),r.status===kd){let i=vb+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=gb||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=$le),i+=31-i%31,ay(r,i),r.strstart!==0&&(ay(r,e.adler>>>16),ay(r,e.adler&65535)),e.adler=1,r.status=uc,hi(e),r.pending!==0)return r.last_flush=-1,$r}if(r.status===pI){if(e.adler=0,gt(r,31),gt(r,139),gt(r,8),r.gzhead)gt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),gt(r,r.gzhead.time&255),gt(r,r.gzhead.time>>8&255),gt(r,r.gzhead.time>>16&255),gt(r,r.gzhead.time>>24&255),gt(r,r.level===9?2:r.strategy>=gb||r.level<2?4:0),gt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(gt(r,r.gzhead.extra.length&255),gt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Mr(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=mI;else if(gt(r,0),gt(r,0),gt(r,0),gt(r,0),gt(r,0),gt(r,r.level===9?2:r.strategy>=gb||r.level<2?4:0),gt(r,Vle),r.status=uc,hi(e),r.pending!==0)return r.last_flush=-1,$r}if(r.status===mI){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let a=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=a,hi(e),r.pending!==0)return r.last_flush=-1,$r;i=0,s-=a}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=yI}if(r.status===yI){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),hi(e),r.pending!==0)return r.last_flush=-1,$r;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,gt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=gI}if(r.status===gI){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i)),hi(e),r.pending!==0)return r.last_flush=-1,$r;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,gt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Mr(e.adler,r.pending_buf,r.pending-i,i))}r.status=vI}if(r.status===vI){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(hi(e),r.pending!==0))return r.last_flush=-1,$r;gt(r,e.adler&255),gt(r,e.adler>>8&255),e.adler=0}if(r.status=uc,hi(e),r.pending!==0)return r.last_flush=-1,$r}if(e.avail_in!==0||r.lookahead!==0||t!==Nu&&r.status!==oy){let i=r.level===0?Hj(r,t):r.strategy===gb?Xle(r,t):r.strategy===Ple?Zle(r,t):uy[r.level].func(r,t);if((i===lc||i===Pd)&&(r.status=oy),i===Tn||i===lc)return e.avail_out===0&&(r.last_flush=-1),$r;if(i===Od&&(t===Tle?Ale(r):t!==Fj&&(hI(r,0,0,!1),t===Ile&&(Lu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),hi(e),e.avail_out===0))return r.last_flush=-1,$r}return t!==ji?$r:r.wrap<=0?Uj:(r.wrap===2?(gt(r,e.adler&255),gt(r,e.adler>>8&255),gt(r,e.adler>>16&255),gt(r,e.adler>>24&255),gt(r,e.total_in&255),gt(r,e.total_in>>8&255),gt(r,e.total_in>>16&255),gt(r,e.total_in>>24&255)):(ay(r,e.adler>>>16),ay(r,e.adler&65535)),hi(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?$r:Uj)},tce=e=>{if(ly(e))return To;const t=e.state.status;return e.state=null,t===uc?cc(e,Cle):$r},rce=(e,t)=>{let r=t.length;if(ly(e))return To;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==kd||n.lookahead)return To;if(i===1&&(e.adler=sy(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Lu(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(t.subarray(r-n.w_size,r),0),t=u,r=n.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Rd(n);n.lookahead>=at;){let u=n.strstart,l=n.lookahead-(at-1);do n.ins_h=Bu(n,n.ins_h,n.window[u+at-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=at-1,Rd(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=at-1,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=i,$r};var nce=Jle,ice=Vj,sce=$j,oce=Gj,ace=Qle,uce=ece,lce=tce,cce=rce,hce="pako deflate (from Nodeca project)",cy={deflateInit:nce,deflateInit2:ice,deflateReset:sce,deflateResetKeep:oce,deflateSetHeader:ace,deflate:uce,deflateEnd:lce,deflateSetDictionary:cce,deflateInfo:hce};const dce=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var fce=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)dce(r,n)&&(e[n]=r[n])}}return e},pce=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let o=e[n];r.set(o,i),i+=o.length}return r},_b={assign:fce,flattenChunks:pce};let Wj=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Wj=!1}const hy=new Uint8Array(256);for(let e=0;e<256;e++)hy[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hy[254]=hy[254]=1;var mce=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,o=e.length,a=0;for(i=0;i<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const yce=(e,t)=>{if(t<65534&&e.subarray&&Wj)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var gce=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=e[n++];if(o<128){s[i++]=o;continue}let a=hy[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|e[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return yce(s,i)},vce=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+hy[e[r]]>t?r:t},dy={string2buf:mce,buf2string:gce,utf8border:vce};function _ce(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qj=_ce;const Zj=Object.prototype.toString,{Z_NO_FLUSH:bce,Z_SYNC_FLUSH:wce,Z_FULL_FLUSH:xce,Z_FINISH:Ece,Z_OK:bb,Z_STREAM_END:Sce,Z_DEFAULT_COMPRESSION:Ace,Z_DEFAULT_STRATEGY:Tce,Z_DEFLATED:Ice}=Cd;function fy(e){this.options=_b.assign({level:Ace,method:Ice,chunkSize:16384,windowBits:15,memLevel:8,strategy:Tce},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qj,this.strm.avail_out=0;let r=cy.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==bb)throw new Error(ac[r]);if(t.header&&cy.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=dy.string2buf(t.dictionary):Zj.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=cy.deflateSetDictionary(this.strm,n),r!==bb)throw new Error(ac[r]);this._dict_set=!0}}fy.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Ece:bce,typeof e=="string"?r.input=dy.string2buf(e):Zj.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===wce||s===xce)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=cy.deflate(r,s),i===Sce)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=cy.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===bb;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0},fy.prototype.onData=function(e){this.chunks.push(e)},fy.prototype.onEnd=function(e){e===bb&&(this.result=_b.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function wI(e,t){const r=new fy(t);if(r.push(e,!0),r.err)throw r.msg||ac[r.err];return r.result}function Cce(e,t){return t=t||{},t.raw=!0,wI(e,t)}function kce(e,t){return t=t||{},t.gzip=!0,wI(e,t)}var Oce=fy,Pce=wI,Rce=Cce,Mce=kce,Nce=Cd,Dce={Deflate:Oce,deflate:Pce,deflateRaw:Rce,gzip:Mce,constants:Nce};const wb=16209,Lce=16191;var Bce=function(e,t){let r,n,i,s,o,a,u,l,h,f,p,m,y,v,w,_,x,E,T,R,P,k,M,V;const H=e.state;r=e.next_in,M=e.input,n=r+(e.avail_in-5),i=e.next_out,V=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),a=H.dmax,u=H.wsize,l=H.whave,h=H.wnext,f=H.window,p=H.hold,m=H.bits,y=H.lencode,v=H.distcode,w=(1<<H.lenbits)-1,_=(1<<H.distbits)-1;e:do{m<15&&(p+=M[r++]<<m,m+=8,p+=M[r++]<<m,m+=8),x=y[p&w];t:for(;;){if(E=x>>>24,p>>>=E,m-=E,E=x>>>16&255,E===0)V[i++]=x&65535;else if(E&16){T=x&65535,E&=15,E&&(m<E&&(p+=M[r++]<<m,m+=8),T+=p&(1<<E)-1,p>>>=E,m-=E),m<15&&(p+=M[r++]<<m,m+=8,p+=M[r++]<<m,m+=8),x=v[p&_];r:for(;;){if(E=x>>>24,p>>>=E,m-=E,E=x>>>16&255,E&16){if(R=x&65535,E&=15,m<E&&(p+=M[r++]<<m,m+=8,m<E&&(p+=M[r++]<<m,m+=8)),R+=p&(1<<E)-1,R>a){e.msg="invalid distance too far back",H.mode=wb;break e}if(p>>>=E,m-=E,E=i-s,R>E){if(E=R-E,E>l&&H.sane){e.msg="invalid distance too far back",H.mode=wb;break e}if(P=0,k=f,h===0){if(P+=u-E,E<T){T-=E;do V[i++]=f[P++];while(--E);P=i-R,k=V}}else if(h<E){if(P+=u+h-E,E-=h,E<T){T-=E;do V[i++]=f[P++];while(--E);if(P=0,h<T){E=h,T-=E;do V[i++]=f[P++];while(--E);P=i-R,k=V}}}else if(P+=h-E,E<T){T-=E;do V[i++]=f[P++];while(--E);P=i-R,k=V}for(;T>2;)V[i++]=k[P++],V[i++]=k[P++],V[i++]=k[P++],T-=3;T&&(V[i++]=k[P++],T>1&&(V[i++]=k[P++]))}else{P=i-R;do V[i++]=V[P++],V[i++]=V[P++],V[i++]=V[P++],T-=3;while(T>2);T&&(V[i++]=V[P++],T>1&&(V[i++]=V[P++]))}}else if(E&64){e.msg="invalid distance code",H.mode=wb;break e}else{x=v[(x&65535)+(p&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){H.mode=Lce;break e}else{e.msg="invalid literal/length code",H.mode=wb;break e}else{x=y[(x&65535)+(p&(1<<E)-1)];continue t}break}}while(r<n&&i<o);T=m>>3,r-=T,m-=T<<3,p&=(1<<m)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=i<o?257+(o-i):257-(i-o),H.hold=p,H.bits=m};const Nd=15,Xj=852,Yj=592,Kj=0,xI=1,Qj=2,Fce=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Uce=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),jce=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zce=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var py=(e,t,r,n,i,s,o,a)=>{const u=a.bits;let l=0,h=0,f=0,p=0,m=0,y=0,v=0,w=0,_=0,x=0,E,T,R,P,k,M=null,V;const H=new Uint16Array(Nd+1),X=new Uint16Array(Nd+1);let Q=null,W,G,O;for(l=0;l<=Nd;l++)H[l]=0;for(h=0;h<n;h++)H[t[r+h]]++;for(m=u,p=Nd;p>=1&&H[p]===0;p--);if(m>p&&(m=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&H[f]===0;f++);for(m<f&&(m=f),w=1,l=1;l<=Nd;l++)if(w<<=1,w-=H[l],w<0)return-1;if(w>0&&(e===Kj||p!==1))return-1;for(X[1]=0,l=1;l<Nd;l++)X[l+1]=X[l]+H[l];for(h=0;h<n;h++)t[r+h]!==0&&(o[X[t[r+h]]++]=h);if(e===Kj?(M=Q=o,V=20):e===xI?(M=Fce,Q=Uce,V=257):(M=jce,Q=zce,V=0),x=0,h=0,l=f,k=s,y=m,v=0,R=-1,_=1<<m,P=_-1,e===xI&&_>Xj||e===Qj&&_>Yj)return 1;for(;;){W=l-v,o[h]+1<V?(G=0,O=o[h]):o[h]>=V?(G=Q[o[h]-V],O=M[o[h]-V]):(G=32+64,O=0),E=1<<l-v,T=1<<y,f=T;do T-=E,i[k+(x>>v)+T]=W<<24|G<<16|O|0;while(T!==0);for(E=1<<l-1;x&E;)E>>=1;if(E!==0?(x&=E-1,x+=E):x=0,h++,--H[l]===0){if(l===p)break;l=t[r+o[h]]}if(l>m&&(x&P)!==R){for(v===0&&(v=m),k+=f,y=l-v,w=1<<y;y+v<p&&(w-=H[y+v],!(w<=0));)y++,w<<=1;if(_+=1<<y,e===xI&&_>Xj||e===Qj&&_>Yj)return 1;R=x&P,i[R]=m<<24|y<<16|k-s|0}}return x!==0&&(i[k+x]=l-v<<24|64<<16|0),a.bits=m,0};const Hce=0,Jj=1,e6=2,{Z_FINISH:t6,Z_BLOCK:Gce,Z_TREES:xb,Z_OK:hc,Z_STREAM_END:$ce,Z_NEED_DICT:Vce,Z_STREAM_ERROR:Ms,Z_DATA_ERROR:r6,Z_MEM_ERROR:n6,Z_BUF_ERROR:Wce,Z_DEFLATED:i6}=Cd,Eb=16180,s6=16181,o6=16182,a6=16183,u6=16184,l6=16185,c6=16186,h6=16187,d6=16188,f6=16189,Sb=16190,_a=16191,EI=16192,p6=16193,SI=16194,m6=16195,y6=16196,g6=16197,v6=16198,Ab=16199,Tb=16200,_6=16201,b6=16202,w6=16203,x6=16204,E6=16205,AI=16206,S6=16207,A6=16208,Ht=16209,T6=16210,I6=16211,qce=852,Zce=592,Xce=15,Yce=Xce,C6=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Kce(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const dc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Eb||t.mode>I6?1:0},k6=e=>{if(dc(e))return Ms;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Eb,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(qce),t.distcode=t.distdyn=new Int32Array(Zce),t.sane=1,t.back=-1,hc},O6=e=>{if(dc(e))return Ms;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,k6(e)},P6=(e,t)=>{let r;if(dc(e))return Ms;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ms:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,O6(e))},R6=(e,t)=>{if(!e)return Ms;const r=new Kce;e.state=r,r.strm=e,r.window=null,r.mode=Eb;const n=P6(e,t);return n!==hc&&(e.state=null),n},Qce=e=>R6(e,Yce);let M6=!0,TI,II;const Jce=e=>{if(M6){TI=new Int32Array(512),II=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(py(Jj,e.lens,0,288,TI,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;py(e6,e.lens,0,32,II,0,e.work,{bits:5}),M6=!1}e.lencode=TI,e.lenbits=9,e.distcode=II,e.distbits=5},N6=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},ehe=(e,t)=>{let r,n,i,s,o,a,u,l,h,f,p,m,y,v,w=0,_,x,E,T,R,P,k,M;const V=new Uint8Array(4);let H,X;const Q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(dc(e)||!e.output||!e.input&&e.avail_in!==0)return Ms;r=e.state,r.mode===_a&&(r.mode=EI),o=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,l=r.hold,h=r.bits,f=a,p=u,M=hc;e:for(;;)switch(r.mode){case Eb:if(r.wrap===0){r.mode=EI;break}for(;h<16;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,V[0]=l&255,V[1]=l>>>8&255,r.check=Mr(r.check,V,2,0),l=0,h=0,r.mode=s6;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){e.msg="incorrect header check",r.mode=Ht;break}if((l&15)!==i6){e.msg="unknown compression method",r.mode=Ht;break}if(l>>>=4,h-=4,k=(l&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){e.msg="invalid window size",r.mode=Ht;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=l&512?f6:_a,l=0,h=0;break;case s6:for(;h<16;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(r.flags=l,(r.flags&255)!==i6){e.msg="unknown compression method",r.mode=Ht;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ht;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(V[0]=l&255,V[1]=l>>>8&255,r.check=Mr(r.check,V,2,0)),l=0,h=0,r.mode=o6;case o6:for(;h<32;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(V[0]=l&255,V[1]=l>>>8&255,V[2]=l>>>16&255,V[3]=l>>>24&255,r.check=Mr(r.check,V,4,0)),l=0,h=0,r.mode=a6;case a6:for(;h<16;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(V[0]=l&255,V[1]=l>>>8&255,r.check=Mr(r.check,V,2,0)),l=0,h=0,r.mode=u6;case u6:if(r.flags&1024){for(;h<16;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(V[0]=l&255,V[1]=l>>>8&255,r.check=Mr(r.check,V,2,0)),l=0,h=0}else r.head&&(r.head.extra=null);r.mode=l6;case l6:if(r.flags&1024&&(m=r.length,m>a&&(m=a),m&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+m),k)),r.flags&512&&r.wrap&4&&(r.check=Mr(r.check,n,m,s)),a-=m,s+=m,r.length-=m),r.length))break e;r.length=0,r.mode=c6;case c6:if(r.flags&2048){if(a===0)break e;m=0;do k=n[s+m++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&m<a);if(r.flags&512&&r.wrap&4&&(r.check=Mr(r.check,n,m,s)),a-=m,s+=m,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=h6;case h6:if(r.flags&4096){if(a===0)break e;m=0;do k=n[s+m++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&m<a);if(r.flags&512&&r.wrap&4&&(r.check=Mr(r.check,n,m,s)),a-=m,s+=m,k)break e}else r.head&&(r.head.comment=null);r.mode=d6;case d6:if(r.flags&512){for(;h<16;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(r.wrap&4&&l!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ht;break}l=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=_a;break;case f6:for(;h<32;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}e.adler=r.check=C6(l),l=0,h=0,r.mode=Sb;case Sb:if(r.havedict===0)return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,r.hold=l,r.bits=h,Vce;e.adler=r.check=1,r.mode=_a;case _a:if(t===Gce||t===xb)break e;case EI:if(r.last){l>>>=h&7,h-=h&7,r.mode=AI;break}for(;h<3;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}switch(r.last=l&1,l>>>=1,h-=1,l&3){case 0:r.mode=p6;break;case 1:if(Jce(r),r.mode=Ab,t===xb){l>>>=2,h-=2;break e}break;case 2:r.mode=y6;break;case 3:e.msg="invalid block type",r.mode=Ht}l>>>=2,h-=2;break;case p6:for(l>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if((l&65535)!==(l>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ht;break}if(r.length=l&65535,l=0,h=0,r.mode=SI,t===xb)break e;case SI:r.mode=m6;case m6:if(m=r.length,m){if(m>a&&(m=a),m>u&&(m=u),m===0)break e;i.set(n.subarray(s,s+m),o),a-=m,s+=m,u-=m,o+=m,r.length-=m;break}r.mode=_a;break;case y6:for(;h<14;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(r.nlen=(l&31)+257,l>>>=5,h-=5,r.ndist=(l&31)+1,l>>>=5,h-=5,r.ncode=(l&15)+4,l>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ht;break}r.have=0,r.mode=g6;case g6:for(;r.have<r.ncode;){for(;h<3;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}r.lens[Q[r.have++]]=l&7,l>>>=3,h-=3}for(;r.have<19;)r.lens[Q[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},M=py(Hce,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,M){e.msg="invalid code lengths set",r.mode=Ht;break}r.have=0,r.mode=v6;case v6:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[l&(1<<r.lenbits)-1],_=w>>>24,x=w>>>16&255,E=w&65535,!(_<=h);){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(E<16)l>>>=_,h-=_,r.lens[r.have++]=E;else{if(E===16){for(X=_+2;h<X;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(l>>>=_,h-=_,r.have===0){e.msg="invalid bit length repeat",r.mode=Ht;break}k=r.lens[r.have-1],m=3+(l&3),l>>>=2,h-=2}else if(E===17){for(X=_+3;h<X;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}l>>>=_,h-=_,k=0,m=3+(l&7),l>>>=3,h-=3}else{for(X=_+7;h<X;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}l>>>=_,h-=_,k=0,m=11+(l&127),l>>>=7,h-=7}if(r.have+m>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ht;break}for(;m--;)r.lens[r.have++]=k}}if(r.mode===Ht)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ht;break}if(r.lenbits=9,H={bits:r.lenbits},M=py(Jj,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,M){e.msg="invalid literal/lengths set",r.mode=Ht;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},M=py(e6,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,M){e.msg="invalid distances set",r.mode=Ht;break}if(r.mode=Ab,t===xb)break e;case Ab:r.mode=Tb;case Tb:if(a>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,r.hold=l,r.bits=h,Bce(e,p),o=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,l=r.hold,h=r.bits,r.mode===_a&&(r.back=-1);break}for(r.back=0;w=r.lencode[l&(1<<r.lenbits)-1],_=w>>>24,x=w>>>16&255,E=w&65535,!(_<=h);){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(x&&!(x&240)){for(T=_,R=x,P=E;w=r.lencode[P+((l&(1<<T+R)-1)>>T)],_=w>>>24,x=w>>>16&255,E=w&65535,!(T+_<=h);){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}l>>>=T,h-=T,r.back+=T}if(l>>>=_,h-=_,r.back+=_,r.length=E,x===0){r.mode=E6;break}if(x&32){r.back=-1,r.mode=_a;break}if(x&64){e.msg="invalid literal/length code",r.mode=Ht;break}r.extra=x&15,r.mode=_6;case _6:if(r.extra){for(X=r.extra;h<X;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=b6;case b6:for(;w=r.distcode[l&(1<<r.distbits)-1],_=w>>>24,x=w>>>16&255,E=w&65535,!(_<=h);){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(!(x&240)){for(T=_,R=x,P=E;w=r.distcode[P+((l&(1<<T+R)-1)>>T)],_=w>>>24,x=w>>>16&255,E=w&65535,!(T+_<=h);){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}l>>>=T,h-=T,r.back+=T}if(l>>>=_,h-=_,r.back+=_,x&64){e.msg="invalid distance code",r.mode=Ht;break}r.offset=E,r.extra=x&15,r.mode=w6;case w6:if(r.extra){for(X=r.extra;h<X;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ht;break}r.mode=x6;case x6:if(u===0)break e;if(m=p-u,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ht;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),v=r.window}else v=i,y=o-r.offset,m=r.length;m>u&&(m=u),u-=m,r.length-=m;do i[o++]=v[y++];while(--m);r.length===0&&(r.mode=Tb);break;case E6:if(u===0)break e;i[o++]=r.length,u--,r.mode=Tb;break;case AI:if(r.wrap){for(;h<32;){if(a===0)break e;a--,l|=n[s++]<<h,h+=8}if(p-=u,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Mr(r.check,i,p,o-p):sy(r.check,i,p,o-p)),p=u,r.wrap&4&&(r.flags?l:C6(l))!==r.check){e.msg="incorrect data check",r.mode=Ht;break}l=0,h=0}r.mode=S6;case S6:if(r.wrap&&r.flags){for(;h<32;){if(a===0)break e;a--,l+=n[s++]<<h,h+=8}if(r.wrap&4&&l!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ht;break}l=0,h=0}r.mode=A6;case A6:M=$ce;break e;case Ht:M=r6;break e;case T6:return n6;case I6:default:return Ms}return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,r.hold=l,r.bits=h,(r.wsize||p!==e.avail_out&&r.mode<Ht&&(r.mode<AI||t!==t6))&&N6(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Mr(r.check,i,p,e.next_out-p):sy(r.check,i,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===_a?128:0)+(r.mode===Ab||r.mode===SI?256:0),(f===0&&p===0||t===t6)&&M===hc&&(M=Wce),M},the=e=>{if(dc(e))return Ms;let t=e.state;return t.window&&(t.window=null),e.state=null,hc},rhe=(e,t)=>{if(dc(e))return Ms;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,hc):Ms},nhe=(e,t)=>{const r=t.length;let n,i,s;return dc(e)||(n=e.state,n.wrap!==0&&n.mode!==Sb)?Ms:n.mode===Sb&&(i=1,i=sy(i,t,r,0),i!==n.check)?r6:(s=N6(e,t,r,r),s?(n.mode=T6,n6):(n.havedict=1,hc))};var ihe=O6,she=P6,ohe=k6,ahe=Qce,uhe=R6,lhe=ehe,che=the,hhe=rhe,dhe=nhe,fhe="pako inflate (from Nodeca project)",ba={inflateReset:ihe,inflateReset2:she,inflateResetKeep:ohe,inflateInit:ahe,inflateInit2:uhe,inflate:lhe,inflateEnd:che,inflateGetHeader:hhe,inflateSetDictionary:dhe,inflateInfo:fhe};function phe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mhe=phe;const D6=Object.prototype.toString,{Z_NO_FLUSH:yhe,Z_FINISH:ghe,Z_OK:my,Z_STREAM_END:CI,Z_NEED_DICT:kI,Z_STREAM_ERROR:vhe,Z_DATA_ERROR:L6,Z_MEM_ERROR:_he}=Cd;function yy(e){this.options=_b.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qj,this.strm.avail_out=0;let r=ba.inflateInit2(this.strm,t.windowBits);if(r!==my)throw new Error(ac[r]);if(this.header=new mhe,ba.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=dy.string2buf(t.dictionary):D6.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ba.inflateSetDictionary(this.strm,t.dictionary),r!==my)))throw new Error(ac[r])}yy.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?ghe:yhe,D6.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ba.inflate(r,o),s===kI&&i&&(s=ba.inflateSetDictionary(r,i),s===my?s=ba.inflate(r,o):s===L6&&(s=kI));r.avail_in>0&&s===CI&&r.state.wrap>0&&e[r.next_in]!==0;)ba.inflateReset(r),s=ba.inflate(r,o);switch(s){case vhe:case L6:case kI:case _he:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===CI))if(this.options.to==="string"){let u=dy.utf8border(r.output,r.next_out),l=r.next_out-u,h=dy.buf2string(r.output,u);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(u,u+l),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===my&&a===0)){if(s===CI)return s=ba.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0},yy.prototype.onData=function(e){this.chunks.push(e)},yy.prototype.onEnd=function(e){e===my&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_b.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function OI(e,t){const r=new yy(t);if(r.push(e),r.err)throw r.msg||ac[r.err];return r.result}function bhe(e,t){return t=t||{},t.raw=!0,OI(e,t)}var whe=yy,xhe=OI,Ehe=bhe,She=OI,Ahe=Cd,The={Inflate:whe,inflate:xhe,inflateRaw:Ehe,ungzip:She,constants:Ahe};const{Deflate:rwe,deflate:nwe,deflateRaw:iwe,gzip:Ihe}=Dce,{Inflate:swe,inflate:owe,inflateRaw:awe,ungzip:Che}=The;var khe=Ihe,Ohe=Che,Vr=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},In={searchParams:"URLSearchParams"in Vr,iterable:"Symbol"in Vr&&"iterator"in Symbol,blob:"FileReader"in Vr&&"Blob"in Vr&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Vr,arrayBuffer:"ArrayBuffer"in Vr};function Phe(e){return e&&DataView.prototype.isPrototypeOf(e)}if(In.arrayBuffer)var Rhe=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Mhe=ArrayBuffer.isView||function(e){return e&&Rhe.indexOf(Object.prototype.toString.call(e))>-1};function Dd(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function PI(e){return typeof e!="string"&&(e=String(e)),e}function RI(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return In.iterable&&(t[Symbol.iterator]=function(){return t}),t}function wr(e){this.map={},e instanceof wr?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}wr.prototype.append=function(e,t){e=Dd(e),t=PI(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},wr.prototype.delete=function(e){delete this.map[Dd(e)]},wr.prototype.get=function(e){return e=Dd(e),this.has(e)?this.map[e]:null},wr.prototype.has=function(e){return this.map.hasOwnProperty(Dd(e))},wr.prototype.set=function(e,t){this.map[Dd(e)]=PI(t)},wr.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},wr.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),RI(e)},wr.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),RI(e)},wr.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),RI(e)},In.iterable&&(wr.prototype[Symbol.iterator]=wr.prototype.entries);function MI(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function B6(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function Nhe(e){var t=new FileReader,r=B6(t);return t.readAsArrayBuffer(e),r}function Dhe(e){var t=new FileReader,r=B6(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=n?n[1]:"utf-8";return t.readAsText(e,i),r}function Lhe(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function F6(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function U6(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:In.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:In.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:In.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():In.arrayBuffer&&In.blob&&Phe(e)?(this._bodyArrayBuffer=F6(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):In.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Mhe(e))?this._bodyArrayBuffer=F6(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):In.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},In.blob&&(this.blob=function(){var e=MI(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=MI(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(In.blob)return this.blob().then(Nhe);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=MI(this);if(e)return e;if(this._bodyBlob)return Dhe(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Lhe(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},In.formData&&(this.formData=function(){return this.text().then(Uhe)}),this.json=function(){return this.text().then(JSON.parse)},this}var Bhe=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Fhe(e){var t=e.toUpperCase();return Bhe.indexOf(t)>-1?t:e}function fc(e,t){if(!(this instanceof fc))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof fc){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new wr(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new wr(t.headers)),this.method=Fhe(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in Vr){var s=new AbortController;return s.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}fc.prototype.clone=function(){return new fc(this,{body:this._bodyInit})};function Uhe(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(s))}}),t}function jhe(e){var t=new wr,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{t.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),t}U6.call(fc.prototype);function ko(e,t){if(!(this instanceof ko))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new wr(t.headers),this.url=t.url||"",this._initBody(e)}U6.call(ko.prototype),ko.prototype.clone=function(){return new ko(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new wr(this.headers),url:this.url})},ko.error=function(){var e=new ko(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var zhe=[301,302,303,307,308];ko.redirect=function(e,t){if(zhe.indexOf(t)===-1)throw new RangeError("Invalid status code");return new ko(null,{status:t,headers:{location:e}})};var pc=Vr.DOMException;try{new pc}catch{pc=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},pc.prototype=Object.create(Error.prototype),pc.prototype.constructor=pc}function j6(e,t){return new Promise(function(r,n){var i=new fc(e,t);if(i.signal&&i.signal.aborted)return n(new pc("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var l={statusText:s.statusText,headers:jhe(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?l.status=200:l.status=s.status,l.url="responseURL"in s?s.responseURL:l.headers.get("X-Request-URL");var h="response"in s?s.response:s.responseText;setTimeout(function(){r(new ko(h,l))},0)},s.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){n(new pc("Aborted","AbortError"))},0)};function a(l){try{return l===""&&Vr.location.href?Vr.location.href:l}catch{return l}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(In.blob?s.responseType="blob":In.arrayBuffer&&(s.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof wr||Vr.Headers&&t.headers instanceof Vr.Headers)){var u=[];Object.getOwnPropertyNames(t.headers).forEach(function(l){u.push(Dd(l)),s.setRequestHeader(l,PI(t.headers[l]))}),i.headers.forEach(function(l,h){u.indexOf(h)===-1&&s.setRequestHeader(h,l)})}else i.headers.forEach(function(l,h){s.setRequestHeader(h,l)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}j6.polyfill=!0,Vr.fetch||(Vr.fetch=j6,Vr.Headers=wr,Vr.Request=fc,Vr.Response=ko);var Hhe=self.fetch.bind(self);const Ghe=nr(Hhe);var z6={exports:{}};(function(e){(function(t,r,n){e.exports?e.exports=n():r[t]=n()})("urljoin",Ye,function(){function t(r){var n=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var i=r.shift();r[0]=i+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var s=0;s<r.length;s++){var o=r[s];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(s>0&&(o=o.replace(/^[\/]+/,"")),s<r.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),n.push(o))}var a=n.join("/");a=a.replace(/\/(\?|&|#[^!])/g,"$1");var u=a.split("?");return a=u.shift()+(u.length>0?"?":"")+u.join("&"),a}return function(){var r;return typeof arguments[0]=="object"?r=arguments[0]:r=[].slice.call(arguments),t(r)}})})(z6);var $he=z6.exports;const H6=nr($he);var Vhe=Object.defineProperty,xr=(e,t)=>{for(var r in t)Vhe(e,r,{get:t[r],enumerable:!0})},G6={};xr(G6,{API_VERSION:()=>s8,BN_FEE_TRANSACTION_VERSION_1:()=>t8,BN_FEE_TRANSACTION_VERSION_2:()=>r8,BN_TRANSACTION_VERSION_1:()=>LI,BN_TRANSACTION_VERSION_2:()=>BI,BaseUrl:()=>o8,HEX_STR_TRANSACTION_VERSION_1:()=>J6,HEX_STR_TRANSACTION_VERSION_2:()=>e8,IS_BROWSER:()=>V6,MASK_250:()=>n8,MASK_251:()=>i8,NetworkName:()=>FI,RPC_GOERLI_NODES:()=>l8,RPC_MAINNET_NODES:()=>c8,StarknetChainId:()=>a8,TEXT_TO_FELT_MAX_LEN:()=>DI,TransactionHashPrefix:()=>u8,UDC:()=>mc,ZERO:()=>Wn});var $6={};xr($6,{IS_BROWSER:()=>V6,addHexPrefix:()=>Wr,arrayBufferToString:()=>W6,atobUniversal:()=>q6,btoaUniversal:()=>Z6,buf2hex:()=>X6,calcByteLength:()=>K6,padLeft:()=>Y6,pascalToSnake:()=>Xhe,removeHexPrefix:()=>wa,sanitizeBytes:()=>Q6,sanitizeHex:()=>Zhe,stringToArrayBuffer:()=>Whe,utf8ToArray:()=>Ld});var V6=typeof window<"u",NI="0";function W6(e){return new Uint8Array(e).reduce((t,r)=>t+String.fromCharCode(r),"")}function Ld(e){return new TextEncoder().encode(e)}function Whe(e){return Ld(e)}function q6(e){return nU.decode(e)}function Z6(e){return nU.encode(new Uint8Array(e))}function X6(e){return e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"")}function wa(e){return e.replace(/^0x/i,"")}function Wr(e){return`0x${wa(e)}`}function qhe(e,t,r,n=NI){const i=t-e.length;let s=e;if(i>0){const o=n.repeat(i);s=r?o+e:e+o}return s}function Y6(e,t,r=NI){return qhe(e,t,!0,r)}function K6(e,t=8){const{length:r}=e,n=r%t;return n?(r-n)/t*t+t:r}function Q6(e,t=8,r=NI){return Y6(e,K6(e,t),r)}function Zhe(e){return e=wa(e),e=Q6(e,2),e&&(e=Wr(e)),e}var Xhe=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e,DI=31,J6="0x1",e8="0x2",LI=1n,BI=2n,t8=2n**128n+LI,r8=2n**128n+BI,Wn=0n,n8=2n**250n-1n,i8=2n**251n,s8=Wn,o8=(e=>(e.SN_MAIN="https://alpha-mainnet.starknet.io",e.SN_GOERLI="https://alpha4.starknet.io",e))(o8||{}),FI=(e=>(e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e))(FI||{}),a8=(e=>(e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e))(a8||{}),u8=(e=>(e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572",e))(u8||{}),mc={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},l8=["https://starknet-testnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/goerli-juno/v0_5"],c8=["https://starknet-mainnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/mainnet-juno/v0_5"],h8={};xr(h8,{BlockStatus:()=>VI,BlockTag:()=>Ob,EntryPointType:()=>zI,Litteral:()=>Cb,RPC:()=>Cn,SIMULATION_FLAG:()=>UI,Sequencer:()=>_8,TransactionExecutionStatus:()=>$I,TransactionFinalityStatus:()=>kb,TransactionStatus:()=>GI,TransactionType:()=>HI,Uint:()=>Ib,ValidateType:()=>jI});var UI=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_EXECUTE="SKIP_EXECUTE",e))(UI||{}),jI=(e=>(e.DEPLOY="DEPLOY",e.CALL="CALL",e.INVOKE="INVOKE",e))(jI||{}),Ib=(e=>(e.u8="core::integer::u8",e.u16="core::integer::u16",e.u32="core::integer::u32",e.u64="core::integer::u64",e.u128="core::integer::u128",e.u256="core::integer::u256",e))(Ib||{}),Cb=(e=>(e.ClassHash="core::starknet::class_hash::ClassHash",e.ContractAddress="core::starknet::contract_address::ContractAddress",e))(Cb||{}),zI=(e=>(e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR",e))(zI||{}),HI=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE_FUNCTION",e))(HI||{}),GI=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED",e.REVERTED="REVERTED",e))(GI||{}),kb=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(kb||{}),$I=(e=>(e.REJECTED="REJECTED",e.REVERTED="REVERTED",e.SUCCEEDED="SUCCEEDED",e))($I||{}),VI=(e=>(e.PENDING="PENDING",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.REJECTED="REJECTED",e))(VI||{}),Ob=(e=>(e.pending="pending",e.latest="latest",e))(Ob||{}),Cn={};xr(Cn,{EBlockTag:()=>g8,EDataAvailabilityMode:()=>v8,ESimulationFlag:()=>f8,ETransactionExecutionStatus:()=>y8,ETransactionFinalityStatus:()=>m8,ETransactionStatus:()=>p8,ETransactionType:()=>d8,Errors:()=>Khe,JRPC:()=>Yhe,SPEC:()=>Qhe});var Yhe={},Khe={},Qhe={},d8=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE",e.L1_HANDLER="L1_HANDLER",e))(d8||{}),f8=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",e))(f8||{}),p8=(e=>(e.RECEIVED="RECEIVED",e.REJECTED="REJECTED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(p8||{}),m8=(e=>(e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(m8||{}),y8=(e=>(e.SUCCEEDED="SUCCEEDED",e.REVERTED="REVERTED",e))(y8||{}),g8=(e=>(e.LATEST="latest",e.PENDING="pending",e))(g8||{}),v8=(e=>(e.L1="L1",e.L2="L2",e))(v8||{}),_8={};function Ct(e,t){if(!e)throw new Error(t||"Assertion failure")}var WI={};xr(WI,{assertInRange:()=>x8,bigNumberishArrayToDecimalStringArray:()=>E8,bigNumberishArrayToHexadecimalStringArray:()=>S8,cleanHex:()=>gy,getDecimalString:()=>A8,getHexString:()=>ZI,getHexStringArray:()=>XI,hexToBytes:()=>T8,hexToDecimalString:()=>w8,isBigInt:()=>Pb,isHex:()=>Ns,isStringWholeNumber:()=>Bd,toBigInt:()=>He,toCairoBool:()=>YI,toHex:()=>ve,toHexString:()=>qI,toStorageKey:()=>b8});function Ns(e){return/^0x[0-9a-f]*$/i.test(e)}function He(e){return BigInt(e)}function Pb(e){return typeof e=="bigint"}function ve(e){return Wr(He(e).toString(16))}var qI=ve;function b8(e){return Wr(He(e).toString(16).padStart(64,"0"))}function w8(e){return BigInt(Wr(e)).toString(10)}var gy=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");function x8(e,t,r,n=""){const i=n===""?"invalid length":`invalid ${n} length`,s=BigInt(e),o=BigInt(t),a=BigInt(r);Ct(s>=o&&s<=a,`Message not signable, ${i}.`)}function E8(e){return e.map(t=>He(t).toString(10))}function S8(e){return e.map(t=>ve(t))}var Bd=e=>/^\d+$/.test(e);function A8(e){if(Ns(e))return w8(e);if(Bd(e))return e;throw new Error(`${e} need to be hex-string or whole-number-string`)}function ZI(e){if(Ns(e))return e;if(Bd(e))return qI(e);throw new Error(`${e} need to be hex-string or whole-number-string`)}function XI(e){return e.map(t=>ZI(t))}var YI=e=>(+e).toString();function T8(e){if(!Ns(e))throw new Error(`${e} need to be a hex-string`);let t=wa(e);return t.length%2!==0&&(t=`0${t}`),Su(t)}var I8={};xr(I8,{getSelector:()=>Rb,getSelectorFromName:()=>Ds,keccakBn:()=>KI,starknetKeccak:()=>QI});function KI(e){const t=wa(ve(BigInt(e))),r=t.length%2===0?t:`0${t}`;return Wr(Sd(T8(Wr(r))).toString(16))}function Jhe(e){return Wr(Sd(Ld(e)).toString(16))}function QI(e){return BigInt(Jhe(e))&n8}function Ds(e){return ve(QI(e))}function Rb(e){return Ns(e)?e:Bd(e)?qI(e):Ds(e)}var vy={};xr(vy,{decodeShortString:()=>rC,encodeShortString:()=>Fu,isASCII:()=>JI,isDecimalString:()=>C8,isLongText:()=>eC,isShortString:()=>_y,isShortText:()=>ede,isText:()=>by,splitLongString:()=>tC});function JI(e){return/^[\x00-\x7F]*$/.test(e)}function _y(e){return e.length<=DI}function C8(e){return/^[0-9]*$/i.test(e)}function by(e){return typeof e=="string"&&!Ns(e)&&!Bd(e)}var ede=e=>by(e)&&_y(e),eC=e=>by(e)&&!_y(e);function tC(e){const t=RegExp(`[^]{1,${DI}}`,"g");return e.match(t)||[]}function Fu(e){if(!JI(e))throw new Error(`${e} is not an ASCII string`);if(!_y(e))throw new Error(`${e} is too long`);return Wr(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}function rC(e){if(!JI(e))throw new Error(`${e} is not an ASCII string`);if(Ns(e))return wa(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(C8(e))return rC("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}var nC={};xr(nC,{felt:()=>qn,getAbiContractVersion:()=>Fb,getArrayType:()=>Fd,isCairo1Abi:()=>M8,isCairo1Type:()=>Hu,isLen:()=>yc,isTypeArray:()=>Uu,isTypeBool:()=>Bb,isTypeContractAddress:()=>rde,isTypeEnum:()=>gc,isTypeEthAddress:()=>R8,isTypeFelt:()=>Nb,isTypeLitteral:()=>aC,isTypeNamedTuple:()=>P8,isTypeOption:()=>Db,isTypeResult:()=>Lb,isTypeStruct:()=>wy,isTypeTuple:()=>ju,isTypeUint:()=>oC,isTypeUint256:()=>zu,tuple:()=>nde,uint256:()=>uC});var k8={};xr(k8,{UINT_128_MAX:()=>iC,UINT_256_MAX:()=>O8,bnToUint256:()=>tde,isUint256:()=>sC,uint256ToBN:()=>Mb});var iC=(1n<<128n)-1n,O8=(1n<<256n)-1n;function Mb(e){return(He(e.high)<<128n)+He(e.low)}function sC(e){return He(e)<=O8}function tde(e){const t=He(e);if(!sC(t))throw new Error("Number is too large");return{low:Wr((t&iC).toString(16)),high:Wr((t>>128n).toString(16))}}var yc=e=>/_len$/.test(e),Nb=e=>e==="felt"||e==="core::felt252",Uu=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::"),ju=e=>/^\(.*\)$/i.test(e),P8=e=>/\(.*\)/i.test(e)&&e.includes(":"),wy=(e,t)=>e in t,gc=(e,t)=>e in t,Db=e=>e.startsWith("core::option::Option::"),Lb=e=>e.startsWith("core::result::Result::"),oC=e=>Object.values(Ib).includes(e),aC=e=>Object.values(Cb).includes(e),zu=e=>e==="core::integer::u256",Bb=e=>e==="core::bool",rde=e=>e==="core::starknet::contract_address::ContractAddress",R8=e=>e==="core::starknet::eth_address::EthAddress",Hu=e=>e.includes("::"),Fd=e=>Hu(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function M8(e){const{cairo:t}=Fb(e);if(t===void 0)throw Error("Unable to determine Cairo version");return t==="1"}function Fb(e){if(e.find(n=>n.type==="interface"))return{cairo:"1",compiler:"2"};const t=e.find(n=>n.type==="function"&&(n.inputs.length||n.outputs.length));if(!t)return{cairo:void 0,compiler:void 0};const r=t.inputs.length?t.inputs:t.outputs;return Hu(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var uC=e=>{const t=BigInt(e);if(!sC(t))throw new Error("Number is too large");return{low:(t&iC).toString(10),high:(t>>128n).toString(10)}},nde=(...e)=>({...e});function qn(e){if(Pb(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if(by(e)){if(!_y(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const t=Fu(e);return BigInt(t).toString()}if(typeof e=="string"&&Ns(e))return BigInt(e).toString();if(typeof e=="string"&&Bd(e))return e;if(typeof e=="boolean")return`${+e}`;throw new Error(`${e} can't be computed by felt()`)}var lC=class{constructor(e){const t=Object.values(e);if(t.length===0)throw new Error("This Enum must have a least 1 variant");if(t.filter(r=>typeof r<"u").length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){const e=Object.entries(this.variant).find(t=>typeof t[1]<"u");if(!(typeof e>"u"))return e[1]}activeVariant(){const e=Object.entries(this.variant).find(t=>typeof t[1]<"u");return typeof e>"u"?"":e[0]}},cC=(e=>(e[e.Some=0]="Some",e[e.None=1]="None",e))(cC||{}),Ub=class{constructor(e,t){if(!(e in cC))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(e===0){if(typeof t>"u")throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=t,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!(typeof this.Some>"u")}isNone(){return this.None===!0}},hC=(e=>(e[e.Ok=0]="Ok",e[e.Err=1]="Err",e))(hC||{}),jb=class{constructor(e,t){if(!(e in hC))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");e===0?(this.Ok=t,this.Err=void 0):(this.Ok=void 0,this.Err=t)}unwrap(){if(typeof this.Ok<"u")return this.Ok;if(typeof this.Err<"u")return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(typeof this.Ok>"u")}isErr(){return!(typeof this.Err>"u")}},dC={isBN:(e,t,r)=>{if(!Pb(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function zb(e,t,r){return Object.entries(e).reduce((n,[i,s])=>{const o=r??t[i];if(!(i in t)&&!r)return n[i]=s,n;if(o==="string"){if(Array.isArray(e[i])){const a=zb(e[i],e[i].map(u=>o));return n[i]=Object.values(a).join(""),n}return dC.isBN(e,t,i),n[i]=rC(s),n}if(o==="number")return dC.isBN(e,t,i),n[i]=Number(s),n;if(typeof o=="function")return n[i]=o(s),n;if(Array.isArray(o)){const a=zb(e[i],o,o[0]);return n[i]=Object.values(a),n}return typeof o=="object"?(n[i]=zb(e[i],o),n):(dC.unknown(e,t,i),n)},{})}var ide=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce((t,r)=>yc(r.name)?t:t+1,0)}getMethod(e){return this.abi.find(t=>t.name===e)}getLegacyFormat(){return this.abi}},sde=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find(t=>t.type==="interface").items.find(t=>t.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>e.type==="interface"?e.items:e)}};function N8(e){const t=ode(e);if(t===0||t===1)return new ide(e);if(t===2)return new sde(e);throw Error(`Unsupported ABI version ${t}`)}function ode(e){return e.find(t=>t.type==="interface")?2:M8(e)?1:0}function D8(e,t,r){return e==="constructor"&&!r&&!t.length}function ade(e){const t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function L8(e){if(!e.includes("("))return{subTuple:[],result:e};const t=[];let r="",n=0;for(;n<e.length;){if(e[n]==="("){let i=1;const s=n;for(n++;i;)e[n]===")"&&i--,e[n]==="("&&i++,n++;t.push(e.substring(s,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function ude(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=L8(t);let i=n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s);return P8(e)&&(i=i.reduce((s,o)=>s.concat(ade(o)),[])),i}function lde(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=L8(t);return n.split(",").map(i=>r.length?i.replace(" ",r.shift()):i)}function fC(e){return Hu(e)?lde(e):ude(e)}function cde(e){return Error(`Your object includes the property : ${e}, containing an Uint256 object without the 'low' and 'high' keys.`)}function hde(e,t,r,n){const i=(l,h)=>{if(Uu(h))return o(l,h);if(gc(h,n)){const f=n[h];return u(l,f)}if(ju(h))return a(l,h);if(R8(h))return l;if(zu(h)){const f=l;if(typeof f!="object")return f;if(!("low"in f&&"high"in f))throw cde(h);return{low:f.low,high:f.high}}if(wy(h,r)){const f=r[h].members;return s(l,f)}return l},s=(l,h)=>h.reduce((f,p)=>{const m=y=>Object.defineProperty(f,p.name,{enumerable:!0,value:y??l[p.name]});if(l[p.name]==="undefined"&&(Hu(p.type)||!yc(p.name)))throw Error(`Your object needs a property with key : ${p.name} .`);return m(i(l[p.name],p.type)),f},{});function o(l,h){const f=Fd(h);return typeof l=="string"?l:l.map(p=>i(p,f))}function a(l,h){return fC(h).reduce((f,p,m)=>{const y=Object.keys(l),v=_=>Object.defineProperty(f,m.toString(),{enumerable:!0,value:_??l[y[m]]}),w=p!=null&&p.type?p.type:p;return v(i(l[y[m]],w)),f},{})}const u=(l,h)=>{if(Lb(h.name)){const m=l,y=h.name.substring(h.name.indexOf("<")+1,h.name.lastIndexOf(",")),v=h.name.substring(h.name.indexOf(",")+1,h.name.lastIndexOf(">"));return m.isOk()?new jb(0,i(l.unwrap(),y)):new jb(1,i(l.unwrap(),v))}if(Db(h.name)){const m=l,y=h.name.substring(h.name.indexOf("<")+1,h.name.lastIndexOf(">"));return m.isSome()?new Ub(0,i(m.unwrap(),y)):new Ub(1,{})}const f=l,p=Object.entries(f.variant).map(m=>{if(typeof m[1]>"u")return m;const y=h.type.substring(h.type.lastIndexOf("<")+1,h.type.lastIndexOf(">"));return y==="()"?m:[m[0],i(f.unwrap(),y)]});return new lC(Object.fromEntries(p))};return t.reduce((l,h)=>{const f=p=>Object.defineProperty(l,h.name,{enumerable:!0,value:p});return yc(h.name)&&!Hu(h.type)||f(i(e[h.name],h.type)),l},{})}function Hb(e,t){switch(!0){case zu(e):const r=uC(t);return[qn(r.low),qn(r.high)];default:return qn(t)}}function dde(e,t){const r=fC(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((i,s)=>({element:n[s],type:i.type??i}))}function B8(e){if(typeof e=="object"){const{low:r,high:n}=e;return[qn(r),qn(n)]}const t=uC(e);return[qn(t.low),qn(t.high)]}function Oo(e,t,r,n){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Array.isArray(e)){const i=[];i.push(qn(e.length));const s=Fd(t);return e.reduce((o,a)=>o.concat(Oo(a,s,r,n)),i)}if(r[t]&&r[t].members.length){if(zu(t))return B8(e);if(t==="core::starknet::eth_address::EthAddress")return Hb(t,e);const{members:i}=r[t],s=e;return i.reduce((o,a)=>o.concat(Oo(s[a.name],a.type,r,n)),[])}if(ju(t))return dde(e,t).reduce((i,s)=>{const o=Oo(s.element,s.type,r,n);return i.concat(o)},[]);if(zu(t))return B8(e);if(gc(t,n)){const{variants:i}=n[t];if(Db(t)){const f=e;if(f.isSome()){const p=i.find(v=>v.name==="Some");if(typeof p>"u")throw Error("Error in abi : Option has no 'Some' variant.");const m=p.type;if(m==="()")return 0 .toString();const y=Oo(f.unwrap(),m,r,n);return Array.isArray(y)?[0 .toString(),...y]:[0 .toString(),y]}return 1 .toString()}if(Lb(t)){const f=e;if(f.isOk()){const v=i.find(x=>x.name==="Ok");if(typeof v>"u")throw Error("Error in abi : Result has no 'Ok' variant.");const w=v.type;if(w==="()")return 0 .toString();const _=Oo(f.unwrap(),w,r,n);return Array.isArray(_)?[0 .toString(),..._]:[0 .toString(),_]}const p=i.find(v=>v.name==="Err");if(typeof p>"u")throw Error("Error in abi : Result has no 'Err' variant.");const m=p.type;if(m==="()")return 1 .toString();const y=Oo(f.unwrap(),m,r,n);return Array.isArray(y)?[1 .toString(),...y]:[1 .toString(),y]}const s=e,o=s.activeVariant(),a=i.find(f=>f.name===o);if(typeof a>"u")throw Error(`Not find in abi : Enum has no '${o}' variant.`);const u=a.type,l=i.findIndex(f=>f.name===o);if(u==="()")return l.toString();const h=Oo(s.unwrap(),u,r,n);return Array.isArray(h)?[l.toString(),...h]:[l.toString(),h]}if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return Hb(t,e)}function fde(e,t,r,n){const{name:i,type:s}=t;let{value:o}=e.next();switch(!0){case Uu(s):if(!Array.isArray(o)&&!by(o))throw Error(`ABI expected parameter ${i} to be array or long string, got ${o}`);return typeof o=="string"&&(o=tC(o)),Oo(o,t.type,r,n);case s==="core::starknet::eth_address::EthAddress":return Hb(s,o);case(wy(s,r)||ju(s)||zu(s)):return Oo(o,s,r,n);case gc(s,n):return Oo(o,s,r,n);default:return Hb(s,o)}}function pC(e,t){let r;switch(!0){case Bb(e):return r=t.next().value,!!BigInt(r);case zu(e):const n=t.next().value,i=t.next().value;return Mb({low:n,high:i});case e==="core::starknet::eth_address::EthAddress":return r=t.next().value,BigInt(r);default:return r=t.next().value,BigInt(r)}}function xa(e,t,r,n){if(t.type==="()")return{};if(zu(t.type)){const i=e.next().value,s=e.next().value;return Mb({low:i,high:s})}if(Uu(t.type)){const i=[],s={name:"",type:Fd(t.type)},o=BigInt(e.next().value);for(;i.length<o;)i.push(xa(e,s,r,n));return i}if(r&&t.type in r&&r[t.type])return t.type==="core::starknet::eth_address::EthAddress"?pC(t.type,e):r[t.type].members.reduce((i,s)=>(i[s.name]=xa(e,s,r,n),i),{});if(n&&t.type in n&&n[t.type]){const i=Number(e.next().value),s=n[t.type].variants.reduce((o,a,u)=>u===i?(o[a.name]=xa(e,{name:"",type:a.type},r,n),o):(o[a.name]=void 0,o),{});if(t.type.startsWith("core::option::Option")){const o=i===0?s.Some:void 0;return new Ub(i,o)}if(t.type.startsWith("core::result::Result")){let o;return i===0?o=s.Ok:o=s.Err,new jb(i,o)}return new lC(s)}if(ju(t.type))return fC(t.type).reduce((i,s,o)=>{const a=s!=null&&s.name?s.name:o,u=s!=null&&s.type?s.type:s,l={name:a,type:u};return i[a]=xa(e,l,r,n),i},{});if(Uu(t.type)){const i=[],s={name:"",type:Fd(t.type)},o=BigInt(e.next().value);for(;i.length<o;)i.push(xa(e,s,r,n));return i}return pC(t.type,e)}function mC(e,t,r,n,i){const{name:s,type:o}=t;let a;switch(!0){case yc(s):return a=e.next().value,BigInt(a);case(r&&o in r||ju(o)):return xa(e,t,r,n);case(n&&gc(o,n)):return xa(e,t,r,n);case Uu(o):if(Hu(o))return xa(e,t,r,n);const u=[];if(i&&i[`${s}_len`]){const l=i[`${s}_len`];for(;u.length<l;)u.push(xa(e,{name:s,type:t.type.replace("*","")},r,n))}return u;default:return pC(o,e)}}var F8=(e,t)=>{if(Ct(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`),typeof e=="string"&&!Ns(e))return;const r=BigInt(e.toString(10));Ct(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`)},yC=(e,t)=>{typeof e=="number"&&Ct(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),Ct(typeof e=="string"||typeof e=="number"||typeof e=="bigint"||typeof e=="object"&&"low"in e&&"high"in e,`Validate: arg ${t.name} of cairo type ${t.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`);const r=typeof e=="object"?Mb(e):He(e);switch(t.type){case"core::integer::u8":Ct(r>=0n&&r<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case"core::integer::u16":Ct(r>=0n&&r<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case"core::integer::u32":Ct(r>=0n&&r<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":Ct(r>=0n&&r<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":Ct(r>=0n&&r<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":Ct(r>=0n&&r<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} 0 - 2^256-1`);break;case"core::starknet::class_hash::ClassHash":Ct(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case"core::starknet::contract_address::ContractAddress":Ct(r>=0n&&r<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break}},U8=(e,t)=>{Ct(typeof e=="boolean",`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},j8=(e,t,r)=>{if(t.type==="core::integer::u256"){yC(e,t);return}if(t.type==="core::starknet::eth_address::EthAddress"){Ct(typeof e!="object",`EthAdress type is waiting a BigNumberish. Got ${e}`);const n=BigInt(e.toString(10));Ct(n>=0n&&n<=2n**160n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^160-1]`);return}Ct(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as js object (not array)`),r[t.type].members.forEach(({name:n})=>{Ct(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},z8=(e,t)=>{Ct(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type Enum (${t.type}), and should be defined as js object (not array)`);const r=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),n=[...Object.getOwnPropertyNames(e),...r];if(!(Db(t.type)&&n.includes("isSome")&&n.includes("isNone"))&&!(Lb(t.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${t.name}, type ${t.type}, value received ${e}, is not an Enum.`)},H8=(e,t)=>{Ct(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},G8=(e,t,r,n)=>{const i=Fd(t.type);if(!(Nb(i)&&eC(e)))switch(Ct(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),!0){case Nb(i):e.forEach(s=>F8(s,t));break;case ju(i):e.forEach(s=>H8(s,{name:t.name,type:i}));break;case Uu(i):e.forEach(s=>G8(s,{name:"",type:i},r,n));break;case wy(i,r):e.forEach(s=>j8(s,{name:t.name,type:i},r));break;case gc(i,n):e.forEach(s=>z8(s,{name:t.name,type:i}));break;case(oC(i)||aC(i)):e.forEach(s=>yC(s,t));break;case Bb(i):e.forEach(s=>U8(s,t));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${e}`)}};function $8(e,t,r,n){e.inputs.reduce((i,s)=>{const o=t[i];switch(!0){case yc(s.name):return i;case Nb(s.type):F8(o,s);break;case(oC(s.type)||aC(s.type)):yC(o,s);break;case Bb(s.type):U8(o,s);break;case Uu(s.type):G8(o,s,r,n);break;case wy(s.type,r):j8(o,s,r);break;case gc(s.type,n):z8(o,s);break;case ju(s.type):H8(o,s);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${o}`)}return i+1},0)}var tt=class{constructor(e){this.structs=tt.getAbiStruct(e),this.enums=tt.getAbiEnum(e),this.parser=N8(e),this.abi=this.parser.getLegacyFormat()}validate(e,t,r=[]){if(e!=="DEPLOY"){const s=this.abi.filter(o=>{if(o.type!=="function")return!1;const a=o.stateMutability==="view"||o.state_mutability==="view";return e==="INVOKE"?!a:a}).map(o=>o.name);Ct(s.includes(t),`${e==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const n=this.abi.find(s=>e==="DEPLOY"?s.name===t&&s.type==="constructor":s.name===t&&s.type==="function");if(D8(t,r,n))return;const i=this.parser.methodInputsLength(n);if(r.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${r.length}`);$8(n,r,this.structs,this.enums)}compile(e,t){const r=this.abi.find(o=>o.name===e);if(D8(e,t,r))return[];let n;if(Array.isArray(t))n=t;else{const o=hde(t,r.inputs,this.structs,this.enums);n=Object.values(o),$8(r,n,this.structs,this.enums)}const i=n[Symbol.iterator](),s=r.inputs.reduce((o,a)=>yc(a.name)&&!Hu(a.type)?o:o.concat(fde(i,a,this.structs,this.enums)),[]);return Object.defineProperty(s,"__compiled__",{enumerable:!1,writable:!1,value:!0}),s}static compile(e){const t=n=>{const i=(s,o=".")=>{const a=Array.isArray(s)?[s.length.toString(),...s]:s;return Object.entries(a).flatMap(([u,l])=>{let h=l;eC(h)&&(h=tC(h)),u==="entrypoint"&&(h=Ds(h));const f=Array.isArray(a)&&u==="0"?"$$len":u;if(Pb(h))return[[`${o}${f}`,qn(h)]];if(Object(h)===h){const p=Object.getOwnPropertyNames(Object.getPrototypeOf(h)),m=[...Object.getOwnPropertyNames(h),...p];if(m.includes("isSome")&&m.includes("isNone")){const y=h,v=y.isSome()?0:1;return y.isSome()?i({0:v,1:y.unwrap()},`${o}${f}.`):[[`${o}${f}`,qn(v)]]}if(m.includes("isOk")&&m.includes("isErr")){const y=h,v=y.isOk()?0:1;return i({0:v,1:y.unwrap()},`${o}${f}.`)}if(m.includes("variant")&&m.includes("activeVariant")){const y=h,v=y.activeVariant(),w=Object.keys(y.variant).findIndex(_=>_===v);return typeof y.unwrap()=="object"&&Object.keys(y.unwrap()).length===0?[[`${o}${f}`,qn(w)]]:i({0:w,1:y.unwrap()},`${o}${f}.`)}return i(h,`${o}${f}.`)}return[[`${o}${f}`,qn(h)]]})};return Object.fromEntries(i(n))};let r;if(Array.isArray(e)){const n={...e},i=t(n);r=Object.values(i)}else{const n=t(e);r=Object.values(n)}return Object.defineProperty(r,"__compiled__",{enumerable:!1,writable:!1,value:!0}),r}parse(e,t){const{outputs:r}=this.abi.find(s=>s.name===e),n=t.flat()[Symbol.iterator](),i=r.flat().reduce((s,o,a)=>{const u=o.name??a;return s[u]=mC(n,o,this.structs,this.enums,s),s[u]&&s[`${u}_len`]&&delete s[`${u}_len`],s},{});return Object.keys(i).length===1&&0 in i?i[0]:i}format(e,t,r){const n=this.parse(e,t);return zb(n,r)}static getAbiStruct(e){return e.filter(t=>t.type==="struct").reduce((t,r)=>({...t,[r.name]:r}),{})}static getAbiEnum(e){const t=e.filter(r=>r.type==="enum").reduce((r,n)=>({...r,[n.name]:n}),{});return delete t["core::bool"],t}static toCalldata(e=[]){return tt.compile(e)}static toHex(e=[]){return tt.compile(e).map(t=>ve(t))}},gC={};xr(gC,{calculateContractAddressFromHash:()=>$b,calculateDeclareTransactionHash:()=>q8,calculateDeployAccountTransactionHash:()=>Z8,calculateDeployTransactionHash:()=>yde,calculateTransactionHash:()=>X8,calculateTransactionHashCommon:()=>Ey,computeCompiledClassHash:()=>Q8,computeContractClassHash:()=>ez,computeHashOnElements:()=>kn,computeLegacyContractClassHash:()=>K8,computeSierraContractClassHash:()=>J8,default:()=>Y8,feeTransactionVersion:()=>Ud,feeTransactionVersion_2:()=>Gb,formatSpaces:()=>Sy,getSelector:()=>Rb,getSelectorFromName:()=>Ds,getVersionsByType:()=>_C,keccakBn:()=>KI,poseidon:()=>Xue,starknetKeccak:()=>QI,transactionVersion:()=>vc,transactionVersion_2:()=>xy});var vC={};xr(vC,{starkCurve:()=>jae,weierstrass:()=>eue});var V8={};xr(V8,{parse:()=>Gu,parseAlwaysAsBig:()=>W8,stringify:()=>Ls,stringifyAlwaysAsBig:()=>mde});var pde=e=>{if(!Km(e))return parseFloat(e);const t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},Gu=e=>lj(String(e),void 0,pde),W8=e=>lj(String(e),void 0,yue),Ls=(e,t,r,n)=>pj(e,t,r,n),mde=Ls,vc=LI,xy=BI,Ud=t8,Gb=r8;function _C(e){return e==="fee"?{v1:Ud,v2:Gb}:{v1:vc,v2:xy}}function kn(e){return[...e,e.length].reduce((t,r)=>Zm(He(t),He(r)),0).toString()}function Ey(e,t,r,n,i,s,o,a=[]){const u=kn(i),l=[e,t,r,n,u,s,o,...a];return kn(l)}function yde(e,t,r,n,i="constructor"){return Ey("0x6465706c6f79",r,e,Ds(i),t,0,n)}function q8(e,t,r,n,i,s,o){return Ey("0x6465636c617265",r,t,0,[e],n,i,[s,...o?[o]:[]])}function Z8(e,t,r,n,i,s,o,a){const u=[t,n,...r];return Ey("0x6465706c6f795f6163636f756e74",i,e,0,u,s,o,[a])}function X8(e,t,r,n,i,s){return Ey("0x696e766f6b65",t,e,0,r,n,i,[s])}function $b(e,t,r,n){const i=tt.compile(r),s=kn(i),o=qn("0x535441524b4e45545f434f4e54524143545f41444452455353");return kn([o,n,e,t,s])}function gde(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function Sy(e){let t=!1;const r=[];for(const n of e)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(t=!t),t?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}function Y8(e){const{abi:t,program:r}=e,n=Sy(Ls({abi:t,program:r},gde));return Wr(Sd(Ld(n)).toString(16))}function K8(e){const t=typeof e=="string"?Gu(e):e,r=ve(s8),n=kn(t.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),i=kn(t.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),s=kn(t.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),o=kn(t.program.builtins.map(l=>Fu(l))),a=Y8(t),u=kn(t.program.data);return kn([r,n,i,s,o,a,u])}function vde(e){return ku(e.flatMap(t=>BigInt(Fu(t))))}function bC(e){const t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),vde(r.builtins)]);return ku(t)}function Q8(e){const t=BigInt(Fu("COMPILED_CLASS_V1")),r=bC(e.entry_points_by_type.EXTERNAL),n=bC(e.entry_points_by_type.L1_HANDLER),i=bC(e.entry_points_by_type.CONSTRUCTOR),s=ku(e.bytecode.map(o=>BigInt(o)));return ve(ku([t,r,n,i,s]))}function wC(e){const t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return ku(t)}function _de(e){const t=Sy(Ls(e.abi,null));return BigInt(Wr(Sd(Ld(t)).toString(16)))}function J8(e){const t=BigInt(Fu("CONTRACT_CLASS_V0.1.0")),r=wC(e.entry_points_by_type.EXTERNAL),n=wC(e.entry_points_by_type.L1_HANDLER),i=wC(e.entry_points_by_type.CONSTRUCTOR),s=_de(e),o=ku(e.sierra_program.map(a=>BigInt(a)));return ve(ku([t,r,n,i,s,o]))}function ez(e){const t=typeof e=="string"?Gu(e):e;return"sierra_program"in t?J8(t):K8(t)}var xC={};xr(xC,{compressProgram:()=>EC,decompressProgram:()=>Vb,estimatedFeeToMaxFee:()=>_c,formatSignature:()=>Wb,makeAddress:()=>bde,randomAddress:()=>SC,signatureToDecimalArray:()=>jd,signatureToHexArray:()=>zd});function EC(e){const t=typeof e=="string"?e:Ls(e),r=khe(t);return Z6(r)}function Vb(e){if(Array.isArray(e))return e;const t=W6(Ohe(q6(e)));return Gu(t)}function SC(){const e=F2.randomPrivateKey();return j2(e)}function bde(e){return Wr(e).toLowerCase()}function Wb(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>ve(t));try{const{r:t,s:r}=e;return[ve(t),ve(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function jd(e){return E8(Wb(e))}function zd(e){return S8(Wb(e))}function _c(e,t=.5){const r=Math.round((1+t)*100);return He(e)*He(r)/100n}function Zn(e){return"sierra_program"in(typeof e=="string"?Gu(e):e)}function qb(e){const t={...e};if(Zn(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=Q8(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??ez(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}function wde(e){if(Zn(e))throw Error("ContractClassResponse need to be LegacyContractClass (cairo0 response class)");const t=e;return{...t,program:Vb(t.program)}}var tz=typeof window<"u"&&window.fetch||typeof global<"u"&&global.fetch||Ghe,rz={};xr(rz,{createSierraContractClass:()=>nz,parseContract:()=>AC,wait:()=>Zb});function Zb(e){return new Promise(t=>{setTimeout(t,e)})}function nz(e){const t={...e};return delete t.sierra_program_debug_info,t.abi=Sy(Ls(e.abi)),t.sierra_program=Sy(Ls(e.sierra_program)),t.sierra_program=EC(t.sierra_program),t}function AC(e){const t=typeof e=="string"?Gu(e):e;return Zn(e)?nz(t):{...t,..."program"in t&&{program:EC(t.program)}}}var xde=class{parseGetBlockResponse(e){return{timestamp:e.timestamp,block_hash:"block_hash"in e?e.block_hash:"",block_number:"block_number"in e?e.block_number:-1,new_root:"new_root"in e?e.new_root:"",parent_hash:e.parent_hash,status:"status"in e?e.status:"PENDING",transactions:e.transactions}}parseGetTransactionResponse(e){return{calldata:"calldata"in e?e.calldata:[],contract_address:"contract_address"in e?e.contract_address:"",sender_address:"sender_address"in e?e.sender_address:"",max_fee:"max_fee"in e?e.max_fee:"",nonce:"nonce"in e?e.nonce:"",signature:"signature"in e?e.signature:[],transaction_hash:e.transaction_hash,version:e.version}}parseFeeEstimateResponse(e){return{overall_fee:He(e[0].overall_fee),gas_consumed:He(e[0].gas_consumed),gas_price:He(e[0].gas_price)}}parseFeeEstimateBulkResponse(e){return e.map(t=>({overall_fee:He(t.overall_fee),gas_consumed:He(t.gas_consumed),gas_price:He(t.gas_price)}))}parseCallContractResponse(e){return{result:e}}parseSimulateTransactionResponse(e){return e.map(t=>({...t,suggestedMaxFee:_c(BigInt(t.fee_estimation.overall_fee))}))}parseContractClassResponse(e){return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}};function iz(e,t=e.constructor){const{captureStackTrace:r}=Error;r&&r(e,t)}function sz(e,t){const{setPrototypeOf:r}=Object;r?r(e,t):e.__proto__=t}var oz=class extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),sz(this,new.target.prototype),iz(this)}},$u=class extends oz{},az=class extends $u{constructor(e,t){super(e),this.errorCode=t}},uz=class extends $u{constructor(e,t){super(e),this.errorCode=t}},lz={};xr(lz,{StarknetIdContract:()=>pz,getStarknetIdContract:()=>CC,useDecoded:()=>dz,useEncoded:()=>fz});var Po="abcdefghijklmnopqrstuvwxyz0123456789-",Hd=BigInt(Po.length+1),Nr="\u8FD9\u6765",cz=BigInt(Po.length),TC=BigInt(Nr.length),hz=BigInt(Nr.length+1);function IC(e){let t=0;for(;e.endsWith(Nr[Nr.length-1]);)e=e.substring(0,e.length-1),t+=1;return[e,t]}function dz(e){let t="";return e.forEach(r=>{for(;r!==Wn;){const s=r%Hd;if(r/=Hd,s===BigInt(Po.length)){const o=r/hz;if(o===Wn){const a=r%hz;r=o,a===Wn?t+=Po[0]:t+=Nr[Number(a)-1]}else{const a=r%TC;t+=Nr[Number(a)],r/=TC}}else t+=Po[Number(s)]}const[n,i]=IC(t);i&&(t=n+(i%2===0?Nr[Nr.length-1].repeat(i/2-1)+Nr[0]+Po[1]:Nr[Nr.length-1].repeat((i-1)/2+1))),t+="."}),t&&t.concat("stark")}function fz(e){let t=BigInt(0),r=BigInt(1);if(e.endsWith(Nr[0]+Po[1])){const[n,i]=IC(e.substring(0,e.length-2));e=n+Nr[Nr.length-1].repeat(2*(i+1))}else{const[n,i]=IC(e);i&&(e=n+Nr[Nr.length-1].repeat(1+2*(i-1)))}for(let n=0;n<e.length;n+=1){const i=e[n],s=Po.indexOf(i),o=BigInt(Po.indexOf(i));if(s!==-1)n===e.length-1&&e[n]===Po[0]?(t+=r*cz,r*=Hd,r*=Hd):(t+=r*o,r*=Hd);else if(Nr.indexOf(i)!==-1){t+=r*cz,r*=Hd;const a=(n===e.length-1?1:0)+Nr.indexOf(i);t+=r*BigInt(a),r*=TC}}return t}var pz=(e=>(e.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",e.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",e))(pz||{});function CC(e){switch(e){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function kC(e,t,r){const n=await e.getChainId(),i=r??CC(n);try{const s=(await e.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:tt.compile({address:t})})).result.map(a=>BigInt(a)).slice(1),o=dz(s);if(!o)throw Error("Starkname not found");return o}catch(s){throw s instanceof Error&&s.message==="Starkname not found"?s:Error("Could not get stark name")}}async function OC(e,t,r){const n=await e.getChainId(),i=r??CC(n);try{return(await e.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:tt.compile({domain:[fz(t.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var Ede=Object.values(Ob),ar=class{constructor(e){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(e)}setIdentifier(e){typeof e=="string"&&Ns(e)?this.hash=e:typeof e=="bigint"?this.hash=ve(e):typeof e=="number"?this.number=e:typeof e=="string"&&Ede.includes(e)?this.tag=e:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},PC=(e,t=!1)=>{t||console.warn("Using default public node url, please provide nodeUrl in provider options!");const r=e==="SN_MAIN"?c8:l8,n=Math.floor(Math.random()*r.length);return r[n]},RC={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},Gd=class{constructor(e){this.responseParser=new xde,this.getBlockHashAndNumber=this.getBlockLatestAccepted,this.getStateUpdate=this.getBlockStateUpdate,this.traceBlockTransactions=this.getBlockTransactionsTraces,this.getTransactionCount=this.getBlockTransactionCount,this.traceTransaction=this.getTransactionTrace,this.getSimulateTransaction=this.simulateTransaction;const{nodeUrl:t,retries:r,headers:n,blockIdentifier:i,chainId:s}=e||{};Object.values(FI).includes(t)?this.nodeUrl=PC(t,e==null?void 0:e.default):t?this.nodeUrl=t:this.nodeUrl=PC(void 0,e==null?void 0:e.default),this.retries=r||RC.retries,this.headers={...RC.headers,...n},this.blockIdentifier=i||RC.blockIdentifier,this.chainId=s}fetch(e,t,r=0){const n={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return tz(this.nodeUrl,{method:"POST",body:Ls(n),headers:this.headers})}errorHandler(e,t,r,n){if(r){const{code:i,message:s,data:o}=r;throw new $u(`RPC: ${e} with params ${Ls(t)}
 ${i}: ${s}: ${Ls(o)}`)}if(n instanceof $u)throw n;if(n)throw Error(n.message)}async fetchEndpoint(e,t){var r;try{const n=await this.fetch(e,t),{error:i,result:s}=await n.json();return this.errorHandler(e,t,i),s}catch(n){throw this.errorHandler(e,t,(r=n==null?void 0:n.response)==null?void 0:r.data,n),n}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async getNonceForAddress(e,t=this.blockIdentifier){const r=ve(e),n=new ar(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}async getBlock(e=this.blockIdentifier){return this.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getBlockWithTxHashes(e=this.blockIdentifier){const t=new ar(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}async getBlockWithTxs(e=this.blockIdentifier){const t=new ar(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}async getBlockStateUpdate(e=this.blockIdentifier){const t=new ar(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}async getBlockTransactionsTraces(e=this.blockIdentifier){const t=new ar(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}async getBlockTransactionCount(e=this.blockIdentifier){const t=new ar(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}async getPendingTransactions(){const{transactions:e}=await this.getBlock("pending");return Promise.all(e.map(t=>this.getTransactionByHash(t)))}async getTransaction(e){return this.getTransactionByHash(e).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(e){const t=ve(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}async getTransactionByBlockIdAndIndex(e,t){const r=new ar(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:t})}async getTransactionReceipt(e){const t=ve(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}async getTransactionTrace(e){const t=ve(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}async getTransactionStatus(e){const t=ve(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}async simulateTransaction(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1,skipFeeCharge:n=!0}){const i=new ar(t).identifier,s=[];return r&&s.push(Cn.ESimulationFlag.SKIP_VALIDATE),n&&s.push(Cn.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:i,transactions:e.map(o=>this.buildTransaction(o)),simulation_flags:s}).then(this.responseParser.parseSimulateTransactionResponse)}async waitForTransaction(e,t){const r=ve(e);let{retries:n}=this,i=!1,s=!1;const o=(t==null?void 0:t.retryInterval)??5e3,a=(t==null?void 0:t.errorStates)??[Cn.ETransactionStatus.REJECTED,Cn.ETransactionExecutionStatus.REVERTED],u=(t==null?void 0:t.successStates)??[Cn.ETransactionExecutionStatus.SUCCEEDED,Cn.ETransactionStatus.ACCEPTED_ON_L2,Cn.ETransactionStatus.ACCEPTED_ON_L1];let l;for(;!i;){await Zb(o);try{l=await this.getTransactionStatus(r);const f=l.execution_status,p=l.finality_status;if(!p)throw new Error("waiting for transaction status");if(u.includes(f)||u.includes(p))i=!0;else if(a.includes(f)||a.includes(p)){const m=`${f}: ${p}`,y=new Error(m);throw y.response=l,s=!0,y}}catch(f){if(f instanceof Error&&s)throw f;if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1}let h=null;for(;h===null;){try{h=await this.getTransactionReceipt(r)}catch{if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1,await Zb(o)}return h}async getStorageAt(e,t,r=this.blockIdentifier){const n=ve(e),i=b8(t),s=new ar(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:i,block_id:s})}async getClassHashAt(e,t=this.blockIdentifier){const r=ve(e),n=new ar(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}async getClassByHash(e){return this.getClass(e)}async getClass(e,t=this.blockIdentifier){const r=ve(e),n=new ar(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n}).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,t=this.blockIdentifier){const r=ve(e),n=new ar(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r}).then(this.responseParser.parseContractClassResponse)}async getCode(e,t){throw new Error("RPC does not implement getCode function")}async getContractVersion(e,t,{blockIdentifier:r=this.blockIdentifier,compiler:n=!0}={}){let i;if(e)i=await this.getClassAt(e,r);else if(t)i=await this.getClass(t,r);else throw Error("getContractVersion require contractAddress or classHash");return Zn(i)?n?{cairo:"1",compiler:Fb(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(e,t,r=this.blockIdentifier){return this.getInvokeEstimateFee(e,t,r)}async getInvokeEstimateFee(e,t,r=this.blockIdentifier){const n=new ar(r).identifier,i=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,t,r=this.blockIdentifier){const n=new ar(r).identifier,i=this.buildTransaction({type:"DECLARE",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,t,r=this.blockIdentifier){const n=new ar(r).identifier,i=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1}){r&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const n=new ar(t).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:e.map(i=>this.buildTransaction(i,"fee")),block_id:n}).then(this.responseParser.parseFeeEstimateBulkResponse)}async invokeFunction(e,t){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:tt.toHex(e.calldata),type:Cn.ETransactionType.INVOKE,max_fee:ve(t.maxFee||0),version:"0x1",signature:zd(e.signature),nonce:ve(t.nonce)}})}async declareContract({contract:e,signature:t,senderAddress:r,compiledClassHash:n},i){return Zn(e)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:Cn.ETransactionType.DECLARE,contract_class:{sierra_program:Vb(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:n||"",version:e8,max_fee:ve(i.maxFee||0),signature:zd(t),sender_address:r,nonce:ve(i.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:Cn.ETransactionType.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:J6,max_fee:ve(i.maxFee||0),signature:zd(t),sender_address:r,nonce:ve(i.nonce)}})}async deployAccountContract({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},i){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:tt.toHex(t||[]),class_hash:ve(e),contract_address_salt:ve(r||0),type:Cn.ETransactionType.DEPLOY_ACCOUNT,max_fee:ve(i.maxFee||0),version:ve(i.version||0),signature:zd(n),nonce:ve(i.nonce)}})}async callContract(e,t=this.blockIdentifier){const r=new ar(t).identifier,n=await this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:Ds(e.entrypoint),calldata:tt.toHex(e.calldata)},block_id:r});return this.responseParser.parseCallContractResponse(n)}async estimateMessageFee(e,t=this.blockIdentifier){const{from_address:r,to_address:n,entry_point_selector:i,payload:s}=e,o={from_address:ve(r),to_address:ve(n),entry_point_selector:Rb(i),payload:XI(s)},a=new ar(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:o,block_id:a})}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}async getStarkName(e,t){return kC(this,e,t)}async getAddressFromStarkName(e,t){return OC(this,e,t)}buildTransaction(e,t){const r=_C(t),n={signature:zd(e.signature),nonce:ve(e.nonce),max_fee:ve(e.maxFee||0)};if(e.type==="INVOKE_FUNCTION")return{type:Cn.ETransactionType.INVOKE,sender_address:e.contractAddress,calldata:tt.toHex(e.calldata),version:ve(e.version||r.v1),...n};if(e.type==="DECLARE")return Zn(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:Vb(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:ve(e.version||r.v2),...n}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:ve(e.version||r.v1),...n};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:tt.toHex(e.constructorCalldata||[]),class_hash:ve(e.classHash),contract_address_salt:ve(e.addressSalt||0),version:ve(e.version||r.v1),...n};throw Error("RPC buildTransaction received unknown TransactionType")}},Sde=class{},Ade=class extends Sde{parseGetBlockResponse(e){return{...e,new_root:e.state_root,parent_hash:e.parent_block_hash,transactions:Object.values(e.transactions).map(t=>"transaction_hash"in t&&t.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(e){if(e.status==="NOT_RECEIVED"&&e.finality_status==="NOT_RECEIVED")throw new $u;return{...e,calldata:"calldata"in e.transaction?e.transaction.calldata:[],contract_class:"contract_class"in e.transaction?e.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in e.transaction?e.transaction.entry_point_selector:void 0,max_fee:"max_fee"in e.transaction?e.transaction.max_fee:void 0,nonce:e.transaction.nonce,sender_address:"sender_address"in e.transaction?e.transaction.sender_address:void 0,signature:"signature"in e.transaction?e.transaction.signature:void 0,transaction_hash:"transaction_hash"in e.transaction?e.transaction.transaction_hash:void 0,version:"version"in e.transaction?e.transaction.version:void 0}}parseGetTransactionReceiptResponse(e){return{...e,messages_sent:e.l2_to_l1_messages,..."revert_error"in e&&{revert_reason:e.revert_error}}}parseFeeEstimateResponse(e){if("overall_fee"in e){let t={};try{t={gas_consumed:He(e.gas_usage),gas_price:He(e.gas_price)}}catch{}return{overall_fee:He(e.overall_fee),...t}}return{overall_fee:He(e.amount)}}parseFeeEstimateBulkResponse(e){return[].concat(e).map(t=>{if("overall_fee"in t){let r={};try{r={gas_consumed:He(t.gas_usage),gas_price:He(t.gas_price)}}catch{}return{overall_fee:He(t.overall_fee),...r}}return{overall_fee:He(t.amount)}})}parseSimulateTransactionResponse(e){const t="overall_fee"in e.fee_estimation?e.fee_estimation.overall_fee:e.fee_estimation.amount;return[{transaction_trace:e.trace,fee_estimation:e.fee_estimation,suggestedMaxFee:_c(BigInt(t))}]}parseCallContractResponse(e){return{result:e.result}}parseInvokeFunctionResponse(e){return{transaction_hash:e.transaction_hash}}parseDeployContractResponse(e){return{transaction_hash:e.transaction_hash,contract_address:e.address}}parseDeclareContractResponse(e){return{transaction_hash:e.transaction_hash,class_hash:e.class_hash}}parseGetStateUpdateResponse(e){const t=Object.entries(e.state_diff.nonces).map(([n,i])=>({contract_address:n,nonce:i})),r=Object.entries(e.state_diff.storage_diffs).map(([n,i])=>({address:n,storage_entries:i}));return{...e,state_diff:{...e.state_diff,storage_diffs:r,nonces:t}}}parseContractClassResponse(e){const t=Zn(e)?e:AC(e);return{...t,abi:typeof t.abi=="string"?JSON.parse(t.abi):t.abi}}},Tde=/^(?:\w+:)?\/\/(\S+)$/,Ide=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,Cde=/^[^\s.]+\.\S{2,}$/;function mz(e){if(!e||typeof e!="string")return!1;const t=e.match(Tde);if(!t)return!1;const r=t[1];return r?!!(Ide.test(r)||Cde.test(r)):!1}function $d(e,t,r){return mz(r)?r:H6(e,r??t)}function kde(e){return e===void 0||Object.keys(e).length===0||Object.keys(e).length===1&&Object.entries(e).every(([t,r])=>t==="blockIdentifier"&&r===null)}var yz={network:"SN_GOERLI",blockIdentifier:"pending"},Ay=class{constructor(e=yz){this.responseParser=new Ade,"network"in e?(this.baseUrl=Ay.getNetworkFromName(e.network),this.feederGatewayUrl=$d(this.baseUrl,"feeder_gateway"),this.gatewayUrl=$d(this.baseUrl,"gateway")):(this.baseUrl=e.baseUrl,this.feederGatewayUrl=$d(this.baseUrl,"feeder_gateway",e.feederGatewayUrl),this.gatewayUrl=$d(this.baseUrl,"gateway",e.gatewayUrl)),this.chainId=(e==null?void 0:e.chainId)??Ay.getChainIdFromBaseUrl(this.baseUrl),this.headers=e.headers,this.blockIdentifier=(e==null?void 0:e.blockIdentifier)||yz.blockIdentifier}static getNetworkFromName(e){switch(e){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(e){try{return new URL(e).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${e}`),"0x534e5f474f45524c49"}}getFetchUrl(e){return["add_transaction"].includes(e)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(e){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(e)?"POST":"GET"}getQueryString(e){return kde(e)?"":`?${Object.entries(e).map(([t,r])=>t==="blockIdentifier"?`${new ar(r).queryIdentifier}`:`${t}=${r}`).join("&")}`}getHeaders(e){return e==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(e,...[t,r]){const n=this.getFetchUrl(e),i=this.getFetchMethod(e),s=this.getQueryString(t),o=H6(n,e,s);return this.fetch(o,{method:i,body:r})}async fetch(e,t){const r=$d(this.baseUrl,"",e),n=(t==null?void 0:t.method)??"GET",i=this.getHeaders(n),s=Ls(t==null?void 0:t.body);try{const o=await tz(r,{method:n,body:s,headers:i}),a=await o.text();if(!o.ok){let u;try{u=Gu(a)}catch{throw new uz(o.statusText,o.status)}throw new az(u.message,u.code)}return(t!=null&&t.parseAlwaysAsBigInt?W8:Gu)(a)}catch(o){throw o instanceof Error&&!(o instanceof $u)?Error(`Could not ${n} from endpoint \`${r}\`: ${o.message}`):o}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:e,entrypoint:t,calldata:r=[]},n=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:n},{contract_address:e,entry_point_selector:Ds(t),calldata:tt.compile(r)}).then(this.responseParser.parseCallContractResponse)}async getBlock(e=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:e}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(e,t=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:e,blockIdentifier:t})}async getStorageAt(e,t,r=this.blockIdentifier){const n=He(t).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:r,contractAddress:e,key:n})}async getTransaction(e){const t=ve(e);return this.fetchEndpoint("get_transaction",{transactionHash:t}).then(r=>{if(Object.values(r).length===1)throw new $u(r.status);return this.responseParser.parseGetTransactionResponse(r)})}async getTransactionReceipt(e){const t=ve(e);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:t}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(e,t=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:t,contractAddress:e}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(e,t=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:t,contractAddress:e})}async getClassByHash(e,t=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:e,blockIdentifier:t}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(e,t=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:e,blockIdentifier:t})}async getContractVersion(e,t,{blockIdentifier:r=this.blockIdentifier,compiler:n=!0}={}){let i;if(e)i=await this.getClassAt(e,r);else if(t)i=await this.getClassByHash(t,r);else throw Error("getContractVersion require contractAddress or classHash");return Zn(i)?n?{cairo:"1",compiler:Fb(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async invokeFunction(e,t){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:e.contractAddress,calldata:tt.compile(e.calldata??[]),signature:jd(e.signature),nonce:ve(t.nonce),max_fee:ve(t.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},i){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:r??SC(),constructor_calldata:tt.compile(t??[]),class_hash:ve(e),max_fee:ve(i.maxFee||0),version:ve(i.version||0),nonce:ve(i.nonce),signature:jd(n)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:e,contract:t,signature:r,compiledClassHash:n},i){return Zn(t)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:e,compiled_class_hash:n,contract_class:t,nonce:ve(i.nonce),signature:jd(r),max_fee:ve(i.maxFee||0),version:ve(xy)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:t,nonce:ve(i.nonce),signature:jd(r),sender_address:e,max_fee:ve(i.maxFee||0),version:ve(vc)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(e,t,r=this.blockIdentifier,n=!1){return this.getInvokeEstimateFee(e,t,r,n)}async getInvokeEstimateFee(e,t,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,t,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"DECLARE",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,t,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1}){const n=e.map(i=>this.buildTransaction(i,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:t,skipValidate:r},n).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(e,t=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:e,blockIdentifier:t})}async waitForTransaction(e,t){let r,n=!1,i=0;const s=(t==null?void 0:t.retryInterval)??5e3,o=(t==null?void 0:t.errorStates)??["REJECTED","NOT_RECEIVED","REVERTED"],a=(t==null?void 0:t.successStates)??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!n;)if(await Zb(s),r=await this.getTransactionStatus(e),r.finality_status==="NOT_RECEIVED"&&i<3)i+=1;else if(a.includes(r.finality_status)||a.includes(r.execution_status))n=!0;else if(o.includes(r.finality_status)||o.includes(r.execution_status)){let u;r.tx_failure_reason?u=`${r.tx_status}: ${r.tx_failure_reason.code}
${r.tx_failure_reason.error_message}`:r.tx_revert_reason?u=`${r.tx_status}: ${r.tx_revert_reason}`:u=r.tx_status;const l=new Error(u);throw l.response=r,l}return await this.getTransactionReceipt(e)}async getTransactionStatus(e){const t=ve(e);return this.fetchEndpoint("get_transaction_status",{transactionHash:t})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(e){const t=ve(e);return this.fetchEndpoint("get_transaction_trace",{transactionHash:t})}async estimateMessageFee({from_address:e,to_address:t,entry_point_selector:r,payload:n},i=this.blockIdentifier){const s={from_address:A8(e),to_address:ZI(t),entry_point_selector:Rb(r),payload:XI(n)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:i},s)}async getSimulateTransaction(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1,skipExecute:n=!1}){e.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),n&&console.warn("Sequencer can't skip account __execute__");const i=this.buildTransaction(e[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:t,skipValidate:r??!1},i).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(e=this.blockIdentifier){const t=new ar(e).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...t}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(e=this.blockIdentifier){const t=new ar(e).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...t})}async getStarkName(e,t){return kC(this,e,t)}async getAddressFromStarkName(e,t){return OC(this,e,t)}buildTransaction(e,t){const r=_C(t),n={signature:jd(e.signature),nonce:ve(e.nonce)};if(e.type==="INVOKE_FUNCTION")return{type:e.type,sender_address:e.contractAddress,calldata:tt.compile(e.calldata??[]),version:ve(e.version||r.v1),...n};if(e.type==="DECLARE")return Zn(e.contract)?{type:e.type,contract_class:e.contract,compiled_class_hash:e.compiledClassHash,sender_address:e.senderAddress,version:ve(e.version||r.v2),...n}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:ve(e.version||r.v1),...n};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:tt.compile(e.constructorCalldata||[]),class_hash:ve(e.classHash),contract_address_salt:ve(e.addressSalt||0),version:ve(e.version||r.v1),...n};throw Error("Sequencer buildTransaction received unknown TransactionType")}},Xb=class{constructor(e){e instanceof Xb?this.provider=e.provider:e instanceof Gd||e instanceof Ay?this.provider=e:e&&"rpc"in e?this.provider=new Gd(e.rpc):e&&"sequencer"in e?this.provider=new Ay(e.sequencer):this.provider=new Gd}async getChainId(){return this.provider.getChainId()}async getBlock(e){return this.provider.getBlock(e)}async getClassAt(e,t){return this.provider.getClassAt(e,t)}async getClassHashAt(e,t){return this.provider.getClassHashAt(e,t)}getClassByHash(e){return this.provider.getClassByHash(e)}async getEstimateFee(e,t,r){return this.provider.getEstimateFee(e,t,r)}async getInvokeEstimateFee(e,t,r,n){return this.provider.getInvokeEstimateFee(e,t,r,n)}async getEstimateFeeBulk(e,t){return this.provider.getEstimateFeeBulk(e,t)}async getNonceForAddress(e,t){return this.provider.getNonceForAddress(e,t)}async getStorageAt(e,t,r){return this.provider.getStorageAt(e,t,r)}async getTransaction(e){return this.provider.getTransaction(e)}async getTransactionReceipt(e){return this.provider.getTransactionReceipt(e)}async callContract(e,t){return this.provider.callContract(e,t)}async invokeFunction(e,t){return this.provider.invokeFunction(e,t)}async deployAccountContract(e,t){return this.provider.deployAccountContract(e,t)}async declareContract(e,t){return this.provider.declareContract(e,t)}async getDeclareEstimateFee(e,t,r,n){return this.provider.getDeclareEstimateFee(e,t,r,n)}getDeployAccountEstimateFee(e,t,r,n){return this.provider.getDeployAccountEstimateFee(e,t,r,n)}async getCode(e,t){return this.provider.getCode(e,t)}async waitForTransaction(e,t){return this.provider.waitForTransaction(e,t)}async getSimulateTransaction(e,t){return this.provider.getSimulateTransaction(e,t)}async getStateUpdate(e){return this.provider.getStateUpdate(e)}async getStarkName(e,t){return kC(this,e,t)}async getAddressFromStarkName(e,t){return OC(this,e,t)}async getContractVersion(e,t,r){return this.provider.getContractVersion(e,t,r)}},Ode=class{},gz={};xr(gz,{fromCallsToExecuteCalldata:()=>MC,fromCallsToExecuteCalldataWithNonce:()=>Pde,fromCallsToExecuteCalldata_cairo1:()=>_z,getExecuteCalldata:()=>Yb,transformCallsToMulticallArrays:()=>vz,transformCallsToMulticallArrays_cairo1:()=>Rde});var vz=e=>{const t=[],r=[];return e.forEach(n=>{const i=tt.compile(n.calldata||[]);t.push({to:He(n.contractAddress).toString(10),selector:He(Ds(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:i.length.toString()}),r.push(...i)}),{callArray:t,calldata:tt.compile({calldata:r})}},MC=e=>{const{callArray:t,calldata:r}=vz(e);return[...tt.compile({callArray:t}),...r]},Pde=(e,t)=>[...MC(e),He(t).toString()],Rde=e=>e.map(t=>({to:He(t.contractAddress).toString(10),selector:He(Ds(t.entrypoint)).toString(10),calldata:tt.compile(t.calldata||[])})),_z=e=>{const t=e.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:Array.isArray(r.calldata)&&"__compiled__"in r.calldata?r.calldata:tt.compile(r.calldata)}));return tt.compile({orderCalls:t})},Yb=(e,t="0")=>t==="1"?_z(e):MC(e),bz={};xr(bz,{encodeData:()=>Iz,encodeType:()=>Az,encodeValue:()=>DC,getDependencies:()=>NC,getMessageHash:()=>LC,getStructHash:()=>Ty,getTypeHash:()=>Tz,isMerkleTreeType:()=>Sz,prepareSelector:()=>Ez});var wz={};xr(wz,{MerkleTree:()=>Vd,proofMerklePath:()=>xz});var Vd=class{constructor(e){this.branches=[],this.leaves=e,this.root=this.build(e)}build(e){if(e.length===1)return e[0];e.length!==this.leaves.length&&this.branches.push(e);const t=[];for(let r=0;r<e.length;r+=2)r+1===e.length?t.push(Vd.hash(e[r],"0x0")):t.push(Vd.hash(e[r],e[r+1]));return this.build(t)}static hash(e,t){const[r,n]=[He(e),He(t)].sort((i,s)=>i>=s?1:-1);return Zm(r,n)}getProof(e,t=this.leaves,r=[]){const n=t.indexOf(e);if(n===-1)throw new Error("leaf not found");if(t.length===1)return r;const i=n%2===0,s=(i?t[n+1]:t[n-1])??"0x0",o=[...r,s],a=this.leaves.length===t.length?-1:this.branches.findIndex(l=>l.length===t.length),u=this.branches[a+1]??[this.root];return this.getProof(Vd.hash(i?e:s,i?s:e),u,o)}};function xz(e,t,r){if(r.length===0)return e===t;const[n,...i]=r;return xz(e,Vd.hash(t,n),i)}function Mde(e){try{return ve(e)}catch{if(typeof e=="string")return ve(Fu(e));throw new Error(`Invalid BigNumberish: ${e}`)}}var Nde=e=>{const t=e;return!!(t.types&&t.primaryType&&t.message)};function Ez(e){return Ns(e)?e:Ds(e)}function Sz(e){return e.type==="merkletree"}var NC=(e,t,r=[])=>(t[t.length-1]==="*"&&(t=t.slice(0,-1)),r.includes(t)||!e[t]?r:[t,...e[t].reduce((n,i)=>[...n,...NC(e,i.type,n).filter(s=>!n.includes(s))],[])]);function Dde(e,t){if(t.parent&&t.key){const r=e[t.parent].find(n=>n.name===t.key);if(!Sz(r))throw new Error(`${t.key} is not a merkle tree`);if(r.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return r.contains}return"raw"}var Az=(e,t)=>{const[r,...n]=NC(e,t);return(r?[r,...n.sort()]:[]).map(i=>`${i}(${e[i].map(s=>`${s.name}:${s.type}`)})`).join("")},Tz=(e,t)=>Ds(Az(e,t)),DC=(e,t,r,n={})=>{if(e[t])return[t,Ty(e,t,r)];if(Object.keys(e).map(i=>`${i}*`).includes(t)){const i=r.map(s=>Ty(e,t.slice(0,-1),s));return[t,kn(i)]}if(t==="merkletree"){const i=Dde(e,n),s=r.map(a=>DC(e,i,a)[1]),{root:o}=new Vd(s);return["felt",o]}return t==="felt*"?["felt*",kn(r)]:t==="selector"?["felt",Ez(r)]:[t,Mde(r)]},Iz=(e,t,r)=>{const[n,i]=e[t].reduce(([s,o],a)=>{if(r[a.name]===void 0||r[a.name]===null)throw new Error(`Cannot encode data: missing data for '${a.name}'`);const u=r[a.name],[l,h]=DC(e,a.type,u,{parent:t,key:a.name});return[[...s,l],[...o,h]]},[["felt"],[Tz(e,t)]]);return[n,i]},Ty=(e,t,r)=>kn(Iz(e,t,r)[1]),LC=(e,t)=>{if(!Nde(e))throw new Error("Typed data does not match JSON schema");const r=[Fu("StarkNet Message"),Ty(e.types,"StarkNetDomain",e.domain),t,Ty(e.types,e.primaryType,e.message)];return kn(r)},Cz=class{constructor(e=F2.randomPrivateKey()){this.pk=e instanceof Uint8Array?X6(e):ve(e)}async getPubKey(){return j2(this.pk)}async signMessage(e,t){const r=LC(e,t);return Wm(r,this.pk)}async signTransaction(e,t,r){if(r&&r.length!==e.length)throw new Error("ABI must be provided for each transaction or no transaction");const n=Yb(e,t.cairoVersion),i=X8(t.walletAddress,t.version,n,t.maxFee,t.chainId,t.nonce);return Wm(i,this.pk)}async signDeployAccountTransaction({classHash:e,contractAddress:t,constructorCalldata:r,addressSalt:n,maxFee:i,version:s,chainId:o,nonce:a}){const u=Z8(t,e,tt.compile(r),n,s,i,o,a);return Wm(u,this.pk)}async signDeclareTransaction({classHash:e,senderAddress:t,chainId:r,maxFee:n,version:i,nonce:s,compiledClassHash:o}){const a=q8(e,t,i,n,r,s,o);return Wm(a,this.pk)}};function kz(e){if(!e.events)throw new Error("UDC emitted event is empty");const t=e.events.find(r=>gy(r.from_address)===gy(mc.ADDRESS))||{data:[]};return{transaction_hash:e.transaction_hash,contract_address:t.data[0],address:t.data[0],deployer:t.data[1],unique:t.data[2],classHash:t.data[3],calldata_len:t.data[4],calldata:t.data.slice(5,5+parseInt(t.data[4],16)),salt:t.data[t.data.length-1]}}var bc=class extends Xb{constructor(e,t,r,n){super(e),this.deploySelf=this.deployAccount,this.address=t.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new Cz(r):r,n&&(this.cairoVersion=n.toString())}async getNonce(e){return super.getNonceForAddress(this.address,e)}async getNonceSafe(e){try{return He(e??await this.getNonce())}catch{return 0n}}async getCairoVersion(e){if(!this.cairoVersion){const{cairo:t}=e?await super.getContractVersion(void 0,e):await super.getContractVersion(this.address);this.cairoVersion=t}return this.cairoVersion}async estimateFee(e,t){return this.estimateInvokeFee(e,t)}async estimateInvokeFee(e,{nonce:t,blockIdentifier:r,skipValidate:n}={}){const i=Array.isArray(e)?e:[e],s=He(t??await this.getNonce()),o=He(Ud),a=await this.getChainId(),u={walletAddress:this.address,nonce:s,maxFee:Wn,version:o,chainId:a,cairoVersion:await this.getCairoVersion()},l=await this.buildInvocation(i,u),h=await super.getInvokeEstimateFee({...l},{version:o,nonce:s},r,n),f=_c(h.overall_fee);return{...h,suggestedMaxFee:f}}async estimateDeclareFee({contract:e,classHash:t,casm:r,compiledClassHash:n},{blockIdentifier:i,nonce:s,skipValidate:o}={}){const a=He(s??await this.getNonce()),u=Zn(e)?Gb:Ud,l=await this.getChainId(),h=await this.buildDeclarePayload({classHash:t,contract:e,casm:r,compiledClassHash:n},{nonce:a,chainId:l,version:u,walletAddress:this.address,maxFee:Wn,cairoVersion:void 0}),f=await super.getDeclareEstimateFee(h,{version:u,nonce:a},i,o),p=_c(f.overall_fee);return{...f,suggestedMaxFee:p}}async estimateAccountDeployFee({classHash:e,addressSalt:t=0,constructorCalldata:r=[],contractAddress:n},{blockIdentifier:i,skipValidate:s}={}){const o=He(Ud),a=Wn,u=await this.getChainId(),l=await this.buildAccountDeployPayload({classHash:e,addressSalt:t,constructorCalldata:r,contractAddress:n},{nonce:a,chainId:u,version:o,walletAddress:this.address,maxFee:Wn,cairoVersion:void 0}),h=await super.getDeployAccountEstimateFee({...l},{version:o,nonce:a},i,s),f=_c(h.overall_fee);return{...h,suggestedMaxFee:f}}async estimateDeployFee(e,t){const r=this.buildUDCContractPayload(e);return this.estimateInvokeFee(r,t)}async estimateFeeBulk(e,{nonce:t,blockIdentifier:r,skipValidate:n}={}){const i=await this.accountInvocationsFactory(e,{versions:[Ud,Gb],nonce:t,blockIdentifier:r}),s=await super.getEstimateFeeBulk(i,{blockIdentifier:r,skipValidate:n});return[].concat(s).map(o=>{const a=_c(o.overall_fee);return{...o,suggestedMaxFee:a}})}async buildInvocation(e,t){const r=Yb(e,await this.getCairoVersion()),n=await this.signer.signTransaction(e,t);return{contractAddress:this.address,calldata:r,signature:n}}async execute(e,t=void 0,r={}){const n=Array.isArray(e)?e:[e],i=He(r.nonce??await this.getNonce()),s=r.maxFee??await this.getSuggestedMaxFee({type:"INVOKE_FUNCTION",payload:e},r),o=He(vc),a=await this.getChainId(),u={walletAddress:this.address,nonce:i,maxFee:s,version:o,chainId:a,cairoVersion:await this.getCairoVersion()},l=await this.signer.signTransaction(n,u,t),h=Yb(n,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:h,signature:l},{nonce:i,maxFee:s,version:o})}async declareIfNot(e,t={}){const r=qb(e);try{await this.getClassByHash(r.classHash)}catch{return this.declare(e,t)}return{transaction_hash:"",class_hash:r.classHash}}async declare(e,t={}){const r=qb(e),n={};n.nonce=He(t.nonce??await this.getNonce()),n.maxFee=t.maxFee??await this.getSuggestedMaxFee({type:"DECLARE",payload:r},t),n.version=Zn(e.contract)?xy:vc,n.chainId=await this.getChainId();const i=await this.buildDeclarePayload(r,{...n,walletAddress:this.address,cairoVersion:void 0});return this.declareContract(i,n)}async deploy(e,t){const r=[].concat(e).map(s=>{const{classHash:o,salt:a,unique:u=!0,constructorCalldata:l=[]}=s,h=tt.compile(l),f=a??SC();return{call:{contractAddress:mc.ADDRESS,entrypoint:mc.ENTRYPOINT,calldata:[o,f,YI(u),h.length,...h]},address:$b(u?Zm(this.address,f):f,o,h,u?mc.ADDRESS:0)}}),n=r.map(s=>s.call),i=r.map(s=>s.address);return{...await this.execute(n,void 0,t),contract_address:i}}async deployContract(e,t){const r=await this.deploy(e,t),n=await this.waitForTransaction(r.transaction_hash);return kz(n)}async declareAndDeploy(e,t){const{constructorCalldata:r,salt:n,unique:i}=e;let s=await this.declareIfNot(e,t);if(s.transaction_hash!==""){const a=await this.waitForTransaction(s.transaction_hash);s={...s,...a}}const o=await this.deployContract({classHash:s.class_hash,salt:n,unique:i,constructorCalldata:r},t);return{declare:{...s},deploy:o}}async deployAccount({classHash:e,constructorCalldata:t=[],addressSalt:r=0,contractAddress:n},i={}){const s=He(vc),o=Wn,a=await this.getChainId(),u=tt.compile(t),l=n??$b(r,e,u,0),h=i.maxFee??await this.getSuggestedMaxFee({type:"DEPLOY_ACCOUNT",payload:{classHash:e,constructorCalldata:u,addressSalt:r,contractAddress:l}},i),f=await this.signer.signDeployAccountTransaction({classHash:e,constructorCalldata:u,contractAddress:l,addressSalt:r,chainId:a,maxFee:h,version:s,nonce:o});return this.deployAccountContract({classHash:e,addressSalt:r,constructorCalldata:t,signature:f},{nonce:o,maxFee:h,version:s})}async signMessage(e){return this.signer.signMessage(e,this.address)}async hashMessage(e){return LC(e,this.address)}async verifyMessageHash(e,t){try{return await this.callContract({contractAddress:this.address,entrypoint:"isValidSignature",calldata:tt.compile({hash:He(e).toString(),signature:Wb(t)})}),!0}catch{return!1}}async verifyMessage(e,t){const r=await this.hashMessage(e);return this.verifyMessageHash(r,t)}async getSuggestedMaxFee({type:e,payload:t},r){let n;switch(e){case"INVOKE_FUNCTION":n=await this.estimateInvokeFee(t,r);break;case"DECLARE":n=await this.estimateDeclareFee(t,r);break;case"DEPLOY_ACCOUNT":n=await this.estimateAccountDeployFee(t,r);break;case"DEPLOY":n=await this.estimateDeployFee(t,r);break;default:n={suggestedMaxFee:Wn,overall_fee:Wn};break}return n.suggestedMaxFee}async buildDeclarePayload(e,{nonce:t,chainId:r,version:n,walletAddress:i,maxFee:s}){const{classHash:o,contract:a,compiledClassHash:u}=qb(e),l=AC(a),h=await this.signer.signDeclareTransaction({classHash:o,compiledClassHash:u,senderAddress:i,chainId:r,maxFee:s,version:n,nonce:t});return{senderAddress:i,signature:h,contract:l,compiledClassHash:u}}async buildAccountDeployPayload({classHash:e,addressSalt:t=0,constructorCalldata:r=[],contractAddress:n},{nonce:i,chainId:s,version:o,maxFee:a}){const u=tt.compile(r),l=n??$b(t,e,u,0),h=await this.signer.signDeployAccountTransaction({classHash:e,contractAddress:l,chainId:s,maxFee:a,version:o,nonce:i,addressSalt:t,constructorCalldata:u});return{classHash:e,addressSalt:t,constructorCalldata:u,signature:h}}buildUDCContractPayload(e){return[].concat(e).map(t=>{const{classHash:r,salt:n="0",unique:i=!0,constructorCalldata:s=[]}=t,o=tt.compile(s);return{contractAddress:mc.ADDRESS,entrypoint:mc.ENTRYPOINT,calldata:[r,n,YI(i),o.length,...o]}})}async simulateTransaction(e,{nonce:t,blockIdentifier:r,skipValidate:n,skipExecute:i}={}){const s=await this.accountInvocationsFactory(e,{versions:[vc,xy],nonce:t,blockIdentifier:r});return super.getSimulateTransaction(s,{blockIdentifier:r,skipValidate:n,skipExecute:i})}async accountInvocationsFactory(e,{versions:t,nonce:r,blockIdentifier:n}){const i=t[0],s=await this.getNonceSafe(r),o=await this.getChainId(),a="payload"in e[0]?e[0].payload:e[0],u=e[0].type==="DEPLOY_ACCOUNT"?await this.getCairoVersion(a.classHash):await this.getCairoVersion();return Promise.all([].concat(e).map(async(l,h)=>{const f="payload"in l?l.payload:l,p={walletAddress:this.address,nonce:He(Number(s)+h),maxFee:Wn,version:i,chainId:o,cairoVersion:u},m={type:l.type,version:i,nonce:He(Number(s)+h),blockIdentifier:n};if(l.type==="INVOKE_FUNCTION"){const y=await this.buildInvocation([].concat(f),p);return{...m,...y}}if(l.type==="DECLARE"){p.version=Zn(f.contract)?He(t[1]):He(t[0]);const y=await this.buildDeclarePayload(f,p);return{...m,...y,version:p.version}}if(l.type==="DEPLOY_ACCOUNT"){const y=await this.buildAccountDeployPayload(f,p);return{...m,...y}}if(l.type==="DEPLOY"){const y=this.buildUDCContractPayload(f),v=await this.buildInvocation(y,p);return{...m,...v,type:"INVOKE_FUNCTION"}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${l}`)}))}async getStarkName(e=this.address,t){return super.getStarkName(e,t)}},Oz=class{},Pz=new Xb({rpc:{default:!0}}),Lde=class extends Oz{},Rz={};xr(Rz,{getAbiEvents:()=>Mz,parseEvents:()=>Nz});function Mz(e){return e.filter(t=>t.type==="event"&&(t.size||t.kind!=="enum")).reduce((t,r)=>{const n=r.name.slice(r.name.lastIndexOf(":")+1),i={...r};return i.name=n,{...t,[Wr(Sd(Ld(n)).toString(16))]:i}},{})}function Nz(e,t,r,n){return e.flat().reduce((i,s)=>{var p,m;const o=t[s.keys[0]];if(!o)return i;const a={};a[o.name]={},s.keys.shift();const u=s.keys[Symbol.iterator](),l=s.data[Symbol.iterator](),h=((p=o.members)==null?void 0:p.filter(y=>y.kind==="key"))||o.keys,f=((m=o.members)==null?void 0:m.filter(y=>y.kind==="data"))||o.data;return h.forEach(y=>{a[o.name][y.name]=mC(u,y,r,n,a[o.name])}),f.forEach(y=>{a[o.name][y.name]=mC(l,y,r,n,a[o.name])}),i.push(a),i},[])}var Kb=e=>{const t=["blockIdentifier","parseRequest","parseResponse","formatResponse","maxFee","nonce","signature","addressSalt"],r=e[e.length-1];return typeof r=="object"&&t.some(n=>n in r)?{args:e,options:e.pop()}:{args:e}};function Dz(e,t){return async function(...r){const n=Kb(r);return e.call(t.name,n.args,{parseRequest:!0,parseResponse:!0,...n.options})}}function Bde(e,t){return async function(...r){const n=Kb(r);return e.invoke(t.name,n.args,{parseRequest:!0,...n.options})}}function Lz(e,t){return t.stateMutability==="view"||t.state_mutability==="view"?Dz(e,t):Bde(e,t)}function Fde(e,t){return function(...r){return e.populate(t.name,r)}}function Ude(e,t){return function(...r){return e.estimate(t.name,r)}}function Wd(e,t){return Array.isArray(e)&&"__compiled__"in e?e:Array.isArray(e)&&Array.isArray(e[0])&&"__compiled__"in e[0]?e[0]:t()}var Qb=class{constructor(e,t,r=Pz){this.address=t&&t.toLowerCase(),this.providerOrAccount=r,this.callData=new tt(e),this.structs=tt.getAbiStruct(e),this.events=Mz(e);const n=N8(e);this.abi=n.getLegacyFormat();const i={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(s=>{if(s.type!=="function")return;const o=s.name;this[o]||Object.defineProperty(this,o,{...i,value:Lz(this,s)}),this.functions[o]||Object.defineProperty(this.functions,o,{...i,value:Lz(this,s)}),this.callStatic[o]||Object.defineProperty(this.callStatic,o,{...i,value:Dz(this,s)}),this.populateTransaction[o]||Object.defineProperty(this.populateTransaction,o,{...i,value:Fde(this,s)}),this.estimateFee[o]||Object.defineProperty(this.estimateFee,o,{...i,value:Ude(this,s)})})}attach(e){this.address=e}connect(e){this.providerOrAccount=e}async deployed(){return this.deployTransactionHash&&(await this.providerOrAccount.waitForTransaction(this.deployTransactionHash),this.deployTransactionHash=void 0),this}async call(e,t=[],{parseRequest:r=!0,parseResponse:n=!0,formatResponse:i=void 0,blockIdentifier:s=void 0}={}){Ct(this.address!==null,"contract is not connected to an address");const o=Wd(t,()=>r?(this.callData.validate("CALL",e,t),this.callData.compile(e,t)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),t));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:o,entrypoint:e},s).then(a=>n?i?this.callData.format(e,a.result,i):this.callData.parse(e,a.result):a.result)}invoke(e,t=[],{parseRequest:r=!0,maxFee:n,nonce:i,signature:s}={}){Ct(this.address!==null,"contract is not connected to an address");const o=Wd(t,()=>r?(this.callData.validate("INVOKE",e,t),this.callData.compile(e,t)):(console.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),t)),a={contractAddress:this.address,calldata:o,entrypoint:e};if("execute"in this.providerOrAccount)return this.providerOrAccount.execute(a,void 0,{maxFee:n,nonce:i});if(!i)throw new Error("Nonce is required when invoking a function without an account");return console.warn(`Invoking ${e} without an account. This will not work on a public node.`),this.providerOrAccount.invokeFunction({...a,signature:s},{nonce:i})}async estimate(e,t=[]){Ct(this.address!==null,"contract is not connected to an address"),Wd(t,()=>!1)||this.callData.validate("INVOKE",e,t);const r=this.populate(e,t);if("estimateInvokeFee"in this.providerOrAccount)return this.providerOrAccount.estimateInvokeFee(r);throw Error("Contract must be connected to the account contract to estimate")}populate(e,t=[]){const r=Wd(t,()=>this.callData.compile(e,t));return{contractAddress:this.address,entrypoint:e,calldata:r}}parseEvents(e){var t;return Nz(((t=e.events)==null?void 0:t.filter(r=>gy(r.from_address)===gy(this.address),[]))||[],this.events,this.structs,tt.getAbiEnum(this.abi))}isCairo1(){return nC.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typed(e){return this}},jde=class{},zde=class{constructor(e){this.compiledContract=e.compiledContract,this.account=e.account,this.casm=e.casm,this.abi=e.abi??e.compiledContract.abi,this.classHash=e.classHash,this.compiledClassHash=e.compiledClassHash,this.CallData=new tt(this.abi)}async deploy(...e){const{args:t,options:r={parseRequest:!0}}=Kb(e),n=Wd(t,()=>r.parseRequest?(this.CallData.validate("DEPLOY","constructor",t),this.CallData.compile("constructor",t)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),t)),{deploy:{contract_address:i,transaction_hash:s}}=await this.account.declareAndDeploy({contract:this.compiledContract,casm:this.casm,classHash:this.classHash,compiledClassHash:this.compiledClassHash,constructorCalldata:n,salt:r.addressSalt});Ct(!!i,"Deployment of the contract failed");const o=new Qb(this.compiledContract.abi,i,this.account);return o.deployTransactionHash=s,o}connect(e){return this.account=e,this}attach(e){return new Qb(this.abi,e,this.account)}};function Bz(e){return Wr(wa(ve(e)).padStart(64,"0"))}function Fz(e){x8(e,Wn,i8,"Starknet Address");const t=Bz(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return t}function Uz(e){const t=wa(Fz(e)).toLowerCase().split(""),r=wa(KI(e)),n=Su(r.padStart(64,"0"));for(let i=0;i<t.length;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return Wr(t.join(""))}function Hde(e){return Uz(e)===e}var Gde=WI;const $de=Object.freeze(Object.defineProperty({__proto__:null,Account:bc,AccountInterface:Lde,BlockStatus:VI,BlockTag:Ob,CairoCustomEnum:lC,CairoOption:Ub,CairoOptionVariant:cC,CairoResult:jb,CairoResultVariant:hC,CallData:tt,Contract:Qb,ContractFactory:zde,ContractInterface:jde,CustomError:oz,EntryPointType:zI,GatewayError:az,HttpError:uz,LibraryError:$u,Litteral:Cb,Provider:Xb,ProviderInterface:Oz,RPC:Cn,RpcProvider:Gd,SIMULATION_FLAG:UI,Sequencer:_8,SequencerProvider:Ay,Signer:Cz,SignerInterface:Ode,TransactionExecutionStatus:$I,TransactionFinalityStatus:kb,TransactionStatus:GI,TransactionType:HI,Uint:Ib,ValidateType:jI,addAddressPadding:Bz,buildUrl:$d,cairo:nC,constants:G6,contractClassResponseToLegacyCompiledContract:wde,defaultProvider:Pz,ec:vC,encode:$6,events:Rz,extractContractHashes:qb,fixProto:sz,fixStack:iz,getCalldata:Wd,getChecksumAddress:Uz,getDefaultNodeUrl:PC,hash:gC,isSierra:Zn,isUrl:mz,json:V8,merkle:wz,num:WI,number:Gde,parseUDCEvent:kz,provider:rz,selector:I8,shortString:vy,splitArgsAndOptions:Kb,stark:xC,starknetId:lz,transaction:gz,typedData:bz,types:h8,uint256:k8,validateAndParseAddress:Fz,validateChecksumAddress:Hde},Symbol.toStringTag,{value:"Module"}));var Vde=class{constructor(e){is(this,"worldAddress");this.worldAddress=e}getWorldAddress(){return this.worldAddress}},Wde=(e=>(e.get="entity",e.set="set_entity",e.entities="entities",e.execute="execute",e.register_system="register_system",e.register_component="register_component",e.component="component",e.system="system",e))(Wde||{}),qde="http://127.0.0.1:5050",jz=(e,t)=>{var r;return((r=e.contracts.find(n=>n.name===t))==null?void 0:r.address)||""},Zde=class extends Vde{constructor(t,r,n=qde){super(t);is(this,"provider");is(this,"contract");is(this,"manifest");this.provider=new Gd({nodeUrl:n}),this.contract=new Qb(r.world.abi,this.getWorldAddress(),this.provider),this.manifest=r}async entity(t,r,n=0,i=0){try{return await this.contract.call("entity",[vy.encodeShortString(t),r.keys.length,...r.keys,n,i])}catch(s){throw s}}async entities(t,r){try{return await this.contract.call("entities",[vy.encodeShortString(t),r])}catch(n){throw n}}async component(t){try{return await this.contract.call("component",[vy.encodeShortString(t)])}catch(r){throw r}}async execute(t,r,n,i,s){try{let o=await(t==null?void 0:t.getNonce());return await(t==null?void 0:t.execute({contractAddress:jz(this.manifest,r),entrypoint:n,calldata:i},void 0,{maxFee:0,...s,nonce:o}))}catch(o){throw o}}async executeMulti(t,r,n){try{let i=await(t==null?void 0:t.getNonce());return await(t==null?void 0:t.execute(r,void 0,{maxFee:0,...n,nonce:i}))}catch(i){throw i}}async uuid(){try{let{result:t}=await this.provider.callContract({contractAddress:this.getWorldAddress(),entrypoint:"uuid",calldata:[]});if(t&&t.length===1)return parseInt(t[0]);throw new Error("Contract did not return expected uuid")}catch(t){throw new Error(`Failed to fetch uuid: ${t}`)}}async call(t,r,n){try{return await this.provider.callContract({contractAddress:jz(this.manifest,t),entrypoint:r,calldata:n})}catch(i){throw new Error(`Failed to call: ${i}`)}}};function Xde(e){return{EntityLifeStatus:(()=>y2(e,{id:En.BigInt,isInfected:En.Boolean,deadAt:En.Number,isDead:En.Boolean},{metadata:{name:"EntityLifeStatus",types:["felt252","bool","u64","bool"],customTypes:[]}}))(),Player:(()=>y2(e,{id:En.BigInt,x:En.Number,y:En.Number,orientation:En.Number},{metadata:{name:"Player",types:["felt252","u16","u16","u8"],customTypes:[]}}))(),Tile:(()=>y2(e,{game_id:En.Number,id:En.Number,x:En.Number,y:En.Number,_type:En.Number},{metadata:{name:"Tile",types:["u32","u8","u8","u8","u8"],customTypes:[]}}))()}}const Yde={name:"dojo::world::world",address:"0x691f741c8fd33d557daced16f586c44f3f64633f4a227485b8cd0a8718d9bd4",class_hash:"0x5ac623f0c96059936bd2d0904bdd31799e430fe08a0caff7a5f497260b16497",abi:[{type:"impl",name:"World",interface_name:"dojo::world::IWorld"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"enum",name:"core::option::Option::<core::felt252>",variants:[{name:"Some",type:"core::felt252"},{name:"None",type:"()"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"enum",name:"core::bool",variants:[{name:"False",type:"()"},{name:"True",type:"()"}]},{type:"interface",name:"dojo::world::IWorld",items:[{type:"function",name:"metadata_uri",inputs:[{name:"resource",type:"core::felt252"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_metadata_uri",inputs:[{name:"resource",type:"core::felt252"},{name:"uri",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"external"},{type:"function",name:"model",inputs:[{name:"name",type:"core::felt252"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"register_model",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"},{type:"function",name:"deploy_contract",inputs:[{name:"salt",type:"core::felt252"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"external"},{type:"function",name:"upgrade_contract",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"external"},{type:"function",name:"uuid",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"external"},{type:"function",name:"emit",inputs:[{name:"keys",type:"core::array::Array::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"view"},{type:"function",name:"entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"offset",type:"core::integer::u8"},{name:"length",type:"core::integer::u32"},{name:"layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"offset",type:"core::integer::u8"},{name:"values",type:"core::array::Span::<core::felt252>"},{name:"layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[],state_mutability:"external"},{type:"function",name:"entities",inputs:[{name:"model",type:"core::felt252"},{name:"index",type:"core::option::Option::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"},{name:"values_length",type:"core::integer::u32"},{name:"values_layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[{type:"(core::array::Span::<core::felt252>, core::array::Span::<core::array::Span::<core::felt252>>)"}],state_mutability:"view"},{type:"function",name:"entity_ids",inputs:[{name:"model",type:"core::felt252"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_executor",inputs:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"executor",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{type:"function",name:"base",inputs:[],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"delete_entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"}]},{type:"impl",name:"UpgradeableWorld",interface_name:"dojo::world::IUpgradeableWorld"},{type:"interface",name:"dojo::world::IUpgradeableWorld",items:[{type:"function",name:"upgrade",inputs:[{name:"new_class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"}]},{type:"constructor",name:"constructor",inputs:[{name:"executor",type:"core::starknet::contract_address::ContractAddress"},{name:"contract_base",type:"core::starknet::class_hash::ClassHash"}]},{type:"event",name:"dojo::world::world::WorldSpawned",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"creator",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::ContractDeployed",kind:"struct",members:[{name:"salt",type:"core::felt252",kind:"data"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::ContractUpgraded",kind:"struct",members:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::WorldUpgraded",kind:"struct",members:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"}]},{type:"event",name:"dojo::world::world::MetadataUpdate",kind:"struct",members:[{name:"resource",type:"core::felt252",kind:"data"},{name:"uri",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::ModelRegistered",kind:"struct",members:[{name:"name",type:"core::felt252",kind:"data"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"prev_class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"}]},{type:"event",name:"dojo::world::world::StoreSetRecord",kind:"struct",members:[{name:"table",type:"core::felt252",kind:"data"},{name:"keys",type:"core::array::Span::<core::felt252>",kind:"data"},{name:"offset",type:"core::integer::u8",kind:"data"},{name:"values",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::StoreDelRecord",kind:"struct",members:[{name:"table",type:"core::felt252",kind:"data"},{name:"keys",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::WriterUpdated",kind:"struct",members:[{name:"model",type:"core::felt252",kind:"data"},{name:"system",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"value",type:"core::bool",kind:"data"}]},{type:"event",name:"dojo::world::world::OwnerUpdated",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"resource",type:"core::felt252",kind:"data"},{name:"value",type:"core::bool",kind:"data"}]},{type:"event",name:"dojo::world::world::ExecutorUpdated",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"prev_address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::Event",kind:"enum",variants:[{name:"WorldSpawned",type:"dojo::world::world::WorldSpawned",kind:"nested"},{name:"ContractDeployed",type:"dojo::world::world::ContractDeployed",kind:"nested"},{name:"ContractUpgraded",type:"dojo::world::world::ContractUpgraded",kind:"nested"},{name:"WorldUpgraded",type:"dojo::world::world::WorldUpgraded",kind:"nested"},{name:"MetadataUpdate",type:"dojo::world::world::MetadataUpdate",kind:"nested"},{name:"ModelRegistered",type:"dojo::world::world::ModelRegistered",kind:"nested"},{name:"StoreSetRecord",type:"dojo::world::world::StoreSetRecord",kind:"nested"},{name:"StoreDelRecord",type:"dojo::world::world::StoreDelRecord",kind:"nested"},{name:"WriterUpdated",type:"dojo::world::world::WriterUpdated",kind:"nested"},{name:"OwnerUpdated",type:"dojo::world::world::OwnerUpdated",kind:"nested"},{name:"ExecutorUpdated",type:"dojo::world::world::ExecutorUpdated",kind:"nested"}]}],reads:[],writes:[],computed:[]},Kde={name:"dojo::executor::executor",address:null,class_hash:"0x585507fa2818fe78e66da6ea4c5915376739f4abf509d41153f60a16cb1f68d",abi:[{type:"impl",name:"Executor",interface_name:"dojo::executor::IExecutor"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"interface",name:"dojo::executor::IExecutor",items:[{type:"function",name:"call",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"},{name:"entrypoint",type:"core::felt252"},{name:"calldata",type:"core::array::Span::<core::felt252>"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"}]},{type:"event",name:"dojo::executor::executor::Event",kind:"enum",variants:[]}],reads:[],writes:[],computed:[]},Qde={name:"dojo::base::base",class_hash:"0x6c458453d35753703ad25632deec20a29faf8531942ec109e6eb0650316a2bc",abi:[{type:"impl",name:"WorldProviderImpl",interface_name:"dojo::world::IWorldProvider"},{type:"struct",name:"dojo::world::IWorldDispatcher",members:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}]},{type:"interface",name:"dojo::world::IWorldProvider",items:[{type:"function",name:"world",inputs:[],outputs:[{type:"dojo::world::IWorldDispatcher"}],state_mutability:"view"}]},{type:"impl",name:"UpgradableImpl",interface_name:"dojo::components::upgradeable::IUpgradeable"},{type:"interface",name:"dojo::components::upgradeable::IUpgradeable",items:[{type:"function",name:"upgrade",inputs:[{name:"new_class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"}]},{type:"constructor",name:"constructor",inputs:[]},{type:"event",name:"dojo::components::upgradeable::upgradeable::Upgraded",kind:"struct",members:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"}]},{type:"event",name:"dojo::components::upgradeable::upgradeable::Event",kind:"enum",variants:[{name:"Upgraded",type:"dojo::components::upgradeable::upgradeable::Upgraded",kind:"nested"}]},{type:"event",name:"dojo::base::base::Event",kind:"enum",variants:[{name:"UpgradeableEvent",type:"dojo::components::upgradeable::upgradeable::Event",kind:"nested"}]}]},Jde=[{name:"plaguestark::actions::actions",address:"0x2ca8dbe9c89ee5a3fd917f790d34032faa623b0466f40c0e8e93cac1e92b0f0",class_hash:"0x534b712348cb932da1c0ba21f4018c897f96cc989790a20faa5fd550d12f0be",abi:[{type:"impl",name:"WorldProviderImpl",interface_name:"dojo::world::IWorldProvider"},{type:"struct",name:"dojo::world::IWorldDispatcher",members:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}]},{type:"interface",name:"dojo::world::IWorldProvider",items:[{type:"function",name:"world",inputs:[],outputs:[{type:"dojo::world::IWorldDispatcher"}],state_mutability:"view"}]},{type:"impl",name:"ActionsImpl",interface_name:"plaguestark::actions::IActions"},{type:"interface",name:"plaguestark::actions::IActions",items:[{type:"function",name:"spawn",inputs:[],outputs:[],state_mutability:"view"},{type:"function",name:"move",inputs:[{name:"x",type:"core::integer::u16"},{name:"y",type:"core::integer::u16"}],outputs:[],state_mutability:"view"}]},{type:"impl",name:"UpgradableImpl",interface_name:"dojo::components::upgradeable::IUpgradeable"},{type:"interface",name:"dojo::components::upgradeable::IUpgradeable",items:[{type:"function",name:"upgrade",inputs:[{name:"new_class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"}]},{type:"function",name:"dojo_resource",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"event",name:"dojo::components::upgradeable::upgradeable::Upgraded",kind:"struct",members:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"}]},{type:"event",name:"dojo::components::upgradeable::upgradeable::Event",kind:"enum",variants:[{name:"Upgraded",type:"dojo::components::upgradeable::upgradeable::Upgraded",kind:"nested"}]},{type:"event",name:"plaguestark::actions::actions::Event",kind:"enum",variants:[{name:"UpgradeableEvent",type:"dojo::components::upgradeable::upgradeable::Event",kind:"nested"}]}],reads:[],writes:[],computed:[]}],efe=[{name:"plaguestark::actions::player",members:[{name:"id",type:"ContractAddress",key:!0},{name:"x",type:"u16",key:!1},{name:"y",type:"u16",key:!1},{name:"orientation",type:"u8",key:!1}],class_hash:"0x6f4bde45d9e626ed989404668d47e6a083bb38a451f5c717addd39c7e284159",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::introspect::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::introspect::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::introspect::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::introspect::Struct"},{name:"Enum",type:"dojo::database::introspect::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::introspect::Ty"}],state_mutability:"view"},{type:"event",name:"plaguestark::actions::player::Event",kind:"enum",variants:[]}]},{name:"plaguestark::models::tile::tile",members:[{name:"game_id",type:"u32",key:!0},{name:"id",type:"u8",key:!0},{name:"x",type:"u8",key:!1},{name:"y",type:"u8",key:!1},{name:"_type",type:"u8",key:!1}],class_hash:"0x22a410c5749a1025ff40de59c29e6b886eb518c6d96d859acd318ab14f41787",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::introspect::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::introspect::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::introspect::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::introspect::Struct"},{name:"Enum",type:"dojo::database::introspect::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::introspect::Ty"}],state_mutability:"view"},{type:"event",name:"plaguestark::models::tile::tile::Event",kind:"enum",variants:[]}]}],tfe={world:Yde,executor:Kde,base:Qde,contracts:Jde,models:efe},rfe="/assets/torii_client_wasm_bg-fb6263d1.wasm",nfe=async(e={},t)=>{let r;if(t.startsWith("data:")){const n=t.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(n,"base64");else if(typeof atob=="function"){const s=atob(n);i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(i,e)}else{const n=await fetch(t),i=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(n,e);else{const s=await n.arrayBuffer();r=await WebAssembly.instantiate(s,e)}}return r.instance.exports};let qe;function ife(e){qe=e}const Ea=new Array(128).fill(void 0);Ea.push(void 0,null,!0,!1);function ae(e){return Ea[e]}let Iy=Ea.length;function sfe(e){e<132||(Ea[e]=Iy,Iy=e)}function Bs(e){const t=ae(e);return sfe(e),t}const ofe=typeof TextDecoder>"u"?(0,pR.require)("util").TextDecoder:TextDecoder;let zz=new ofe("utf-8",{ignoreBOM:!0,fatal:!0});zz.decode();let Jb=null;function e1(){return(Jb===null||Jb.byteLength===0)&&(Jb=new Uint8Array(qe.memory.buffer)),Jb}function Fs(e,t){return e=e>>>0,zz.decode(e1().subarray(e,e+t))}function Se(e){Iy===Ea.length&&Ea.push(Ea.length+1);const t=Iy;return Iy=Ea[t],Ea[t]=e,t}function Sa(e){return e==null}let t1=null;function afe(){return(t1===null||t1.byteLength===0)&&(t1=new Float64Array(qe.memory.buffer)),t1}let r1=null;function Xn(){return(r1===null||r1.byteLength===0)&&(r1=new Int32Array(qe.memory.buffer)),r1}let an=0;const ufe=typeof TextEncoder>"u"?(0,pR.require)("util").TextEncoder:TextEncoder;let n1=new ufe("utf-8");const lfe=typeof n1.encodeInto=="function"?function(e,t){return n1.encodeInto(e,t)}:function(e,t){const r=n1.encode(e);return t.set(r),{read:e.length,written:r.length}};function wc(e,t,r){if(r===void 0){const a=n1.encode(e),u=t(a.length,1)>>>0;return e1().subarray(u,u+a.length).set(a),an=a.length,u}let n=e.length,i=t(n,1)>>>0;const s=e1();let o=0;for(;o<n;o++){const a=e.charCodeAt(o);if(a>127)break;s[i+o]=a}if(o!==n){o!==0&&(e=e.slice(o)),i=r(i,n,n=o+e.length*3,1)>>>0;const a=e1().subarray(i+o,i+n),u=lfe(e,a);o+=u.written}return an=o,i}let i1=null;function cfe(){return(i1===null||i1.byteLength===0)&&(i1=new BigInt64Array(qe.memory.buffer)),i1}function BC(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let s="[";i>0&&(s+=BC(e[0]));for(let o=1;o<i;o++)s+=", "+BC(e[o]);return s+="]",s}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let n;if(r.length>1)n=r[1];else return toString.call(e);if(n=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:n}function Hz(e,t,r,n){const i={a:e,b:t,cnt:1,dtor:r},s=(...o)=>{i.cnt++;const a=i.a;i.a=0;try{return n(a,i.b,...o)}finally{--i.cnt===0?qe.__wbindgen_export_2.get(i.dtor)(a,i.b):i.a=a}};return s.original=i,s}function hfe(e,t,r){qe.wasm_bindgen__convert__closures__invoke1_mut__hcb4ac126eddf5a92(e,t,Se(r))}function dfe(e,t,r){qe._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__haa1d75ee61f90ceb(e,t,Se(r))}let s1=null;function ffe(){return(s1===null||s1.byteLength===0)&&(s1=new Uint32Array(qe.memory.buffer)),s1}function qd(e,t){const r=t(e.length*4,4)>>>0,n=ffe();for(let i=0;i<e.length;i++)n[r/4+i]=Se(e[i]);return an=e.length,r}function pfe(e,t){const r=qd(e,qe.__wbindgen_malloc),n=an,i=qe.createClient(r,n,Se(t));return Bs(i)}function Er(e,t){try{return e.apply(this,t)}catch(r){qe.__wbindgen_exn_store(Se(r))}}function mfe(e,t,r,n){qe.wasm_bindgen__convert__closures__invoke2_mut__h2e954595cfb0ecad(e,t,Se(r),Se(n))}class FC{static __wrap(t){t=t>>>0;const r=Object.create(FC.prototype);return r.__wbg_ptr=t,r}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();qe.__wbg_client_free(t)}getEntities(t,r){const n=qe.client_getEntities(this.__wbg_ptr,t,r);return Bs(n)}getEntitiesByKeys(t,r,n,i){const s=wc(t,qe.__wbindgen_malloc,qe.__wbindgen_realloc),o=an,a=qd(r,qe.__wbindgen_malloc),u=an,l=qe.client_getEntitiesByKeys(this.__wbg_ptr,s,o,a,u,n,i);return Bs(l)}getModelValue(t,r){const n=wc(t,qe.__wbindgen_malloc,qe.__wbindgen_realloc),i=an,s=qd(r,qe.__wbindgen_malloc),o=an,a=qe.client_getModelValue(this.__wbg_ptr,n,i,s,o);return Bs(a)}addModelsToSync(t){const r=qd(t,qe.__wbindgen_malloc),n=an,i=qe.client_addModelsToSync(this.__wbg_ptr,r,n);return Bs(i)}removeModelsToSync(t){const r=qd(t,qe.__wbindgen_malloc),n=an,i=qe.client_removeModelsToSync(this.__wbg_ptr,r,n);return Bs(i)}onSyncModelChange(t,r){try{const s=qe.__wbindgen_add_to_stack_pointer(-16);qe.client_onSyncModelChange(s,this.__wbg_ptr,Se(t),Se(r));var n=Xn()[s/4+0],i=Xn()[s/4+1];if(i)throw Bs(n)}finally{qe.__wbindgen_add_to_stack_pointer(16)}}onEntityUpdated(t,r){var n=Sa(t)?0:qd(t,qe.__wbindgen_malloc),i=an;const s=qe.client_onEntityUpdated(this.__wbg_ptr,n,i,Se(r));return Bs(s)}}function yfe(e){Bs(e)}function gfe(e,t){console.log(Fs(e,t))}function vfe(e,t){const r=Fs(e,t);return Se(r)}function _fe(e){const t=ae(e);return Se(t)}function bfe(e){const t=FC.__wrap(e);return Se(t)}function wfe(e){const t=ae(e);return typeof t=="boolean"?t?1:0:2}function xfe(e){return typeof ae(e)=="bigint"}function Efe(e){return Se(e)}function Sfe(e,t){return ae(e)===ae(t)}function Afe(e){const t=BigInt.asUintN(64,e);return Se(t)}function Tfe(e,t){const r=new Error(Fs(e,t));return Se(r)}function Ife(e,t){const r=ae(t),n=typeof r=="number"?r:void 0;afe()[e/8+1]=Sa(n)?0:n,Xn()[e/4+0]=!Sa(n)}function Cfe(e,t){const r=ae(t),n=typeof r=="string"?r:void 0;var i=Sa(n)?0:wc(n,qe.__wbindgen_malloc,qe.__wbindgen_realloc),s=an;Xn()[e/4+1]=s,Xn()[e/4+0]=i}function kfe(e){const t=ae(e);return typeof t=="object"&&t!==null}function Ofe(e,t){return ae(e)in ae(t)}function Pfe(e){return ae(e)===void 0}function Rfe(e){const t=Bs(e).original;return t.cnt--==1?(t.a=0,!0):!1}function Mfe(){const e=new Error;return Se(e)}function Nfe(e,t){const r=ae(t).stack,n=wc(r,qe.__wbindgen_malloc,qe.__wbindgen_realloc),i=an;Xn()[e/4+1]=i,Xn()[e/4+0]=n}function Dfe(e,t){let r,n;try{r=e,n=t,console.error(Fs(e,t))}finally{qe.__wbindgen_free(r,n,1)}}function Lfe(e,t){return ae(e)==ae(t)}function Bfe(e,t){const r=String(ae(t)),n=wc(r,qe.__wbindgen_malloc,qe.__wbindgen_realloc),i=an;Xn()[e/4+1]=i,Xn()[e/4+0]=n}function Ffe(e,t){const r=ae(e)[ae(t)];return Se(r)}function Ufe(e,t){const r=fetch(ae(e),ae(t));return Se(r)}function jfe(){return Er(function(e){const t=ae(e).getReader();return Se(t)},arguments)}function zfe(){return Er(function(e){ae(e).releaseLock()},arguments)}function Hfe(e){const t=ae(e).read();return Se(t)}function Gfe(e){return ae(e).done}function $fe(e){const t=ae(e).value;return Se(t)}function Vfe(e){const t=ae(e).cancel();return Se(t)}function Wfe(e){ae(e).close()}function qfe(e,t){ae(e).enqueue(ae(t))}function Zfe(e){const t=ae(e).byobRequest;return Sa(t)?0:Se(t)}function Xfe(e){ae(e).close()}function Yfe(e){const t=ae(e).view;return Sa(t)?0:Se(t)}function Kfe(e,t){ae(e).respond(t>>>0)}function Qfe(e){const t=ae(e).buffer;return Se(t)}function Jfe(e){return ae(e).byteOffset}function epe(e){return ae(e).byteLength}function tpe(e){const t=fetch(ae(e));return Se(t)}function rpe(e){queueMicrotask(ae(e))}function npe(e){const t=ae(e).queueMicrotask;return Se(t)}function ipe(e){return typeof ae(e)=="function"}function spe(e,t){const r=ae(e).fetch(ae(t));return Se(r)}function ope(e,t,r){const n=ae(e).fetch(ae(t),ae(r));return Se(n)}function ape(){return Er(function(){const e=new Headers;return Se(e)},arguments)}function upe(){return Er(function(e,t,r,n,i){ae(e).append(Fs(t,r),Fs(n,i))},arguments)}function lpe(){return Er(function(e,t,r){const n=new Request(Fs(e,t),ae(r));return Se(n)},arguments)}function cpe(e){const t=ae(e).signal;return Se(t)}function hpe(){return Er(function(){const e=new AbortController;return Se(e)},arguments)}function dpe(e){ae(e).abort()}function fpe(e){let t;try{t=ae(e)instanceof Response}catch{t=!1}return t}function ppe(e,t){const r=ae(t).url,n=wc(r,qe.__wbindgen_malloc,qe.__wbindgen_realloc),i=an;Xn()[e/4+1]=i,Xn()[e/4+0]=n}function mpe(e){return ae(e).status}function ype(e){const t=ae(e).headers;return Se(t)}function gpe(e){const t=ae(e).body;return Sa(t)?0:Se(t)}function vpe(){return Er(function(e){const t=ae(e).text();return Se(t)},arguments)}function _pe(e,t){const r=ae(e)[t>>>0];return Se(r)}function bpe(e){return ae(e).length}function wpe(e,t){const r=new Function(Fs(e,t));return Se(r)}function xpe(e){const t=ae(e).next;return Se(t)}function Epe(){return Er(function(e){const t=ae(e).next();return Se(t)},arguments)}function Spe(e){return ae(e).done}function Ape(e){const t=ae(e).value;return Se(t)}function Tpe(){return Se(Symbol.iterator)}function Ipe(){return Er(function(e,t){const r=Reflect.get(ae(e),ae(t));return Se(r)},arguments)}function Cpe(){return Er(function(e,t){const r=ae(e).call(ae(t));return Se(r)},arguments)}function kpe(){const e=new Object;return Se(e)}function Ope(){return Er(function(){const e=self.self;return Se(e)},arguments)}function Ppe(){return Er(function(){const e=window.window;return Se(e)},arguments)}function Rpe(){return Er(function(){const e=globalThis.globalThis;return Se(e)},arguments)}function Mpe(){return Er(function(){const e=global.global;return Se(e)},arguments)}function Npe(e){return Array.isArray(ae(e))}function Dpe(e){let t;try{t=ae(e)instanceof ArrayBuffer}catch{t=!1}return t}function Lpe(e,t){const r=new Error(Fs(e,t));return Se(r)}function Bpe(){return Er(function(e,t,r){const n=ae(e).call(ae(t),ae(r));return Se(n)},arguments)}function Fpe(e){return Number.isSafeInteger(ae(e))}function Upe(e){const t=Object.entries(ae(e));return Se(t)}function jpe(e){const t=ae(e).toString();return Se(t)}function zpe(e,t){try{var r={a:e,b:t},n=(s,o)=>{const a=r.a;r.a=0;try{return mfe(a,r.b,s,o)}finally{r.a=a}};const i=new Promise(n);return Se(i)}finally{r.a=r.b=0}}function Hpe(e){const t=Promise.resolve(ae(e));return Se(t)}function Gpe(e,t){const r=ae(e).catch(ae(t));return Se(r)}function $pe(e,t){const r=ae(e).then(ae(t));return Se(r)}function Vpe(e,t,r){const n=ae(e).then(ae(t),ae(r));return Se(n)}function Wpe(e){const t=ae(e).buffer;return Se(t)}function qpe(e,t,r){const n=new Uint8Array(ae(e),t>>>0,r>>>0);return Se(n)}function Zpe(e){const t=new Uint8Array(ae(e));return Se(t)}function Xpe(e,t,r){ae(e).set(ae(t),r>>>0)}function Ype(e){return ae(e).length}function Kpe(e){let t;try{t=ae(e)instanceof Uint8Array}catch{t=!1}return t}function Qpe(){return Er(function(e,t){const r=JSON.parse(Fs(e,t));return Se(r)},arguments)}function Jpe(){return Er(function(e){const t=JSON.stringify(ae(e));return Se(t)},arguments)}function eme(){return Er(function(e,t){return Reflect.has(ae(e),ae(t))},arguments)}function tme(){return Er(function(e,t,r){return Reflect.set(ae(e),ae(t),ae(r))},arguments)}function rme(e,t){const r=ae(t),n=typeof r=="bigint"?r:void 0;cfe()[e/8+1]=Sa(n)?BigInt(0):n,Xn()[e/4+0]=!Sa(n)}function nme(e,t){const r=BC(ae(t)),n=wc(r,qe.__wbindgen_malloc,qe.__wbindgen_realloc),i=an;Xn()[e/4+1]=i,Xn()[e/4+0]=n}function ime(e,t){throw new Error(Fs(e,t))}function sme(e){throw Bs(e)}function ome(){const e=qe.memory;return Se(e)}function ame(e,t,r){const n=Hz(e,t,429,hfe);return Se(n)}function ume(e,t,r){const n=Hz(e,t,530,dfe);return Se(n)}URL=globalThis.URL;const Ke=await nfe({"./torii_client_wasm_bg.js":{__wbindgen_object_drop_ref:yfe,__wbg_log_d097a61f7bfda55a:gfe,__wbindgen_string_new:vfe,__wbindgen_object_clone_ref:_fe,__wbg_client_new:bfe,__wbindgen_boolean_get:wfe,__wbindgen_is_bigint:xfe,__wbindgen_bigint_from_i64:Efe,__wbindgen_jsval_eq:Sfe,__wbindgen_bigint_from_u64:Afe,__wbindgen_error_new:Tfe,__wbindgen_number_get:Ife,__wbindgen_string_get:Cfe,__wbindgen_is_object:kfe,__wbindgen_in:Ofe,__wbindgen_is_undefined:Pfe,__wbindgen_cb_drop:Rfe,__wbg_new_abda76e883ba8a5f:Mfe,__wbg_stack_658279fe44541cf6:Nfe,__wbg_error_f851667af71bcfc6:Dfe,__wbindgen_jsval_loose_eq:Lfe,__wbg_String_917f38a1211cf44b:Bfe,__wbg_getwithrefkey_3b3c46ba20582127:Ffe,__wbg_fetch_24472c79bb4342d1:Ufe,__wbg_getReader_8ecba87d8003e950:jfe,__wbg_releaseLock_9ae075576f54bf0b:zfe,__wbg_read_88c96573fc8b3b01:Hfe,__wbg_done_76252d32deca186b:Gfe,__wbg_value_ff3741eb46856618:$fe,__wbg_cancel_7f202496da02cd45:Vfe,__wbg_close_e9110ca16e2567db:Wfe,__wbg_enqueue_d71a1a518e21f5c3:qfe,__wbg_byobRequest_08c18cee35def1f4:Zfe,__wbg_close_da7e6fb9d9851e5a:Xfe,__wbg_view_231340b0dd8a2484:Yfe,__wbg_respond_8fadc5f5c9d95422:Kfe,__wbg_buffer_4e79326814bdd393:Qfe,__wbg_byteOffset_b69b0a07afccce19:Jfe,__wbg_byteLength_5299848ed3264181:epe,__wbg_fetch_b5d6bebed1e6c2d2:tpe,__wbg_queueMicrotask_e5949c35d772a669:rpe,__wbg_queueMicrotask_2be8b97a81fe4d00:npe,__wbindgen_is_function:ipe,__wbg_fetch_8eaf01857a5bb21f:spe,__wbg_fetch_dea2589fa7e6c1b8:ope,__wbg_new_1eead62f64ca15ce:ape,__wbg_append_fda9e3432e3e88da:upe,__wbg_newwithstrandinit_cad5cd6038c7ff5d:lpe,__wbg_signal_4bd18fb489af2d4c:cpe,__wbg_new_55c9955722952374:hpe,__wbg_abort_654b796176d117aa:dpe,__wbg_instanceof_Response_fc4327dbfcdf5ced:fpe,__wbg_url_8503de97f69da463:ppe,__wbg_status_ac85a3142a84caa2:mpe,__wbg_headers_b70de86b8e989bc0:ype,__wbg_body_b86f372950de5b7d:gpe,__wbg_text_a667ac1770538491:vpe,__wbg_get_4a9aa5157afeb382:_pe,__wbg_length_cace2e0b3ddc0502:bpe,__wbg_newnoargs_ccdcae30fd002262:wpe,__wbg_next_15da6a3df9290720:xpe,__wbg_next_1989a20442400aaa:Epe,__wbg_done_bc26bf4ada718266:Spe,__wbg_value_0570714ff7d75f35:Ape,__wbg_iterator_7ee1a391d310f8e4:Tpe,__wbg_get_2aff440840bb6202:Ipe,__wbg_call_669127b9d730c650:Cpe,__wbg_new_c728d68b8b34487e:kpe,__wbg_self_3fad056edded10bd:Ope,__wbg_window_a4f46c98a61d4089:Ppe,__wbg_globalThis_17eff828815f7d84:Rpe,__wbg_global_46f939f6541643c5:Mpe,__wbg_isArray_38525be7442aa21e:Npe,__wbg_instanceof_ArrayBuffer_c7cc317e5c29cc0d:Dpe,__wbg_new_ab87fd305ed9004b:Lpe,__wbg_call_53fc3abd42e24ec8:Bpe,__wbg_isSafeInteger_c38b0a16d0c7cef7:Fpe,__wbg_entries_6d727b73ee02b7ce:Upe,__wbg_toString_2c5d5b612e8bdd61:jpe,__wbg_new_feb65b865d980ae2:zpe,__wbg_resolve_a3252b2860f0a09e:Hpe,__wbg_catch_5571771e01b2aec9:Gpe,__wbg_then_89e1c559530b85cf:$pe,__wbg_then_1bbc9edafd859b06:Vpe,__wbg_buffer_344d9b41efe96da7:Wpe,__wbg_newwithbyteoffsetandlength_2dc04d99088b15e3:qpe,__wbg_new_d8a000788389a31e:Zpe,__wbg_set_dcfd613a3420f908:Xpe,__wbg_length_a5587d6cd79ab197:Ype,__wbg_instanceof_Uint8Array_19e6f142a5e7e1e1:Kpe,__wbg_parse_3f0cb48976ca4123:Qpe,__wbg_stringify_4039297315a25b00:Jpe,__wbg_has_cdf8b85f6e903c80:eme,__wbg_set_40f7786a25a9cc7e:tme,__wbindgen_bigint_get_as_i64:rme,__wbindgen_debug_string:nme,__wbindgen_throw:ime,__wbindgen_rethrow:sme,__wbindgen_memory:ome,__wbindgen_closure_wrapper1370:ame,__wbindgen_closure_wrapper1589:ume}},rfe),lme=Ke.memory,cme=Ke.__wbg_client_free,hme=Ke.client_getEntities,dme=Ke.client_getEntitiesByKeys,fme=Ke.client_getModelValue,pme=Ke.client_addModelsToSync,mme=Ke.client_removeModelsToSync,yme=Ke.client_onSyncModelChange,gme=Ke.client_onEntityUpdated,vme=Ke.createClient,_me=Ke.__wbg_intounderlyingsink_free,bme=Ke.intounderlyingsink_write,wme=Ke.intounderlyingsink_close,xme=Ke.intounderlyingsink_abort,Eme=Ke.__wbg_readablestreamgetreaderoptions_free,Sme=Ke.readablestreamgetreaderoptions_mode,Ame=Ke.__wbg_pipeoptions_free,Tme=Ke.pipeoptions_preventClose,Ime=Ke.pipeoptions_preventCancel,Cme=Ke.pipeoptions_preventAbort,kme=Ke.pipeoptions_signal,Ome=Ke.__wbg_intounderlyingbytesource_free,Pme=Ke.intounderlyingbytesource_type,Rme=Ke.intounderlyingbytesource_autoAllocateChunkSize,Mme=Ke.intounderlyingbytesource_start,Nme=Ke.intounderlyingbytesource_pull,Dme=Ke.intounderlyingbytesource_cancel,Lme=Ke.__wbg_queuingstrategy_free,Bme=Ke.queuingstrategy_highWaterMark,Fme=Ke.__wbg_intounderlyingsource_free,Ume=Ke.intounderlyingsource_pull,jme=Ke.intounderlyingsource_cancel,zme=Ke.__wbindgen_malloc,Hme=Ke.__wbindgen_realloc,Gme=Ke.__wbindgen_export_2,$me=Ke.wasm_bindgen__convert__closures__invoke1_mut__hcb4ac126eddf5a92,Vme=Ke._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__haa1d75ee61f90ceb,Wme=Ke.__wbindgen_add_to_stack_pointer,qme=Ke.__wbindgen_free,Zme=Ke.__wbindgen_exn_store,Xme=Ke.wasm_bindgen__convert__closures__invoke2_mut__h2e954595cfb0ecad,Yme=Object.freeze(Object.defineProperty({__proto__:null,__wbg_client_free:cme,__wbg_intounderlyingbytesource_free:Ome,__wbg_intounderlyingsink_free:_me,__wbg_intounderlyingsource_free:Fme,__wbg_pipeoptions_free:Ame,__wbg_queuingstrategy_free:Lme,__wbg_readablestreamgetreaderoptions_free:Eme,__wbindgen_add_to_stack_pointer:Wme,__wbindgen_exn_store:Zme,__wbindgen_export_2:Gme,__wbindgen_free:qme,__wbindgen_malloc:zme,__wbindgen_realloc:Hme,_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__haa1d75ee61f90ceb:Vme,client_addModelsToSync:pme,client_getEntities:hme,client_getEntitiesByKeys:dme,client_getModelValue:fme,client_onEntityUpdated:gme,client_onSyncModelChange:yme,client_removeModelsToSync:mme,createClient:vme,intounderlyingbytesource_autoAllocateChunkSize:Rme,intounderlyingbytesource_cancel:Dme,intounderlyingbytesource_pull:Nme,intounderlyingbytesource_start:Mme,intounderlyingbytesource_type:Pme,intounderlyingsink_abort:xme,intounderlyingsink_close:wme,intounderlyingsink_write:bme,intounderlyingsource_cancel:jme,intounderlyingsource_pull:Ume,memory:lme,pipeoptions_preventAbort:Cme,pipeoptions_preventCancel:Ime,pipeoptions_preventClose:Tme,pipeoptions_signal:kme,queuingstrategy_highWaterMark:Bme,readablestreamgetreaderoptions_mode:Sme,wasm_bindgen__convert__closures__invoke1_mut__hcb4ac126eddf5a92:$me,wasm_bindgen__convert__closures__invoke2_mut__h2e954595cfb0ecad:Xme},Symbol.toStringTag,{value:"Module"}));ife(Yme);var Gz={},Us={},xc={},js={},it={},Aa={},Ec={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});class Kme{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const r={listener:t};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}Ta.Subscribable=Kme;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});const Qme=typeof window>"u"||"Deno"in window;function Jme(){}function eye(e,t){return typeof e=="function"?e(t):e}function tye(e){return typeof e=="number"&&e>=0&&e!==1/0}function rye(e,t){return e.filter(r=>!t.includes(r))}function nye(e,t,r){const n=e.slice(0);return n[t]=r,n}function iye(e,t){return Math.max(e+(t||0)-Date.now(),0)}function sye(e,t,r){return Sc(e)?typeof t=="function"?{...r,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function oye(e,t,r){return Sc(e)?typeof t=="function"?{...r,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function aye(e,t,r){return Sc(e)?[{...t,queryKey:e},r]:[e||{},t]}function uye(e,t,r){return Sc(e)?[{...t,mutationKey:e},r]:[e||{},t]}function lye(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(Sc(o)){if(n){if(t.queryHash!==$z(o,t.options))return!1}else if(!UC(t.queryKey,o))return!1}if(r!=="all"){const u=t.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||typeof i<"u"&&i!==t.state.fetchStatus||s&&!s(t))}function cye(e,t){const{exact:r,fetching:n,predicate:i,mutationKey:s}=e;if(Sc(s)){if(!t.options.mutationKey)return!1;if(r){if(o1(t.options.mutationKey)!==o1(s))return!1}else if(!UC(t.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||i&&!i(t))}function $z(e,t){return((t==null?void 0:t.queryKeyHashFn)||o1)(e)}function o1(e){return JSON.stringify(e,(t,r)=>a1(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function UC(e,t){return jC(e,t)}function jC(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!jC(e[r],t[r])):!1}function zC(e,t){if(e===t)return e;const r=HC(e)&&HC(t);if(r||a1(e)&&a1(t)){const n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),s=i.length,o=r?[]:{};let a=0;for(let u=0;u<s;u++){const l=r?u:i[u];o[l]=zC(e[l],t[l]),o[l]===e[l]&&a++}return n===s&&a===n?e:o}return t}function hye(e,t){if(e&&!t||t&&!e)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function HC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function a1(e){if(!Vz(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Vz(r)||!r.hasOwnProperty("isPrototypeOf"))}function Vz(e){return Object.prototype.toString.call(e)==="[object Object]"}function Sc(e){return Array.isArray(e)}function dye(e){return e instanceof Error}function Wz(e){return new Promise(t=>{setTimeout(t,e)})}function fye(e){Wz(0).then(e)}function pye(){if(typeof AbortController=="function")return new AbortController}function mye(e,t,r){return r.isDataEqual!=null&&r.isDataEqual(e,t)?e:typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?zC(e,t):t}Qe.difference=rye,Qe.functionalUpdate=eye,Qe.getAbortController=pye,Qe.hashQueryKey=o1,Qe.hashQueryKeyByOptions=$z,Qe.isError=dye,Qe.isPlainArray=HC,Qe.isPlainObject=a1,Qe.isQueryKey=Sc,Qe.isServer=Qme,Qe.isValidTimeout=tye,Qe.matchMutation=cye,Qe.matchQuery=lye,Qe.noop=Jme,Qe.parseFilterArgs=aye,Qe.parseMutationArgs=oye,Qe.parseMutationFilterArgs=uye,Qe.parseQueryArgs=sye,Qe.partialDeepEqual=jC,Qe.partialMatchKey=UC,Qe.replaceAt=nye,Qe.replaceData=mye,Qe.replaceEqualDeep=zC,Qe.scheduleMicrotask=fye,Qe.shallowEqualObjects=hye,Qe.sleep=Wz,Qe.timeUntilStale=iye,Object.defineProperty(Ec,"__esModule",{value:!0});var yye=Ta,gye=Qe;class qz extends yye.Subscribable{constructor(){super(),this.setup=t=>{if(!gye.isServer&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const vye=new qz;Ec.FocusManager=qz,Ec.focusManager=vye;var Zd={};Object.defineProperty(Zd,"__esModule",{value:!0});var _ye=Ta,bye=Qe;const Zz=["online","offline"];class Xz extends _ye.Subscribable{constructor(){super(),this.setup=t=>{if(!bye.isServer&&window.addEventListener){const r=()=>t();return Zz.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{Zz.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var r;this.setup=t,(r=this.cleanup)==null||r.call(this),this.cleanup=t(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const wye=new Xz;Zd.OnlineManager=Xz,Zd.onlineManager=wye,Object.defineProperty(Aa,"__esModule",{value:!0});var xye=Ec,Yz=Zd,Eye=Qe;function Sye(e){return Math.min(1e3*2**e,3e4)}function Kz(e){return(e??"online")==="online"?Yz.onlineManager.isOnline():!0}class GC{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function Aye(e){return e instanceof GC}function Tye(e){let t=!1,r=0,n=!1,i,s,o;const a=new Promise((w,_)=>{s=w,o=_}),u=w=>{n||(m(new GC(w)),e.abort==null||e.abort())},l=()=>{t=!0},h=()=>{t=!1},f=()=>!xye.focusManager.isFocused()||e.networkMode!=="always"&&!Yz.onlineManager.isOnline(),p=w=>{n||(n=!0,e.onSuccess==null||e.onSuccess(w),i==null||i(),s(w))},m=w=>{n||(n=!0,e.onError==null||e.onError(w),i==null||i(),o(w))},y=()=>new Promise(w=>{i=_=>{const x=n||!f();return x&&w(_),x},e.onPause==null||e.onPause()}).then(()=>{i=void 0,n||e.onContinue==null||e.onContinue()}),v=()=>{if(n)return;let w;try{w=e.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(p).catch(_=>{var x,E;if(n)return;const T=(x=e.retry)!=null?x:3,R=(E=e.retryDelay)!=null?E:Sye,P=typeof R=="function"?R(r,_):R,k=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,_);if(t||!k){m(_);return}r++,e.onFail==null||e.onFail(r,_),Eye.sleep(P).then(()=>{if(f())return y()}).then(()=>{t?m(_):v()})})};return Kz(e.networkMode)?v():y().then(v),{promise:a,cancel:u,continue:()=>i!=null&&i()?a:Promise.resolve(),cancelRetry:l,continueRetry:h}}Aa.CancelledError=GC,Aa.canFetch=Kz,Aa.createRetryer=Tye,Aa.isCancelledError=Aye;var u1={},l1={};const Iye=console,Cye=Object.freeze(Object.defineProperty({__proto__:null,defaultLogger:Iye},Symbol.toStringTag,{value:"Module"})),$C=ei(Cye);var zi={};Object.defineProperty(zi,"__esModule",{value:!0});var Qz=Qe;function Jz(){let e=[],t=0,r=u=>{u()},n=u=>{u()};const i=u=>{let l;t++;try{l=u()}finally{t--,t||a()}return l},s=u=>{t?e.push(u):Qz.scheduleMicrotask(()=>{r(u)})},o=u=>(...l)=>{s(()=>{u(...l)})},a=()=>{const u=e;e=[],u.length&&Qz.scheduleMicrotask(()=>{n(()=>{u.forEach(l=>{r(l)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u}}}const kye=Jz();zi.createNotifyManager=Jz,zi.notifyManager=kye;var c1={};Object.defineProperty(c1,"__esModule",{value:!0});var e9=Qe;class Oye{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),e9.isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(e9.isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}c1.Removable=Oye,Object.defineProperty(l1,"__esModule",{value:!0});var Cy=Qe,Pye=$C,Rye=zi,ky=Aa,Mye=c1;class Nye extends Mye.Removable{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||Pye.defaultLogger,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||Dye(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,r){const n=Cy.replaceData(this.state.data,t,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){this.dispatch({type:"setState",state:t,setStateOptions:r})}cancel(t){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(t),n?n.then(Cy.noop).catch(Cy.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Cy.timeUntilStale(this.state.dataUpdatedAt,t)}onFocus(){var t;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const o=Cy.getAbortController(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};u(a);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(u(h),(n=this.options.behavior)==null||n.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=h.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=h.fetchOptions)==null?void 0:f.meta})}const p=m=>{if(ky.isCancelledError(m)&&m.silent||this.dispatch({type:"error",error:m}),!ky.isCancelledError(m)){var y,v,w,_;(y=(v=this.cache.config).onError)==null||y.call(v,m,this),(w=(_=this.cache.config).onSettled)==null||w.call(_,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=ky.createRetryer({fn:h.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:m=>{var y,v,w,_;if(typeof m>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(y=(v=this.cache.config).onSuccess)==null||y.call(v,m,this),(w=(_=this.cache.config).onSettled)==null||w.call(_,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(m,y)=>{this.dispatch({type:"failed",failureCount:m,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const r=n=>{var i,s;switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:ky.canFetch(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=t.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return ky.isCancelledError(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rye.notifyManager.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function Dye(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=typeof t<"u",n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}l1.Query=Nye,Object.defineProperty(u1,"__esModule",{value:!0});var Oy=Qe,Lye=l1,h1=zi,Bye=Ta;class Fye extends Bye.Subscribable{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,r,n){var i;const s=r.queryKey,o=(i=r.queryHash)!=null?i:Oy.hashQueryKeyByOptions(s,r);let a=this.get(o);return a||(a=new Lye.Query({cache:this,logger:t.getLogger(),queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const r=this.queriesMap[t.queryHash];r&&(t.destroy(),this.queries=this.queries.filter(n=>n!==t),r===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){h1.notifyManager.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,r){const[n]=Oy.parseFilterArgs(t,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>Oy.matchQuery(n,i))}findAll(t,r){const[n]=Oy.parseFilterArgs(t,r);return Object.keys(n).length>0?this.queries.filter(i=>Oy.matchQuery(n,i)):this.queries}notify(t){h1.notifyManager.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}onFocus(){h1.notifyManager.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){h1.notifyManager.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}u1.QueryCache=Fye;var VC={},d1={},Py={};Object.defineProperty(Py,"__esModule",{value:!0});var Uye=$C,jye=zi,zye=c1,t9=Aa;class Hye extends zye.Removable{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||Uye.defaultLogger,this.observers=[],this.state=t.state||r9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(r=>r!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,r;return(t=(r=this.retryer)==null?void 0:r.continue())!=null?t:this.execute()}async execute(){const t=()=>{var k;return this.retryer=t9.createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(M,V)=>{this.dispatch({type:"failed",failureCount:M,error:V})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(k=this.options.retry)!=null?k:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,s,o,a,u,l,h;if(!r){var f,p,m,y;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(p=this.mutationCache.config).onMutate)==null?void 0:f.call(p,this.state.variables,this));const M=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,this.state.variables));M!==this.state.context&&this.dispatch({type:"loading",context:M,variables:this.state.variables})}const k=await t();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,k,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,k,this.state.variables,this.state.context)),await((a=(u=this.mutationCache.config).onSettled)==null?void 0:a.call(u,k,null,this.state.variables,this.state.context,this)),await((l=(h=this.options).onSettled)==null?void 0:l.call(h,k,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:k}),k}catch(k){try{var v,w,_,x,E,T,R,P;throw await((v=(w=this.mutationCache.config).onError)==null?void 0:v.call(w,k,this.state.variables,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,k,this.state.variables,this.state.context)),await((E=(T=this.mutationCache.config).onSettled)==null?void 0:E.call(T,void 0,k,this.state.variables,this.state.context,this)),await((R=(P=this.options).onSettled)==null?void 0:R.call(P,void 0,k,this.state.variables,this.state.context)),k}finally{this.dispatch({type:"error",error:k})}}}dispatch(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!t9.canFetch(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...n,...t.state}}};this.state=r(this.state),jye.notifyManager.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function r9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}Py.Mutation=Hye,Py.getDefaultState=r9,Object.defineProperty(d1,"__esModule",{value:!0});var WC=zi,Gye=Py,qC=Qe,$ye=Ta;class Vye extends $ye.Subscribable{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,r,n){const i=new Gye.Mutation({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?t.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(r=>r!==t),this.notify({type:"removed",mutation:t})}clear(){WC.notifyManager.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(r=>qC.matchMutation(t,r))}findAll(t){return this.mutations.filter(r=>qC.matchMutation(t,r))}notify(t){WC.notifyManager.batch(()=>{this.listeners.forEach(({listener:r})=>{r(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return WC.notifyManager.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(qC.noop)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}d1.MutationCache=Vye;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});function Wye(){return{onFetch:e=>{e.fetchFn=()=>{var t,r,n,i,s,o;const a=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,u=(n=e.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,l=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",p=((s=e.state.data)==null?void 0:s.pages)||[],m=((o=e.state.data)==null?void 0:o.pageParams)||[];let y=m,v=!1;const w=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>{var P;if((P=e.signal)!=null&&P.aborted)v=!0;else{var k;(k=e.signal)==null||k.addEventListener("abort",()=>{v=!0})}return e.signal}})},_=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),x=(R,P,k,M)=>(y=M?[P,...y]:[...y,P],M?[k,...R]:[...R,k]),E=(R,P,k,M)=>{if(v)return Promise.reject("Cancelled");if(typeof k>"u"&&!P&&R.length)return Promise.resolve(R);const V={queryKey:e.queryKey,pageParam:k,meta:e.options.meta};w(V);const H=_(V);return Promise.resolve(H).then(X=>x(R,k,X,M))};let T;if(!p.length)T=E([]);else if(h){const R=typeof l<"u",P=R?l:f1(e.options,p);T=E(p,R,P)}else if(f){const R=typeof l<"u",P=R?l:ZC(e.options,p);T=E(p,R,P,!0)}else{y=[];const R=typeof e.options.getNextPageParam>"u";T=!(a&&p[0])||a(p[0],0,p)?E([],R,m[0]):Promise.resolve(x([],m[0],p[0]));for(let P=1;P<p.length;P++)T=T.then(k=>{if(!(a&&p[P])||a(p[P],P,p)){const M=R?m[P]:f1(e.options,k);return E(k,R,M)}return Promise.resolve(x(k,m[P],p[P]))})}return T.then(R=>({pages:R,pageParams:y}))}}}}function f1(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function ZC(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function qye(e,t){if(e.getNextPageParam&&Array.isArray(t)){const r=f1(e,t);return typeof r<"u"&&r!==null&&r!==!1}}function Zye(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const r=ZC(e,t);return typeof r<"u"&&r!==null&&r!==!1}}Vu.getNextPageParam=f1,Vu.getPreviousPageParam=ZC,Vu.hasNextPage=qye,Vu.hasPreviousPage=Zye,Vu.infiniteQueryBehavior=Wye,Object.defineProperty(VC,"__esModule",{value:!0});var kt=Qe,Xye=u1,Yye=d1,n9=Ec,i9=Zd,Xd=zi,Kye=Vu,Qye=$C;class Jye{constructor(t={}){this.queryCache=t.queryCache||new Xye.QueryCache,this.mutationCache=t.mutationCache||new Yye.MutationCache,this.logger=t.logger||Qye.defaultLogger,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=n9.focusManager.subscribe(()=>{n9.focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=i9.onlineManager.subscribe(()=>{i9.onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,r;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(t,r){const[n]=kt.parseFilterArgs(t,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state.data}ensureQueryData(t,r,n){const i=kt.parseQueryArgs(t,r,n),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(t,r,n){const i=this.queryCache.find(t),s=i==null?void 0:i.state.data,o=kt.functionalUpdate(r,s);if(typeof o>"u")return;const a=kt.parseQueryArgs(t),u=this.defaultQueryOptions(a);return this.queryCache.build(this,u).setData(o,{...n,manual:!0})}setQueriesData(t,r,n){return Xd.notifyManager.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(t,r){var n;return(n=this.queryCache.find(t,r))==null?void 0:n.state}removeQueries(t,r){const[n]=kt.parseFilterArgs(t,r),i=this.queryCache;Xd.notifyManager.batch(()=>{i.findAll(n).forEach(s=>{i.remove(s)})})}resetQueries(t,r,n){const[i,s]=kt.parseFilterArgs(t,r,n),o=this.queryCache,a={type:"active",...i};return Xd.notifyManager.batch(()=>(o.findAll(i).forEach(u=>{u.reset()}),this.refetchQueries(a,s)))}cancelQueries(t,r,n){const[i,s={}]=kt.parseFilterArgs(t,r,n);typeof s.revert>"u"&&(s.revert=!0);const o=Xd.notifyManager.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(kt.noop).catch(kt.noop)}invalidateQueries(t,r,n){const[i,s]=kt.parseFilterArgs(t,r,n);return Xd.notifyManager.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(l=>{l.invalidate()}),i.refetchType==="none")return Promise.resolve();const u={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(u,s)})}refetchQueries(t,r,n){const[i,s]=kt.parseFilterArgs(t,r,n),o=Xd.notifyManager.batch(()=>this.queryCache.findAll(i).filter(u=>!u.isDisabled()).map(u=>{var l;return u.fetch(void 0,{...s,cancelRefetch:(l=s==null?void 0:s.cancelRefetch)!=null?l:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(kt.noop);return s!=null&&s.throwOnError||(a=a.catch(kt.noop)),a}fetchQuery(t,r,n){const i=kt.parseQueryArgs(t,r,n),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(t,r,n){return this.fetchQuery(t,r,n).then(kt.noop).catch(kt.noop)}fetchInfiniteQuery(t,r,n){const i=kt.parseQueryArgs(t,r,n);return i.behavior=Kye.infiniteQueryBehavior(),this.fetchQuery(i)}prefetchInfiniteQuery(t,r,n){return this.fetchInfiniteQuery(t,r,n).then(kt.noop).catch(kt.noop)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,r){const n=this.queryDefaults.find(i=>kt.hashQueryKey(t)===kt.hashQueryKey(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:t,defaultOptions:r})}getQueryDefaults(t){if(!t)return;const r=this.queryDefaults.find(n=>kt.partialMatchKey(t,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(t,r){const n=this.mutationDefaults.find(i=>kt.hashQueryKey(t)===kt.hashQueryKey(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:t,defaultOptions:r})}getMutationDefaults(t){if(!t)return;const r=this.mutationDefaults.find(n=>kt.partialMatchKey(t,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const r={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=kt.hashQueryKeyByOptions(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}VC.QueryClient=Jye;var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});var zs=Qe,ege=zi,tge=Ec,rge=Ta,s9=Aa;class nge extends rge.Subscribable{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),o9(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return XC(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return XC(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),zs.shallowEqualObjects(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const s=this.hasListeners();s&&a9(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){const r=this.client.getQueryCache().build(this.client,t),n=this.createResult(r,t);return sge(this,n,t)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){const r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:(r=t.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(zs.noop)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),zs.isServer||this.currentResult.isStale||!zs.isValidTimeout(this.options.staleTime))return;const t=zs.timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(zs.isServer||this.options.enabled===!1||!zs.isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||tge.focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){const n=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,u=t!==n,l=u?t.state:this.currentQueryInitialState,h=u?this.currentResult:this.previousQueryResult,{state:f}=t;let{dataUpdatedAt:p,error:m,errorUpdatedAt:y,fetchStatus:v,status:w}=f,_=!1,x=!1,E;if(r._optimisticResults){const k=this.hasListeners(),M=!k&&o9(t,r),V=k&&a9(t,n,r,i);(M||V)&&(v=s9.canFetch(t.options.networkMode)?"fetching":"paused",p||(w="loading")),r._optimisticResults==="isRestoring"&&(v="idle")}if(r.keepPreviousData&&!f.dataUpdatedAt&&h!=null&&h.isSuccess&&w!=="error")E=h.data,p=h.dataUpdatedAt,w=h.status,_=!0;else if(r.select&&typeof f.data<"u")if(s&&f.data===(o==null?void 0:o.data)&&r.select===this.selectFn)E=this.selectResult;else try{this.selectFn=r.select,E=r.select(f.data),E=zs.replaceData(s==null?void 0:s.data,E,r),this.selectResult=E,this.selectError=null}catch(k){this.selectError=k}else E=f.data;if(typeof r.placeholderData<"u"&&typeof E>"u"&&w==="loading"){let k;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))k=s.data;else if(k=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof k<"u")try{k=r.select(k),this.selectError=null}catch(M){this.selectError=M}typeof k<"u"&&(w="success",E=zs.replaceData(s==null?void 0:s.data,k,r),x=!0)}this.selectError&&(m=this.selectError,E=this.selectResult,y=Date.now(),w="error");const T=v==="fetching",R=w==="loading",P=w==="error";return{status:w,fetchStatus:v,isLoading:R,isSuccess:w==="success",isError:P,isInitialLoading:R&&T,data:E,dataUpdatedAt:p,error:m,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:T,isRefetching:T&&!R,isLoadingError:P&&f.dataUpdatedAt===0,isPaused:v==="paused",isPlaceholderData:x,isPreviousData:_,isRefetchError:P&&f.dataUpdatedAt!==0,isStale:YC(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,zs.shallowEqualObjects(n,r))return;this.currentResult=n;const i={cache:!0},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const u=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(l=>{const h=l;return this.currentResult[h]!==r[h]&&u.has(h)})};(t==null?void 0:t.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const r={};t.type==="success"?r.onSuccess=!t.manual:t.type==="error"&&!s9.isCancelledError(t.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){ege.notifyManager.batch(()=>{if(t.onSuccess){var r,n,i,s;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(t.onError){var o,a,u,l;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(u=(l=this.options).onSettled)==null||u.call(l,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function ige(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function o9(e,t){return ige(e,t)||e.state.dataUpdatedAt>0&&XC(e,t,t.refetchOnMount)}function XC(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&YC(e,t)}return!1}function a9(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&YC(e,r)}function YC(e,t){return e.isStaleByTime(t.staleTime)}function sge(e,t,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?t.isPlaceholderData:!zs.shallowEqualObjects(e.getCurrentResult(),t)}Ry.QueryObserver=nge;var KC={};Object.defineProperty(KC,"__esModule",{value:!0});var QC=Qe,u9=zi,oge=Ry,age=Ta;class uge extends age.Subscribable{constructor(t,r){super(),this.client=t,this.queries=[],this.result=[],this.observers=[],this.observersMap={},r&&this.setQueries(r)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(t=>{t.subscribe(r=>{this.onUpdate(t,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(t=>{t.destroy()})}setQueries(t,r){this.queries=t,u9.notifyManager.batch(()=>{const n=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions,r));const s=i.map(l=>l.observer),o=Object.fromEntries(s.map(l=>[l.options.queryHash,l])),a=s.map(l=>l.getCurrentResult()),u=s.some((l,h)=>l!==n[h]);n.length===s.length&&!u||(this.observers=s,this.observersMap=o,this.result=a,this.hasListeners()&&(QC.difference(n,s).forEach(l=>{l.destroy()}),QC.difference(s,n).forEach(l=>{l.subscribe(h=>{this.onUpdate(l,h)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(t=>t.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(t){return this.findMatchingObservers(t).map(r=>r.observer.getOptimisticResult(r.defaultedQueryOptions))}findMatchingObservers(t){const r=this.observers,n=new Map(r.map(m=>[m.options.queryHash,m])),i=t.map(m=>this.client.defaultQueryOptions(m)),s=i.flatMap(m=>{const y=n.get(m.queryHash);return y!=null?[{defaultedQueryOptions:m,observer:y}]:[]}),o=new Set(s.map(m=>m.defaultedQueryOptions.queryHash)),a=i.filter(m=>!o.has(m.queryHash)),u=new Set(s.map(m=>m.observer)),l=r.filter(m=>!u.has(m)),h=m=>{const y=this.client.defaultQueryOptions(m);return this.observersMap[y.queryHash]??new oge.QueryObserver(this.client,y)},f=a.map((m,y)=>{if(m.keepPreviousData){const v=l[y];if(v!==void 0)return{defaultedQueryOptions:m,observer:v}}return{defaultedQueryOptions:m,observer:h(m)}}),p=(m,y)=>i.indexOf(m.defaultedQueryOptions)-i.indexOf(y.defaultedQueryOptions);return s.concat(f).sort(p)}onUpdate(t,r){const n=this.observers.indexOf(t);n!==-1&&(this.result=QC.replaceAt(this.result,n,r),this.notify())}notify(){u9.notifyManager.batch(()=>{this.listeners.forEach(({listener:t})=>{t(this.result)})})}}KC.QueriesObserver=uge;var JC={};Object.defineProperty(JC,"__esModule",{value:!0});var lge=Ry,p1=Vu;class cge extends lge.QueryObserver{constructor(t,r){super(t,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,r){super.setOptions({...t,behavior:p1.infiniteQueryBehavior()},r)}getOptimisticResult(t){return t.behavior=p1.infiniteQueryBehavior(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,r){var n,i,s,o,a,u;const{state:l}=t,h=super.createResult(t,r),{isFetching:f,isRefetching:p}=h,m=f&&((n=l.fetchMeta)==null||(i=n.fetchMore)==null?void 0:i.direction)==="forward",y=f&&((s=l.fetchMeta)==null||(o=s.fetchMore)==null?void 0:o.direction)==="backward";return{...h,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:p1.hasNextPage(r,(a=l.data)==null?void 0:a.pages),hasPreviousPage:p1.hasPreviousPage(r,(u=l.data)==null?void 0:u.pages),isFetchingNextPage:m,isFetchingPreviousPage:y,isRefetching:p&&!m&&!y}}}JC.InfiniteQueryObserver=cge;var ek={};Object.defineProperty(ek,"__esModule",{value:!0});var hge=Py,dge=zi,fge=Ta,pge=Qe;let mge=class extends fge.Subscribable{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const r=this.options;this.options=this.client.defaultMutationOptions(e),pge.shallowEqualObjects(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(t=this.currentMutation)==null||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const t={listeners:!0};e.type==="success"?t.onSuccess=!0:e.type==="error"&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:hge.getDefaultState(),t={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){dge.notifyManager.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var t,r,n,i;(t=(r=this.mutateOptions).onSuccess)==null||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(i=this.mutateOptions).onSettled)==null||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var s,o,a,u;(s=(o=this.mutateOptions).onError)==null||s.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(a=(u=this.mutateOptions).onSettled)==null||a.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:l})=>{l(this.currentResult)})})}};ek.MutationObserver=mge;var Yd={};Object.defineProperty(Yd,"__esModule",{value:!0});function yge(e){return{mutationKey:e.options.mutationKey,state:e.state}}function gge(e){return{state:e.state,queryKey:e.queryKey,queryHash:e.queryHash}}function l9(e){return e.state.isPaused}function c9(e){return e.state.status==="success"}function vge(e,t={}){const r=[],n=[];if(t.dehydrateMutations!==!1){const i=t.shouldDehydrateMutation||l9;e.getMutationCache().getAll().forEach(s=>{i(s)&&r.push(yge(s))})}if(t.dehydrateQueries!==!1){const i=t.shouldDehydrateQuery||c9;e.getQueryCache().getAll().forEach(s=>{i(s)&&n.push(gge(s))})}return{mutations:r,queries:n}}function _ge(e,t,r){if(typeof t!="object"||t===null)return;const n=e.getMutationCache(),i=e.getQueryCache(),s=t.mutations||[],o=t.queries||[];s.forEach(a=>{var u;n.build(e,{...r==null||(u=r.defaultOptions)==null?void 0:u.mutations,mutationKey:a.mutationKey},a.state)}),o.forEach(({queryKey:a,state:u,queryHash:l})=>{var h;const f=i.get(l);if(f){if(f.state.dataUpdatedAt<u.dataUpdatedAt){const{fetchStatus:p,...m}=u;f.setState(m)}return}i.build(e,{...r==null||(h=r.defaultOptions)==null?void 0:h.queries,queryKey:a,queryHash:l},{...u,fetchStatus:"idle"})})}Yd.defaultShouldDehydrateMutation=l9,Yd.defaultShouldDehydrateQuery=c9,Yd.dehydrate=vge,Yd.hydrate=_ge,Object.defineProperty(it,"__esModule",{value:!0});var h9=Aa,bge=u1,wge=VC,xge=Ry,Ege=KC,Sge=JC,Age=d1,Tge=ek,Ige=zi,Cge=Ec,kge=Zd,Ia=Qe,m1=Yd,Oge=l1;it.CancelledError=h9.CancelledError,it.isCancelledError=h9.isCancelledError,it.QueryCache=bge.QueryCache,it.QueryClient=wge.QueryClient,it.QueryObserver=xge.QueryObserver,it.QueriesObserver=Ege.QueriesObserver,it.InfiniteQueryObserver=Sge.InfiniteQueryObserver,it.MutationCache=Age.MutationCache,it.MutationObserver=Tge.MutationObserver,it.notifyManager=Ige.notifyManager,it.focusManager=Cge.focusManager,it.onlineManager=kge.onlineManager,it.hashQueryKey=Ia.hashQueryKey,it.isError=Ia.isError,it.isServer=Ia.isServer,it.matchQuery=Ia.matchQuery,it.parseFilterArgs=Ia.parseFilterArgs,it.parseMutationArgs=Ia.parseMutationArgs,it.parseMutationFilterArgs=Ia.parseMutationFilterArgs,it.parseQueryArgs=Ia.parseQueryArgs,it.replaceEqualDeep=Ia.replaceEqualDeep,it.defaultShouldDehydrateMutation=m1.defaultShouldDehydrateMutation,it.defaultShouldDehydrateQuery=m1.defaultShouldDehydrateQuery,it.dehydrate=m1.dehydrate,it.hydrate=m1.hydrate,it.Query=Oge.Query;var tk={};const Pge=QF.useSyncExternalStore,Rge=Object.freeze(Object.defineProperty({__proto__:null,useSyncExternalStore:Pge},Symbol.toStringTag,{value:"Module"})),My=ei(Rge);var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});var Mge=Ie;function Nge(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Ac=Nge(Mge);const rk=Ac.createContext(void 0),d9=Ac.createContext(!1);function f9(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=rk),window.ReactQueryClientContext):rk)}const Dge=({context:e}={})=>{const t=Ac.useContext(f9(e,Ac.useContext(d9)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Lge=({client:e,children:t,context:r,contextSharing:n=!1})=>{Ac.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=f9(r,n);return Ac.createElement(d9.Provider,{value:!r&&n},Ac.createElement(i.Provider,{value:e},t))};Hs.QueryClientProvider=Lge,Hs.defaultContext=rk,Hs.useQueryClient=Dge;var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});var Bge=Ie;function Fge(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var p9=Fge(Bge);const m9=p9.createContext(!1),Uge=()=>p9.useContext(m9),jge=m9.Provider;Kd.IsRestoringProvider=jge,Kd.useIsRestoring=Uge;var Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});var zge=Ie;function Hge(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var y1=Hge(zge);function y9(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const g9=y1.createContext(y9()),Gge=()=>y1.useContext(g9),$ge=({children:e})=>{const[t]=y1.useState(()=>y9());return y1.createElement(g9.Provider,{value:t},typeof e=="function"?e(t):e)};Qd.QueryErrorResetBoundary=$ge,Qd.useQueryErrorResetBoundary=Gge;var Jd={},g1={};Object.defineProperty(g1,"__esModule",{value:!0});function Vge(e,t){return typeof e=="function"?e(...t):!!e}g1.shouldThrowError=Vge,Object.defineProperty(Jd,"__esModule",{value:!0});var Wge=Ie,qge=g1;function Zge(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Xge=Zge(Wge);const Yge=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Kge=e=>{Xge.useEffect(()=>{e.clearReset()},[e])},Qge=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&qge.shouldThrowError(r,[e.error,n]);Jd.ensurePreventErrorBoundaryRetry=Yge,Jd.getHasError=Qge,Jd.useClearResetErrorBoundary=Kge;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});const Jge=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},v9=(e,t)=>e.isLoading&&e.isFetching&&!t,eve=(e,t,r)=>(e==null?void 0:e.suspense)&&v9(t,r),tve=(e,t,r)=>t.fetchOptimistic(e).then(({data:n})=>{e.onSuccess==null||e.onSuccess(n),e.onSettled==null||e.onSettled(n,null)}).catch(n=>{r.clearReset(),e.onError==null||e.onError(n),e.onSettled==null||e.onSettled(void 0,n)});Tc.ensureStaleTime=Jge,Tc.fetchOptimistic=tve,Tc.shouldSuspend=eve,Tc.willFetch=v9,Object.defineProperty(tk,"__esModule",{value:!0});var rve=Ie,_9=it,nve=My,ive=Hs,sve=Kd,ove=Qd,nk=Jd,ef=Tc;function ave(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var v1=ave(rve);function uve({queries:e,context:t}){const r=ive.useQueryClient({context:t}),n=sve.useIsRestoring(),i=ove.useQueryErrorResetBoundary(),s=v1.useMemo(()=>e.map(f=>{const p=r.defaultQueryOptions(f);return p._optimisticResults=n?"isRestoring":"optimistic",p}),[e,r,n]);s.forEach(f=>{ef.ensureStaleTime(f),nk.ensurePreventErrorBoundaryRetry(f,i)}),nk.useClearResetErrorBoundary(i);const[o]=v1.useState(()=>new _9.QueriesObserver(r,s)),a=o.getOptimisticResult(s);nve.useSyncExternalStore(v1.useCallback(f=>n?()=>{}:o.subscribe(_9.notifyManager.batchCalls(f)),[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),v1.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const u=a.some((f,p)=>ef.shouldSuspend(s[p],f,n))?a.flatMap((f,p)=>{const m=s[p],y=o.getObservers()[p];if(m&&y){if(ef.shouldSuspend(m,f,n))return ef.fetchOptimistic(m,y,i);ef.willFetch(f,n)&&ef.fetchOptimistic(m,y,i)}return[]}):[];if(u.length>0)throw Promise.all(u);const l=o.getQueries(),h=a.find((f,p)=>{var m,y;return nk.getHasError({result:f,errorResetBoundary:i,useErrorBoundary:(m=(y=s[p])==null?void 0:y.useErrorBoundary)!=null?m:!1,query:l[p]})});if(h!=null&&h.error)throw h.error;return a}tk.useQueries=uve;var ik={},_1={};Object.defineProperty(_1,"__esModule",{value:!0});var lve=Ie,b1=it,cve=My,hve=Qd,dve=Hs,fve=Kd,sk=Jd,ok=Tc;function pve(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var ak=pve(lve);function mve(e,t){const r=dve.useQueryClient({context:e.context}),n=fve.useIsRestoring(),i=hve.useQueryErrorResetBoundary(),s=r.defaultQueryOptions(e);s._optimisticResults=n?"isRestoring":"optimistic",s.onError&&(s.onError=b1.notifyManager.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=b1.notifyManager.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=b1.notifyManager.batchCalls(s.onSettled)),ok.ensureStaleTime(s),sk.ensurePreventErrorBoundaryRetry(s,i),sk.useClearResetErrorBoundary(i);const[o]=ak.useState(()=>new t(r,s)),a=o.getOptimisticResult(s);if(cve.useSyncExternalStore(ak.useCallback(u=>{const l=n?()=>{}:o.subscribe(b1.notifyManager.batchCalls(u));return o.updateResult(),l},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),ak.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),ok.shouldSuspend(s,a,n))throw ok.fetchOptimistic(s,o,i);if(sk.getHasError({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}_1.useBaseQuery=mve,Object.defineProperty(ik,"__esModule",{value:!0});var b9=it,yve=_1;function gve(e,t,r){const n=b9.parseQueryArgs(e,t,r);return yve.useBaseQuery(n,b9.QueryObserver)}ik.useQuery=gve;var w1={};Object.defineProperty(w1,"__esModule",{value:!0});var vve=Ie,_ve=it,bve=Hs;function wve(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var w9=wve(vve);function x9(e,t={}){const r=bve.useQueryClient({context:t.context}),n=w9.useRef(t);n.current=t,w9.useMemo(()=>{e&&_ve.hydrate(r,e,n.current)},[r,e])}const xve=({children:e,options:t,state:r})=>(x9(r,t),e);w1.Hydrate=xve,w1.useHydrate=x9;var uk={};Object.defineProperty(uk,"__esModule",{value:!0});var Eve=Ie,E9=it,Sve=My,Ave=Hs;function Tve(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Ive=Tve(Eve);function Cve(e,t,r){const[n,i={}]=E9.parseFilterArgs(e,t,r),s=Ave.useQueryClient({context:i.context}),o=s.getQueryCache();return Sve.useSyncExternalStore(Ive.useCallback(a=>o.subscribe(E9.notifyManager.batchCalls(a)),[o]),()=>s.isFetching(n),()=>s.isFetching(n))}uk.useIsFetching=Cve;var lk={};Object.defineProperty(lk,"__esModule",{value:!0});var kve=Ie,S9=it,Ove=My,Pve=Hs;function Rve(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Mve=Rve(kve);function Nve(e,t,r){const[n,i={}]=S9.parseMutationFilterArgs(e,t,r),s=Pve.useQueryClient({context:i.context}),o=s.getMutationCache();return Ove.useSyncExternalStore(Mve.useCallback(a=>o.subscribe(S9.notifyManager.batchCalls(a)),[o]),()=>s.isMutating(n),()=>s.isMutating(n))}lk.useIsMutating=Nve;var ck={};Object.defineProperty(ck,"__esModule",{value:!0});var Dve=Ie,hk=it,Lve=My,Bve=Hs,Fve=g1;function Uve(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var x1=Uve(Dve);function jve(e,t,r){const n=hk.parseMutationArgs(e,t,r),i=Bve.useQueryClient({context:n.context}),[s]=x1.useState(()=>new hk.MutationObserver(i,n));x1.useEffect(()=>{s.setOptions(n)},[s,n]);const o=Lve.useSyncExternalStore(x1.useCallback(u=>s.subscribe(hk.notifyManager.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=x1.useCallback((u,l)=>{s.mutate(u,l).catch(zve)},[s]);if(o.error&&Fve.shouldThrowError(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function zve(){}ck.useMutation=jve;var dk={};Object.defineProperty(dk,"__esModule",{value:!0});var A9=it,Hve=_1;function Gve(e,t,r){const n=A9.parseQueryArgs(e,t,r);return Hve.useBaseQuery(n,A9.InfiniteQueryObserver)}dk.useInfiniteQuery=Gve,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=it,r=tk,n=ik,i=Hs,s=w1,o=Qd,a=uk,u=lk,l=ck,h=dk,f=Kd;e.useQueries=r.useQueries,e.useQuery=n.useQuery,e.QueryClientProvider=i.QueryClientProvider,e.defaultContext=i.defaultContext,e.useQueryClient=i.useQueryClient,e.Hydrate=s.Hydrate,e.useHydrate=s.useHydrate,e.QueryErrorResetBoundary=o.QueryErrorResetBoundary,e.useQueryErrorResetBoundary=o.useQueryErrorResetBoundary,e.useIsFetching=a.useIsFetching,e.useIsMutating=u.useIsMutating,e.useMutation=l.useMutation,e.useInfiniteQuery=h.useInfiniteQuery,e.IsRestoringProvider=f.IsRestoringProvider,e.useIsRestoring=f.useIsRestoring,Object.keys(t).forEach(function(p){p!=="default"&&!e.hasOwnProperty(p)&&Object.defineProperty(e,p,{enumerable:!0,get:function(){return t[p]}})})}(js);const Ic=ei($de);var On={};Object.defineProperty(On,"__esModule",{value:!0}),On.UnsupportedAccountInterfaceError=On.UserNotConnectedError=On.UserRejectedRequestError=On.ConnectorNotFoundError=On.ConnectorNotConnectedError=On.ConnectorAlreadyConnectedError=void 0;class $ve extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}}On.ConnectorAlreadyConnectedError=$ve;class Vve extends Error{constructor(){super(...arguments),this.name="ConnectorNotConnectedError",this.message="Connector not connected"}}On.ConnectorNotConnectedError=Vve;class Wve extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}}On.ConnectorNotFoundError=Wve;class qve extends Error{constructor(){super(...arguments),this.name="UserRejectedRequestError",this.message="User rejected request"}}On.UserRejectedRequestError=qve;class Zve extends Error{constructor(){super(...arguments),this.name="UserNotConnectedError",this.message="User not connected"}}On.UserNotConnectedError=Zve;class Xve extends Error{constructor(){super(...arguments),this.name="UnsupportedAccountInterfaceError",this.message="Unsupported account interface. starknet-react v1 only supports the starknet.js v5 account interface"}}On.UnsupportedAccountInterfaceError=Xve,Object.defineProperty(xc,"__esModule",{value:!0}),xc.StarknetProvider=xc.useStarknet=void 0;const T9=Qr,I9=js,Wu=Ie,C9=Ic,k9=On,E1=new C9.Provider({sequencer:{network:C9.constants.NetworkName.SN_MAIN}}),Yve={account:void 0,connect:()=>{},disconnect:()=>{},library:E1,connectors:[]},O9=(0,Wu.createContext)(Yve);function Kve(){return(0,Wu.useContext)(O9)}xc.useStarknet=Kve;function Qve(e,t){switch(t.type){case"set_account":return{...e,account:t.account};case"set_provider":return{...e,library:t.provider??E1};case"set_connector":return{...e,connector:t.connector};case"set_error":return{...e,error:t.error};default:return e}}function Jve({defaultProvider:e,connectors:t,autoConnect:r}){const n=t??[],[i,s]=(0,Wu.useReducer)(Qve,{library:e||E1,connectors:n}),{account:o,library:a,error:u}=i,l=(0,Wu.useCallback)(p=>{p.connect().then(m=>{s({type:"set_account",account:m.address}),s({type:"set_provider",provider:m}),s({type:"set_connector",connector:p}),r&&localStorage.setItem("lastUsedConnector",p.id)},m=>{console.error(m),s({type:"set_error",error:new k9.ConnectorNotFoundError})})},[r]),h=(0,Wu.useCallback)(()=>{s({type:"set_account",account:void 0}),s({type:"set_provider",provider:e||E1}),s({type:"set_connector",connector:void 0}),r&&localStorage.removeItem("lastUsedConnector"),i.connector&&(i.connector.removeEventListener(f),i.connector.disconnect().catch(p=>{console.error(p),s({type:"set_error",error:new k9.ConnectorNotFoundError})}))},[r,i.connector,e]),f=(0,Wu.useCallback)(()=>{h(),i.connector&&l(i.connector)},[i.connector,l,h]);return(0,Wu.useEffect)(()=>{var p;i.connector&&((p=i.connector)==null||p.initEventListener(f))},[i.connector,f]),(0,Wu.useEffect)(()=>{async function p(m){const y=localStorage.getItem("lastUsedConnector");if(y===null)return;const v=m.find(w=>w.id===y);if(v!==void 0)try{if(!await v.ready())return;l(v)}catch{}}r&&!o&&p(n)},[]),{account:o,connect:l,disconnect:h,connectors:n,library:a,error:u}}function e_e({children:e,defaultProvider:t,connectors:r,autoConnect:n,queryClient:i}){const s=Jve({defaultProvider:t,connectors:r,autoConnect:n});return(0,T9.jsx)(I9.QueryClientProvider,{client:i??new I9.QueryClient,children:(0,T9.jsx)(O9.Provider,{value:s,children:e})})}xc.StarknetProvider=e_e;var fk={},Ny="delete",Lt=5,Hi=1<<Lt,Pn=Hi-1,ut={};function pk(){return{value:!1}}function Gi(e){e&&(e.value=!0)}function mk(){}function tf(e){return e.size===void 0&&(e.size=e.__iterate(P9)),e.size}function qu(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?tf(e)+t:t}function P9(){return!0}function Dy(e,t,r){return(e===0&&!M9(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function rf(e,t){return R9(e,t,0)}function Ly(e,t){return R9(e,t,t)}function R9(e,t,r){return e===void 0?r:M9(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function M9(e){return e<0||e===0&&1/e===-1/0}var N9="@@__IMMUTABLE_ITERABLE__@@";function un(e){return!!(e&&e[N9])}var D9="@@__IMMUTABLE_KEYED__@@";function xt(e){return!!(e&&e[D9])}var L9="@@__IMMUTABLE_INDEXED__@@";function qr(e){return!!(e&&e[L9])}function nf(e){return xt(e)||qr(e)}var Bt=function(e){return un(e)?e:ln(e)},$i=function(e){function t(r){return xt(r)?r:Xu(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Bt),Cc=function(e){function t(r){return qr(r)?r:Wi(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Bt),sf=function(e){function t(r){return un(r)&&!nf(r)?r:uf(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Bt);Bt.Keyed=$i,Bt.Indexed=Cc,Bt.Set=sf;var B9="@@__IMMUTABLE_SEQ__@@";function By(e){return!!(e&&e[B9])}var F9="@@__IMMUTABLE_RECORD__@@";function Zu(e){return!!(e&&e[F9])}function fi(e){return un(e)||Zu(e)}var of="@@__IMMUTABLE_ORDERED__@@";function pi(e){return!!(e&&e[of])}var Fy=0,Gs=1,Vi=2,yk=typeof Symbol=="function"&&Symbol.iterator,U9="@@iterator",S1=yk||U9,pt=function(e){this.next=e};pt.prototype.toString=function(){return"[Iterator]"},pt.KEYS=Fy,pt.VALUES=Gs,pt.ENTRIES=Vi,pt.prototype.inspect=pt.prototype.toSource=function(){return this.toString()},pt.prototype[S1]=function(){return this};function Ft(e,t,r,n){var i=e===0?t:e===1?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function Rn(){return{value:void 0,done:!0}}function gk(e){return Array.isArray(e)?!0:!!A1(e)}function j9(e){return e&&typeof e.next=="function"}function vk(e){var t=A1(e);return t&&t.call(e)}function A1(e){var t=e&&(yk&&e[yk]||e[U9]);if(typeof t=="function")return t}function t_e(e){var t=A1(e);return t&&t===e.entries}function r_e(e){var t=A1(e);return t&&t===e.keys}var af=Object.prototype.hasOwnProperty;function _k(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var ln=function(e){function t(r){return r==null?wk():fi(r)?r.toSeq():i_e(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,n){var i=this._cache;if(i){for(var s=i.length,o=0;o!==s;){var a=i[n?s-++o:o++];if(r(a[1],a[0],this)===!1)break}return o}return this.__iterateUncached(r,n)},t.prototype.__iterator=function(r,n){var i=this._cache;if(i){var s=i.length,o=0;return new pt(function(){if(o===s)return Rn();var a=i[n?s-++o:o++];return Ft(r,a[0],a[1])})}return this.__iteratorUncached(r,n)},t}(Bt),Xu=function(e){function t(r){return r==null?wk().toKeyedSeq():un(r)?xt(r)?r.toSeq():r.fromEntrySeq():Zu(r)?r.toSeq():xk(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(ln),Wi=function(e){function t(r){return r==null?wk():un(r)?xt(r)?r.entrySeq():r.toIndexedSeq():Zu(r)?r.toSeq().entrySeq():H9(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(ln),uf=function(e){function t(r){return(un(r)&&!nf(r)?r:Wi(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(ln);ln.isSeq=By,ln.Keyed=Xu,ln.Set=uf,ln.Indexed=Wi,ln.prototype[B9]=!0;var kc=function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,n){return this.has(r)?this._array[qu(this,r)]:n},t.prototype.__iterate=function(r,n){for(var i=this._array,s=i.length,o=0;o!==s;){var a=n?s-++o:o++;if(r(i[a],a,this)===!1)break}return o},t.prototype.__iterator=function(r,n){var i=this._array,s=i.length,o=0;return new pt(function(){if(o===s)return Rn();var a=n?s-++o:o++;return Ft(r,a,i[a])})},t}(Wi),bk=function(e){function t(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,n){return n!==void 0&&!this.has(r)?n:this._object[r]},t.prototype.has=function(r){return af.call(this._object,r)},t.prototype.__iterate=function(r,n){for(var i=this._object,s=this._keys,o=s.length,a=0;a!==o;){var u=s[n?o-++a:a++];if(r(i[u],u,this)===!1)break}return a},t.prototype.__iterator=function(r,n){var i=this._object,s=this._keys,o=s.length,a=0;return new pt(function(){if(a===o)return Rn();var u=s[n?o-++a:a++];return Ft(r,u,i[u])})},t}(Xu);bk.prototype[of]=!0;var n_e=function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,n){if(n)return this.cacheResult().__iterate(r,n);var i=this._collection,s=vk(i),o=0;if(j9(s))for(var a;!(a=s.next()).done&&r(a.value,o++,this)!==!1;);return o},t.prototype.__iteratorUncached=function(r,n){if(n)return this.cacheResult().__iterator(r,n);var i=this._collection,s=vk(i);if(!j9(s))return new pt(Rn);var o=0;return new pt(function(){var a=s.next();return a.done?a:Ft(r,o++,a.value)})},t}(Wi),z9;function wk(){return z9||(z9=new kc([]))}function xk(e){var t=Ek(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new bk(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function H9(e){var t=Ek(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function i_e(e){var t=Ek(e);if(t)return t_e(e)?t.fromEntrySeq():r_e(e)?t.toSetSeq():t;if(typeof e=="object")return new bk(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function Ek(e){return _k(e)?new kc(e):gk(e)?new n_e(e):void 0}var G9="@@__IMMUTABLE_MAP__@@";function Uy(e){return!!(e&&e[G9])}function T1(e){return Uy(e)&&pi(e)}function I1(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Sr(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(I1(e)&&I1(t)&&e.equals(t))}var jy=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e|=0,t|=0;var r=e&65535,n=t&65535;return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function C1(e){return e>>>1&1073741824|e&3221225471}var s_e=Object.prototype.valueOf;function Mn(e){if(e==null)return $9(e);if(typeof e.hashCode=="function")return C1(e.hashCode(e));var t=h_e(e);if(t==null)return $9(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return o_e(t);case"string":return t.length>d_e?a_e(t):Sk(t);case"object":case"function":return l_e(t);case"symbol":return u_e(t);default:if(typeof t.toString=="function")return Sk(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function $9(e){return e===null?1108378658:1108378659}function o_e(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return C1(t)}function a_e(e){var t=kk[e];return t===void 0&&(t=Sk(e),Ck===f_e&&(Ck=0,kk={}),Ck++,kk[e]=t),t}function Sk(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return C1(t)}function u_e(e){var t=Z9[e];return t!==void 0||(t=q9(),Z9[e]=t),t}function l_e(e){var t;if(Ak&&(t=Tk.get(e),t!==void 0)||(t=e[Oc],t!==void 0)||!W9&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Oc],t!==void 0||(t=c_e(e),t!==void 0)))return t;if(t=q9(),Ak)Tk.set(e,t);else{if(V9!==void 0&&V9(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(W9)Object.defineProperty(e,Oc,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Oc]=t;else if(e.nodeType!==void 0)e[Oc]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var V9=Object.isExtensible,W9=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function c_e(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function h_e(e){return e.valueOf!==s_e&&typeof e.valueOf=="function"?e.valueOf(e):e}function q9(){var e=++Ik;return Ik&1073741824&&(Ik=0),e}var Ak=typeof WeakMap=="function",Tk;Ak&&(Tk=new WeakMap);var Z9=Object.create(null),Ik=0,Oc="__immutablehash__";typeof Symbol=="function"&&(Oc=Symbol(Oc));var d_e=16,f_e=255,Ck=0,kk={},k1=function(e){function t(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,n){return this._iter.get(r,n)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,n=Ok(this,!0);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().reverse()}),n},t.prototype.map=function(r,n){var i=this,s=J9(this,r,n);return this._useKeys||(s.valueSeq=function(){return i._iter.toSeq().map(r,n)}),s},t.prototype.__iterate=function(r,n){var i=this;return this._iter.__iterate(function(s,o){return r(s,o,i)},n)},t.prototype.__iterator=function(r,n){return this._iter.__iterator(r,n)},t}(Xu);k1.prototype[of]=!0;var X9=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,n){var i=this,s=0;return n&&tf(this),this._iter.__iterate(function(o){return r(o,n?i.size-++s:s++,i)},n)},t.prototype.__iterator=function(r,n){var i=this,s=this._iter.__iterator(Gs,n),o=0;return n&&tf(this),new pt(function(){var a=s.next();return a.done?a:Ft(r,n?i.size-++o:o++,a.value,a)})},t}(Wi),Y9=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,n){var i=this;return this._iter.__iterate(function(s){return r(s,s,i)},n)},t.prototype.__iterator=function(r,n){var i=this._iter.__iterator(Gs,n);return new pt(function(){var s=i.next();return s.done?s:Ft(r,s.value,s.value,s)})},t}(uf),K9=function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,n){var i=this;return this._iter.__iterate(function(s){if(s){i7(s);var o=un(s);return r(o?s.get(1):s[1],o?s.get(0):s[0],i)}},n)},t.prototype.__iterator=function(r,n){var i=this._iter.__iterator(Gs,n);return new pt(function(){for(;;){var s=i.next();if(s.done)return s;var o=s.value;if(o){i7(o);var a=un(o);return Ft(r,a?o.get(0):o[0],a?o.get(1):o[1],s)}}})},t}(Xu);X9.prototype.cacheResult=k1.prototype.cacheResult=Y9.prototype.cacheResult=K9.prototype.cacheResult=Mk;function Q9(e){var t=Ro(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=Mk,t.__iterateUncached=function(r,n){var i=this;return e.__iterate(function(s,o){return r(o,s,i)!==!1},n)},t.__iteratorUncached=function(r,n){if(r===Vi){var i=e.__iterator(r,n);return new pt(function(){var s=i.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return e.__iterator(r===Gs?Fy:Gs,n)},t}function J9(e,t,r){var n=Ro(e);return n.size=e.size,n.has=function(i){return e.has(i)},n.get=function(i,s){var o=e.get(i,ut);return o===ut?s:t.call(r,o,i,e)},n.__iterateUncached=function(i,s){var o=this;return e.__iterate(function(a,u,l){return i(t.call(r,a,u,l),u,o)!==!1},s)},n.__iteratorUncached=function(i,s){var o=e.__iterator(Vi,s);return new pt(function(){var a=o.next();if(a.done)return a;var u=a.value,l=u[0];return Ft(i,l,t.call(r,u[1],l,e),a)})},n}function Ok(e,t){var r=this,n=Ro(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var i=Q9(e);return i.reverse=function(){return e.flip()},i}),n.get=function(i,s){return e.get(t?i:-1-i,s)},n.has=function(i){return e.has(t?i:-1-i)},n.includes=function(i){return e.includes(i)},n.cacheResult=Mk,n.__iterate=function(i,s){var o=this,a=0;return s&&tf(e),e.__iterate(function(u,l){return i(u,t?l:s?o.size-++a:a++,o)},!s)},n.__iterator=function(i,s){var o=0;s&&tf(e);var a=e.__iterator(Vi,!s);return new pt(function(){var u=a.next();if(u.done)return u;var l=u.value;return Ft(i,t?l[0]:s?r.size-++o:o++,l[1],u)})},n}function e7(e,t,r,n){var i=Ro(e);return n&&(i.has=function(s){var o=e.get(s,ut);return o!==ut&&!!t.call(r,o,s,e)},i.get=function(s,o){var a=e.get(s,ut);return a!==ut&&t.call(r,a,s,e)?a:o}),i.__iterateUncached=function(s,o){var a=this,u=0;return e.__iterate(function(l,h,f){if(t.call(r,l,h,f))return u++,s(l,n?h:u-1,a)},o),u},i.__iteratorUncached=function(s,o){var a=e.__iterator(Vi,o),u=0;return new pt(function(){for(;;){var l=a.next();if(l.done)return l;var h=l.value,f=h[0],p=h[1];if(t.call(r,p,f,e))return Ft(s,n?f:u++,p,l)}})},i}function p_e(e,t,r){var n=Qu().asMutable();return e.__iterate(function(i,s){n.update(t.call(r,i,s,e),0,function(o){return o+1})}),n.asImmutable()}function m_e(e,t,r){var n=xt(e),i=(pi(e)?Vs():Qu()).asMutable();e.__iterate(function(o,a){i.update(t.call(r,o,a,e),function(u){return u=u||[],u.push(n?[a,o]:o),u})});var s=Rk(e);return i.map(function(o){return Et(e,s(o))}).asImmutable()}function y_e(e,t,r){var n=xt(e),i=[[],[]];e.__iterate(function(o,a){i[t.call(r,o,a,e)?1:0].push(n?[a,o]:o)});var s=Rk(e);return i.map(function(o){return Et(e,s(o))})}function Pk(e,t,r,n){var i=e.size;if(Dy(t,r,i))return e;var s=rf(t,i),o=Ly(r,i);if(s!==s||o!==o)return Pk(e.toSeq().cacheResult(),t,r,n);var a=o-s,u;a===a&&(u=a<0?0:a);var l=Ro(e);return l.size=u===0?u:e.size&&u||void 0,!n&&By(e)&&u>=0&&(l.get=function(h,f){return h=qu(this,h),h>=0&&h<u?e.get(h+s,f):f}),l.__iterateUncached=function(h,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(h,f);var m=0,y=!0,v=0;return e.__iterate(function(w,_){if(!(y&&(y=m++<s)))return v++,h(w,n?_:v-1,p)!==!1&&v!==u}),v},l.__iteratorUncached=function(h,f){if(u!==0&&f)return this.cacheResult().__iterator(h,f);if(u===0)return new pt(Rn);var p=e.__iterator(h,f),m=0,y=0;return new pt(function(){for(;m++<s;)p.next();if(++y>u)return Rn();var v=p.next();return n||h===Gs||v.done?v:h===Fy?Ft(h,y-1,void 0,v):Ft(h,y-1,v.value[1],v)})},l}function g_e(e,t,r){var n=Ro(e);return n.__iterateUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterate(i,s);var a=0;return e.__iterate(function(u,l,h){return t.call(r,u,l,h)&&++a&&i(u,l,o)}),a},n.__iteratorUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterator(i,s);var a=e.__iterator(Vi,s),u=!0;return new pt(function(){if(!u)return Rn();var l=a.next();if(l.done)return l;var h=l.value,f=h[0],p=h[1];return t.call(r,p,f,o)?i===Vi?l:Ft(i,f,p,l):(u=!1,Rn())})},n}function t7(e,t,r,n){var i=Ro(e);return i.__iterateUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterate(s,o);var u=!0,l=0;return e.__iterate(function(h,f,p){if(!(u&&(u=t.call(r,h,f,p))))return l++,s(h,n?f:l-1,a)}),l},i.__iteratorUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterator(s,o);var u=e.__iterator(Vi,o),l=!0,h=0;return new pt(function(){var f,p,m;do{if(f=u.next(),f.done)return n||s===Gs?f:s===Fy?Ft(s,h++,void 0,f):Ft(s,h++,f.value[1],f);var y=f.value;p=y[0],m=y[1],l&&(l=t.call(r,m,p,a))}while(l);return s===Vi?f:Ft(s,p,m,f)})},i}function v_e(e,t){var r=xt(e),n=[e].concat(t).map(function(o){return un(o)?r&&(o=$i(o)):o=r?xk(o):H9(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return e;if(n.length===1){var i=n[0];if(i===e||r&&xt(i)||qr(e)&&qr(i))return i}var s=new kc(n);return r?s=s.toKeyedSeq():qr(e)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(o,a){if(o!==void 0){var u=a.size;if(u!==void 0)return o+u}},0),s}function r7(e,t,r){var n=Ro(e);return n.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var o=0,a=!1;function u(l,h){l.__iterate(function(f,p){return(!t||h<t)&&un(f)?u(f,h+1):(o++,i(f,r?p:o-1,n)===!1&&(a=!0)),!a},s)}return u(e,0),o},n.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var o=e.__iterator(i,s),a=[],u=0;return new pt(function(){for(;o;){var l=o.next();if(l.done!==!1){o=a.pop();continue}var h=l.value;if(i===Vi&&(h=h[1]),(!t||a.length<t)&&un(h))a.push(o),o=h.__iterator(i,s);else return r?l:Ft(i,u++,h,l)}return Rn()})},n}function __e(e,t,r){var n=Rk(e);return e.toSeq().map(function(i,s){return n(t.call(r,i,s,e))}).flatten(!0)}function b_e(e,t){var r=Ro(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(n,i){var s=this,o=0;return e.__iterate(function(a){return(!o||n(t,o++,s)!==!1)&&n(a,o++,s)!==!1},i),o},r.__iteratorUncached=function(n,i){var s=e.__iterator(Gs,i),o=0,a;return new pt(function(){return(!a||o%2)&&(a=s.next(),a.done)?a:o%2?Ft(n,o++,t):Ft(n,o++,a.value,a)})},r}function lf(e,t,r){t||(t=s7);var n=xt(e),i=0,s=e.toSeq().map(function(o,a){return[a,o,i++,r?r(o,a,e):o]}).valueSeq().toArray();return s.sort(function(o,a){return t(o[3],a[3])||o[2]-a[2]}).forEach(n?function(o,a){s[a].length=2}:function(o,a){s[a]=o[1]}),n?Xu(s):qr(e)?Wi(s):uf(s)}function O1(e,t,r){if(t||(t=s7),r){var n=e.toSeq().map(function(i,s){return[i,r(i,s,e)]}).reduce(function(i,s){return n7(t,i[1],s[1])?s:i});return n&&n[0]}return e.reduce(function(i,s){return n7(t,i,s)?s:i})}function n7(e,t,r){var n=e(r,t);return n===0&&r!==t&&(r==null||r!==r)||n>0}function P1(e,t,r,n){var i=Ro(e),s=new kc(r).map(function(o){return o.size});return i.size=n?s.max():s.min(),i.__iterate=function(o,a){for(var u=this.__iterator(Gs,a),l,h=0;!(l=u.next()).done&&o(l.value,h++,this)!==!1;);return h},i.__iteratorUncached=function(o,a){var u=r.map(function(f){return f=Bt(f),vk(a?f.reverse():f)}),l=0,h=!1;return new pt(function(){var f;return h||(f=u.map(function(p){return p.next()}),h=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),h?Rn():Ft(o,l++,t.apply(null,f.map(function(p){return p.value})))})},i}function Et(e,t){return e===t?e:By(e)?t:e.constructor(t)}function i7(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Rk(e){return xt(e)?$i:qr(e)?Cc:sf}function Ro(e){return Object.create((xt(e)?Xu:qr(e)?Wi:uf).prototype)}function Mk(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ln.prototype.cacheResult.call(this)}function s7(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function Mo(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function Nk(e,t){if(!e)throw new Error(t)}function mi(e){Nk(e!==1/0,"Cannot perform this action with an infinite size.")}function o7(e){if(_k(e)&&typeof e!="string")return e;if(pi(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var w_e=Object.prototype.toString;function R1(e){if(!e||typeof e!="object"||w_e.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,n=Object.getPrototypeOf(t);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===t}function Yu(e){return typeof e=="object"&&(fi(e)||Array.isArray(e)||R1(e))}function zy(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function Dk(e,t){return fi(e)?e.has(t):Yu(e)&&af.call(e,t)}function M1(e,t,r){return fi(e)?e.get(t,r):Dk(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function N1(e){if(Array.isArray(e))return Mo(e);var t={};for(var r in e)af.call(e,r)&&(t[r]=e[r]);return t}function Lk(e,t){if(!Yu(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(fi(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!af.call(e,t))return e;var r=N1(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function Bk(e,t,r){if(!Yu(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(fi(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(af.call(e,t)&&r===e[t])return e;var n=N1(e);return n[t]=r,n}function Ku(e,t,r,n){n||(n=r,r=void 0);var i=a7(fi(e),e,o7(t),0,r,n);return i===ut?r:i}function a7(e,t,r,n,i,s){var o=t===ut;if(n===r.length){var a=o?i:t,u=s(a);return u===a?t:u}if(!o&&!Yu(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(zy)+"]: "+t);var l=r[n],h=o?ut:M1(t,l,ut),f=a7(h===ut?e:fi(h),h,r,n+1,i,s);return f===h?t:f===ut?Lk(t,l):Bk(o?e?$s():{}:t,l,f)}function Fk(e,t,r){return Ku(e,t,ut,function(){return r})}function Uk(e,t){return Fk(this,e,t)}function jk(e,t){return Ku(e,t,function(){return ut})}function zk(e){return jk(this,e)}function D1(e,t,r,n){return Ku(e,[t],r,n)}function Hk(e,t,r){return arguments.length===1?e(this):D1(this,e,t,r)}function Gk(e,t,r){return Ku(this,e,t,r)}function u7(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return c7(this,e)}function l7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return c7(this,t,e)}function c7(e,t,r){for(var n=[],i=0;i<t.length;i++){var s=$i(t[i]);s.size!==0&&n.push(s)}return n.length===0?e:e.toSeq().size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(o){for(var a=r?function(l,h){D1(o,h,ut,function(f){return f===ut?l:r(f,l,h)})}:function(l,h){o.set(h,l)},u=0;u<n.length;u++)n[u].forEach(a)})}function h7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Gy(e,t)}function d7(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Gy(t,r,e)}function f7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Hy(e,t)}function p7(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Hy(t,r,e)}function Hy(e,t,r){return Gy(e,t,x_e(r))}function Gy(e,t,r){if(!Yu(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(fi(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,s=n?Cc:$i,o=n?function(u){i===e&&(i=N1(i)),i.push(u)}:function(u,l){var h=af.call(i,l),f=h&&r?r(i[l],u,l):u;(!h||f!==i[l])&&(i===e&&(i=N1(i)),i[l]=f)},a=0;a<t.length;a++)s(t[a]).forEach(o);return i}function x_e(e){function t(r,n,i){return Yu(r)&&Yu(n)&&E_e(r,n)?Gy(r,[n],t):e?e(r,n,i):n}return t}function E_e(e,t){var r=ln(e),n=ln(t);return qr(r)===qr(n)&&xt(r)===xt(n)}function m7(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Hy(this,e)}function y7(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Hy(this,t,e)}function $k(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ku(this,e,$s(),function(n){return Gy(n,t)})}function Vk(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ku(this,e,$s(),function(n){return Hy(n,t)})}function $y(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Vy(){return this.__ownerID?this:this.__ensureOwner(new mk)}function Wy(){return this.__ensureOwner()}function Wk(){return this.__altered}var Qu=function(e){function t(r){return r==null?$s():Uy(r)&&!pi(r)?r:$s().withMutations(function(n){var i=e(r);mi(i.size),i.forEach(function(s,o){return n.set(o,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return $s().withMutations(function(i){for(var s=0;s<r.length;s+=2){if(s+1>=r.length)throw new Error("Missing value for key: "+r[s]);i.set(r[s],r[s+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,n){return this._root?this._root.get(0,void 0,r,n):n},t.prototype.set=function(r,n){return _7(this,r,n)},t.prototype.remove=function(r){return _7(this,r,ut)},t.prototype.deleteAll=function(r){var n=Bt(r);return n.size===0?this:this.withMutations(function(i){n.forEach(function(s){return i.remove(s)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):$s()},t.prototype.sort=function(r){return Vs(lf(this,r))},t.prototype.sortBy=function(r,n){return Vs(lf(this,n,r))},t.prototype.map=function(r,n){var i=this;return this.withMutations(function(s){s.forEach(function(o,a){s.set(a,r.call(n,o,a,i))})})},t.prototype.__iterator=function(r,n){return new S_e(this,r,n)},t.prototype.__iterate=function(r,n){var i=this,s=0;return this._root&&this._root.iterate(function(o){return s++,r(o[1],o[0],i)},n),s},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Zk(this.size,this._root,r,this.__hash):this.size===0?$s():(this.__ownerID=r,this.__altered=!1,this)},t}($i);Qu.isMap=Uy;var Ut=Qu.prototype;Ut[G9]=!0,Ut[Ny]=Ut.remove,Ut.removeAll=Ut.deleteAll,Ut.setIn=Uk,Ut.removeIn=Ut.deleteIn=zk,Ut.update=Hk,Ut.updateIn=Gk,Ut.merge=Ut.concat=u7,Ut.mergeWith=l7,Ut.mergeDeep=m7,Ut.mergeDeepWith=y7,Ut.mergeIn=$k,Ut.mergeDeepIn=Vk,Ut.withMutations=$y,Ut.wasAltered=Wk,Ut.asImmutable=Wy,Ut["@@transducer/init"]=Ut.asMutable=Vy,Ut["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Ut["@@transducer/result"]=function(e){return e.asImmutable()};var qy=function(e,t){this.ownerID=e,this.entries=t};qy.prototype.get=function(e,t,r,n){for(var i=this.entries,s=0,o=i.length;s<o;s++)if(Sr(r,i[s][0]))return i[s][1];return n},qy.prototype.update=function(e,t,r,n,i,s,o){for(var a=i===ut,u=this.entries,l=0,h=u.length;l<h&&!Sr(n,u[l][0]);l++);var f=l<h;if(f?u[l][1]===i:a)return this;if(Gi(o),(a||!f)&&Gi(s),!(a&&u.length===1)){if(!f&&!a&&u.length>=O_e)return A_e(e,u,n,i);var p=e&&e===this.ownerID,m=p?u:Mo(u);return f?a?l===h-1?m.pop():m[l]=m.pop():m[l]=[n,i]:m.push([n,i]),p?(this.entries=m,this):new qy(e,m)}};var cf=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};cf.prototype.get=function(e,t,r,n){t===void 0&&(t=Mn(r));var i=1<<((e===0?t:t>>>e)&Pn),s=this.bitmap;return s&i?this.nodes[w7(s&i-1)].get(e+Lt,t,r,n):n},cf.prototype.update=function(e,t,r,n,i,s,o){r===void 0&&(r=Mn(n));var a=(t===0?r:r>>>t)&Pn,u=1<<a,l=this.bitmap,h=(l&u)!==0;if(!h&&i===ut)return this;var f=w7(l&u-1),p=this.nodes,m=h?p[f]:void 0,y=Xk(m,e,t+Lt,r,n,i,s,o);if(y===m)return this;if(!h&&y&&p.length>=P_e)return I_e(e,p,l,a,y);if(h&&!y&&p.length===2&&b7(p[f^1]))return p[f^1];if(h&&y&&p.length===1&&b7(y))return y;var v=e&&e===this.ownerID,w=h?y?l:l^u:l|u,_=h?y?x7(p,f,y,v):k_e(p,f,v):C_e(p,f,y,v);return v?(this.bitmap=w,this.nodes=_,this):new cf(e,w,_)};var Zy=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};Zy.prototype.get=function(e,t,r,n){t===void 0&&(t=Mn(r));var i=(e===0?t:t>>>e)&Pn,s=this.nodes[i];return s?s.get(e+Lt,t,r,n):n},Zy.prototype.update=function(e,t,r,n,i,s,o){r===void 0&&(r=Mn(n));var a=(t===0?r:r>>>t)&Pn,u=i===ut,l=this.nodes,h=l[a];if(u&&!h)return this;var f=Xk(h,e,t+Lt,r,n,i,s,o);if(f===h)return this;var p=this.count;if(!h)p++;else if(!f&&(p--,p<R_e))return T_e(e,l,p,a);var m=e&&e===this.ownerID,y=x7(l,a,f,m);return m?(this.count=p,this.nodes=y,this):new Zy(e,p,y)};var hf=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};hf.prototype.get=function(e,t,r,n){for(var i=this.entries,s=0,o=i.length;s<o;s++)if(Sr(r,i[s][0]))return i[s][1];return n},hf.prototype.update=function(e,t,r,n,i,s,o){r===void 0&&(r=Mn(n));var a=i===ut;if(r!==this.keyHash)return a?this:(Gi(o),Gi(s),Yk(this,e,t,r,[n,i]));for(var u=this.entries,l=0,h=u.length;l<h&&!Sr(n,u[l][0]);l++);var f=l<h;if(f?u[l][1]===i:a)return this;if(Gi(o),(a||!f)&&Gi(s),a&&h===2)return new Ca(e,this.keyHash,u[l^1]);var p=e&&e===this.ownerID,m=p?u:Mo(u);return f?a?l===h-1?m.pop():m[l]=m.pop():m[l]=[n,i]:m.push([n,i]),p?(this.entries=m,this):new hf(e,this.keyHash,m)};var Ca=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};Ca.prototype.get=function(e,t,r,n){return Sr(r,this.entry[0])?this.entry[1]:n},Ca.prototype.update=function(e,t,r,n,i,s,o){var a=i===ut,u=Sr(n,this.entry[0]);if(u?i===this.entry[1]:a)return this;if(Gi(o),a){Gi(s);return}return u?e&&e===this.ownerID?(this.entry[1]=i,this):new Ca(e,this.keyHash,[n,i]):(Gi(s),Yk(this,e,t,Mn(n),[n,i]))},qy.prototype.iterate=hf.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(e(r[t?i-n:n])===!1)return!1},cf.prototype.iterate=Zy.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var s=r[t?i-n:n];if(s&&s.iterate(e,t)===!1)return!1}},Ca.prototype.iterate=function(e,t){return e(this.entry)};var S_e=function(e){function t(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&g7(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,n=this._stack;n;){var i=n.node,s=n.index++,o=void 0;if(i.entry){if(s===0)return qk(r,i.entry)}else if(i.entries){if(o=i.entries.length-1,s<=o)return qk(r,i.entries[this._reverse?o-s:s])}else if(o=i.nodes.length-1,s<=o){var a=i.nodes[this._reverse?o-s:s];if(a){if(a.entry)return qk(r,a.entry);n=this._stack=g7(a,n)}continue}n=this._stack=this._stack.__prev}return Rn()},t}(pt);function qk(e,t){return Ft(e,t[0],t[1])}function g7(e,t){return{node:e,index:0,__prev:t}}function Zk(e,t,r,n){var i=Object.create(Ut);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var v7;function $s(){return v7||(v7=Zk(0))}function _7(e,t,r){var n,i;if(e._root){var s=pk(),o=pk();if(n=Xk(e._root,e.__ownerID,0,void 0,t,r,s,o),!o.value)return e;i=e.size+(s.value?r===ut?-1:1:0)}else{if(r===ut)return e;i=1,n=new qy(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Zk(i,n):$s()}function Xk(e,t,r,n,i,s,o,a){return e?e.update(t,r,n,i,s,o,a):s===ut?e:(Gi(a),Gi(o),new Ca(t,n,[i,s]))}function b7(e){return e.constructor===Ca||e.constructor===hf}function Yk(e,t,r,n,i){if(e.keyHash===n)return new hf(t,n,[e.entry,i]);var s=(r===0?e.keyHash:e.keyHash>>>r)&Pn,o=(r===0?n:n>>>r)&Pn,a,u=s===o?[Yk(e,t,r+Lt,n,i)]:(a=new Ca(t,n,i),s<o?[e,a]:[a,e]);return new cf(t,1<<s|1<<o,u)}function A_e(e,t,r,n){e||(e=new mk);for(var i=new Ca(e,Mn(r),[r,n]),s=0;s<t.length;s++){var o=t[s];i=i.update(e,0,void 0,o[0],o[1])}return i}function T_e(e,t,r,n){for(var i=0,s=0,o=new Array(r),a=0,u=1,l=t.length;a<l;a++,u<<=1){var h=t[a];h!==void 0&&a!==n&&(i|=u,o[s++]=h)}return new cf(e,i,o)}function I_e(e,t,r,n,i){for(var s=0,o=new Array(Hi),a=0;r!==0;a++,r>>>=1)o[a]=r&1?t[s++]:void 0;return o[n]=i,new Zy(e,s+1,o)}function w7(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function x7(e,t,r,n){var i=n?e:Mo(e);return i[t]=r,i}function C_e(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var s=new Array(i),o=0,a=0;a<i;a++)a===t?(s[a]=r,o=-1):s[a]=e[a+o];return s}function k_e(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),s=0,o=0;o<n;o++)o===t&&(s=1),i[o]=e[o+s];return i}var O_e=Hi/4,P_e=Hi/2,R_e=Hi/4,E7="@@__IMMUTABLE_LIST__@@";function L1(e){return!!(e&&e[E7])}var df=function(e){function t(r){var n=B1();if(r==null)return n;if(L1(r))return r;var i=e(r),s=i.size;return s===0?n:(mi(s),s>0&&s<Hi?Yy(0,s,Lt,null,new Ju(i.toArray())):n.withMutations(function(o){o.setSize(s),i.forEach(function(a,u){return o.set(u,a)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,n){if(r=qu(this,r),r>=0&&r<this.size){r+=this._origin;var i=T7(this,r);return i&&i.array[r&Pn]}return n},t.prototype.set=function(r,n){return M_e(this,r,n)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,n){return this.splice(r,0,n)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Lt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):B1()},t.prototype.push=function(){var r=arguments,n=this.size;return this.withMutations(function(i){el(i,0,n+r.length);for(var s=0;s<r.length;s++)i.set(n+s,r[s])})},t.prototype.pop=function(){return el(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(n){el(n,-r.length);for(var i=0;i<r.length;i++)n.set(i,r[i])})},t.prototype.shift=function(){return el(this,1)},t.prototype.concat=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++){var s=r[i],o=e(typeof s!="string"&&gk(s)?s:[s]);o.size!==0&&n.push(o)}return n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){n.forEach(function(u){return u.forEach(function(l){return a.push(l)})})})},t.prototype.setSize=function(r){return el(this,0,r)},t.prototype.map=function(r,n){var i=this;return this.withMutations(function(s){for(var o=0;o<i.size;o++)s.set(o,r.call(n,s.get(o),o,i))})},t.prototype.slice=function(r,n){var i=this.size;return Dy(r,n,i)?this:el(this,rf(r,i),Ly(n,i))},t.prototype.__iterator=function(r,n){var i=n?this.size:0,s=S7(this,n);return new pt(function(){var o=s();return o===Xy?Rn():Ft(r,n?--i:i++,o)})},t.prototype.__iterate=function(r,n){for(var i=n?this.size:0,s=S7(this,n),o;(o=s())!==Xy&&r(o,n?--i:i++,this)!==!1;);return i},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?Yy(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?B1():(this.__ownerID=r,this.__altered=!1,this)},t}(Cc);df.isList=L1;var fr=df.prototype;fr[E7]=!0,fr[Ny]=fr.remove,fr.merge=fr.concat,fr.setIn=Uk,fr.deleteIn=fr.removeIn=zk,fr.update=Hk,fr.updateIn=Gk,fr.mergeIn=$k,fr.mergeDeepIn=Vk,fr.withMutations=$y,fr.wasAltered=Wk,fr.asImmutable=Wy,fr["@@transducer/init"]=fr.asMutable=Vy,fr["@@transducer/step"]=function(e,t){return e.push(t)},fr["@@transducer/result"]=function(e){return e.asImmutable()};var Ju=function(e,t){this.array=e,this.ownerID=t};Ju.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:this.array.length===0)return this;var n=r>>>t&Pn;if(n>=this.array.length)return new Ju([],e);var i=n===0,s;if(t>0){var o=this.array[n];if(s=o&&o.removeBefore(e,t-Lt,r),s===o&&i)return this}if(i&&!s)return this;var a=ff(this,e);if(!i)for(var u=0;u<n;u++)a.array[u]=void 0;return s&&(a.array[n]=s),a},Ju.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||this.array.length===0)return this;var n=r-1>>>t&Pn;if(n>=this.array.length)return this;var i;if(t>0){var s=this.array[n];if(i=s&&s.removeAfter(e,t-Lt,r),i===s&&n===this.array.length-1)return this}var o=ff(this,e);return o.array.splice(n+1),i&&(o.array[n]=i),o};var Xy={};function S7(e,t){var r=e._origin,n=e._capacity,i=Ky(n),s=e._tail;return o(e._root,e._level,0);function o(l,h,f){return h===0?a(l,f):u(l,h,f)}function a(l,h){var f=h===i?s&&s.array:l&&l.array,p=h>r?0:r-h,m=n-h;return m>Hi&&(m=Hi),function(){if(p===m)return Xy;var y=t?--m:p++;return f&&f[y]}}function u(l,h,f){var p,m=l&&l.array,y=f>r?0:r-f>>h,v=(n-f>>h)+1;return v>Hi&&(v=Hi),function(){for(;;){if(p){var w=p();if(w!==Xy)return w;p=null}if(y===v)return Xy;var _=t?--v:y++;p=o(m&&m[_],h-Lt,f+(_<<h))}}}}function Yy(e,t,r,n,i,s,o){var a=Object.create(fr);return a.size=t-e,a._origin=e,a._capacity=t,a._level=r,a._root=n,a._tail=i,a.__ownerID=s,a.__hash=o,a.__altered=!1,a}var A7;function B1(){return A7||(A7=Yy(0,0,Lt))}function M_e(e,t,r){if(t=qu(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(o){t<0?el(o,t).set(0,r):el(o,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,s=pk();return t>=Ky(e._capacity)?n=Kk(n,e.__ownerID,0,t,r,s):i=Kk(i,e.__ownerID,e._level,t,r,s),s.value?e.__ownerID?(e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e):Yy(e._origin,e._capacity,e._level,i,n):e}function Kk(e,t,r,n,i,s){var o=n>>>r&Pn,a=e&&o<e.array.length;if(!a&&i===void 0)return e;var u;if(r>0){var l=e&&e.array[o],h=Kk(l,t,r-Lt,n,i,s);return h===l?e:(u=ff(e,t),u.array[o]=h,u)}return a&&e.array[o]===i?e:(s&&Gi(s),u=ff(e,t),i===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=i,u)}function ff(e,t){return t&&e&&t===e.ownerID?e:new Ju(e?e.array.slice():[],t)}function T7(e,t){if(t>=Ky(e._capacity))return e._tail;if(t<1<<e._level+Lt){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&Pn],n-=Lt;return r}}function el(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var n=e.__ownerID||new mk,i=e._origin,s=e._capacity,o=i+t,a=r===void 0?s:r<0?s+r:i+r;if(o===i&&a===s)return e;if(o>=a)return e.clear();for(var u=e._level,l=e._root,h=0;o+h<0;)l=new Ju(l&&l.array.length?[void 0,l]:[],n),u+=Lt,h+=1<<u;h&&(o+=h,i+=h,a+=h,s+=h);for(var f=Ky(s),p=Ky(a);p>=1<<u+Lt;)l=new Ju(l&&l.array.length?[l]:[],n),u+=Lt;var m=e._tail,y=p<f?T7(e,a-1):p>f?new Ju([],n):m;if(m&&p>f&&o<s&&m.array.length){l=ff(l,n);for(var v=l,w=u;w>Lt;w-=Lt){var _=f>>>w&Pn;v=v.array[_]=ff(v.array[_],n)}v.array[f>>>Lt&Pn]=m}if(a<s&&(y=y&&y.removeAfter(n,0,a)),o>=p)o-=p,a-=p,u=Lt,l=null,y=y&&y.removeBefore(n,0,o);else if(o>i||p<f){for(h=0;l;){var x=o>>>u&Pn;if(x!==p>>>u&Pn)break;x&&(h+=(1<<u)*x),u-=Lt,l=l.array[x]}l&&o>i&&(l=l.removeBefore(n,u,o-h)),l&&p<f&&(l=l.removeAfter(n,u,p-h)),h&&(o-=h,a-=h)}return e.__ownerID?(e.size=a-o,e._origin=o,e._capacity=a,e._level=u,e._root=l,e._tail=y,e.__hash=void 0,e.__altered=!0,e):Yy(o,a,u,l,y)}function Ky(e){return e<Hi?0:e-1>>>Lt<<Lt}var Vs=function(e){function t(r){return r==null?Qy():T1(r)?r:Qy().withMutations(function(n){var i=$i(r);mi(i.size),i.forEach(function(s,o){return n.set(o,s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,n){var i=this._map.get(r);return i!==void 0?this._list.get(i)[1]:n},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Qy()},t.prototype.set=function(r,n){return C7(this,r,n)},t.prototype.remove=function(r){return C7(this,r,ut)},t.prototype.__iterate=function(r,n){var i=this;return this._list.__iterate(function(s){return s&&r(s[1],s[0],i)},n)},t.prototype.__iterator=function(r,n){return this._list.fromEntrySeq().__iterator(r,n)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var n=this._map.__ensureOwner(r),i=this._list.__ensureOwner(r);return r?Qk(n,i,r,this.__hash):this.size===0?Qy():(this.__ownerID=r,this.__altered=!1,this._map=n,this._list=i,this)},t}(Qu);Vs.isOrderedMap=T1,Vs.prototype[of]=!0,Vs.prototype[Ny]=Vs.prototype.remove;function Qk(e,t,r,n){var i=Object.create(Vs.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var I7;function Qy(){return I7||(I7=Qk($s(),B1()))}function C7(e,t,r){var n=e._map,i=e._list,s=n.get(t),o=s!==void 0,a,u;if(r===ut){if(!o)return e;i.size>=Hi&&i.size>=n.size*2?(u=i.filter(function(l,h){return l!==void 0&&s!==h}),a=u.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),e.__ownerID&&(a.__ownerID=u.__ownerID=e.__ownerID)):(a=n.remove(t),u=s===i.size-1?i.pop():i.set(s,void 0))}else if(o){if(r===i.get(s)[1])return e;a=n,u=i.set(s,[t,r])}else a=n.set(t,i.size),u=i.set(i.size,[t,r]);return e.__ownerID?(e.size=a.size,e._map=a,e._list=u,e.__hash=void 0,e.__altered=!0,e):Qk(a,u)}var k7="@@__IMMUTABLE_STACK__@@";function Jy(e){return!!(e&&e[k7])}var eg=function(e){function t(r){return r==null?F1():Jy(r)?r:F1().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,n){var i=this._head;for(r=qu(this,r);i&&r--;)i=i.next;return i?i.value:n},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var n=this.size+arguments.length,i=this._head,s=arguments.length-1;s>=0;s--)i={value:r[s],next:i};return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):tg(n,i)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&Jy(r))return r;mi(r.size);var n=this.size,i=this._head;return r.__iterate(function(s){n++,i={value:s,next:i}},!0),this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):tg(n,i)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):F1()},t.prototype.slice=function(r,n){if(Dy(r,n,this.size))return this;var i=rf(r,this.size),s=Ly(n,this.size);if(s!==this.size)return e.prototype.slice.call(this,r,n);for(var o=this.size-i,a=this._head;i--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=void 0,this.__altered=!0,this):tg(o,a)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?tg(this.size,this._head,r,this.__hash):this.size===0?F1():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,n){var i=this;if(n)return new kc(this.toArray()).__iterate(function(a,u){return r(a,u,i)},n);for(var s=0,o=this._head;o&&r(o.value,s++,this)!==!1;)o=o.next;return s},t.prototype.__iterator=function(r,n){if(n)return new kc(this.toArray()).__iterator(r,n);var i=0,s=this._head;return new pt(function(){if(s){var o=s.value;return s=s.next,Ft(r,i++,o)}return Rn()})},t}(Cc);eg.isStack=Jy;var Nn=eg.prototype;Nn[k7]=!0,Nn.shift=Nn.pop,Nn.unshift=Nn.push,Nn.unshiftAll=Nn.pushAll,Nn.withMutations=$y,Nn.wasAltered=Wk,Nn.asImmutable=Wy,Nn["@@transducer/init"]=Nn.asMutable=Vy,Nn["@@transducer/step"]=function(e,t){return e.unshift(t)},Nn["@@transducer/result"]=function(e){return e.asImmutable()};function tg(e,t,r,n){var i=Object.create(Nn);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var O7;function F1(){return O7||(O7=tg(0))}var P7="@@__IMMUTABLE_SET__@@";function rg(e){return!!(e&&e[P7])}function U1(e){return rg(e)&&pi(e)}function Jk(e,t){if(e===t)return!0;if(!un(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||xt(e)!==xt(t)||qr(e)!==qr(t)||pi(e)!==pi(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!nf(e);if(pi(e)){var n=e.entries();return t.every(function(u,l){var h=n.next().value;return h&&Sr(h[1],u)&&(r||Sr(h[0],l))})&&n.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var s=e;e=t,t=s}var o=!0,a=t.__iterate(function(u,l){if(r?!e.has(u):i?!Sr(u,e.get(l,ut)):!Sr(e.get(l,ut),u))return o=!1,!1});return o&&e.size===a}function Pc(e,t){var r=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function j1(e){if(!e||typeof e!="object")return e;if(!un(e)){if(!Yu(e))return e;e=ln(e)}if(xt(e)){var t={};return e.__iterate(function(n,i){t[i]=j1(n)}),t}var r=[];return e.__iterate(function(n){r.push(j1(n))}),r}var pf=function(e){function t(r){return r==null?ng():rg(r)&&!pi(r)?r:ng().withMutations(function(n){var i=e(r);mi(i.size),i.forEach(function(s){return n.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this($i(r).keySeq())},t.intersect=function(r){return r=Bt(r).toArray(),r.length?Zr.intersect.apply(t(r.pop()),r):ng()},t.union=function(r){return r=Bt(r).toArray(),r.length?Zr.union.apply(t(r.pop()),r):ng()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return z1(this,this._map.set(r,r))},t.prototype.remove=function(r){return z1(this,this._map.remove(r))},t.prototype.clear=function(){return z1(this,this._map.clear())},t.prototype.map=function(r,n){var i=this,s=!1,o=z1(this,this._map.mapEntries(function(a){var u=a[1],l=r.call(n,u,u,i);return l!==u&&(s=!0),[l,l]},n));return s?o:this},t.prototype.union=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return r=r.filter(function(i){return i.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(i){for(var s=0;s<r.length;s++)typeof r[s]=="string"?i.add(r[s]):e(r[s]).forEach(function(o){return i.add(o)})})},t.prototype.intersect=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(r.length===0)return this;r=r.map(function(s){return e(s)});var i=[];return this.forEach(function(s){r.every(function(o){return o.includes(s)})||i.push(s)}),this.withMutations(function(s){i.forEach(function(o){s.remove(o)})})},t.prototype.subtract=function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(r.length===0)return this;r=r.map(function(s){return e(s)});var i=[];return this.forEach(function(s){r.some(function(o){return o.includes(s)})&&i.push(s)}),this.withMutations(function(s){i.forEach(function(o){s.remove(o)})})},t.prototype.sort=function(r){return Rc(lf(this,r))},t.prototype.sortBy=function(r,n){return Rc(lf(this,n,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,n){var i=this;return this._map.__iterate(function(s){return r(s,s,i)},n)},t.prototype.__iterator=function(r,n){return this._map.__iterator(r,n)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var n=this._map.__ensureOwner(r);return r?this.__make(n,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=n,this)},t}(sf);pf.isSet=rg;var Zr=pf.prototype;Zr[P7]=!0,Zr[Ny]=Zr.remove,Zr.merge=Zr.concat=Zr.union,Zr.withMutations=$y,Zr.asImmutable=Wy,Zr["@@transducer/init"]=Zr.asMutable=Vy,Zr["@@transducer/step"]=function(e,t){return e.add(t)},Zr["@@transducer/result"]=function(e){return e.asImmutable()},Zr.__empty=ng,Zr.__make=R7;function z1(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function R7(e,t){var r=Object.create(Zr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var M7;function ng(){return M7||(M7=R7($s()))}var eO=function(e){function t(r,n,i){if(!(this instanceof t))return new t(r,n,i);if(Nk(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(tO)return tO;tO=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,n){return this.has(r)?this._start+qu(this,r)*this._step:n},t.prototype.includes=function(r){var n=(r-this._start)/this._step;return n>=0&&n<this.size&&n===Math.floor(n)},t.prototype.slice=function(r,n){return Dy(r,n,this.size)?this:(r=rf(r,this.size),n=Ly(n,this.size),n<=r?new t(0,0):new t(this.get(r,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(r){var n=r-this._start;if(n%this._step===0){var i=n/this._step;if(i>=0&&i<this.size)return i}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,n){for(var i=this.size,s=this._step,o=n?this._start+(i-1)*s:this._start,a=0;a!==i&&r(o,n?i-++a:a++,this)!==!1;)o+=n?-s:s;return a},t.prototype.__iterator=function(r,n){var i=this.size,s=this._step,o=n?this._start+(i-1)*s:this._start,a=0;return new pt(function(){if(a===i)return Rn();var u=o;return o+=n?-s:s,Ft(r,n?i-++a:a++,u)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:Jk(this,r)},t}(Wi),tO;function H1(e,t,r){for(var n=o7(t),i=0;i!==n.length;)if(e=M1(e,n[i++],ut),e===ut)return r;return e}function N7(e,t){return H1(this,e,t)}function rO(e,t){return H1(e,t,ut)!==ut}function N_e(e){return rO(this,e)}function D7(){mi(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}Bt.isIterable=un,Bt.isKeyed=xt,Bt.isIndexed=qr,Bt.isAssociative=nf,Bt.isOrdered=pi,Bt.Iterator=pt,Pc(Bt,{toArray:function(){mi(this.size);var e=new Array(this.size||0),t=xt(this),r=0;return this.__iterate(function(n,i){e[r++]=t?[i,n]:n}),e},toIndexedSeq:function(){return new X9(this)},toJS:function(){return j1(this)},toKeyedSeq:function(){return new k1(this,!0)},toMap:function(){return Qu(this.toKeyedSeq())},toObject:D7,toOrderedMap:function(){return Vs(this.toKeyedSeq())},toOrderedSet:function(){return Rc(xt(this)?this.valueSeq():this)},toSet:function(){return pf(xt(this)?this.valueSeq():this)},toSetSeq:function(){return new Y9(this)},toSeq:function(){return qr(this)?this.toIndexedSeq():xt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return eg(xt(this)?this.valueSeq():this)},toList:function(){return df(xt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return this.size===0?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Et(this,v_e(this,e))},includes:function(e){return this.some(function(t){return Sr(t,e)})},entries:function(){return this.__iterator(Vi)},every:function(e,t){mi(this.size);var r=!0;return this.__iterate(function(n,i,s){if(!e.call(t,n,i,s))return r=!1,!1}),r},filter:function(e,t){return Et(this,e7(this,e,t,!0))},partition:function(e,t){return y_e(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return mi(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){mi(this.size),e=e!==void 0?""+e:",";var t="",r=!0;return this.__iterate(function(n){r?r=!1:t+=e,t+=n!=null?n.toString():""}),t},keys:function(){return this.__iterator(Fy)},map:function(e,t){return Et(this,J9(this,e,t))},reduce:function(e,t,r){return L7(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return L7(this,e,t,r,arguments.length<2,!0)},reverse:function(){return Et(this,Ok(this,!0))},slice:function(e,t){return Et(this,Pk(this,e,t,!0))},some:function(e,t){mi(this.size);var r=!1;return this.__iterate(function(n,i,s){if(e.call(t,n,i,s))return r=!0,!1}),r},sort:function(e){return Et(this,lf(this,e))},values:function(){return this.__iterator(Gs)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,t){return tf(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return p_e(this,e,t)},equals:function(e){return Jk(this,e)},entrySeq:function(){var e=this;if(e._cache)return new kc(e._cache);var t=e.toSeq().map(L_e).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(nO(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate(function(i,s,o){if(e.call(t,i,s,o))return n=[s,i],!1}),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(P9,null,e)},flatMap:function(e,t){return Et(this,__e(this,e,t))},flatten:function(e){return Et(this,r7(this,e,!0))},fromEntrySeq:function(){return new K9(this)},get:function(e,t){return this.find(function(r,n){return Sr(n,e)},void 0,t)},getIn:N7,groupBy:function(e,t){return m_e(this,e,t)},has:function(e){return this.get(e,ut)!==ut},hasIn:N_e,isSubset:function(e){return e=typeof e.includes=="function"?e:Bt(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Bt(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return Sr(t,e)})},keySeq:function(){return this.toSeq().map(D_e).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return O1(this,e)},maxBy:function(e,t){return O1(this,t,e)},min:function(e){return O1(this,e?B7(e):U7)},minBy:function(e,t){return O1(this,t?B7(t):U7,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Et(this,t7(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(nO(e),t)},sortBy:function(e,t){return Et(this,lf(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Et(this,g_e(this,e,t))},takeUntil:function(e,t){return this.takeWhile(nO(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=B_e(this))}});var cn=Bt.prototype;cn[N9]=!0,cn[S1]=cn.values,cn.toJSON=cn.toArray,cn.__toStringMapper=zy,cn.inspect=cn.toSource=function(){return this.toString()},cn.chain=cn.flatMap,cn.contains=cn.includes,Pc($i,{flip:function(){return Et(this,Q9(this))},mapEntries:function(e,t){var r=this,n=0;return Et(this,this.toSeq().map(function(i,s){return e.call(t,[s,i],n++,r)}).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Et(this,this.toSeq().flip().map(function(n,i){return e.call(t,n,i,r)}).flip())}});var ig=$i.prototype;ig[D9]=!0,ig[S1]=cn.entries,ig.toJSON=D7,ig.__toStringMapper=function(e,t){return zy(t)+": "+zy(e)},Pc(Cc,{toKeyedSeq:function(){return new k1(this,!1)},filter:function(e,t){return Et(this,e7(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return t===void 0?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return t===void 0?-1:t},reverse:function(){return Et(this,Ok(this,!1))},slice:function(e,t){return Et(this,Pk(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),r===0||r===2&&!t)return this;e=rf(e,e<0?this.count():this.size);var n=this.slice(0,e);return Et(this,r===1?n:n.concat(Mo(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Et(this,r7(this,e,!1))},get:function(e,t){return e=qu(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?t:this.find(function(r,n){return n===e},void 0,t)},has:function(e){return e=qu(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return Et(this,b_e(this,e))},interleave:function(){var e=[this].concat(Mo(arguments)),t=P1(this.toSeq(),Wi.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Et(this,r)},keySeq:function(){return eO(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Et(this,t7(this,e,t,!1))},zip:function(){var e=[this].concat(Mo(arguments));return Et(this,P1(this,F7,e))},zipAll:function(){var e=[this].concat(Mo(arguments));return Et(this,P1(this,F7,e,!0))},zipWith:function(e){var t=Mo(arguments);return t[0]=this,Et(this,P1(this,e,t))}});var mf=Cc.prototype;mf[L9]=!0,mf[of]=!0,Pc(sf,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var yf=sf.prototype;yf.has=cn.includes,yf.contains=yf.includes,yf.keys=yf.values,Pc(Xu,ig),Pc(Wi,mf),Pc(uf,yf);function L7(e,t,r,n,i,s){return mi(e.size),e.__iterate(function(o,a,u){i?(i=!1,r=o):r=t.call(n,r,o,a,u)},s),r}function D_e(e,t){return t}function L_e(e,t){return[t,e]}function nO(e){return function(){return!e.apply(this,arguments)}}function B7(e){return function(){return-e.apply(this,arguments)}}function F7(){return Mo(arguments)}function U7(e,t){return e<t?1:e>t?-1:0}function B_e(e){if(e.size===1/0)return 0;var t=pi(e),r=xt(e),n=t?1:0,i=e.__iterate(r?t?function(s,o){n=31*n+j7(Mn(s),Mn(o))|0}:function(s,o){n=n+j7(Mn(s),Mn(o))|0}:t?function(s){n=31*n+Mn(s)|0}:function(s){n=n+Mn(s)|0});return F_e(i,n)}function F_e(e,t){return t=jy(t,3432918353),t=jy(t<<15|t>>>-15,461845907),t=jy(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=jy(t^t>>>16,2246822507),t=jy(t^t>>>13,3266489909),t=C1(t^t>>>16),t}function j7(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var Rc=function(e){function t(r){return r==null?iO():U1(r)?r:iO().withMutations(function(n){var i=sf(r);mi(i.size),i.forEach(function(s){return n.add(s)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this($i(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(pf);Rc.isOrderedSet=U1;var Mc=Rc.prototype;Mc[of]=!0,Mc.zip=mf.zip,Mc.zipWith=mf.zipWith,Mc.zipAll=mf.zipAll,Mc.__empty=iO,Mc.__make=z7;function z7(e,t){var r=Object.create(Mc);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var H7;function iO(){return H7||(H7=z7(Qy()))}var G7={LeftThenRight:-1,RightThenLeft:1};function U_e(e){if(Zu(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(fi(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var pr=function(e,t){var r;U_e(e);var n=function(s){var o=this;if(s instanceof n)return s;if(!(this instanceof n))return new n(s);if(!r){r=!0;var a=Object.keys(e),u=i._indices={};i._name=t,i._keys=a,i._defaultValues=e;for(var l=0;l<a.length;l++){var h=a[l];u[h]=l,i[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+oO(this)+' with property "'+h+'" since that property name is part of the Record API.'):j_e(i,h)}}return this.__ownerID=void 0,this._values=df().withMutations(function(f){f.setSize(o._keys.length),$i(s).forEach(function(p,m){f.set(o._indices[m],p===o._defaultValues[m]?void 0:p)})}),this},i=n.prototype=Object.create(Ot);return i.constructor=n,t&&(n.displayName=t),n};pr.prototype.toString=function(){for(var e=oO(this)+" { ",t=this._keys,r,n=0,i=t.length;n!==i;n++)r=t[n],e+=(n?", ":"")+r+": "+zy(this.get(r));return e+" }"},pr.prototype.equals=function(e){return this===e||Zu(e)&&gf(this).equals(gf(e))},pr.prototype.hashCode=function(){return gf(this).hashCode()},pr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},pr.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return n===void 0?this._defaultValues[e]:n},pr.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return sO(this,r)}return this},pr.prototype.remove=function(e){return this.set(e)},pr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:sO(this,e)},pr.prototype.wasAltered=function(){return this._values.wasAltered()},pr.prototype.toSeq=function(){return gf(this)},pr.prototype.toJS=function(){return j1(this)},pr.prototype.entries=function(){return this.__iterator(Vi)},pr.prototype.__iterator=function(e,t){return gf(this).__iterator(e,t)},pr.prototype.__iterate=function(e,t){return gf(this).__iterate(e,t)},pr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?sO(this,t,e):(this.__ownerID=e,this._values=t,this)},pr.isRecord=Zu,pr.getDescriptiveName=oO;var Ot=pr.prototype;Ot[F9]=!0,Ot[Ny]=Ot.remove,Ot.deleteIn=Ot.removeIn=zk,Ot.getIn=N7,Ot.hasIn=cn.hasIn,Ot.merge=u7,Ot.mergeWith=l7,Ot.mergeIn=$k,Ot.mergeDeep=m7,Ot.mergeDeepWith=y7,Ot.mergeDeepIn=Vk,Ot.setIn=Uk,Ot.update=Hk,Ot.updateIn=Gk,Ot.withMutations=$y,Ot.asMutable=Vy,Ot.asImmutable=Wy,Ot[S1]=Ot.entries,Ot.toJSON=Ot.toObject=cn.toObject,Ot.inspect=Ot.toSource=function(){return this.toString()};function sO(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function oO(e){return e.constructor.displayName||e.constructor.name||"Record"}function gf(e){return xk(e._keys.map(function(t){return[t,e.get(t)]}))}function j_e(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){Nk(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var $7=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(aO)return aO;aO=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(r,n){return this.has(r)?this._value:n},t.prototype.includes=function(r){return Sr(this._value,r)},t.prototype.slice=function(r,n){var i=this.size;return Dy(r,n,i)?this:new t(this._value,Ly(n,i)-rf(r,i))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(r){return Sr(this._value,r)?0:-1},t.prototype.lastIndexOf=function(r){return Sr(this._value,r)?this.size:-1},t.prototype.__iterate=function(r,n){for(var i=this.size,s=0;s!==i&&r(this._value,n?i-++s:s++,this)!==!1;);return s},t.prototype.__iterator=function(r,n){var i=this,s=this.size,o=0;return new pt(function(){return o===s?Rn():Ft(r,n?s-++o:o++,i._value)})},t.prototype.equals=function(r){return r instanceof t?Sr(this._value,r._value):Jk(r)},t}(Wi),aO;function V7(e,t){return W7([],t||z_e,e,"",t&&t.length>2?[]:void 0,{"":e})}function W7(e,t,r,n,i,s){if(typeof r!="string"&&!fi(r)&&(_k(r)||gk(r)||R1(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&n!==""&&i.push(n);var o=t.call(s,n,ln(r).map(function(a,u){return W7(e,t,a,u,i,r)}),i&&i.slice());return e.pop(),i&&i.pop(),o}return r}function z_e(e,t){return qr(t)?t.toList():xt(t)?t.toMap():t.toSet()}var q7="4.3.4",H_e={version:q7,Collection:Bt,Iterable:Bt,Seq:ln,Map:Qu,OrderedMap:Vs,List:df,Stack:eg,Set:pf,OrderedSet:Rc,PairSorting:G7,Record:pr,Range:eO,Repeat:$7,is:Sr,fromJS:V7,hash:Mn,isImmutable:fi,isCollection:un,isKeyed:xt,isIndexed:qr,isAssociative:nf,isOrdered:pi,isValueObject:I1,isPlainObject:R1,isSeq:By,isList:L1,isMap:Uy,isOrderedMap:T1,isStack:Jy,isSet:rg,isOrderedSet:U1,isRecord:Zu,get:M1,getIn:H1,has:Dk,hasIn:rO,merge:h7,mergeDeep:f7,mergeWith:d7,mergeDeepWith:p7,remove:Lk,removeIn:jk,set:Bk,setIn:Fk,update:D1,updateIn:Ku},G_e=Bt;const $_e=Object.freeze(Object.defineProperty({__proto__:null,Collection:Bt,Iterable:G_e,List:df,Map:Qu,OrderedMap:Vs,OrderedSet:Rc,PairSorting:G7,Range:eO,Record:pr,Repeat:$7,Seq:ln,Set:pf,Stack:eg,default:H_e,fromJS:V7,get:M1,getIn:H1,has:Dk,hasIn:rO,hash:Mn,is:Sr,isAssociative:nf,isCollection:un,isImmutable:fi,isIndexed:qr,isKeyed:xt,isList:L1,isMap:Uy,isOrdered:pi,isOrderedMap:T1,isOrderedSet:U1,isPlainObject:R1,isRecord:Zu,isSeq:By,isSet:rg,isStack:Jy,isValueObject:I1,merge:h7,mergeDeep:f7,mergeDeepWith:p7,mergeWith:d7,remove:Lk,removeIn:jk,set:Bk,setIn:Fk,update:D1,updateIn:Ku,version:q7},Symbol.toStringTag,{value:"Module"})),V_e=ei($_e);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionManagerProvider=e.useTransactionManager=e.TransactionManagerContext=void 0;const t=Qr,r=Ie,n=V_e;e.TransactionManagerContext=(0,r.createContext)({transactions:[],hashes:[],addTransaction:({hash:a,metadata:u})=>{},removeTransaction:({hash:a})=>{}});function i(){const a=(0,r.useContext)(e.TransactionManagerContext);if(!a)throw new Error("useTransactionManager must be used inside TransactionManagerProvider");return a}e.useTransactionManager=i;function s({children:a}){const[u,l]=(0,r.useReducer)(o,{hashes:(0,n.OrderedSet)(),transactions:(0,n.OrderedMap)()}),h=(0,r.useCallback)(({hash:y,metadata:v})=>{l({type:"add_transaction",hash:y,metadata:v})},[l]),f=(0,r.useCallback)(({hash:y})=>{l({type:"remove_transaction",hash:y})},[l]),p=e.TransactionManagerContext.Provider,m=u.transactions;return(0,t.jsx)(p,{value:{transactions:m.valueSeq().toArray(),hashes:m.keySeq().toArray(),addTransaction:h,removeTransaction:f},children:a})}e.TransactionManagerProvider=s;function o(a,u){switch(u.type){case"add_transaction":{const l=a.hashes.add(u.hash),h=a.transactions.set(u.hash,{hash:u.hash,metadata:u.metadata});return{...a,hashes:l,transactions:h}}case"remove_transaction":{const l=a.hashes.remove(u.hash),h=a.transactions.delete(u.hash);return{...a,hashes:l,transactions:h}}default:return a}}})(fk),function(e){var t=Ye&&Ye.__createBinding||(Object.create?function(a,u,l,h){h===void 0&&(h=l);var f=Object.getOwnPropertyDescriptor(u,l);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(a,h,f)}:function(a,u,l,h){h===void 0&&(h=l),a[h]=u[l]}),r=Ye&&Ye.__exportStar||function(a,u){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&t(u,a,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.StarknetConfig=void 0;const n=Qr,i=xc,s=fk;r(xc,e),r(fk,e);function o({children:a,...u}){return(0,n.jsx)(i.StarknetProvider,{...u,children:(0,n.jsx)(s.TransactionManagerProvider,{children:a})})}e.StarknetConfig=o}(Us);var Z7={},vf={},_f={};Object.defineProperty(_f,"__esModule",{value:!0}),_f.useConnectors=void 0;const G1=Ie,W_e=Us;function q_e(){const{connectors:e,connect:t,disconnect:r}=(0,W_e.useStarknet)(),[n,i]=(0,G1.useState)([]),[s,o]=(0,G1.useState)(!0);(0,G1.useEffect)(()=>{i(e.filter(u=>u.available())),o(!1)},[e,i]);const a=(0,G1.useCallback)(()=>{i(e.filter(u=>u.available())),o(!1)},[e,i,o]);return{available:n,connectors:e,connect:t,disconnect:r,refresh:a,isLoading:s}}_f.useConnectors=q_e,Object.defineProperty(vf,"__esModule",{value:!0}),vf.useAccount=void 0;const uO=Ie,Z_e=_f,X_e=Us;function Y_e({onConnect:e,onDisconnect:t}={}){const{account:r}=(0,X_e.useStarknet)(),{connectors:n}=(0,Z_e.useConnectors)(),[i,s]=(0,uO.useState)({status:"disconnected"}),o=(0,uO.useCallback)(async()=>{if(!r)return!i.isDisconnected&&t!==void 0&&t(),s({status:"disconnected",isDisconnected:!0,isConnected:!1,isConnecting:!1,isReconnecting:!1});for(const a of n){if(!a.available())continue;const u=await a.account();if(u&&(u==null?void 0:u.address)===r)return i.isDisconnected&&e!==void 0&&e({address:r,connector:a}),s({connector:a,account:u,address:r,status:"connected",isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1})}},[s,r,n,e,t,i.isDisconnected]);return(0,uO.useEffect)(()=>{o()},[o]),i}vf.useAccount=Y_e;var sg={},Nc={},Dc={};Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.useBlockNumber=Dc.useBlock=void 0;const X7=js,Y7=Us;function K_e({refetchInterval:e,onSuccess:t,blockIdentifier:r="latest"}={}){const{library:n}=(0,Y7.useStarknet)(),{data:i,error:s,isStale:o,isLoading:a,isFetching:u,isSuccess:l,isError:h,isFetched:f,isFetchedAfterMount:p,isRefetching:m,refetch:y,status:v}=(0,X7.useQuery)(["block",r],K7({library:n,args:{blockIdentifier:r}}),{refetchInterval:e,useErrorBoundary:!0,onSuccess:w=>{w&&t&&t(w)}});return{data:i,error:s,isIdle:o,isLoading:a,isFetching:u,isSuccess:l,isError:h,isFetched:f,isFetchedAfterMount:p,isRefetching:m,refetch:y,status:v}}Dc.useBlock=K_e;function K7({library:e,args:t}){return async()=>await e.getBlock(t.blockIdentifier)}function Q_e({refetchInterval:e,onSuccess:t}={}){const{library:r}=(0,Y7.useStarknet)(),{data:n,error:i,isStale:s,isLoading:o,isFetching:a,isSuccess:u,isError:l,isFetched:h,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,X7.useQuery)(["block","latest"],K7({library:r,args:{blockIdentifier:"latest"}}),{refetchInterval:e,useErrorBoundary:!0,onSuccess:v=>{v&&t&&t(v.block_number)}});return{data:n==null?void 0:n.block_number,error:i,isIdle:s,isLoading:o,isFetching:a,isSuccess:u,isError:l,isFetched:h,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}Dc.useBlockNumber=Q_e,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.useInvalidateOnBlock=void 0;const J_e=js,e0e=Ie,t0e=Dc;function r0e({enabled:e,queryKey:t}){const r=(0,J_e.useQueryClient)(),[n,i]=(0,e0e.useState)(void 0);(0,t0e.useBlock)({refetchInterval:5e3,onSuccess:e?async s=>{s.block_hash!==n&&(await r.invalidateQueries(t,{refetchType:"all"}),i(s.block_hash))}:void 0})}Nc.useInvalidateOnBlock=r0e;var Q7={},J7={},lO={},No={},$1={},og={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getParsedType=e.ZodParsedType=e.objectUtil=e.util=void 0;var t;(function(n){n.assertEqual=a=>a;function i(a){}n.assertIs=i;function s(a){throw new Error}n.assertNever=s,n.arrayToEnum=a=>{const u={};for(const l of a)u[l]=l;return u},n.getValidEnumValues=a=>{const u=n.objectKeys(a).filter(h=>typeof a[a[h]]!="number"),l={};for(const h of u)l[h]=a[h];return n.objectValues(l)},n.objectValues=a=>n.objectKeys(a).map(function(u){return a[u]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const u=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&u.push(l);return u},n.find=(a,u)=>{for(const l of a)if(u(l))return l},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function o(a,u=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(a,u)=>typeof u=="bigint"?u.toString():u})(t=e.util||(e.util={})),function(n){n.mergeShapes=(i,s)=>({...i,...s})}(e.objectUtil||(e.objectUtil={})),e.ZodParsedType=t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const r=n=>{switch(typeof n){case"undefined":return e.ZodParsedType.undefined;case"string":return e.ZodParsedType.string;case"number":return isNaN(n)?e.ZodParsedType.nan:e.ZodParsedType.number;case"boolean":return e.ZodParsedType.boolean;case"function":return e.ZodParsedType.function;case"bigint":return e.ZodParsedType.bigint;case"symbol":return e.ZodParsedType.symbol;case"object":return Array.isArray(n)?e.ZodParsedType.array:n===null?e.ZodParsedType.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?e.ZodParsedType.promise:typeof Map<"u"&&n instanceof Map?e.ZodParsedType.map:typeof Set<"u"&&n instanceof Set?e.ZodParsedType.set:typeof Date<"u"&&n instanceof Date?e.ZodParsedType.date:e.ZodParsedType.object;default:return e.ZodParsedType.unknown}};e.getParsedType=r})(og);var Do={};Object.defineProperty(Do,"__esModule",{value:!0}),Do.ZodError=Do.quotelessJson=Do.ZodIssueCode=void 0;const eH=og;Do.ZodIssueCode=eH.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const n0e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");Do.quotelessJson=n0e;class cO extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,eH.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Do.ZodError=cO,cO.create=e=>new cO(e),Object.defineProperty($1,"__esModule",{value:!0});const Lc=og,hn=Do,i0e=(e,t)=>{let r;switch(e.code){case hn.ZodIssueCode.invalid_type:e.received===Lc.ZodParsedType.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case hn.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Lc.util.jsonStringifyReplacer)}`;break;case hn.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${Lc.util.joinValues(e.keys,", ")}`;break;case hn.ZodIssueCode.invalid_union:r="Invalid input";break;case hn.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Lc.util.joinValues(e.options)}`;break;case hn.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${Lc.util.joinValues(e.options)}, received '${e.received}'`;break;case hn.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case hn.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case hn.ZodIssueCode.invalid_date:r="Invalid date";break;case hn.ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Lc.util.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case hn.ZodIssueCode.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case hn.ZodIssueCode.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case hn.ZodIssueCode.custom:r="Invalid input";break;case hn.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case hn.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case hn.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,Lc.util.assertNever(e)}return{message:r}};$1.default=i0e;var s0e=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(No,"__esModule",{value:!0}),No.getErrorMap=No.setErrorMap=No.defaultErrorMap=void 0;const tH=s0e($1);No.defaultErrorMap=tH.default;let rH=tH.default;function o0e(e){rH=e}No.setErrorMap=o0e;function a0e(){return rH}No.getErrorMap=a0e;var hO={};(function(e){var t=Ye&&Ye.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.isAsync=e.isValid=e.isDirty=e.isAborted=e.OK=e.DIRTY=e.INVALID=e.ParseStatus=e.addIssueToContext=e.EMPTY_PATH=e.makeIssue=void 0;const r=No,n=t($1),i=m=>{const{data:y,path:v,errorMaps:w,issueData:_}=m,x=[...v,..._.path||[]],E={..._,path:x};let T="";const R=w.filter(P=>!!P).slice().reverse();for(const P of R)T=P(E,{data:y,defaultError:T}).message;return{..._,path:x,message:_.message||T}};e.makeIssue=i,e.EMPTY_PATH=[];function s(m,y){const v=(0,e.makeIssue)({issueData:y,data:m.data,path:m.path,errorMaps:[m.common.contextualErrorMap,m.schemaErrorMap,(0,r.getErrorMap)(),n.default].filter(w=>!!w)});m.common.issues.push(v)}e.addIssueToContext=s;class o{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(y,v){const w=[];for(const _ of v){if(_.status==="aborted")return e.INVALID;_.status==="dirty"&&y.dirty(),w.push(_.value)}return{status:y.value,value:w}}static async mergeObjectAsync(y,v){const w=[];for(const _ of v)w.push({key:await _.key,value:await _.value});return o.mergeObjectSync(y,w)}static mergeObjectSync(y,v){const w={};for(const _ of v){const{key:x,value:E}=_;if(x.status==="aborted"||E.status==="aborted")return e.INVALID;x.status==="dirty"&&y.dirty(),E.status==="dirty"&&y.dirty(),x.value!=="__proto__"&&(typeof E.value<"u"||_.alwaysSet)&&(w[x.value]=E.value)}return{status:y.value,value:w}}}e.ParseStatus=o,e.INVALID=Object.freeze({status:"aborted"});const a=m=>({status:"dirty",value:m});e.DIRTY=a;const u=m=>({status:"valid",value:m});e.OK=u;const l=m=>m.status==="aborted";e.isAborted=l;const h=m=>m.status==="dirty";e.isDirty=h;const f=m=>m.status==="valid";e.isValid=f;const p=m=>typeof Promise<"u"&&m instanceof Promise;e.isAsync=p})(hO);var nH={};Object.defineProperty(nH,"__esModule",{value:!0});var iH={},sH={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorUtil=void 0,function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r==null?void 0:r.message}(e.errorUtil||(e.errorUtil={}))})(sH),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.date=e.boolean=e.bigint=e.array=e.any=e.coerce=e.ZodFirstPartyTypeKind=e.late=e.ZodSchema=e.Schema=e.custom=e.ZodReadonly=e.ZodPipeline=e.ZodBranded=e.BRAND=e.ZodNaN=e.ZodCatch=e.ZodDefault=e.ZodNullable=e.ZodOptional=e.ZodTransformer=e.ZodEffects=e.ZodPromise=e.ZodNativeEnum=e.ZodEnum=e.ZodLiteral=e.ZodLazy=e.ZodFunction=e.ZodSet=e.ZodMap=e.ZodRecord=e.ZodTuple=e.ZodIntersection=e.ZodDiscriminatedUnion=e.ZodUnion=e.ZodObject=e.ZodArray=e.ZodVoid=e.ZodNever=e.ZodUnknown=e.ZodAny=e.ZodNull=e.ZodUndefined=e.ZodSymbol=e.ZodDate=e.ZodBoolean=e.ZodBigInt=e.ZodNumber=e.ZodString=e.ZodType=void 0,e.NEVER=e.void=e.unknown=e.union=e.undefined=e.tuple=e.transformer=e.symbol=e.string=e.strictObject=e.set=e.record=e.promise=e.preprocess=e.pipeline=e.ostring=e.optional=e.onumber=e.oboolean=e.object=e.number=e.nullable=e.null=e.never=e.nativeEnum=e.nan=e.map=e.literal=e.lazy=e.intersection=e.instanceof=e.function=e.enum=e.effect=e.discriminatedUnion=void 0;const t=No,r=sH,n=hO,i=og,s=Do;class o{constructor(A,C,B,j){this._cachedPath=[],this.parent=A,this.data=C,this._path=B,this._key=j}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a=($,A)=>{if((0,n.isValid)(A))return{success:!0,data:A.value};if(!$.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const C=new s.ZodError($.common.issues);return this._error=C,this._error}}};function u($){if(!$)return{};const{errorMap:A,invalid_type_error:C,required_error:B,description:j}=$;if(A&&(C||B))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return A?{errorMap:A,description:j}:{errorMap:(de,ue)=>de.code!=="invalid_type"?{message:ue.defaultError}:typeof ue.data>"u"?{message:B??ue.defaultError}:{message:C??ue.defaultError},description:j}}class l{constructor(A){this.spa=this.safeParseAsync,this._def=A,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(A){return(0,i.getParsedType)(A.data)}_getOrReturnCtx(A,C){return C||{common:A.parent.common,data:A.data,parsedType:(0,i.getParsedType)(A.data),schemaErrorMap:this._def.errorMap,path:A.path,parent:A.parent}}_processInputParams(A){return{status:new n.ParseStatus,ctx:{common:A.parent.common,data:A.data,parsedType:(0,i.getParsedType)(A.data),schemaErrorMap:this._def.errorMap,path:A.path,parent:A.parent}}}_parseSync(A){const C=this._parse(A);if((0,n.isAsync)(C))throw new Error("Synchronous parse encountered promise.");return C}_parseAsync(A){const C=this._parse(A);return Promise.resolve(C)}parse(A,C){const B=this.safeParse(A,C);if(B.success)return B.data;throw B.error}safeParse(A,C){var B;const j={common:{issues:[],async:(B=C==null?void 0:C.async)!==null&&B!==void 0?B:!1,contextualErrorMap:C==null?void 0:C.errorMap},path:(C==null?void 0:C.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:A,parsedType:(0,i.getParsedType)(A)},de=this._parseSync({data:A,path:j.path,parent:j});return a(j,de)}async parseAsync(A,C){const B=await this.safeParseAsync(A,C);if(B.success)return B.data;throw B.error}async safeParseAsync(A,C){const B={common:{issues:[],contextualErrorMap:C==null?void 0:C.errorMap,async:!0},path:(C==null?void 0:C.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:A,parsedType:(0,i.getParsedType)(A)},j=this._parse({data:A,path:B.path,parent:B}),de=await((0,n.isAsync)(j)?j:Promise.resolve(j));return a(B,de)}refine(A,C){const B=j=>typeof C=="string"||typeof C>"u"?{message:C}:typeof C=="function"?C(j):C;return this._refinement((j,de)=>{const ue=A(j),se=()=>de.addIssue({code:s.ZodIssueCode.custom,...B(j)});return typeof Promise<"u"&&ue instanceof Promise?ue.then(xe=>xe?!0:(se(),!1)):ue?!0:(se(),!1)})}refinement(A,C){return this._refinement((B,j)=>A(B)?!0:(j.addIssue(typeof C=="function"?C(B,j):C),!1))}_refinement(A){return new Dn({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:A}})}superRefine(A){return this._refinement(A)}optional(){return dn.create(this,this._def)}nullable(){return Pa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return N.create(this,this._def)}promise(){return Kt.create(this,this._def)}or(A){return q.create([this,A],this._def)}and(A){return Ne.create(this,A,this._def)}transform(A){return new Dn({...u(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:A}})}default(A){const C=typeof A=="function"?A:()=>A;return new Ws({...u(this._def),innerType:this,defaultValue:C,typeName:$e.ZodDefault})}brand(){return new iw({typeName:$e.ZodBranded,type:this,...u(this._def)})}catch(A){const C=typeof A=="function"?A:()=>A;return new If({...u(this._def),innerType:this,catchValue:C,typeName:$e.ZodCatch})}describe(A){const C=this.constructor;return new C({...this._def,description:A})}pipe(A){return qs.create(this,A)}readonly(){return kf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}e.ZodType=l,e.Schema=l,e.ZodSchema=l;const h=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,p=/^[0-9A-HJKMNP-TV-Z]{26}$/,m=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,v="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w;const _=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,x=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E=$=>$.precision?$.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${$.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${$.precision}}Z$`):$.precision===0?$.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):$.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function T($,A){return!!((A==="v4"||!A)&&_.test($)||(A==="v6"||!A)&&x.test($))}class R extends l{_parse(A){if(this._def.coerce&&(A.data=String(A.data)),this._getType(A)!==i.ZodParsedType.string){const j=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(j,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:j.parsedType}),n.INVALID}const C=new n.ParseStatus;let B;for(const j of this._def.checks)if(j.kind==="min")A.data.length<j.value&&(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),C.dirty());else if(j.kind==="max")A.data.length>j.value&&(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!1,message:j.message}),C.dirty());else if(j.kind==="length"){const de=A.data.length>j.value,ue=A.data.length<j.value;(de||ue)&&(B=this._getOrReturnCtx(A,B),de?(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_big,maximum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}):ue&&(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_small,minimum:j.value,type:"string",inclusive:!0,exact:!0,message:j.message}),C.dirty())}else if(j.kind==="email")y.test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"email",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty());else if(j.kind==="emoji")w||(w=new RegExp(v,"u")),w.test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty());else if(j.kind==="uuid")m.test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty());else if(j.kind==="cuid")h.test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty());else if(j.kind==="cuid2")f.test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty());else if(j.kind==="ulid")p.test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty());else if(j.kind==="url")try{new URL(A.data)}catch{B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"url",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty()}else j.kind==="regex"?(j.regex.lastIndex=0,j.regex.test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty())):j.kind==="trim"?A.data=A.data.trim():j.kind==="includes"?A.data.includes(j.value,j.position)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_string,validation:{includes:j.value,position:j.position},message:j.message}),C.dirty()):j.kind==="toLowerCase"?A.data=A.data.toLowerCase():j.kind==="toUpperCase"?A.data=A.data.toUpperCase():j.kind==="startsWith"?A.data.startsWith(j.value)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:j.value},message:j.message}),C.dirty()):j.kind==="endsWith"?A.data.endsWith(j.value)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:j.value},message:j.message}),C.dirty()):j.kind==="datetime"?E(j).test(A.data)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:j.message}),C.dirty()):j.kind==="ip"?T(A.data,j.version)||(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:j.message}),C.dirty()):i.util.assertNever(j);return{status:C.value,value:A.data}}_regex(A,C,B){return this.refinement(j=>A.test(j),{validation:C,code:s.ZodIssueCode.invalid_string,...r.errorUtil.errToObj(B)})}_addCheck(A){return new R({...this._def,checks:[...this._def.checks,A]})}email(A){return this._addCheck({kind:"email",...r.errorUtil.errToObj(A)})}url(A){return this._addCheck({kind:"url",...r.errorUtil.errToObj(A)})}emoji(A){return this._addCheck({kind:"emoji",...r.errorUtil.errToObj(A)})}uuid(A){return this._addCheck({kind:"uuid",...r.errorUtil.errToObj(A)})}cuid(A){return this._addCheck({kind:"cuid",...r.errorUtil.errToObj(A)})}cuid2(A){return this._addCheck({kind:"cuid2",...r.errorUtil.errToObj(A)})}ulid(A){return this._addCheck({kind:"ulid",...r.errorUtil.errToObj(A)})}ip(A){return this._addCheck({kind:"ip",...r.errorUtil.errToObj(A)})}datetime(A){var C;return typeof A=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:A}):this._addCheck({kind:"datetime",precision:typeof(A==null?void 0:A.precision)>"u"?null:A==null?void 0:A.precision,offset:(C=A==null?void 0:A.offset)!==null&&C!==void 0?C:!1,...r.errorUtil.errToObj(A==null?void 0:A.message)})}regex(A,C){return this._addCheck({kind:"regex",regex:A,...r.errorUtil.errToObj(C)})}includes(A,C){return this._addCheck({kind:"includes",value:A,position:C==null?void 0:C.position,...r.errorUtil.errToObj(C==null?void 0:C.message)})}startsWith(A,C){return this._addCheck({kind:"startsWith",value:A,...r.errorUtil.errToObj(C)})}endsWith(A,C){return this._addCheck({kind:"endsWith",value:A,...r.errorUtil.errToObj(C)})}min(A,C){return this._addCheck({kind:"min",value:A,...r.errorUtil.errToObj(C)})}max(A,C){return this._addCheck({kind:"max",value:A,...r.errorUtil.errToObj(C)})}length(A,C){return this._addCheck({kind:"length",value:A,...r.errorUtil.errToObj(C)})}nonempty(A){return this.min(1,r.errorUtil.errToObj(A))}trim(){return new R({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new R({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new R({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(A=>A.kind==="datetime")}get isEmail(){return!!this._def.checks.find(A=>A.kind==="email")}get isURL(){return!!this._def.checks.find(A=>A.kind==="url")}get isEmoji(){return!!this._def.checks.find(A=>A.kind==="emoji")}get isUUID(){return!!this._def.checks.find(A=>A.kind==="uuid")}get isCUID(){return!!this._def.checks.find(A=>A.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(A=>A.kind==="cuid2")}get isULID(){return!!this._def.checks.find(A=>A.kind==="ulid")}get isIP(){return!!this._def.checks.find(A=>A.kind==="ip")}get minLength(){let A=null;for(const C of this._def.checks)C.kind==="min"&&(A===null||C.value>A)&&(A=C.value);return A}get maxLength(){let A=null;for(const C of this._def.checks)C.kind==="max"&&(A===null||C.value<A)&&(A=C.value);return A}}e.ZodString=R,R.create=$=>{var A;return new R({checks:[],typeName:$e.ZodString,coerce:(A=$==null?void 0:$.coerce)!==null&&A!==void 0?A:!1,...u($)})};function P($,A){const C=($.toString().split(".")[1]||"").length,B=(A.toString().split(".")[1]||"").length,j=C>B?C:B,de=parseInt($.toFixed(j).replace(".","")),ue=parseInt(A.toFixed(j).replace(".",""));return de%ue/Math.pow(10,j)}class k extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(A){if(this._def.coerce&&(A.data=Number(A.data)),this._getType(A)!==i.ZodParsedType.number){const j=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(j,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:j.parsedType}),n.INVALID}let C;const B=new n.ParseStatus;for(const j of this._def.checks)j.kind==="int"?i.util.isInteger(A.data)||(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:j.message}),B.dirty()):j.kind==="min"?(j.inclusive?A.data<j.value:A.data<=j.value)&&(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.too_small,minimum:j.value,type:"number",inclusive:j.inclusive,exact:!1,message:j.message}),B.dirty()):j.kind==="max"?(j.inclusive?A.data>j.value:A.data>=j.value)&&(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.too_big,maximum:j.value,type:"number",inclusive:j.inclusive,exact:!1,message:j.message}),B.dirty()):j.kind==="multipleOf"?P(A.data,j.value)!==0&&(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.not_multiple_of,multipleOf:j.value,message:j.message}),B.dirty()):j.kind==="finite"?Number.isFinite(A.data)||(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.not_finite,message:j.message}),B.dirty()):i.util.assertNever(j);return{status:B.value,value:A.data}}gte(A,C){return this.setLimit("min",A,!0,r.errorUtil.toString(C))}gt(A,C){return this.setLimit("min",A,!1,r.errorUtil.toString(C))}lte(A,C){return this.setLimit("max",A,!0,r.errorUtil.toString(C))}lt(A,C){return this.setLimit("max",A,!1,r.errorUtil.toString(C))}setLimit(A,C,B,j){return new k({...this._def,checks:[...this._def.checks,{kind:A,value:C,inclusive:B,message:r.errorUtil.toString(j)}]})}_addCheck(A){return new k({...this._def,checks:[...this._def.checks,A]})}int(A){return this._addCheck({kind:"int",message:r.errorUtil.toString(A)})}positive(A){return this._addCheck({kind:"min",value:0,inclusive:!1,message:r.errorUtil.toString(A)})}negative(A){return this._addCheck({kind:"max",value:0,inclusive:!1,message:r.errorUtil.toString(A)})}nonpositive(A){return this._addCheck({kind:"max",value:0,inclusive:!0,message:r.errorUtil.toString(A)})}nonnegative(A){return this._addCheck({kind:"min",value:0,inclusive:!0,message:r.errorUtil.toString(A)})}multipleOf(A,C){return this._addCheck({kind:"multipleOf",value:A,message:r.errorUtil.toString(C)})}finite(A){return this._addCheck({kind:"finite",message:r.errorUtil.toString(A)})}safe(A){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:r.errorUtil.toString(A)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:r.errorUtil.toString(A)})}get minValue(){let A=null;for(const C of this._def.checks)C.kind==="min"&&(A===null||C.value>A)&&(A=C.value);return A}get maxValue(){let A=null;for(const C of this._def.checks)C.kind==="max"&&(A===null||C.value<A)&&(A=C.value);return A}get isInt(){return!!this._def.checks.find(A=>A.kind==="int"||A.kind==="multipleOf"&&i.util.isInteger(A.value))}get isFinite(){let A=null,C=null;for(const B of this._def.checks){if(B.kind==="finite"||B.kind==="int"||B.kind==="multipleOf")return!0;B.kind==="min"?(C===null||B.value>C)&&(C=B.value):B.kind==="max"&&(A===null||B.value<A)&&(A=B.value)}return Number.isFinite(C)&&Number.isFinite(A)}}e.ZodNumber=k,k.create=$=>new k({checks:[],typeName:$e.ZodNumber,coerce:($==null?void 0:$.coerce)||!1,...u($)});class M extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(A){if(this._def.coerce&&(A.data=BigInt(A.data)),this._getType(A)!==i.ZodParsedType.bigint){const j=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(j,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:j.parsedType}),n.INVALID}let C;const B=new n.ParseStatus;for(const j of this._def.checks)j.kind==="min"?(j.inclusive?A.data<j.value:A.data<=j.value)&&(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:j.value,inclusive:j.inclusive,message:j.message}),B.dirty()):j.kind==="max"?(j.inclusive?A.data>j.value:A.data>=j.value)&&(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:j.value,inclusive:j.inclusive,message:j.message}),B.dirty()):j.kind==="multipleOf"?A.data%j.value!==BigInt(0)&&(C=this._getOrReturnCtx(A,C),(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.not_multiple_of,multipleOf:j.value,message:j.message}),B.dirty()):i.util.assertNever(j);return{status:B.value,value:A.data}}gte(A,C){return this.setLimit("min",A,!0,r.errorUtil.toString(C))}gt(A,C){return this.setLimit("min",A,!1,r.errorUtil.toString(C))}lte(A,C){return this.setLimit("max",A,!0,r.errorUtil.toString(C))}lt(A,C){return this.setLimit("max",A,!1,r.errorUtil.toString(C))}setLimit(A,C,B,j){return new M({...this._def,checks:[...this._def.checks,{kind:A,value:C,inclusive:B,message:r.errorUtil.toString(j)}]})}_addCheck(A){return new M({...this._def,checks:[...this._def.checks,A]})}positive(A){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:r.errorUtil.toString(A)})}negative(A){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:r.errorUtil.toString(A)})}nonpositive(A){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:r.errorUtil.toString(A)})}nonnegative(A){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:r.errorUtil.toString(A)})}multipleOf(A,C){return this._addCheck({kind:"multipleOf",value:A,message:r.errorUtil.toString(C)})}get minValue(){let A=null;for(const C of this._def.checks)C.kind==="min"&&(A===null||C.value>A)&&(A=C.value);return A}get maxValue(){let A=null;for(const C of this._def.checks)C.kind==="max"&&(A===null||C.value<A)&&(A=C.value);return A}}e.ZodBigInt=M,M.create=$=>{var A;return new M({checks:[],typeName:$e.ZodBigInt,coerce:(A=$==null?void 0:$.coerce)!==null&&A!==void 0?A:!1,...u($)})};class V extends l{_parse(A){if(this._def.coerce&&(A.data=!!A.data),this._getType(A)!==i.ZodParsedType.boolean){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:C.parsedType}),n.INVALID}return(0,n.OK)(A.data)}}e.ZodBoolean=V,V.create=$=>new V({typeName:$e.ZodBoolean,coerce:($==null?void 0:$.coerce)||!1,...u($)});class H extends l{_parse(A){if(this._def.coerce&&(A.data=new Date(A.data)),this._getType(A)!==i.ZodParsedType.date){const j=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(j,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:j.parsedType}),n.INVALID}if(isNaN(A.data.getTime())){const j=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(j,{code:s.ZodIssueCode.invalid_date}),n.INVALID}const C=new n.ParseStatus;let B;for(const j of this._def.checks)j.kind==="min"?A.data.getTime()<j.value&&(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_small,message:j.message,inclusive:!0,exact:!1,minimum:j.value,type:"date"}),C.dirty()):j.kind==="max"?A.data.getTime()>j.value&&(B=this._getOrReturnCtx(A,B),(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_big,message:j.message,inclusive:!0,exact:!1,maximum:j.value,type:"date"}),C.dirty()):i.util.assertNever(j);return{status:C.value,value:new Date(A.data.getTime())}}_addCheck(A){return new H({...this._def,checks:[...this._def.checks,A]})}min(A,C){return this._addCheck({kind:"min",value:A.getTime(),message:r.errorUtil.toString(C)})}max(A,C){return this._addCheck({kind:"max",value:A.getTime(),message:r.errorUtil.toString(C)})}get minDate(){let A=null;for(const C of this._def.checks)C.kind==="min"&&(A===null||C.value>A)&&(A=C.value);return A!=null?new Date(A):null}get maxDate(){let A=null;for(const C of this._def.checks)C.kind==="max"&&(A===null||C.value<A)&&(A=C.value);return A!=null?new Date(A):null}}e.ZodDate=H,H.create=$=>new H({checks:[],coerce:($==null?void 0:$.coerce)||!1,typeName:$e.ZodDate,...u($)});class X extends l{_parse(A){if(this._getType(A)!==i.ZodParsedType.symbol){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:C.parsedType}),n.INVALID}return(0,n.OK)(A.data)}}e.ZodSymbol=X,X.create=$=>new X({typeName:$e.ZodSymbol,...u($)});class Q extends l{_parse(A){if(this._getType(A)!==i.ZodParsedType.undefined){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:C.parsedType}),n.INVALID}return(0,n.OK)(A.data)}}e.ZodUndefined=Q,Q.create=$=>new Q({typeName:$e.ZodUndefined,...u($)});class W extends l{_parse(A){if(this._getType(A)!==i.ZodParsedType.null){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:C.parsedType}),n.INVALID}return(0,n.OK)(A.data)}}e.ZodNull=W,W.create=$=>new W({typeName:$e.ZodNull,...u($)});class G extends l{constructor(){super(...arguments),this._any=!0}_parse(A){return(0,n.OK)(A.data)}}e.ZodAny=G,G.create=$=>new G({typeName:$e.ZodAny,...u($)});class O extends l{constructor(){super(...arguments),this._unknown=!0}_parse(A){return(0,n.OK)(A.data)}}e.ZodUnknown=O,O.create=$=>new O({typeName:$e.ZodUnknown,...u($)});class D extends l{_parse(A){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:C.parsedType}),n.INVALID}}e.ZodNever=D,D.create=$=>new D({typeName:$e.ZodNever,...u($)});class L extends l{_parse(A){if(this._getType(A)!==i.ZodParsedType.undefined){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:C.parsedType}),n.INVALID}return(0,n.OK)(A.data)}}e.ZodVoid=L,L.create=$=>new L({typeName:$e.ZodVoid,...u($)});class N extends l{_parse(A){const{ctx:C,status:B}=this._processInputParams(A),j=this._def;if(C.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:C.parsedType}),n.INVALID;if(j.exactLength!==null){const ue=C.data.length>j.exactLength.value,se=C.data.length<j.exactLength.value;(ue||se)&&((0,n.addIssueToContext)(C,{code:ue?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:se?j.exactLength.value:void 0,maximum:ue?j.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:j.exactLength.message}),B.dirty())}if(j.minLength!==null&&C.data.length<j.minLength.value&&((0,n.addIssueToContext)(C,{code:s.ZodIssueCode.too_small,minimum:j.minLength.value,type:"array",inclusive:!0,exact:!1,message:j.minLength.message}),B.dirty()),j.maxLength!==null&&C.data.length>j.maxLength.value&&((0,n.addIssueToContext)(C,{code:s.ZodIssueCode.too_big,maximum:j.maxLength.value,type:"array",inclusive:!0,exact:!1,message:j.maxLength.message}),B.dirty()),C.common.async)return Promise.all([...C.data].map((ue,se)=>j.type._parseAsync(new o(C,ue,C.path,se)))).then(ue=>n.ParseStatus.mergeArray(B,ue));const de=[...C.data].map((ue,se)=>j.type._parseSync(new o(C,ue,C.path,se)));return n.ParseStatus.mergeArray(B,de)}get element(){return this._def.type}min(A,C){return new N({...this._def,minLength:{value:A,message:r.errorUtil.toString(C)}})}max(A,C){return new N({...this._def,maxLength:{value:A,message:r.errorUtil.toString(C)}})}length(A,C){return new N({...this._def,exactLength:{value:A,message:r.errorUtil.toString(C)}})}nonempty(A){return this.min(1,A)}}e.ZodArray=N,N.create=($,A)=>new N({type:$,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...u(A)});function z($){if($ instanceof U){const A={};for(const C in $.shape){const B=$.shape[C];A[C]=dn.create(z(B))}return new U({...$._def,shape:()=>A})}else return $ instanceof N?new N({...$._def,type:z($.element)}):$ instanceof dn?dn.create(z($.unwrap())):$ instanceof Pa?Pa.create(z($.unwrap())):$ instanceof we?we.create($.items.map(A=>z(A))):$}class U extends l{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const A=this._def.shape(),C=i.util.objectKeys(A);return this._cached={shape:A,keys:C}}_parse(A){if(this._getType(A)!==i.ZodParsedType.object){const xe=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(xe,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:xe.parsedType}),n.INVALID}const{status:C,ctx:B}=this._processInputParams(A),{shape:j,keys:de}=this._getCached(),ue=[];if(!(this._def.catchall instanceof D&&this._def.unknownKeys==="strip"))for(const xe in B.data)de.includes(xe)||ue.push(xe);const se=[];for(const xe of de){const je=j[xe],vt=B.data[xe];se.push({key:{status:"valid",value:xe},value:je._parse(new o(B,vt,B.path,xe)),alwaysSet:xe in B.data})}if(this._def.catchall instanceof D){const xe=this._def.unknownKeys;if(xe==="passthrough")for(const je of ue)se.push({key:{status:"valid",value:je},value:{status:"valid",value:B.data[je]}});else if(xe==="strict")ue.length>0&&((0,n.addIssueToContext)(B,{code:s.ZodIssueCode.unrecognized_keys,keys:ue}),C.dirty());else if(xe!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const xe=this._def.catchall;for(const je of ue){const vt=B.data[je];se.push({key:{status:"valid",value:je},value:xe._parse(new o(B,vt,B.path,je)),alwaysSet:je in B.data})}}return B.common.async?Promise.resolve().then(async()=>{const xe=[];for(const je of se){const vt=await je.key;xe.push({key:vt,value:await je.value,alwaysSet:je.alwaysSet})}return xe}).then(xe=>n.ParseStatus.mergeObjectSync(C,xe)):n.ParseStatus.mergeObjectSync(C,se)}get shape(){return this._def.shape()}strict(A){return r.errorUtil.errToObj,new U({...this._def,unknownKeys:"strict",...A!==void 0?{errorMap:(C,B)=>{var j,de,ue,se;const xe=(ue=(de=(j=this._def).errorMap)===null||de===void 0?void 0:de.call(j,C,B).message)!==null&&ue!==void 0?ue:B.defaultError;return C.code==="unrecognized_keys"?{message:(se=r.errorUtil.errToObj(A).message)!==null&&se!==void 0?se:xe}:{message:xe}}}:{}})}strip(){return new U({...this._def,unknownKeys:"strip"})}passthrough(){return new U({...this._def,unknownKeys:"passthrough"})}extend(A){return new U({...this._def,shape:()=>({...this._def.shape(),...A})})}merge(A){return new U({unknownKeys:A._def.unknownKeys,catchall:A._def.catchall,shape:()=>({...this._def.shape(),...A._def.shape()}),typeName:$e.ZodObject})}setKey(A,C){return this.augment({[A]:C})}catchall(A){return new U({...this._def,catchall:A})}pick(A){const C={};return i.util.objectKeys(A).forEach(B=>{A[B]&&this.shape[B]&&(C[B]=this.shape[B])}),new U({...this._def,shape:()=>C})}omit(A){const C={};return i.util.objectKeys(this.shape).forEach(B=>{A[B]||(C[B]=this.shape[B])}),new U({...this._def,shape:()=>C})}deepPartial(){return z(this)}partial(A){const C={};return i.util.objectKeys(this.shape).forEach(B=>{const j=this.shape[B];A&&!A[B]?C[B]=j:C[B]=j.optional()}),new U({...this._def,shape:()=>C})}required(A){const C={};return i.util.objectKeys(this.shape).forEach(B=>{if(A&&!A[B])C[B]=this.shape[B];else{let j=this.shape[B];for(;j instanceof dn;)j=j._def.innerType;C[B]=j}}),new U({...this._def,shape:()=>C})}keyof(){return Be(i.util.objectKeys(this.shape))}}e.ZodObject=U,U.create=($,A)=>new U({shape:()=>$,unknownKeys:"strip",catchall:D.create(),typeName:$e.ZodObject,...u(A)}),U.strictCreate=($,A)=>new U({shape:()=>$,unknownKeys:"strict",catchall:D.create(),typeName:$e.ZodObject,...u(A)}),U.lazycreate=($,A)=>new U({shape:$,unknownKeys:"strip",catchall:D.create(),typeName:$e.ZodObject,...u(A)});class q extends l{_parse(A){const{ctx:C}=this._processInputParams(A),B=this._def.options;function j(de){for(const se of de)if(se.result.status==="valid")return se.result;for(const se of de)if(se.result.status==="dirty")return C.common.issues.push(...se.ctx.common.issues),se.result;const ue=de.map(se=>new s.ZodError(se.ctx.common.issues));return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_union,unionErrors:ue}),n.INVALID}if(C.common.async)return Promise.all(B.map(async de=>{const ue={...C,common:{...C.common,issues:[]},parent:null};return{result:await de._parseAsync({data:C.data,path:C.path,parent:ue}),ctx:ue}})).then(j);{let de;const ue=[];for(const xe of B){const je={...C,common:{...C.common,issues:[]},parent:null},vt=xe._parseSync({data:C.data,path:C.path,parent:je});if(vt.status==="valid")return vt;vt.status==="dirty"&&!de&&(de={result:vt,ctx:je}),je.common.issues.length&&ue.push(je.common.issues)}if(de)return C.common.issues.push(...de.ctx.common.issues),de.result;const se=ue.map(xe=>new s.ZodError(xe));return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_union,unionErrors:se}),n.INVALID}}get options(){return this._def.options}}e.ZodUnion=q,q.create=($,A)=>new q({options:$,typeName:$e.ZodUnion,...u(A)});const J=$=>$ instanceof De?J($.schema):$ instanceof Dn?J($.innerType()):$ instanceof ke?[$.value]:$ instanceof st?$.options:$ instanceof St?Object.keys($.enum):$ instanceof Ws?J($._def.innerType):$ instanceof Q?[void 0]:$ instanceof W?[null]:null;class pe extends l{_parse(A){const{ctx:C}=this._processInputParams(A);if(C.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:C.parsedType}),n.INVALID;const B=this.discriminator,j=C.data[B],de=this.optionsMap.get(j);return de?C.common.async?de._parseAsync({data:C.data,path:C.path,parent:C}):de._parseSync({data:C.data,path:C.path,parent:C}):((0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[B]}),n.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(A,C,B){const j=new Map;for(const de of C){const ue=J(de.shape[A]);if(!ue)throw new Error(`A discriminator value for key \`${A}\` could not be extracted from all schema options`);for(const se of ue){if(j.has(se))throw new Error(`Discriminator property ${String(A)} has duplicate value ${String(se)}`);j.set(se,de)}}return new pe({typeName:$e.ZodDiscriminatedUnion,discriminator:A,options:C,optionsMap:j,...u(B)})}}e.ZodDiscriminatedUnion=pe;function fe($,A){const C=(0,i.getParsedType)($),B=(0,i.getParsedType)(A);if($===A)return{valid:!0,data:$};if(C===i.ZodParsedType.object&&B===i.ZodParsedType.object){const j=i.util.objectKeys(A),de=i.util.objectKeys($).filter(se=>j.indexOf(se)!==-1),ue={...$,...A};for(const se of de){const xe=fe($[se],A[se]);if(!xe.valid)return{valid:!1};ue[se]=xe.data}return{valid:!0,data:ue}}else if(C===i.ZodParsedType.array&&B===i.ZodParsedType.array){if($.length!==A.length)return{valid:!1};const j=[];for(let de=0;de<$.length;de++){const ue=$[de],se=A[de],xe=fe(ue,se);if(!xe.valid)return{valid:!1};j.push(xe.data)}return{valid:!0,data:j}}else return C===i.ZodParsedType.date&&B===i.ZodParsedType.date&&+$==+A?{valid:!0,data:$}:{valid:!1}}class Ne extends l{_parse(A){const{status:C,ctx:B}=this._processInputParams(A),j=(de,ue)=>{if((0,n.isAborted)(de)||(0,n.isAborted)(ue))return n.INVALID;const se=fe(de.value,ue.value);return se.valid?(((0,n.isDirty)(de)||(0,n.isDirty)(ue))&&C.dirty(),{status:C.value,value:se.data}):((0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_intersection_types}),n.INVALID)};return B.common.async?Promise.all([this._def.left._parseAsync({data:B.data,path:B.path,parent:B}),this._def.right._parseAsync({data:B.data,path:B.path,parent:B})]).then(([de,ue])=>j(de,ue)):j(this._def.left._parseSync({data:B.data,path:B.path,parent:B}),this._def.right._parseSync({data:B.data,path:B.path,parent:B}))}}e.ZodIntersection=Ne,Ne.create=($,A,C)=>new Ne({left:$,right:A,typeName:$e.ZodIntersection,...u(C)});class we extends l{_parse(A){const{status:C,ctx:B}=this._processInputParams(A);if(B.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:B.parsedType}),n.INVALID;if(B.data.length<this._def.items.length)return(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.INVALID;!this._def.rest&&B.data.length>this._def.items.length&&((0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C.dirty());const j=[...B.data].map((de,ue)=>{const se=this._def.items[ue]||this._def.rest;return se?se._parse(new o(B,de,B.path,ue)):null}).filter(de=>!!de);return B.common.async?Promise.all(j).then(de=>n.ParseStatus.mergeArray(C,de)):n.ParseStatus.mergeArray(C,j)}get items(){return this._def.items}rest(A){return new we({...this._def,rest:A})}}e.ZodTuple=we,we.create=($,A)=>{if(!Array.isArray($))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new we({items:$,typeName:$e.ZodTuple,rest:null,...u(A)})};class Ce extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(A){const{status:C,ctx:B}=this._processInputParams(A);if(B.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:B.parsedType}),n.INVALID;const j=[],de=this._def.keyType,ue=this._def.valueType;for(const se in B.data)j.push({key:de._parse(new o(B,se,B.path,se)),value:ue._parse(new o(B,B.data[se],B.path,se))});return B.common.async?n.ParseStatus.mergeObjectAsync(C,j):n.ParseStatus.mergeObjectSync(C,j)}get element(){return this._def.valueType}static create(A,C,B){return C instanceof l?new Ce({keyType:A,valueType:C,typeName:$e.ZodRecord,...u(B)}):new Ce({keyType:R.create(),valueType:A,typeName:$e.ZodRecord,...u(C)})}}e.ZodRecord=Ce;class lt extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(A){const{status:C,ctx:B}=this._processInputParams(A);if(B.parsedType!==i.ZodParsedType.map)return(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:B.parsedType}),n.INVALID;const j=this._def.keyType,de=this._def.valueType,ue=[...B.data.entries()].map(([se,xe],je)=>({key:j._parse(new o(B,se,B.path,[je,"key"])),value:de._parse(new o(B,xe,B.path,[je,"value"]))}));if(B.common.async){const se=new Map;return Promise.resolve().then(async()=>{for(const xe of ue){const je=await xe.key,vt=await xe.value;if(je.status==="aborted"||vt.status==="aborted")return n.INVALID;(je.status==="dirty"||vt.status==="dirty")&&C.dirty(),se.set(je.value,vt.value)}return{status:C.value,value:se}})}else{const se=new Map;for(const xe of ue){const je=xe.key,vt=xe.value;if(je.status==="aborted"||vt.status==="aborted")return n.INVALID;(je.status==="dirty"||vt.status==="dirty")&&C.dirty(),se.set(je.value,vt.value)}return{status:C.value,value:se}}}}e.ZodMap=lt,lt.create=($,A,C)=>new lt({valueType:A,keyType:$,typeName:$e.ZodMap,...u(C)});class Ge extends l{_parse(A){const{status:C,ctx:B}=this._processInputParams(A);if(B.parsedType!==i.ZodParsedType.set)return(0,n.addIssueToContext)(B,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:B.parsedType}),n.INVALID;const j=this._def;j.minSize!==null&&B.data.size<j.minSize.value&&((0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_small,minimum:j.minSize.value,type:"set",inclusive:!0,exact:!1,message:j.minSize.message}),C.dirty()),j.maxSize!==null&&B.data.size>j.maxSize.value&&((0,n.addIssueToContext)(B,{code:s.ZodIssueCode.too_big,maximum:j.maxSize.value,type:"set",inclusive:!0,exact:!1,message:j.maxSize.message}),C.dirty());const de=this._def.valueType;function ue(xe){const je=new Set;for(const vt of xe){if(vt.status==="aborted")return n.INVALID;vt.status==="dirty"&&C.dirty(),je.add(vt.value)}return{status:C.value,value:je}}const se=[...B.data.values()].map((xe,je)=>de._parse(new o(B,xe,B.path,je)));return B.common.async?Promise.all(se).then(xe=>ue(xe)):ue(se)}min(A,C){return new Ge({...this._def,minSize:{value:A,message:r.errorUtil.toString(C)}})}max(A,C){return new Ge({...this._def,maxSize:{value:A,message:r.errorUtil.toString(C)}})}size(A,C){return this.min(A,C).max(A,C)}nonempty(A){return this.min(1,A)}}e.ZodSet=Ge,Ge.create=($,A)=>new Ge({valueType:$,minSize:null,maxSize:null,typeName:$e.ZodSet,...u(A)});class ze extends l{constructor(){super(...arguments),this.validate=this.implement}_parse(A){const{ctx:C}=this._processInputParams(A);if(C.parsedType!==i.ZodParsedType.function)return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:C.parsedType}),n.INVALID;function B(se,xe){return(0,n.makeIssue)({data:se,path:C.path,errorMaps:[C.common.contextualErrorMap,C.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter(je=>!!je),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:xe}})}function j(se,xe){return(0,n.makeIssue)({data:se,path:C.path,errorMaps:[C.common.contextualErrorMap,C.schemaErrorMap,(0,t.getErrorMap)(),t.defaultErrorMap].filter(je=>!!je),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:xe}})}const de={errorMap:C.common.contextualErrorMap},ue=C.data;if(this._def.returns instanceof Kt){const se=this;return(0,n.OK)(async function(...xe){const je=new s.ZodError([]),vt=await se._def.args.parseAsync(xe,de).catch(Xi=>{throw je.addIssue(B(xe,Xi)),je}),gi=await Reflect.apply(ue,this,vt);return await se._def.returns._def.type.parseAsync(gi,de).catch(Xi=>{throw je.addIssue(j(gi,Xi)),je})})}else{const se=this;return(0,n.OK)(function(...xe){const je=se._def.args.safeParse(xe,de);if(!je.success)throw new s.ZodError([B(xe,je.error)]);const vt=Reflect.apply(ue,this,je.data),gi=se._def.returns.safeParse(vt,de);if(!gi.success)throw new s.ZodError([j(vt,gi.error)]);return gi.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...A){return new ze({...this._def,args:we.create(A).rest(O.create())})}returns(A){return new ze({...this._def,returns:A})}implement(A){return this.parse(A)}strictImplement(A){return this.parse(A)}static create(A,C,B){return new ze({args:A||we.create([]).rest(O.create()),returns:C||O.create(),typeName:$e.ZodFunction,...u(B)})}}e.ZodFunction=ze;class De extends l{get schema(){return this._def.getter()}_parse(A){const{ctx:C}=this._processInputParams(A);return this._def.getter()._parse({data:C.data,path:C.path,parent:C})}}e.ZodLazy=De,De.create=($,A)=>new De({getter:$,typeName:$e.ZodLazy,...u(A)});class ke extends l{_parse(A){if(A.data!==this._def.value){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{received:C.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),n.INVALID}return{status:"valid",value:A.data}}get value(){return this._def.value}}e.ZodLiteral=ke,ke.create=($,A)=>new ke({value:$,typeName:$e.ZodLiteral,...u(A)});function Be($,A){return new st({values:$,typeName:$e.ZodEnum,...u(A)})}class st extends l{_parse(A){if(typeof A.data!="string"){const C=this._getOrReturnCtx(A),B=this._def.values;return(0,n.addIssueToContext)(C,{expected:i.util.joinValues(B),received:C.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(this._def.values.indexOf(A.data)===-1){const C=this._getOrReturnCtx(A),B=this._def.values;return(0,n.addIssueToContext)(C,{received:C.data,code:s.ZodIssueCode.invalid_enum_value,options:B}),n.INVALID}return(0,n.OK)(A.data)}get options(){return this._def.values}get enum(){const A={};for(const C of this._def.values)A[C]=C;return A}get Values(){const A={};for(const C of this._def.values)A[C]=C;return A}get Enum(){const A={};for(const C of this._def.values)A[C]=C;return A}extract(A){return st.create(A)}exclude(A){return st.create(this.options.filter(C=>!A.includes(C)))}}e.ZodEnum=st,st.create=Be;class St extends l{_parse(A){const C=i.util.getValidEnumValues(this._def.values),B=this._getOrReturnCtx(A);if(B.parsedType!==i.ZodParsedType.string&&B.parsedType!==i.ZodParsedType.number){const j=i.util.objectValues(C);return(0,n.addIssueToContext)(B,{expected:i.util.joinValues(j),received:B.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(C.indexOf(A.data)===-1){const j=i.util.objectValues(C);return(0,n.addIssueToContext)(B,{received:B.data,code:s.ZodIssueCode.invalid_enum_value,options:j}),n.INVALID}return(0,n.OK)(A.data)}get enum(){return this._def.values}}e.ZodNativeEnum=St,St.create=($,A)=>new St({values:$,typeName:$e.ZodNativeEnum,...u(A)});class Kt extends l{unwrap(){return this._def.type}_parse(A){const{ctx:C}=this._processInputParams(A);if(C.parsedType!==i.ZodParsedType.promise&&C.common.async===!1)return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:C.parsedType}),n.INVALID;const B=C.parsedType===i.ZodParsedType.promise?C.data:Promise.resolve(C.data);return(0,n.OK)(B.then(j=>this._def.type.parseAsync(j,{path:C.path,errorMap:C.common.contextualErrorMap})))}}e.ZodPromise=Kt,Kt.create=($,A)=>new Kt({type:$,typeName:$e.ZodPromise,...u(A)});class Dn extends l{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(A){const{status:C,ctx:B}=this._processInputParams(A),j=this._def.effect||null,de={addIssue:ue=>{(0,n.addIssueToContext)(B,ue),ue.fatal?C.abort():C.dirty()},get path(){return B.path}};if(de.addIssue=de.addIssue.bind(de),j.type==="preprocess"){const ue=j.transform(B.data,de);return B.common.issues.length?{status:"dirty",value:B.data}:B.common.async?Promise.resolve(ue).then(se=>this._def.schema._parseAsync({data:se,path:B.path,parent:B})):this._def.schema._parseSync({data:ue,path:B.path,parent:B})}if(j.type==="refinement"){const ue=se=>{const xe=j.refinement(se,de);if(B.common.async)return Promise.resolve(xe);if(xe instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return se};if(B.common.async===!1){const se=this._def.schema._parseSync({data:B.data,path:B.path,parent:B});return se.status==="aborted"?n.INVALID:(se.status==="dirty"&&C.dirty(),ue(se.value),{status:C.value,value:se.value})}else return this._def.schema._parseAsync({data:B.data,path:B.path,parent:B}).then(se=>se.status==="aborted"?n.INVALID:(se.status==="dirty"&&C.dirty(),ue(se.value).then(()=>({status:C.value,value:se.value}))))}if(j.type==="transform")if(B.common.async===!1){const ue=this._def.schema._parseSync({data:B.data,path:B.path,parent:B});if(!(0,n.isValid)(ue))return ue;const se=j.transform(ue.value,de);if(se instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:C.value,value:se}}else return this._def.schema._parseAsync({data:B.data,path:B.path,parent:B}).then(ue=>(0,n.isValid)(ue)?Promise.resolve(j.transform(ue.value,de)).then(se=>({status:C.value,value:se})):ue);i.util.assertNever(j)}}e.ZodEffects=Dn,e.ZodTransformer=Dn,Dn.create=($,A,C)=>new Dn({schema:$,typeName:$e.ZodEffects,effect:A,...u(C)}),Dn.createWithPreprocess=($,A,C)=>new Dn({schema:A,effect:{type:"preprocess",transform:$},typeName:$e.ZodEffects,...u(C)});class dn extends l{_parse(A){return this._getType(A)===i.ZodParsedType.undefined?(0,n.OK)(void 0):this._def.innerType._parse(A)}unwrap(){return this._def.innerType}}e.ZodOptional=dn,dn.create=($,A)=>new dn({innerType:$,typeName:$e.ZodOptional,...u(A)});class Pa extends l{_parse(A){return this._getType(A)===i.ZodParsedType.null?(0,n.OK)(null):this._def.innerType._parse(A)}unwrap(){return this._def.innerType}}e.ZodNullable=Pa,Pa.create=($,A)=>new Pa({innerType:$,typeName:$e.ZodNullable,...u(A)});class Ws extends l{_parse(A){const{ctx:C}=this._processInputParams(A);let B=C.data;return C.parsedType===i.ZodParsedType.undefined&&(B=this._def.defaultValue()),this._def.innerType._parse({data:B,path:C.path,parent:C})}removeDefault(){return this._def.innerType}}e.ZodDefault=Ws,Ws.create=($,A)=>new Ws({innerType:$,typeName:$e.ZodDefault,defaultValue:typeof A.default=="function"?A.default:()=>A.default,...u(A)});class If extends l{_parse(A){const{ctx:C}=this._processInputParams(A),B={...C,common:{...C.common,issues:[]}},j=this._def.innerType._parse({data:B.data,path:B.path,parent:{...B}});return(0,n.isAsync)(j)?j.then(de=>({status:"valid",value:de.status==="valid"?de.value:this._def.catchValue({get error(){return new s.ZodError(B.common.issues)},input:B.data})})):{status:"valid",value:j.status==="valid"?j.value:this._def.catchValue({get error(){return new s.ZodError(B.common.issues)},input:B.data})}}removeCatch(){return this._def.innerType}}e.ZodCatch=If,If.create=($,A)=>new If({innerType:$,typeName:$e.ZodCatch,catchValue:typeof A.catch=="function"?A.catch:()=>A.catch,...u(A)});class Cf extends l{_parse(A){if(this._getType(A)!==i.ZodParsedType.nan){const C=this._getOrReturnCtx(A);return(0,n.addIssueToContext)(C,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:C.parsedType}),n.INVALID}return{status:"valid",value:A.data}}}e.ZodNaN=Cf,Cf.create=$=>new Cf({typeName:$e.ZodNaN,...u($)}),e.BRAND=Symbol("zod_brand");class iw extends l{_parse(A){const{ctx:C}=this._processInputParams(A),B=C.data;return this._def.type._parse({data:B,path:C.path,parent:C})}unwrap(){return this._def.type}}e.ZodBranded=iw;class qs extends l{_parse(A){const{status:C,ctx:B}=this._processInputParams(A);if(B.common.async)return(async()=>{const j=await this._def.in._parseAsync({data:B.data,path:B.path,parent:B});return j.status==="aborted"?n.INVALID:j.status==="dirty"?(C.dirty(),(0,n.DIRTY)(j.value)):this._def.out._parseAsync({data:j.value,path:B.path,parent:B})})();{const j=this._def.in._parseSync({data:B.data,path:B.path,parent:B});return j.status==="aborted"?n.INVALID:j.status==="dirty"?(C.dirty(),{status:"dirty",value:j.value}):this._def.out._parseSync({data:j.value,path:B.path,parent:B})}}static create(A,C){return new qs({in:A,out:C,typeName:$e.ZodPipeline})}}e.ZodPipeline=qs;class kf extends l{_parse(A){const C=this._def.innerType._parse(A);return(0,n.isValid)(C)&&(C.value=Object.freeze(C.value)),C}}e.ZodReadonly=kf,kf.create=($,A)=>new kf({innerType:$,typeName:$e.ZodReadonly,...u(A)});const TO=($,A={},C)=>$?G.create().superRefine((B,j)=>{var de,ue;if(!$(B)){const se=typeof A=="function"?A(B):typeof A=="string"?{message:A}:A,xe=(ue=(de=se.fatal)!==null&&de!==void 0?de:C)!==null&&ue!==void 0?ue:!0,je=typeof se=="string"?{message:se}:se;j.addIssue({code:"custom",...je,fatal:xe})}}):G.create();e.custom=TO,e.late={object:U.lazycreate};var $e;(function($){$.ZodString="ZodString",$.ZodNumber="ZodNumber",$.ZodNaN="ZodNaN",$.ZodBigInt="ZodBigInt",$.ZodBoolean="ZodBoolean",$.ZodDate="ZodDate",$.ZodSymbol="ZodSymbol",$.ZodUndefined="ZodUndefined",$.ZodNull="ZodNull",$.ZodAny="ZodAny",$.ZodUnknown="ZodUnknown",$.ZodNever="ZodNever",$.ZodVoid="ZodVoid",$.ZodArray="ZodArray",$.ZodObject="ZodObject",$.ZodUnion="ZodUnion",$.ZodDiscriminatedUnion="ZodDiscriminatedUnion",$.ZodIntersection="ZodIntersection",$.ZodTuple="ZodTuple",$.ZodRecord="ZodRecord",$.ZodMap="ZodMap",$.ZodSet="ZodSet",$.ZodFunction="ZodFunction",$.ZodLazy="ZodLazy",$.ZodLiteral="ZodLiteral",$.ZodEnum="ZodEnum",$.ZodEffects="ZodEffects",$.ZodNativeEnum="ZodNativeEnum",$.ZodOptional="ZodOptional",$.ZodNullable="ZodNullable",$.ZodDefault="ZodDefault",$.ZodCatch="ZodCatch",$.ZodPromise="ZodPromise",$.ZodBranded="ZodBranded",$.ZodPipeline="ZodPipeline",$.ZodReadonly="ZodReadonly"})($e=e.ZodFirstPartyTypeKind||(e.ZodFirstPartyTypeKind={}));const IO=($,A={message:`Input not instance of ${$.name}`})=>(0,e.custom)(C=>C instanceof $,A);e.instanceof=IO;const sw=R.create;e.string=sw;const ow=k.create;e.number=ow;const CO=Cf.create;e.nan=CO;const kO=M.create;e.bigint=kO;const aw=V.create;e.boolean=aw;const OO=H.create;e.date=OO;const PO=X.create;e.symbol=PO;const RO=Q.create;e.undefined=RO;const uw=W.create;e.null=uw;const MO=G.create;e.any=MO;const NO=O.create;e.unknown=NO;const DO=D.create;e.never=DO;const LO=L.create;e.void=LO;const BO=N.create;e.array=BO;const FO=U.create;e.object=FO;const lw=U.strictCreate;e.strictObject=lw;const cw=q.create;e.union=cw;const UO=pe.create;e.discriminatedUnion=UO;const fg=Ne.create;e.intersection=fg;const hw=we.create;e.tuple=hw;const dw=Ce.create;e.record=dw;const jO=lt.create;e.map=jO;const zO=Ge.create;e.set=zO;const HO=ze.create;e.function=HO;const fw=De.create;e.lazy=fw;const pg=ke.create;e.literal=pg;const GO=st.create;e.enum=GO;const $O=St.create;e.nativeEnum=$O;const Of=Kt.create;e.promise=Of;const pw=Dn.create;e.effect=pw,e.transformer=pw;const VO=dn.create;e.optional=VO;const WO=Pa.create;e.nullable=WO;const qO=Dn.createWithPreprocess;e.preprocess=qO;const ZO=qs.create;e.pipeline=ZO;const XO=()=>sw().optional();e.ostring=XO;const YO=()=>ow().optional();e.onumber=YO;const KO=()=>aw().optional();e.oboolean=KO,e.coerce={string:$=>R.create({...$,coerce:!0}),number:$=>k.create({...$,coerce:!0}),boolean:$=>V.create({...$,coerce:!0}),bigint:$=>M.create({...$,coerce:!0}),date:$=>H.create({...$,coerce:!0})},e.NEVER=n.INVALID}(iH),function(e){var t=Ye&&Ye.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Ye&&Ye.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(No,e),r(hO,e),r(nH,e),r(og,e),r(iH,e),r(Do,e)}(lO),function(e){var t=Ye&&Ye.__createBinding||(Object.create?function(o,a,u,l){l===void 0&&(l=u),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[u]}})}:function(o,a,u,l){l===void 0&&(l=u),o[l]=a[u]}),r=Ye&&Ye.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),n=Ye&&Ye.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&t(a,o,u);return r(a,o),a},i=Ye&&Ye.__exportStar||function(o,a){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.z=void 0;const s=n(lO);e.z=s,i(lO,e),e.default=s}(J7),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.balanceSchema=e.symbolSchema=e.decimalsSchema=e.uint256Schema=void 0;const t=J7;e.uint256Schema=t.z.object({low:t.z.bigint(),high:t.z.bigint()}),e.decimalsSchema=t.z.object({decimals:t.z.bigint()}),e.symbolSchema=t.z.object({symbol:t.z.bigint()}),e.balanceSchema=t.z.object({balance:e.uint256Schema})}(Q7);var oH;function u0e(){if(oH)return sg;oH=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.useBalance=void 0;const e=Ic,t=Ie,r=js,n=Nc,i=xH(),s=Q7,o="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",a=[{members:[{name:"low",offset:0,type:"felt"},{name:"high",offset:1,type:"felt"}],name:"Uint256",size:2,type:"struct"},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"felt"}],outputs:[{name:"balance",type:"Uint256"}],stateMutability:"view"},{inputs:[],name:"symbol",outputs:[{name:"symbol",type:"felt"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"decimals",type:"felt"}],stateMutability:"view",type:"function"}];function u({token:f=o,address:p,formatUnits:m,watch:y=!1,blockIdentifier:v="pending"}){const{chain:w}=(0,i.useNetwork)(),{contract:_}=(0,i.useContract)({abi:a,address:f}),x=(0,t.useMemo)(()=>h({chain:w,args:{contract:_,address:p,blockIdentifier:v}}),[w,_,p,v]),{data:E,error:T,isStale:R,isLoading:P,isFetching:k,isSuccess:M,isError:V,isFetched:H,isFetchedAfterMount:X,isRefetching:Q,refetch:W,status:G}=(0,r.useQuery)(x,l({args:{contract:_,address:p,blockIdentifier:v}}),{enabled:!!p});return(0,n.useInvalidateOnBlock)({enabled:y,queryKey:x}),{data:(0,t.useMemo)(()=>{if(!E)return;const{decimals:{decimals:O},balance:{balance:D},symbol:{symbol:L}}=E,N=Number(O),z=e.uint256.uint256ToBN(D),U=(Number(z.toString())/10**(m||N)).toString(),q=e.shortString.decodeShortString(e.num.toHex(L));return{decimals:N,formatted:U,symbol:q,value:z}},[E,m]),error:T??void 0,isIdle:R,isLoading:P,isFetching:k,isSuccess:M,isError:V,isFetched:H,isFetchedAfterMount:X,isRefetching:Q,refetch:W,status:G}}sg.useBalance=u;function l({args:f}){return async()=>{if(!f.address||!f.contract)return null;try{const[p,m,y]=await Promise.all([f.contract.call("balanceOf",[f.address],{parseResponse:!0}),f.contract.call("symbol",[]),f.contract.call("decimals",[])]),v=s.balanceSchema.parse(p),w=s.symbolSchema.parse(m),_=s.decimalsSchema.parse(y);return{balance:v,symbol:w,decimals:_}}catch{return null}}}function h({chain:f,args:p}){const{contract:m,address:y,blockIdentifier:v}=p;return[{entity:"balance",chainId:f==null?void 0:f.id,contract:m==null?void 0:m.address,args:y,blockIdentifier:v}]}return sg}var V1={},Bc={};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.useContractFactory=Bc.useContract=void 0;const aH=Ie,uH=Ic,l0e=Us;function c0e({abi:e,address:t}){const{library:r}=(0,l0e.useStarknet)();return{contract:(0,aH.useMemo)(()=>{if(e&&t&&r)return new uH.Contract(e,t,r)},[e,t,r])}}Bc.useContract=c0e;function h0e({compiledContract:e,classHash:t,abi:r,account:n}){return{contractFactory:(0,aH.useMemo)(()=>{if(e&&n&&t)return new uH.ContractFactory(e,t,n,r)},[e,t,n,r])}}Bc.useContractFactory=h0e;var Fc={},ag={};Object.defineProperty(ag,"__esModule",{value:!0}),ag.chainById=void 0;const bf=Ic;function d0e(e){return f0e[e]}ag.chainById=d0e;const f0e={[bf.constants.StarknetChainId.SN_MAIN]:{id:bf.constants.StarknetChainId.SN_MAIN,name:"Starknet Mainnet",testnet:!1},[bf.constants.StarknetChainId.SN_GOERLI]:{id:bf.constants.StarknetChainId.SN_GOERLI,name:"Starknet G\xF6rli"},[bf.constants.StarknetChainId.SN_GOERLI2]:{id:bf.constants.StarknetChainId.SN_GOERLI2,name:"Starknet G\xF6rli 2"}};Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.useNetwork=void 0;const lH=Ie,p0e=Us,m0e=ag;function y0e(){const{library:e}=(0,p0e.useStarknet)(),[t,r]=(0,lH.useState)();return(0,lH.useEffect)(()=>{e?e.getChainId().then(n=>r((0,m0e.chainById)(n))):r(void 0)},[e]),{chain:t}}Fc.useNetwork=y0e,Object.defineProperty(V1,"__esModule",{value:!0}),V1.useContractRead=void 0;const g0e=js,v0e=Ie,_0e=Bc,b0e=Nc,w0e=Fc;function x0e({abi:e,address:t,functionName:r,args:n,watch:i=!1,blockIdentifier:s="pending"}){const{chain:o}=(0,w0e.useNetwork)(),{contract:a}=(0,_0e.useContract)({abi:e,address:t}),u=(0,v0e.useMemo)(()=>S0e({chain:o,args:{contract:a,functionName:r,args:n,blockIdentifier:s}}),[o,a,r,n,s]),{data:l,error:h,isStale:f,isLoading:p,isFetching:m,isSuccess:y,isError:v,isFetched:w,isFetchedAfterMount:_,isRefetching:x,refetch:E,status:T}=(0,g0e.useQuery)(u,E0e({args:{contract:a,functionName:r,args:n,blockIdentifier:s}}));return(0,b0e.useInvalidateOnBlock)({enabled:i,queryKey:u}),{data:l,error:h??void 0,isIdle:f,isLoading:p,isFetching:m,isSuccess:y,isError:v,isFetched:w,isFetchedAfterMount:_,isRefetching:x,refetch:E,status:T}}V1.useContractRead=x0e;function E0e({args:e}){return async()=>{if(!e.args||!e.contract||!e.functionName||!(e.contract&&e.functionName))return null;const t=e.contract[e.functionName];if(!t)throw new Error(`Function ${e.functionName} not found on contract`);return await t(...e.args,{blockIdentifier:e.blockIdentifier})}}function S0e({chain:e,args:t}){const{contract:r,functionName:n,args:i,blockIdentifier:s}=t;return[{entity:"readContract",chain:e,contract:r==null?void 0:r.address,functionName:n,args:i,blockIdentifier:s}]}var W1={};Object.defineProperty(W1,"__esModule",{value:!0}),W1.useDeploy=void 0;const A0e=js,T0e=Ic;function I0e({contractFactory:e,constructorCalldata:t,addressSalt:r}){const{data:n,isLoading:i,error:s,reset:o,mutateAsync:a,mutate:u,isError:l,isIdle:h,isSuccess:f,status:p}=(0,A0e.useMutation)(C0e({contractFactory:e,constructorCalldata:t,addressSalt:r}));return{data:n,isLoading:i,error:s??void 0,reset:o,deploy:u,deployAsync:a,isError:l,isIdle:h,isSuccess:f,status:p}}W1.useDeploy=I0e;function C0e({contractFactory:e,constructorCalldata:t,addressSalt:r}){return async()=>{if(e===void 0)throw new Error("No contract factory defined");return await e.deploy(T0e.CallData.toCalldata(t),{addressSalt:r})}}var q1={};Object.defineProperty(q1,"__esModule",{value:!0}),q1.useContractWrite=void 0;const k0e=js,O0e=vf;function P0e({calls:e,metadata:t}){const{account:r}=(0,O0e.useAccount)(),{data:n,isLoading:i,error:s,reset:o,mutate:a,mutateAsync:u,isIdle:l,isSuccess:h,status:f,isError:p}=(0,k0e.useMutation)(R0e({account:r,args:{calls:e,metadata:t}}));return{data:n,error:s??void 0,reset:o,write:a,writeAsync:u,isError:p,isIdle:l,isLoading:i,isSuccess:h,status:f}}q1.useContractWrite=P0e;function R0e({account:e,args:t}){return async()=>{const{calls:r,metadata:n}=t;if(e===void 0)throw new Error("No connector connected");if(r===void 0)throw new Error("No calls specified");const i=await e.execute(r);return console.warn("TODO: ignoring metadata",n),i}}var Z1={};Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.useProvider=void 0;const M0e=Us;function N0e(){const{library:e}=(0,M0e.useStarknet)();return{provider:e}}Z1.useProvider=N0e;var X1={};Object.defineProperty(X1,"__esModule",{value:!0}),X1.useSignTypedData=void 0;const D0e=Ic,dO=Ie,L0e=vf,B0e=_f;function F0e(e,t){return t.type==="start_signing"?{...e,isLoading:!0}:t.type==="set_signature"?{...e,data:D0e.stark.formatSignature(t.data),isLoading:!1}:t.type==="set_error"?{...e,error:t.error,isLoading:!1}:t.type==="reset"?{...e,data:void 0,error:void 0,isLoading:!1}:e}function U0e(e){const[t,r]=(0,dO.useReducer)(F0e,{isLoading:!1}),{address:n}=(0,L0e.useAccount)(),{connectors:i}=(0,B0e.useConnectors)(),s=(0,dO.useCallback)(()=>{r({type:"reset"})},[r]),{data:o,error:a,isLoading:u}=t,l=(0,dO.useCallback)(async()=>{r({type:"reset"}),r({type:"start_signing"});try{let h=null;const f=i.filter(m=>m.available());for(const m of f){const y=await m.account();if(y&&y.address===n){h=y;break}}if(!h)throw new Error(`No connector for address ${n}`);const p=await h.signMessage(e);return r({type:"set_signature",data:p}),p}catch(h){const f=h instanceof Error?h.message:String(h);r({type:"set_error",error:f}),console.error(h)}},[n,i,e]);return{data:o,error:a,isLoading:u,isError:!!a,signTypedData:l,reset:s}}X1.useSignTypedData=U0e;var wf={};Object.defineProperty(wf,"__esModule",{value:!0}),wf.useTransactions=wf.useTransaction=void 0;const cH=js,hH=Us,dH=Nc,fH=Fc;function j0e({hash:e,watch:t=!1}){const{library:r}=(0,hH.useStarknet)(),{chain:n}=(0,fH.useNetwork)(),i=pH({chain:n,hash:e}),{data:s,error:o,isStale:a,isLoading:u,isFetching:l,isSuccess:h,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:v,status:w}=(0,cH.useQuery)(i,mH({library:r,hash:e}));return(0,dH.useInvalidateOnBlock)({enabled:t,queryKey:i}),{data:s,error:o??void 0,isIdle:a,isLoading:u,isFetching:l,isSuccess:h,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:v,status:w}}wf.useTransaction=j0e;function z0e({hashes:e,watch:t=!1}){const{library:r}=(0,hH.useStarknet)(),{chain:n}=(0,fH.useNetwork)(),i=(0,cH.useQueries)({queries:e.map(s=>({queryKey:pH({chain:n,hash:s}),queryFn:mH({library:r,hash:s})}))});return(0,dH.useInvalidateOnBlock)({enabled:t,queryKey:[{entity:"transaction",chainId:n==null?void 0:n.id}]}),i.map(({data:s,error:o,isStale:a,isLoading:u,isFetching:l,isSuccess:h,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:v,status:w})=>({data:s,error:o??void 0,isIdle:a,isLoading:u,isFetching:l,isSuccess:h,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:v,status:w}))}wf.useTransactions=z0e;function pH({chain:e,hash:t}){return[{entity:"transaction",chainId:e==null?void 0:e.id,hash:t}]}function mH({library:e,hash:t}){return async()=>{if(!t)throw new Error("hash is required");return await e.getTransaction(t)}}var Y1={};Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.useWaitForTransaction=void 0;const H0e=js,G0e=Ie,$0e=Us,V0e=Nc,W0e=Fc;function q0e({hash:e,watch:t,onAcceptedOnL1:r,onAcceptedOnL2:n,onNotReceived:i,onPending:s,onReceived:o,onRejected:a}){const{library:u}=(0,$0e.useStarknet)(),{chain:l}=(0,W0e.useNetwork)(),h=(0,G0e.useMemo)(()=>Z0e({chain:l,hash:e}),[l,e]),{data:f,error:p,isStale:m,isLoading:y,isFetching:v,isSuccess:w,isError:_,isFetched:x,isFetchedAfterMount:E,isRefetching:T,refetch:R,status:P}=(0,H0e.useQuery)(h,X0e({library:u,hash:e}),{enabled:!!e,refetchInterval:(k,M)=>t?Y0e(k):!1,onSuccess:k=>{const{status:M}=k;switch(M){case"ACCEPTED_ON_L1":r&&r(k);break;case"ACCEPTED_ON_L2":n&&n(k);break;case"NOT_RECEIVED":i&&i(k);break;case"PENDING":s&&s(k);break;case"RECEIVED":o&&o(k);break;case"REJECTED":a&&a(k);break}}});return(0,V0e.useInvalidateOnBlock)({enabled:t,queryKey:h}),{data:f,error:p??void 0,isIdle:m,isLoading:y,isFetching:v,isSuccess:w,isError:_,isFetched:x,isFetchedAfterMount:E,isRefetching:T,refetch:R,status:P}}Y1.useWaitForTransaction=q0e;function Z0e({chain:e,hash:t}){return[{entity:"transactionReceipt",chainId:e==null?void 0:e.id,hash:t}]}function X0e({library:e,hash:t}){return async()=>{if(!t)throw new Error("hash is required");return await e.getTransactionReceipt(t)}}function Y0e(e){if(!e)return!1;const{status:t}=e;switch(t){case"ACCEPTED_ON_L1":return!1;case"ACCEPTED_ON_L2":return 6e4;case"NOT_RECEIVED":return 500;case"PENDING":return 5e3;case"RECEIVED":return 5e3;case"REJECTED":return!1;default:return!1}}var xf={};Object.defineProperty(xf,"__esModule",{value:!0}),xf.useAddressFromStarkName=xf.useStarkName=void 0;const yH=js,gH=Ic,vH=Us;function K0e({address:e,contract:t}){const{library:r}=(0,vH.useStarknet)(),{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isFetching:u,isStale:l,isFetched:h,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,yH.useQuery)({queryKey:["starkName"],queryFn:async()=>{const v=new gH.Provider(r);console.log("lookup ",e," on ",t);const w=v.getStarkName(e,t);if(console.log("result",w),w instanceof Error)throw new Error(w.message);return w}});return{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isIdle:l,isFetching:u,isFetched:h,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}xf.useStarkName=K0e;function Q0e({name:e,contract:t}){const{library:r}=(0,vH.useStarknet)(),{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isFetching:u,isStale:l,isFetched:h,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,yH.useQuery)({queryKey:["addressFromStarkName"],queryFn:async()=>{const v=new gH.Provider(r).getAddressFromStarkName(e,t);if(v instanceof Error)throw new Error(v.message);return v}});return{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isIdle:l,isFetching:u,isFetched:h,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}xf.useAddressFromStarkName=Q0e;var _H;function J0e(){return _H||(_H=1,function(e){var t=Ye&&Ye.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=Ye&&Ye.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(vf,e),r(u0e(),e),r(Dc,e),r(V1,e),r(_f,e),r(Bc,e),r(W1,e),r(q1,e),r(Z1,e),r(Fc,e),r(X1,e),r(wf,e),r(Y1,e),r(xf,e)}(Z7)),Z7}var bH={},ug={};Object.defineProperty(ug,"__esModule",{value:!0}),ug.Connector=void 0;class ebe{constructor({options:t}){this.options=t}}ug.Connector=ebe;var K1={},fO={exports:{}};(function(e,t){var r=Object.defineProperty,n=(h,f,p)=>f in h?r(h,f,{enumerable:!0,configurable:!0,writable:!0,value:p}):h[f]=p,i=(h,f,p)=>(n(h,typeof f!="symbol"?f+"":f,p),p),s=(h,f,p)=>{if(!f.has(h))throw TypeError("Cannot "+p)},o=(h,f,p)=>(s(h,f,"read from private field"),p?p.call(h):f.get(h)),a=(h,f,p)=>{if(f.has(h))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(h):f.set(h,p)},u=(h,f,p,m)=>(s(h,f,"write to private field"),m?m.call(h,p):f.set(h,p),p),l=(h,f,p)=>(s(h,f,"access private method"),p);(function(h,f){f(t)})(Ye,function(h){var f,p,m,y,v,w,_;const x=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc"}}],E=()=>`${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,T=O=>{for(let D=O.length-1;D>0;D--){const L=Math.floor(Math.random()*(D+1));[O[D],O[L]]=[O[L],O[D]]}return O};function R(...O){return D=>O.reduce((L,N)=>L.then(N),Promise.resolve(D))}class P{constructor(D){a(this,y),a(this,w),a(this,f,!1),a(this,p,void 0),a(this,m,void 0),i(this,"value"),u(this,m,D),l(this,w,_).call(this)}set(D){return!o(this,f)&&!l(this,w,_).call(this)?!1:(this.delete(),this.value=D,D&&(u(this,p,`${o(this,m)}-${E()}`),localStorage.setItem(o(this,p),D)),!0)}get(){return l(this,y,v).call(this),this.value}delete(){return!o(this,f)&&!l(this,w,_).call(this)?!1:(this.value=null,o(this,p)&&localStorage.removeItem(o(this,p)),!0)}}f=new WeakMap,p=new WeakMap,m=new WeakMap,y=new WeakSet,v=function(){this.value&&this.set(this.value)},w=new WeakSet,_=function(){try{!o(this,f)&&typeof window<"u"&&(u(this,p,Object.keys(localStorage).find(O=>O.startsWith(o(this,m)))),u(this,f,!0),o(this,p)&&this.set(localStorage.getItem(o(this,p))))}catch(O){console.warn(O)}return o(this,f)};function k(O,D){var L,N;if((L=D==null?void 0:D.include)!=null&&L.length){const z=new Set(D.include);return O.filter(U=>z.has(U.id))}if((N=D==null?void 0:D.exclude)!=null&&N.length){const z=new Set(D.exclude);return O.filter(U=>!z.has(U.id))}return O}const M=async O=>{const D=await Promise.all(O.map(L=>L.isPreauthorized().catch(()=>!1)));return O.filter((L,N)=>D[N])},V=O=>{try{return O&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(D=>D in O)}catch{}return!1};function H(O,D){return Object.values(Object.getOwnPropertyNames(O).reduce((L,N)=>{if(N.startsWith("starknet")){const z=O[N];D(z)&&!L[z.id]&&(L[z.id]=z)}return L},{}))}const X=(O,D)=>{if(D&&Array.isArray(D)){O.sort((N,z)=>D.indexOf(N.id)-D.indexOf(z.id));const L=O.length-D.length;return[...O.slice(L),...T(O.slice(0,L))]}else return T(O)},Q={windowObject:typeof window<"u"?window:{},isWalletObject:V,storageFactoryImplementation:O=>new P(O)};function W(O={}){const{storageFactoryImplementation:D,windowObject:L,isWalletObject:N}={...Q,...O},z=D("gsw-last");return{getAvailableWallets:async(U={})=>{const q=H(L,N);return R(J=>k(J,U),J=>X(J,U.sort))(q)},getPreAuthorizedWallets:async(U={})=>{const q=H(L,N);return R(J=>M(J),J=>k(J,U),J=>X(J,U.sort))(q)},getDiscoveryWallets:async(U={})=>R(q=>k(q,U),q=>X(q,U.sort))(x),getLastConnectedWallet:async()=>{const U=z.get(),q=H(L,N).find(pe=>pe.id===U),[J]=await M(q?[q]:[]);return J||(z.delete(),null)},enable:async(U,q)=>{if(await U.enable(q??{starknetVersion:"v5"}),!U.isConnected)throw new Error("Failed to connect to wallet");return z.set(U.id),U},disconnect:async({clearLastWallet:U}={})=>{U&&z.delete()}}}const G=W();h.default=G,h.getStarknet=W,Object.defineProperties(h,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(fO,fO.exports);var tbe=fO.exports;Object.defineProperty(K1,"__esModule",{value:!0}),K1.InjectedConnector=void 0;const rbe=ug,Lo=On,nbe=tbe;class ibe extends rbe.Connector{constructor({options:t}){super({options:t})}available(){return this.ensureWallet(),this._wallet!==void 0}async ready(){return await this.ensureWallet(),this._wallet?await this._wallet.isPreauthorized():!1}async connect(){if(await this.ensureWallet(),!this._wallet)throw new Lo.ConnectorNotFoundError;try{await this._wallet.enable({starknetVersion:"v5"})}catch{throw new Lo.UserRejectedRequestError}if(!this._wallet.isConnected)throw new Lo.UserRejectedRequestError;return this._wallet.account}async disconnect(){var t;if(await this.ensureWallet(),!this.available())throw new Lo.ConnectorNotFoundError;if(!((t=this._wallet)!=null&&t.isConnected))throw new Lo.UserNotConnectedError}async account(){if(await this.ensureWallet(),!this._wallet)throw new Lo.ConnectorNotConnectedError;return this._wallet.account?this._wallet.account:null}get id(){return this.options.id}get name(){if(this.ensureWallet(),!this._wallet)throw new Lo.ConnectorNotConnectedError;return this._wallet.name}get icon(){if(this.ensureWallet(),!this._wallet)throw new Lo.ConnectorNotConnectedError;return this._wallet.icon}async initEventListener(t){if(await this.ensureWallet(),!this._wallet)throw new Lo.ConnectorNotConnectedError;this._wallet.on("accountsChanged",t)}async removeEventListener(t){if(await this.ensureWallet(),!this._wallet)throw new Lo.ConnectorNotConnectedError;this._wallet.off("accountsChanged",t)}async ensureWallet(){const t=(await(0,nbe.getStarknet)().getAvailableWallets()).filter(r=>r.id===this.options.id)[0];t&&(this._wallet=t)}}K1.InjectedConnector=ibe,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InjectedConnector=e.Connector=void 0;var t=ug;Object.defineProperty(e,"Connector",{enumerable:!0,get:function(){return t.Connector}});var r=K1;Object.defineProperty(e,"InjectedConnector",{enumerable:!0,get:function(){return r.InjectedConnector}})}(bH);var wH;function xH(){return wH||(wH=1,function(e){var t=Ye&&Ye.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,u)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=Ye&&Ye.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.useTransactionManager=e.StarknetConfig=void 0;var n=Us;Object.defineProperty(e,"StarknetConfig",{enumerable:!0,get:function(){return n.StarknetConfig}}),Object.defineProperty(e,"useTransactionManager",{enumerable:!0,get:function(){return n.useTransactionManager}}),r(J0e(),e),r(bH,e),r(ag,e)}(Gz)),Gz}xH();function Q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var sbe={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function pO(e,t){function r(i,s,o){if(!(typeof document>"u")){o=Q1({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,o[u]!==!0&&(a+="="+o[u].split(";")[0]));return document.cookie=i+"="+e.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var u=s[a].split("="),l=u.slice(1).join("=");try{var h=decodeURIComponent(u[0]);if(o[h]=e.read(l,h),i===h)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",Q1({},s,{expires:-1}))},withAttributes:function(i){return pO(this.converter,Q1({},this.attributes,i))},withConverter:function(i){return pO(Q1({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Ef=pO(sbe,{path:"/"}),obe="0x2386f26fc10000",abe="0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";Ie.createContext(null);var ube=()=>{try{const e="__test__";if(typeof window<"u")return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}return!1},lg=ube(),lbe=e=>{try{return e===""?null:JSON.parse(e)}catch(t){return console.error("Error parsing JSON data:",t,"Data:",e),null}},cbe={keys:()=>Object.keys(lg?window.localStorage:Ef.get()),get:e=>lbe(lg?window.localStorage.getItem(e)||"":Ef.get(e)||""),set:(e,t)=>{const r=JSON.stringify(t);lg?window.localStorage.setItem(e,r):Ef.set(e,r,{secure:!0,sameSite:"strict"})},remove:e=>{lg?window.localStorage.removeItem(e):Ef.remove(e)},clear:()=>{if(lg)window.localStorage.clear();else{const e=Ef.get();Object.keys(e).forEach(t=>Ef.remove(t))}}},Sf=cbe,hbe=async(e,t,r=abe)=>{try{const n={contractAddress:r,entrypoint:"transfer",calldata:tt.compile([e,obe,"0x0"])},i=await t.getNonce(),{transaction_hash:s}=await t.execute(n,void 0,{nonce:i,maxFee:0}),o=await t.waitForTransaction(s,{retryInterval:1e3,successStates:[kb.ACCEPTED_ON_L2]});if(!o)throw new Error("Transaction did not complete successfully.");return o}catch(n){throw console.error(n),n}},dbe=class{constructor({masterAccount:e,accountClassHash:t,rpcProvider:r}){is(this,"masterAccount");is(this,"accountClassHash");is(this,"provider");is(this,"account",null);is(this,"isDeploying",!1);is(this,"burnerAccounts",[]);is(this,"setIsDeploying");this.masterAccount=e,this.accountClassHash=t,this.provider=r}setIsDeployingCallback(e){this.setIsDeploying=e}updateIsDeploying(e){this.isDeploying=e,this.setIsDeploying&&this.setIsDeploying(e)}getBurnerStorage(){return Sf.get("burners")||{}}setActiveBurnerAccount(e){for(let t in e)if(e[t].active){this.account=new bc(this.provider,t,e[t].privateKey);return}}init(){var t;const e=this.getBurnerStorage();if(Object.keys(e).length>0){const r=Object.keys(e)[0];(t=this.masterAccount)==null||t.getTransactionReceipt(e[r].deployTx).then(n=>{if(!n)throw this.account=null,Sf.remove("burners"),new Error("Burners not deployed, chain may have restarted")}).catch(()=>{throw new Error("Error fetching transaction receipt")}),this.setActiveBurnerAccount(e)}}list(){const e=this.getBurnerStorage();return Object.keys(e).map(t=>({address:t,active:e[t].active}))}select(e){const t=this.getBurnerStorage();if(!t[e])throw new Error("burner not found");for(let r in t)t[r].active=!1;t[e].active=!0,Sf.set("burners",t),this.account=new bc(this.provider,e,t[e].privateKey)}get(e){const t=this.getBurnerStorage();if(!t[e])throw new Error("burner not found");return new bc(this.provider,e,t[e].privateKey)}clear(){Sf.clear()}getActiveAccount(){const e=this.getBurnerStorage();for(let t in e)if(e[t].active)return new bc(this.provider,t,e[t].privateKey);return null}async create(){var u;this.updateIsDeploying(!0);const e=xC.randomAddress(),t=vC.starkCurve.getStarkKey(e),r=gC.calculateContractAddressFromHash(t,this.accountClassHash,tt.compile({publicKey:t}),0);if(!this.masterAccount)throw new Error("wallet account not found");try{await hbe(r,this.masterAccount)}catch{this.isDeploying=!1}const n={classHash:this.accountClassHash,constructorCalldata:tt.compile({publicKey:t}),addressSalt:t},i=new bc(this.provider,r,e),s=await((u=this.account)==null?void 0:u.getNonce()),{transaction_hash:o}=await i.deployAccount(n,{nonce:s,maxFee:0}),a=this.getBurnerStorage();for(let l in a)a[l].active=!1;return a[r]={privateKey:e,publicKey:t,deployTx:o,active:!0},this.account=i,this.updateIsDeploying(!1),Sf.set("burners",a),i}async copyBurnersToClipboard(){const e=this.getBurnerStorage();try{await navigator.clipboard.writeText(JSON.stringify(e))}catch(t){throw t}}async setBurnersFromClipboard(){try{const e=await navigator.clipboard.readText(),t=JSON.parse(e);let r=null;for(const[n,i]of Object.entries(t))if(i.active){r=n;break}Sf.set("burners",t),r&&this.select(r)}catch(e){throw e}}};const fbe=async()=>{const e=new Gd({nodeUrl:"https://api.cartridge.gg/x/plaguesurvivor1/katana"}),t=new bc(e,"0x16622ed6ba8e74ff2998c960ea05d0db469badfebe20b6dbc5e5cd486a2461d","0x9337e89fecb3fdacfcbcf6b00eb009cd857d357a36fd90d44d51b97e86b5a3"),r=new dbe({masterAccount:t,accountClassHash:"0x04d07e40e93398ed3c76981e72dd1fd22557a78ce36c0515f679e27f0bb5bc5f",rpcProvider:e});try{await r.create()}catch(n){console.log(n)}return r.init(),{account:r.account,burnerManager:r}};async function pbe(){const{VITE_PUBLIC_WORLD_ADDRESS:e,VITE_PUBLIC_NODE_URL:t,VITE_PUBLIC_TORII:r}={VITE_PUBLIC_ETH_CONTRACT_ADDRESS:"0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",VITE_PUBLIC_ACCOUNT_CLASS_HASH:"0x04d07e40e93398ed3c76981e72dd1fd22557a78ce36c0515f679e27f0bb5bc5f",VITE_PUBLIC_ACTIONS_ADDRESS:"0x13fceae92bb7a5c47d6b2b53e1da5749430e51bfd64005a0fad3abe59e97735",VITE_PUBLIC_MASTER_ADDRESS:"0x16622ed6ba8e74ff2998c960ea05d0db469badfebe20b6dbc5e5cd486a2461d",VITE_PUBLIC_MASTER_PRIVATE_KEY:"0x9337e89fecb3fdacfcbcf6b00eb009cd857d357a36fd90d44d51b97e86b5a3",VITE_PUBLIC_WORLD_ADDRESS:"0x1b92c532c5f82984b485edd4139ca693c585cedd60ed98071c7905bfa7a29e9",VITE_PUBLIC_NODE_URL:"https://api.cartridge.gg/x/plaguesurvivor1/katana",VITE_PUBLIC_TORII:"https://api.cartridge.gg/x/plaguesurvivor1/torii",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},n=new Zde(e,tfe,t),i=await pfe([],{rpcUrl:t,toriiUrl:r,worldAddress:e}),{account:s,burnerManager:o}=await fbe();return{provider:n,world:x2,toriiClient:i,account:s,burnerManager:o,contractComponents:Xde(x2),execute:async(a,u,l,h)=>n.execute(a,u,l,h)}}const EH=BigInt(0),J1=BigInt(1),mbe=BigInt(2),ew=e=>e instanceof Uint8Array,ybe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Af(e){if(!ew(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=ybe[e[r]];return t}function SH(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function mO(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Uc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");t[r]=s}return t}function ka(e){return mO(Af(e))}function yO(e){if(!ew(e))throw new Error("Uint8Array expected");return mO(Af(Uint8Array.from(e).reverse()))}const Tf=(e,t)=>Uc(e.toString(16).padStart(t*2,"0")),AH=(e,t)=>Tf(e,t).reverse(),gbe=e=>Uc(SH(e));function qi(e,t,r){let n;if(typeof t=="string")try{n=Uc(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(ew(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function cg(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!ew(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function vbe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function _be(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function bbe(e){let t;for(t=0;e>EH;e>>=J1,t+=1);return t}const wbe=(e,t)=>e>>BigInt(t)&J1,xbe=(e,t,r)=>e|(r?J1:EH)<<BigInt(t),tw=e=>(mbe<<BigInt(e-1))-J1,gO=e=>new Uint8Array(e),TH=e=>Uint8Array.from(e);function IH(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=gO(e),i=gO(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),u=(h=gO())=>{i=a(TH([0]),h),n=a(),h.length!==0&&(i=a(TH([1]),h),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<t;){n=a();const p=n.slice();f.push(p),h+=n.length}return cg(...f)};return(h,f)=>{o(),u(h);let p;for(;!(p=f(l()));)u();return o(),p}}const Ebe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function hg(e,t,r={}){const n=(i,s,o)=>{const a=Ebe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=e[i];if(!(o&&u===void 0)&&!a(u,e))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}const Sbe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:wbe,bitLen:bbe,bitMask:tw,bitSet:xbe,bytesToHex:Af,bytesToNumberBE:ka,bytesToNumberLE:yO,concatBytes:cg,createHmacDrbg:IH,ensureBytes:qi,equalBytes:vbe,hexToBytes:Uc,hexToNumber:mO,numberToBytesBE:Tf,numberToBytesLE:AH,numberToHexUnpadded:SH,numberToVarBytesBE:gbe,utf8ToBytes:_be,validateObject:hg},Symbol.toStringTag,{value:"Module"})),Xr=BigInt(0),ur=BigInt(1),jc=BigInt(2),Abe=BigInt(3),vO=BigInt(4),CH=BigInt(5),kH=BigInt(8);BigInt(9),BigInt(16);function yi(e,t){const r=e%t;return r>=Xr?r:t+r}function Tbe(e,t,r){if(r<=Xr||t<Xr)throw new Error("Expected power/modulo > 0");if(r===ur)return Xr;let n=ur;for(;t>Xr;)t&ur&&(n=n*e%r),e=e*e%r,t>>=ur;return n}function _O(e,t){if(e===Xr||t<=Xr)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=yi(e,t),n=t,i=Xr,s=ur;for(;r!==Xr;){const o=n/r,a=n%r,u=i-s*o;n=r,r=a,i=s,s=u}if(n!==ur)throw new Error("invert: does not exist");return yi(i,t)}function Ibe(e){const t=(e-ur)/jc;let r,n,i;for(r=e-ur,n=0;r%jc===Xr;r/=jc,n++);for(i=jc;i<e&&Tbe(i,t,e)!==e-ur;i++);if(n===1){const o=(e+ur)/vO;return function(a,u){const l=a.pow(u,o);if(!a.eql(a.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(r+ur)/jc;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=n,l=o.pow(o.mul(o.ONE,i),r),h=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let p=1;for(let y=o.sqr(f);p<u&&!o.eql(y,o.ONE);p++)y=o.sqr(y);const m=o.pow(l,ur<<BigInt(u-p-1));l=o.sqr(m),h=o.mul(h,m),f=o.mul(f,l),u=p}return h}}function Cbe(e){if(e%vO===Abe){const t=(e+ur)/vO;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%kH===CH){const t=(e-CH)/kH;return function(r,n){const i=r.mul(n,jc),s=r.pow(i,t),o=r.mul(n,s),a=r.mul(r.mul(o,jc),s),u=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(u),n))throw new Error("Cannot find square root");return u}}return Ibe(e)}const kbe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bO(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=kbe.reduce((n,i)=>(n[i]="function",n),t);return hg(e,r)}function OH(e,t,r){if(r<Xr)throw new Error("Expected power > 0");if(r===Xr)return e.ONE;if(r===ur)return t;let n=e.ONE,i=t;for(;r>Xr;)r&ur&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ur;return n}function Obe(e,t){const r=new Array(t.length),n=t.reduce((s,o,a)=>e.is0(o)?s:(r[a]=s,e.mul(s,o)),e.ONE),i=e.inv(n);return t.reduceRight((s,o,a)=>e.is0(o)?s:(r[a]=e.mul(s,r[a]),e.mul(s,o)),i),r}function wO(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function xO(e,t,r=!1,n={}){if(e<=Xr)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=wO(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Cbe(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:tw(i),ZERO:Xr,ONE:ur,create:u=>yi(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Xr<=u&&u<e},is0:u=>u===Xr,isOdd:u=>(u&ur)===ur,neg:u=>yi(-u,e),eql:(u,l)=>u===l,sqr:u=>yi(u*u,e),add:(u,l)=>yi(u+l,e),sub:(u,l)=>yi(u-l,e),mul:(u,l)=>yi(u*l,e),pow:(u,l)=>OH(a,u,l),div:(u,l)=>yi(u*_O(l,e),e),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>_O(u,e),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>Obe(a,u),cmov:(u,l,h)=>h?l:u,toBytes:u=>r?AH(u,s):Tf(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?yO(u):ka(u)}});return Object.freeze(a)}function Pbe(e,t,r=!1){e=qi("privateHash",e);const n=e.length,i=wO(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=r?yO(e):ka(e);return yi(s,t-ur)+ur}function Rbe(e){const{Fp:t}=e;bO(t);for(const u of["t","roundsFull","roundsPartial"])if(typeof e[u]!="number"||!Number.isSafeInteger(e[u]))throw new Error(`Poseidon: invalid param ${u}=${e[u]} (${typeof e[u]})`);if(e.reversePartialPowIdx!==void 0&&typeof e.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${e.reversePartialPowIdx}`);let r=e.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);const n=BigInt(r);let i=u=>OH(t,u,n);if(r===3?i=u=>t.mul(t.sqrN(u),u):r===5&&(i=u=>t.mul(t.sqrN(t.sqrN(u)),u)),e.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${e.roundsFull}`);const s=e.roundsFull+e.roundsPartial;if(!Array.isArray(e.roundConstants)||e.roundConstants.length!==s)throw new Error("Poseidon: wrong round constants");const o=e.roundConstants.map(u=>{if(!Array.isArray(u)||u.length!==e.t)throw new Error(`Poseidon wrong round constants: ${u}`);return u.map(l=>{if(typeof l!="bigint"||!t.isValid(l))throw new Error(`Poseidon wrong round constant=${l}`);return t.create(l)})});if(!Array.isArray(e.mds)||e.mds.length!==e.t)throw new Error("Poseidon: wrong MDS matrix");const a=e.mds.map(u=>{if(!Array.isArray(u)||u.length!==e.t)throw new Error(`Poseidon MDS matrix row: ${u}`);return u.map(l=>{if(typeof l!="bigint")throw new Error(`Poseidon MDS matrix value=${l}`);return t.create(l)})});return Object.freeze({...e,rounds:s,sboxFn:i,roundConstants:o,mds:a})}function Mbe(e){const{t,Fp:r,rounds:n,sboxFn:i,reversePartialPowIdx:s}=Rbe(e),o=Math.floor(e.roundsFull/2),a=s?t-1:0,u=(h,f,p)=>(h=h.map((m,y)=>r.add(m,e.roundConstants[p][y])),f?h=h.map(m=>i(m)):h[a]=i(h[a]),h=e.mds.map(m=>m.reduce((y,v,w)=>r.add(y,r.mulN(v,h[w])),r.ZERO)),h),l=function(h){if(!Array.isArray(h)||h.length!==t)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${t})`);h=h.map(p=>{if(typeof p!="bigint")throw new Error(`Poseidon: wrong value=${p} (${typeof p})`);return r.create(p)});let f=0;for(let p=0;p<o;p++)h=u(h,!0,f++);for(let p=0;p<e.roundsPartial;p++)h=u(h,!1,f++);for(let p=0;p<o;p++)h=u(h,!0,f++);if(f!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${f}, total=${n}`);return h};return l.roundConstants=e.roundConstants,l}const Nbe=BigInt(0),EO=BigInt(1);function Dbe(e,t){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(t/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=e.ZERO,a=i;for(;s>Nbe;)s&EO&&(o=o.add(a)),a=a.double(),s>>=EO;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,h=l;for(let f=0;f<o;f++){h=l,u.push(h);for(let p=1;p<a;p++)h=h.add(l),u.push(h);l=h.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=e.ZERO,h=e.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const v=y*u;let w=Number(o&f);o>>=m,w>u&&(w-=p,o+=EO);const _=v,x=v+Math.abs(w)-1,E=y%2!==0,T=w<0;w===0?h=h.add(r(E,s[_])):l=l.add(r(T,s[x]))}return{p:l,f:h}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function PH(e){return bO(e.Fp),hg(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...wO(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Lbe(e){const t=PH(e);hg(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Bbe,hexToBytes:Fbe}=Sbe,zc={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=zc;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Bbe(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=zc,r=typeof e=="string"?Fbe(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=zc._parseInt(r.subarray(2)),{d:o,l:a}=zc._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const h=l.toString(16);return h.length&1?`0${h}`:h},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Oa=BigInt(0),Zi=BigInt(1);BigInt(2);const RH=BigInt(3);BigInt(4);function Ube(e){const t=Lbe(e),{Fp:r}=t,n=t.toBytes||((y,v,w)=>{const _=v.toAffine();return cg(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),i=t.fromBytes||(y=>{const v=y.subarray(1),w=r.fromBytes(v.subarray(0,r.BYTES)),_=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:w,y:_}});function s(y){const{a:v,b:w}=t,_=r.sqr(y),x=r.mul(_,y);return r.add(r.add(x,r.mul(y,v)),w)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Oa<y&&y<t.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:v,nByteLength:w,wrapPrivateKey:_,n:x}=t;if(v&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Af(y)),typeof y!="string"||!v.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let E;try{E=typeof y=="bigint"?y:ka(qi("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return _&&(E=yi(E,x)),a(E),E}const l=new Map;function h(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,w,_){if(this.px=v,this.py=w,this.pz=_,v==null||!r.isValid(v))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required")}static fromAffine(v){const{x:w,y:_}=v||{};if(!v||!r.isValid(w)||!r.isValid(_))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const x=E=>r.eql(E,r.ZERO);return x(w)&&x(_)?f.ZERO:new f(w,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const w=r.invertBatch(v.map(_=>_.pz));return v.map((_,x)=>_.toAffine(w[x])).map(f.fromAffine)}static fromHex(v){const w=f.fromAffine(i(qi("pointHex",v)));return w.assertValidity(),w}static fromPrivateKey(v){return f.BASE.multiply(u(v))}_setWindowSize(v){this._WINDOW_SIZE=v,l.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:v,y:w}=this.toAffine();if(!r.isValid(v)||!r.isValid(w))throw new Error("bad point: x or y not FE");const _=r.sqr(w),x=s(v);if(!r.eql(_,x))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(r.isOdd)return!r.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){h(v);const{px:w,py:_,pz:x}=this,{px:E,py:T,pz:R}=v,P=r.eql(r.mul(w,R),r.mul(E,x)),k=r.eql(r.mul(_,R),r.mul(T,x));return P&&k}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:v,b:w}=t,_=r.mul(w,RH),{px:x,py:E,pz:T}=this;let R=r.ZERO,P=r.ZERO,k=r.ZERO,M=r.mul(x,x),V=r.mul(E,E),H=r.mul(T,T),X=r.mul(x,E);return X=r.add(X,X),k=r.mul(x,T),k=r.add(k,k),R=r.mul(v,k),P=r.mul(_,H),P=r.add(R,P),R=r.sub(V,P),P=r.add(V,P),P=r.mul(R,P),R=r.mul(X,R),k=r.mul(_,k),H=r.mul(v,H),X=r.sub(M,H),X=r.mul(v,X),X=r.add(X,k),k=r.add(M,M),M=r.add(k,M),M=r.add(M,H),M=r.mul(M,X),P=r.add(P,M),H=r.mul(E,T),H=r.add(H,H),M=r.mul(H,X),R=r.sub(R,M),k=r.mul(H,V),k=r.add(k,k),k=r.add(k,k),new f(R,P,k)}add(v){h(v);const{px:w,py:_,pz:x}=this,{px:E,py:T,pz:R}=v;let P=r.ZERO,k=r.ZERO,M=r.ZERO;const V=t.a,H=r.mul(t.b,RH);let X=r.mul(w,E),Q=r.mul(_,T),W=r.mul(x,R),G=r.add(w,_),O=r.add(E,T);G=r.mul(G,O),O=r.add(X,Q),G=r.sub(G,O),O=r.add(w,x);let D=r.add(E,R);return O=r.mul(O,D),D=r.add(X,W),O=r.sub(O,D),D=r.add(_,x),P=r.add(T,R),D=r.mul(D,P),P=r.add(Q,W),D=r.sub(D,P),M=r.mul(V,O),P=r.mul(H,W),M=r.add(P,M),P=r.sub(Q,M),M=r.add(Q,M),k=r.mul(P,M),Q=r.add(X,X),Q=r.add(Q,X),W=r.mul(V,W),O=r.mul(H,O),Q=r.add(Q,W),W=r.sub(X,W),W=r.mul(V,W),O=r.add(O,W),X=r.mul(Q,O),k=r.add(k,X),X=r.mul(D,O),P=r.mul(G,P),P=r.sub(P,X),X=r.mul(G,Q),M=r.mul(D,M),M=r.add(M,X),new f(P,k,M)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return m.wNAFCached(this,l,v,w=>{const _=r.invertBatch(w.map(x=>x.pz));return w.map((x,E)=>x.toAffine(_[E])).map(f.fromAffine)})}multiplyUnsafe(v){const w=f.ZERO;if(v===Oa)return w;if(a(v),v===Zi)return this;const{endo:_}=t;if(!_)return m.unsafeLadder(this,v);let{k1neg:x,k1:E,k2neg:T,k2:R}=_.splitScalar(v),P=w,k=w,M=this;for(;E>Oa||R>Oa;)E&Zi&&(P=P.add(M)),R&Zi&&(k=k.add(M)),M=M.double(),E>>=Zi,R>>=Zi;return x&&(P=P.negate()),T&&(k=k.negate()),k=new f(r.mul(k.px,_.beta),k.py,k.pz),P.add(k)}multiply(v){a(v);let w=v,_,x;const{endo:E}=t;if(E){const{k1neg:T,k1:R,k2neg:P,k2:k}=E.splitScalar(w);let{p:M,f:V}=this.wNAF(R),{p:H,f:X}=this.wNAF(k);M=m.constTimeNegate(T,M),H=m.constTimeNegate(P,H),H=new f(r.mul(H.px,E.beta),H.py,H.pz),_=M.add(H),x=V.add(X)}else{const{p:T,f:R}=this.wNAF(w);_=T,x=R}return f.normalizeZ([_,x])[0]}multiplyAndAddUnsafe(v,w,_){const x=f.BASE,E=(R,P)=>P===Oa||P===Zi||!R.equals(x)?R.multiplyUnsafe(P):R.multiply(P),T=E(this,w).add(E(v,_));return T.is0()?void 0:T}toAffine(v){const{px:w,py:_,pz:x}=this,E=this.is0();v==null&&(v=E?r.ONE:r.inv(x));const T=r.mul(w,v),R=r.mul(_,v),P=r.mul(x,v);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:T,y:R}}isTorsionFree(){const{h:v,isTorsionFree:w}=t;if(v===Zi)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:w}=t;return v===Zi?this:w?w(f,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return this.assertValidity(),n(f,this,v)}toHex(v=!0){return Af(this.toRawBytes(v))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=t.nBitLength,m=Dbe(f,t.endo?Math.ceil(p/2):p);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function jbe(e){const t=PH(e);return hg(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function zbe(e){const t=jbe(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(O){return Oa<O&&O<r.ORDER}function a(O){return yi(O,n)}function u(O){return _O(O,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=Ube({...t,toBytes(O,D,L){const N=D.toAffine(),z=r.toBytes(N.x),U=cg;return L?U(Uint8Array.from([D.hasEvenY()?2:3]),z):U(Uint8Array.from([4]),z,r.toBytes(N.y))},fromBytes(O){const D=O.length,L=O[0],N=O.subarray(1);if(D===i&&(L===2||L===3)){const z=ka(N);if(!o(z))throw new Error("Point is not on curve");const U=f(z);let q=r.sqrt(U);const J=(q&Zi)===Zi;return(L&1)===1!==J&&(q=r.neg(q)),{x:z,y:q}}else if(D===s&&L===4){const z=r.fromBytes(N.subarray(0,r.BYTES)),U=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:z,y:U}}else throw new Error(`Point of length ${D} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=O=>Af(Tf(O,t.nByteLength));function y(O){const D=n>>Zi;return O>D}function v(O){return y(O)?a(-O):O}const w=(O,D,L)=>ka(O.slice(D,L));class _{constructor(D,L,N){this.r=D,this.s=L,this.recovery=N,this.assertValidity()}static fromCompact(D){const L=t.nByteLength;return D=qi("compactSignature",D,L*2),new _(w(D,0,L),w(D,L,2*L))}static fromDER(D){const{r:L,s:N}=zc.toSig(qi("DER",D));return new _(L,N)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(D){return new _(this.r,this.s,D)}recoverPublicKey(D){const{r:L,s:N,recovery:z}=this,U=k(qi("msgHash",D));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const q=z===2||z===3?L+t.n:L;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=z&1?"03":"02",pe=l.fromHex(J+m(q)),fe=u(q),Ne=a(-U*fe),we=a(N*fe),Ce=l.BASE.multiplyAndAddUnsafe(pe,Ne,we);if(!Ce)throw new Error("point at infinify");return Ce.assertValidity(),Ce}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Uc(this.toDERHex())}toDERHex(){return zc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Uc(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const x={isValidPrivateKey(O){try{return h(O),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const O=t.randomBytes(r.BYTES+8),D=Pbe(O,n);return Tf(D,t.nByteLength)},precompute(O=8,D=l.BASE){return D._setWindowSize(O),D.multiply(BigInt(3)),D}};function E(O,D=!0){return l.fromPrivateKey(O).toRawBytes(D)}function T(O){const D=O instanceof Uint8Array,L=typeof O=="string",N=(D||L)&&O.length;return D?N===i||N===s:L?N===2*i||N===2*s:O instanceof l}function R(O,D,L=!0){if(T(O))throw new Error("first arg must be private key");if(!T(D))throw new Error("second arg must be public key");return l.fromHex(D).multiply(h(O)).toRawBytes(L)}const P=t.bits2int||function(O){const D=ka(O),L=O.length*8-t.nBitLength;return L>0?D>>BigInt(L):D},k=t.bits2int_modN||function(O){return a(P(O))},M=tw(t.nBitLength);function V(O){if(typeof O!="bigint")throw new Error("bigint expected");if(!(Oa<=O&&O<M))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Tf(O,t.nByteLength)}function H(O,D,L=X){if(["recovered","canonical"].some(Ge=>Ge in L))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:z}=t;let{lowS:U,prehash:q,extraEntropy:J}=L;U==null&&(U=!0),O=qi("msgHash",O),q&&(O=qi("prehashed msgHash",N(O)));const pe=k(O),fe=h(D),Ne=[V(fe),V(pe)];if(J!=null){const Ge=J===!0?z(r.BYTES):J;Ne.push(qi("extraEntropy",Ge,r.BYTES))}const we=cg(...Ne),Ce=pe;function lt(Ge){const ze=P(Ge);if(!p(ze))return;const De=u(ze),ke=l.BASE.multiply(ze).toAffine(),Be=a(ke.x);if(Be===Oa)return;const st=a(De*a(Ce+Be*fe));if(st===Oa)return;let St=(ke.x===Be?0:2)|Number(ke.y&Zi),Kt=st;return U&&y(st)&&(Kt=v(st),St^=1),new _(Be,Kt,St)}return{seed:we,k2sig:lt}}const X={lowS:t.lowS,prehash:!1},Q={lowS:t.lowS,prehash:!1};function W(O,D,L=X){const{seed:N,k2sig:z}=H(O,D,L);return IH(t.hash.outputLen,t.nByteLength,t.hmac)(N,z)}l.BASE._setWindowSize(8);function G(O,D,L,N=Q){var De;const z=O;if(D=qi("msgHash",D),L=qi("publicKey",L),"strict"in N)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:q}=N;let J,pe;try{if(typeof z=="string"||z instanceof Uint8Array)try{J=_.fromDER(z)}catch(ke){if(!(ke instanceof zc.Err))throw ke;J=_.fromCompact(z)}else if(typeof z=="object"&&typeof z.r=="bigint"&&typeof z.s=="bigint"){const{r:ke,s:Be}=z;J=new _(ke,Be)}else throw new Error("PARSE");pe=l.fromHex(L)}catch(ke){if(ke.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&J.hasHighS())return!1;q&&(D=t.hash(D));const{r:fe,s:Ne}=J,we=k(D),Ce=u(Ne),lt=a(we*Ce),Ge=a(fe*Ce),ze=(De=l.BASE.multiplyAndAddUnsafe(pe,lt,Ge))==null?void 0:De.toAffine();return ze?a(ze.x)===fe:!1}return{CURVE:t,getPublicKey:E,getSharedSecret:R,sign:W,verify:G,ProjectivePoint:l,Signature:_,utils:x}}function SO(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Hbe(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function MH(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Gbe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");SO(e.outputLen),SO(e.blockLen)}function $be(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Vbe(e,t){MH(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const rw={number:SO,bool:Hbe,bytes:MH,hash:Gbe,exists:$be,output:Vbe},AO=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wbe(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function qbe(e){if(typeof e=="string"&&(e=Wbe(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function Zbe(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class Xbe{clone(){return this._cloneInto()}}function Ybe(e=32){if(AO&&typeof AO.getRandomValues=="function")return AO.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class NH extends Xbe{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,rw.hash(t);const n=qbe(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return rw.exists(this),this.iHash.update(t),this}digestInto(t){rw.exists(this),rw.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const DH=(e,t,r)=>new NH(e,t).update(r).digest();DH.create=(e,t)=>new NH(e,t);function Kbe(e){return{hash:e,hmac:(t,...r)=>DH(e,t,Zbe(...r)),randomBytes:Ybe}}const LH=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),BH=252;function FH(e){for(;e[0]===0;)e=e.subarray(1);const t=e.length*8-BH,r=ka(e);return t>0?r>>BigInt(t):r}function Qbe(e){return typeof e=="string"&&(e=e1e(e),e.length&1&&(e="0"+e)),Uc(e)}const Jbe=zbe({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:xO(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:LH,nBitLength:BH,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...Kbe(Gm),bits2int:FH,bits2int_modN:e=>{const t=ka(e).toString(16);return t.length===63&&(e=Qbe(t+"0")),yi(FH(e),LH)}}),{CURVE:lwe,ProjectivePoint:dg,Signature:cwe,utils:hwe}=Jbe;function e1e(e){return e.replace(/^0x/i,"")}const nw=[new dg(0x49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804n,0x3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268an,1n),new dg(0x234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47bn,0x3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615n,1n),new dg(0x4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378n,0x3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54dn,1n),new dg(0x4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997n,0x40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219cn,1n),new dg(0x54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202n,0x1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426n,1n)];function UH(e,t){const r=[];let n=e;for(let i=0;i<248;i++)r.push(n),n=n.double();n=t;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}UH(nw[1],nw[2]),UH(nw[3],nw[4]),tw(250),xO(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681"));const t1e=xO(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function r1e(e,t,r){const n=e.fromBytes(Gm(T2(`${t}${r}`)));return e.create(n)}const n1e=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function i1e(e,t){if(bO(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);const r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,i=[];for(let o=0;o<n;o++){const a=[];for(let u=0;u<r;u++)a.push(r1e(e.Fp,"Hades",r*o+u));i.push(a)}const s=Mbe({...e,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:i});return s.m=r,s.rate=e.rate,s.capacity=e.capacity,s}i1e({Fp:t1e,rate:2,capacity:1,roundsFull:8,roundsPartial:83},n1e);function jH(e,t){return Object.keys(e).reduce((r,n)=>{const i=e[n],s=t[n];return s==null?(r[n]=s,r):(typeof i=="object"&&s&&typeof s=="object"?r[n]=jH(i,s):r[n]=i===En.BigInt?BigInt(s):Number(s),r)},{})}var s1e=async(e,t)=>{await o1e(e,t),a1e(e,t)},o1e=async(e,t)=>{let r=0,n=!0;for(;n;){let i=await e.getEntities(100,r);zH(i,t),Object.keys(i).length<100?n=!1:r+=100}},a1e=async(e,t)=>{e.onEntityUpdated([],r=>zH(r,t))},zH=async(e,t)=>{for(let r in e)if(e.hasOwnProperty(r)){for(let n in e[r])if(e[r].hasOwnProperty(n)){let i=t[n];i&&wse(i,r,jH(i.schema,e[r][n]))}}};async function u1e(){const e=await pbe(),t=toe(e);await s1e(e.toriiClient,e.contractComponents);const r=roe(e);return{network:e,components:t,systemCalls:r}}const l1e=async()=>{const{components:e,systemCalls:t,network:r}=await u1e(),{burnerManager:n,account:i}=r;return{world:x2,components:e,systemCalls:t,network:r,account:i,burnerManager:n}},c1e=e=>{const t=Ie.useRef(e),[r,n]=Ie.useState(null);return Ie.useEffect(()=>{if(!e)return;let i=!0;return t.current=e,e.then(s=>{i&&t.current===e&&n(s)}),()=>{i=!1}},[e]),r},h1e=()=>{const e=Ie.useMemo(()=>l1e(),[]);return Ie.useEffect(()=>()=>{e.then(t=>t.world.dispose())},[e]),c1e(e)};function d1e(){const e=h1e();return Ie.useEffect(()=>{!e||!e.account||eoe.setState({networkLayer:e})},[e]),hZ.setAppElement("#root"),Qr.jsx("div",{className:"flex flex-col min-h-screen w-full",children:Qr.jsx("div",{className:"flex-grow mx-auto mt-2",children:Qr.jsx(Ose,{networkLayer:e})})})}async function f1e(){const e=document.getElementById("root");if(!e)throw new Error("React root not found");fx.createRoot(e).render(Qr.jsx(d1e,{}))}f1e()})()});export default Y1e();
