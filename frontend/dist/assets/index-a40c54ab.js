var pY=Object.defineProperty;var mY=(t,e,r)=>e in t?pY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var yY=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Jn=(t,e,r)=>(mY(t,typeof e!="symbol"?e+"":e,r),r);var xAe=yY((nTe,rx)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pa(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var e5={exports:{}},Nw={},t5={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=Symbol.for("react.element"),gY=Symbol.for("react.portal"),vY=Symbol.for("react.fragment"),_Y=Symbol.for("react.strict_mode"),bY=Symbol.for("react.profiler"),wY=Symbol.for("react.provider"),EY=Symbol.for("react.context"),xY=Symbol.for("react.forward_ref"),SY=Symbol.for("react.suspense"),AY=Symbol.for("react.memo"),TY=Symbol.for("react.lazy"),RB=Symbol.iterator;function CY(t){return t===null||typeof t!="object"?null:(t=RB&&t[RB]||t["@@iterator"],typeof t=="function"?t:null)}var r5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n5=Object.assign,i5={};function hp(t,e,r){this.props=t,this.context=e,this.refs=i5,this.updater=r||r5}hp.prototype.isReactComponent={};hp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s5(){}s5.prototype=hp.prototype;function JO(t,e,r){this.props=t,this.context=e,this.refs=i5,this.updater=r||r5}var eR=JO.prototype=new s5;eR.constructor=JO;n5(eR,hp.prototype);eR.isPureReactComponent=!0;var kB=Array.isArray,o5=Object.prototype.hasOwnProperty,tR={current:null},a5={key:!0,ref:!0,__self:!0,__source:!0};function u5(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)o5.call(e,n)&&!a5.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Gg,type:t,key:s,ref:o,props:i,_owner:tR.current}}function IY(t,e){return{$$typeof:Gg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rR(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gg}function OY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var PB=/\/+/g;function oA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OY(""+t.key):e.toString(36)}function cb(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gg:case gY:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+oA(o,0):n,kB(i)?(r="",t!=null&&(r=t.replace(PB,"$&/")+"/"),cb(i,e,r,"",function(l){return l})):i!=null&&(rR(i)&&(i=IY(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(PB,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",kB(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+oA(s,a);o+=cb(s,e,r,u,i)}else if(u=CY(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+oA(s,a++),o+=cb(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function V_(t,e,r){if(t==null)return t;var n=[],i=0;return cb(t,n,"","",function(s){return e.call(r,s,i++)}),n}function RY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},hb={transition:null},kY={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:hb,ReactCurrentOwner:tR};lt.Children={map:V_,forEach:function(t,e,r){V_(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return V_(t,function(){e++}),e},toArray:function(t){return V_(t,function(e){return e})||[]},only:function(t){if(!rR(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=hp;lt.Fragment=vY;lt.Profiler=bY;lt.PureComponent=JO;lt.StrictMode=_Y;lt.Suspense=SY;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kY;lt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=n5({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=tR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)o5.call(e,u)&&!a5.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Gg,type:t.type,key:i,ref:s,props:n,_owner:o}};lt.createContext=function(t){return t={$$typeof:EY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wY,_context:t},t.Consumer=t};lt.createElement=u5;lt.createFactory=function(t){var e=u5.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:xY,render:t}};lt.isValidElement=rR;lt.lazy=function(t){return{$$typeof:TY,_payload:{_status:-1,_result:t},_init:RY}};lt.memo=function(t,e){return{$$typeof:AY,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=hb.transition;hb.transition={};try{t()}finally{hb.transition=e}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(t,e){return qn.current.useCallback(t,e)};lt.useContext=function(t){return qn.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};lt.useEffect=function(t,e){return qn.current.useEffect(t,e)};lt.useId=function(){return qn.current.useId()};lt.useImperativeHandle=function(t,e,r){return qn.current.useImperativeHandle(t,e,r)};lt.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return qn.current.useMemo(t,e)};lt.useReducer=function(t,e,r){return qn.current.useReducer(t,e,r)};lt.useRef=function(t){return qn.current.useRef(t)};lt.useState=function(t){return qn.current.useState(t)};lt.useSyncExternalStore=function(t,e,r){return qn.current.useSyncExternalStore(t,e,r)};lt.useTransition=function(){return qn.current.useTransition()};lt.version="18.2.0";t5.exports=lt;var Me=t5.exports;const Yo=Eh(Me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PY=Me,NY=Symbol.for("react.element"),MY=Symbol.for("react.fragment"),DY=Object.prototype.hasOwnProperty,BY=PY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LY={key:!0,ref:!0,__self:!0,__source:!0};function l5(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)DY.call(e,n)&&!LY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:NY,type:t,key:s,ref:o,props:i,_owner:BY.current}}Nw.Fragment=MY;Nw.jsx=l5;Nw.jsxs=l5;e5.exports=Nw;var Or=e5.exports,NC={},c5={exports:{}},Ni={},h5={exports:{}},d5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,F){var $=k.length;k.push(F);e:for(;0<$;){var z=$-1>>>1,q=k[z];if(0<i(q,F))k[z]=F,k[$]=q,$=z;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var F=k[0],$=k.pop();if($!==F){k[0]=$;e:for(var z=0,q=k.length,ne=q>>>1;z<ne;){var re=2*(z+1)-1,ae=k[re],oe=re+1,ve=k[oe];if(0>i(ae,$))oe<q&&0>i(ve,ae)?(k[z]=ve,k[oe]=$,z=oe):(k[z]=ae,k[re]=$,z=re);else if(oe<q&&0>i(ve,$))k[z]=ve,k[oe]=$,z=oe;else break e}}return F}function i(k,F){var $=k.sortIndex-F.sortIndex;return $!==0?$:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,p=3,m=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(k){for(var F=r(l);F!==null;){if(F.callback===null)n(l);else if(F.startTime<=k)n(l),F.sortIndex=F.expirationTime,e(u,F);else break;F=r(l)}}function x(k){if(g=!1,E(k),!y)if(r(u)!==null)y=!0,P(N);else{var F=r(l);F!==null&&O(x,F.startTime-k)}}function N(k,F){y=!1,g&&(g=!1,_(D),D=-1),m=!0;var $=p;try{for(E(F),f=r(u);f!==null&&(!(f.expirationTime>F)||k&&!U());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var q=z(f.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?f.callback=q:f===r(u)&&n(u),E(F)}else n(u);f=r(u)}if(f!==null)var ne=!0;else{var re=r(l);re!==null&&O(x,re.startTime-F),ne=!1}return ne}finally{f=null,p=$,m=!1}}var M=!1,R=null,D=-1,W=5,G=-1;function U(){return!(t.unstable_now()-G<W)}function X(){if(R!==null){var k=t.unstable_now();G=k;var F=!0;try{F=R(!0,k)}finally{F?B():(M=!1,R=null)}}else M=!1}var B;if(typeof w=="function")B=function(){w(X)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,C=j.port2;j.port1.onmessage=X,B=function(){C.postMessage(null)}}else B=function(){b(X,0)};function P(k){R=k,M||(M=!0,B())}function O(k,F){D=b(function(){k(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,P(N))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var $=p;p=F;try{return k()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=p;p=k;try{return F()}finally{p=$}},t.unstable_scheduleCallback=function(k,F,$){var z=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,k){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,k={id:c++,callback:F,priorityLevel:k,startTime:$,expirationTime:q,sortIndex:-1},$>z?(k.sortIndex=$,e(l,k),r(u)===null&&k===r(l)&&(g?(_(D),D=-1):g=!0,O(x,$-z))):(k.sortIndex=q,e(u,k),y||m||(y=!0,P(N))),k},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(k){var F=p;return function(){var $=p;p=F;try{return k.apply(this,arguments)}finally{p=$}}}})(d5);h5.exports=d5;var $Y=h5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f5=Me,Pi=$Y;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p5=new Set,Ny={};function xh(t,e){If(t,e),If(t+"Capture",e)}function If(t,e){for(Ny[t]=e,t=0;t<e.length;t++)p5.add(e[t])}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MC=Object.prototype.hasOwnProperty,FY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NB={},MB={};function UY(t){return MC.call(MB,t)?!0:MC.call(NB,t)?!1:FY.test(t)?MB[t]=!0:(NB[t]=!0,!1)}function jY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zY(t,e,r,n){if(e===null||typeof e>"u"||jY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Zn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Zn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Zn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Zn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Zn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Zn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Zn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Zn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Zn(t,5,!1,t.toLowerCase(),null,!1,!1)});var nR=/[\-:]([a-z])/g;function iR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(nR,iR);un[e]=new Zn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(nR,iR);un[e]=new Zn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(nR,iR);un[e]=new Zn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Zn(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Zn(t,1,!1,t.toLowerCase(),null,!0,!0)});function sR(t,e,r,n){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zY(e,r,i,n)&&(r=null),n||i===null?UY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var uu=f5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G_=Symbol.for("react.element"),Ld=Symbol.for("react.portal"),$d=Symbol.for("react.fragment"),oR=Symbol.for("react.strict_mode"),DC=Symbol.for("react.profiler"),m5=Symbol.for("react.provider"),y5=Symbol.for("react.context"),aR=Symbol.for("react.forward_ref"),BC=Symbol.for("react.suspense"),LC=Symbol.for("react.suspense_list"),uR=Symbol.for("react.memo"),Ou=Symbol.for("react.lazy"),g5=Symbol.for("react.offscreen"),DB=Symbol.iterator;function ym(t){return t===null||typeof t!="object"?null:(t=DB&&t[DB]||t["@@iterator"],typeof t=="function"?t:null)}var ir=Object.assign,aA;function zm(t){if(aA===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);aA=e&&e[1]||""}return`
`+aA+t}var uA=!1;function lA(t,e){if(!t||uA)return"";uA=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{uA=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zm(t):""}function HY(t){switch(t.tag){case 5:return zm(t.type);case 16:return zm("Lazy");case 13:return zm("Suspense");case 19:return zm("SuspenseList");case 0:case 2:case 15:return t=lA(t.type,!1),t;case 11:return t=lA(t.type.render,!1),t;case 1:return t=lA(t.type,!0),t;default:return""}}function $C(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $d:return"Fragment";case Ld:return"Portal";case DC:return"Profiler";case oR:return"StrictMode";case BC:return"Suspense";case LC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y5:return(t.displayName||"Context")+".Consumer";case m5:return(t._context.displayName||"Context")+".Provider";case aR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uR:return e=t.displayName||null,e!==null?e:$C(t.type)||"Memo";case Ou:e=t._payload,t=t._init;try{return $C(t(e))}catch{}}return null}function VY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $C(e);case 8:return e===oR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GY(t){var e=v5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function W_(t){t._valueTracker||(t._valueTracker=GY(t))}function _5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=v5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function FC(t,e){var r=e.checked;return ir({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function BB(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=hl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function b5(t,e){e=e.checked,e!=null&&sR(t,"checked",e,!1)}function UC(t,e){b5(t,e);var r=hl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jC(t,e.type,r):e.hasOwnProperty("defaultValue")&&jC(t,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LB(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function jC(t,e,r){(e!=="number"||Wb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Hm=Array.isArray;function lf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+hl(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return ir({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $B(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(me(92));if(Hm(r)){if(1<r.length)throw Error(me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:hl(r)}}function w5(t,e){var r=hl(e.value),n=hl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function FB(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var q_,x5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(q_=q_||document.createElement("div"),q_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=q_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function My(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ay={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WY=["Webkit","ms","Moz","O"];Object.keys(ay).forEach(function(t){WY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ay[e]=ay[t]})});function S5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ay.hasOwnProperty(t)&&ay[t]?(""+e).trim():e+"px"}function A5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=S5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var qY=ir({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function VC(t,e){if(e){if(qY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function GC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WC=null;function lR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qC=null,cf=null,hf=null;function UB(t){if(t=Zg(t)){if(typeof qC!="function")throw Error(me(280));var e=t.stateNode;e&&(e=$w(e),qC(t.stateNode,t.type,e))}}function T5(t){cf?hf?hf.push(t):hf=[t]:cf=t}function C5(){if(cf){var t=cf,e=hf;if(hf=cf=null,UB(t),e)for(t=0;t<e.length;t++)UB(e[t])}}function I5(t,e){return t(e)}function O5(){}var cA=!1;function R5(t,e,r){if(cA)return t(e,r);cA=!0;try{return I5(t,e,r)}finally{cA=!1,(cf!==null||hf!==null)&&(O5(),C5())}}function Dy(t,e){var r=t.stateNode;if(r===null)return null;var n=$w(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,e,typeof r));return r}var ZC=!1;if(Ya)try{var gm={};Object.defineProperty(gm,"passive",{get:function(){ZC=!0}}),window.addEventListener("test",gm,gm),window.removeEventListener("test",gm,gm)}catch{ZC=!1}function ZY(t,e,r,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var uy=!1,qb=null,Zb=!1,XC=null,XY={onError:function(t){uy=!0,qb=t}};function YY(t,e,r,n,i,s,o,a,u){uy=!1,qb=null,ZY.apply(XY,arguments)}function QY(t,e,r,n,i,s,o,a,u){if(YY.apply(this,arguments),uy){if(uy){var l=qb;uy=!1,qb=null}else throw Error(me(198));Zb||(Zb=!0,XC=l)}}function Sh(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function k5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jB(t){if(Sh(t)!==t)throw Error(me(188))}function KY(t){var e=t.alternate;if(!e){if(e=Sh(t),e===null)throw Error(me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return jB(i),t;if(s===n)return jB(i),e;s=s.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:e}function P5(t){return t=KY(t),t!==null?N5(t):null}function N5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=N5(t);if(e!==null)return e;t=t.sibling}return null}var M5=Pi.unstable_scheduleCallback,zB=Pi.unstable_cancelCallback,JY=Pi.unstable_shouldYield,eQ=Pi.unstable_requestPaint,mr=Pi.unstable_now,tQ=Pi.unstable_getCurrentPriorityLevel,cR=Pi.unstable_ImmediatePriority,D5=Pi.unstable_UserBlockingPriority,Xb=Pi.unstable_NormalPriority,rQ=Pi.unstable_LowPriority,B5=Pi.unstable_IdlePriority,Mw=null,Qo=null;function nQ(t){if(Qo&&typeof Qo.onCommitFiberRoot=="function")try{Qo.onCommitFiberRoot(Mw,t,void 0,(t.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:oQ,iQ=Math.log,sQ=Math.LN2;function oQ(t){return t>>>=0,t===0?32:31-(iQ(t)/sQ|0)|0}var Z_=64,X_=4194304;function Vm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Vm(a):(s&=o,s!==0&&(n=Vm(s)))}else o=r&~i,o!==0?n=Vm(o):s!==0&&(n=Vm(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Hs(e),i=1<<r,n|=t[r],e&=~i;return n}function aQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Hs(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=aQ(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function YC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L5(){var t=Z_;return Z_<<=1,!(Z_&4194240)&&(Z_=64),t}function hA(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hs(e),t[e]=r}function lQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Hs(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function hR(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Hs(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Tt=0;function $5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var F5,dR,U5,j5,z5,QC=!1,Y_=[],Yu=null,Qu=null,Ku=null,By=new Map,Ly=new Map,Du=[],cQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HB(t,e){switch(t){case"focusin":case"focusout":Yu=null;break;case"dragenter":case"dragleave":Qu=null;break;case"mouseover":case"mouseout":Ku=null;break;case"pointerover":case"pointerout":By.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ly.delete(e.pointerId)}}function vm(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zg(e),e!==null&&dR(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hQ(t,e,r,n,i){switch(e){case"focusin":return Yu=vm(Yu,t,e,r,n,i),!0;case"dragenter":return Qu=vm(Qu,t,e,r,n,i),!0;case"mouseover":return Ku=vm(Ku,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return By.set(s,vm(By.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ly.set(s,vm(Ly.get(s)||null,t,e,r,n,i)),!0}return!1}function H5(t){var e=Tc(t.target);if(e!==null){var r=Sh(e);if(r!==null){if(e=r.tag,e===13){if(e=k5(r),e!==null){t.blockedOn=e,z5(t.priority,function(){U5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function db(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=KC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);WC=n,r.target.dispatchEvent(n),WC=null}else return e=Zg(r),e!==null&&dR(e),t.blockedOn=r,!1;e.shift()}return!0}function VB(t,e,r){db(t)&&r.delete(e)}function dQ(){QC=!1,Yu!==null&&db(Yu)&&(Yu=null),Qu!==null&&db(Qu)&&(Qu=null),Ku!==null&&db(Ku)&&(Ku=null),By.forEach(VB),Ly.forEach(VB)}function _m(t,e){t.blockedOn===e&&(t.blockedOn=null,QC||(QC=!0,Pi.unstable_scheduleCallback(Pi.unstable_NormalPriority,dQ)))}function $y(t){function e(i){return _m(i,t)}if(0<Y_.length){_m(Y_[0],t);for(var r=1;r<Y_.length;r++){var n=Y_[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Yu!==null&&_m(Yu,t),Qu!==null&&_m(Qu,t),Ku!==null&&_m(Ku,t),By.forEach(e),Ly.forEach(e),r=0;r<Du.length;r++)n=Du[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Du.length&&(r=Du[0],r.blockedOn===null);)H5(r),r.blockedOn===null&&Du.shift()}var df=uu.ReactCurrentBatchConfig,Qb=!0;function fQ(t,e,r,n){var i=Tt,s=df.transition;df.transition=null;try{Tt=1,fR(t,e,r,n)}finally{Tt=i,df.transition=s}}function pQ(t,e,r,n){var i=Tt,s=df.transition;df.transition=null;try{Tt=4,fR(t,e,r,n)}finally{Tt=i,df.transition=s}}function fR(t,e,r,n){if(Qb){var i=KC(t,e,r,n);if(i===null)wA(t,e,n,Kb,r),HB(t,n);else if(hQ(i,t,e,r,n))n.stopPropagation();else if(HB(t,n),e&4&&-1<cQ.indexOf(t)){for(;i!==null;){var s=Zg(i);if(s!==null&&F5(s),s=KC(t,e,r,n),s===null&&wA(t,e,n,Kb,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else wA(t,e,n,null,r)}}var Kb=null;function KC(t,e,r,n){if(Kb=null,t=lR(n),t=Tc(t),t!==null)if(e=Sh(t),e===null)t=null;else if(r=e.tag,r===13){if(t=k5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kb=t,null}function V5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tQ()){case cR:return 1;case D5:return 4;case Xb:case rQ:return 16;case B5:return 536870912;default:return 16}default:return 16}}var Fu=null,pR=null,fb=null;function G5(){if(fb)return fb;var t,e=pR,r=e.length,n,i="value"in Fu?Fu.value:Fu.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return fb=i.slice(t,1<n?1-n:void 0)}function pb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Q_(){return!0}function GB(){return!1}function Mi(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Q_:GB,this.isPropagationStopped=GB,this}return ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Q_)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Q_)},persist:function(){},isPersistent:Q_}),e}var dp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mR=Mi(dp),qg=ir({},dp,{view:0,detail:0}),mQ=Mi(qg),dA,fA,bm,Dw=ir({},qg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bm&&(bm&&t.type==="mousemove"?(dA=t.screenX-bm.screenX,fA=t.screenY-bm.screenY):fA=dA=0,bm=t),dA)},movementY:function(t){return"movementY"in t?t.movementY:fA}}),WB=Mi(Dw),yQ=ir({},Dw,{dataTransfer:0}),gQ=Mi(yQ),vQ=ir({},qg,{relatedTarget:0}),pA=Mi(vQ),_Q=ir({},dp,{animationName:0,elapsedTime:0,pseudoElement:0}),bQ=Mi(_Q),wQ=ir({},dp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EQ=Mi(wQ),xQ=ir({},dp,{data:0}),qB=Mi(xQ),SQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TQ[t])?!!e[t]:!1}function yR(){return CQ}var IQ=ir({},qg,{key:function(t){if(t.key){var e=SQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yR,charCode:function(t){return t.type==="keypress"?pb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OQ=Mi(IQ),RQ=ir({},Dw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZB=Mi(RQ),kQ=ir({},qg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yR}),PQ=Mi(kQ),NQ=ir({},dp,{propertyName:0,elapsedTime:0,pseudoElement:0}),MQ=Mi(NQ),DQ=ir({},Dw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BQ=Mi(DQ),LQ=[9,13,27,32],gR=Ya&&"CompositionEvent"in window,ly=null;Ya&&"documentMode"in document&&(ly=document.documentMode);var $Q=Ya&&"TextEvent"in window&&!ly,W5=Ya&&(!gR||ly&&8<ly&&11>=ly),XB=String.fromCharCode(32),YB=!1;function q5(t,e){switch(t){case"keyup":return LQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fd=!1;function FQ(t,e){switch(t){case"compositionend":return Z5(e);case"keypress":return e.which!==32?null:(YB=!0,XB);case"textInput":return t=e.data,t===XB&&YB?null:t;default:return null}}function UQ(t,e){if(Fd)return t==="compositionend"||!gR&&q5(t,e)?(t=G5(),fb=pR=Fu=null,Fd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W5&&e.locale!=="ko"?null:e.data;default:return null}}var jQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jQ[t.type]:e==="textarea"}function X5(t,e,r,n){T5(n),e=Jb(e,"onChange"),0<e.length&&(r=new mR("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var cy=null,Fy=null;function zQ(t){o6(t,0)}function Bw(t){var e=zd(t);if(_5(e))return t}function HQ(t,e){if(t==="change")return e}var Y5=!1;if(Ya){var mA;if(Ya){var yA="oninput"in document;if(!yA){var KB=document.createElement("div");KB.setAttribute("oninput","return;"),yA=typeof KB.oninput=="function"}mA=yA}else mA=!1;Y5=mA&&(!document.documentMode||9<document.documentMode)}function JB(){cy&&(cy.detachEvent("onpropertychange",Q5),Fy=cy=null)}function Q5(t){if(t.propertyName==="value"&&Bw(Fy)){var e=[];X5(e,Fy,t,lR(t)),R5(zQ,e)}}function VQ(t,e,r){t==="focusin"?(JB(),cy=e,Fy=r,cy.attachEvent("onpropertychange",Q5)):t==="focusout"&&JB()}function GQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bw(Fy)}function WQ(t,e){if(t==="click")return Bw(e)}function qQ(t,e){if(t==="input"||t==="change")return Bw(e)}function ZQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ks=typeof Object.is=="function"?Object.is:ZQ;function Uy(t,e){if(Ks(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!MC.call(e,i)||!Ks(t[i],e[i]))return!1}return!0}function e3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t3(t,e){var r=e3(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=e3(r)}}function K5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?K5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J5(){for(var t=window,e=Wb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wb(t.document)}return e}function vR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XQ(t){var e=J5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&K5(r.ownerDocument.documentElement,r)){if(n!==null&&vR(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=t3(r,s);var o=t3(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YQ=Ya&&"documentMode"in document&&11>=document.documentMode,Ud=null,JC=null,hy=null,eI=!1;function r3(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eI||Ud==null||Ud!==Wb(n)||(n=Ud,"selectionStart"in n&&vR(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hy&&Uy(hy,n)||(hy=n,n=Jb(JC,"onSelect"),0<n.length&&(e=new mR("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ud)))}function K_(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var jd={animationend:K_("Animation","AnimationEnd"),animationiteration:K_("Animation","AnimationIteration"),animationstart:K_("Animation","AnimationStart"),transitionend:K_("Transition","TransitionEnd")},gA={},e6={};Ya&&(e6=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function Lw(t){if(gA[t])return gA[t];if(!jd[t])return t;var e=jd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in e6)return gA[t]=e[r];return t}var t6=Lw("animationend"),r6=Lw("animationiteration"),n6=Lw("animationstart"),i6=Lw("transitionend"),s6=new Map,n3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(t,e){s6.set(t,e),xh(e,[t])}for(var vA=0;vA<n3.length;vA++){var _A=n3[vA],QQ=_A.toLowerCase(),KQ=_A[0].toUpperCase()+_A.slice(1);kl(QQ,"on"+KQ)}kl(t6,"onAnimationEnd");kl(r6,"onAnimationIteration");kl(n6,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(i6,"onTransitionEnd");If("onMouseEnter",["mouseout","mouseover"]);If("onMouseLeave",["mouseout","mouseover"]);If("onPointerEnter",["pointerout","pointerover"]);If("onPointerLeave",["pointerout","pointerover"]);xh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xh("onBeforeInput",["compositionend","keypress","textInput","paste"]);xh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gm));function i3(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,QY(n,e,void 0,t),t.currentTarget=null}function o6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;i3(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;i3(i,a,l),s=u}}}if(Zb)throw t=XC,Zb=!1,XC=null,t}function $t(t,e){var r=e[sI];r===void 0&&(r=e[sI]=new Set);var n=t+"__bubble";r.has(n)||(a6(e,t,2,!1),r.add(n))}function bA(t,e,r){var n=0;e&&(n|=4),a6(r,t,n,e)}var J_="_reactListening"+Math.random().toString(36).slice(2);function jy(t){if(!t[J_]){t[J_]=!0,p5.forEach(function(r){r!=="selectionchange"&&(JQ.has(r)||bA(r,!1,t),bA(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[J_]||(e[J_]=!0,bA("selectionchange",!1,e))}}function a6(t,e,r,n){switch(V5(e)){case 1:var i=fQ;break;case 4:i=pQ;break;default:i=fR}r=i.bind(null,e,r,t),i=void 0,!ZC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function wA(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Tc(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}R5(function(){var l=s,c=lR(r),f=[];e:{var p=s6.get(t);if(p!==void 0){var m=mR,y=t;switch(t){case"keypress":if(pb(r)===0)break e;case"keydown":case"keyup":m=OQ;break;case"focusin":y="focus",m=pA;break;case"focusout":y="blur",m=pA;break;case"beforeblur":case"afterblur":m=pA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=WB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=gQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=PQ;break;case t6:case r6:case n6:m=bQ;break;case i6:m=MQ;break;case"scroll":m=mQ;break;case"wheel":m=BQ;break;case"copy":case"cut":case"paste":m=EQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZB}var g=(e&4)!==0,b=!g&&t==="scroll",_=g?p!==null?p+"Capture":null:p;g=[];for(var w=l,E;w!==null;){E=w;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,_!==null&&(x=Dy(w,_),x!=null&&g.push(zy(w,x,E)))),b)break;w=w.return}0<g.length&&(p=new m(p,y,null,r,c),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==WC&&(y=r.relatedTarget||r.fromElement)&&(Tc(y)||y[Qa]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=l,y=y?Tc(y):null,y!==null&&(b=Sh(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=l),m!==y)){if(g=WB,x="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=ZB,x="onPointerLeave",_="onPointerEnter",w="pointer"),b=m==null?p:zd(m),E=y==null?p:zd(y),p=new g(x,w+"leave",m,r,c),p.target=b,p.relatedTarget=E,x=null,Tc(c)===l&&(g=new g(_,w+"enter",y,r,c),g.target=E,g.relatedTarget=b,x=g),b=x,m&&y)t:{for(g=m,_=y,w=0,E=g;E;E=ld(E))w++;for(E=0,x=_;x;x=ld(x))E++;for(;0<w-E;)g=ld(g),w--;for(;0<E-w;)_=ld(_),E--;for(;w--;){if(g===_||_!==null&&g===_.alternate)break t;g=ld(g),_=ld(_)}g=null}else g=null;m!==null&&s3(f,p,m,g,!1),y!==null&&b!==null&&s3(f,b,y,g,!0)}}e:{if(p=l?zd(l):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=HQ;else if(QB(p))if(Y5)N=qQ;else{N=GQ;var M=VQ}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=WQ);if(N&&(N=N(t,l))){X5(f,N,r,c);break e}M&&M(t,p,l),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&jC(p,"number",p.value)}switch(M=l?zd(l):window,t){case"focusin":(QB(M)||M.contentEditable==="true")&&(Ud=M,JC=l,hy=null);break;case"focusout":hy=JC=Ud=null;break;case"mousedown":eI=!0;break;case"contextmenu":case"mouseup":case"dragend":eI=!1,r3(f,r,c);break;case"selectionchange":if(YQ)break;case"keydown":case"keyup":r3(f,r,c)}var R;if(gR)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Fd?q5(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(W5&&r.locale!=="ko"&&(Fd||D!=="onCompositionStart"?D==="onCompositionEnd"&&Fd&&(R=G5()):(Fu=c,pR="value"in Fu?Fu.value:Fu.textContent,Fd=!0)),M=Jb(l,D),0<M.length&&(D=new qB(D,t,null,r,c),f.push({event:D,listeners:M}),R?D.data=R:(R=Z5(r),R!==null&&(D.data=R)))),(R=$Q?FQ(t,r):UQ(t,r))&&(l=Jb(l,"onBeforeInput"),0<l.length&&(c=new qB("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=R))}o6(f,e)})}function zy(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Jb(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Dy(t,r),s!=null&&n.unshift(zy(t,s,i)),s=Dy(t,e),s!=null&&n.push(zy(t,s,i))),t=t.return}return n}function ld(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function s3(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=Dy(r,s),u!=null&&o.unshift(zy(r,u,a))):i||(u=Dy(r,s),u!=null&&o.push(zy(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var eK=/\r\n?/g,tK=/\u0000|\uFFFD/g;function o3(t){return(typeof t=="string"?t:""+t).replace(eK,`
`).replace(tK,"")}function e0(t,e,r){if(e=o3(e),o3(t)!==e&&r)throw Error(me(425))}function e1(){}var tI=null,rI=null;function nI(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iI=typeof setTimeout=="function"?setTimeout:void 0,rK=typeof clearTimeout=="function"?clearTimeout:void 0,a3=typeof Promise=="function"?Promise:void 0,nK=typeof queueMicrotask=="function"?queueMicrotask:typeof a3<"u"?function(t){return a3.resolve(null).then(t).catch(iK)}:iI;function iK(t){setTimeout(function(){throw t})}function EA(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$y(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$y(e)}function Ju(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function u3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fp=Math.random().toString(36).slice(2),Vo="__reactFiber$"+fp,Hy="__reactProps$"+fp,Qa="__reactContainer$"+fp,sI="__reactEvents$"+fp,sK="__reactListeners$"+fp,oK="__reactHandles$"+fp;function Tc(t){var e=t[Vo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qa]||r[Vo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=u3(t);t!==null;){if(r=t[Vo])return r;t=u3(t)}return e}t=r,r=t.parentNode}return null}function Zg(t){return t=t[Vo]||t[Qa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function $w(t){return t[Hy]||null}var oI=[],Hd=-1;function Pl(t){return{current:t}}function zt(t){0>Hd||(t.current=oI[Hd],oI[Hd]=null,Hd--)}function Nt(t,e){Hd++,oI[Hd]=t.current,t.current=e}var dl={},bn=Pl(dl),li=Pl(!1),Xc=dl;function Of(t,e){var r=t.type.contextTypes;if(!r)return dl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ci(t){return t=t.childContextTypes,t!=null}function t1(){zt(li),zt(bn)}function l3(t,e,r){if(bn.current!==dl)throw Error(me(168));Nt(bn,e),Nt(li,r)}function u6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(me(108,VY(t)||"Unknown",i));return ir({},r,n)}function r1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dl,Xc=bn.current,Nt(bn,t),Nt(li,li.current),!0}function c3(t,e,r){var n=t.stateNode;if(!n)throw Error(me(169));r?(t=u6(t,e,Xc),n.__reactInternalMemoizedMergedChildContext=t,zt(li),zt(bn),Nt(bn,t)):zt(li),Nt(li,r)}var Pa=null,Fw=!1,xA=!1;function l6(t){Pa===null?Pa=[t]:Pa.push(t)}function aK(t){Fw=!0,l6(t)}function Nl(){if(!xA&&Pa!==null){xA=!0;var t=0,e=Tt;try{var r=Pa;for(Tt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pa=null,Fw=!1}catch(i){throw Pa!==null&&(Pa=Pa.slice(t+1)),M5(cR,Nl),i}finally{Tt=e,xA=!1}}return null}var Vd=[],Gd=0,n1=null,i1=0,Qi=[],Ki=0,Yc=null,ja=1,za="";function lc(t,e){Vd[Gd++]=i1,Vd[Gd++]=n1,n1=t,i1=e}function c6(t,e,r){Qi[Ki++]=ja,Qi[Ki++]=za,Qi[Ki++]=Yc,Yc=t;var n=ja;t=za;var i=32-Hs(n)-1;n&=~(1<<i),r+=1;var s=32-Hs(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ja=1<<32-Hs(e)+i|r<<i|n,za=s+t}else ja=1<<s|r<<i|n,za=t}function _R(t){t.return!==null&&(lc(t,1),c6(t,1,0))}function bR(t){for(;t===n1;)n1=Vd[--Gd],Vd[Gd]=null,i1=Vd[--Gd],Vd[Gd]=null;for(;t===Yc;)Yc=Qi[--Ki],Qi[Ki]=null,za=Qi[--Ki],Qi[Ki]=null,ja=Qi[--Ki],Qi[Ki]=null}var Oi=null,Ti=null,Yt=!1,Ls=null;function h6(t,e){var r=rs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function h3(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oi=t,Ti=Ju(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oi=t,Ti=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yc!==null?{id:ja,overflow:za}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Oi=t,Ti=null,!0):!1;default:return!1}}function aI(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uI(t){if(Yt){var e=Ti;if(e){var r=e;if(!h3(t,e)){if(aI(t))throw Error(me(418));e=Ju(r.nextSibling);var n=Oi;e&&h3(t,e)?h6(n,r):(t.flags=t.flags&-4097|2,Yt=!1,Oi=t)}}else{if(aI(t))throw Error(me(418));t.flags=t.flags&-4097|2,Yt=!1,Oi=t}}}function d3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oi=t}function t0(t){if(t!==Oi)return!1;if(!Yt)return d3(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nI(t.type,t.memoizedProps)),e&&(e=Ti)){if(aI(t))throw d6(),Error(me(418));for(;e;)h6(t,e),e=Ju(e.nextSibling)}if(d3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ti=Ju(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ti=null}}else Ti=Oi?Ju(t.stateNode.nextSibling):null;return!0}function d6(){for(var t=Ti;t;)t=Ju(t.nextSibling)}function Rf(){Ti=Oi=null,Yt=!1}function wR(t){Ls===null?Ls=[t]:Ls.push(t)}var uK=uu.ReactCurrentBatchConfig;function Ns(t,e){if(t&&t.defaultProps){e=ir({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var s1=Pl(null),o1=null,Wd=null,ER=null;function xR(){ER=Wd=o1=null}function SR(t){var e=s1.current;zt(s1),t._currentValue=e}function lI(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ff(t,e){o1=t,ER=Wd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ii=!0),t.firstContext=null)}function hs(t){var e=t._currentValue;if(ER!==t)if(t={context:t,memoizedValue:e,next:null},Wd===null){if(o1===null)throw Error(me(308));Wd=t,o1.dependencies={lanes:0,firstContext:t}}else Wd=Wd.next=t;return e}var Cc=null;function AR(t){Cc===null?Cc=[t]:Cc.push(t)}function f6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,AR(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ka(t,n)}function Ka(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ru=!1;function TR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ga(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function el(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,gt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ka(t,r)}return i=n.interleaved,i===null?(e.next=e,AR(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ka(t,r)}function mb(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hR(t,r)}}function f3(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function a1(t,e,r,n){var i=t.updateQueue;Ru=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var p=a.lane,m=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(p=e,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=ir({},f,p);break e;case 2:Ru=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=m,u=f):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Kc|=o,t.lanes=o,t.memoizedState=f}}function p3(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var m6=new f5.Component().refs;function cI(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ir({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uw={isMounted:function(t){return(t=t._reactInternals)?Sh(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=jn(),i=rl(t),s=Ga(n,i);s.payload=e,r!=null&&(s.callback=r),e=el(t,s,i),e!==null&&(Vs(e,t,i,n),mb(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=jn(),i=rl(t),s=Ga(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=el(t,s,i),e!==null&&(Vs(e,t,i,n),mb(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=jn(),n=rl(t),i=Ga(r,n);i.tag=2,e!=null&&(i.callback=e),e=el(t,i,n),e!==null&&(Vs(e,t,n,r),mb(e,t,n))}};function m3(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uy(r,n)||!Uy(i,s):!0}function y6(t,e,r){var n=!1,i=dl,s=e.contextType;return typeof s=="object"&&s!==null?s=hs(s):(i=ci(e)?Xc:bn.current,n=e.contextTypes,s=(n=n!=null)?Of(t,i):dl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function y3(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Uw.enqueueReplaceState(e,e.state,null)}function hI(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=m6,TR(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hs(s):(s=ci(e)?Xc:bn.current,i.context=Of(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cI(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Uw.enqueueReplaceState(i,i.state,null),a1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===m6&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function r0(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g3(t){var e=t._init;return e(t._payload)}function g6(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function r(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function n(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=nl(_,w),_.index=0,_.sibling=null,_}function s(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,E,x){return w===null||w.tag!==6?(w=RA(E,_.mode,x),w.return=_,w):(w=i(w,E),w.return=_,w)}function u(_,w,E,x){var N=E.type;return N===$d?c(_,w,E.props.children,x,E.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ou&&g3(N)===w.type)?(x=i(w,E.props),x.ref=wm(_,w,E),x.return=_,x):(x=wb(E.type,E.key,E.props,null,_.mode,x),x.ref=wm(_,w,E),x.return=_,x)}function l(_,w,E,x){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=kA(E,_.mode,x),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function c(_,w,E,x,N){return w===null||w.tag!==7?(w=Uc(E,_.mode,x,N),w.return=_,w):(w=i(w,E),w.return=_,w)}function f(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=RA(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case G_:return E=wb(w.type,w.key,w.props,null,_.mode,E),E.ref=wm(_,null,w),E.return=_,E;case Ld:return w=kA(w,_.mode,E),w.return=_,w;case Ou:var x=w._init;return f(_,x(w._payload),E)}if(Hm(w)||ym(w))return w=Uc(w,_.mode,E,null),w.return=_,w;r0(_,w)}return null}function p(_,w,E,x){var N=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(_,w,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case G_:return E.key===N?u(_,w,E,x):null;case Ld:return E.key===N?l(_,w,E,x):null;case Ou:return N=E._init,p(_,w,N(E._payload),x)}if(Hm(E)||ym(E))return N!==null?null:c(_,w,E,x,null);r0(_,E)}return null}function m(_,w,E,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(E)||null,a(w,_,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case G_:return _=_.get(x.key===null?E:x.key)||null,u(w,_,x,N);case Ld:return _=_.get(x.key===null?E:x.key)||null,l(w,_,x,N);case Ou:var M=x._init;return m(_,w,E,M(x._payload),N)}if(Hm(x)||ym(x))return _=_.get(E)||null,c(w,_,x,N,null);r0(w,x)}return null}function y(_,w,E,x){for(var N=null,M=null,R=w,D=w=0,W=null;R!==null&&D<E.length;D++){R.index>D?(W=R,R=null):W=R.sibling;var G=p(_,R,E[D],x);if(G===null){R===null&&(R=W);break}t&&R&&G.alternate===null&&e(_,R),w=s(G,w,D),M===null?N=G:M.sibling=G,M=G,R=W}if(D===E.length)return r(_,R),Yt&&lc(_,D),N;if(R===null){for(;D<E.length;D++)R=f(_,E[D],x),R!==null&&(w=s(R,w,D),M===null?N=R:M.sibling=R,M=R);return Yt&&lc(_,D),N}for(R=n(_,R);D<E.length;D++)W=m(R,_,D,E[D],x),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?D:W.key),w=s(W,w,D),M===null?N=W:M.sibling=W,M=W);return t&&R.forEach(function(U){return e(_,U)}),Yt&&lc(_,D),N}function g(_,w,E,x){var N=ym(E);if(typeof N!="function")throw Error(me(150));if(E=N.call(E),E==null)throw Error(me(151));for(var M=N=null,R=w,D=w=0,W=null,G=E.next();R!==null&&!G.done;D++,G=E.next()){R.index>D?(W=R,R=null):W=R.sibling;var U=p(_,R,G.value,x);if(U===null){R===null&&(R=W);break}t&&R&&U.alternate===null&&e(_,R),w=s(U,w,D),M===null?N=U:M.sibling=U,M=U,R=W}if(G.done)return r(_,R),Yt&&lc(_,D),N;if(R===null){for(;!G.done;D++,G=E.next())G=f(_,G.value,x),G!==null&&(w=s(G,w,D),M===null?N=G:M.sibling=G,M=G);return Yt&&lc(_,D),N}for(R=n(_,R);!G.done;D++,G=E.next())G=m(R,_,D,G.value,x),G!==null&&(t&&G.alternate!==null&&R.delete(G.key===null?D:G.key),w=s(G,w,D),M===null?N=G:M.sibling=G,M=G);return t&&R.forEach(function(X){return e(_,X)}),Yt&&lc(_,D),N}function b(_,w,E,x){if(typeof E=="object"&&E!==null&&E.type===$d&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case G_:e:{for(var N=E.key,M=w;M!==null;){if(M.key===N){if(N=E.type,N===$d){if(M.tag===7){r(_,M.sibling),w=i(M,E.props.children),w.return=_,_=w;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ou&&g3(N)===M.type){r(_,M.sibling),w=i(M,E.props),w.ref=wm(_,M,E),w.return=_,_=w;break e}r(_,M);break}else e(_,M);M=M.sibling}E.type===$d?(w=Uc(E.props.children,_.mode,x,E.key),w.return=_,_=w):(x=wb(E.type,E.key,E.props,null,_.mode,x),x.ref=wm(_,w,E),x.return=_,_=x)}return o(_);case Ld:e:{for(M=E.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){r(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{r(_,w);break}else e(_,w);w=w.sibling}w=kA(E,_.mode,x),w.return=_,_=w}return o(_);case Ou:return M=E._init,b(_,w,M(E._payload),x)}if(Hm(E))return y(_,w,E,x);if(ym(E))return g(_,w,E,x);r0(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(r(_,w.sibling),w=i(w,E),w.return=_,_=w):(r(_,w),w=RA(E,_.mode,x),w.return=_,_=w),o(_)):r(_,w)}return b}var kf=g6(!0),v6=g6(!1),Xg={},Ko=Pl(Xg),Vy=Pl(Xg),Gy=Pl(Xg);function Ic(t){if(t===Xg)throw Error(me(174));return t}function CR(t,e){switch(Nt(Gy,e),Nt(Vy,t),Nt(Ko,Xg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=HC(e,t)}zt(Ko),Nt(Ko,e)}function Pf(){zt(Ko),zt(Vy),zt(Gy)}function _6(t){Ic(Gy.current);var e=Ic(Ko.current),r=HC(e,t.type);e!==r&&(Nt(Vy,t),Nt(Ko,r))}function IR(t){Vy.current===t&&(zt(Ko),zt(Vy))}var tr=Pl(0);function u1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var SA=[];function OR(){for(var t=0;t<SA.length;t++)SA[t]._workInProgressVersionPrimary=null;SA.length=0}var yb=uu.ReactCurrentDispatcher,AA=uu.ReactCurrentBatchConfig,Qc=0,nr=null,Ir=null,zr=null,l1=!1,dy=!1,Wy=0,lK=0;function pn(){throw Error(me(321))}function RR(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ks(t[r],e[r]))return!1;return!0}function kR(t,e,r,n,i,s){if(Qc=s,nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yb.current=t===null||t.memoizedState===null?fK:pK,t=r(n,i),dy){s=0;do{if(dy=!1,Wy=0,25<=s)throw Error(me(301));s+=1,zr=Ir=null,e.updateQueue=null,yb.current=mK,t=r(n,i)}while(dy)}if(yb.current=c1,e=Ir!==null&&Ir.next!==null,Qc=0,zr=Ir=nr=null,l1=!1,e)throw Error(me(300));return t}function PR(){var t=Wy!==0;return Wy=0,t}function Fo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?nr.memoizedState=zr=t:zr=zr.next=t,zr}function ds(){if(Ir===null){var t=nr.alternate;t=t!==null?t.memoizedState:null}else t=Ir.next;var e=zr===null?nr.memoizedState:zr.next;if(e!==null)zr=e,Ir=t;else{if(t===null)throw Error(me(310));Ir=t,t={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},zr===null?nr.memoizedState=zr=t:zr=zr.next=t}return zr}function qy(t,e){return typeof e=="function"?e(t):e}function TA(t){var e=ds(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=Ir,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Qc&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=n):u=u.next=f,nr.lanes|=c,Kc|=c}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,Ks(n,e.memoizedState)||(ii=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,nr.lanes|=s,Kc|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function CA(t){var e=ds(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ks(s,e.memoizedState)||(ii=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function b6(){}function w6(t,e){var r=nr,n=ds(),i=e(),s=!Ks(n.memoizedState,i);if(s&&(n.memoizedState=i,ii=!0),n=n.queue,NR(S6.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Zy(9,x6.bind(null,r,n,i,e),void 0,null),Zr===null)throw Error(me(349));Qc&30||E6(r,e,i)}return i}function E6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function x6(t,e,r,n){e.value=r,e.getSnapshot=n,A6(e)&&T6(t)}function S6(t,e,r){return r(function(){A6(e)&&T6(t)})}function A6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ks(t,r)}catch{return!0}}function T6(t){var e=Ka(t,1);e!==null&&Vs(e,t,1,-1)}function v3(t){var e=Fo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qy,lastRenderedState:t},e.queue=t,t=t.dispatch=dK.bind(null,nr,t),[e.memoizedState,t]}function Zy(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=nr.updateQueue,e===null?(e={lastEffect:null,stores:null},nr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function C6(){return ds().memoizedState}function gb(t,e,r,n){var i=Fo();nr.flags|=t,i.memoizedState=Zy(1|e,r,void 0,n===void 0?null:n)}function jw(t,e,r,n){var i=ds();n=n===void 0?null:n;var s=void 0;if(Ir!==null){var o=Ir.memoizedState;if(s=o.destroy,n!==null&&RR(n,o.deps)){i.memoizedState=Zy(e,r,s,n);return}}nr.flags|=t,i.memoizedState=Zy(1|e,r,s,n)}function _3(t,e){return gb(8390656,8,t,e)}function NR(t,e){return jw(2048,8,t,e)}function I6(t,e){return jw(4,2,t,e)}function O6(t,e){return jw(4,4,t,e)}function R6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k6(t,e,r){return r=r!=null?r.concat([t]):null,jw(4,4,R6.bind(null,e,t),r)}function MR(){}function P6(t,e){var r=ds();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RR(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function N6(t,e){var r=ds();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RR(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function M6(t,e,r){return Qc&21?(Ks(r,e)||(r=L5(),nr.lanes|=r,Kc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ii=!0),t.memoizedState=r)}function cK(t,e){var r=Tt;Tt=r!==0&&4>r?r:4,t(!0);var n=AA.transition;AA.transition={};try{t(!1),e()}finally{Tt=r,AA.transition=n}}function D6(){return ds().memoizedState}function hK(t,e,r){var n=rl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B6(t))L6(e,r);else if(r=f6(t,e,r,n),r!==null){var i=jn();Vs(r,t,n,i),$6(r,e,n)}}function dK(t,e,r){var n=rl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B6(t))L6(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ks(a,o)){var u=e.interleaved;u===null?(i.next=i,AR(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=f6(t,e,i,n),r!==null&&(i=jn(),Vs(r,t,n,i),$6(r,e,n))}}function B6(t){var e=t.alternate;return t===nr||e!==null&&e===nr}function L6(t,e){dy=l1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $6(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hR(t,r)}}var c1={readContext:hs,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},fK={readContext:hs,useCallback:function(t,e){return Fo().memoizedState=[t,e===void 0?null:e],t},useContext:hs,useEffect:_3,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gb(4194308,4,R6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gb(4194308,4,t,e)},useInsertionEffect:function(t,e){return gb(4,2,t,e)},useMemo:function(t,e){var r=Fo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Fo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=hK.bind(null,nr,t),[n.memoizedState,t]},useRef:function(t){var e=Fo();return t={current:t},e.memoizedState=t},useState:v3,useDebugValue:MR,useDeferredValue:function(t){return Fo().memoizedState=t},useTransition:function(){var t=v3(!1),e=t[0];return t=cK.bind(null,t[1]),Fo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=nr,i=Fo();if(Yt){if(r===void 0)throw Error(me(407));r=r()}else{if(r=e(),Zr===null)throw Error(me(349));Qc&30||E6(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,_3(S6.bind(null,n,s,t),[t]),n.flags|=2048,Zy(9,x6.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Fo(),e=Zr.identifierPrefix;if(Yt){var r=za,n=ja;r=(n&~(1<<32-Hs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Wy++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pK={readContext:hs,useCallback:P6,useContext:hs,useEffect:NR,useImperativeHandle:k6,useInsertionEffect:I6,useLayoutEffect:O6,useMemo:N6,useReducer:TA,useRef:C6,useState:function(){return TA(qy)},useDebugValue:MR,useDeferredValue:function(t){var e=ds();return M6(e,Ir.memoizedState,t)},useTransition:function(){var t=TA(qy)[0],e=ds().memoizedState;return[t,e]},useMutableSource:b6,useSyncExternalStore:w6,useId:D6,unstable_isNewReconciler:!1},mK={readContext:hs,useCallback:P6,useContext:hs,useEffect:NR,useImperativeHandle:k6,useInsertionEffect:I6,useLayoutEffect:O6,useMemo:N6,useReducer:CA,useRef:C6,useState:function(){return CA(qy)},useDebugValue:MR,useDeferredValue:function(t){var e=ds();return Ir===null?e.memoizedState=t:M6(e,Ir.memoizedState,t)},useTransition:function(){var t=CA(qy)[0],e=ds().memoizedState;return[t,e]},useMutableSource:b6,useSyncExternalStore:w6,useId:D6,unstable_isNewReconciler:!1};function Nf(t,e){try{var r="",n=e;do r+=HY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function IA(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function dI(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var yK=typeof WeakMap=="function"?WeakMap:Map;function F6(t,e,r){r=Ga(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){d1||(d1=!0,EI=n),dI(t,e)},r}function U6(t,e,r){r=Ga(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){dI(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){dI(t,e),typeof n!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function b3(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new yK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=RK.bind(null,t,e,r),e.then(t,t))}function w3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E3(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ga(-1,1),e.tag=2,el(r,e,1))),r.lanes|=1),t)}var gK=uu.ReactCurrentOwner,ii=!1;function Pn(t,e,r,n){e.child=t===null?v6(e,null,r,n):kf(e,t.child,r,n)}function x3(t,e,r,n,i){r=r.render;var s=e.ref;return ff(e,i),n=kR(t,e,r,n,s,i),r=PR(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ja(t,e,i)):(Yt&&r&&_R(e),e.flags|=1,Pn(t,e,n,i),e.child)}function S3(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!zR(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,j6(t,e,s,n,i)):(t=wb(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Uy,r(o,n)&&t.ref===e.ref)return Ja(t,e,i)}return e.flags|=1,t=nl(s,n),t.ref=e.ref,t.return=e,e.child=t}function j6(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Uy(s,n)&&t.ref===e.ref)if(ii=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ii=!0);else return e.lanes=t.lanes,Ja(t,e,i)}return fI(t,e,r,n,i)}function z6(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Zd,wi),wi|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(Zd,wi),wi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Nt(Zd,wi),wi|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Nt(Zd,wi),wi|=n;return Pn(t,e,i,r),e.child}function H6(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function fI(t,e,r,n,i){var s=ci(r)?Xc:bn.current;return s=Of(e,s),ff(e,i),r=kR(t,e,r,n,s,i),n=PR(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ja(t,e,i)):(Yt&&n&&_R(e),e.flags|=1,Pn(t,e,r,i),e.child)}function A3(t,e,r,n,i){if(ci(r)){var s=!0;r1(e)}else s=!1;if(ff(e,i),e.stateNode===null)vb(t,e),y6(e,r,n),hI(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=hs(l):(l=ci(r)?Xc:bn.current,l=Of(e,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&y3(e,o,n,l),Ru=!1;var p=e.memoizedState;o.state=p,a1(e,n,o,i),u=e.memoizedState,a!==n||p!==u||li.current||Ru?(typeof c=="function"&&(cI(e,r,c,n),u=e.memoizedState),(a=Ru||m3(e,r,a,n,p,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,p6(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Ns(e.type,a),o.props=l,f=e.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=hs(u):(u=ci(r)?Xc:bn.current,u=Of(e,u));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&y3(e,o,n,u),Ru=!1,p=e.memoizedState,o.state=p,a1(e,n,o,i);var y=e.memoizedState;a!==f||p!==y||li.current||Ru?(typeof m=="function"&&(cI(e,r,m,n),y=e.memoizedState),(l=Ru||m3(e,r,l,n,p,y,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return pI(t,e,r,n,s,i)}function pI(t,e,r,n,i,s){H6(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&c3(e,r,!1),Ja(t,e,s);n=e.stateNode,gK.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=kf(e,t.child,null,s),e.child=kf(e,null,a,s)):Pn(t,e,a,s),e.memoizedState=n.state,i&&c3(e,r,!0),e.child}function V6(t){var e=t.stateNode;e.pendingContext?l3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l3(t,e.context,!1),CR(t,e.containerInfo)}function T3(t,e,r,n,i){return Rf(),wR(i),e.flags|=256,Pn(t,e,r,n),e.child}var mI={dehydrated:null,treeContext:null,retryLane:0};function yI(t){return{baseLanes:t,cachePool:null,transitions:null}}function G6(t,e,r){var n=e.pendingProps,i=tr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nt(tr,i&1),t===null)return uI(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vw(o,n,0,null),t=Uc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yI(r),e.memoizedState=mI,t):DR(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vK(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=nl(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=nl(a,s):(s=Uc(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?yI(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=mI,n}return s=t.child,t=s.sibling,n=nl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function DR(t,e){return e=Vw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function n0(t,e,r,n){return n!==null&&wR(n),kf(e,t.child,null,r),t=DR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vK(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=IA(Error(me(422))),n0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Vw({mode:"visible",children:n.children},i,0,null),s=Uc(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&kf(e,t.child,null,o),e.child.memoizedState=yI(o),e.memoizedState=mI,s);if(!(e.mode&1))return n0(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(me(419)),n=IA(s,n,void 0),n0(t,e,o,n)}if(a=(o&t.childLanes)!==0,ii||a){if(n=Zr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ka(t,i),Vs(n,t,i,-1))}return jR(),n=IA(Error(me(421))),n0(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ti=Ju(i.nextSibling),Oi=e,Yt=!0,Ls=null,t!==null&&(Qi[Ki++]=ja,Qi[Ki++]=za,Qi[Ki++]=Yc,ja=t.id,za=t.overflow,Yc=e),e=DR(e,n.children),e.flags|=4096,e)}function C3(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lI(t.return,e,r)}function OA(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function W6(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pn(t,e,n.children,r),n=tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C3(t,r,e);else if(t.tag===19)C3(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nt(tr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&u1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),OA(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&u1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}OA(e,!0,r,null,s);break;case"together":OA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ja(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Kc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,r=nl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=nl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _K(t,e,r){switch(e.tag){case 3:V6(e),Rf();break;case 5:_6(e);break;case 1:ci(e.type)&&r1(e);break;case 4:CR(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Nt(s1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nt(tr,tr.current&1),e.flags|=128,null):r&e.child.childLanes?G6(t,e,r):(Nt(tr,tr.current&1),t=Ja(t,e,r),t!==null?t.sibling:null);Nt(tr,tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return W6(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(tr,tr.current),n)break;return null;case 22:case 23:return e.lanes=0,z6(t,e,r)}return Ja(t,e,r)}var q6,gI,Z6,X6;q6=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gI=function(){};Z6=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ic(Ko.current);var s=null;switch(r){case"input":i=FC(t,i),n=FC(t,n),s=[];break;case"select":i=ir({},i,{value:void 0}),n=ir({},n,{value:void 0}),s=[];break;case"textarea":i=zC(t,i),n=zC(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=e1)}VC(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ny.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ny.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&$t("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};X6=function(t,e,r,n){r!==n&&(e.flags|=4)};function Em(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bK(t,e,r){var n=e.pendingProps;switch(bR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return ci(e.type)&&t1(),mn(e),null;case 3:return n=e.stateNode,Pf(),zt(li),zt(bn),OR(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(t0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ls!==null&&(AI(Ls),Ls=null))),gI(t,e),mn(e),null;case 5:IR(e);var i=Ic(Gy.current);if(r=e.type,t!==null&&e.stateNode!=null)Z6(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(me(166));return mn(e),null}if(t=Ic(Ko.current),t0(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Vo]=e,n[Hy]=s,t=(e.mode&1)!==0,r){case"dialog":$t("cancel",n),$t("close",n);break;case"iframe":case"object":case"embed":$t("load",n);break;case"video":case"audio":for(i=0;i<Gm.length;i++)$t(Gm[i],n);break;case"source":$t("error",n);break;case"img":case"image":case"link":$t("error",n),$t("load",n);break;case"details":$t("toggle",n);break;case"input":BB(n,s),$t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},$t("invalid",n);break;case"textarea":$B(n,s),$t("invalid",n)}VC(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&e0(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&e0(n.textContent,a,t),i=["children",""+a]):Ny.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",n)}switch(r){case"input":W_(n),LB(n,s,!0);break;case"textarea":W_(n),FB(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=e1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Vo]=e,t[Hy]=n,q6(t,e,!1,!1),e.stateNode=t;e:{switch(o=GC(r,n),r){case"dialog":$t("cancel",t),$t("close",t),i=n;break;case"iframe":case"object":case"embed":$t("load",t),i=n;break;case"video":case"audio":for(i=0;i<Gm.length;i++)$t(Gm[i],t);i=n;break;case"source":$t("error",t),i=n;break;case"img":case"image":case"link":$t("error",t),$t("load",t),i=n;break;case"details":$t("toggle",t),i=n;break;case"input":BB(t,n),i=FC(t,n),$t("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ir({},n,{value:void 0}),$t("invalid",t);break;case"textarea":$B(t,n),i=zC(t,n),$t("invalid",t);break;default:i=n}VC(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?A5(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&x5(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&My(t,u):typeof u=="number"&&My(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ny.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$t("scroll",t):u!=null&&sR(t,s,u,o))}switch(r){case"input":W_(t),LB(t,n,!1);break;case"textarea":W_(t),FB(t);break;case"option":n.value!=null&&t.setAttribute("value",""+hl(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?lf(t,!!n.multiple,s,!1):n.defaultValue!=null&&lf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=e1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)X6(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(me(166));if(r=Ic(Gy.current),Ic(Ko.current),t0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vo]=e,(s=n.nodeValue!==r)&&(t=Oi,t!==null))switch(t.tag){case 3:e0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&e0(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vo]=e,e.stateNode=n}return mn(e),null;case 13:if(zt(tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&Ti!==null&&e.mode&1&&!(e.flags&128))d6(),Rf(),e.flags|=98560,s=!1;else if(s=t0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[Vo]=e}else Rf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),s=!1}else Ls!==null&&(AI(Ls),Ls=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?Rr===0&&(Rr=3):jR())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return Pf(),gI(t,e),t===null&&jy(e.stateNode.containerInfo),mn(e),null;case 10:return SR(e.type._context),mn(e),null;case 17:return ci(e.type)&&t1(),mn(e),null;case 19:if(zt(tr),s=e.memoizedState,s===null)return mn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Em(s,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=u1(t),o!==null){for(e.flags|=128,Em(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nt(tr,tr.current&1|2),e.child}t=t.sibling}s.tail!==null&&mr()>Mf&&(e.flags|=128,n=!0,Em(s,!1),e.lanes=4194304)}else{if(!n)if(t=u1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Em(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Yt)return mn(e),null}else 2*mr()-s.renderingStartTime>Mf&&r!==1073741824&&(e.flags|=128,n=!0,Em(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mr(),e.sibling=null,r=tr.current,Nt(tr,n?r&1|2:r&1),e):(mn(e),null);case 22:case 23:return UR(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wi&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function wK(t,e){switch(bR(e),e.tag){case 1:return ci(e.type)&&t1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pf(),zt(li),zt(bn),OR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return IR(e),null;case 13:if(zt(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));Rf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(tr),null;case 4:return Pf(),null;case 10:return SR(e.type._context),null;case 22:case 23:return UR(),null;case 24:return null;default:return null}}var i0=!1,_n=!1,EK=typeof WeakSet=="function"?WeakSet:Set,Re=null;function qd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(t,e,n)}else r.current=null}function vI(t,e,r){try{r()}catch(n){ur(t,e,n)}}var I3=!1;function xK(t,e){if(tI=Qb,t=J5(),vR(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===r&&++l===i&&(a=o),p===s&&++c===n&&(u=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(rI={focusedElem:t,selectionRange:r},Qb=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ns(e.type,g),b);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(x){ur(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return y=I3,I3=!1,y}function fy(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vI(e,r,s)}i=i.next}while(i!==n)}}function zw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _I(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Y6(t){var e=t.alternate;e!==null&&(t.alternate=null,Y6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vo],delete e[Hy],delete e[sI],delete e[sK],delete e[oK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Q6(t){return t.tag===5||t.tag===3||t.tag===4}function O3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bI(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=e1));else if(n!==4&&(t=t.child,t!==null))for(bI(t,e,r),t=t.sibling;t!==null;)bI(t,e,r),t=t.sibling}function wI(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(wI(t,e,r),t=t.sibling;t!==null;)wI(t,e,r),t=t.sibling}var Kr=null,Bs=!1;function Eu(t,e,r){for(r=r.child;r!==null;)K6(t,e,r),r=r.sibling}function K6(t,e,r){if(Qo&&typeof Qo.onCommitFiberUnmount=="function")try{Qo.onCommitFiberUnmount(Mw,r)}catch{}switch(r.tag){case 5:_n||qd(r,e);case 6:var n=Kr,i=Bs;Kr=null,Eu(t,e,r),Kr=n,Bs=i,Kr!==null&&(Bs?(t=Kr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Kr.removeChild(r.stateNode));break;case 18:Kr!==null&&(Bs?(t=Kr,r=r.stateNode,t.nodeType===8?EA(t.parentNode,r):t.nodeType===1&&EA(t,r),$y(t)):EA(Kr,r.stateNode));break;case 4:n=Kr,i=Bs,Kr=r.stateNode.containerInfo,Bs=!0,Eu(t,e,r),Kr=n,Bs=i;break;case 0:case 11:case 14:case 15:if(!_n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vI(r,e,o),i=i.next}while(i!==n)}Eu(t,e,r);break;case 1:if(!_n&&(qd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ur(r,e,a)}Eu(t,e,r);break;case 21:Eu(t,e,r);break;case 22:r.mode&1?(_n=(n=_n)||r.memoizedState!==null,Eu(t,e,r),_n=n):Eu(t,e,r);break;default:Eu(t,e,r)}}function R3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new EK),e.forEach(function(n){var i=PK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Cs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kr=a.stateNode,Bs=!1;break e;case 3:Kr=a.stateNode.containerInfo,Bs=!0;break e;case 4:Kr=a.stateNode.containerInfo,Bs=!0;break e}a=a.return}if(Kr===null)throw Error(me(160));K6(s,o,i),Kr=null,Bs=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ur(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)J6(e,t),e=e.sibling}function J6(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cs(e,t),Io(t),n&4){try{fy(3,t,t.return),zw(3,t)}catch(g){ur(t,t.return,g)}try{fy(5,t,t.return)}catch(g){ur(t,t.return,g)}}break;case 1:Cs(e,t),Io(t),n&512&&r!==null&&qd(r,r.return);break;case 5:if(Cs(e,t),Io(t),n&512&&r!==null&&qd(r,r.return),t.flags&32){var i=t.stateNode;try{My(i,"")}catch(g){ur(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&b5(i,s),GC(a,o);var l=GC(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?A5(i,f):c==="dangerouslySetInnerHTML"?x5(i,f):c==="children"?My(i,f):sR(i,c,f,l)}switch(a){case"input":UC(i,s);break;case"textarea":w5(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?lf(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?lf(i,!!s.multiple,s.defaultValue,!0):lf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hy]=s}catch(g){ur(t,t.return,g)}}break;case 6:if(Cs(e,t),Io(t),n&4){if(t.stateNode===null)throw Error(me(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){ur(t,t.return,g)}}break;case 3:if(Cs(e,t),Io(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$y(e.containerInfo)}catch(g){ur(t,t.return,g)}break;case 4:Cs(e,t),Io(t);break;case 13:Cs(e,t),Io(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($R=mr())),n&4&&R3(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(_n=(l=_n)||c,Cs(e,t),_n=l):Cs(e,t),Io(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(Re=t,c=t.child;c!==null;){for(f=Re=c;Re!==null;){switch(p=Re,m=p.child,p.tag){case 0:case 11:case 14:case 15:fy(4,p,p.return);break;case 1:qd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){ur(n,r,g)}}break;case 5:qd(p,p.return);break;case 22:if(p.memoizedState!==null){P3(f);continue}}m!==null?(m.return=p,Re=m):P3(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=S5("display",o))}catch(g){ur(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){ur(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cs(e,t),Io(t),n&4&&R3(t);break;case 21:break;default:Cs(e,t),Io(t)}}function Io(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Q6(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(My(i,""),n.flags&=-33);var s=O3(t);wI(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=O3(t);bI(t,a,o);break;default:throw Error(me(161))}}catch(u){ur(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SK(t,e,r){Re=t,e8(t)}function e8(t,e,r){for(var n=(t.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||i0;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||_n;a=i0;var l=_n;if(i0=o,(_n=u)&&!l)for(Re=i;Re!==null;)o=Re,u=o.child,o.tag===22&&o.memoizedState!==null?N3(i):u!==null?(u.return=o,Re=u):N3(i);for(;s!==null;)Re=s,e8(s),s=s.sibling;Re=i,i0=a,_n=l}k3(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):k3(t)}}function k3(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_n||zw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_n)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ns(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&p3(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}p3(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&$y(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}_n||e.flags&512&&_I(e)}catch(p){ur(e,e.return,p)}}if(e===t){Re=null;break}if(r=e.sibling,r!==null){r.return=e.return,Re=r;break}Re=e.return}}function P3(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Re=r;break}Re=e.return}}function N3(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zw(4,e)}catch(u){ur(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){ur(e,i,u)}}var s=e.return;try{_I(e)}catch(u){ur(e,s,u)}break;case 5:var o=e.return;try{_I(e)}catch(u){ur(e,o,u)}}}catch(u){ur(e,e.return,u)}if(e===t){Re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Re=a;break}Re=e.return}}var AK=Math.ceil,h1=uu.ReactCurrentDispatcher,BR=uu.ReactCurrentOwner,ls=uu.ReactCurrentBatchConfig,gt=0,Zr=null,br=null,sn=0,wi=0,Zd=Pl(0),Rr=0,Xy=null,Kc=0,Hw=0,LR=0,py=null,ni=null,$R=0,Mf=1/0,ka=null,d1=!1,EI=null,tl=null,s0=!1,Uu=null,f1=0,my=0,xI=null,_b=-1,bb=0;function jn(){return gt&6?mr():_b!==-1?_b:_b=mr()}function rl(t){return t.mode&1?gt&2&&sn!==0?sn&-sn:uK.transition!==null?(bb===0&&(bb=L5()),bb):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:V5(t.type)),t):1}function Vs(t,e,r,n){if(50<my)throw my=0,xI=null,Error(me(185));Wg(t,r,n),(!(gt&2)||t!==Zr)&&(t===Zr&&(!(gt&2)&&(Hw|=r),Rr===4&&Bu(t,sn)),hi(t,n),r===1&&gt===0&&!(e.mode&1)&&(Mf=mr()+500,Fw&&Nl()))}function hi(t,e){var r=t.callbackNode;uQ(t,e);var n=Yb(t,t===Zr?sn:0);if(n===0)r!==null&&zB(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zB(r),e===1)t.tag===0?aK(M3.bind(null,t)):l6(M3.bind(null,t)),nK(function(){!(gt&6)&&Nl()}),r=null;else{switch($5(n)){case 1:r=cR;break;case 4:r=D5;break;case 16:r=Xb;break;case 536870912:r=B5;break;default:r=Xb}r=u8(r,t8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function t8(t,e){if(_b=-1,bb=0,gt&6)throw Error(me(327));var r=t.callbackNode;if(pf()&&t.callbackNode!==r)return null;var n=Yb(t,t===Zr?sn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=p1(t,n);else{e=n;var i=gt;gt|=2;var s=n8();(Zr!==t||sn!==e)&&(ka=null,Mf=mr()+500,Fc(t,e));do try{IK();break}catch(a){r8(t,a)}while(1);xR(),h1.current=s,gt=i,br!==null?e=0:(Zr=null,sn=0,e=Rr)}if(e!==0){if(e===2&&(i=YC(t),i!==0&&(n=i,e=SI(t,i))),e===1)throw r=Xy,Fc(t,0),Bu(t,n),hi(t,mr()),r;if(e===6)Bu(t,n);else{if(i=t.current.alternate,!(n&30)&&!TK(i)&&(e=p1(t,n),e===2&&(s=YC(t),s!==0&&(n=s,e=SI(t,s))),e===1))throw r=Xy,Fc(t,0),Bu(t,n),hi(t,mr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(me(345));case 2:cc(t,ni,ka);break;case 3:if(Bu(t,n),(n&130023424)===n&&(e=$R+500-mr(),10<e)){if(Yb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){jn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=iI(cc.bind(null,t,ni,ka),e);break}cc(t,ni,ka);break;case 4:if(Bu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Hs(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AK(n/1960))-n,10<n){t.timeoutHandle=iI(cc.bind(null,t,ni,ka),n);break}cc(t,ni,ka);break;case 5:cc(t,ni,ka);break;default:throw Error(me(329))}}}return hi(t,mr()),t.callbackNode===r?t8.bind(null,t):null}function SI(t,e){var r=py;return t.current.memoizedState.isDehydrated&&(Fc(t,e).flags|=256),t=p1(t,e),t!==2&&(e=ni,ni=r,e!==null&&AI(e)),t}function AI(t){ni===null?ni=t:ni.push.apply(ni,t)}function TK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ks(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bu(t,e){for(e&=~LR,e&=~Hw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Hs(e),n=1<<r;t[r]=-1,e&=~n}}function M3(t){if(gt&6)throw Error(me(327));pf();var e=Yb(t,0);if(!(e&1))return hi(t,mr()),null;var r=p1(t,e);if(t.tag!==0&&r===2){var n=YC(t);n!==0&&(e=n,r=SI(t,n))}if(r===1)throw r=Xy,Fc(t,0),Bu(t,e),hi(t,mr()),r;if(r===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cc(t,ni,ka),hi(t,mr()),null}function FR(t,e){var r=gt;gt|=1;try{return t(e)}finally{gt=r,gt===0&&(Mf=mr()+500,Fw&&Nl())}}function Jc(t){Uu!==null&&Uu.tag===0&&!(gt&6)&&pf();var e=gt;gt|=1;var r=ls.transition,n=Tt;try{if(ls.transition=null,Tt=1,t)return t()}finally{Tt=n,ls.transition=r,gt=e,!(gt&6)&&Nl()}}function UR(){wi=Zd.current,zt(Zd)}function Fc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,rK(r)),br!==null)for(r=br.return;r!==null;){var n=r;switch(bR(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&t1();break;case 3:Pf(),zt(li),zt(bn),OR();break;case 5:IR(n);break;case 4:Pf();break;case 13:zt(tr);break;case 19:zt(tr);break;case 10:SR(n.type._context);break;case 22:case 23:UR()}r=r.return}if(Zr=t,br=t=nl(t.current,null),sn=wi=e,Rr=0,Xy=null,LR=Hw=Kc=0,ni=py=null,Cc!==null){for(e=0;e<Cc.length;e++)if(r=Cc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Cc=null}return t}function r8(t,e){do{var r=br;try{if(xR(),yb.current=c1,l1){for(var n=nr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}l1=!1}if(Qc=0,zr=Ir=nr=null,dy=!1,Wy=0,BR.current=null,r===null||r.return===null){Rr=1,Xy=e,br=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=sn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=w3(o);if(m!==null){m.flags&=-257,E3(m,o,a,s,e),m.mode&1&&b3(s,l,e),e=m,u=l;var y=e.updateQueue;if(y===null){var g=new Set;g.add(u),e.updateQueue=g}else y.add(u);break e}else{if(!(e&1)){b3(s,l,e),jR();break e}u=Error(me(426))}}else if(Yt&&a.mode&1){var b=w3(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),E3(b,o,a,s,e),wR(Nf(u,a));break e}}s=u=Nf(u,a),Rr!==4&&(Rr=2),py===null?py=[s]:py.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=F6(s,u,e);f3(s,_);break e;case 1:a=u;var w=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(tl===null||!tl.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=U6(s,a,e);f3(s,x);break e}}s=s.return}while(s!==null)}s8(r)}catch(N){e=N,br===r&&r!==null&&(br=r=r.return);continue}break}while(1)}function n8(){var t=h1.current;return h1.current=c1,t===null?c1:t}function jR(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Zr===null||!(Kc&268435455)&&!(Hw&268435455)||Bu(Zr,sn)}function p1(t,e){var r=gt;gt|=2;var n=n8();(Zr!==t||sn!==e)&&(ka=null,Fc(t,e));do try{CK();break}catch(i){r8(t,i)}while(1);if(xR(),gt=r,h1.current=n,br!==null)throw Error(me(261));return Zr=null,sn=0,Rr}function CK(){for(;br!==null;)i8(br)}function IK(){for(;br!==null&&!JY();)i8(br)}function i8(t){var e=a8(t.alternate,t,wi);t.memoizedProps=t.pendingProps,e===null?s8(t):br=e,BR.current=null}function s8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=wK(r,e),r!==null){r.flags&=32767,br=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,br=null;return}}else if(r=bK(r,e,wi),r!==null){br=r;return}if(e=e.sibling,e!==null){br=e;return}br=e=t}while(e!==null);Rr===0&&(Rr=5)}function cc(t,e,r){var n=Tt,i=ls.transition;try{ls.transition=null,Tt=1,OK(t,e,r,n)}finally{ls.transition=i,Tt=n}return null}function OK(t,e,r,n){do pf();while(Uu!==null);if(gt&6)throw Error(me(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(lQ(t,s),t===Zr&&(br=Zr=null,sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||s0||(s0=!0,u8(Xb,function(){return pf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ls.transition,ls.transition=null;var o=Tt;Tt=1;var a=gt;gt|=4,BR.current=null,xK(t,r),J6(r,t),XQ(rI),Qb=!!tI,rI=tI=null,t.current=r,SK(r),eQ(),gt=a,Tt=o,ls.transition=s}else t.current=r;if(s0&&(s0=!1,Uu=t,f1=i),s=t.pendingLanes,s===0&&(tl=null),nQ(r.stateNode),hi(t,mr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(d1)throw d1=!1,t=EI,EI=null,t;return f1&1&&t.tag!==0&&pf(),s=t.pendingLanes,s&1?t===xI?my++:(my=0,xI=t):my=0,Nl(),null}function pf(){if(Uu!==null){var t=$5(f1),e=ls.transition,r=Tt;try{if(ls.transition=null,Tt=16>t?16:t,Uu===null)var n=!1;else{if(t=Uu,Uu=null,f1=0,gt&6)throw Error(me(331));var i=gt;for(gt|=4,Re=t.current;Re!==null;){var s=Re,o=s.child;if(Re.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Re=l;Re!==null;){var c=Re;switch(c.tag){case 0:case 11:case 15:fy(8,c,s)}var f=c.child;if(f!==null)f.return=c,Re=f;else for(;Re!==null;){c=Re;var p=c.sibling,m=c.return;if(Y6(c),c===l){Re=null;break}if(p!==null){p.return=m,Re=p;break}Re=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Re=o;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fy(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Re=_;break e}Re=s.return}}var w=t.current;for(Re=w;Re!==null;){o=Re;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Re=E;else e:for(o=w;Re!==null;){if(a=Re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zw(9,a)}}catch(N){ur(a,a.return,N)}if(a===o){Re=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Re=x;break e}Re=a.return}}if(gt=i,Nl(),Qo&&typeof Qo.onPostCommitFiberRoot=="function")try{Qo.onPostCommitFiberRoot(Mw,t)}catch{}n=!0}return n}finally{Tt=r,ls.transition=e}}return!1}function D3(t,e,r){e=Nf(r,e),e=F6(t,e,1),t=el(t,e,1),e=jn(),t!==null&&(Wg(t,1,e),hi(t,e))}function ur(t,e,r){if(t.tag===3)D3(t,t,r);else for(;e!==null;){if(e.tag===3){D3(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tl===null||!tl.has(n))){t=Nf(r,t),t=U6(e,t,1),e=el(e,t,1),t=jn(),e!==null&&(Wg(e,1,t),hi(e,t));break}}e=e.return}}function RK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=jn(),t.pingedLanes|=t.suspendedLanes&r,Zr===t&&(sn&r)===r&&(Rr===4||Rr===3&&(sn&130023424)===sn&&500>mr()-$R?Fc(t,0):LR|=r),hi(t,e)}function o8(t,e){e===0&&(t.mode&1?(e=X_,X_<<=1,!(X_&130023424)&&(X_=4194304)):e=1);var r=jn();t=Ka(t,e),t!==null&&(Wg(t,e,r),hi(t,r))}function kK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),o8(t,r)}function PK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(e),o8(t,r)}var a8;a8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||li.current)ii=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ii=!1,_K(t,e,r);ii=!!(t.flags&131072)}else ii=!1,Yt&&e.flags&1048576&&c6(e,i1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;vb(t,e),t=e.pendingProps;var i=Of(e,bn.current);ff(e,r),i=kR(null,e,n,t,i,r);var s=PR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ci(n)?(s=!0,r1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TR(e),i.updater=Uw,e.stateNode=i,i._reactInternals=e,hI(e,n,t,r),e=pI(null,e,n,!0,s,r)):(e.tag=0,Yt&&s&&_R(e),Pn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(vb(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MK(n),t=Ns(n,t),i){case 0:e=fI(null,e,n,t,r);break e;case 1:e=A3(null,e,n,t,r);break e;case 11:e=x3(null,e,n,t,r);break e;case 14:e=S3(null,e,n,Ns(n.type,t),r);break e}throw Error(me(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ns(n,i),fI(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ns(n,i),A3(t,e,n,i,r);case 3:e:{if(V6(e),t===null)throw Error(me(387));n=e.pendingProps,s=e.memoizedState,i=s.element,p6(t,e),a1(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nf(Error(me(423)),e),e=T3(t,e,n,r,i);break e}else if(n!==i){i=Nf(Error(me(424)),e),e=T3(t,e,n,r,i);break e}else for(Ti=Ju(e.stateNode.containerInfo.firstChild),Oi=e,Yt=!0,Ls=null,r=v6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Rf(),n===i){e=Ja(t,e,r);break e}Pn(t,e,n,r)}e=e.child}return e;case 5:return _6(e),t===null&&uI(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,nI(n,i)?o=null:s!==null&&nI(n,s)&&(e.flags|=32),H6(t,e),Pn(t,e,o,r),e.child;case 6:return t===null&&uI(e),null;case 13:return G6(t,e,r);case 4:return CR(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kf(e,null,n,r):Pn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ns(n,i),x3(t,e,n,i,r);case 7:return Pn(t,e,e.pendingProps,r),e.child;case 8:return Pn(t,e,e.pendingProps.children,r),e.child;case 12:return Pn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Nt(s1,n._currentValue),n._currentValue=o,s!==null)if(Ks(s.value,o)){if(s.children===i.children&&!li.current){e=Ja(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Ga(-1,r&-r),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),lI(s.return,r,e),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(me(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),lI(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ff(e,r),i=hs(i),n=n(i),e.flags|=1,Pn(t,e,n,r),e.child;case 14:return n=e.type,i=Ns(n,e.pendingProps),i=Ns(n.type,i),S3(t,e,n,i,r);case 15:return j6(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ns(n,i),vb(t,e),e.tag=1,ci(n)?(t=!0,r1(e)):t=!1,ff(e,r),y6(e,n,i),hI(e,n,i,r),pI(null,e,n,!0,t,r);case 19:return W6(t,e,r);case 22:return z6(t,e,r)}throw Error(me(156,e.tag))};function u8(t,e){return M5(t,e)}function NK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rs(t,e,r,n){return new NK(t,e,r,n)}function zR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MK(t){if(typeof t=="function")return zR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===aR)return 11;if(t===uR)return 14}return 2}function nl(t,e){var r=t.alternate;return r===null?(r=rs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function wb(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")zR(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $d:return Uc(r.children,i,s,e);case oR:o=8,i|=8;break;case DC:return t=rs(12,r,e,i|2),t.elementType=DC,t.lanes=s,t;case BC:return t=rs(13,r,e,i),t.elementType=BC,t.lanes=s,t;case LC:return t=rs(19,r,e,i),t.elementType=LC,t.lanes=s,t;case g5:return Vw(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m5:o=10;break e;case y5:o=9;break e;case aR:o=11;break e;case uR:o=14;break e;case Ou:o=16,n=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=rs(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Uc(t,e,r,n){return t=rs(7,t,n,e),t.lanes=r,t}function Vw(t,e,r,n){return t=rs(22,t,n,e),t.elementType=g5,t.lanes=r,t.stateNode={isHidden:!1},t}function RA(t,e,r){return t=rs(6,t,null,e),t.lanes=r,t}function kA(t,e,r){return e=rs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DK(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hA(0),this.expirationTimes=hA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hA(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HR(t,e,r,n,i,s,o,a,u){return t=new DK(t,e,r,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},TR(s),t}function BK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ld,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function l8(t){if(!t)return dl;t=t._reactInternals;e:{if(Sh(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ci(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var r=t.type;if(ci(r))return u6(t,r,e)}return e}function c8(t,e,r,n,i,s,o,a,u){return t=HR(r,n,!0,t,i,s,o,a,u),t.context=l8(null),r=t.current,n=jn(),i=rl(r),s=Ga(n,i),s.callback=e??null,el(r,s,i),t.current.lanes=i,Wg(t,i,n),hi(t,n),t}function Gw(t,e,r,n){var i=e.current,s=jn(),o=rl(i);return r=l8(r),e.context===null?e.context=r:e.pendingContext=r,e=Ga(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=el(i,e,o),t!==null&&(Vs(t,i,o,s),mb(t,i,o)),o}function m1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function VR(t,e){B3(t,e),(t=t.alternate)&&B3(t,e)}function LK(){return null}var h8=typeof reportError=="function"?reportError:function(t){console.error(t)};function GR(t){this._internalRoot=t}Ww.prototype.render=GR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));Gw(t,e,null,null)};Ww.prototype.unmount=GR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jc(function(){Gw(null,t,null,null)}),e[Qa]=null}};function Ww(t){this._internalRoot=t}Ww.prototype.unstable_scheduleHydration=function(t){if(t){var e=j5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Du.length&&e!==0&&e<Du[r].priority;r++);Du.splice(r,0,t),r===0&&H5(t)}};function WR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function L3(){}function $K(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=m1(o);s.call(l)}}var o=c8(e,n,t,0,null,!1,!1,"",L3);return t._reactRootContainer=o,t[Qa]=o.current,jy(t.nodeType===8?t.parentNode:t),Jc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=m1(u);a.call(l)}}var u=HR(t,0,!1,null,null,!1,!1,"",L3);return t._reactRootContainer=u,t[Qa]=u.current,jy(t.nodeType===8?t.parentNode:t),Jc(function(){Gw(e,u,r,n)}),u}function Zw(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=m1(o);a.call(u)}}Gw(e,o,t,i)}else o=$K(r,e,t,i,n);return m1(o)}F5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Vm(e.pendingLanes);r!==0&&(hR(e,r|1),hi(e,mr()),!(gt&6)&&(Mf=mr()+500,Nl()))}break;case 13:Jc(function(){var n=Ka(t,1);if(n!==null){var i=jn();Vs(n,t,1,i)}}),VR(t,1)}};dR=function(t){if(t.tag===13){var e=Ka(t,134217728);if(e!==null){var r=jn();Vs(e,t,134217728,r)}VR(t,134217728)}};U5=function(t){if(t.tag===13){var e=rl(t),r=Ka(t,e);if(r!==null){var n=jn();Vs(r,t,e,n)}VR(t,e)}};j5=function(){return Tt};z5=function(t,e){var r=Tt;try{return Tt=t,e()}finally{Tt=r}};qC=function(t,e,r){switch(e){case"input":if(UC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=$w(n);if(!i)throw Error(me(90));_5(n),UC(n,i)}}}break;case"textarea":w5(t,r);break;case"select":e=r.value,e!=null&&lf(t,!!r.multiple,e,!1)}};I5=FR;O5=Jc;var FK={usingClientEntryPoint:!1,Events:[Zg,zd,$w,T5,C5,FR]},xm={findFiberByHostInstance:Tc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},UK={bundleType:xm.bundleType,version:xm.version,rendererPackageName:xm.rendererPackageName,rendererConfig:xm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=P5(t),t===null?null:t.stateNode},findFiberByHostInstance:xm.findFiberByHostInstance||LK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o0.isDisabled&&o0.supportsFiber)try{Mw=o0.inject(UK),Qo=o0}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FK;Ni.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!WR(e))throw Error(me(200));return BK(t,e,null,r)};Ni.createRoot=function(t,e){if(!WR(t))throw Error(me(299));var r=!1,n="",i=h8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HR(t,1,!1,null,null,r,!1,n,i),t[Qa]=e.current,jy(t.nodeType===8?t.parentNode:t),new GR(e)};Ni.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=P5(e),t=t===null?null:t.stateNode,t};Ni.flushSync=function(t){return Jc(t)};Ni.hydrate=function(t,e,r){if(!qw(e))throw Error(me(200));return Zw(null,t,e,!0,r)};Ni.hydrateRoot=function(t,e,r){if(!WR(t))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=h8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=c8(e,null,t,1,r??null,i,!1,s,o),t[Qa]=e.current,jy(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ww(e)};Ni.render=function(t,e,r){if(!qw(e))throw Error(me(200));return Zw(null,t,e,!1,r)};Ni.unmountComponentAtNode=function(t){if(!qw(t))throw Error(me(40));return t._reactRootContainer?(Jc(function(){Zw(null,null,t,!1,function(){t._reactRootContainer=null,t[Qa]=null})}),!0):!1};Ni.unstable_batchedUpdates=FR;Ni.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qw(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return Zw(t,e,r,!1,n)};Ni.version="18.2.0-next-9e3b772b8-20220608";function d8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d8)}catch(t){console.error(t)}}d8(),c5.exports=Ni;var f8=c5.exports,$3=f8;NC.createRoot=$3.createRoot,NC.hydrateRoot=$3.hydrateRoot;var TI={exports:{}},eh={},p8={exports:{}},jK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zK=jK,HK=zK;function m8(){}function y8(){}y8.resetWarningCache=m8;var VK=function(){function t(n,i,s,o,a,u){if(u!==HK){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y8,resetWarningCache:m8};return r.PropTypes=r,r};p8.exports=VK();var qR=p8.exports;const Ft=Eh(qR);var CI={exports:{}},ro={},II={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",n="contents",i=/input|select|textarea|button|object|iframe/;function s(f,p){return p.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function o(f){var p=f.offsetWidth<=0&&f.offsetHeight<=0;if(p&&!f.innerHTML)return!0;try{var m=window.getComputedStyle(f),y=m.getPropertyValue("display");return p?y!==n&&s(f,m):y===r}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var p=f,m=f.getRootNode&&f.getRootNode();p&&p!==document.body;){if(m&&p===m&&(p=m.host.parentNode),o(p))return!1;p=p.parentNode}return!0}function u(f,p){var m=f.nodeName.toLowerCase(),y=i.test(m)&&!f.disabled||m==="a"&&f.href||p;return y&&a(f)}function l(f){var p=f.getAttribute("tabindex");p===null&&(p=void 0);var m=isNaN(p);return(m||p>=0)&&u(f,!m)}function c(f){var p=[].slice.call(f.querySelectorAll("*"),0).reduce(function(m,y){return m.concat(y.shadowRoot?c(y.shadowRoot):[y])},[]);return p.filter(l)}t.exports=e.default})(II,II.exports);var g8=II.exports;Object.defineProperty(ro,"__esModule",{value:!0});ro.resetState=ZK;ro.log=XK;ro.handleBlur=Yy;ro.handleFocus=Qy;ro.markForFocusLater=YK;ro.returnFocus=QK;ro.popWithoutFocus=KK;ro.setupScopedFocus=JK;ro.teardownScopedFocus=eJ;var GK=g8,WK=qK(GK);function qK(t){return t&&t.__esModule?t:{default:t}}var Df=[],Xd=null,OI=!1;function ZK(){Df=[]}function XK(){}function Yy(){OI=!0}function Qy(){if(OI){if(OI=!1,!Xd)return;setTimeout(function(){if(!Xd.contains(document.activeElement)){var t=(0,WK.default)(Xd)[0]||Xd;t.focus()}},0)}}function YK(){Df.push(document.activeElement)}function QK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Df.length!==0&&(e=Df.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function KK(){Df.length>0&&Df.pop()}function JK(t){Xd=t,window.addEventListener?(window.addEventListener("blur",Yy,!1),document.addEventListener("focus",Qy,!0)):(window.attachEvent("onBlur",Yy),document.attachEvent("onFocus",Qy))}function eJ(){Xd=null,window.addEventListener?(window.removeEventListener("blur",Yy),document.removeEventListener("focus",Qy)):(window.detachEvent("onBlur",Yy),document.detachEvent("onFocus",Qy))}var RI={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=g8,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var l=(0,n.default)(a);if(!l.length){u.preventDefault();return}var c=void 0,f=u.shiftKey,p=l[0],m=l[l.length-1],y=s();if(a===y){if(!f)return;c=m}if(m===y&&!f&&(c=p),p===y&&f&&(c=m),c){u.preventDefault(),c.focus();return}var g=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),b=g!=null&&g[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(b){var _=l.indexOf(y);if(_>-1&&(_+=f?-1:1),c=l[_],typeof c>"u"){u.preventDefault(),c=f?m:p,c.focus();return}u.preventDefault(),c.focus()}}t.exports=e.default})(RI,RI.exports);var tJ=RI.exports,no={},rJ=function(){},nJ=rJ,Gs={},v8={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()})(v8);var iJ=v8.exports;Object.defineProperty(Gs,"__esModule",{value:!0});Gs.canUseDOM=Gs.SafeNodeList=Gs.SafeHTMLCollection=void 0;var sJ=iJ,oJ=aJ(sJ);function aJ(t){return t&&t.__esModule?t:{default:t}}var Xw=oJ.default,uJ=Xw.canUseDOM?window.HTMLElement:{};Gs.SafeHTMLCollection=Xw.canUseDOM?window.HTMLCollection:{};Gs.SafeNodeList=Xw.canUseDOM?window.NodeList:{};Gs.canUseDOM=Xw.canUseDOM;Gs.default=uJ;Object.defineProperty(no,"__esModule",{value:!0});no.resetState=fJ;no.log=pJ;no.assertNodeList=_8;no.setElement=mJ;no.validateElement=ZR;no.hide=yJ;no.show=gJ;no.documentNotReadyOrSSRTesting=vJ;var lJ=nJ,cJ=dJ(lJ),hJ=Gs;function dJ(t){return t&&t.__esModule?t:{default:t}}var Yi=null;function fJ(){Yi&&(Yi.removeAttribute?Yi.removeAttribute("aria-hidden"):Yi.length!=null?Yi.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Yi).forEach(function(t){return t.removeAttribute("aria-hidden")})),Yi=null}function pJ(){}function _8(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function mJ(t){var e=t;if(typeof e=="string"&&hJ.canUseDOM){var r=document.querySelectorAll(e);_8(r,e),e=r}return Yi=e||Yi,Yi}function ZR(t){var e=t||Yi;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,cJ.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function yJ(t){var e=!0,r=!1,n=void 0;try{for(var i=ZR(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){r=!0,n=a}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}function gJ(t){var e=!0,r=!1,n=void 0;try{for(var i=ZR(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){r=!0,n=a}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}function vJ(){Yi=null}var pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.resetState=_J;pp.log=bJ;var yy={},gy={};function F3(t,e){t.classList.remove(e)}function _J(){var t=document.getElementsByTagName("html")[0];for(var e in yy)F3(t,yy[e]);var r=document.body;for(var n in gy)F3(r,gy[n]);yy={},gy={}}function bJ(){}var wJ=function(e,r){return e[r]||(e[r]=0),e[r]+=1,r},EJ=function(e,r){return e[r]&&(e[r]-=1),r},xJ=function(e,r,n){n.forEach(function(i){wJ(r,i),e.add(i)})},SJ=function(e,r,n){n.forEach(function(i){EJ(r,i),r[i]===0&&e.remove(i)})};pp.add=function(e,r){return xJ(e.classList,e.nodeName.toLowerCase()=="html"?yy:gy,r.split(" "))};pp.remove=function(e,r){return SJ(e.classList,e.nodeName.toLowerCase()=="html"?yy:gy,r.split(" "))};var mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.log=TJ;mp.resetState=CJ;function AJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b8=function t(){var e=this;AJ(this,t),this.register=function(r){e.openInstances.indexOf(r)===-1&&(e.openInstances.push(r),e.emit("register"))},this.deregister=function(r){var n=e.openInstances.indexOf(r);n!==-1&&(e.openInstances.splice(n,1),e.emit("deregister"))},this.subscribe=function(r){e.subscribers.push(r)},this.emit=function(r){e.subscribers.forEach(function(n){return n(r,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},y1=new b8;function TJ(){console.log("portalOpenInstances ----------"),console.log(y1.openInstances.length),y1.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function CJ(){y1=new b8}mp.default=y1;var XR={};Object.defineProperty(XR,"__esModule",{value:!0});XR.resetState=kJ;XR.log=PJ;var IJ=mp,OJ=RJ(IJ);function RJ(t){return t&&t.__esModule?t:{default:t}}var gn=void 0,Ms=void 0,jc=[];function kJ(){for(var t=[gn,Ms],e=0;e<t.length;e++){var r=t[e];r&&r.parentNode&&r.parentNode.removeChild(r)}gn=Ms=null,jc=[]}function PJ(){console.log("bodyTrap ----------"),console.log(jc.length);for(var t=[gn,Ms],e=0;e<t.length;e++){var r=t[e],n=r||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function U3(){jc.length!==0&&jc[jc.length-1].focusContent()}function NJ(t,e){!gn&&!Ms&&(gn=document.createElement("div"),gn.setAttribute("data-react-modal-body-trap",""),gn.style.position="absolute",gn.style.opacity="0",gn.setAttribute("tabindex","0"),gn.addEventListener("focus",U3),Ms=gn.cloneNode(),Ms.addEventListener("focus",U3)),jc=e,jc.length>0?(document.body.firstChild!==gn&&document.body.insertBefore(gn,document.body.firstChild),document.body.lastChild!==Ms&&document.body.appendChild(Ms)):(gn.parentElement&&gn.parentElement.removeChild(gn),Ms.parentElement&&Ms.parentElement.removeChild(Ms))}OJ.default.subscribe(NJ);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(j){for(var C=1;C<arguments.length;C++){var P=arguments[C];for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&(j[O]=P[O])}return j},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},i=function(){function j(C,P){for(var O=0;O<P.length;O++){var k=P[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(C,k.key,k)}}return function(C,P,O){return P&&j(C.prototype,P),O&&j(C,O),C}}(),s=Me,o=qR,a=N(o),u=ro,l=x(u),c=tJ,f=N(c),p=no,m=x(p),y=pp,g=x(y),b=Gs,_=N(b),w=mp,E=N(w);function x(j){if(j&&j.__esModule)return j;var C={};if(j!=null)for(var P in j)Object.prototype.hasOwnProperty.call(j,P)&&(C[P]=j[P]);return C.default=j,C}function N(j){return j&&j.__esModule?j:{default:j}}function M(j,C){if(!(j instanceof C))throw new TypeError("Cannot call a class as a function")}function R(j,C){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:j}function D(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);j.prototype=Object.create(C&&C.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(j,C):j.__proto__=C)}var W={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},G=function(C){return C.code==="Tab"||C.keyCode===9},U=function(C){return C.code==="Escape"||C.keyCode===27},X=0,B=function(j){D(C,j);function C(P){M(this,C);var O=R(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,P));return O.setOverlayRef=function(k){O.overlay=k,O.props.overlayRef&&O.props.overlayRef(k)},O.setContentRef=function(k){O.content=k,O.props.contentRef&&O.props.contentRef(k)},O.afterClose=function(){var k=O.props,F=k.appElement,$=k.ariaHideApp,z=k.htmlOpenClassName,q=k.bodyOpenClassName,ne=k.parentSelector,re=ne&&ne().ownerDocument||document;q&&g.remove(re.body,q),z&&g.remove(re.getElementsByTagName("html")[0],z),$&&X>0&&(X-=1,X===0&&m.show(F)),O.props.shouldFocusAfterRender&&(O.props.shouldReturnFocusAfterClose?(l.returnFocus(O.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),O.props.onAfterClose&&O.props.onAfterClose(),E.default.deregister(O)},O.open=function(){O.beforeOpen(),O.state.afterOpen&&O.state.beforeClose?(clearTimeout(O.closeTimer),O.setState({beforeClose:!1})):(O.props.shouldFocusAfterRender&&(l.setupScopedFocus(O.node),l.markForFocusLater()),O.setState({isOpen:!0},function(){O.openAnimationFrame=requestAnimationFrame(function(){O.setState({afterOpen:!0}),O.props.isOpen&&O.props.onAfterOpen&&O.props.onAfterOpen({overlayEl:O.overlay,contentEl:O.content})})}))},O.close=function(){O.props.closeTimeoutMS>0?O.closeWithTimeout():O.closeWithoutTimeout()},O.focusContent=function(){return O.content&&!O.contentHasFocus()&&O.content.focus({preventScroll:!0})},O.closeWithTimeout=function(){var k=Date.now()+O.props.closeTimeoutMS;O.setState({beforeClose:!0,closesAt:k},function(){O.closeTimer=setTimeout(O.closeWithoutTimeout,O.state.closesAt-Date.now())})},O.closeWithoutTimeout=function(){O.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},O.afterClose)},O.handleKeyDown=function(k){G(k)&&(0,f.default)(O.content,k),O.props.shouldCloseOnEsc&&U(k)&&(k.stopPropagation(),O.requestClose(k))},O.handleOverlayOnClick=function(k){O.shouldClose===null&&(O.shouldClose=!0),O.shouldClose&&O.props.shouldCloseOnOverlayClick&&(O.ownerHandlesClose()?O.requestClose(k):O.focusContent()),O.shouldClose=null},O.handleContentOnMouseUp=function(){O.shouldClose=!1},O.handleOverlayOnMouseDown=function(k){!O.props.shouldCloseOnOverlayClick&&k.target==O.overlay&&k.preventDefault()},O.handleContentOnClick=function(){O.shouldClose=!1},O.handleContentOnMouseDown=function(){O.shouldClose=!1},O.requestClose=function(k){return O.ownerHandlesClose()&&O.props.onRequestClose(k)},O.ownerHandlesClose=function(){return O.props.onRequestClose},O.shouldBeClosed=function(){return!O.state.isOpen&&!O.state.beforeClose},O.contentHasFocus=function(){return document.activeElement===O.content||O.content.contains(document.activeElement)},O.buildClassName=function(k,F){var $=(typeof F>"u"?"undefined":n(F))==="object"?F:{base:W[k],afterOpen:W[k]+"--after-open",beforeClose:W[k]+"--before-close"},z=$.base;return O.state.afterOpen&&(z=z+" "+$.afterOpen),O.state.beforeClose&&(z=z+" "+$.beforeClose),typeof F=="string"&&F?z+" "+F:z},O.attributesFromObject=function(k,F){return Object.keys(F).reduce(function($,z){return $[k+"-"+z]=F[z],$},{})},O.state={afterOpen:!1,beforeClose:!1},O.shouldClose=null,O.moveFromContentToOverlay=null,O}return i(C,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(O,k){this.props.isOpen&&!O.isOpen?this.open():!this.props.isOpen&&O.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!k.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var O=this.props,k=O.appElement,F=O.ariaHideApp,$=O.htmlOpenClassName,z=O.bodyOpenClassName,q=O.parentSelector,ne=q&&q().ownerDocument||document;z&&g.add(ne.body,z),$&&g.add(ne.getElementsByTagName("html")[0],$),F&&(X+=1,m.hide(k)),E.default.register(this)}},{key:"render",value:function(){var O=this.props,k=O.id,F=O.className,$=O.overlayClassName,z=O.defaultStyles,q=O.children,ne=F?{}:z.content,re=$?{}:z.overlay;if(this.shouldBeClosed())return null;var ae={ref:this.setOverlayRef,className:this.buildClassName("overlay",$),style:r({},re,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},oe=r({id:k,ref:this.setContentRef,style:r({},ne,this.props.style.content),className:this.buildClassName("content",F),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ve=this.props.contentElement(oe,q);return this.props.overlayElement(ae,ve)}}]),C}(s.Component);B.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},B.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(_.default),a.default.instanceOf(b.SafeHTMLCollection),a.default.instanceOf(b.SafeNodeList),a.default.arrayOf(a.default.instanceOf(_.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=B,t.exports=e.default})(CI,CI.exports);var MJ=CI.exports;function w8(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function E8(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function x8(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}w8.__suppressDeprecationWarning=!0;E8.__suppressDeprecationWarning=!0;x8.__suppressDeprecationWarning=!0;function DJ(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=w8,e.componentWillReceiveProps=E8),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=x8;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,c,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,l,c,p)}}return t}const BJ=Object.freeze(Object.defineProperty({__proto__:null,polyfill:DJ},Symbol.toStringTag,{value:"Module"})),LJ=pa(BJ);Object.defineProperty(eh,"__esModule",{value:!0});eh.bodyOpenClassName=eh.portalClassName=void 0;var j3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$J=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),S8=Me,g1=Yg(S8),FJ=f8,v1=Yg(FJ),UJ=qR,Ye=Yg(UJ),jJ=MJ,z3=Yg(jJ),zJ=no,HJ=GJ(zJ),ju=Gs,H3=Yg(ju),VJ=LJ;function GJ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Yg(t){return t&&t.__esModule?t:{default:t}}function WJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ZJ=eh.portalClassName="ReactModalPortal",XJ=eh.bodyOpenClassName="ReactModal__Body--open",hc=ju.canUseDOM&&v1.default.createPortal!==void 0,G3=function(e){return document.createElement(e)},W3=function(){return hc?v1.default.createPortal:v1.default.unstable_renderSubtreeIntoContainer};function a0(t){return t()}var Qg=function(t){qJ(e,t);function e(){var r,n,i,s;WJ(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(n=(i=V3(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(a))),i),i.removePortal=function(){!hc&&v1.default.unmountComponentAtNode(i.node);var l=a0(i.props.parentSelector);l&&l.contains(i.node)?l.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(l){i.portal=l},i.renderPortal=function(l){var c=W3(),f=c(i,g1.default.createElement(z3.default,j3({defaultStyles:e.defaultStyles},l)),i.node);i.portalRef(f)},n),V3(i,s)}return $J(e,[{key:"componentDidMount",value:function(){if(ju.canUseDOM){hc||(this.node=G3("div")),this.node.className=this.props.portalClassName;var n=a0(this.props.parentSelector);n.appendChild(this.node),!hc&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var i=a0(n.parentSelector),s=a0(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(n,i,s){if(ju.canUseDOM){var o=this.props,a=o.isOpen,u=o.portalClassName;n.portalClassName!==u&&(this.node.className=u);var l=s.prevParent,c=s.nextParent;c!==l&&(l.removeChild(this.node),c.appendChild(this.node)),!(!n.isOpen&&!a)&&!hc&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ju.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,i=Date.now(),s=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||i+this.props.closeTimeoutMS);s?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!ju.canUseDOM||!hc)return null;!this.node&&hc&&(this.node=G3("div"));var n=W3();return n(g1.default.createElement(z3.default,j3({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){HJ.setElement(n)}}]),e}(S8.Component);Qg.propTypes={isOpen:Ye.default.bool.isRequired,style:Ye.default.shape({content:Ye.default.object,overlay:Ye.default.object}),portalClassName:Ye.default.string,bodyOpenClassName:Ye.default.string,htmlOpenClassName:Ye.default.string,className:Ye.default.oneOfType([Ye.default.string,Ye.default.shape({base:Ye.default.string.isRequired,afterOpen:Ye.default.string.isRequired,beforeClose:Ye.default.string.isRequired})]),overlayClassName:Ye.default.oneOfType([Ye.default.string,Ye.default.shape({base:Ye.default.string.isRequired,afterOpen:Ye.default.string.isRequired,beforeClose:Ye.default.string.isRequired})]),appElement:Ye.default.oneOfType([Ye.default.instanceOf(H3.default),Ye.default.instanceOf(ju.SafeHTMLCollection),Ye.default.instanceOf(ju.SafeNodeList),Ye.default.arrayOf(Ye.default.instanceOf(H3.default))]),onAfterOpen:Ye.default.func,onRequestClose:Ye.default.func,closeTimeoutMS:Ye.default.number,ariaHideApp:Ye.default.bool,shouldFocusAfterRender:Ye.default.bool,shouldCloseOnOverlayClick:Ye.default.bool,shouldReturnFocusAfterClose:Ye.default.bool,preventScroll:Ye.default.bool,parentSelector:Ye.default.func,aria:Ye.default.object,data:Ye.default.object,role:Ye.default.string,contentLabel:Ye.default.string,shouldCloseOnEsc:Ye.default.bool,overlayRef:Ye.default.func,contentRef:Ye.default.func,id:Ye.default.string,overlayElement:Ye.default.func,contentElement:Ye.default.func};Qg.defaultProps={isOpen:!1,portalClassName:ZJ,bodyOpenClassName:XJ,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,r){return g1.default.createElement("div",e,r)},contentElement:function(e,r){return g1.default.createElement("div",e,r)}};Qg.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,VJ.polyfill)(Qg);eh.default=Qg;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=eh,n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}e.default=n.default,t.exports=e.default})(TI,TI.exports);var YJ=TI.exports;const QJ=Eh(YJ);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function KJ(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function Ky(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function ys(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function io(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function so(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function Kg(t,e="="){if(typeof e!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function A8(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function kI(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0;const i=[],s=Array.from(t);for(s.forEach(o=>{if(o<0||o>=e)throw new Error(`Wrong integer: ${o}`)});;){let o=0,a=!0;for(let u=n;u<s.length;u++){const l=s[u],c=e*o+l;if(!Number.isSafeInteger(c)||e*o/e!==o||c-l!==e*o)throw new Error("convertRadix: carry overflow");o=c%r;const f=Math.floor(c/r);if(s[u]=f,!Number.isSafeInteger(f)||f*r+o!==c)throw new Error("convertRadix: carry overflow");if(a)f?a=!1:n=u;else continue}if(i.push(o),a)break}for(let o=0;o<t.length-1&&t[o]===0;o++)i.push(0);return i.reverse()}const T8=(t,e)=>e?T8(e,t%e):t,_1=(t,e)=>t+(e-T8(t,e));function b1(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(_1(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${_1(e,r)}`);let i=0,s=0;const o=2**r-1,a=[];for(const u of t){if(u>=2**e)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)a.push((i>>s-r&o)>>>0);i&=2**s-1}if(i=i<<r-s&o,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&a.push(i>>>0),a}function C8(t){return{encode:e=>{if(!Ky(e))throw new Error("radix.encode input should be Uint8Array");return kI(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(kI(e,t,2**8))}}}function ma(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(_1(8,t)>32||_1(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!Ky(r))throw new Error("radix2.encode input should be Uint8Array");return b1(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(b1(r,t,8,e))}}}function q3(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function I8(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!Ky(r))throw new Error("checksum.encode: input should be Uint8Array");const n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!Ky(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let o=0;o<t;o++)if(i[o]!==s[o])throw new Error("Invalid checksum");return n}}}const JJ={alphabet:io,chain:ys,checksum:I8,convertRadix:kI,convertRadix2:b1,radix:C8,radix2:ma,join:so,padding:Kg},O8=ys(ma(4),io("0123456789ABCDEF"),so("")),R8=ys(ma(5),io("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Kg(5),so("")),eee=ys(ma(5),io("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Kg(5),so("")),tee=ys(ma(5),io("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),so(""),A8(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),Yw=ys(ma(6),io("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Kg(6),so("")),k8=ys(ma(6),io("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Kg(6),so("")),ree=ys(ma(6),io("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),so("")),YR=t=>ys(C8(58),io(t),so("")),Jy=YR("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),nee=YR("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),iee=YR("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Z3=[0,2,3,5,6,7,9,10,11],P8={encode(t){let e="";for(let r=0;r<t.length;r+=8){const n=t.subarray(r,r+8);e+=Jy.encode(n).padStart(Z3[n.length],"1")}return e},decode(t){let e=[];for(let r=0;r<t.length;r+=11){const n=t.slice(r,r+11),i=Z3.indexOf(n.length),s=Jy.decode(n);for(let o=0;o<s.length-i;o++)if(s[o]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(e)}},N8=t=>ys(I8(4,e=>t(t(e))),Jy),see=N8,PI=ys(io("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),so("")),X3=[996825010,642813549,513874426,1027748829,705979059];function Sm(t){const e=t>>25;let r=(t&33554431)<<5;for(let n=0;n<X3.length;n++)(e>>n&1)===1&&(r^=X3[n]);return r}function Y3(t,e,r=1){const n=t.length;let i=1;for(let s=0;s<n;s++){const o=t.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${t})`);i=Sm(i)^o>>5}i=Sm(i);for(let s=0;s<n;s++)i=Sm(i)^t.charCodeAt(s)&31;for(let s of e)i=Sm(i)^s;for(let s=0;s<6;s++)i=Sm(i);return i^=r,PI.encode(b1([i%2**30],30,5,!1))}function M8(t){const e=t==="bech32"?1:734539939,r=ma(5),n=r.decode,i=r.encode,s=q3(n);function o(c,f,p=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const m=c.length+7+f.length;if(p!==!1&&m>p)throw new TypeError(`Length ${m} exceeds limit ${p}`);const y=c.toLowerCase(),g=Y3(y,f,e);return`${y}1${PI.encode(f)}${g}`}function a(c,f=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||f!==!1&&c.length>f)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${f})`);const p=c.toLowerCase();if(c!==p&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=p;const m=c.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=c.slice(0,m),g=c.slice(m+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");const b=PI.decode(g).slice(0,-6),_=Y3(y,b,e);if(!g.endsWith(_))throw new Error(`Invalid checksum in ${c}: expected "${_}"`);return{prefix:y,words:b}}const u=q3(a);function l(c){const{prefix:f,words:p}=a(c,!1);return{prefix:f,words:p,bytes:n(p)}}return{encode:o,decode:a,decodeToBytes:l,decodeUnsafe:u,fromWords:n,fromWordsUnsafe:s,toWords:i}}const oee=M8("bech32"),aee=M8("bech32m"),D8={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},B8=ys(ma(4),io("0123456789abcdef"),so(""),A8(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),w1={utf8:D8,hex:B8,base16:O8,base32:R8,base64:Yw,base64url:k8,base58:Jy,base58xmr:P8},L8="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",$8=(t,e)=>{if(typeof t!="string"||!w1.hasOwnProperty(t))throw new TypeError(L8);if(!Ky(e))throw new TypeError("bytesToString() expects Uint8Array");return w1[t].encode(e)},uee=$8,F8=(t,e)=>{if(!w1.hasOwnProperty(t))throw new TypeError(L8);if(typeof e!="string")throw new TypeError("stringToBytes() expects string");return w1[t].decode(e)},lee=F8,cee=Object.freeze(Object.defineProperty({__proto__:null,assertNumber:KJ,base16:O8,base32:R8,base32crockford:tee,base32hex:eee,base58:Jy,base58check:see,base58flickr:nee,base58xmr:P8,base58xrp:iee,base64:Yw,base64url:k8,base64urlnopad:ree,bech32:oee,bech32m:aee,bytes:lee,bytesToString:$8,createBase58check:N8,hex:B8,str:uee,stringToBytes:F8,utf8:D8,utils:JJ},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const U8=BigInt(0),Qw=BigInt(1),hee=BigInt(2),Kw=t=>t instanceof Uint8Array,dee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bf(t){if(!Kw(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=dee[t[r]];return e}function j8(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function QR(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function th(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function mf(t){return QR(Bf(t))}function z8(t){if(!Kw(t))throw new Error("Uint8Array expected");return QR(Bf(Uint8Array.from(t).reverse()))}function eg(t,e){return th(t.toString(16).padStart(e*2,"0"))}function H8(t,e){return eg(t,e).reverse()}function fee(t){return th(j8(t))}function Ds(t,e,r){let n;if(typeof e=="string")try{n=th(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Kw(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function tg(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!Kw(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function pee(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function mee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function yee(t){let e;for(e=0;t>U8;t>>=Qw,e+=1);return e}function gee(t,e){return t>>BigInt(e)&Qw}const vee=(t,e,r)=>t|(r?Qw:U8)<<BigInt(e),V8=t=>(hee<<BigInt(t-1))-Qw,PA=t=>new Uint8Array(t),Q3=t=>Uint8Array.from(t);function G8(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=PA(t),i=PA(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=PA())=>{i=a(Q3([0]),f),n=a(),f.length!==0&&(i=a(Q3([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){n=a();const m=n.slice();p.push(m),f+=n.length}return tg(...p)};return(f,p)=>{o(),u(f);let m;for(;!(m=p(l()));)u();return o(),m}}const _ee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Jg(t,e,r={}){const n=(i,s,o)=>{const a=_ee[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const bee=Object.freeze(Object.defineProperty({__proto__:null,bitGet:gee,bitLen:yee,bitMask:V8,bitSet:vee,bytesToHex:Bf,bytesToNumberBE:mf,bytesToNumberLE:z8,concatBytes:tg,createHmacDrbg:G8,ensureBytes:Ds,equalBytes:pee,hexToBytes:th,hexToNumber:QR,numberToBytesBE:eg,numberToBytesLE:H8,numberToHexUnpadded:j8,numberToVarBytesBE:fee,utf8ToBytes:mee,validateObject:Jg},Symbol.toStringTag,{value:"Module"}));function K3(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function wee(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function W8(t,...e){if(!wee(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function E1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function q8(t,e){W8(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const u0=BigInt(2**32-1),J3=BigInt(32);function Eee(t,e=!1){return e?{h:Number(t&u0),l:Number(t>>J3&u0)}:{h:Number(t>>J3&u0)|0,l:Number(t&u0)|0}}function xee(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Eee(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const See=(t,e,r)=>t<<r|e>>>32-r,Aee=(t,e,r)=>e<<r|t>>>32-r,Tee=(t,e,r)=>e<<r-32|t>>>64-r,Cee=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Iee=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function Oee(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const NA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Oo=(t,e)=>t<<32-e|t>>>e,Ree=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ree)throw new Error("Non little-endian hardware is not supported");function KR(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function JR(t){if(typeof t=="string"&&(t=KR(t)),!Oee(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}let Z8=class{clone(){return this._cloneInto()}};function X8(t){const e=n=>t().update(JR(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const[Y8,Q8,K8]=[[],[],[]],kee=BigInt(0),Am=BigInt(1),Pee=BigInt(2),Nee=BigInt(7),Mee=BigInt(256),Dee=BigInt(113);for(let t=0,e=Am,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Y8.push(2*(5*n+r)),Q8.push((t+1)*(t+2)/2%64);let i=kee;for(let s=0;s<7;s++)e=(e<<Am^(e>>Nee)*Dee)%Mee,e&Pee&&(i^=Am<<(Am<<BigInt(s))-Am);K8.push(i)}const[Bee,Lee]=xee(K8,!0),eL=(t,e,r)=>r>32?Tee(t,e,r):See(t,e,r),tL=(t,e,r)=>r>32?Cee(t,e,r):Aee(t,e,r);function $ee(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,l=r[u],c=r[u+1],f=eL(l,c,1)^r[a],p=tL(l,c,1)^r[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Q8[o],u=eL(i,s,a),l=tL(i,s,a),c=Y8[o];i=t[c],s=t[c+1],t[c]=u,t[c+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Bee[n],t[1]^=Lee[n]}r.fill(0)}class ek extends Z8{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,K3(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Iee(this.state)}keccak(){$ee(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){E1(this);const{blockLen:r,state:n}=this;e=JR(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){E1(this,!1),W8(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return K3(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(q8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new ek(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Fee=(t,e,r)=>X8(()=>new ek(e,t,r)),Uee=Fee(1,136,256/8);function jee(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+l,a,n)}class zee extends Z8{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=NA(this.buffer)}update(e){E1(this);const{view:r,buffer:n,blockLen:i}=this;e=JR(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=NA(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){E1(this),q8(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;jee(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=NA(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,c[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const Hee=(t,e,r)=>t&e^~t&r,Vee=(t,e,r)=>t&e^t&r^e&r,Gee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Su=new Uint32Array(64);class Wee extends zee{constructor(){super(64,32,8,!1),this.A=xu[0]|0,this.B=xu[1]|0,this.C=xu[2]|0,this.D=xu[3]|0,this.E=xu[4]|0,this.F=xu[5]|0,this.G=xu[6]|0,this.H=xu[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Su[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const p=Su[f-15],m=Su[f-2],y=Oo(p,7)^Oo(p,18)^p>>>3,g=Oo(m,17)^Oo(m,19)^m>>>10;Su[f]=g+Su[f-7]+y+Su[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:l,H:c}=this;for(let f=0;f<64;f++){const p=Oo(a,6)^Oo(a,11)^Oo(a,25),m=c+p+Hee(a,u,l)+Gee[f]+Su[f]|0,g=(Oo(n,2)^Oo(n,13)^Oo(n,22))+Vee(n,i,s)|0;c=l,l=u,u=a,a=o+m|0,o=s,s=i,i=n,n=m+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,i,s,o,a,u,l,c)}roundClean(){Su.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ev=X8(()=>new Wee);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J8=BigInt(0),Jw=BigInt(1),qee=BigInt(2),eE=t=>t instanceof Uint8Array,Zee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fl(t){if(!eE(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Zee[t[r]];return e}function ej(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function tE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function rh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function zn(t){return tE(fl(t))}function tk(t){if(!eE(t))throw new Error("Uint8Array expected");return tE(fl(Uint8Array.from(t).reverse()))}function Lf(t,e){return rh(t.toString(16).padStart(e*2,"0"))}function rk(t,e){return Lf(t,e).reverse()}function nk(t){return rh(ej(t))}function Gi(t,e,r){let n;if(typeof e=="string")try{n=rh(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(eE(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function $f(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!eE(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Xee(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Yee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Qee(t){let e;for(e=0;t>J8;t>>=Jw,e+=1);return e}function Kee(t,e){return t>>BigInt(e)&Jw}const Jee=(t,e,r)=>t|(r?Jw:J8)<<BigInt(e),rE=t=>(qee<<BigInt(t-1))-Jw,MA=t=>new Uint8Array(t),rL=t=>Uint8Array.from(t);function tj(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=MA(t),i=MA(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=MA())=>{i=a(rL([0]),f),n=a(),f.length!==0&&(i=a(rL([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){n=a();const m=n.slice();p.push(m),f+=n.length}return $f(...p)};return(f,p)=>{o(),u(f);let m;for(;!(m=p(l()));)u();return o(),m}}const ete={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tv(t,e,r={}){const n=(i,s,o)=>{const a=ete[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const tte=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Kee,bitLen:Qee,bitMask:rE,bitSet:Jee,bytesToHex:fl,bytesToNumberBE:zn,bytesToNumberLE:tk,concatBytes:$f,createHmacDrbg:tj,ensureBytes:Gi,equalBytes:Xee,hexToBytes:rh,hexToNumber:tE,numberToBytesBE:Lf,numberToBytesLE:rk,numberToHexUnpadded:ej,numberToVarBytesBE:nk,utf8ToBytes:Yee,validateObject:tv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rn=BigInt(0),yr=BigInt(1),vc=BigInt(2),rte=BigInt(3),NI=BigInt(4),nL=BigInt(5),iL=BigInt(8);BigInt(9);BigInt(16);function Nn(t,e){const r=t%e;return r>=rn?r:e+r}function nte(t,e,r){if(r<=rn||e<rn)throw new Error("Expected power/modulo > 0");if(r===yr)return rn;let n=yr;for(;e>rn;)e&yr&&(n=n*t%r),t=t*t%r,e>>=yr;return n}function x1(t,e){if(t===rn||e<=rn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Nn(t,e),n=e,i=rn,s=yr;for(;r!==rn;){const a=n/r,u=n%r,l=i-s*a;n=r,r=u,i=s,s=l}if(n!==yr)throw new Error("invert: does not exist");return Nn(i,e)}function ite(t){const e=(t-yr)/vc;let r,n,i;for(r=t-yr,n=0;r%vc===rn;r/=vc,n++);for(i=vc;i<t&&nte(i,e,t)!==t-yr;i++);if(n===1){const o=(t+yr)/NI;return function(u,l){const c=u.pow(l,o);if(!u.eql(u.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+yr)/vc;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,c=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(p);m<l&&!a.eql(g,a.ONE);m++)g=a.sqr(g);const y=a.pow(c,yr<<BigInt(l-m-1));c=a.sqr(y),f=a.mul(f,y),p=a.mul(p,c),l=m}return f}}function ste(t){if(t%NI===rte){const e=(t+yr)/NI;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%iL===nL){const e=(t-nL)/iL;return function(n,i){const s=n.mul(i,vc),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,vc),o),l=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return ite(t)}const ote=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ik(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ote.reduce((n,i)=>(n[i]="function",n),e);return tv(t,r)}function rj(t,e,r){if(r<rn)throw new Error("Expected power > 0");if(r===rn)return t.ONE;if(r===yr)return e;let n=t.ONE,i=e;for(;r>rn;)r&yr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=yr;return n}function ate(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function nj(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ij(t,e,r=!1,n={}){if(t<=rn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=nj(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=ste(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:rE(i),ZERO:rn,ONE:yr,create:u=>Nn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return rn<=u&&u<t},is0:u=>u===rn,isOdd:u=>(u&yr)===yr,neg:u=>Nn(-u,t),eql:(u,l)=>u===l,sqr:u=>Nn(u*u,t),add:(u,l)=>Nn(u+l,t),sub:(u,l)=>Nn(u-l,t),mul:(u,l)=>Nn(u*l,t),pow:(u,l)=>rj(a,u,l),div:(u,l)=>Nn(u*x1(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>x1(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>ate(a,u),cmov:(u,l,c)=>c?l:u,toBytes:u=>r?rk(u,s):Lf(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?tk(u):zn(u)}});return Object.freeze(a)}function sj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function oj(t){const e=sj(t);return e+Math.ceil(e/2)}function ute(t,e,r=!1){const n=t.length,i=sj(e),s=oj(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?zn(t):tk(t),a=Nn(o,e-yr)+yr;return r?rk(a,i):Lf(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lte(t){const{Fp:e,mds:r,reversePartialPowIdx:n,roundConstants:i}=t,{roundsFull:s,roundsPartial:o,sboxPower:a,t:u}=t;ik(e);for(const y of["t","roundsFull","roundsPartial"])if(typeof t[y]!="number"||!Number.isSafeInteger(t[y]))throw new Error(`Poseidon: invalid param ${y}=${t[y]} (${typeof t[y]})`);if(!Array.isArray(r)||r.length!==u)throw new Error("Poseidon: wrong MDS matrix");const l=r.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon MDS matrix row: ${y}`);return y.map(g=>{if(typeof g!="bigint")throw new Error(`Poseidon MDS matrix value=${g}`);return e.create(g)})});if(n!==void 0&&typeof n!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${n}`);if(s%2!==0)throw new Error(`Poseidon roundsFull is not even: ${s}`);const c=s+o;if(!Array.isArray(i)||i.length!==c)throw new Error("Poseidon: wrong round constants");const f=i.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon wrong round constants: ${y}`);return y.map(g=>{if(typeof g!="bigint"||!e.isValid(g))throw new Error(`Poseidon wrong round constant=${g}`);return e.create(g)})});if(!a||![3,5,7].includes(a))throw new Error(`Poseidon wrong sboxPower=${a}`);const p=BigInt(a);let m=y=>rj(e,y,p);return a===3?m=y=>e.mul(e.sqrN(y),y):a===5&&(m=y=>e.mul(e.sqrN(e.sqrN(y)),y)),Object.freeze({...t,rounds:c,sboxFn:m,roundConstants:f,mds:l})}function cte(t){const e=lte(t),{Fp:r,mds:n,roundConstants:i,rounds:s,roundsPartial:o,sboxFn:a,t:u}=e,l=e.roundsFull/2,c=e.reversePartialPowIdx?u-1:0,f=(m,y,g)=>(m=m.map((b,_)=>r.add(b,i[g][_])),y?m=m.map(b=>a(b)):m[c]=a(m[c]),m=n.map(b=>b.reduce((_,w,E)=>r.add(_,r.mulN(w,m[E])),r.ZERO)),m),p=function(y){if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${u})`);y=y.map(b=>{if(typeof b!="bigint")throw new Error(`Poseidon: wrong value=${b} (${typeof b})`);return r.create(b)});let g=0;for(let b=0;b<l;b++)y=f(y,!0,g++);for(let b=0;b<o;b++)y=f(y,!1,g++);for(let b=0;b<l;b++)y=f(y,!0,g++);if(g!==s)throw new Error(`Poseidon: wrong number of rounds: last round=${g}, total=${s}`);return y};return p.roundConstants=i,p}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hte=BigInt(0),DA=BigInt(1);function dte(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>hte;)s&DA&&(o=o.add(a)),a=a.double(),s>>=DA;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,c=l;for(let f=0;f<o;f++){c=l,u.push(c);for(let p=1;p<a;p++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const g=y*u;let b=Number(o&f);o>>=m,b>u&&(b-=p,o+=DA);const _=g,w=g+Math.abs(b)-1,E=y%2!==0,x=b<0;b===0?c=c.add(r(E,s[_])):l=l.add(r(x,s[w]))}return{p:l,f:c}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function aj(t){return ik(t.Fp),tv(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nj(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fte(t){const e=aj(t);tv(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:pte,hexToBytes:mte}=tte,zu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=zu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:pte(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=zu,r=typeof t=="string"?mte(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=zu._parseInt(r.subarray(2)),{d:o,l:a}=zu._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Ba=BigInt(0),Wi=BigInt(1);BigInt(2);const sL=BigInt(3);BigInt(4);function yte(t){const e=fte(t),{Fp:r}=e,n=e.toBytes||((y,g,b)=>{const _=g.toAffine();return $f(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),b=r.fromBytes(g.subarray(0,r.BYTES)),_=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:b,y:_}});function s(y){const{a:g,b}=e,_=r.sqr(y),w=r.mul(_,y);return r.add(r.add(w,r.mul(y,g)),b)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Ba<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:g,nByteLength:b,wrapPrivateKey:_,n:w}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=fl(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(b*2,"0")}let E;try{E=typeof y=="bigint"?y:zn(Gi("private key",y,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof y}`)}return _&&(E=Nn(E,w)),a(E),E}const l=new Map;function c(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,b,_){if(this.px=g,this.py=b,this.pz=_,g==null||!r.isValid(g))throw new Error("x required");if(b==null||!r.isValid(b))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required")}static fromAffine(g){const{x:b,y:_}=g||{};if(!g||!r.isValid(b)||!r.isValid(_))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const w=E=>r.eql(E,r.ZERO);return w(b)&&w(_)?f.ZERO:new f(b,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const b=r.invertBatch(g.map(_=>_.pz));return g.map((_,w)=>_.toAffine(b[w])).map(f.fromAffine)}static fromHex(g){const b=f.fromAffine(i(Gi("pointHex",g)));return b.assertValidity(),b}static fromPrivateKey(g){return f.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:b}=this.toAffine();if(!r.isValid(g)||!r.isValid(b))throw new Error("bad point: x or y not FE");const _=r.sqr(b),w=s(g);if(!r.eql(_,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:b,py:_,pz:w}=this,{px:E,py:x,pz:N}=g,M=r.eql(r.mul(b,N),r.mul(E,w)),R=r.eql(r.mul(_,N),r.mul(x,w));return M&&R}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b}=e,_=r.mul(b,sL),{px:w,py:E,pz:x}=this;let N=r.ZERO,M=r.ZERO,R=r.ZERO,D=r.mul(w,w),W=r.mul(E,E),G=r.mul(x,x),U=r.mul(w,E);return U=r.add(U,U),R=r.mul(w,x),R=r.add(R,R),N=r.mul(g,R),M=r.mul(_,G),M=r.add(N,M),N=r.sub(W,M),M=r.add(W,M),M=r.mul(N,M),N=r.mul(U,N),R=r.mul(_,R),G=r.mul(g,G),U=r.sub(D,G),U=r.mul(g,U),U=r.add(U,R),R=r.add(D,D),D=r.add(R,D),D=r.add(D,G),D=r.mul(D,U),M=r.add(M,D),G=r.mul(E,x),G=r.add(G,G),D=r.mul(G,U),N=r.sub(N,D),R=r.mul(G,W),R=r.add(R,R),R=r.add(R,R),new f(N,M,R)}add(g){c(g);const{px:b,py:_,pz:w}=this,{px:E,py:x,pz:N}=g;let M=r.ZERO,R=r.ZERO,D=r.ZERO;const W=e.a,G=r.mul(e.b,sL);let U=r.mul(b,E),X=r.mul(_,x),B=r.mul(w,N),j=r.add(b,_),C=r.add(E,x);j=r.mul(j,C),C=r.add(U,X),j=r.sub(j,C),C=r.add(b,w);let P=r.add(E,N);return C=r.mul(C,P),P=r.add(U,B),C=r.sub(C,P),P=r.add(_,w),M=r.add(x,N),P=r.mul(P,M),M=r.add(X,B),P=r.sub(P,M),D=r.mul(W,C),M=r.mul(G,B),D=r.add(M,D),M=r.sub(X,D),D=r.add(X,D),R=r.mul(M,D),X=r.add(U,U),X=r.add(X,U),B=r.mul(W,B),C=r.mul(G,C),X=r.add(X,B),B=r.sub(U,B),B=r.mul(W,B),C=r.add(C,B),U=r.mul(X,C),R=r.add(R,U),U=r.mul(P,C),M=r.mul(j,M),M=r.sub(M,U),U=r.mul(j,X),D=r.mul(P,D),D=r.add(D,U),new f(M,R,D)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,b=>{const _=r.invertBatch(b.map(w=>w.pz));return b.map((w,E)=>w.toAffine(_[E])).map(f.fromAffine)})}multiplyUnsafe(g){const b=f.ZERO;if(g===Ba)return b;if(a(g),g===Wi)return this;const{endo:_}=e;if(!_)return m.unsafeLadder(this,g);let{k1neg:w,k1:E,k2neg:x,k2:N}=_.splitScalar(g),M=b,R=b,D=this;for(;E>Ba||N>Ba;)E&Wi&&(M=M.add(D)),N&Wi&&(R=R.add(D)),D=D.double(),E>>=Wi,N>>=Wi;return w&&(M=M.negate()),x&&(R=R.negate()),R=new f(r.mul(R.px,_.beta),R.py,R.pz),M.add(R)}multiply(g){a(g);let b=g,_,w;const{endo:E}=e;if(E){const{k1neg:x,k1:N,k2neg:M,k2:R}=E.splitScalar(b);let{p:D,f:W}=this.wNAF(N),{p:G,f:U}=this.wNAF(R);D=m.constTimeNegate(x,D),G=m.constTimeNegate(M,G),G=new f(r.mul(G.px,E.beta),G.py,G.pz),_=D.add(G),w=W.add(U)}else{const{p:x,f:N}=this.wNAF(b);_=x,w=N}return f.normalizeZ([_,w])[0]}multiplyAndAddUnsafe(g,b,_){const w=f.BASE,E=(N,M)=>M===Ba||M===Wi||!N.equals(w)?N.multiplyUnsafe(M):N.multiply(M),x=E(this,b).add(E(g,_));return x.is0()?void 0:x}toAffine(g){const{px:b,py:_,pz:w}=this,E=this.is0();g==null&&(g=E?r.ONE:r.inv(w));const x=r.mul(b,g),N=r.mul(_,g),M=r.mul(w,g);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x,y:N}}isTorsionFree(){const{h:g,isTorsionFree:b}=e;if(g===Wi)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:b}=e;return g===Wi?this:b?b(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(f,this,g)}toHex(g=!0){return fl(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,m=dte(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function gte(t){const e=aj(t);return tv(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function vte(t){const e=gte(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(C){return Ba<C&&C<r.ORDER}function a(C){return Nn(C,n)}function u(C){return x1(C,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=yte({...e,toBytes(C,P,O){const k=P.toAffine(),F=r.toBytes(k.x),$=$f;return O?$(Uint8Array.from([P.hasEvenY()?2:3]),F):$(Uint8Array.from([4]),F,r.toBytes(k.y))},fromBytes(C){const P=C.length,O=C[0],k=C.subarray(1);if(P===i&&(O===2||O===3)){const F=zn(k);if(!o(F))throw new Error("Point is not on curve");const $=f(F);let z=r.sqrt($);const q=(z&Wi)===Wi;return(O&1)===1!==q&&(z=r.neg(z)),{x:F,y:z}}else if(P===s&&O===4){const F=r.fromBytes(k.subarray(0,r.BYTES)),$=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:F,y:$}}else throw new Error(`Point of length ${P} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=C=>fl(Lf(C,e.nByteLength));function y(C){const P=n>>Wi;return C>P}function g(C){return y(C)?a(-C):C}const b=(C,P,O)=>zn(C.slice(P,O));class _{constructor(P,O,k){this.r=P,this.s=O,this.recovery=k,this.assertValidity()}static fromCompact(P){const O=e.nByteLength;return P=Gi("compactSignature",P,O*2),new _(b(P,0,O),b(P,O,2*O))}static fromDER(P){const{r:O,s:k}=zu.toSig(Gi("DER",P));return new _(O,k)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(P){return new _(this.r,this.s,P)}recoverPublicKey(P){const{r:O,s:k,recovery:F}=this,$=R(Gi("msgHash",P));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const z=F===2||F===3?O+e.n:O;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=F&1?"03":"02",ne=l.fromHex(q+m(z)),re=u(z),ae=a(-$*re),oe=a(k*re),ve=l.BASE.multiplyAndAddUnsafe(ne,ae,oe);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return rh(this.toDERHex())}toDERHex(){return zu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rh(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const w={isValidPrivateKey(C){try{return c(C),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const C=oj(e.n);return ute(e.randomBytes(C),e.n)},precompute(C=8,P=l.BASE){return P._setWindowSize(C),P.multiply(BigInt(3)),P}};function E(C,P=!0){return l.fromPrivateKey(C).toRawBytes(P)}function x(C){const P=C instanceof Uint8Array,O=typeof C=="string",k=(P||O)&&C.length;return P?k===i||k===s:O?k===2*i||k===2*s:C instanceof l}function N(C,P,O=!0){if(x(C))throw new Error("first arg must be private key");if(!x(P))throw new Error("second arg must be public key");return l.fromHex(P).multiply(c(C)).toRawBytes(O)}const M=e.bits2int||function(C){const P=zn(C),O=C.length*8-e.nBitLength;return O>0?P>>BigInt(O):P},R=e.bits2int_modN||function(C){return a(M(C))},D=rE(e.nBitLength);function W(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ba<=C&&C<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Lf(C,e.nByteLength)}function G(C,P,O=U){if(["recovered","canonical"].some(_e=>_e in O))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:F}=e;let{lowS:$,prehash:z,extraEntropy:q}=O;$==null&&($=!0),C=Gi("msgHash",C),z&&(C=Gi("prehashed msgHash",k(C)));const ne=R(C),re=c(P),ae=[W(re),W(ne)];if(q!=null){const _e=q===!0?F(r.BYTES):q;ae.push(Gi("extraEntropy",_e))}const oe=$f(...ae),ve=ne;function Pe(_e){const Ne=M(_e);if(!p(Ne))return;const Ce=u(Ne),De=l.BASE.multiply(Ne).toAffine(),te=a(De.x);if(te===Ba)return;const de=a(Ce*a(ve+te*re));if(de===Ba)return;let ke=(De.x===te?0:2)|Number(De.y&Wi),We=de;return $&&y(de)&&(We=g(de),ke^=1),new _(te,We,ke)}return{seed:oe,k2sig:Pe}}const U={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function B(C,P,O=U){const{seed:k,k2sig:F}=G(C,P,O),$=e;return tj($.hash.outputLen,$.nByteLength,$.hmac)(k,F)}l.BASE._setWindowSize(8);function j(C,P,O,k=X){var De;const F=C;if(P=Gi("msgHash",P),O=Gi("publicKey",O),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:z}=k;let q,ne;try{if(typeof F=="string"||F instanceof Uint8Array)try{q=_.fromDER(F)}catch(te){if(!(te instanceof zu.Err))throw te;q=_.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:te,s:de}=F;q=new _(te,de)}else throw new Error("PARSE");ne=l.fromHex(O)}catch(te){if(te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&q.hasHighS())return!1;z&&(P=e.hash(P));const{r:re,s:ae}=q,oe=R(P),ve=u(ae),Pe=a(oe*ve),_e=a(re*ve),Ne=(De=l.BASE.multiplyAndAddUnsafe(ne,Pe,_e))==null?void 0:De.toAffine();return Ne?a(Ne.x)===re:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:N,sign:B,verify:j,ProjectivePoint:l,Signature:_,utils:w}}function oL(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function _te(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function bte(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");oL(t.outputLen),oL(t.blockLen)}function aL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}const BA=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uj=t=>t instanceof Uint8Array,wte=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!wte)throw new Error("Non little-endian hardware is not supported");function Ete(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function xte(t){if(typeof t=="string"&&(t=Ete(t)),!uj(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Ste(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!uj(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let Ate=class{clone(){return this._cloneInto()}};function Tte(t=32){if(BA&&typeof BA.getRandomValues=="function")return BA.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let lj=class extends Ate{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,bte(e);const n=xte(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return aL(this),this.iHash.update(e),this}digestInto(e){aL(this),_te(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const cj=(t,e,r)=>new lj(t,e).update(r).digest();cj.create=(t,e)=>new lj(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cte(t){return{hash:t,hmac:(e,...r)=>cj(t,e,Ste(...r)),randomBytes:Tte}}const rg=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),Oc=BigInt("0x800000000000000000000000000000000000000000000000000000000000000"),hj=252;function uL(t){for(;t[0]===0;)t=t.subarray(1);const e=t.length*8-hj,r=zn(t);return e>0?r>>BigInt(e):r}function dj(t){return typeof t=="string"&&(t=ak(t),t.length&1&&(t="0"+t)),rh(t)}const Ah=vte({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:ij(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:rg,nBitLength:hj,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...Cte(ev),bits2int:uL,bits2int_modN:t=>{const e=zn(t).toString(16);return e.length===63&&(t=dj(e+"0")),Nn(uL(t),rg)}}),Ite=Ah;function Ff(t){return Gi("",typeof t=="string"?dj(t):t)}function sk(t){return fl(Ff(t)).padStart(64,"0")}function fj(t,e=!1){return Ah.getPublicKey(sk(t),e)}function Ote(t,e){return Ah.getSharedSecret(sk(t),e)}function pj(t){const{r:e,s:r}=t;if(e<0n||e>=Oc)throw new Error(`Signature.r should be [1, ${Oc})`);const n=x1(r,rg);if(n<0n||n>=Oc)throw new Error(`inv(Signature.s) should be [1, ${Oc})`)}function mj(t){const e=Ff(t);if(zn(e)>=Oc)throw new Error(`msgHash should be [0, ${Oc})`);return e}function Wm(t,e,r){const n=Ah.sign(mj(t),sk(e),r);return pj(n),n}function Rte(t,e,r){if(!(t instanceof Eb)){const n=Ff(t);try{t=Eb.fromDER(n)}catch(i){if(!(i instanceof zu.Err))throw i;t=Eb.fromCompact(n)}}return pj(t),Ah.verify(t,mj(e),Ff(r))}const{CURVE:kte,ProjectivePoint:xd,Signature:Eb,utils:ok}=Ah;function yj(t){return`0x${fl(t.subarray(1)).replace(/^0+/gm,"")}`}function ak(t){return t.replace(/^0x/i,"")}function gj(t){const e=Ff(t),r=2n**256n,n=r-Nn(r,rg);for(let i=0;;i++){const s=MI($f(e,nk(BigInt(i))));if(s<n)return Nn(s,rg).toString(16);if(i===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function uk(t){return yj(fj(t,!0))}function Pte(t){if(t=ak(t),t.length!==130)throw new Error("Wrong ethereum signature");return gj(t.substring(0,64))}const Nte=2n**31n-1n,l0=t=>Number(t&Nte);function Mte(t,e,r,n){const i=l0(MI(t)),s=l0(MI(e)),o=tE(ak(r));return`m/2645'/${i}'/${s}'/${l0(o)}'/${l0(o>>31n)}'/${n}`}const ng=[new xd(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new xd(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new xd(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new xd(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new xd(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function vj(t,e){const r=[];let n=t;for(let i=0;i<248;i++)r.push(n),n=n.double();n=e;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}const Dte=vj(ng[1],ng[2]),Bte=vj(ng[3],ng[4]);function Lte(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"){if(!Number.isSafeInteger(t))throw new Error(`Invalid pedersenArg: ${t}`);e=BigInt(t)}else e=zn(Ff(t));if(!(0n<=e&&e<Ah.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${e}`);return e}function lL(t,e,r){let n=Lte(e);for(let i=0;i<252;i++){const s=r[i];if(s.equals(t))throw new Error("Same point");(n&1n)!==0n&&(t=t.add(s)),n>>=1n}return t}function rv(t,e){let r=ng[0];return r=lL(r,t,Dte),r=lL(r,e,Bte),yj(r.toRawBytes(!0))}const $te=(t,e=rv)=>[0,...t,t.length].reduce((r,n)=>e(r,n)),Fte=rE(250),yp=t=>zn(Uee(t))&Fte,MI=t=>zn(ev(t)),_j=ij(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function DI(t,e,r){const n=t.fromBytes(ev(KR(`${e}${r}`)));return t.create(n)}function bj(t,e,r,n=0){const i=[],s=[];for(let o=0;o<r;o++)i.push(DI(t,`${e}x`,n*r+o)),s.push(DI(t,`${e}y`,n*r+o));if(new Set([...i,...s]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map(o=>s.map(a=>t.inv(t.sub(o,a))))}const Ute=[[3,1,1],[1,-1,1],[1,1,-2]].map(t=>t.map(BigInt));function lk(t,e){if(ik(t.Fp),!Number.isSafeInteger(t.rate)||!Number.isSafeInteger(t.capacity))throw new Error(`Wrong poseidon opts: ${t}`);const r=t.rate+t.capacity,n=t.roundsFull+t.roundsPartial,i=[];for(let o=0;o<n;o++){const a=[];for(let u=0;u<r;u++)a.push(DI(t.Fp,"Hades",r*o+u));i.push(a)}const s=cte({...t,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:e,roundConstants:i});return s.m=r,s.rate=t.rate,s.capacity=t.capacity,s}function jte(t,e=0){const r=t.rate+t.capacity;if(!Number.isSafeInteger(e))throw new Error(`Wrong mdsAttempt=${e}`);return lk(t,bj(t.Fp,"HadesMDS",r,e))}const nv=lk({Fp:_j,rate:2,capacity:1,roundsFull:8,roundsPartial:83},Ute);function wj(t,e,r=nv){return r([t,e,2n])[0]}function zte(t,e,r=nv){return nk(wj(zn(t),zn(e),r))}function Hte(t,e=nv){return e([t,0n,1n])[0]}function pl(t,e=nv){const{m:r,rate:n}=e;if(!Array.isArray(t))throw new Error("bigint array expected in values");const i=Array.from(t);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let a=0;a<n;a++)s[a]+=i[o+a];s=e(s)}return s[0]}const Ej=Object.freeze(Object.defineProperty({__proto__:null,CURVE:kte,Fp251:_j,MAX_VALUE:Oc,ProjectivePoint:xd,Signature:Eb,_poseidonMDS:bj,_starkCurve:Ite,computeHashOnElements:$te,ethSigToPrivate:Pte,getAccountPath:Mte,getPublicKey:fj,getSharedSecret:Ote,getStarkKey:uk,grindKey:gj,keccak:yp,pedersen:rv,poseidonBasic:lk,poseidonCreate:jte,poseidonHash:wj,poseidonHashFunc:zte,poseidonHashMany:pl,poseidonHashSingle:Hte,poseidonSmall:nv,sign:Wm,utils:ok,verify:Rte},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hu=BigInt(0),zc=BigInt(1);BigInt(2);BigInt(3);BigInt(4);BigInt(5);BigInt(8);BigInt(9);BigInt(16);function ig(t,e){const r=t%e;return r>=Hu?r:e+r}function Vte(t,e){if(t===Hu||e<=Hu)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ig(t,e),n=e,i=Hu,s=zc;for(;r!==Hu;){const a=n/r,u=n%r,l=i-s*a;n=r,r=u,i=s,s=l}if(n!==zc)throw new Error("invert: does not exist");return ig(i,e)}const Gte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ck(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Gte.reduce((n,i)=>(n[i]="function",n),e);return Jg(t,r)}function Wte(t,e,r){if(r<Hu)throw new Error("Expected power > 0");if(r===Hu)return t.ONE;if(r===zc)return e;let n=t.ONE,i=e;for(;r>Hu;)r&zc&&(n=t.mul(n,i)),i=t.sqr(i),r>>=zc;return n}function qte(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function xj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Sj(t){const e=xj(t);return e+Math.ceil(e/2)}function Zte(t,e,r=!1){const n=t.length,i=xj(e),s=Sj(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?mf(t):z8(t),a=ig(o,e-zc)+zc;return r?H8(a,i):eg(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xte=BigInt(0),LA=BigInt(1);function Yte(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>Xte;)s&LA&&(o=o.add(a)),a=a.double(),s>>=LA;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,c=l;for(let f=0;f<o;f++){c=l,u.push(c);for(let p=1;p<a;p++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const g=y*u;let b=Number(o&f);o>>=m,b>u&&(b-=p,o+=LA);const _=g,w=g+Math.abs(b)-1,E=y%2!==0,x=b<0;b===0?c=c.add(r(E,s[_])):l=l.add(r(x,s[w]))}return{p:l,f:c}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function Aj(t){return ck(t.Fp),Jg(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...qte(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qte(t){const e=Aj(t);Jg(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Kte,hexToBytes:Jte}=bee,Vu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Vu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Kte(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Vu,r=typeof t=="string"?Jte(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Vu._parseInt(r.subarray(2)),{d:o,l:a}=Vu._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},$s=BigInt(0),ar=BigInt(1),Au=BigInt(2),S1=BigInt(3),cL=BigInt(4);function Tj(t){const e=Qte(t),{Fp:r}=e,n=e.toBytes||((y,g,b)=>{const _=g.toAffine();return tg(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),b=r.fromBytes(g.subarray(0,r.BYTES)),_=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:b,y:_}});function s(y){const{a:g,b}=e,_=r.sqr(y),w=r.mul(_,y);return r.add(r.add(w,r.mul(y,g)),b)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&$s<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:g,nByteLength:b,wrapPrivateKey:_,n:w}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Bf(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(b*2,"0")}let E;try{E=typeof y=="bigint"?y:mf(Ds("private key",y,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof y}`)}return _&&(E=ig(E,w)),a(E),E}const l=new Map;function c(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,b,_){if(this.px=g,this.py=b,this.pz=_,g==null||!r.isValid(g))throw new Error("x required");if(b==null||!r.isValid(b))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required")}static fromAffine(g){const{x:b,y:_}=g||{};if(!g||!r.isValid(b)||!r.isValid(_))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const w=E=>r.eql(E,r.ZERO);return w(b)&&w(_)?f.ZERO:new f(b,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const b=r.invertBatch(g.map(_=>_.pz));return g.map((_,w)=>_.toAffine(b[w])).map(f.fromAffine)}static fromHex(g){const b=f.fromAffine(i(Ds("pointHex",g)));return b.assertValidity(),b}static fromPrivateKey(g){return f.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:b}=this.toAffine();if(!r.isValid(g)||!r.isValid(b))throw new Error("bad point: x or y not FE");const _=r.sqr(b),w=s(g);if(!r.eql(_,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:b,py:_,pz:w}=this,{px:E,py:x,pz:N}=g,M=r.eql(r.mul(b,N),r.mul(E,w)),R=r.eql(r.mul(_,N),r.mul(x,w));return M&&R}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b}=e,_=r.mul(b,S1),{px:w,py:E,pz:x}=this;let N=r.ZERO,M=r.ZERO,R=r.ZERO,D=r.mul(w,w),W=r.mul(E,E),G=r.mul(x,x),U=r.mul(w,E);return U=r.add(U,U),R=r.mul(w,x),R=r.add(R,R),N=r.mul(g,R),M=r.mul(_,G),M=r.add(N,M),N=r.sub(W,M),M=r.add(W,M),M=r.mul(N,M),N=r.mul(U,N),R=r.mul(_,R),G=r.mul(g,G),U=r.sub(D,G),U=r.mul(g,U),U=r.add(U,R),R=r.add(D,D),D=r.add(R,D),D=r.add(D,G),D=r.mul(D,U),M=r.add(M,D),G=r.mul(E,x),G=r.add(G,G),D=r.mul(G,U),N=r.sub(N,D),R=r.mul(G,W),R=r.add(R,R),R=r.add(R,R),new f(N,M,R)}add(g){c(g);const{px:b,py:_,pz:w}=this,{px:E,py:x,pz:N}=g;let M=r.ZERO,R=r.ZERO,D=r.ZERO;const W=e.a,G=r.mul(e.b,S1);let U=r.mul(b,E),X=r.mul(_,x),B=r.mul(w,N),j=r.add(b,_),C=r.add(E,x);j=r.mul(j,C),C=r.add(U,X),j=r.sub(j,C),C=r.add(b,w);let P=r.add(E,N);return C=r.mul(C,P),P=r.add(U,B),C=r.sub(C,P),P=r.add(_,w),M=r.add(x,N),P=r.mul(P,M),M=r.add(X,B),P=r.sub(P,M),D=r.mul(W,C),M=r.mul(G,B),D=r.add(M,D),M=r.sub(X,D),D=r.add(X,D),R=r.mul(M,D),X=r.add(U,U),X=r.add(X,U),B=r.mul(W,B),C=r.mul(G,C),X=r.add(X,B),B=r.sub(U,B),B=r.mul(W,B),C=r.add(C,B),U=r.mul(X,C),R=r.add(R,U),U=r.mul(P,C),M=r.mul(j,M),M=r.sub(M,U),U=r.mul(j,X),D=r.mul(P,D),D=r.add(D,U),new f(M,R,D)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,b=>{const _=r.invertBatch(b.map(w=>w.pz));return b.map((w,E)=>w.toAffine(_[E])).map(f.fromAffine)})}multiplyUnsafe(g){const b=f.ZERO;if(g===$s)return b;if(a(g),g===ar)return this;const{endo:_}=e;if(!_)return m.unsafeLadder(this,g);let{k1neg:w,k1:E,k2neg:x,k2:N}=_.splitScalar(g),M=b,R=b,D=this;for(;E>$s||N>$s;)E&ar&&(M=M.add(D)),N&ar&&(R=R.add(D)),D=D.double(),E>>=ar,N>>=ar;return w&&(M=M.negate()),x&&(R=R.negate()),R=new f(r.mul(R.px,_.beta),R.py,R.pz),M.add(R)}multiply(g){a(g);let b=g,_,w;const{endo:E}=e;if(E){const{k1neg:x,k1:N,k2neg:M,k2:R}=E.splitScalar(b);let{p:D,f:W}=this.wNAF(N),{p:G,f:U}=this.wNAF(R);D=m.constTimeNegate(x,D),G=m.constTimeNegate(M,G),G=new f(r.mul(G.px,E.beta),G.py,G.pz),_=D.add(G),w=W.add(U)}else{const{p:x,f:N}=this.wNAF(b);_=x,w=N}return f.normalizeZ([_,w])[0]}multiplyAndAddUnsafe(g,b,_){const w=f.BASE,E=(N,M)=>M===$s||M===ar||!N.equals(w)?N.multiplyUnsafe(M):N.multiply(M),x=E(this,b).add(E(g,_));return x.is0()?void 0:x}toAffine(g){const{px:b,py:_,pz:w}=this,E=this.is0();g==null&&(g=E?r.ONE:r.inv(w));const x=r.mul(b,g),N=r.mul(_,g),M=r.mul(w,g);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x,y:N}}isTorsionFree(){const{h:g,isTorsionFree:b}=e;if(g===ar)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:b}=e;return g===ar?this:b?b(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(f,this,g)}toHex(g=!0){return Bf(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,m=Yte(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function ere(t){const e=Aj(t);return Jg(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function tre(t){const e=ere(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(C){return $s<C&&C<r.ORDER}function a(C){return ig(C,n)}function u(C){return Vte(C,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=Tj({...e,toBytes(C,P,O){const k=P.toAffine(),F=r.toBytes(k.x),$=tg;return O?$(Uint8Array.from([P.hasEvenY()?2:3]),F):$(Uint8Array.from([4]),F,r.toBytes(k.y))},fromBytes(C){const P=C.length,O=C[0],k=C.subarray(1);if(P===i&&(O===2||O===3)){const F=mf(k);if(!o(F))throw new Error("Point is not on curve");const $=f(F);let z=r.sqrt($);const q=(z&ar)===ar;return(O&1)===1!==q&&(z=r.neg(z)),{x:F,y:z}}else if(P===s&&O===4){const F=r.fromBytes(k.subarray(0,r.BYTES)),$=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:F,y:$}}else throw new Error(`Point of length ${P} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=C=>Bf(eg(C,e.nByteLength));function y(C){const P=n>>ar;return C>P}function g(C){return y(C)?a(-C):C}const b=(C,P,O)=>mf(C.slice(P,O));class _{constructor(P,O,k){this.r=P,this.s=O,this.recovery=k,this.assertValidity()}static fromCompact(P){const O=e.nByteLength;return P=Ds("compactSignature",P,O*2),new _(b(P,0,O),b(P,O,2*O))}static fromDER(P){const{r:O,s:k}=Vu.toSig(Ds("DER",P));return new _(O,k)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(P){return new _(this.r,this.s,P)}recoverPublicKey(P){const{r:O,s:k,recovery:F}=this,$=R(Ds("msgHash",P));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const z=F===2||F===3?O+e.n:O;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=F&1?"03":"02",ne=l.fromHex(q+m(z)),re=u(z),ae=a(-$*re),oe=a(k*re),ve=l.BASE.multiplyAndAddUnsafe(ne,ae,oe);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return th(this.toDERHex())}toDERHex(){return Vu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return th(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const w={isValidPrivateKey(C){try{return c(C),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const C=Sj(e.n);return Zte(e.randomBytes(C),e.n)},precompute(C=8,P=l.BASE){return P._setWindowSize(C),P.multiply(BigInt(3)),P}};function E(C,P=!0){return l.fromPrivateKey(C).toRawBytes(P)}function x(C){const P=C instanceof Uint8Array,O=typeof C=="string",k=(P||O)&&C.length;return P?k===i||k===s:O?k===2*i||k===2*s:C instanceof l}function N(C,P,O=!0){if(x(C))throw new Error("first arg must be private key");if(!x(P))throw new Error("second arg must be public key");return l.fromHex(P).multiply(c(C)).toRawBytes(O)}const M=e.bits2int||function(C){const P=mf(C),O=C.length*8-e.nBitLength;return O>0?P>>BigInt(O):P},R=e.bits2int_modN||function(C){return a(M(C))},D=V8(e.nBitLength);function W(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!($s<=C&&C<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return eg(C,e.nByteLength)}function G(C,P,O=U){if(["recovered","canonical"].some(_e=>_e in O))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:F}=e;let{lowS:$,prehash:z,extraEntropy:q}=O;$==null&&($=!0),C=Ds("msgHash",C),z&&(C=Ds("prehashed msgHash",k(C)));const ne=R(C),re=c(P),ae=[W(re),W(ne)];if(q!=null){const _e=q===!0?F(r.BYTES):q;ae.push(Ds("extraEntropy",_e))}const oe=tg(...ae),ve=ne;function Pe(_e){const Ne=M(_e);if(!p(Ne))return;const Ce=u(Ne),De=l.BASE.multiply(Ne).toAffine(),te=a(De.x);if(te===$s)return;const de=a(Ce*a(ve+te*re));if(de===$s)return;let ke=(De.x===te?0:2)|Number(De.y&ar),We=de;return $&&y(de)&&(We=g(de),ke^=1),new _(te,We,ke)}return{seed:oe,k2sig:Pe}}const U={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function B(C,P,O=U){const{seed:k,k2sig:F}=G(C,P,O),$=e;return G8($.hash.outputLen,$.nByteLength,$.hmac)(k,F)}l.BASE._setWindowSize(8);function j(C,P,O,k=X){var De;const F=C;if(P=Ds("msgHash",P),O=Ds("publicKey",O),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:z}=k;let q,ne;try{if(typeof F=="string"||F instanceof Uint8Array)try{q=_.fromDER(F)}catch(te){if(!(te instanceof Vu.Err))throw te;q=_.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:te,s:de}=F;q=new _(te,de)}else throw new Error("PARSE");ne=l.fromHex(O)}catch(te){if(te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&q.hasHighS())return!1;z&&(P=e.hash(P));const{r:re,s:ae}=q,oe=R(P),ve=u(ae),Pe=a(oe*ve),_e=a(re*ve),Ne=(De=l.BASE.multiplyAndAddUnsafe(ne,Pe,_e))==null?void 0:De.toAffine();return Ne?a(Ne.x)===re:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:N,sign:B,verify:j,ProjectivePoint:l,Signature:_,utils:w}}function Cj(t,e){const r=t.ORDER;let n=$s;for(let y=r-ar;y%Au===$s;y/=Au)n+=ar;const i=n,s=Au<<i-ar-ar,o=s*Au,a=(r-ar)/o,u=(a-ar)/Au,l=o-ar,c=s,f=t.pow(e,a),p=t.pow(e,(a+ar)/Au);let m=(y,g)=>{let b=f,_=t.pow(g,l),w=t.sqr(_);w=t.mul(w,g);let E=t.mul(y,w);E=t.pow(E,u),E=t.mul(E,_),_=t.mul(E,g),w=t.mul(E,y);let x=t.mul(w,_);E=t.pow(x,c);let N=t.eql(E,t.ONE);_=t.mul(w,p),E=t.mul(x,b),w=t.cmov(_,w,N),x=t.cmov(E,x,N);for(let M=i;M>ar;M--){let R=M-Au;R=Au<<R-ar;let D=t.pow(x,R);const W=t.eql(D,t.ONE);_=t.mul(w,b),b=t.mul(b,b),D=t.mul(x,b),w=t.cmov(_,w,W),x=t.cmov(D,x,W)}return{isValid:N,value:w}};if(t.ORDER%cL===S1){const y=(t.ORDER-S1)/cL,g=t.sqrt(t.neg(e));m=(b,_)=>{let w=t.sqr(_);const E=t.mul(b,_);w=t.mul(w,E);let x=t.pow(w,y);x=t.mul(x,E);const N=t.mul(x,g),M=t.mul(t.sqr(x),_),R=t.eql(M,b);let D=t.cmov(N,x,R);return{isValid:R,value:D}}}return m}function rre(t,e){if(ck(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=Cj(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,l,c,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),l=t.sqr(a),u=t.mul(l,e.A),s=t.add(s,u),s=t.mul(s,o),l=t.mul(l,a),u=t.mul(l,e.B),s=t.add(s,u),c=t.mul(i,o);const{isValid:p,value:m}=r(s,l);f=t.mul(i,n),f=t.mul(f,m),c=t.cmov(c,o,p),f=t.cmov(f,m,p);const y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),c=t.div(c,a),{x:c,y:f}}}const nre=Object.freeze(Object.defineProperty({__proto__:null,DER:Vu,SWUFpSqrtRatio:Cj,mapToCurveSimpleSWU:rre,weierstrass:tre,weierstrassPoints:Tj},Symbol.toStringTag,{value:"Module"}));function ire(t){throw new Error("config is deprecated, support for circularRefs is removed from the library. If you encounter circular references in your data structures, please rethink your datastructures: better prevent circular references in the first place.")}function gp(t){return sre.test(t)}var sre=/^-?[0-9]+$/;function hk(t){return ore.test(t)}var ore=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Ij(t,e){var r=parseFloat(t),n=String(r),i=BI(t),s=BI(n);if(i===s)return!0;if((e==null?void 0:e.approx)===!0){var o=14;if(!gp(t)&&s.length>=o&&i.startsWith(s.substring(0,o)))return!0}return!1}var Rc=function(t){return t.underflow="underflow",t.overflow="overflow",t.truncate_integer="truncate_integer",t.truncate_float="truncate_float",t}({});function dk(t){if(!Ij(t,{approx:!1})){if(gp(t))return Rc.truncate_integer;var e=parseFloat(t);return isFinite(e)?e===0?Rc.underflow:Rc.truncate_float:Rc.overflow}}function are(t,e){var r=parseFloat(t),n=dk(t);if((e==null?void 0:e.approx)===!0?n&&n!==Rc.truncate_float:n){var i=n.replace(/_\w+$/,"");throw new Error("Cannot safely convert to number: "+"the value '".concat(t,"' would ").concat(i," and become ").concat(r))}return r}function BI(t){return t.replace(ure,"").replace(cre,"").replace(hre,"").replace(lre,"")}var ure=/[eE][+-]?\d+$/,lre=/^-?(0*)?/,cre=/\./,hre=/0+$/;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function dre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oj(n.key),n)}}function fre(t,e,r){return e&&hL(t.prototype,e),r&&hL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pre(t,e,r){return e=Oj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oj(t){var e=mre(t,"string");return Uf(e)==="symbol"?e:String(e)}function mre(t,e){if(Uf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fk=function(){function t(e){if(dre(this,t),pre(this,"isLosslessNumber",!0),!hk(e))throw new Error('Invalid number (value: "'+e+'")');this.value=e}return fre(t,[{key:"valueOf",value:function(){var r=dk(this.value);if(r===void 0||r===Rc.truncate_float)return parseFloat(this.value);if(gp(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(r," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),t}();function Rj(t){return t&&Uf(t)==="object"&&t.isLosslessNumber===!0||!1}function yre(t){if(BI(t+"").length>15)throw new Error("Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself "+"(value: ".concat(t,")"));if(isNaN(t))throw new Error("Invalid number: NaN");if(!isFinite(t))throw new Error("Invalid number: "+t);return new fk(String(t))}function kj(t){return new fk(t)}function Pj(t){return gp(t)?BigInt(t):parseFloat(t)}function LI(t){"@babel/helpers - typeof";return LI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LI(t)}function gre(t,e){return pk({"":t},"",t,e)}function pk(t,e,r,n){return Array.isArray(r)?n.call(t,e,_re(r,n)):r&&LI(r)==="object"&&!Rj(r)?n.call(t,e,vre(r,n)):n.call(t,e,r)}function vre(t,e){return Object.keys(t).forEach(function(r){var n=pk(t,r,t[r],e);n!==void 0?t[r]=n:delete t[r]}),t}function _re(t,e){for(var r=0;r<t.length;r++)t[r]=pk(t,r+"",t[r],e);return t}function $I(t){"@babel/helpers - typeof";return $I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$I(t)}function $A(t){return xre(t)||Ere(t)||wre(t)||bre()}function bre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(t,e){if(t){if(typeof t=="string")return FI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FI(t,e)}}function Ere(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xre(t){if(Array.isArray(t))return FI(t)}function FI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mk(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kj,n=0,i=a();return y(i),b(),e?gre(i,e):i;function s(){if(t.charCodeAt(n)===Ore){n++,l();for(var j={},C=!0;n<t.length&&t.charCodeAt(n)!==fL;){C?C=!1:(p(),l());var P=n,O=c();O===void 0&&E(),l(),m();var k=a();k===void 0&&W(),Object.prototype.hasOwnProperty.call(j,O)&&!UI(k,j[O])&&x(O,P+1),j[O]=k}return t.charCodeAt(n)!==fL&&N(),n++,j}}function o(){if(t.charCodeAt(n)===Rre){n++,l();for(var j=[],C=!0;n<t.length&&t.charCodeAt(n)!==pL;){C?C=!1:p();var P=a();g(P),j.push(P)}return t.charCodeAt(n)!==pL&&M(),n++,j}}function a(){var j,C,P,O,k,F;l();var $=(j=(C=(P=(O=(k=(F=c())!==null&&F!==void 0?F:f())!==null&&k!==void 0?k:s())!==null&&O!==void 0?O:o())!==null&&P!==void 0?P:u("true",!0))!==null&&C!==void 0?C:u("false",!1))!==null&&j!==void 0?j:u("null",null);return l(),$}function u(j,C){if(t.slice(n,n+j.length)===j)return n+=j.length,C}function l(){for(;Sre(t.charCodeAt(n));)n++}function c(){if(t.charCodeAt(n)===FA){n++;for(var j="";n<t.length&&t.charCodeAt(n)!==FA;){if(t.charCodeAt(n)===Ire){var C=t[n+1],P=Cre[C];P!==void 0?(j+=P,n++):C==="u"?c0(t.charCodeAt(n+2))&&c0(t.charCodeAt(n+3))&&c0(t.charCodeAt(n+4))&&c0(t.charCodeAt(n+5))?(j+=String.fromCharCode(parseInt(t.slice(n+2,n+6),16)),n+=5):G(n):D(n)}else Tre(t.charCodeAt(n))?j+=t[n]:R(t[n]);n++}return w(),n++,j}}function f(){var j=n;if(t.charCodeAt(n)===mL&&(n++,_(j)),t.charCodeAt(n)===yk)n++;else if(Are(t.charCodeAt(n)))for(n++;h0(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===$re)for(n++,_(j);h0(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===Hre||t.charCodeAt(n)===zre)for(n++,(t.charCodeAt(n)===mL||t.charCodeAt(n)===Dre)&&n++,_(j);h0(t.charCodeAt(n));)n++;if(n>j)return r(t.slice(j,n))}function p(){if(t.charCodeAt(n)!==Lre)throw new SyntaxError("Comma ',' expected after value ".concat(B()));n++}function m(){if(t.charCodeAt(n)!==Fre)throw new SyntaxError("Colon ':' expected after property name ".concat(B()));n++}function y(j){if(j===void 0)throw new SyntaxError("JSON value expected ".concat(B()))}function g(j){if(j===void 0)throw new SyntaxError("Array item expected ".concat(B()))}function b(){if(n<t.length)throw new SyntaxError("Expected end of input ".concat(B()))}function _(j){if(!h0(t.charCodeAt(n))){var C=t.slice(j,n);throw new SyntaxError("Invalid number '".concat(C,"', expecting a digit ").concat(B()))}}function w(){if(t.charCodeAt(n)!==FA)throw new SyntaxError(`End of string '"' expected `.concat(B()))}function E(){throw new SyntaxError("Quoted object key expected ".concat(B()))}function x(j,C){throw new SyntaxError("Duplicate key '".concat(j,"' encountered at position ").concat(C))}function N(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(B()))}function M(){throw new SyntaxError("Array item or end of array ']' expected ".concat(B()))}function R(j){throw new SyntaxError("Invalid character '".concat(j,"' ").concat(U()))}function D(j){var C=t.slice(j,j+2);throw new SyntaxError("Invalid escape character '".concat(C,"' ").concat(U()))}function W(){throw new SyntaxError("Object value expected after ':' ".concat(U()))}function G(j){for(var C=j+2;/\w/.test(t[C]);)C++;var P=t.slice(j,C);throw new SyntaxError("Invalid unicode character '".concat(P,"' ").concat(U()))}function U(){return"at position ".concat(n)}function X(){return n<t.length?"but got '".concat(t[n],"'"):"but reached end of input"}function B(){return X()+" "+U()}}function Sre(t){return t===kre||t===Pre||t===Nre||t===Mre}function c0(t){return t>=yk&&t<=gk||t>=Ure&&t<=Vre||t>=jre&&t<=Gre}function h0(t){return t>=yk&&t<=gk}function Are(t){return t>=Bre&&t<=gk}function Tre(t){return t>=32&&t<=1114111}function UI(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every(function(n,i){return UI(n,e[i])});if(dL(t)&&dL(e)){var r=$A(new Set([].concat($A(Object.keys(t)),$A(Object.keys(e)))));return r.every(function(n){return UI(t[n],e[n])})}return!1}function dL(t){return $I(t)==="object"&&t!==null}var Cre={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Ire=92,Ore=123,fL=125,Rre=91,pL=93,kre=32,Pre=10,Nre=9,Mre=13,FA=34,Dre=43,mL=45,yk=48,Bre=49,gk=57,Lre=44,$re=46,Fre=58,Ure=65,jre=97,zre=69,Hre=101,Vre=70,Gre=102;function A1(t){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A1(t)}function vk(t,e,r,n){var i=Wre(r),s=typeof e=="function"?e.call({"":t},"",t):t;return o(s,"");function o(c,f){if(Array.isArray(n)){var p=n.find(function(y){return y.test(c)});if(p){var m=p.stringify(c);if(typeof m!="string"||!hk(m))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(m,")"));return m}}if(typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c===null||c instanceof Date||c instanceof Boolean||c instanceof Number||c instanceof String)return JSON.stringify(c);if(c&&c.isLosslessNumber||typeof c=="bigint")return c.toString();if(Array.isArray(c))return a(c,f);if(c&&A1(c)==="object")return u(c,f)}function a(c,f){if(c.length===0)return"[]";for(var p=i?f+i:void 0,m=i?`[
`:"[",y=0;y<c.length;y++){var g=typeof e=="function"?e.call(c,String(y),c[y]):c[y];i&&(m+=p),typeof g<"u"&&typeof g!="function"?m+=o(g,p):m+="null",y<c.length-1&&(m+=i?`,
`:",")}return m+=i?`
`+f+"]":"]",m}function u(c,f){if(typeof c.toJSON=="function")return vk(c.toJSON(),e,r,void 0);var p=Array.isArray(e)?e.map(String):Object.keys(c);if(p.length===0)return"{}";var m=i?f+i:void 0,y=!0,g=i?`{
`:"{";return p.forEach(function(b){var _=typeof e=="function"?e.call(c,b,c[b]):c[b];if(l(b,_)){y?y=!1:g+=i?`,
`:",";var w=JSON.stringify(b);g+=i?m+w+": ":w+":",g+=o(_,m)}}),g+=i?`
`+f+"}":"}",g}function l(c,f){return typeof f<"u"&&typeof f!="function"&&A1(f)!=="symbol"}}function Wre(t){if(typeof t=="number")return" ".repeat(t);if(typeof t=="string"&&t!=="")return t}function qre(t,e){return typeof e=="string"&&Zre.test(e)?new Date(e):e}var Zre=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/;const Xre=Object.freeze(Object.defineProperty({__proto__:null,LosslessNumber:fk,UnsafeNumberReason:Rc,config:ire,getUnsafeNumberReason:dk,isInteger:gp,isLosslessNumber:Rj,isNumber:hk,isSafeNumber:Ij,parse:mk,parseLosslessNumber:kj,parseNumberAndBigInt:Pj,reviveDate:qre,stringify:vk,toLosslessNumber:yre,toSafeNumberOrThrow:are},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nj(t){const{Fp:e,mds:r,reversePartialPowIdx:n,roundConstants:i}=t,{roundsFull:s,roundsPartial:o,sboxPower:a,t:u}=t;ck(e);for(const y of["t","roundsFull","roundsPartial"])if(typeof t[y]!="number"||!Number.isSafeInteger(t[y]))throw new Error(`Poseidon: invalid param ${y}=${t[y]} (${typeof t[y]})`);if(!Array.isArray(r)||r.length!==u)throw new Error("Poseidon: wrong MDS matrix");const l=r.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon MDS matrix row: ${y}`);return y.map(g=>{if(typeof g!="bigint")throw new Error(`Poseidon MDS matrix value=${g}`);return e.create(g)})});if(n!==void 0&&typeof n!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${n}`);if(s%2!==0)throw new Error(`Poseidon roundsFull is not even: ${s}`);const c=s+o;if(!Array.isArray(i)||i.length!==c)throw new Error("Poseidon: wrong round constants");const f=i.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon wrong round constants: ${y}`);return y.map(g=>{if(typeof g!="bigint"||!e.isValid(g))throw new Error(`Poseidon wrong round constant=${g}`);return e.create(g)})});if(!a||![3,5,7].includes(a))throw new Error(`Poseidon wrong sboxPower=${a}`);const p=BigInt(a);let m=y=>Wte(e,y,p);return a===3?m=y=>e.mul(e.sqrN(y),y):a===5&&(m=y=>e.mul(e.sqrN(e.sqrN(y)),y)),Object.freeze({...t,rounds:c,sboxFn:m,roundConstants:f,mds:l})}function Yre(t,e){if(typeof e!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(t)||t.length%e)throw new Error("poseidonSplitConstants: wrong rc");const r=[];let n=[];for(let i=0;i<t.length;i++)n.push(t[i]),n.length===e&&(r.push(n),n=[]);return r}function Qre(t){const e=Nj(t),{Fp:r,mds:n,roundConstants:i,rounds:s,roundsPartial:o,sboxFn:a,t:u}=e,l=e.roundsFull/2,c=e.reversePartialPowIdx?u-1:0,f=(m,y,g)=>(m=m.map((b,_)=>r.add(b,i[g][_])),y?m=m.map(b=>a(b)):m[c]=a(m[c]),m=n.map(b=>b.reduce((_,w,E)=>r.add(_,r.mulN(w,m[E])),r.ZERO)),m),p=function(y){if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${u})`);y=y.map(b=>{if(typeof b!="bigint")throw new Error(`Poseidon: wrong value=${b} (${typeof b})`);return r.create(b)});let g=0;for(let b=0;b<l;b++)y=f(y,!0,g++);for(let b=0;b<o;b++)y=f(y,!1,g++);for(let b=0;b<l;b++)y=f(y,!0,g++);if(g!==s)throw new Error(`Poseidon: wrong number of rounds: last round=${g}, total=${s}`);return y};return p.roundConstants=i,p}const Kre=Object.freeze(Object.defineProperty({__proto__:null,poseidon:Qre,splitConstants:Yre,validateOpts:Nj},Symbol.toStringTag,{value:"Module"}));/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Jre=4,yL=0,gL=1,ene=2;function vp(t){let e=t.length;for(;--e>=0;)t[e]=0}const tne=0,Mj=1,rne=2,nne=3,ine=258,_k=29,iv=256,sg=iv+1+_k,yf=30,bk=19,Dj=2*sg+1,kc=15,UA=16,sne=7,wk=256,Bj=16,Lj=17,$j=18,jI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),xb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),one=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Fj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ane=512,Na=new Array((sg+2)*2);vp(Na);const vy=new Array(yf*2);vp(vy);const og=new Array(ane);vp(og);const ag=new Array(ine-nne+1);vp(ag);const Ek=new Array(_k);vp(Ek);const T1=new Array(yf);vp(T1);function jA(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let Uj,jj,zj;function zA(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Hj=t=>t<256?og[t]:og[256+(t>>>7)],ug=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},si=(t,e,r)=>{t.bi_valid>UA-r?(t.bi_buf|=e<<t.bi_valid&65535,ug(t,t.bi_buf),t.bi_buf=e>>UA-t.bi_valid,t.bi_valid+=r-UA):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Go=(t,e,r)=>{si(t,r[e*2],r[e*2+1])},Vj=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},une=t=>{t.bi_valid===16?(ug(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},lne=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,c,f,p,m,y,g=0;for(p=0;p<=kc;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<Dj;l++)c=t.heap[l],p=r[r[c*2+1]*2+1]+1,p>u&&(p=u,g++),r[c*2+1]=p,!(c>n)&&(t.bl_count[p]++,m=0,c>=a&&(m=o[c-a]),y=r[c*2],t.opt_len+=y*(p+m),s&&(t.static_len+=y*(i[c*2+1]+m)));if(g!==0){do{for(p=u-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[u]--,g-=2}while(g>0);for(p=u;p!==0;p--)for(c=t.bl_count[p];c!==0;)f=t.heap[--l],!(f>n)&&(r[f*2+1]!==p&&(t.opt_len+=(p-r[f*2+1])*r[f*2],r[f*2+1]=p),c--)}},Gj=(t,e,r)=>{const n=new Array(kc+1);let i=0,s,o;for(s=1;s<=kc;s++)i=i+r[s-1]<<1,n[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=Vj(n[a]++,a))}},cne=()=>{let t,e,r,n,i;const s=new Array(kc+1);for(r=0,n=0;n<_k-1;n++)for(Ek[n]=r,t=0;t<1<<jI[n];t++)ag[r++]=n;for(ag[r-1]=n,i=0,n=0;n<16;n++)for(T1[n]=i,t=0;t<1<<xb[n];t++)og[i++]=n;for(i>>=7;n<yf;n++)for(T1[n]=i<<7,t=0;t<1<<xb[n]-7;t++)og[256+i++]=n;for(e=0;e<=kc;e++)s[e]=0;for(t=0;t<=143;)Na[t*2+1]=8,t++,s[8]++;for(;t<=255;)Na[t*2+1]=9,t++,s[9]++;for(;t<=279;)Na[t*2+1]=7,t++,s[7]++;for(;t<=287;)Na[t*2+1]=8,t++,s[8]++;for(Gj(Na,sg+1,s),t=0;t<yf;t++)vy[t*2+1]=5,vy[t*2]=Vj(t,5);Uj=new jA(Na,jI,iv+1,sg,kc),jj=new jA(vy,xb,0,yf,kc),zj=new jA(new Array(0),one,0,bk,sne)},Wj=t=>{let e;for(e=0;e<sg;e++)t.dyn_ltree[e*2]=0;for(e=0;e<yf;e++)t.dyn_dtree[e*2]=0;for(e=0;e<bk;e++)t.bl_tree[e*2]=0;t.dyn_ltree[wk*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},qj=t=>{t.bi_valid>8?ug(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},vL=(t,e,r,n)=>{const i=e*2,s=r*2;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},HA=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&vL(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!vL(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},_L=(t,e,r)=>{let n,i,s=0,o,a;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+s++]&255,n+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],n===0?Go(t,i,e):(o=ag[i],Go(t,o+iv+1,e),a=jI[o],a!==0&&(i-=Ek[o],si(t,i,a)),n--,o=Hj(n),Go(t,o,r),a=xb[o],a!==0&&(n-=T1[o],si(t,n,a)));while(s<t.sym_next);Go(t,wk,e)},zI=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,u=-1,l;for(t.heap_len=0,t.heap_max=Dj,o=0;o<s;o++)r[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,r[l*2]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[l*2+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)HA(t,r,o);l=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],HA(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[l*2]=r[o*2]+r[a*2],t.depth[l]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[o*2+1]=r[a*2+1]=l,t.heap[1]=l++,HA(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],lne(t,e),Gj(r,u,t.bl_count)},bL=(t,e,r)=>{let n,i=-1,s,o=e[0*2+1],a=0,u=7,l=4;for(o===0&&(u=138,l=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=e[(n+1)*2+1],!(++a<u&&s===o)&&(a<l?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[Bj*2]++):a<=10?t.bl_tree[Lj*2]++:t.bl_tree[$j*2]++,a=0,i=s,o===0?(u=138,l=3):s===o?(u=6,l=3):(u=7,l=4))},wL=(t,e,r)=>{let n,i=-1,s,o=e[0*2+1],a=0,u=7,l=4;for(o===0&&(u=138,l=3),n=0;n<=r;n++)if(s=o,o=e[(n+1)*2+1],!(++a<u&&s===o)){if(a<l)do Go(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Go(t,s,t.bl_tree),a--),Go(t,Bj,t.bl_tree),si(t,a-3,2)):a<=10?(Go(t,Lj,t.bl_tree),si(t,a-3,3)):(Go(t,$j,t.bl_tree),si(t,a-11,7));a=0,i=s,o===0?(u=138,l=3):s===o?(u=6,l=3):(u=7,l=4)}},hne=t=>{let e;for(bL(t,t.dyn_ltree,t.l_desc.max_code),bL(t,t.dyn_dtree,t.d_desc.max_code),zI(t,t.bl_desc),e=bk-1;e>=3&&t.bl_tree[Fj[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},dne=(t,e,r,n)=>{let i;for(si(t,e-257,5),si(t,r-1,5),si(t,n-4,4),i=0;i<n;i++)si(t,t.bl_tree[Fj[i]*2+1],3);wL(t,t.dyn_ltree,e-1),wL(t,t.dyn_dtree,r-1)},fne=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return yL;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return gL;for(r=32;r<iv;r++)if(t.dyn_ltree[r*2]!==0)return gL;return yL};let EL=!1;const pne=t=>{EL||(cne(),EL=!0),t.l_desc=new zA(t.dyn_ltree,Uj),t.d_desc=new zA(t.dyn_dtree,jj),t.bl_desc=new zA(t.bl_tree,zj),t.bi_buf=0,t.bi_valid=0,Wj(t)},Zj=(t,e,r,n)=>{si(t,(tne<<1)+(n?1:0),3),qj(t),ug(t,r),ug(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},mne=t=>{si(t,Mj<<1,3),Go(t,wk,Na),une(t)},yne=(t,e,r,n)=>{let i,s,o=0;t.level>0?(t.strm.data_type===ene&&(t.strm.data_type=fne(t)),zI(t,t.l_desc),zI(t,t.d_desc),o=hne(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&e!==-1?Zj(t,e,r,n):t.strategy===Jre||s===i?(si(t,(Mj<<1)+(n?1:0),3),_L(t,Na,vy)):(si(t,(rne<<1)+(n?1:0),3),dne(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),_L(t,t.dyn_ltree,t.dyn_dtree)),Wj(t),n&&qj(t)},gne=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(ag[r]+iv+1)*2]++,t.dyn_dtree[Hj(e)*2]++),t.sym_next===t.sym_end);var vne=pne,_ne=Zj,bne=yne,wne=gne,Ene=mne,xne={_tr_init:vne,_tr_stored_block:_ne,_tr_flush_block:bne,_tr_tally:wne,_tr_align:Ene};const Sne=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var lg=Sne;const Ane=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Tne=new Uint32Array(Ane()),Cne=(t,e,r,n)=>{const i=Tne,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var jr=Cne,nh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Th={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ine,_tr_stored_block:HI,_tr_flush_block:One,_tr_tally:il,_tr_align:Rne}=xne,{Z_NO_FLUSH:sl,Z_PARTIAL_FLUSH:kne,Z_FULL_FLUSH:Pne,Z_FINISH:Ji,Z_BLOCK:xL,Z_OK:Jr,Z_STREAM_END:SL,Z_STREAM_ERROR:Jo,Z_DATA_ERROR:Nne,Z_BUF_ERROR:VA,Z_DEFAULT_COMPRESSION:Mne,Z_FILTERED:Dne,Z_HUFFMAN_ONLY:d0,Z_RLE:Bne,Z_FIXED:Lne,Z_DEFAULT_STRATEGY:$ne,Z_UNKNOWN:Fne,Z_DEFLATED:nE}=Th,Une=9,jne=15,zne=8,Hne=29,Vne=256,VI=Vne+1+Hne,Gne=30,Wne=19,qne=2*VI+1,Zne=15,ft=3,Gu=258,ea=Gu+ft+1,Xne=32,jf=42,xk=57,GI=69,WI=73,qI=91,ZI=103,Pc=113,qm=666,$n=1,_p=2,ih=3,bp=4,Yne=3,Nc=(t,e)=>(t.msg=nh[e],e),AL=t=>t*2-(t>4?9:0),Lu=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Qne=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let Kne=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,ol=Kne;const _i=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},Ci=(t,e)=>{One(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,_i(t.strm)},xt=(t,e)=>{t.pending_buf[t.pending++]=e},Tm=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},XI=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=lg(t.adler,e,i,r):t.state.wrap===2&&(t.adler=jr(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Xj=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-ea?t.strstart-(t.w_size-ea):0,l=t.window,c=t.w_mask,f=t.prev,p=t.strstart+Gu;let m=l[n+o-1],y=l[n+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(l[i+o]!==y||l[i+o-1]!==m||l[i]!==l[n]||l[++i]!==l[n+1])){n+=2,i++;do;while(l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&n<p);if(s=Gu-(p-n),n=p-Gu,s>o){if(t.match_start=e,o=s,s>=a)break;m=l[n+o-1],y=l[n+o]}}while((e=f[e&c])>u&&--r!==0);return o<=t.lookahead?o:t.lookahead},zf=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ea)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Qne(t),n+=e),t.strm.avail_in===0)break;if(r=XI(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=ft)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=ol(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=ol(t,t.ins_h,t.window[i+ft-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ft)););}while(t.lookahead<ea&&t.strm.avail_in!==0)},Yj=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,s,o=0,a=t.strm.avail_in;do{if(n=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&e!==Ji||e===sl||n!==i+t.strm.avail_in)))break;o=e===Ji&&n===i+t.strm.avail_in?1:0,HI(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,_i(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(XI(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?bp:e!==sl&&e!==Ji&&t.strm.avail_in===0&&t.strstart===t.block_start?_p:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(XI(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=r||(i||e===Ji)&&e!==sl&&t.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,o=e===Ji&&t.strm.avail_in===0&&n===i?1:0,HI(t,t.block_start,n,o),t.block_start+=n,_i(t.strm)),o?ih:$n)},GA=(t,e)=>{let r,n;for(;;){if(t.lookahead<ea){if(zf(t),t.lookahead<ea&&e===sl)return $n;if(t.lookahead===0)break}if(r=0,t.lookahead>=ft&&(t.ins_h=ol(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-ea&&(t.match_length=Xj(t,r)),t.match_length>=ft)if(n=il(t,t.strstart-t.match_start,t.match_length-ft),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ft){t.match_length--;do t.strstart++,t.ins_h=ol(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ol(t,t.ins_h,t.window[t.strstart+1]);else n=il(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ci(t,!1),t.strm.avail_out===0))return $n}return t.insert=t.strstart<ft-1?t.strstart:ft-1,e===Ji?(Ci(t,!0),t.strm.avail_out===0?ih:bp):t.sym_next&&(Ci(t,!1),t.strm.avail_out===0)?$n:_p},cd=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<ea){if(zf(t),t.lookahead<ea&&e===sl)return $n;if(t.lookahead===0)break}if(r=0,t.lookahead>=ft&&(t.ins_h=ol(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ft-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ea&&(t.match_length=Xj(t,r),t.match_length<=5&&(t.strategy===Dne||t.match_length===ft&&t.strstart-t.match_start>4096)&&(t.match_length=ft-1)),t.prev_length>=ft&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ft,n=il(t,t.strstart-1-t.prev_match,t.prev_length-ft),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=ol(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ft-1,t.strstart++,n&&(Ci(t,!1),t.strm.avail_out===0))return $n}else if(t.match_available){if(n=il(t,0,t.window[t.strstart-1]),n&&Ci(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return $n}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=il(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ft-1?t.strstart:ft-1,e===Ji?(Ci(t,!0),t.strm.avail_out===0?ih:bp):t.sym_next&&(Ci(t,!1),t.strm.avail_out===0)?$n:_p},Jne=(t,e)=>{let r,n,i,s;const o=t.window;for(;;){if(t.lookahead<=Gu){if(zf(t),t.lookahead<=Gu&&e===sl)return $n;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ft&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=t.strstart+Gu;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=Gu-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ft?(r=il(t,1,t.match_length-ft),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=il(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Ci(t,!1),t.strm.avail_out===0))return $n}return t.insert=0,e===Ji?(Ci(t,!0),t.strm.avail_out===0?ih:bp):t.sym_next&&(Ci(t,!1),t.strm.avail_out===0)?$n:_p},eie=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(zf(t),t.lookahead===0)){if(e===sl)return $n;break}if(t.match_length=0,r=il(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Ci(t,!1),t.strm.avail_out===0))return $n}return t.insert=0,e===Ji?(Ci(t,!0),t.strm.avail_out===0?ih:bp):t.sym_next&&(Ci(t,!1),t.strm.avail_out===0)?$n:_p};function Ro(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Zm=[new Ro(0,0,0,0,Yj),new Ro(4,4,8,4,GA),new Ro(4,5,16,8,GA),new Ro(4,6,32,32,GA),new Ro(4,4,16,16,cd),new Ro(8,16,32,32,cd),new Ro(8,16,128,128,cd),new Ro(8,32,128,256,cd),new Ro(32,128,258,1024,cd),new Ro(32,258,258,4096,cd)],tie=t=>{t.window_size=2*t.w_size,Lu(t.head),t.max_lazy_match=Zm[t.level].max_lazy,t.good_match=Zm[t.level].good_length,t.nice_match=Zm[t.level].nice_length,t.max_chain_length=Zm[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ft-1,t.match_available=0,t.ins_h=0};function rie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=nE,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(qne*2),this.dyn_dtree=new Uint16Array((2*Gne+1)*2),this.bl_tree=new Uint16Array((2*Wne+1)*2),Lu(this.dyn_ltree),Lu(this.dyn_dtree),Lu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Zne+1),this.heap=new Uint16Array(2*VI+1),Lu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*VI+1),Lu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const sv=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==jf&&e.status!==xk&&e.status!==GI&&e.status!==WI&&e.status!==qI&&e.status!==ZI&&e.status!==Pc&&e.status!==qm?1:0},Qj=t=>{if(sv(t))return Nc(t,Jo);t.total_in=t.total_out=0,t.data_type=Fne;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?xk:e.wrap?jf:Pc,t.adler=e.wrap===2?0:1,e.last_flush=-2,Ine(e),Jr},Kj=t=>{const e=Qj(t);return e===Jr&&tie(t.state),e},nie=(t,e)=>sv(t)||t.state.wrap!==2?Jo:(t.state.gzhead=e,Jr),Jj=(t,e,r,n,i,s)=>{if(!t)return Jo;let o=1;if(e===Mne&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>Une||r!==nE||n<8||n>15||e<0||e>9||s<0||s>Lne||n===8&&o!==1)return Nc(t,Jo);n===8&&(n=9);const a=new rie;return t.state=a,a.strm=t,a.status=jf,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ft-1)/ft),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=r,Kj(t)},iie=(t,e)=>Jj(t,e,nE,jne,zne,$ne),sie=(t,e)=>{if(sv(t)||e>xL||e<0)return t?Nc(t,Jo):Jo;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===qm&&e!==Ji)return Nc(t,t.avail_out===0?VA:Jo);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(_i(t),t.avail_out===0)return r.last_flush=-1,Jr}else if(t.avail_in===0&&AL(e)<=AL(n)&&e!==Ji)return Nc(t,VA);if(r.status===qm&&t.avail_in!==0)return Nc(t,VA);if(r.status===jf&&r.wrap===0&&(r.status=Pc),r.status===jf){let i=nE+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=d0||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=Xne),i+=31-i%31,Tm(r,i),r.strstart!==0&&(Tm(r,t.adler>>>16),Tm(r,t.adler&65535)),t.adler=1,r.status=Pc,_i(t),r.pending!==0)return r.last_flush=-1,Jr}if(r.status===xk){if(t.adler=0,xt(r,31),xt(r,139),xt(r,8),r.gzhead)xt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xt(r,r.gzhead.time&255),xt(r,r.gzhead.time>>8&255),xt(r,r.gzhead.time>>16&255),xt(r,r.gzhead.time>>24&255),xt(r,r.level===9?2:r.strategy>=d0||r.level<2?4:0),xt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(xt(r,r.gzhead.extra.length&255),xt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=jr(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=GI;else if(xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,r.level===9?2:r.strategy>=d0||r.level<2?4:0),xt(r,Yne),r.status=Pc,_i(t),r.pending!==0)return r.last_flush=-1,Jr}if(r.status===GI){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let a=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=a,_i(t),r.pending!==0)return r.last_flush=-1,Jr;i=0,s-=a}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=WI}if(r.status===WI){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),_i(t),r.pending!==0)return r.last_flush=-1,Jr;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,xt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=qI}if(r.status===qI){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),_i(t),r.pending!==0)return r.last_flush=-1,Jr;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,xt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i))}r.status=ZI}if(r.status===ZI){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(_i(t),r.pending!==0))return r.last_flush=-1,Jr;xt(r,t.adler&255),xt(r,t.adler>>8&255),t.adler=0}if(r.status=Pc,_i(t),r.pending!==0)return r.last_flush=-1,Jr}if(t.avail_in!==0||r.lookahead!==0||e!==sl&&r.status!==qm){let i=r.level===0?Yj(r,e):r.strategy===d0?eie(r,e):r.strategy===Bne?Jne(r,e):Zm[r.level].func(r,e);if((i===ih||i===bp)&&(r.status=qm),i===$n||i===ih)return t.avail_out===0&&(r.last_flush=-1),Jr;if(i===_p&&(e===kne?Rne(r):e!==xL&&(HI(r,0,0,!1),e===Pne&&(Lu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),_i(t),t.avail_out===0))return r.last_flush=-1,Jr}return e!==Ji?Jr:r.wrap<=0?SL:(r.wrap===2?(xt(r,t.adler&255),xt(r,t.adler>>8&255),xt(r,t.adler>>16&255),xt(r,t.adler>>24&255),xt(r,t.total_in&255),xt(r,t.total_in>>8&255),xt(r,t.total_in>>16&255),xt(r,t.total_in>>24&255)):(Tm(r,t.adler>>>16),Tm(r,t.adler&65535)),_i(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Jr:SL)},oie=t=>{if(sv(t))return Jo;const e=t.state.status;return t.state=null,e===Pc?Nc(t,Nne):Jr},aie=(t,e)=>{let r=e.length;if(sv(t))return Jo;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==jf||n.lookahead)return Jo;if(i===1&&(t.adler=lg(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Lu(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(e.subarray(r-n.w_size,r),0),e=u,r=n.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,zf(n);n.lookahead>=ft;){let u=n.strstart,l=n.lookahead-(ft-1);do n.ins_h=ol(n,n.ins_h,n.window[u+ft-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=ft-1,zf(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ft-1,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,n.wrap=i,Jr};var uie=iie,lie=Jj,cie=Kj,hie=Qj,die=nie,fie=sie,pie=oie,mie=aie,yie="pako deflate (from Nodeca project)",_y={deflateInit:uie,deflateInit2:lie,deflateReset:cie,deflateResetKeep:hie,deflateSetHeader:die,deflate:fie,deflateEnd:pie,deflateSetDictionary:mie,deflateInfo:yie};const gie=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var vie=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)gie(r,n)&&(t[n]=r[n])}}return t},_ie=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},iE={assign:vie,flattenChunks:_ie};let ez=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ez=!1}const cg=new Uint8Array(256);for(let t=0;t<256;t++)cg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;cg[254]=cg[254]=1;var bie=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const wie=(t,e)=>{if(e<65534&&t.subarray&&ez)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Eie=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let a=cg[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return wie(s,i)},xie=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+cg[t[r]]>e?r:e},hg={string2buf:bie,buf2string:Eie,utf8border:xie};function Sie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tz=Sie;const rz=Object.prototype.toString,{Z_NO_FLUSH:Aie,Z_SYNC_FLUSH:Tie,Z_FULL_FLUSH:Cie,Z_FINISH:Iie,Z_OK:C1,Z_STREAM_END:Oie,Z_DEFAULT_COMPRESSION:Rie,Z_DEFAULT_STRATEGY:kie,Z_DEFLATED:Pie}=Th;function ov(t){this.options=iE.assign({level:Rie,method:Pie,chunkSize:16384,windowBits:15,memLevel:8,strategy:kie},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tz,this.strm.avail_out=0;let r=_y.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==C1)throw new Error(nh[r]);if(e.header&&_y.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=hg.string2buf(e.dictionary):rz.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=_y.deflateSetDictionary(this.strm,n),r!==C1)throw new Error(nh[r]);this._dict_set=!0}}ov.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Iie:Aie,typeof t=="string"?r.input=hg.string2buf(t):rz.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===Tie||s===Cie)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=_y.deflate(r,s),i===Oie)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=_y.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===C1;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};ov.prototype.onData=function(t){this.chunks.push(t)};ov.prototype.onEnd=function(t){t===C1&&(this.result=iE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Sk(t,e){const r=new ov(e);if(r.push(t,!0),r.err)throw r.msg||nh[r.err];return r.result}function Nie(t,e){return e=e||{},e.raw=!0,Sk(t,e)}function Mie(t,e){return e=e||{},e.gzip=!0,Sk(t,e)}var Die=ov,Bie=Sk,Lie=Nie,$ie=Mie,Fie=Th,Uie={Deflate:Die,deflate:Bie,deflateRaw:Lie,gzip:$ie,constants:Fie};const f0=16209,jie=16191;var zie=function(e,r){let n,i,s,o,a,u,l,c,f,p,m,y,g,b,_,w,E,x,N,M,R,D,W,G;const U=e.state;n=e.next_in,W=e.input,i=n+(e.avail_in-5),s=e.next_out,G=e.output,o=s-(r-e.avail_out),a=s+(e.avail_out-257),u=U.dmax,l=U.wsize,c=U.whave,f=U.wnext,p=U.window,m=U.hold,y=U.bits,g=U.lencode,b=U.distcode,_=(1<<U.lenbits)-1,w=(1<<U.distbits)-1;e:do{y<15&&(m+=W[n++]<<y,y+=8,m+=W[n++]<<y,y+=8),E=g[m&_];t:for(;;){if(x=E>>>24,m>>>=x,y-=x,x=E>>>16&255,x===0)G[s++]=E&65535;else if(x&16){N=E&65535,x&=15,x&&(y<x&&(m+=W[n++]<<y,y+=8),N+=m&(1<<x)-1,m>>>=x,y-=x),y<15&&(m+=W[n++]<<y,y+=8,m+=W[n++]<<y,y+=8),E=b[m&w];r:for(;;){if(x=E>>>24,m>>>=x,y-=x,x=E>>>16&255,x&16){if(M=E&65535,x&=15,y<x&&(m+=W[n++]<<y,y+=8,y<x&&(m+=W[n++]<<y,y+=8)),M+=m&(1<<x)-1,M>u){e.msg="invalid distance too far back",U.mode=f0;break e}if(m>>>=x,y-=x,x=s-o,M>x){if(x=M-x,x>c&&U.sane){e.msg="invalid distance too far back",U.mode=f0;break e}if(R=0,D=p,f===0){if(R+=l-x,x<N){N-=x;do G[s++]=p[R++];while(--x);R=s-M,D=G}}else if(f<x){if(R+=l+f-x,x-=f,x<N){N-=x;do G[s++]=p[R++];while(--x);if(R=0,f<N){x=f,N-=x;do G[s++]=p[R++];while(--x);R=s-M,D=G}}}else if(R+=f-x,x<N){N-=x;do G[s++]=p[R++];while(--x);R=s-M,D=G}for(;N>2;)G[s++]=D[R++],G[s++]=D[R++],G[s++]=D[R++],N-=3;N&&(G[s++]=D[R++],N>1&&(G[s++]=D[R++]))}else{R=s-M;do G[s++]=G[R++],G[s++]=G[R++],G[s++]=G[R++],N-=3;while(N>2);N&&(G[s++]=G[R++],N>1&&(G[s++]=G[R++]))}}else if(x&64){e.msg="invalid distance code",U.mode=f0;break e}else{E=b[(E&65535)+(m&(1<<x)-1)];continue r}break}}else if(x&64)if(x&32){U.mode=jie;break e}else{e.msg="invalid literal/length code",U.mode=f0;break e}else{E=g[(E&65535)+(m&(1<<x)-1)];continue t}break}}while(n<i&&s<a);N=y>>3,n-=N,y-=N<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),U.hold=m,U.bits=y};const hd=15,TL=852,CL=592,IL=0,WA=1,OL=2,Hie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Vie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Wie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),qie=(t,e,r,n,i,s,o,a)=>{const u=a.bits;let l=0,c=0,f=0,p=0,m=0,y=0,g=0,b=0,_=0,w=0,E,x,N,M,R,D=null,W;const G=new Uint16Array(hd+1),U=new Uint16Array(hd+1);let X=null,B,j,C;for(l=0;l<=hd;l++)G[l]=0;for(c=0;c<n;c++)G[e[r+c]]++;for(m=u,p=hd;p>=1&&G[p]===0;p--);if(m>p&&(m=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&G[f]===0;f++);for(m<f&&(m=f),b=1,l=1;l<=hd;l++)if(b<<=1,b-=G[l],b<0)return-1;if(b>0&&(t===IL||p!==1))return-1;for(U[1]=0,l=1;l<hd;l++)U[l+1]=U[l]+G[l];for(c=0;c<n;c++)e[r+c]!==0&&(o[U[e[r+c]]++]=c);if(t===IL?(D=X=o,W=20):t===WA?(D=Hie,X=Vie,W=257):(D=Gie,X=Wie,W=0),w=0,c=0,l=f,R=s,y=m,g=0,N=-1,_=1<<m,M=_-1,t===WA&&_>TL||t===OL&&_>CL)return 1;for(;;){B=l-g,o[c]+1<W?(j=0,C=o[c]):o[c]>=W?(j=X[o[c]-W],C=D[o[c]-W]):(j=32+64,C=0),E=1<<l-g,x=1<<y,f=x;do x-=E,i[R+(w>>g)+x]=B<<24|j<<16|C|0;while(x!==0);for(E=1<<l-1;w&E;)E>>=1;if(E!==0?(w&=E-1,w+=E):w=0,c++,--G[l]===0){if(l===p)break;l=e[r+o[c]]}if(l>m&&(w&M)!==N){for(g===0&&(g=m),R+=f,y=l-g,b=1<<y;y+g<p&&(b-=G[y+g],!(b<=0));)y++,b<<=1;if(_+=1<<y,t===WA&&_>TL||t===OL&&_>CL)return 1;N=w&M,i[N]=m<<24|y<<16|R-s|0}}return w!==0&&(i[R+w]=l-g<<24|64<<16|0),a.bits=m,0};var by=qie;const Zie=0,nz=1,iz=2,{Z_FINISH:RL,Z_BLOCK:Xie,Z_TREES:p0,Z_OK:sh,Z_STREAM_END:Yie,Z_NEED_DICT:Qie,Z_STREAM_ERROR:fs,Z_DATA_ERROR:sz,Z_MEM_ERROR:oz,Z_BUF_ERROR:Kie,Z_DEFLATED:kL}=Th,sE=16180,PL=16181,NL=16182,ML=16183,DL=16184,BL=16185,LL=16186,$L=16187,FL=16188,UL=16189,I1=16190,Aa=16191,qA=16192,jL=16193,ZA=16194,zL=16195,HL=16196,VL=16197,GL=16198,m0=16199,y0=16200,WL=16201,qL=16202,ZL=16203,XL=16204,YL=16205,XA=16206,QL=16207,KL=16208,Xt=16209,az=16210,uz=16211,Jie=852,ese=592,tse=15,rse=tse,JL=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function nse(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ch=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<sE||e.mode>uz?1:0},lz=t=>{if(Ch(t))return fs;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=sE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Jie),e.distcode=e.distdyn=new Int32Array(ese),e.sane=1,e.back=-1,sh},cz=t=>{if(Ch(t))return fs;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,lz(t)},hz=(t,e)=>{let r;if(Ch(t))return fs;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?fs:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,cz(t))},dz=(t,e)=>{if(!t)return fs;const r=new nse;t.state=r,r.strm=t,r.window=null,r.mode=sE;const n=hz(t,e);return n!==sh&&(t.state=null),n},ise=t=>dz(t,rse);let e4=!0,YA,QA;const sse=t=>{if(e4){YA=new Int32Array(512),QA=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(by(nz,t.lens,0,288,YA,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;by(iz,t.lens,0,32,QA,0,t.work,{bits:5}),e4=!1}t.lencode=YA,t.lenbits=9,t.distcode=QA,t.distbits=5},fz=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},ose=(t,e)=>{let r,n,i,s,o,a,u,l,c,f,p,m,y,g,b=0,_,w,E,x,N,M,R,D;const W=new Uint8Array(4);let G,U;const X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ch(t)||!t.output||!t.input&&t.avail_in!==0)return fs;r=t.state,r.mode===Aa&&(r.mode=qA),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,c=r.bits,f=a,p=u,D=sh;e:for(;;)switch(r.mode){case sE:if(r.wrap===0){r.mode=qA;break}for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0),l=0,c=0,r.mode=PL;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=Xt;break}if((l&15)!==kL){t.msg="unknown compression method",r.mode=Xt;break}if(l>>>=4,c-=4,R=(l&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=Xt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?UL:Aa,l=0,c=0;break;case PL:for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.flags=l,(r.flags&255)!==kL){t.msg="unknown compression method",r.mode=Xt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Xt;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0)),l=0,c=0,r.mode=NL;case NL:for(;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,W[2]=l>>>16&255,W[3]=l>>>24&255,r.check=jr(r.check,W,4,0)),l=0,c=0,r.mode=ML;case ML:for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0)),l=0,c=0,r.mode=DL;case DL:if(r.flags&1024){for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=BL;case BL:if(r.flags&1024&&(m=r.length,m>a&&(m=a),m&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+m),R)),r.flags&512&&r.wrap&4&&(r.check=jr(r.check,n,m,s)),a-=m,s+=m,r.length-=m),r.length))break e;r.length=0,r.mode=LL;case LL:if(r.flags&2048){if(a===0)break e;m=0;do R=n[s+m++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&m<a);if(r.flags&512&&r.wrap&4&&(r.check=jr(r.check,n,m,s)),a-=m,s+=m,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=$L;case $L:if(r.flags&4096){if(a===0)break e;m=0;do R=n[s+m++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&m<a);if(r.flags&512&&r.wrap&4&&(r.check=jr(r.check,n,m,s)),a-=m,s+=m,R)break e}else r.head&&(r.head.comment=null);r.mode=FL;case FL:if(r.flags&512){for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Xt;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Aa;break;case UL:for(;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}t.adler=r.check=JL(l),l=0,c=0,r.mode=I1;case I1:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,Qie;t.adler=r.check=1,r.mode=Aa;case Aa:if(e===Xie||e===p0)break e;case qA:if(r.last){l>>>=c&7,c-=c&7,r.mode=XA;break}for(;c<3;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}switch(r.last=l&1,l>>>=1,c-=1,l&3){case 0:r.mode=jL;break;case 1:if(sse(r),r.mode=m0,e===p0){l>>>=2,c-=2;break e}break;case 2:r.mode=HL;break;case 3:t.msg="invalid block type",r.mode=Xt}l>>>=2,c-=2;break;case jL:for(l>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Xt;break}if(r.length=l&65535,l=0,c=0,r.mode=ZA,e===p0)break e;case ZA:r.mode=zL;case zL:if(m=r.length,m){if(m>a&&(m=a),m>u&&(m=u),m===0)break e;i.set(n.subarray(s,s+m),o),a-=m,s+=m,u-=m,o+=m,r.length-=m;break}r.mode=Aa;break;case HL:for(;c<14;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.nlen=(l&31)+257,l>>>=5,c-=5,r.ndist=(l&31)+1,l>>>=5,c-=5,r.ncode=(l&15)+4,l>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Xt;break}r.have=0,r.mode=VL;case VL:for(;r.have<r.ncode;){for(;c<3;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.lens[X[r.have++]]=l&7,l>>>=3,c-=3}for(;r.have<19;)r.lens[X[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=by(Zie,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid code lengths set",r.mode=Xt;break}r.have=0,r.mode=GL;case GL:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[l&(1<<r.lenbits)-1],_=b>>>24,w=b>>>16&255,E=b&65535,!(_<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(E<16)l>>>=_,c-=_,r.lens[r.have++]=E;else{if(E===16){for(U=_+2;c<U;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(l>>>=_,c-=_,r.have===0){t.msg="invalid bit length repeat",r.mode=Xt;break}R=r.lens[r.have-1],m=3+(l&3),l>>>=2,c-=2}else if(E===17){for(U=_+3;c<U;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=_,c-=_,R=0,m=3+(l&7),l>>>=3,c-=3}else{for(U=_+7;c<U;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=_,c-=_,R=0,m=11+(l&127),l>>>=7,c-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Xt;break}for(;m--;)r.lens[r.have++]=R}}if(r.mode===Xt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Xt;break}if(r.lenbits=9,G={bits:r.lenbits},D=by(nz,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid literal/lengths set",r.mode=Xt;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=by(iz,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){t.msg="invalid distances set",r.mode=Xt;break}if(r.mode=m0,e===p0)break e;case m0:r.mode=y0;case y0:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,zie(t,p),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,c=r.bits,r.mode===Aa&&(r.back=-1);break}for(r.back=0;b=r.lencode[l&(1<<r.lenbits)-1],_=b>>>24,w=b>>>16&255,E=b&65535,!(_<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(w&&!(w&240)){for(x=_,N=w,M=E;b=r.lencode[M+((l&(1<<x+N)-1)>>x)],_=b>>>24,w=b>>>16&255,E=b&65535,!(x+_<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=x,c-=x,r.back+=x}if(l>>>=_,c-=_,r.back+=_,r.length=E,w===0){r.mode=YL;break}if(w&32){r.back=-1,r.mode=Aa;break}if(w&64){t.msg="invalid literal/length code",r.mode=Xt;break}r.extra=w&15,r.mode=WL;case WL:if(r.extra){for(U=r.extra;c<U;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=qL;case qL:for(;b=r.distcode[l&(1<<r.distbits)-1],_=b>>>24,w=b>>>16&255,E=b&65535,!(_<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(!(w&240)){for(x=_,N=w,M=E;b=r.distcode[M+((l&(1<<x+N)-1)>>x)],_=b>>>24,w=b>>>16&255,E=b&65535,!(x+_<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=x,c-=x,r.back+=x}if(l>>>=_,c-=_,r.back+=_,w&64){t.msg="invalid distance code",r.mode=Xt;break}r.offset=E,r.extra=w&15,r.mode=ZL;case ZL:if(r.extra){for(U=r.extra;c<U;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Xt;break}r.mode=XL;case XL:if(u===0)break e;if(m=p-u,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Xt;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),g=r.window}else g=i,y=o-r.offset,m=r.length;m>u&&(m=u),u-=m,r.length-=m;do i[o++]=g[y++];while(--m);r.length===0&&(r.mode=y0);break;case YL:if(u===0)break e;i[o++]=r.length,u--,r.mode=y0;break;case XA:if(r.wrap){for(;c<32;){if(a===0)break e;a--,l|=n[s++]<<c,c+=8}if(p-=u,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?jr(r.check,i,p,o-p):lg(r.check,i,p,o-p)),p=u,r.wrap&4&&(r.flags?l:JL(l))!==r.check){t.msg="incorrect data check",r.mode=Xt;break}l=0,c=0}r.mode=QL;case QL:if(r.wrap&&r.flags){for(;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Xt;break}l=0,c=0}r.mode=KL;case KL:D=Yie;break e;case Xt:D=sz;break e;case az:return oz;case uz:default:return fs}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,(r.wsize||p!==t.avail_out&&r.mode<Xt&&(r.mode<XA||e!==RL))&&fz(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?jr(r.check,i,p,t.next_out-p):lg(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Aa?128:0)+(r.mode===m0||r.mode===ZA?256:0),(f===0&&p===0||e===RL)&&D===sh&&(D=Kie),D},ase=t=>{if(Ch(t))return fs;let e=t.state;return e.window&&(e.window=null),t.state=null,sh},use=(t,e)=>{if(Ch(t))return fs;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,sh):fs},lse=(t,e)=>{const r=e.length;let n,i,s;return Ch(t)||(n=t.state,n.wrap!==0&&n.mode!==I1)?fs:n.mode===I1&&(i=1,i=lg(i,e,r,0),i!==n.check)?sz:(s=fz(t,e,r,r),s?(n.mode=az,oz):(n.havedict=1,sh))};var cse=cz,hse=hz,dse=lz,fse=ise,pse=dz,mse=ose,yse=ase,gse=use,vse=lse,_se="pako inflate (from Nodeca project)",Ma={inflateReset:cse,inflateReset2:hse,inflateResetKeep:dse,inflateInit:fse,inflateInit2:pse,inflate:mse,inflateEnd:yse,inflateGetHeader:gse,inflateSetDictionary:vse,inflateInfo:_se};function bse(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wse=bse;const pz=Object.prototype.toString,{Z_NO_FLUSH:Ese,Z_FINISH:xse,Z_OK:dg,Z_STREAM_END:KA,Z_NEED_DICT:JA,Z_STREAM_ERROR:Sse,Z_DATA_ERROR:t4,Z_MEM_ERROR:Ase}=Th;function av(t){this.options=iE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tz,this.strm.avail_out=0;let r=Ma.inflateInit2(this.strm,e.windowBits);if(r!==dg)throw new Error(nh[r]);if(this.header=new wse,Ma.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=hg.string2buf(e.dictionary):pz.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ma.inflateSetDictionary(this.strm,e.dictionary),r!==dg)))throw new Error(nh[r])}av.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?xse:Ese,pz.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Ma.inflate(r,o),s===JA&&i&&(s=Ma.inflateSetDictionary(r,i),s===dg?s=Ma.inflate(r,o):s===t4&&(s=JA));r.avail_in>0&&s===KA&&r.state.wrap>0&&t[r.next_in]!==0;)Ma.inflateReset(r),s=Ma.inflate(r,o);switch(s){case Sse:case t4:case JA:case Ase:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===KA))if(this.options.to==="string"){let u=hg.utf8border(r.output,r.next_out),l=r.next_out-u,c=hg.buf2string(r.output,u);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(u,u+l),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===dg&&a===0)){if(s===KA)return s=Ma.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};av.prototype.onData=function(t){this.chunks.push(t)};av.prototype.onEnd=function(t){t===dg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=iE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ak(t,e){const r=new av(e);if(r.push(t),r.err)throw r.msg||nh[r.err];return r.result}function Tse(t,e){return e=e||{},e.raw=!0,Ak(t,e)}var Cse=av,Ise=Ak,Ose=Tse,Rse=Ak,kse=Th,Pse={Inflate:Cse,inflate:Ise,inflateRaw:Ose,ungzip:Rse,constants:kse};const{Deflate:Nse,deflate:Mse,deflateRaw:Dse,gzip:Bse}=Uie,{Inflate:Lse,inflate:$se,inflateRaw:Fse,ungzip:Use}=Pse;var mz=Nse,yz=Mse,gz=Dse,Tk=Bse,vz=Lse,_z=$se,bz=Fse,Ck=Use,wz=Th,jse={Deflate:mz,deflate:yz,deflateRaw:gz,gzip:Tk,Inflate:vz,inflate:_z,inflateRaw:bz,ungzip:Ck,constants:wz};const zse=Object.freeze(Object.defineProperty({__proto__:null,Deflate:mz,Inflate:vz,constants:wz,default:jse,deflate:yz,deflateRaw:gz,gzip:Tk,inflate:_z,inflateRaw:bz,ungzip:Ck},Symbol.toStringTag,{value:"Module"}));var en=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},kn={searchParams:"URLSearchParams"in en,iterable:"Symbol"in en&&"iterator"in Symbol,blob:"FileReader"in en&&"Blob"in en&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in en,arrayBuffer:"ArrayBuffer"in en};function Hse(t){return t&&DataView.prototype.isPrototypeOf(t)}if(kn.arrayBuffer)var Vse=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Gse=ArrayBuffer.isView||function(t){return t&&Vse.indexOf(Object.prototype.toString.call(t))>-1};function wp(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Ik(t){return typeof t!="string"&&(t=String(t)),t}function Ok(t){var e={next:function(){var r=t.shift();return{done:r===void 0,value:r}}};return kn.iterable&&(e[Symbol.iterator]=function(){return e}),e}function Nr(t){this.map={},t instanceof Nr?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}Nr.prototype.append=function(t,e){t=wp(t),e=Ik(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};Nr.prototype.delete=function(t){delete this.map[wp(t)]};Nr.prototype.get=function(t){return t=wp(t),this.has(t)?this.map[t]:null};Nr.prototype.has=function(t){return this.map.hasOwnProperty(wp(t))};Nr.prototype.set=function(t,e){this.map[wp(t)]=Ik(e)};Nr.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};Nr.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),Ok(t)};Nr.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),Ok(t)};Nr.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),Ok(t)};kn.iterable&&(Nr.prototype[Symbol.iterator]=Nr.prototype.entries);function eT(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Ez(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function Wse(t){var e=new FileReader,r=Ez(e);return e.readAsArrayBuffer(t),r}function qse(t){var e=new FileReader,r=Ez(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=n?n[1]:"utf-8";return e.readAsText(t,i),r}function Zse(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function r4(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function xz(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:kn.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:kn.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:kn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():kn.arrayBuffer&&kn.blob&&Hse(t)?(this._bodyArrayBuffer=r4(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):kn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||Gse(t))?this._bodyArrayBuffer=r4(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):kn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},kn.blob&&(this.blob=function(){var t=eT(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=eT(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(kn.blob)return this.blob().then(Wse);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=eT(this);if(t)return t;if(this._bodyBlob)return qse(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Zse(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},kn.formData&&(this.formData=function(){return this.text().then(Qse)}),this.json=function(){return this.text().then(JSON.parse)},this}var Xse=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Yse(t){var e=t.toUpperCase();return Xse.indexOf(e)>-1?e:t}function oh(t,e){if(!(this instanceof oh))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof oh){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Nr(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new Nr(e.headers)),this.method=Yse(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in en){var s=new AbortController;return s.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}oh.prototype.clone=function(){return new oh(this,{body:this._bodyInit})};function Qse(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function Kse(t){var e=new Nr,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),e}xz.call(oh.prototype);function ca(t,e){if(!(this instanceof ca))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new Nr(e.headers),this.url=e.url||"",this._initBody(t)}xz.call(ca.prototype);ca.prototype.clone=function(){return new ca(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Nr(this.headers),url:this.url})};ca.error=function(){var t=new ca(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Jse=[301,302,303,307,308];ca.redirect=function(t,e){if(Jse.indexOf(e)===-1)throw new RangeError("Invalid status code");return new ca(null,{status:e,headers:{location:t}})};var _c=en.DOMException;try{new _c}catch{_c=function(e,r){this.message=e,this.name=r;var n=Error(e);this.stack=n.stack},_c.prototype=Object.create(Error.prototype),_c.prototype.constructor=_c}function Sz(t,e){return new Promise(function(r,n){var i=new oh(t,e);if(i.signal&&i.signal.aborted)return n(new _c("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var l={statusText:s.statusText,headers:Kse(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?l.status=200:l.status=s.status,l.url="responseURL"in s?s.responseURL:l.headers.get("X-Request-URL");var c="response"in s?s.response:s.responseText;setTimeout(function(){r(new ca(c,l))},0)},s.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){n(new _c("Aborted","AbortError"))},0)};function a(l){try{return l===""&&en.location.href?en.location.href:l}catch{return l}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(kn.blob?s.responseType="blob":kn.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof Nr||en.Headers&&e.headers instanceof en.Headers)){var u=[];Object.getOwnPropertyNames(e.headers).forEach(function(l){u.push(wp(l)),s.setRequestHeader(l,Ik(e.headers[l]))}),i.headers.forEach(function(l,c){u.indexOf(c)===-1&&s.setRequestHeader(c,l)})}else i.headers.forEach(function(l,c){s.setRequestHeader(c,l)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Sz.polyfill=!0;en.fetch||(en.fetch=Sz,en.Headers=Nr,en.Request=oh,en.Response=ca);var Az=self.fetch.bind(self);const eoe=Eh(Az);var Tz={exports:{}};(function(t){(function(e,r,n){t.exports?t.exports=n():r[e]=n()})("urljoin",at,function(){function e(r){var n=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var i=r.shift();r[0]=i+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var s=0;s<r.length;s++){var o=r[s];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(s>0&&(o=o.replace(/^[\/]+/,"")),s<r.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),n.push(o))}var a=n.join("/");a=a.replace(/\/(\?|&|#[^!])/g,"$1");var u=a.split("?");return a=u.shift()+(u.length>0?"?":"")+u.join("&"),a}return function(){var r;return typeof arguments[0]=="object"?r=arguments[0]:r=[].slice.call(arguments),e(r)}})})(Tz);var Rk=Tz.exports;const Cz=Eh(Rk);var toe=Object.defineProperty,Mr=(t,e)=>{for(var r in e)toe(t,r,{get:e[r],enumerable:!0})},roe={};Mr(roe,{API_VERSION:()=>jz,BN_FEE_TRANSACTION_VERSION_1:()=>$z,BN_FEE_TRANSACTION_VERSION_2:()=>Fz,BN_TRANSACTION_VERSION_1:()=>Nk,BN_TRANSACTION_VERSION_2:()=>Mk,BaseUrl:()=>zz,HEX_STR_TRANSACTION_VERSION_1:()=>Bz,HEX_STR_TRANSACTION_VERSION_2:()=>Lz,IS_BROWSER:()=>Iz,MASK_250:()=>Uz,MASK_251:()=>uoe,NetworkName:()=>Dk,RPC_GOERLI_NODES:()=>Gz,RPC_MAINNET_NODES:()=>Wz,StarknetChainId:()=>Hz,TEXT_TO_FELT_MAX_LEN:()=>Pk,TransactionHashPrefix:()=>Vz,UDC:()=>bc,ZERO:()=>Ei});var noe={};Mr(noe,{IS_BROWSER:()=>Iz,addHexPrefix:()=>Hn,arrayBufferToString:()=>Oz,atobUniversal:()=>Rz,btoaUniversal:()=>kz,buf2hex:()=>Pz,calcByteLength:()=>Mz,padLeft:()=>Nz,pascalToSnake:()=>aoe,removeHexPrefix:()=>xp,sanitizeBytes:()=>Dz,sanitizeHex:()=>ooe,stringToArrayBuffer:()=>ioe,utf8ToArray:()=>Ep});var Iz=typeof window<"u",kk="0";function Oz(t){return new Uint8Array(t).reduce((e,r)=>e+String.fromCharCode(r),"")}function Ep(t){return new TextEncoder().encode(t)}function ioe(t){return Ep(t)}function Rz(t){return Yw.decode(t)}function kz(t){return Yw.encode(new Uint8Array(t))}function Pz(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function xp(t){return t.replace(/^0x/i,"")}function Hn(t){return`0x${xp(t)}`}function soe(t,e,r,n=kk){const i=e-t.length;let s=t;if(i>0){const o=n.repeat(i);s=r?o+t:t+o}return s}function Nz(t,e,r=kk){return soe(t,e,!0,r)}function Mz(t,e=8){const{length:r}=t,n=r%e;return n?(r-n)/e*e+e:r}function Dz(t,e=8,r=kk){return Nz(t,Mz(t,e),r)}function ooe(t){return t=xp(t),t=Dz(t,2),t&&(t=Hn(t)),t}var aoe=t=>/[a-z]/.test(t)?t.split(/(?=[A-Z])/).join("_").toUpperCase():t,Pk=31,Bz="0x1",Lz="0x2",Nk=1n,Mk=2n,$z=2n**128n+Nk,Fz=2n**128n+Mk,Ei=0n,Uz=2n**250n-1n,uoe=2n**251n,jz=Ei,zz=(t=>(t.SN_MAIN="https://alpha-mainnet.starknet.io",t.SN_GOERLI="https://alpha4.starknet.io",t))(zz||{}),Dk=(t=>(t.SN_MAIN="SN_MAIN",t.SN_GOERLI="SN_GOERLI",t))(Dk||{}),Hz=(t=>(t.SN_MAIN="0x534e5f4d41494e",t.SN_GOERLI="0x534e5f474f45524c49",t))(Hz||{}),Vz=(t=>(t.DECLARE="0x6465636c617265",t.DEPLOY="0x6465706c6f79",t.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",t.INVOKE="0x696e766f6b65",t.L1_HANDLER="0x6c315f68616e646c6572",t))(Vz||{}),bc={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},Gz=["https://starknet-testnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/goerli-juno/v0_5"],Wz=["https://starknet-mainnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/mainnet-juno/v0_5"],loe={};Mr(loe,{BlockStatus:()=>Jz,BlockTag:()=>Fk,EntryPointType:()=>Xz,Litteral:()=>Lk,RPC:()=>ei,SIMULATION_FLAG:()=>qz,Sequencer:()=>foe,TransactionExecutionStatus:()=>Kz,TransactionFinalityStatus:()=>$k,TransactionStatus:()=>Qz,TransactionType:()=>Yz,Uint:()=>Bk,ValidateType:()=>Zz});var qz=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_EXECUTE="SKIP_EXECUTE",t))(qz||{}),Zz=(t=>(t.DEPLOY="DEPLOY",t.CALL="CALL",t.INVOKE="INVOKE",t))(Zz||{}),Bk=(t=>(t.u8="core::integer::u8",t.u16="core::integer::u16",t.u32="core::integer::u32",t.u64="core::integer::u64",t.u128="core::integer::u128",t.u256="core::integer::u256",t))(Bk||{}),Lk=(t=>(t.ClassHash="core::starknet::class_hash::ClassHash",t.ContractAddress="core::starknet::contract_address::ContractAddress",t))(Lk||{}),Xz=(t=>(t.EXTERNAL="EXTERNAL",t.L1_HANDLER="L1_HANDLER",t.CONSTRUCTOR="CONSTRUCTOR",t))(Xz||{}),Yz=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE_FUNCTION",t))(Yz||{}),Qz=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.REJECTED="REJECTED",t.REVERTED="REVERTED",t))(Qz||{}),$k=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))($k||{}),Kz=(t=>(t.REJECTED="REJECTED",t.REVERTED="REVERTED",t.SUCCEEDED="SUCCEEDED",t))(Kz||{}),Jz=(t=>(t.PENDING="PENDING",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.REJECTED="REJECTED",t))(Jz||{}),Fk=(t=>(t.pending="pending",t.latest="latest",t))(Fk||{}),ei={};Mr(ei,{EBlockTag:()=>sH,EDataAvailabilityMode:()=>oH,ESimulationFlag:()=>tH,ETransactionExecutionStatus:()=>iH,ETransactionFinalityStatus:()=>nH,ETransactionStatus:()=>rH,ETransactionType:()=>eH,Errors:()=>hoe,JRPC:()=>coe,SPEC:()=>doe});var coe={},hoe={},doe={},eH=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE",t.L1_HANDLER="L1_HANDLER",t))(eH||{}),tH=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",t))(tH||{}),rH=(t=>(t.RECEIVED="RECEIVED",t.REJECTED="REJECTED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(rH||{}),nH=(t=>(t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(nH||{}),iH=(t=>(t.SUCCEEDED="SUCCEEDED",t.REVERTED="REVERTED",t))(iH||{}),sH=(t=>(t.LATEST="latest",t.PENDING="pending",t))(sH||{}),oH=(t=>(t.L1="L1",t.L2="L2",t))(oH||{}),foe={};function Ut(t,e){if(!t)throw new Error(e||"Assertion failure")}var poe={};Mr(poe,{assertInRange:()=>moe,bigNumberishArrayToDecimalStringArray:()=>lH,bigNumberishArrayToHexadecimalStringArray:()=>cH,cleanHex:()=>fg,getDecimalString:()=>hH,getHexString:()=>jk,getHexStringArray:()=>zk,hexToBytes:()=>dH,hexToDecimalString:()=>uH,isBigInt:()=>oE,isHex:()=>oo,isStringWholeNumber:()=>Sp,toBigInt:()=>qe,toCairoBool:()=>YI,toHex:()=>Ae,toHexString:()=>Uk,toStorageKey:()=>aH});function oo(t){return/^0x[0-9a-f]*$/i.test(t)}function qe(t){return BigInt(t)}function oE(t){return typeof t=="bigint"}function Ae(t){return Hn(qe(t).toString(16))}var Uk=Ae;function aH(t){return Hn(qe(t).toString(16).padStart(64,"0"))}function uH(t){return BigInt(Hn(t)).toString(10)}var fg=t=>t.toLowerCase().replace(/^(0x)0+/,"$1");function moe(t,e,r,n=""){const i=n===""?"invalid length":`invalid ${n} length`,s=BigInt(t),o=BigInt(e),a=BigInt(r);Ut(s>=o&&s<=a,`Message not signable, ${i}.`)}function lH(t){return t.map(e=>qe(e).toString(10))}function cH(t){return t.map(e=>Ae(e))}var Sp=t=>/^\d+$/.test(t);function hH(t){if(oo(t))return uH(t);if(Sp(t))return t;throw new Error(`${t} need to be hex-string or whole-number-string`)}function jk(t){if(oo(t))return t;if(Sp(t))return Uk(t);throw new Error(`${t} need to be hex-string or whole-number-string`)}function zk(t){return t.map(e=>jk(e))}var YI=t=>(+t).toString();function dH(t){if(!oo(t))throw new Error(`${t} need to be a hex-string`);let e=xp(t);return e.length%2!==0&&(e=`0${e}`),th(e)}var yoe={};Mr(yoe,{getSelector:()=>aE,getSelectorFromName:()=>ao,keccakBn:()=>fH,starknetKeccak:()=>Hk});function fH(t){const e=xp(Ae(BigInt(t))),r=e.length%2===0?e:`0${e}`;return Hn(yp(dH(Hn(r))).toString(16))}function goe(t){return Hn(yp(Ep(t)).toString(16))}function Hk(t){return BigInt(goe(t))&Uz}function ao(t){return Ae(Hk(t))}function aE(t){return oo(t)?t:Sp(t)?Uk(t):ao(t)}var Sb={};Mr(Sb,{decodeShortString:()=>qk,encodeShortString:()=>Ml,isASCII:()=>Vk,isDecimalString:()=>pH,isLongText:()=>Gk,isShortString:()=>uv,isShortText:()=>voe,isText:()=>lv,splitLongString:()=>Wk});function Vk(t){return/^[\x00-\x7F]*$/.test(t)}function uv(t){return t.length<=Pk}function pH(t){return/^[0-9]*$/i.test(t)}function lv(t){return typeof t=="string"&&!oo(t)&&!Sp(t)}var voe=t=>lv(t)&&uv(t),Gk=t=>lv(t)&&!uv(t);function Wk(t){const e=RegExp(`[^]{1,${Pk}}`,"g");return t.match(e)||[]}function Ml(t){if(!Vk(t))throw new Error(`${t} is not an ASCII string`);if(!uv(t))throw new Error(`${t} is too long`);return Hn(t.replace(/./g,e=>e.charCodeAt(0).toString(16)))}function qk(t){if(!Vk(t))throw new Error(`${t} is not an ASCII string`);if(oo(t))return xp(t).replace(/.{2}/g,e=>String.fromCharCode(parseInt(e,16)));if(pH(t))return qk("0X".concat(BigInt(t).toString(16)));throw new Error(`${t} is not Hex or decimal`)}var mH={};Mr(mH,{felt:()=>oi,getAbiContractVersion:()=>dE,getArrayType:()=>Hf,isCairo1Abi:()=>_H,isCairo1Type:()=>gl,isLen:()=>ah,isTypeArray:()=>ml,isTypeBool:()=>hE,isTypeContractAddress:()=>woe,isTypeEnum:()=>Ih,isTypeEthAddress:()=>vH,isTypeFelt:()=>O1,isTypeLitteral:()=>Qk,isTypeNamedTuple:()=>gH,isTypeOption:()=>lE,isTypeResult:()=>cE,isTypeStruct:()=>cv,isTypeTuple:()=>Dl,isTypeUint:()=>Yk,isTypeUint256:()=>yl,tuple:()=>Eoe,uint256:()=>Kk});var _oe={};Mr(_oe,{UINT_128_MAX:()=>Zk,UINT_256_MAX:()=>yH,bnToUint256:()=>boe,isUint256:()=>Xk,uint256ToBN:()=>uE});var Zk=(1n<<128n)-1n,yH=(1n<<256n)-1n;function uE(t){return(qe(t.high)<<128n)+qe(t.low)}function Xk(t){return qe(t)<=yH}function boe(t){const e=qe(t);if(!Xk(e))throw new Error("Number is too large");return{low:Hn((e&Zk).toString(16)),high:Hn((e>>128n).toString(16))}}var ah=t=>/_len$/.test(t),O1=t=>t==="felt"||t==="core::felt252",ml=t=>/\*/.test(t)||t.startsWith("core::array::Array::")||t.startsWith("core::array::Span::"),Dl=t=>/^\(.*\)$/i.test(t),gH=t=>/\(.*\)/i.test(t)&&t.includes(":"),cv=(t,e)=>t in e,Ih=(t,e)=>t in e,lE=t=>t.startsWith("core::option::Option::"),cE=t=>t.startsWith("core::result::Result::"),Yk=t=>Object.values(Bk).includes(t),Qk=t=>Object.values(Lk).includes(t),yl=t=>t==="core::integer::u256",hE=t=>t==="core::bool",woe=t=>t==="core::starknet::contract_address::ContractAddress",vH=t=>t==="core::starknet::eth_address::EthAddress",gl=t=>t.includes("::"),Hf=t=>gl(t)?t.substring(t.indexOf("<")+1,t.lastIndexOf(">")):t.replace("*","");function _H(t){const{cairo:e}=dE(t);if(e===void 0)throw Error("Unable to determine Cairo version");return e==="1"}function dE(t){if(t.find(n=>n.type==="interface"))return{cairo:"1",compiler:"2"};const e=t.find(n=>n.type==="function"&&(n.inputs.length||n.outputs.length));if(!e)return{cairo:void 0,compiler:void 0};const r=e.inputs.length?e.inputs:e.outputs;return gl(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var Kk=t=>{const e=BigInt(t);if(!Xk(e))throw new Error("Number is too large");return{low:(e&Zk).toString(10),high:(e>>128n).toString(10)}},Eoe=(...t)=>({...t});function oi(t){if(oE(t)||typeof t=="number"&&Number.isInteger(t))return t.toString();if(lv(t)){if(!uv(t))throw new Error(`${t} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const e=Ml(t);return BigInt(e).toString()}if(typeof t=="string"&&oo(t))return BigInt(t).toString();if(typeof t=="string"&&Sp(t))return t;if(typeof t=="boolean")return`${+t}`;throw new Error(`${t} can't be computed by felt()`)}var bH=class{constructor(e){const r=Object.values(e);if(r.length===0)throw new Error("This Enum must have a least 1 variant");if(r.filter(i=>typeof i<"u").length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){const r=Object.entries(this.variant).find(n=>typeof n[1]<"u");if(!(typeof r>"u"))return r[1]}activeVariant(){const r=Object.entries(this.variant).find(n=>typeof n[1]<"u");return typeof r>"u"?"":r[0]}},wH=(t=>(t[t.Some=0]="Some",t[t.None=1]="None",t))(wH||{}),QI=class{constructor(e,r){if(!(e in wH))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(e===0){if(typeof r>"u")throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=r,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!(typeof this.Some>"u")}isNone(){return this.None===!0}},EH=(t=>(t[t.Ok=0]="Ok",t[t.Err=1]="Err",t))(EH||{}),KI=class{constructor(e,r){if(!(e in EH))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");e===0?(this.Ok=r,this.Err=void 0):(this.Ok=void 0,this.Err=r)}unwrap(){if(typeof this.Ok<"u")return this.Ok;if(typeof this.Err<"u")return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(typeof this.Ok>"u")}isErr(){return!(typeof this.Err>"u")}},tT={isBN:(t,e,r)=>{if(!oE(t[r]))throw new Error(`Data and formatter mismatch on ${r}:${e[r]}, expected response data ${r}:${t[r]} to be BN instead it is ${typeof t[r]}`)},unknown:(t,e,r)=>{throw new Error(`Unhandled formatter type on ${r}:${e[r]} for data ${r}:${t[r]}`)}};function Ab(t,e,r){return Object.entries(t).reduce((n,[i,s])=>{const o=r??e[i];if(!(i in e)&&!r)return n[i]=s,n;if(o==="string"){if(Array.isArray(t[i])){const a=Ab(t[i],t[i].map(u=>o));return n[i]=Object.values(a).join(""),n}return tT.isBN(t,e,i),n[i]=qk(s),n}if(o==="number")return tT.isBN(t,e,i),n[i]=Number(s),n;if(typeof o=="function")return n[i]=o(s),n;if(Array.isArray(o)){const a=Ab(t[i],o,o[0]);return n[i]=Object.values(a),n}return typeof o=="object"?(n[i]=Ab(t[i],o),n):(tT.unknown(t,e,i),n)},{})}var xoe=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce((r,n)=>ah(n.name)?r:r+1,0)}getMethod(e){return this.abi.find(r=>r.name===e)}getLegacyFormat(){return this.abi}},Soe=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find(n=>n.type==="interface").items.find(n=>n.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>e.type==="interface"?e.items:e)}};function xH(t){const e=Aoe(t);if(e===0||e===1)return new xoe(t);if(e===2)return new Soe(t);throw Error(`Unsupported ABI version ${e}`)}function Aoe(t){return t.find(e=>e.type==="interface")?2:_H(t)?1:0}function n4(t,e,r){return t==="constructor"&&!r&&!e.length}function Toe(t){const e=t.substring(0,t.indexOf(":")),r=t.substring(e.length+1);return{name:e,type:r}}function SH(t){if(!t.includes("("))return{subTuple:[],result:t};const e=[];let r="",n=0;for(;n<t.length;){if(t[n]==="("){let i=1;const s=n;for(n++;i;)t[n]===")"&&i--,t[n]==="("&&i++,n++;e.push(t.substring(s,n)),r+=" ",n--}else r+=t[n];n++}return{subTuple:e,result:r}}function Coe(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=SH(e);let i=n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s);return gH(t)&&(i=i.reduce((s,o)=>s.concat(Toe(o)),[])),i}function Ioe(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=SH(e);return n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s)}function Jk(t){return gl(t)?Ioe(t):Coe(t)}function Ooe(t){return Error(`Your object includes the property : ${t}, containing an Uint256 object without the 'low' and 'high' keys.`)}function Roe(t,e,r,n){const i=(c,f)=>{if(ml(f))return o(c,f);if(Ih(f,n)){const p=n[f];return u(c,p)}if(Dl(f))return a(c,f);if(vH(f))return c;if(yl(f)){const p=c;if(typeof p!="object")return p;if(!("low"in p&&"high"in p))throw Ooe(f);return{low:p.low,high:p.high}}if(cv(f,r)){const p=r[f].members;return s(c,p)}return c},s=(c,f)=>f.reduce((m,y)=>{const g=b=>Object.defineProperty(m,y.name,{enumerable:!0,value:b??c[y.name]});if(c[y.name]==="undefined"&&(gl(y.type)||!ah(y.name)))throw Error(`Your object needs a property with key : ${y.name} .`);return g(i(c[y.name],y.type)),m},{});function o(c,f){const p=Hf(f);return typeof c=="string"?c:c.map(m=>i(m,p))}function a(c,f){return Jk(f).reduce((y,g,b)=>{const _=Object.keys(c),w=x=>Object.defineProperty(y,b.toString(),{enumerable:!0,value:x??c[_[b]]}),E=g!=null&&g.type?g.type:g;return w(i(c[_[b]],E)),y},{})}const u=(c,f)=>{if(cE(f.name)){const g=c,b=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(",")),_=f.name.substring(f.name.indexOf(",")+1,f.name.lastIndexOf(">"));return g.isOk()?new KI(0,i(c.unwrap(),b)):new KI(1,i(c.unwrap(),_))}if(lE(f.name)){const g=c,b=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(">"));return g.isSome()?new QI(0,i(g.unwrap(),b)):new QI(1,{})}const p=c,y=Object.entries(p.variant).map(g=>{if(typeof g[1]>"u")return g;const b=f.type.substring(f.type.lastIndexOf("<")+1,f.type.lastIndexOf(">"));return b==="()"?g:[g[0],i(p.unwrap(),b)]});return new bH(Object.fromEntries(y))};return e.reduce((c,f)=>{const p=m=>Object.defineProperty(c,f.name,{enumerable:!0,value:m});return ah(f.name)&&!gl(f.type)||p(i(t[f.name],f.type)),c},{})}function R1(t,e){switch(!0){case yl(t):const r=Kk(e);return[oi(r.low),oi(r.high)];default:return oi(e)}}function koe(t,e){const r=Jk(e),n=Object.values(t);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((i,s)=>({element:n[s],type:i.type??i}))}function i4(t){if(typeof t=="object"){const{low:r,high:n}=t;return[oi(r),oi(n)]}const e=Kk(t);return[oi(e.low),oi(e.high)]}function Uo(t,e,r,n){if(t===void 0)throw Error(`Missing parameter for type ${e}`);if(Array.isArray(t)){const i=[];i.push(oi(t.length));const s=Hf(e);return t.reduce((o,a)=>o.concat(Uo(a,s,r,n)),i)}if(r[e]&&r[e].members.length){if(yl(e))return i4(t);if(e==="core::starknet::eth_address::EthAddress")return R1(e,t);const{members:i}=r[e],s=t;return i.reduce((o,a)=>o.concat(Uo(s[a.name],a.type,r,n)),[])}if(Dl(e))return koe(t,e).reduce((s,o)=>{const a=Uo(o.element,o.type,r,n);return s.concat(a)},[]);if(yl(e))return i4(t);if(Ih(e,n)){const{variants:i}=n[e];if(lE(e)){const f=t;if(f.isSome()){const p=i.find(g=>g.name==="Some");if(typeof p>"u")throw Error("Error in abi : Option has no 'Some' variant.");const m=p.type;if(m==="()")return 0 .toString();const y=Uo(f.unwrap(),m,r,n);return Array.isArray(y)?[0 .toString(),...y]:[0 .toString(),y]}return 1 .toString()}if(cE(e)){const f=t;if(f.isOk()){const g=i.find(w=>w.name==="Ok");if(typeof g>"u")throw Error("Error in abi : Result has no 'Ok' variant.");const b=g.type;if(b==="()")return 0 .toString();const _=Uo(f.unwrap(),b,r,n);return Array.isArray(_)?[0 .toString(),..._]:[0 .toString(),_]}const p=i.find(g=>g.name==="Err");if(typeof p>"u")throw Error("Error in abi : Result has no 'Err' variant.");const m=p.type;if(m==="()")return 1 .toString();const y=Uo(f.unwrap(),m,r,n);return Array.isArray(y)?[1 .toString(),...y]:[1 .toString(),y]}const s=t,o=s.activeVariant(),a=i.find(f=>f.name===o);if(typeof a>"u")throw Error(`Not find in abi : Enum has no '${o}' variant.`);const u=a.type,l=i.findIndex(f=>f.name===o);if(u==="()")return l.toString();const c=Uo(s.unwrap(),u,r,n);return Array.isArray(c)?[l.toString(),...c]:[l.toString(),c]}if(typeof t=="object")throw Error(`Parameter ${t} do not align with abi parameter ${e}`);return R1(e,t)}function Poe(t,e,r,n){const{name:i,type:s}=e;let{value:o}=t.next();switch(!0){case ml(s):if(!Array.isArray(o)&&!lv(o))throw Error(`ABI expected parameter ${i} to be array or long string, got ${o}`);return typeof o=="string"&&(o=Wk(o)),Uo(o,e.type,r,n);case s==="core::starknet::eth_address::EthAddress":return R1(s,o);case(cv(s,r)||Dl(s)||yl(s)):return Uo(o,s,r,n);case Ih(s,n):return Uo(o,s,r,n);default:return R1(s,o)}}function JI(t,e){let r;switch(!0){case hE(t):return r=e.next().value,!!BigInt(r);case yl(t):const n=e.next().value,i=e.next().value;return uE({low:n,high:i});case t==="core::starknet::eth_address::EthAddress":return r=e.next().value,BigInt(r);default:return r=e.next().value,BigInt(r)}}function La(t,e,r,n){if(e.type==="()")return{};if(yl(e.type)){const i=t.next().value,s=t.next().value;return uE({low:i,high:s})}if(ml(e.type)){const i=[],s={name:"",type:Hf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push(La(t,s,r,n));return i}if(r&&e.type in r&&r[e.type])return e.type==="core::starknet::eth_address::EthAddress"?JI(e.type,t):r[e.type].members.reduce((i,s)=>(i[s.name]=La(t,s,r,n),i),{});if(n&&e.type in n&&n[e.type]){const i=Number(t.next().value),s=n[e.type].variants.reduce((a,u,l)=>l===i?(a[u.name]=La(t,{name:"",type:u.type},r,n),a):(a[u.name]=void 0,a),{});if(e.type.startsWith("core::option::Option")){const a=i===0?s.Some:void 0;return new QI(i,a)}if(e.type.startsWith("core::result::Result")){let a;return i===0?a=s.Ok:a=s.Err,new KI(i,a)}return new bH(s)}if(Dl(e.type))return Jk(e.type).reduce((s,o,a)=>{const u=o!=null&&o.name?o.name:a,l=o!=null&&o.type?o.type:o,c={name:u,type:l};return s[u]=La(t,c,r,n),s},{});if(ml(e.type)){const i=[],s={name:"",type:Hf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push(La(t,s,r,n));return i}return JI(e.type,t)}function e2(t,e,r,n,i){const{name:s,type:o}=e;let a;switch(!0){case ah(s):return a=t.next().value,BigInt(a);case(r&&o in r||Dl(o)):return La(t,e,r,n);case(n&&Ih(o,n)):return La(t,e,r,n);case ml(o):if(gl(o))return La(t,e,r,n);const u=[];if(i&&i[`${s}_len`]){const l=i[`${s}_len`];for(;u.length<l;)u.push(La(t,{name:s,type:e.type.replace("*","")},r,n))}return u;default:return JI(o,t)}}var AH=(t,e)=>{if(Ut(typeof t=="string"||typeof t=="number"||typeof t=="bigint",`Validate: arg ${e.name} should be a felt typed as (String, Number or BigInt)`),typeof t=="string"&&!oo(t))return;const r=BigInt(t.toString(10));Ut(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`)},eP=(t,e)=>{typeof t=="number"&&Ut(t<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),Ut(typeof t=="string"||typeof t=="number"||typeof t=="bigint"||typeof t=="object"&&"low"in t&&"high"in t,`Validate: arg ${e.name} of cairo type ${e.type} should be type (String, Number or BigInt), but is ${typeof t} ${t}.`);const r=typeof t=="object"?uE(t):qe(t);switch(e.type){case"core::integer::u8":Ut(r>=0n&&r<=255n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0 - 255]`);break;case"core::integer::u16":Ut(r>=0n&&r<=65535n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 65535]`);break;case"core::integer::u32":Ut(r>=0n&&r<=4294967295n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":Ut(r>=0n&&r<=2n**64n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":Ut(r>=0n&&r<=2n**128n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":Ut(r>=0n&&r<=2n**256n-1n,`Validate: arg ${e.name} is ${e.type} 0 - 2^256-1`);break;case"core::starknet::class_hash::ClassHash":Ut(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break;case"core::starknet::contract_address::ContractAddress":Ut(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break}},TH=(t,e)=>{Ut(typeof t=="boolean",`Validate: arg ${e.name} of cairo type ${e.type} should be type (Boolean)`)},CH=(t,e,r)=>{if(e.type==="core::integer::u256"){eP(t,e);return}if(e.type==="core::starknet::eth_address::EthAddress"){Ut(typeof t!="object",`EthAdress type is waiting a BigNumberish. Got ${t}`);const n=BigInt(t.toString(10));Ut(n>=0n&&n<=2n**160n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^160-1]`);return}Ut(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type struct (${e.type}), and should be defined as js object (not array)`),r[e.type].members.forEach(({name:n})=>{Ut(Object.keys(t).includes(n),`Validate: arg ${e.name} should have a property ${n}`)})},IH=(t,e)=>{Ut(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type Enum (${e.type}), and should be defined as js object (not array)`);const r=Object.getOwnPropertyNames(Object.getPrototypeOf(t)),n=[...Object.getOwnPropertyNames(t),...r];if(!(lE(e.type)&&n.includes("isSome")&&n.includes("isNone"))&&!(cE(e.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${e.name}, type ${e.type}, value received ${t}, is not an Enum.`)},OH=(t,e)=>{Ut(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} should be a tuple (defined as object)`)},RH=(t,e,r,n)=>{const i=Hf(e.type);if(!(O1(i)&&Gk(t)))switch(Ut(Array.isArray(t),`Validate: arg ${e.name} should be an Array`),!0){case O1(i):t.forEach(s=>AH(s,e));break;case Dl(i):t.forEach(s=>OH(s,{name:e.name,type:i}));break;case ml(i):t.forEach(s=>RH(s,{name:"",type:i},r,n));break;case cv(i,r):t.forEach(s=>CH(s,{name:e.name,type:i},r));break;case Ih(i,n):t.forEach(s=>IH(s,{name:e.name,type:i}));break;case(Yk(i)||Qk(i)):t.forEach(s=>eP(s,e));break;case hE(i):t.forEach(s=>TH(s,e));break;default:throw new Error(`Validate Unhandled: argument ${e.name}, type ${e.type}, value ${t}`)}};function s4(t,e,r,n){t.inputs.reduce((i,s)=>{const o=e[i];switch(!0){case ah(s.name):return i;case O1(s.type):AH(o,s);break;case(Yk(s.type)||Qk(s.type)):eP(o,s);break;case hE(s.type):TH(o,s);break;case ml(s.type):RH(o,s,r,n);break;case cv(s.type,r):CH(o,s,r);break;case Ih(s.type,n):IH(o,s);break;case Dl(s.type):OH(o,s);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${o}`)}return i+1},0)}var pt=class{constructor(e){this.structs=pt.getAbiStruct(e),this.enums=pt.getAbiEnum(e),this.parser=xH(e),this.abi=this.parser.getLegacyFormat()}validate(e,r,n=[]){if(e!=="DEPLOY"){const o=this.abi.filter(a=>{if(a.type!=="function")return!1;const u=a.stateMutability==="view"||a.state_mutability==="view";return e==="INVOKE"?!u:u}).map(a=>a.name);Ut(o.includes(r),`${e==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const i=this.abi.find(o=>e==="DEPLOY"?o.name===r&&o.type==="constructor":o.name===r&&o.type==="function");if(n4(r,n,i))return;const s=this.parser.methodInputsLength(i);if(n.length!==s)throw Error(`Invalid number of arguments, expected ${s} arguments, but got ${n.length}`);s4(i,n,this.structs,this.enums)}compile(e,r){const n=this.abi.find(a=>a.name===e);if(n4(e,r,n))return[];let i;if(Array.isArray(r))i=r;else{const a=Roe(r,n.inputs,this.structs,this.enums);i=Object.values(a),s4(n,i,this.structs,this.enums)}const s=i[Symbol.iterator](),o=n.inputs.reduce((a,u)=>ah(u.name)&&!gl(u.type)?a:a.concat(Poe(s,u,this.structs,this.enums)),[]);return Object.defineProperty(o,"__compiled__",{enumerable:!1,writable:!1,value:!0}),o}static compile(e){const r=i=>{const s=(a,u=".")=>{const l=Array.isArray(a)?[a.length.toString(),...a]:a;return Object.entries(l).flatMap(([c,f])=>{let p=f;Gk(p)&&(p=Wk(p)),c==="entrypoint"&&(p=ao(p));const m=Array.isArray(l)&&c==="0"?"$$len":c;if(oE(p))return[[`${u}${m}`,oi(p)]];if(Object(p)===p){const y=Object.getOwnPropertyNames(Object.getPrototypeOf(p)),g=[...Object.getOwnPropertyNames(p),...y];if(g.includes("isSome")&&g.includes("isNone")){const b=p,_=b.isSome()?0:1;return b.isSome()?s({0:_,1:b.unwrap()},`${u}${m}.`):[[`${u}${m}`,oi(_)]]}if(g.includes("isOk")&&g.includes("isErr")){const b=p,_=b.isOk()?0:1;return s({0:_,1:b.unwrap()},`${u}${m}.`)}if(g.includes("variant")&&g.includes("activeVariant")){const b=p,_=b.activeVariant(),E=Object.keys(b.variant).findIndex(x=>x===_);return typeof b.unwrap()=="object"&&Object.keys(b.unwrap()).length===0?[[`${u}${m}`,oi(E)]]:s({0:E,1:b.unwrap()},`${u}${m}.`)}return s(p,`${u}${m}.`)}return[[`${u}${m}`,oi(p)]]})};return Object.fromEntries(s(i))};let n;if(Array.isArray(e)){const i={...e},s=r(i);n=Object.values(s)}else{const i=r(e);n=Object.values(i)}return Object.defineProperty(n,"__compiled__",{enumerable:!1,writable:!1,value:!0}),n}parse(e,r){const{outputs:n}=this.abi.find(o=>o.name===e),i=r.flat()[Symbol.iterator](),s=n.flat().reduce((o,a,u)=>{const l=a.name??u;return o[l]=e2(i,a,this.structs,this.enums,o),o[l]&&o[`${l}_len`]&&delete o[`${l}_len`],o},{});return Object.keys(s).length===1&&0 in s?s[0]:s}format(e,r,n){const i=this.parse(e,r);return Ab(i,n)}static getAbiStruct(e){return e.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}static getAbiEnum(e){const r=e.filter(n=>n.type==="enum").reduce((n,i)=>({...n,[i.name]:i}),{});return delete r["core::bool"],r}static toCalldata(e=[]){return pt.compile(e)}static toHex(e=[]){return pt.compile(e).map(n=>Ae(n))}},kH={};Mr(kH,{calculateContractAddressFromHash:()=>Tb,calculateDeclareTransactionHash:()=>MH,calculateDeployAccountTransactionHash:()=>DH,calculateDeployTransactionHash:()=>Boe,calculateTransactionHash:()=>BH,calculateTransactionHashCommon:()=>hv,computeCompiledClassHash:()=>FH,computeContractClassHash:()=>jH,computeHashOnElements:()=>Mn,computeLegacyContractClassHash:()=>$H,computeSierraContractClassHash:()=>UH,default:()=>LH,feeTransactionVersion:()=>Yd,feeTransactionVersion_2:()=>k1,formatSpaces:()=>mg,getSelector:()=>aE,getSelectorFromName:()=>ao,getVersionsByType:()=>tP,keccakBn:()=>fH,poseidon:()=>Kre,starknetKeccak:()=>Hk,transactionVersion:()=>Mc,transactionVersion_2:()=>pg});var PH={};Mr(PH,{starkCurve:()=>Ej,weierstrass:()=>nre});var Noe={};Mr(Noe,{parse:()=>vl,parseAlwaysAsBig:()=>NH,stringify:()=>Ws,stringifyAlwaysAsBig:()=>Doe});var Moe=t=>{if(!gp(t))return parseFloat(t);const e=parseInt(t,10);return Number.isSafeInteger(e)?e:BigInt(t)},vl=t=>mk(String(t),void 0,Moe),NH=t=>mk(String(t),void 0,Pj),Ws=(t,e,r,n)=>vk(t,e,r,n),Doe=Ws,Mc=Nk,pg=Mk,Yd=$z,k1=Fz;function tP(t){return t==="fee"?{v1:Yd,v2:k1}:{v1:Mc,v2:pg}}function Mn(t){return[...t,t.length].reduce((e,r)=>rv(qe(e),qe(r)),0).toString()}function hv(t,e,r,n,i,s,o,a=[]){const u=Mn(i),l=[t,e,r,n,u,s,o,...a];return Mn(l)}function Boe(t,e,r,n,i="constructor"){return hv("0x6465706c6f79",r,t,ao(i),e,0,n)}function MH(t,e,r,n,i,s,o){return hv("0x6465636c617265",r,e,0,[t],n,i,[s,...o?[o]:[]])}function DH(t,e,r,n,i,s,o,a){const u=[e,n,...r];return hv("0x6465706c6f795f6163636f756e74",i,t,0,u,s,o,[a])}function BH(t,e,r,n,i,s){return hv("0x696e766f6b65",e,t,0,r,n,i,[s])}function Tb(t,e,r,n){const i=pt.compile(r),s=Mn(i),o=oi("0x535441524b4e45545f434f4e54524143545f41444452455353");return Mn([o,n,t,e,s])}function Loe(t,e){return t==="attributes"||t==="accessible_scopes"?Array.isArray(e)&&e.length===0?void 0:e:t==="debug_info"?null:e===null?void 0:e}function mg(t){let e=!1;const r=[];for(const n of t)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(e=!e),e?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}function LH(t){const{abi:e,program:r}=t,i=mg(Ws({abi:e,program:r},Loe));return Hn(yp(Ep(i)).toString(16))}function $H(t){const e=typeof t=="string"?vl(t):t,r=Ae(jz),n=Mn(e.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),i=Mn(e.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),s=Mn(e.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),o=Mn(e.program.builtins.map(l=>Ml(l))),a=LH(e),u=Mn(e.program.data);return Mn([r,n,i,s,o,a,u])}function $oe(t){return pl(t.flatMap(e=>BigInt(Ml(e))))}function rT(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),$oe(r.builtins)]);return pl(e)}function FH(t){const r=BigInt(Ml("COMPILED_CLASS_V1")),n=rT(t.entry_points_by_type.EXTERNAL),i=rT(t.entry_points_by_type.L1_HANDLER),s=rT(t.entry_points_by_type.CONSTRUCTOR),o=pl(t.bytecode.map(a=>BigInt(a)));return Ae(pl([r,n,i,s,o]))}function nT(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return pl(e)}function Foe(t){const e=mg(Ws(t.abi,null));return BigInt(Hn(yp(Ep(e)).toString(16)))}function UH(t){const r=BigInt(Ml("CONTRACT_CLASS_V0.1.0")),n=nT(t.entry_points_by_type.EXTERNAL),i=nT(t.entry_points_by_type.L1_HANDLER),s=nT(t.entry_points_by_type.CONSTRUCTOR),o=Foe(t),a=pl(t.sierra_program.map(u=>BigInt(u)));return Ae(pl([r,n,i,s,o,a]))}function jH(t){const e=typeof t=="string"?vl(t):t;return"sierra_program"in e?UH(e):$H(e)}var zH={};Mr(zH,{compressProgram:()=>rP,decompressProgram:()=>t2,estimatedFeeToMaxFee:()=>Dc,formatSignature:()=>fE,makeAddress:()=>Uoe,randomAddress:()=>nP,signatureToDecimalArray:()=>Sd,signatureToHexArray:()=>Ad});function rP(t){const e=typeof t=="string"?t:Ws(t),r=Tk(e);return kz(r)}function t2(t){if(Array.isArray(t))return t;const e=Oz(Ck(Rz(t)));return vl(e)}function nP(){const t=ok.randomPrivateKey();return uk(t)}function Uoe(t){return Hn(t).toLowerCase()}function fE(t){if(!t)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(t))return t.map(e=>Ae(e));try{const{r:e,s:r}=t;return[Ae(e),Ae(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function Sd(t){return lH(fE(t))}function Ad(t){return cH(fE(t))}function Dc(t,e=.5){const r=Math.round((1+e)*100);return qe(t)*qe(r)/100n}function cs(t){return"sierra_program"in(typeof t=="string"?vl(t):t)}function iT(t){const e={...t};if(cs(t.contract)&&(!t.compiledClassHash&&t.casm&&(e.compiledClassHash=FH(t.casm)),!e.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(e.classHash=t.classHash??jH(t.contract),!e.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return e}var HH=typeof window<"u"&&window.fetch||typeof global<"u"&&global.fetch||eoe,joe={};Mr(joe,{createSierraContractClass:()=>VH,parseContract:()=>iP,wait:()=>P1});function P1(t){return new Promise(e=>{setTimeout(e,t)})}function VH(t){const e={...t};return delete e.sierra_program_debug_info,e.abi=mg(Ws(t.abi)),e.sierra_program=mg(Ws(t.sierra_program)),e.sierra_program=rP(e.sierra_program),e}function iP(t){const e=typeof t=="string"?vl(t):t;return cs(t)?VH(e):{...e,..."program"in e&&{program:rP(e.program)}}}var zoe=class{parseGetBlockResponse(e){return{timestamp:e.timestamp,block_hash:"block_hash"in e?e.block_hash:"",block_number:"block_number"in e?e.block_number:-1,new_root:"new_root"in e?e.new_root:"",parent_hash:e.parent_hash,status:"status"in e?e.status:"PENDING",transactions:e.transactions}}parseGetTransactionResponse(e){return{calldata:"calldata"in e?e.calldata:[],contract_address:"contract_address"in e?e.contract_address:"",sender_address:"sender_address"in e?e.sender_address:"",max_fee:"max_fee"in e?e.max_fee:"",nonce:"nonce"in e?e.nonce:"",signature:"signature"in e?e.signature:[],transaction_hash:e.transaction_hash,version:e.version}}parseFeeEstimateResponse(e){return{overall_fee:qe(e[0].overall_fee),gas_consumed:qe(e[0].gas_consumed),gas_price:qe(e[0].gas_price)}}parseFeeEstimateBulkResponse(e){return e.map(r=>({overall_fee:qe(r.overall_fee),gas_consumed:qe(r.gas_consumed),gas_price:qe(r.gas_price)}))}parseCallContractResponse(e){return{result:e}}parseSimulateTransactionResponse(e){return e.map(r=>({...r,suggestedMaxFee:Dc(BigInt(r.fee_estimation.overall_fee))}))}parseContractClassResponse(e){return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}};function Hoe(t,e=t.constructor){const{captureStackTrace:r}=Error;r&&r(t,e)}function Voe(t,e){const{setPrototypeOf:r}=Object;r?r(t,e):t.__proto__=e}var Goe=class extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),Voe(this,new.target.prototype),Hoe(this)}},uh=class extends Goe{},Woe=class extends uh{constructor(e,r){super(e),this.errorCode=r}},qoe=class extends uh{constructor(e,r){super(e),this.errorCode=r}},Zoe={};Mr(Zoe,{StarknetIdContract:()=>qH,getStarknetIdContract:()=>sP,useDecoded:()=>GH,useEncoded:()=>WH});var qo="abcdefghijklmnopqrstuvwxyz0123456789-",Qd=BigInt(qo.length+1),Vr="这来",o4=BigInt(qo.length),r2=BigInt(Vr.length),a4=BigInt(Vr.length+1);function n2(t){let e=0;for(;t.endsWith(Vr[Vr.length-1]);)t=t.substring(0,t.length-1),e+=1;return[t,e]}function GH(t){let e="";return t.forEach(r=>{for(;r!==Ei;){const s=r%Qd;if(r/=Qd,s===BigInt(qo.length)){const o=r/a4;if(o===Ei){const a=r%a4;r=o,a===Ei?e+=qo[0]:e+=Vr[Number(a)-1]}else{const a=r%r2;e+=Vr[Number(a)],r/=r2}}else e+=qo[Number(s)]}const[n,i]=n2(e);i&&(e=n+(i%2===0?Vr[Vr.length-1].repeat(i/2-1)+Vr[0]+qo[1]:Vr[Vr.length-1].repeat((i-1)/2+1))),e+="."}),e&&e.concat("stark")}function WH(t){let e=BigInt(0),r=BigInt(1);if(t.endsWith(Vr[0]+qo[1])){const[n,i]=n2(t.substring(0,t.length-2));t=n+Vr[Vr.length-1].repeat(2*(i+1))}else{const[n,i]=n2(t);i&&(t=n+Vr[Vr.length-1].repeat(1+2*(i-1)))}for(let n=0;n<t.length;n+=1){const i=t[n],s=qo.indexOf(i),o=BigInt(qo.indexOf(i));if(s!==-1)n===t.length-1&&t[n]===qo[0]?(e+=r*o4,r*=Qd,r*=Qd):(e+=r*o,r*=Qd);else if(Vr.indexOf(i)!==-1){e+=r*o4,r*=Qd;const a=(n===t.length-1?1:0)+Vr.indexOf(i);e+=r*BigInt(a),r*=r2}}return e}var qH=(t=>(t.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",t.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",t))(qH||{});function sP(t){switch(t){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function oP(t,e,r){const n=await t.getChainId(),i=r??sP(n);try{const o=(await t.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:pt.compile({address:e})})).result.map(u=>BigInt(u)).slice(1),a=GH(o);if(!a)throw Error("Starkname not found");return a}catch(s){throw s instanceof Error&&s.message==="Starkname not found"?s:Error("Could not get stark name")}}async function aP(t,e,r){const n=await t.getChainId(),i=r??sP(n);try{return(await t.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:pt.compile({domain:[WH(e.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var Xoe=Object.values(Fk),hr=class{constructor(e){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(e)}setIdentifier(e){typeof e=="string"&&oo(e)?this.hash=e:typeof e=="bigint"?this.hash=Ae(e):typeof e=="number"?this.number=e:typeof e=="string"&&Xoe.includes(e)?this.tag=e:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},u4=(t,e=!1)=>{e||console.warn("Using default public node url, please provide nodeUrl in provider options!");const r=t==="SN_MAIN"?Wz:Gz,n=Math.floor(Math.random()*r.length);return r[n]},sT={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},gf=class{constructor(e){this.responseParser=new zoe,this.getBlockHashAndNumber=this.getBlockLatestAccepted,this.getStateUpdate=this.getBlockStateUpdate,this.traceBlockTransactions=this.getBlockTransactionsTraces,this.getTransactionCount=this.getBlockTransactionCount,this.traceTransaction=this.getTransactionTrace,this.getSimulateTransaction=this.simulateTransaction;const{nodeUrl:r,retries:n,headers:i,blockIdentifier:s,chainId:o}=e||{};Object.values(Dk).includes(r)?this.nodeUrl=u4(r,e==null?void 0:e.default):r?this.nodeUrl=r:this.nodeUrl=u4(void 0,e==null?void 0:e.default),this.retries=n||sT.retries,this.headers={...sT.headers,...i},this.blockIdentifier=s||sT.blockIdentifier,this.chainId=o}fetch(e,r,n=0){const i={id:n,jsonrpc:"2.0",method:e,...r&&{params:r}};return HH(this.nodeUrl,{method:"POST",body:Ws(i),headers:this.headers})}errorHandler(e,r,n,i){if(n){const{code:s,message:o,data:a}=n;throw new uh(`RPC: ${e} with params ${Ws(r)}
 ${s}: ${o}: ${Ws(a)}`)}if(i instanceof uh)throw i;if(i)throw Error(i.message)}async fetchEndpoint(e,r){var n;try{const i=await this.fetch(e,r),{error:s,result:o}=await i.json();return this.errorHandler(e,r,s),o}catch(i){throw this.errorHandler(e,r,(n=i==null?void 0:i.response)==null?void 0:n.data,i),i}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async getNonceForAddress(e,r=this.blockIdentifier){const n=Ae(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:n,block_id:i})}async getBlock(e=this.blockIdentifier){return this.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getBlockWithTxHashes(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:r})}async getBlockWithTxs(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:r})}async getBlockStateUpdate(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:r})}async getBlockTransactionsTraces(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:r})}async getBlockTransactionCount(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:r})}async getPendingTransactions(){const{transactions:e}=await this.getBlock("pending");return Promise.all(e.map(r=>this.getTransactionByHash(r)))}async getTransaction(e){return this.getTransactionByHash(e).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(e){const r=Ae(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:r})}async getTransactionByBlockIdAndIndex(e,r){const n=new hr(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:n,index:r})}async getTransactionReceipt(e){const r=Ae(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:r})}async getTransactionTrace(e){const r=Ae(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:r})}async getTransactionStatus(e){const r=Ae(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:r})}async simulateTransaction(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1,skipFeeCharge:i=!0}){const s=new hr(r).identifier,o=[];return n&&o.push(ei.ESimulationFlag.SKIP_VALIDATE),i&&o.push(ei.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:s,transactions:e.map(a=>this.buildTransaction(a)),simulation_flags:o}).then(this.responseParser.parseSimulateTransactionResponse)}async waitForTransaction(e,r){const n=Ae(e);let{retries:i}=this,s=!1,o=!1;const a=(r==null?void 0:r.retryInterval)??5e3,u=(r==null?void 0:r.errorStates)??[ei.ETransactionStatus.REJECTED,ei.ETransactionExecutionStatus.REVERTED],l=(r==null?void 0:r.successStates)??[ei.ETransactionExecutionStatus.SUCCEEDED,ei.ETransactionStatus.ACCEPTED_ON_L2,ei.ETransactionStatus.ACCEPTED_ON_L1];let c;for(;!s;){await P1(a);try{c=await this.getTransactionStatus(n);const p=c.execution_status,m=c.finality_status;if(!m)throw new Error("waiting for transaction status");if(l.includes(p)||l.includes(m))s=!0;else if(u.includes(p)||u.includes(m)){const y=`${p}: ${m}`,g=new Error(y);throw g.response=c,o=!0,g}}catch(p){if(p instanceof Error&&o)throw p;if(i<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1}let f=null;for(;f===null;){try{f=await this.getTransactionReceipt(n)}catch{if(i<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1,await P1(a)}return f}async getStorageAt(e,r,n=this.blockIdentifier){const i=Ae(e),s=aH(r),o=new hr(n).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:i,key:s,block_id:o})}async getClassHashAt(e,r=this.blockIdentifier){const n=Ae(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:i,contract_address:n})}async getClassByHash(e){return this.getClass(e)}async getClass(e,r=this.blockIdentifier){const n=Ae(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:n,block_id:i}).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,r=this.blockIdentifier){const n=Ae(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:i,contract_address:n}).then(this.responseParser.parseContractClassResponse)}async getCode(e,r){throw new Error("RPC does not implement getCode function")}async getContractVersion(e,r,{blockIdentifier:n=this.blockIdentifier,compiler:i=!0}={}){let s;if(e)s=await this.getClassAt(e,n);else if(r)s=await this.getClass(r,n);else throw Error("getContractVersion require contractAddress or classHash");return cs(s)?i?{cairo:"1",compiler:dE(s.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(e,r,n=this.blockIdentifier){return this.getInvokeEstimateFee(e,r,n)}async getInvokeEstimateFee(e,r,n=this.blockIdentifier){const i=new hr(n).identifier,s=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...r},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:i}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,r,n=this.blockIdentifier){const i=new hr(n).identifier,s=this.buildTransaction({type:"DECLARE",...e,...r},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:i}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,r,n=this.blockIdentifier){const i=new hr(n).identifier,s=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...r},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:i}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1}){n&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const i=new hr(r).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:e.map(s=>this.buildTransaction(s,"fee")),block_id:i}).then(this.responseParser.parseFeeEstimateBulkResponse)}async invokeFunction(e,r){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:pt.toHex(e.calldata),type:ei.ETransactionType.INVOKE,max_fee:Ae(r.maxFee||0),version:"0x1",signature:Ad(e.signature),nonce:Ae(r.nonce)}})}async declareContract({contract:e,signature:r,senderAddress:n,compiledClassHash:i},s){return cs(e)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ei.ETransactionType.DECLARE,contract_class:{sierra_program:t2(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:i||"",version:Lz,max_fee:Ae(s.maxFee||0),signature:Ad(r),sender_address:n,nonce:Ae(s.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ei.ETransactionType.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:Bz,max_fee:Ae(s.maxFee||0),signature:Ad(r),sender_address:n,nonce:Ae(s.nonce)}})}async deployAccountContract({classHash:e,constructorCalldata:r,addressSalt:n,signature:i},s){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:pt.toHex(r||[]),class_hash:Ae(e),contract_address_salt:Ae(n||0),type:ei.ETransactionType.DEPLOY_ACCOUNT,max_fee:Ae(s.maxFee||0),version:Ae(s.version||0),signature:Ad(i),nonce:Ae(s.nonce)}})}async callContract(e,r=this.blockIdentifier){const n=new hr(r).identifier,i=await this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:ao(e.entrypoint),calldata:pt.toHex(e.calldata)},block_id:n});return this.responseParser.parseCallContractResponse(i)}async estimateMessageFee(e,r=this.blockIdentifier){const{from_address:n,to_address:i,entry_point_selector:s,payload:o}=e,a={from_address:Ae(n),to_address:Ae(i),entry_point_selector:aE(s),payload:zk(o)},u=new hr(r).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:a,block_id:u})}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}async getStarkName(e,r){return oP(this,e,r)}async getAddressFromStarkName(e,r){return aP(this,e,r)}buildTransaction(e,r){const n=tP(r),i={signature:Ad(e.signature),nonce:Ae(e.nonce),max_fee:Ae(e.maxFee||0)};if(e.type==="INVOKE_FUNCTION")return{type:ei.ETransactionType.INVOKE,sender_address:e.contractAddress,calldata:pt.toHex(e.calldata),version:Ae(e.version||n.v1),...i};if(e.type==="DECLARE")return cs(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:t2(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:Ae(e.version||n.v2),...i}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:Ae(e.version||n.v1),...i};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:pt.toHex(e.constructorCalldata||[]),class_hash:Ae(e.classHash),contract_address_salt:Ae(e.addressSalt||0),version:Ae(e.version||n.v1),...i};throw Error("RPC buildTransaction received unknown TransactionType")}},Yoe=class{},Qoe=class extends Yoe{parseGetBlockResponse(e){return{...e,new_root:e.state_root,parent_hash:e.parent_block_hash,transactions:Object.values(e.transactions).map(r=>"transaction_hash"in r&&r.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(e){if(e.status==="NOT_RECEIVED"&&e.finality_status==="NOT_RECEIVED")throw new uh;return{...e,calldata:"calldata"in e.transaction?e.transaction.calldata:[],contract_class:"contract_class"in e.transaction?e.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in e.transaction?e.transaction.entry_point_selector:void 0,max_fee:"max_fee"in e.transaction?e.transaction.max_fee:void 0,nonce:e.transaction.nonce,sender_address:"sender_address"in e.transaction?e.transaction.sender_address:void 0,signature:"signature"in e.transaction?e.transaction.signature:void 0,transaction_hash:"transaction_hash"in e.transaction?e.transaction.transaction_hash:void 0,version:"version"in e.transaction?e.transaction.version:void 0}}parseGetTransactionReceiptResponse(e){return{...e,messages_sent:e.l2_to_l1_messages,..."revert_error"in e&&{revert_reason:e.revert_error}}}parseFeeEstimateResponse(e){if("overall_fee"in e){let r={};try{r={gas_consumed:qe(e.gas_usage),gas_price:qe(e.gas_price)}}catch{}return{overall_fee:qe(e.overall_fee),...r}}return{overall_fee:qe(e.amount)}}parseFeeEstimateBulkResponse(e){return[].concat(e).map(r=>{if("overall_fee"in r){let n={};try{n={gas_consumed:qe(r.gas_usage),gas_price:qe(r.gas_price)}}catch{}return{overall_fee:qe(r.overall_fee),...n}}return{overall_fee:qe(r.amount)}})}parseSimulateTransactionResponse(e){const r="overall_fee"in e.fee_estimation?e.fee_estimation.overall_fee:e.fee_estimation.amount;return[{transaction_trace:e.trace,fee_estimation:e.fee_estimation,suggestedMaxFee:Dc(BigInt(r))}]}parseCallContractResponse(e){return{result:e.result}}parseInvokeFunctionResponse(e){return{transaction_hash:e.transaction_hash}}parseDeployContractResponse(e){return{transaction_hash:e.transaction_hash,contract_address:e.address}}parseDeclareContractResponse(e){return{transaction_hash:e.transaction_hash,class_hash:e.class_hash}}parseGetStateUpdateResponse(e){const r=Object.entries(e.state_diff.nonces).map(([i,s])=>({contract_address:i,nonce:s})),n=Object.entries(e.state_diff.storage_diffs).map(([i,s])=>({address:i,storage_entries:s}));return{...e,state_diff:{...e.state_diff,storage_diffs:n,nonces:r}}}parseContractClassResponse(e){const r=cs(e)?e:iP(e);return{...r,abi:typeof r.abi=="string"?JSON.parse(r.abi):r.abi}}},Koe=/^(?:\w+:)?\/\/(\S+)$/,Joe=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,eae=/^[^\s.]+\.\S{2,}$/;function tae(t){if(!t||typeof t!="string")return!1;const e=t.match(Koe);if(!e)return!1;const r=e[1];return r?!!(Joe.test(r)||eae.test(r)):!1}function Cm(t,e,r){return tae(r)?r:Cz(t,r??e)}function rae(t){return t===void 0||Object.keys(t).length===0||Object.keys(t).length===1&&Object.entries(t).every(([e,r])=>e==="blockIdentifier"&&r===null)}var l4={network:"SN_GOERLI",blockIdentifier:"pending"},N1=class{constructor(e=l4){this.responseParser=new Qoe,"network"in e?(this.baseUrl=N1.getNetworkFromName(e.network),this.feederGatewayUrl=Cm(this.baseUrl,"feeder_gateway"),this.gatewayUrl=Cm(this.baseUrl,"gateway")):(this.baseUrl=e.baseUrl,this.feederGatewayUrl=Cm(this.baseUrl,"feeder_gateway",e.feederGatewayUrl),this.gatewayUrl=Cm(this.baseUrl,"gateway",e.gatewayUrl)),this.chainId=(e==null?void 0:e.chainId)??N1.getChainIdFromBaseUrl(this.baseUrl),this.headers=e.headers,this.blockIdentifier=(e==null?void 0:e.blockIdentifier)||l4.blockIdentifier}static getNetworkFromName(e){switch(e){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(e){try{return new URL(e).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${e}`),"0x534e5f474f45524c49"}}getFetchUrl(e){return["add_transaction"].includes(e)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(e){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(e)?"POST":"GET"}getQueryString(e){return rae(e)?"":`?${Object.entries(e).map(([n,i])=>n==="blockIdentifier"?`${new hr(i).queryIdentifier}`:`${n}=${i}`).join("&")}`}getHeaders(e){return e==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(e,...[r,n]){const i=this.getFetchUrl(e),s=this.getFetchMethod(e),o=this.getQueryString(r),a=Cz(i,e,o);return this.fetch(a,{method:s,body:n})}async fetch(e,r){const n=Cm(this.baseUrl,"",e),i=(r==null?void 0:r.method)??"GET",s=this.getHeaders(i),o=Ws(r==null?void 0:r.body);try{const a=await HH(n,{method:i,body:o,headers:s}),u=await a.text();if(!a.ok){let c;try{c=vl(u)}catch{throw new qoe(a.statusText,a.status)}throw new Woe(c.message,c.code)}return(r!=null&&r.parseAlwaysAsBigInt?NH:vl)(u)}catch(a){throw a instanceof Error&&!(a instanceof uh)?Error(`Could not ${i} from endpoint \`${n}\`: ${a.message}`):a}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:e,entrypoint:r,calldata:n=[]},i=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:i},{contract_address:e,entry_point_selector:ao(r),calldata:pt.compile(n)}).then(this.responseParser.parseCallContractResponse)}async getBlock(e=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:e}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(e,r=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:e,blockIdentifier:r})}async getStorageAt(e,r,n=this.blockIdentifier){const i=qe(r).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:n,contractAddress:e,key:i})}async getTransaction(e){const r=Ae(e);return this.fetchEndpoint("get_transaction",{transactionHash:r}).then(n=>{if(Object.values(n).length===1)throw new uh(n.status);return this.responseParser.parseGetTransactionResponse(n)})}async getTransactionReceipt(e){const r=Ae(e);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:r}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(e,r=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:r,contractAddress:e}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(e,r=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:r,contractAddress:e})}async getClassByHash(e,r=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:e,blockIdentifier:r}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(e,r=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:e,blockIdentifier:r})}async getContractVersion(e,r,{blockIdentifier:n=this.blockIdentifier,compiler:i=!0}={}){let s;if(e)s=await this.getClassAt(e,n);else if(r)s=await this.getClassByHash(r,n);else throw Error("getContractVersion require contractAddress or classHash");return cs(s)?i?{cairo:"1",compiler:dE(s.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async invokeFunction(e,r){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:e.contractAddress,calldata:pt.compile(e.calldata??[]),signature:Sd(e.signature),nonce:Ae(r.nonce),max_fee:Ae(r.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:e,constructorCalldata:r,addressSalt:n,signature:i},s){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:n??nP(),constructor_calldata:pt.compile(r??[]),class_hash:Ae(e),max_fee:Ae(s.maxFee||0),version:Ae(s.version||0),nonce:Ae(s.nonce),signature:Sd(i)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:e,contract:r,signature:n,compiledClassHash:i},s){return cs(r)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:e,compiled_class_hash:i,contract_class:r,nonce:Ae(s.nonce),signature:Sd(n),max_fee:Ae(s.maxFee||0),version:Ae(pg)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:r,nonce:Ae(s.nonce),signature:Sd(n),sender_address:e,max_fee:Ae(s.maxFee||0),version:Ae(Mc)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(e,r,n=this.blockIdentifier,i=!1){return this.getInvokeEstimateFee(e,r,n,i)}async getInvokeEstimateFee(e,r,n=this.blockIdentifier,i=!1){const s=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...r},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:i},s).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,r,n=this.blockIdentifier,i=!1){const s=this.buildTransaction({type:"DECLARE",...e,...r},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:i},s).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,r,n=this.blockIdentifier,i=!1){const s=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...r},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:i},s).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1}){const i=e.map(s=>this.buildTransaction(s,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(e,r=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:e,blockIdentifier:r})}async waitForTransaction(e,r){let n,i=!1,s=0;const o=(r==null?void 0:r.retryInterval)??5e3,a=(r==null?void 0:r.errorStates)??["REJECTED","NOT_RECEIVED","REVERTED"],u=(r==null?void 0:r.successStates)??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!i;)if(await P1(o),n=await this.getTransactionStatus(e),n.finality_status==="NOT_RECEIVED"&&s<3)s+=1;else if(u.includes(n.finality_status)||u.includes(n.execution_status))i=!0;else if(a.includes(n.finality_status)||a.includes(n.execution_status)){let c;n.tx_failure_reason?c=`${n.tx_status}: ${n.tx_failure_reason.code}
${n.tx_failure_reason.error_message}`:n.tx_revert_reason?c=`${n.tx_status}: ${n.tx_revert_reason}`:c=n.tx_status;const f=new Error(c);throw f.response=n,f}return await this.getTransactionReceipt(e)}async getTransactionStatus(e){const r=Ae(e);return this.fetchEndpoint("get_transaction_status",{transactionHash:r})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(e){const r=Ae(e);return this.fetchEndpoint("get_transaction_trace",{transactionHash:r})}async estimateMessageFee({from_address:e,to_address:r,entry_point_selector:n,payload:i},s=this.blockIdentifier){const o={from_address:hH(e),to_address:jk(r),entry_point_selector:aE(n),payload:zk(i)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:s},o)}async getSimulateTransaction(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1,skipExecute:i=!1}){e.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),i&&console.warn("Sequencer can't skip account __execute__");const s=this.buildTransaction(e[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:r,skipValidate:n??!1},s).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(e=this.blockIdentifier){const r=new hr(e).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...r}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(e=this.blockIdentifier){const r=new hr(e).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...r})}async getStarkName(e,r){return oP(this,e,r)}async getAddressFromStarkName(e,r){return aP(this,e,r)}buildTransaction(e,r){const n=tP(r),i={signature:Sd(e.signature),nonce:Ae(e.nonce)};if(e.type==="INVOKE_FUNCTION")return{type:e.type,sender_address:e.contractAddress,calldata:pt.compile(e.calldata??[]),version:Ae(e.version||n.v1),...i};if(e.type==="DECLARE")return cs(e.contract)?{type:e.type,contract_class:e.contract,compiled_class_hash:e.compiledClassHash,sender_address:e.senderAddress,version:Ae(e.version||n.v2),...i}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:Ae(e.version||n.v1),...i};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:pt.compile(e.constructorCalldata||[]),class_hash:Ae(e.classHash),contract_address_salt:Ae(e.addressSalt||0),version:Ae(e.version||n.v1),...i};throw Error("Sequencer buildTransaction received unknown TransactionType")}},uP=class{constructor(e){e instanceof uP?this.provider=e.provider:e instanceof gf||e instanceof N1?this.provider=e:e&&"rpc"in e?this.provider=new gf(e.rpc):e&&"sequencer"in e?this.provider=new N1(e.sequencer):this.provider=new gf}async getChainId(){return this.provider.getChainId()}async getBlock(e){return this.provider.getBlock(e)}async getClassAt(e,r){return this.provider.getClassAt(e,r)}async getClassHashAt(e,r){return this.provider.getClassHashAt(e,r)}getClassByHash(e){return this.provider.getClassByHash(e)}async getEstimateFee(e,r,n){return this.provider.getEstimateFee(e,r,n)}async getInvokeEstimateFee(e,r,n,i){return this.provider.getInvokeEstimateFee(e,r,n,i)}async getEstimateFeeBulk(e,r){return this.provider.getEstimateFeeBulk(e,r)}async getNonceForAddress(e,r){return this.provider.getNonceForAddress(e,r)}async getStorageAt(e,r,n){return this.provider.getStorageAt(e,r,n)}async getTransaction(e){return this.provider.getTransaction(e)}async getTransactionReceipt(e){return this.provider.getTransactionReceipt(e)}async callContract(e,r){return this.provider.callContract(e,r)}async invokeFunction(e,r){return this.provider.invokeFunction(e,r)}async deployAccountContract(e,r){return this.provider.deployAccountContract(e,r)}async declareContract(e,r){return this.provider.declareContract(e,r)}async getDeclareEstimateFee(e,r,n,i){return this.provider.getDeclareEstimateFee(e,r,n,i)}getDeployAccountEstimateFee(e,r,n,i){return this.provider.getDeployAccountEstimateFee(e,r,n,i)}async getCode(e,r){return this.provider.getCode(e,r)}async waitForTransaction(e,r){return this.provider.waitForTransaction(e,r)}async getSimulateTransaction(e,r){return this.provider.getSimulateTransaction(e,r)}async getStateUpdate(e){return this.provider.getStateUpdate(e)}async getStarkName(e,r){return oP(this,e,r)}async getAddressFromStarkName(e,r){return aP(this,e,r)}async getContractVersion(e,r,n){return this.provider.getContractVersion(e,r,n)}},nae={};Mr(nae,{fromCallsToExecuteCalldata:()=>lP,fromCallsToExecuteCalldataWithNonce:()=>iae,fromCallsToExecuteCalldata_cairo1:()=>XH,getExecuteCalldata:()=>M1,transformCallsToMulticallArrays:()=>ZH,transformCallsToMulticallArrays_cairo1:()=>sae});var ZH=t=>{const e=[],r=[];return t.forEach(n=>{const i=pt.compile(n.calldata||[]);e.push({to:qe(n.contractAddress).toString(10),selector:qe(ao(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:i.length.toString()}),r.push(...i)}),{callArray:e,calldata:pt.compile({calldata:r})}},lP=t=>{const{callArray:e,calldata:r}=ZH(t);return[...pt.compile({callArray:e}),...r]},iae=(t,e)=>[...lP(t),qe(e).toString()],sae=t=>t.map(r=>({to:qe(r.contractAddress).toString(10),selector:qe(ao(r.entrypoint)).toString(10),calldata:pt.compile(r.calldata||[])})),XH=t=>{const e=t.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:Array.isArray(r.calldata)&&"__compiled__"in r.calldata?r.calldata:pt.compile(r.calldata)}));return pt.compile({orderCalls:e})},M1=(t,e="0")=>e==="1"?XH(t):lP(t),oae={};Mr(oae,{encodeData:()=>tV,encodeType:()=>JH,encodeValue:()=>hP,getDependencies:()=>cP,getMessageHash:()=>dP,getStructHash:()=>yg,getTypeHash:()=>eV,isMerkleTreeType:()=>KH,prepareSelector:()=>QH});var aae={};Mr(aae,{MerkleTree:()=>vf,proofMerklePath:()=>YH});var vf=class{constructor(e){this.branches=[],this.leaves=e,this.root=this.build(e)}build(e){if(e.length===1)return e[0];e.length!==this.leaves.length&&this.branches.push(e);const r=[];for(let n=0;n<e.length;n+=2)n+1===e.length?r.push(vf.hash(e[n],"0x0")):r.push(vf.hash(e[n],e[n+1]));return this.build(r)}static hash(e,r){const[n,i]=[qe(e),qe(r)].sort((s,o)=>s>=o?1:-1);return rv(n,i)}getProof(e,r=this.leaves,n=[]){const i=r.indexOf(e);if(i===-1)throw new Error("leaf not found");if(r.length===1)return n;const s=i%2===0,o=(s?r[i+1]:r[i-1])??"0x0",a=[...n,o],u=this.leaves.length===r.length?-1:this.branches.findIndex(c=>c.length===r.length),l=this.branches[u+1]??[this.root];return this.getProof(vf.hash(s?e:o,s?o:e),l,a)}};function YH(t,e,r){if(r.length===0)return t===e;const[n,...i]=r;return YH(t,vf.hash(e,n),i)}function uae(t){try{return Ae(t)}catch{if(typeof t=="string")return Ae(Ml(t));throw new Error(`Invalid BigNumberish: ${t}`)}}var lae=t=>{const e=t;return!!(e.types&&e.primaryType&&e.message)};function QH(t){return oo(t)?t:ao(t)}function KH(t){return t.type==="merkletree"}var cP=(t,e,r=[])=>(e[e.length-1]==="*"&&(e=e.slice(0,-1)),r.includes(e)||!t[e]?r:[e,...t[e].reduce((n,i)=>[...n,...cP(t,i.type,n).filter(s=>!n.includes(s))],[])]);function cae(t,e){if(e.parent&&e.key){const n=t[e.parent].find(s=>s.name===e.key);if(!KH(n))throw new Error(`${e.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${e.key}`);return n.contains}return"raw"}var JH=(t,e)=>{const[r,...n]=cP(t,e);return(r?[r,...n.sort()]:[]).map(s=>`${s}(${t[s].map(o=>`${o.name}:${o.type}`)})`).join("")},eV=(t,e)=>ao(JH(t,e)),hP=(t,e,r,n={})=>{if(t[e])return[e,yg(t,e,r)];if(Object.keys(t).map(i=>`${i}*`).includes(e)){const i=r.map(s=>yg(t,e.slice(0,-1),s));return[e,Mn(i)]}if(e==="merkletree"){const i=cae(t,n),s=r.map(a=>hP(t,i,a)[1]),{root:o}=new vf(s);return["felt",o]}return e==="felt*"?["felt*",Mn(r)]:e==="selector"?["felt",QH(r)]:[e,uae(r)]},tV=(t,e,r)=>{const[n,i]=t[e].reduce(([s,o],a)=>{if(r[a.name]===void 0||r[a.name]===null)throw new Error(`Cannot encode data: missing data for '${a.name}'`);const u=r[a.name],[l,c]=hP(t,a.type,u,{parent:e,key:a.name});return[[...s,l],[...o,c]]},[["felt"],[eV(t,e)]]);return[n,i]},yg=(t,e,r)=>Mn(tV(t,e,r)[1]),dP=(t,e)=>{if(!lae(t))throw new Error("Typed data does not match JSON schema");const r=[Ml("StarkNet Message"),yg(t.types,"StarkNetDomain",t.domain),e,yg(t.types,t.primaryType,t.message)];return Mn(r)},hae=class{constructor(e=ok.randomPrivateKey()){this.pk=e instanceof Uint8Array?Pz(e):Ae(e)}async getPubKey(){return uk(this.pk)}async signMessage(e,r){const n=dP(e,r);return Wm(n,this.pk)}async signTransaction(e,r,n){if(n&&n.length!==e.length)throw new Error("ABI must be provided for each transaction or no transaction");const i=M1(e,r.cairoVersion),s=BH(r.walletAddress,r.version,i,r.maxFee,r.chainId,r.nonce);return Wm(s,this.pk)}async signDeployAccountTransaction({classHash:e,contractAddress:r,constructorCalldata:n,addressSalt:i,maxFee:s,version:o,chainId:a,nonce:u}){const l=DH(r,e,pt.compile(n),i,o,s,a,u);return Wm(l,this.pk)}async signDeclareTransaction({classHash:e,senderAddress:r,chainId:n,maxFee:i,version:s,nonce:o,compiledClassHash:a}){const u=MH(e,r,s,i,n,o,a);return Wm(u,this.pk)}};function dae(t){if(!t.events)throw new Error("UDC emitted event is empty");const e=t.events.find(r=>fg(r.from_address)===fg(bc.ADDRESS))||{data:[]};return{transaction_hash:t.transaction_hash,contract_address:e.data[0],address:e.data[0],deployer:e.data[1],unique:e.data[2],classHash:e.data[3],calldata_len:e.data[4],calldata:e.data.slice(5,5+parseInt(e.data[4],16)),salt:e.data[e.data.length-1]}}var Td=class extends uP{constructor(e,r,n,i){super(e),this.deploySelf=this.deployAccount,this.address=r.toLowerCase(),this.signer=typeof n=="string"||n instanceof Uint8Array?new hae(n):n,i&&(this.cairoVersion=i.toString())}async getNonce(e){return super.getNonceForAddress(this.address,e)}async getNonceSafe(e){try{return qe(e??await this.getNonce())}catch{return 0n}}async getCairoVersion(e){if(!this.cairoVersion){const{cairo:r}=e?await super.getContractVersion(void 0,e):await super.getContractVersion(this.address);this.cairoVersion=r}return this.cairoVersion}async estimateFee(e,r){return this.estimateInvokeFee(e,r)}async estimateInvokeFee(e,{nonce:r,blockIdentifier:n,skipValidate:i}={}){const s=Array.isArray(e)?e:[e],o=qe(r??await this.getNonce()),a=qe(Yd),u=await this.getChainId(),l={walletAddress:this.address,nonce:o,maxFee:Ei,version:a,chainId:u,cairoVersion:await this.getCairoVersion()},c=await this.buildInvocation(s,l),f=await super.getInvokeEstimateFee({...c},{version:a,nonce:o},n,i),p=Dc(f.overall_fee);return{...f,suggestedMaxFee:p}}async estimateDeclareFee({contract:e,classHash:r,casm:n,compiledClassHash:i},{blockIdentifier:s,nonce:o,skipValidate:a}={}){const u=qe(o??await this.getNonce()),l=cs(e)?k1:Yd,c=await this.getChainId(),f=await this.buildDeclarePayload({classHash:r,contract:e,casm:n,compiledClassHash:i},{nonce:u,chainId:c,version:l,walletAddress:this.address,maxFee:Ei,cairoVersion:void 0}),p=await super.getDeclareEstimateFee(f,{version:l,nonce:u},s,a),m=Dc(p.overall_fee);return{...p,suggestedMaxFee:m}}async estimateAccountDeployFee({classHash:e,addressSalt:r=0,constructorCalldata:n=[],contractAddress:i},{blockIdentifier:s,skipValidate:o}={}){const a=qe(Yd),u=Ei,l=await this.getChainId(),c=await this.buildAccountDeployPayload({classHash:e,addressSalt:r,constructorCalldata:n,contractAddress:i},{nonce:u,chainId:l,version:a,walletAddress:this.address,maxFee:Ei,cairoVersion:void 0}),f=await super.getDeployAccountEstimateFee({...c},{version:a,nonce:u},s,o),p=Dc(f.overall_fee);return{...f,suggestedMaxFee:p}}async estimateDeployFee(e,r){const n=this.buildUDCContractPayload(e);return this.estimateInvokeFee(n,r)}async estimateFeeBulk(e,{nonce:r,blockIdentifier:n,skipValidate:i}={}){const s=await this.accountInvocationsFactory(e,{versions:[Yd,k1],nonce:r,blockIdentifier:n}),o=await super.getEstimateFeeBulk(s,{blockIdentifier:n,skipValidate:i});return[].concat(o).map(a=>{const u=Dc(a.overall_fee);return{...a,suggestedMaxFee:u}})}async buildInvocation(e,r){const n=M1(e,await this.getCairoVersion()),i=await this.signer.signTransaction(e,r);return{contractAddress:this.address,calldata:n,signature:i}}async execute(e,r=void 0,n={}){const i=Array.isArray(e)?e:[e],s=qe(n.nonce??await this.getNonce()),o=n.maxFee??await this.getSuggestedMaxFee({type:"INVOKE_FUNCTION",payload:e},n),a=qe(Mc),u=await this.getChainId(),l={walletAddress:this.address,nonce:s,maxFee:o,version:a,chainId:u,cairoVersion:await this.getCairoVersion()},c=await this.signer.signTransaction(i,l,r),f=M1(i,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:f,signature:c},{nonce:s,maxFee:o,version:a})}async declareIfNot(e,r={}){const n=iT(e);try{await this.getClassByHash(n.classHash)}catch{return this.declare(e,r)}return{transaction_hash:"",class_hash:n.classHash}}async declare(e,r={}){const n=iT(e),i={};i.nonce=qe(r.nonce??await this.getNonce()),i.maxFee=r.maxFee??await this.getSuggestedMaxFee({type:"DECLARE",payload:n},r),i.version=cs(e.contract)?pg:Mc,i.chainId=await this.getChainId();const s=await this.buildDeclarePayload(n,{...i,walletAddress:this.address,cairoVersion:void 0});return this.declareContract(s,i)}async deploy(e,r){const n=[].concat(e).map(a=>{const{classHash:u,salt:l,unique:c=!0,constructorCalldata:f=[]}=a,p=pt.compile(f),m=l??nP();return{call:{contractAddress:bc.ADDRESS,entrypoint:bc.ENTRYPOINT,calldata:[u,m,YI(c),p.length,...p]},address:Tb(c?rv(this.address,m):m,u,p,c?bc.ADDRESS:0)}}),i=n.map(a=>a.call),s=n.map(a=>a.address);return{...await this.execute(i,void 0,r),contract_address:s}}async deployContract(e,r){const n=await this.deploy(e,r),i=await this.waitForTransaction(n.transaction_hash);return dae(i)}async declareAndDeploy(e,r){const{constructorCalldata:n,salt:i,unique:s}=e;let o=await this.declareIfNot(e,r);if(o.transaction_hash!==""){const u=await this.waitForTransaction(o.transaction_hash);o={...o,...u}}const a=await this.deployContract({classHash:o.class_hash,salt:i,unique:s,constructorCalldata:n},r);return{declare:{...o},deploy:a}}async deployAccount({classHash:e,constructorCalldata:r=[],addressSalt:n=0,contractAddress:i},s={}){const o=qe(Mc),a=Ei,u=await this.getChainId(),l=pt.compile(r),c=i??Tb(n,e,l,0),f=s.maxFee??await this.getSuggestedMaxFee({type:"DEPLOY_ACCOUNT",payload:{classHash:e,constructorCalldata:l,addressSalt:n,contractAddress:c}},s),p=await this.signer.signDeployAccountTransaction({classHash:e,constructorCalldata:l,contractAddress:c,addressSalt:n,chainId:u,maxFee:f,version:o,nonce:a});return this.deployAccountContract({classHash:e,addressSalt:n,constructorCalldata:r,signature:p},{nonce:a,maxFee:f,version:o})}async signMessage(e){return this.signer.signMessage(e,this.address)}async hashMessage(e){return dP(e,this.address)}async verifyMessageHash(e,r){try{return await this.callContract({contractAddress:this.address,entrypoint:"isValidSignature",calldata:pt.compile({hash:qe(e).toString(),signature:fE(r)})}),!0}catch{return!1}}async verifyMessage(e,r){const n=await this.hashMessage(e);return this.verifyMessageHash(n,r)}async getSuggestedMaxFee({type:e,payload:r},n){let i;switch(e){case"INVOKE_FUNCTION":i=await this.estimateInvokeFee(r,n);break;case"DECLARE":i=await this.estimateDeclareFee(r,n);break;case"DEPLOY_ACCOUNT":i=await this.estimateAccountDeployFee(r,n);break;case"DEPLOY":i=await this.estimateDeployFee(r,n);break;default:i={suggestedMaxFee:Ei,overall_fee:Ei};break}return i.suggestedMaxFee}async buildDeclarePayload(e,{nonce:r,chainId:n,version:i,walletAddress:s,maxFee:o}){const{classHash:a,contract:u,compiledClassHash:l}=iT(e),c=iP(u),f=await this.signer.signDeclareTransaction({classHash:a,compiledClassHash:l,senderAddress:s,chainId:n,maxFee:o,version:i,nonce:r});return{senderAddress:s,signature:f,contract:c,compiledClassHash:l}}async buildAccountDeployPayload({classHash:e,addressSalt:r=0,constructorCalldata:n=[],contractAddress:i},{nonce:s,chainId:o,version:a,maxFee:u}){const l=pt.compile(n),c=i??Tb(r,e,l,0),f=await this.signer.signDeployAccountTransaction({classHash:e,contractAddress:c,chainId:o,maxFee:u,version:a,nonce:s,addressSalt:r,constructorCalldata:l});return{classHash:e,addressSalt:r,constructorCalldata:l,signature:f}}buildUDCContractPayload(e){return[].concat(e).map(n=>{const{classHash:i,salt:s="0",unique:o=!0,constructorCalldata:a=[]}=n,u=pt.compile(a);return{contractAddress:bc.ADDRESS,entrypoint:bc.ENTRYPOINT,calldata:[i,s,YI(o),u.length,...u]}})}async simulateTransaction(e,{nonce:r,blockIdentifier:n,skipValidate:i,skipExecute:s}={}){const o=await this.accountInvocationsFactory(e,{versions:[Mc,pg],nonce:r,blockIdentifier:n});return super.getSimulateTransaction(o,{blockIdentifier:n,skipValidate:i,skipExecute:s})}async accountInvocationsFactory(e,{versions:r,nonce:n,blockIdentifier:i}){const s=r[0],o=await this.getNonceSafe(n),a=await this.getChainId(),u="payload"in e[0]?e[0].payload:e[0],l=e[0].type==="DEPLOY_ACCOUNT"?await this.getCairoVersion(u.classHash):await this.getCairoVersion();return Promise.all([].concat(e).map(async(c,f)=>{const p="payload"in c?c.payload:c,m={walletAddress:this.address,nonce:qe(Number(o)+f),maxFee:Ei,version:s,chainId:a,cairoVersion:l},y={type:c.type,version:s,nonce:qe(Number(o)+f),blockIdentifier:i};if(c.type==="INVOKE_FUNCTION"){const g=await this.buildInvocation([].concat(p),m);return{...y,...g}}if(c.type==="DECLARE"){m.version=cs(p.contract)?qe(r[1]):qe(r[0]);const g=await this.buildDeclarePayload(p,m);return{...y,...g,version:m.version}}if(c.type==="DEPLOY_ACCOUNT"){const g=await this.buildAccountDeployPayload(p,m);return{...y,...g}}if(c.type==="DEPLOY"){const g=this.buildUDCContractPayload(p),b=await this.buildInvocation(g,m);return{...y,...b,type:"INVOKE_FUNCTION"}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${c}`)}))}async getStarkName(e=this.address,r){return super.getStarkName(e,r)}},fae=new uP({rpc:{default:!0}}),pae={};Mr(pae,{getAbiEvents:()=>rV,parseEvents:()=>nV});function rV(t){return t.filter(e=>e.type==="event"&&(e.size||e.kind!=="enum")).reduce((e,r)=>{const n=r.name.slice(r.name.lastIndexOf(":")+1),i={...r};return i.name=n,{...e,[Hn(yp(Ep(n)).toString(16))]:i}},{})}function nV(t,e,r,n){return t.flat().reduce((s,o)=>{var m,y;const a=e[o.keys[0]];if(!a)return s;const u={};u[a.name]={},o.keys.shift();const l=o.keys[Symbol.iterator](),c=o.data[Symbol.iterator](),f=((m=a.members)==null?void 0:m.filter(g=>g.kind==="key"))||a.keys,p=((y=a.members)==null?void 0:y.filter(g=>g.kind==="data"))||a.data;return f.forEach(g=>{u[a.name][g.name]=e2(l,g,r,n,u[a.name])}),p.forEach(g=>{u[a.name][g.name]=e2(c,g,r,n,u[a.name])}),s.push(u),s},[])}var iV=t=>{const e=["blockIdentifier","parseRequest","parseResponse","formatResponse","maxFee","nonce","signature","addressSalt"],r=t[t.length-1];return typeof r=="object"&&e.some(n=>n in r)?{args:t,options:t.pop()}:{args:t}};function sV(t,e){return async function(...r){const n=iV(r);return t.call(e.name,n.args,{parseRequest:!0,parseResponse:!0,...n.options})}}function mae(t,e){return async function(...r){const n=iV(r);return t.invoke(e.name,n.args,{parseRequest:!0,...n.options})}}function c4(t,e){return e.stateMutability==="view"||e.state_mutability==="view"?sV(t,e):mae(t,e)}function yae(t,e){return function(...r){return t.populate(e.name,r)}}function gae(t,e){return function(...r){return t.estimate(e.name,r)}}function g0(t,e){return Array.isArray(t)&&"__compiled__"in t?t:Array.isArray(t)&&Array.isArray(t[0])&&"__compiled__"in t[0]?t[0]:e()}var vae=class{constructor(e,r,n=fae){this.address=r&&r.toLowerCase(),this.providerOrAccount=n,this.callData=new pt(e),this.structs=pt.getAbiStruct(e),this.events=rV(e);const i=xH(e);this.abi=i.getLegacyFormat();const s={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(o=>{if(o.type!=="function")return;const a=o.name;this[a]||Object.defineProperty(this,a,{...s,value:c4(this,o)}),this.functions[a]||Object.defineProperty(this.functions,a,{...s,value:c4(this,o)}),this.callStatic[a]||Object.defineProperty(this.callStatic,a,{...s,value:sV(this,o)}),this.populateTransaction[a]||Object.defineProperty(this.populateTransaction,a,{...s,value:yae(this,o)}),this.estimateFee[a]||Object.defineProperty(this.estimateFee,a,{...s,value:gae(this,o)})})}attach(e){this.address=e}connect(e){this.providerOrAccount=e}async deployed(){return this.deployTransactionHash&&(await this.providerOrAccount.waitForTransaction(this.deployTransactionHash),this.deployTransactionHash=void 0),this}async call(e,r=[],{parseRequest:n=!0,parseResponse:i=!0,formatResponse:s=void 0,blockIdentifier:o=void 0}={}){Ut(this.address!==null,"contract is not connected to an address");const a=g0(r,()=>n?(this.callData.validate("CALL",e,r),this.callData.compile(e,r)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),r));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:a,entrypoint:e},o).then(u=>i?s?this.callData.format(e,u.result,s):this.callData.parse(e,u.result):u.result)}invoke(e,r=[],{parseRequest:n=!0,maxFee:i,nonce:s,signature:o}={}){Ut(this.address!==null,"contract is not connected to an address");const a=g0(r,()=>n?(this.callData.validate("INVOKE",e,r),this.callData.compile(e,r)):(console.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),r)),u={contractAddress:this.address,calldata:a,entrypoint:e};if("execute"in this.providerOrAccount)return this.providerOrAccount.execute(u,void 0,{maxFee:i,nonce:s});if(!s)throw new Error("Nonce is required when invoking a function without an account");return console.warn(`Invoking ${e} without an account. This will not work on a public node.`),this.providerOrAccount.invokeFunction({...u,signature:o},{nonce:s})}async estimate(e,r=[]){Ut(this.address!==null,"contract is not connected to an address"),g0(r,()=>!1)||this.callData.validate("INVOKE",e,r);const n=this.populate(e,r);if("estimateInvokeFee"in this.providerOrAccount)return this.providerOrAccount.estimateInvokeFee(n);throw Error("Contract must be connected to the account contract to estimate")}populate(e,r=[]){const n=g0(r,()=>this.callData.compile(e,r));return{contractAddress:this.address,entrypoint:e,calldata:n}}parseEvents(e){var r;return nV(((r=e.events)==null?void 0:r.filter(n=>fg(n.from_address)===fg(this.address),[]))||[],this.events,this.structs,pt.getAbiEnum(this.abi))}isCairo1(){return mH.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typed(e){return this}};/*! js-cookie v3.0.5 | MIT */function v0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var _ae={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function i2(t,e){function r(i,s,o){if(!(typeof document>"u")){o=v0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,o[u]!==!0&&(a+="="+o[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var u=s[a].split("="),l=u.slice(1).join("=");try{var c=decodeURIComponent(u[0]);if(o[c]=t.read(l,c),i===c)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",v0({},s,{expires:-1}))},withAttributes:function(i){return i2(this.converter,v0({},this.attributes,i))},withConverter:function(i){return i2(v0({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var dd=i2(_ae,{path:"/"}),oT={},uo={},lh={},lo={},ct={},lu={},Oh={},cu={};Object.defineProperty(cu,"__esModule",{value:!0});class bae{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}cu.Subscribable=bae;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});const wae=typeof window>"u"||"Deno"in window;function Eae(){}function xae(t,e){return typeof t=="function"?t(e):t}function Sae(t){return typeof t=="number"&&t>=0&&t!==1/0}function Aae(t,e){return t.filter(r=>!e.includes(r))}function Tae(t,e,r){const n=t.slice(0);return n[e]=r,n}function Cae(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Iae(t,e,r){return Rh(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Oae(t,e,r){return Rh(t)?typeof e=="function"?{...r,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Rae(t,e,r){return Rh(t)?[{...e,queryKey:t},r]:[t||{},e]}function kae(t,e,r){return Rh(t)?[{...e,mutationKey:t},r]:[t||{},e]}function Pae(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(Rh(o)){if(n){if(e.queryHash!==oV(o,e.options))return!1}else if(!fP(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Nae(t,e){const{exact:r,fetching:n,predicate:i,mutationKey:s}=t;if(Rh(s)){if(!e.options.mutationKey)return!1;if(r){if(D1(e.options.mutationKey)!==D1(s))return!1}else if(!fP(e.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function oV(t,e){return((e==null?void 0:e.queryKeyHashFn)||D1)(t)}function D1(t){return JSON.stringify(t,(e,r)=>B1(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function fP(t,e){return pP(t,e)}function pP(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!pP(t[r],e[r])):!1}function mP(t,e){if(t===e)return t;const r=s2(t)&&s2(e);if(r||B1(t)&&B1(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let a=0;for(let u=0;u<s;u++){const l=r?u:i[u];o[l]=mP(t[l],e[l]),o[l]===t[l]&&a++}return n===s&&a===n?t:o}return e}function Mae(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function s2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function B1(t){if(!h4(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!h4(r)||!r.hasOwnProperty("isPrototypeOf"))}function h4(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rh(t){return Array.isArray(t)}function Dae(t){return t instanceof Error}function aV(t){return new Promise(e=>{setTimeout(e,t)})}function Bae(t){aV(0).then(t)}function Lae(){if(typeof AbortController=="function")return new AbortController}function $ae(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?mP(t,e):e}rt.difference=Aae;rt.functionalUpdate=xae;rt.getAbortController=Lae;rt.hashQueryKey=D1;rt.hashQueryKeyByOptions=oV;rt.isError=Dae;rt.isPlainArray=s2;rt.isPlainObject=B1;rt.isQueryKey=Rh;rt.isServer=wae;rt.isValidTimeout=Sae;rt.matchMutation=Nae;rt.matchQuery=Pae;rt.noop=Eae;rt.parseFilterArgs=Rae;rt.parseMutationArgs=Oae;rt.parseMutationFilterArgs=kae;rt.parseQueryArgs=Iae;rt.partialDeepEqual=pP;rt.partialMatchKey=fP;rt.replaceAt=Tae;rt.replaceData=$ae;rt.replaceEqualDeep=mP;rt.scheduleMicrotask=Bae;rt.shallowEqualObjects=Mae;rt.sleep=aV;rt.timeUntilStale=Cae;Object.defineProperty(Oh,"__esModule",{value:!0});var Fae=cu,Uae=rt;class uV extends Fae.Subscribable{constructor(){super(),this.setup=e=>{if(!Uae.isServer&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const jae=new uV;Oh.FocusManager=uV;Oh.focusManager=jae;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});var zae=cu,Hae=rt;const d4=["online","offline"];class lV extends zae.Subscribable{constructor(){super(),this.setup=e=>{if(!Hae.isServer&&window.addEventListener){const r=()=>e();return d4.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{d4.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Vae=new lV;Ap.OnlineManager=lV;Ap.onlineManager=Vae;Object.defineProperty(lu,"__esModule",{value:!0});var Gae=Oh,cV=Ap,Wae=rt;function qae(t){return Math.min(1e3*2**t,3e4)}function hV(t){return(t??"online")==="online"?cV.onlineManager.isOnline():!0}class yP{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Zae(t){return t instanceof yP}function Xae(t){let e=!1,r=0,n=!1,i,s,o;const a=new Promise((b,_)=>{s=b,o=_}),u=b=>{n||(m(new yP(b)),t.abort==null||t.abort())},l=()=>{e=!0},c=()=>{e=!1},f=()=>!Gae.focusManager.isFocused()||t.networkMode!=="always"&&!cV.onlineManager.isOnline(),p=b=>{n||(n=!0,t.onSuccess==null||t.onSuccess(b),i==null||i(),s(b))},m=b=>{n||(n=!0,t.onError==null||t.onError(b),i==null||i(),o(b))},y=()=>new Promise(b=>{i=_=>{const w=n||!f();return w&&b(_),w},t.onPause==null||t.onPause()}).then(()=>{i=void 0,n||t.onContinue==null||t.onContinue()}),g=()=>{if(n)return;let b;try{b=t.fn()}catch(_){b=Promise.reject(_)}Promise.resolve(b).then(p).catch(_=>{var w,E;if(n)return;const x=(w=t.retry)!=null?w:3,N=(E=t.retryDelay)!=null?E:qae,M=typeof N=="function"?N(r,_):N,R=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,_);if(e||!R){m(_);return}r++,t.onFail==null||t.onFail(r,_),Wae.sleep(M).then(()=>{if(f())return y()}).then(()=>{e?m(_):g()})})};return hV(t.networkMode)?g():y().then(g),{promise:a,cancel:u,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:l,continueRetry:c}}lu.CancelledError=yP;lu.canFetch=hV;lu.createRetryer=Xae;lu.isCancelledError=Zae;var pE={},mE={};const Yae=console,Qae=Object.freeze(Object.defineProperty({__proto__:null,defaultLogger:Yae},Symbol.toStringTag,{value:"Module"})),gP=pa(Qae);var gs={};Object.defineProperty(gs,"__esModule",{value:!0});var f4=rt;function dV(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},s=c=>{e?t.push(c):f4.scheduleMicrotask(()=>{r(c)})},o=c=>(...f)=>{s(()=>{c(...f)})},a=()=>{const c=t;t=[],c.length&&f4.scheduleMicrotask(()=>{n(()=>{c.forEach(f=>{r(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}const Kae=dV();gs.createNotifyManager=dV;gs.notifyManager=Kae;var yE={};Object.defineProperty(yE,"__esModule",{value:!0});var p4=rt;class Jae{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),p4.isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(p4.isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}yE.Removable=Jae;Object.defineProperty(mE,"__esModule",{value:!0});var Im=rt,eue=gP,tue=gs,Om=lu,rue=yE;class nue extends rue.Removable{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||eue.defaultLogger,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||iue(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=Im.replaceData(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(Im.noop).catch(Im.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Im.timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const o=Im.getAbortController(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};u(a);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(u(c),(n=this.options.behavior)==null||n.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const p=m=>{if(Om.isCancelledError(m)&&m.silent||this.dispatch({type:"error",error:m}),!Om.isCancelledError(m)){var y,g,b,_;(y=(g=this.cache.config).onError)==null||y.call(g,m,this),(b=(_=this.cache.config).onSettled)==null||b.call(_,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Om.createRetryer({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:m=>{var y,g,b,_;if(typeof m>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(y=(g=this.cache.config).onSuccess)==null||y.call(g,m,this),(b=(_=this.cache.config).onSettled)==null||b.call(_,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(m,y)=>{this.dispatch({type:"failed",failureCount:m,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var i,s;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:Om.canFetch(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Om.isCancelledError(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),tue.notifyManager.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function iue(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}mE.Query=nue;Object.defineProperty(pE,"__esModule",{value:!0});var Rm=rt,sue=mE,_0=gs,oue=cu;class aue extends oue.Subscribable{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var i;const s=r.queryKey,o=(i=r.queryHash)!=null?i:Rm.hashQueryKeyByOptions(s,r);let a=this.get(o);return a||(a=new sue.Query({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){_0.notifyManager.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=Rm.parseFilterArgs(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>Rm.matchQuery(n,i))}findAll(e,r){const[n]=Rm.parseFilterArgs(e,r);return Object.keys(n).length>0?this.queries.filter(i=>Rm.matchQuery(n,i)):this.queries}notify(e){_0.notifyManager.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){_0.notifyManager.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){_0.notifyManager.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}pE.QueryCache=aue;var vP={},gE={},dv={};Object.defineProperty(dv,"__esModule",{value:!0});var uue=gP,lue=gs,cue=yE,m4=lu;class hue extends cue.Removable{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||uue.defaultLogger,this.observers=[],this.state=e.state||fV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var R;return this.retryer=m4.createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(D,W)=>{this.dispatch({type:"failed",failureCount:D,error:W})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,s,o,a,u,l,c;if(!r){var f,p,m,y;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(p=this.mutationCache.config).onMutate)==null?void 0:f.call(p,this.state.variables,this));const D=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,this.state.variables));D!==this.state.context&&this.dispatch({type:"loading",context:D,variables:this.state.variables})}const R=await e();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,R,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,R,this.state.variables,this.state.context)),await((a=(u=this.mutationCache.config).onSettled)==null?void 0:a.call(u,R,null,this.state.variables,this.state.context,this)),await((l=(c=this.options).onSettled)==null?void 0:l.call(c,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var g,b,_,w,E,x,N,M;throw await((g=(b=this.mutationCache.config).onError)==null?void 0:g.call(b,R,this.state.variables,this.state.context,this)),await((_=(w=this.options).onError)==null?void 0:_.call(w,R,this.state.variables,this.state.context)),await((E=(x=this.mutationCache.config).onSettled)==null?void 0:E.call(x,void 0,R,this.state.variables,this.state.context,this)),await((N=(M=this.options).onSettled)==null?void 0:N.call(M,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!m4.canFetch(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),lue.notifyManager.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function fV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}dv.Mutation=hue;dv.getDefaultState=fV;Object.defineProperty(gE,"__esModule",{value:!0});var aT=gs,due=dv,uT=rt,fue=cu;class pue extends fue.Subscribable{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const i=new due.Mutation({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){aT.notifyManager.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>uT.matchMutation(e,r))}findAll(e){return this.mutations.filter(r=>uT.matchMutation(e,r))}notify(e){aT.notifyManager.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return aT.notifyManager.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(uT.noop)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}gE.MutationCache=pue;var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0});function mue(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,i,s,o;const a=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,u=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,l=u==null?void 0:u.pageParam,c=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",p=((s=t.state.data)==null?void 0:s.pages)||[],m=((o=t.state.data)==null?void 0:o.pageParams)||[];let y=m,g=!1;const b=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>{var R;if((R=t.signal)!=null&&R.aborted)g=!0;else{var D;(D=t.signal)==null||D.addEventListener("abort",()=>{g=!0})}return t.signal}})},_=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),w=(M,R,D,W)=>(y=W?[R,...y]:[...y,R],W?[D,...M]:[...M,D]),E=(M,R,D,W)=>{if(g)return Promise.reject("Cancelled");if(typeof D>"u"&&!R&&M.length)return Promise.resolve(M);const G={queryKey:t.queryKey,pageParam:D,meta:t.options.meta};b(G);const U=_(G);return Promise.resolve(U).then(B=>w(M,D,B,W))};let x;if(!p.length)x=E([]);else if(c){const M=typeof l<"u",R=M?l:L1(t.options,p);x=E(p,M,R)}else if(f){const M=typeof l<"u",R=M?l:_P(t.options,p);x=E(p,M,R,!0)}else{y=[];const M=typeof t.options.getNextPageParam>"u";x=(a&&p[0]?a(p[0],0,p):!0)?E([],M,m[0]):Promise.resolve(w([],m[0],p[0]));for(let D=1;D<p.length;D++)x=x.then(W=>{if(a&&p[D]?a(p[D],D,p):!0){const U=M?m[D]:L1(t.options,W);return E(W,M,U)}return Promise.resolve(w(W,m[D],p[D]))})}return x.then(M=>({pages:M,pageParams:y}))}}}}function L1(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function _P(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}function yue(t,e){if(t.getNextPageParam&&Array.isArray(e)){const r=L1(t,e);return typeof r<"u"&&r!==null&&r!==!1}}function gue(t,e){if(t.getPreviousPageParam&&Array.isArray(e)){const r=_P(t,e);return typeof r<"u"&&r!==null&&r!==!1}}Bl.getNextPageParam=L1;Bl.getPreviousPageParam=_P;Bl.hasNextPage=yue;Bl.hasPreviousPage=gue;Bl.infiniteQueryBehavior=mue;Object.defineProperty(vP,"__esModule",{value:!0});var kt=rt,vue=pE,_ue=gE,y4=Oh,g4=Ap,fd=gs,bue=Bl,wue=gP;class Eue{constructor(e={}){this.queryCache=e.queryCache||new vue.QueryCache,this.mutationCache=e.mutationCache||new _ue.MutationCache,this.logger=e.logger||wue.defaultLogger,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=y4.focusManager.subscribe(()=>{y4.focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=g4.onlineManager.subscribe(()=>{g4.onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=kt.parseFilterArgs(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const i=kt.parseQueryArgs(e,r,n),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(e,r,n){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=kt.functionalUpdate(r,s);if(typeof o>"u")return;const a=kt.parseQueryArgs(e),u=this.defaultQueryOptions(a);return this.queryCache.build(this,u).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return fd.notifyManager.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=kt.parseFilterArgs(e,r),i=this.queryCache;fd.notifyManager.batch(()=>{i.findAll(n).forEach(s=>{i.remove(s)})})}resetQueries(e,r,n){const[i,s]=kt.parseFilterArgs(e,r,n),o=this.queryCache,a={type:"active",...i};return fd.notifyManager.batch(()=>(o.findAll(i).forEach(u=>{u.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,r,n){const[i,s={}]=kt.parseFilterArgs(e,r,n);typeof s.revert>"u"&&(s.revert=!0);const o=fd.notifyManager.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(kt.noop).catch(kt.noop)}invalidateQueries(e,r,n){const[i,s]=kt.parseFilterArgs(e,r,n);return fd.notifyManager.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(l=>{l.invalidate()}),i.refetchType==="none")return Promise.resolve();const u={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(u,s)})}refetchQueries(e,r,n){const[i,s]=kt.parseFilterArgs(e,r,n),o=fd.notifyManager.batch(()=>this.queryCache.findAll(i).filter(u=>!u.isDisabled()).map(u=>{var l;return u.fetch(void 0,{...s,cancelRefetch:(l=s==null?void 0:s.cancelRefetch)!=null?l:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(kt.noop);return s!=null&&s.throwOnError||(a=a.catch(kt.noop)),a}fetchQuery(e,r,n){const i=kt.parseQueryArgs(e,r,n),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(kt.noop).catch(kt.noop)}fetchInfiniteQuery(e,r,n){const i=kt.parseQueryArgs(e,r,n);return i.behavior=bue.infiniteQueryBehavior(),this.fetchQuery(i)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(kt.noop).catch(kt.noop)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(i=>kt.hashQueryKey(e)===kt.hashQueryKey(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>kt.partialMatchKey(e,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(i=>kt.hashQueryKey(e)===kt.hashQueryKey(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>kt.partialMatchKey(e,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=kt.hashQueryKeyByOptions(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}vP.QueryClient=Eue;var fv={};Object.defineProperty(fv,"__esModule",{value:!0});var Rs=rt,xue=gs,Sue=Oh,Aue=cu,v4=lu;class Tue extends Aue.Subscribable{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),_4(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o2(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o2(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Rs.shallowEqualObjects(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const s=this.hasListeners();s&&b4(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),n=this.createResult(r,e);return Iue(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Rs.noop)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Rs.isServer||this.currentResult.isStale||!Rs.isValidTimeout(this.options.staleTime))return;const r=Rs.timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Rs.isServer||this.options.enabled===!1||!Rs.isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Sue.focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,u=e!==n,l=u?e.state:this.currentQueryInitialState,c=u?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:p,error:m,errorUpdatedAt:y,fetchStatus:g,status:b}=f,_=!1,w=!1,E;if(r._optimisticResults){const D=this.hasListeners(),W=!D&&_4(e,r),G=D&&b4(e,n,r,i);(W||G)&&(g=v4.canFetch(e.options.networkMode)?"fetching":"paused",p||(b="loading")),r._optimisticResults==="isRestoring"&&(g="idle")}if(r.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&b!=="error")E=c.data,p=c.dataUpdatedAt,b=c.status,_=!0;else if(r.select&&typeof f.data<"u")if(s&&f.data===(o==null?void 0:o.data)&&r.select===this.selectFn)E=this.selectResult;else try{this.selectFn=r.select,E=r.select(f.data),E=Rs.replaceData(s==null?void 0:s.data,E,r),this.selectResult=E,this.selectError=null}catch(D){this.selectError=D}else E=f.data;if(typeof r.placeholderData<"u"&&typeof E>"u"&&b==="loading"){let D;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))D=s.data;else if(D=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof D<"u")try{D=r.select(D),this.selectError=null}catch(W){this.selectError=W}typeof D<"u"&&(b="success",E=Rs.replaceData(s==null?void 0:s.data,D,r),w=!0)}this.selectError&&(m=this.selectError,E=this.selectResult,y=Date.now(),b="error");const x=g==="fetching",N=b==="loading",M=b==="error";return{status:b,fetchStatus:g,isLoading:N,isSuccess:b==="success",isError:M,isInitialLoading:N&&x,data:E,dataUpdatedAt:p,error:m,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!N,isLoadingError:M&&f.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:w,isPreviousData:_,isRefetchError:M&&f.dataUpdatedAt!==0,isStale:bP(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Rs.shallowEqualObjects(n,r))return;this.currentResult=n;const i={cache:!0},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const u=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(l=>{const c=l;return this.currentResult[c]!==r[c]&&u.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!v4.isCancelledError(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){xue.notifyManager.batch(()=>{if(e.onSuccess){var r,n,i,s;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,u,l;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(u=(l=this.options).onSettled)==null||u.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Cue(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _4(t,e){return Cue(t,e)||t.state.dataUpdatedAt>0&&o2(t,e,e.refetchOnMount)}function o2(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&bP(t,e)}return!1}function b4(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&bP(t,r)}function bP(t,e){return t.isStaleByTime(e.staleTime)}function Iue(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:!Rs.shallowEqualObjects(t.getCurrentResult(),e)}fv.QueryObserver=Tue;var wP={};Object.defineProperty(wP,"__esModule",{value:!0});var lT=rt,w4=gs,Oue=fv,Rue=cu;class kue extends Rue.Subscribable{constructor(e,r){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},r&&this.setQueries(r)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(r=>{this.onUpdate(e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,r){this.queries=e,w4.notifyManager.batch(()=>{const n=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions,r));const s=i.map(l=>l.observer),o=Object.fromEntries(s.map(l=>[l.options.queryHash,l])),a=s.map(l=>l.getCurrentResult()),u=s.some((l,c)=>l!==n[c]);n.length===s.length&&!u||(this.observers=s,this.observersMap=o,this.result=a,this.hasListeners()&&(lT.difference(n,s).forEach(l=>{l.destroy()}),lT.difference(s,n).forEach(l=>{l.subscribe(c=>{this.onUpdate(l,c)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(r=>r.observer.getOptimisticResult(r.defaultedQueryOptions))}findMatchingObservers(e){const r=this.observers,n=new Map(r.map(m=>[m.options.queryHash,m])),i=e.map(m=>this.client.defaultQueryOptions(m)),s=i.flatMap(m=>{const y=n.get(m.queryHash);return y!=null?[{defaultedQueryOptions:m,observer:y}]:[]}),o=new Set(s.map(m=>m.defaultedQueryOptions.queryHash)),a=i.filter(m=>!o.has(m.queryHash)),u=new Set(s.map(m=>m.observer)),l=r.filter(m=>!u.has(m)),c=m=>{const y=this.client.defaultQueryOptions(m),g=this.observersMap[y.queryHash];return g??new Oue.QueryObserver(this.client,y)},f=a.map((m,y)=>{if(m.keepPreviousData){const g=l[y];if(g!==void 0)return{defaultedQueryOptions:m,observer:g}}return{defaultedQueryOptions:m,observer:c(m)}}),p=(m,y)=>i.indexOf(m.defaultedQueryOptions)-i.indexOf(y.defaultedQueryOptions);return s.concat(f).sort(p)}onUpdate(e,r){const n=this.observers.indexOf(e);n!==-1&&(this.result=lT.replaceAt(this.result,n,r),this.notify())}notify(){w4.notifyManager.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}wP.QueriesObserver=kue;var EP={};Object.defineProperty(EP,"__esModule",{value:!0});var Pue=fv,b0=Bl;class Nue extends Pue.QueryObserver{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,r){super.setOptions({...e,behavior:b0.infiniteQueryBehavior()},r)}getOptimisticResult(e){return e.behavior=b0.infiniteQueryBehavior(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,r){var n,i,s,o,a,u;const{state:l}=e,c=super.createResult(e,r),{isFetching:f,isRefetching:p}=c,m=f&&((n=l.fetchMeta)==null||(i=n.fetchMore)==null?void 0:i.direction)==="forward",y=f&&((s=l.fetchMeta)==null||(o=s.fetchMore)==null?void 0:o.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:b0.hasNextPage(r,(a=l.data)==null?void 0:a.pages),hasPreviousPage:b0.hasPreviousPage(r,(u=l.data)==null?void 0:u.pages),isFetchingNextPage:m,isFetchingPreviousPage:y,isRefetching:p&&!m&&!y}}}EP.InfiniteQueryObserver=Nue;var xP={};Object.defineProperty(xP,"__esModule",{value:!0});var Mue=dv,Due=gs,Bue=cu,Lue=rt;let $ue=class extends Bue.Subscribable{constructor(e,r){super(),this.client=e,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=this.client.defaultMutationOptions(e),Lue.shallowEqualObjects(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Mue.getDefaultState(),r={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){Due.notifyManager.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var r,n,i,s;(r=(n=this.mutateOptions).onSuccess)==null||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,u,l;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(u=(l=this.mutateOptions).onSettled)==null||u.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};xP.MutationObserver=$ue;var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});function Fue(t){return{mutationKey:t.options.mutationKey,state:t.state}}function Uue(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}function pV(t){return t.state.isPaused}function mV(t){return t.state.status==="success"}function jue(t,e={}){const r=[],n=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||pV;t.getMutationCache().getAll().forEach(s=>{i(s)&&r.push(Fue(s))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||mV;t.getQueryCache().getAll().forEach(s=>{i(s)&&n.push(Uue(s))})}return{mutations:r,queries:n}}function zue(t,e,r){if(typeof e!="object"||e===null)return;const n=t.getMutationCache(),i=t.getQueryCache(),s=e.mutations||[],o=e.queries||[];s.forEach(a=>{var u;n.build(t,{...r==null||(u=r.defaultOptions)==null?void 0:u.mutations,mutationKey:a.mutationKey},a.state)}),o.forEach(({queryKey:a,state:u,queryHash:l})=>{var c;const f=i.get(l);if(f){if(f.state.dataUpdatedAt<u.dataUpdatedAt){const{fetchStatus:p,...m}=u;f.setState(m)}return}i.build(t,{...r==null||(c=r.defaultOptions)==null?void 0:c.queries,queryKey:a,queryHash:l},{...u,fetchStatus:"idle"})})}Tp.defaultShouldDehydrateMutation=pV;Tp.defaultShouldDehydrateQuery=mV;Tp.dehydrate=jue;Tp.hydrate=zue;Object.defineProperty(ct,"__esModule",{value:!0});var yV=lu,Hue=pE,Vue=vP,Gue=fv,Wue=wP,que=EP,Zue=gE,Xue=xP,Yue=gs,Que=Oh,Kue=Ap,hu=rt,vE=Tp,Jue=mE;ct.CancelledError=yV.CancelledError;ct.isCancelledError=yV.isCancelledError;ct.QueryCache=Hue.QueryCache;ct.QueryClient=Vue.QueryClient;ct.QueryObserver=Gue.QueryObserver;ct.QueriesObserver=Wue.QueriesObserver;ct.InfiniteQueryObserver=que.InfiniteQueryObserver;ct.MutationCache=Zue.MutationCache;ct.MutationObserver=Xue.MutationObserver;ct.notifyManager=Yue.notifyManager;ct.focusManager=Que.focusManager;ct.onlineManager=Kue.onlineManager;ct.hashQueryKey=hu.hashQueryKey;ct.isError=hu.isError;ct.isServer=hu.isServer;ct.matchQuery=hu.matchQuery;ct.parseFilterArgs=hu.parseFilterArgs;ct.parseMutationArgs=hu.parseMutationArgs;ct.parseMutationFilterArgs=hu.parseMutationFilterArgs;ct.parseQueryArgs=hu.parseQueryArgs;ct.replaceEqualDeep=hu.replaceEqualDeep;ct.defaultShouldDehydrateMutation=vE.defaultShouldDehydrateMutation;ct.defaultShouldDehydrateQuery=vE.defaultShouldDehydrateQuery;ct.dehydrate=vE.dehydrate;ct.hydrate=vE.hydrate;ct.Query=Jue.Query;var SP={},gV={exports:{}},vV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf=Me;function ele(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tle=typeof Object.is=="function"?Object.is:ele,rle=Vf.useState,nle=Vf.useEffect,ile=Vf.useLayoutEffect,sle=Vf.useDebugValue;function ole(t,e){var r=e(),n=rle({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return ile(function(){i.value=r,i.getSnapshot=e,cT(i)&&s({inst:i})},[t,r,e]),nle(function(){return cT(i)&&s({inst:i}),t(function(){cT(i)&&s({inst:i})})},[t]),sle(r),r}function cT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!tle(t,r)}catch{return!0}}function ale(t,e){return e()}var ule=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ale:ole;vV.useSyncExternalStore=Vf.useSyncExternalStore!==void 0?Vf.useSyncExternalStore:ule;gV.exports=vV;var lle=gV.exports;const cle=lle.useSyncExternalStore,hle=Object.freeze(Object.defineProperty({__proto__:null,useSyncExternalStore:cle},Symbol.toStringTag,{value:"Module"})),pv=pa(hle);var co={};Object.defineProperty(co,"__esModule",{value:!0});var dle=Me;function fle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Hc=fle(dle);const a2=Hc.createContext(void 0),_V=Hc.createContext(!1);function bV(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=a2),window.ReactQueryClientContext):a2)}const ple=({context:t}={})=>{const e=Hc.useContext(bV(t,Hc.useContext(_V)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},mle=({client:t,children:e,context:r,contextSharing:n=!1})=>{Hc.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=bV(r,n);return Hc.createElement(_V.Provider,{value:!r&&n},Hc.createElement(i.Provider,{value:t},e))};co.QueryClientProvider=mle;co.defaultContext=a2;co.useQueryClient=ple;var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});var yle=Me;function gle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var wV=gle(yle);const EV=wV.createContext(!1),vle=()=>wV.useContext(EV),_le=EV.Provider;Cp.IsRestoringProvider=_le;Cp.useIsRestoring=vle;var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});var ble=Me;function wle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var $1=wle(ble);function xV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const SV=$1.createContext(xV()),Ele=()=>$1.useContext(SV),xle=({children:t})=>{const[e]=$1.useState(()=>xV());return $1.createElement(SV.Provider,{value:e},typeof t=="function"?t(e):t)};Ip.QueryErrorResetBoundary=xle;Ip.useQueryErrorResetBoundary=Ele;var Op={},_E={};Object.defineProperty(_E,"__esModule",{value:!0});function Sle(t,e){return typeof t=="function"?t(...e):!!t}_E.shouldThrowError=Sle;Object.defineProperty(Op,"__esModule",{value:!0});var Ale=Me,Tle=_E;function Cle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Ile=Cle(Ale);const Ole=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Rle=t=>{Ile.useEffect(()=>{t.clearReset()},[t])},kle=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&Tle.shouldThrowError(r,[t.error,n]);Op.ensurePreventErrorBoundaryRetry=Ole;Op.getHasError=kle;Op.useClearResetErrorBoundary=Rle;var kh={};Object.defineProperty(kh,"__esModule",{value:!0});const Ple=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},AV=(t,e)=>t.isLoading&&t.isFetching&&!e,Nle=(t,e,r)=>(t==null?void 0:t.suspense)&&AV(e,r),Mle=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});kh.ensureStaleTime=Ple;kh.fetchOptimistic=Mle;kh.shouldSuspend=Nle;kh.willFetch=AV;Object.defineProperty(SP,"__esModule",{value:!0});var Dle=Me,E4=ct,Ble=pv,Lle=co,$le=Cp,Fle=Ip,hT=Op,pd=kh;function Ule(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var w0=Ule(Dle);function jle({queries:t,context:e}){const r=Lle.useQueryClient({context:e}),n=$le.useIsRestoring(),i=Fle.useQueryErrorResetBoundary(),s=w0.useMemo(()=>t.map(p=>{const m=r.defaultQueryOptions(p);return m._optimisticResults=n?"isRestoring":"optimistic",m}),[t,r,n]);s.forEach(p=>{pd.ensureStaleTime(p),hT.ensurePreventErrorBoundaryRetry(p,i)}),hT.useClearResetErrorBoundary(i);const[o]=w0.useState(()=>new E4.QueriesObserver(r,s)),a=o.getOptimisticResult(s);Ble.useSyncExternalStore(w0.useCallback(p=>n?()=>{}:o.subscribe(E4.notifyManager.batchCalls(p)),[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),w0.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const l=a.some((p,m)=>pd.shouldSuspend(s[m],p,n))?a.flatMap((p,m)=>{const y=s[m],g=o.getObservers()[m];if(y&&g){if(pd.shouldSuspend(y,p,n))return pd.fetchOptimistic(y,g,i);pd.willFetch(p,n)&&pd.fetchOptimistic(y,g,i)}return[]}):[];if(l.length>0)throw Promise.all(l);const c=o.getQueries(),f=a.find((p,m)=>{var y,g;return hT.getHasError({result:p,errorResetBoundary:i,useErrorBoundary:(y=(g=s[m])==null?void 0:g.useErrorBoundary)!=null?y:!1,query:c[m]})});if(f!=null&&f.error)throw f.error;return a}SP.useQueries=jle;var AP={},bE={};Object.defineProperty(bE,"__esModule",{value:!0});var zle=Me,E0=ct,Hle=pv,Vle=Ip,Gle=co,Wle=Cp,dT=Op,fT=kh;function qle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var pT=qle(zle);function Zle(t,e){const r=Gle.useQueryClient({context:t.context}),n=Wle.useIsRestoring(),i=Vle.useQueryErrorResetBoundary(),s=r.defaultQueryOptions(t);s._optimisticResults=n?"isRestoring":"optimistic",s.onError&&(s.onError=E0.notifyManager.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=E0.notifyManager.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=E0.notifyManager.batchCalls(s.onSettled)),fT.ensureStaleTime(s),dT.ensurePreventErrorBoundaryRetry(s,i),dT.useClearResetErrorBoundary(i);const[o]=pT.useState(()=>new e(r,s)),a=o.getOptimisticResult(s);if(Hle.useSyncExternalStore(pT.useCallback(u=>{const l=n?()=>{}:o.subscribe(E0.notifyManager.batchCalls(u));return o.updateResult(),l},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),pT.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),fT.shouldSuspend(s,a,n))throw fT.fetchOptimistic(s,o,i);if(dT.getHasError({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}bE.useBaseQuery=Zle;Object.defineProperty(AP,"__esModule",{value:!0});var x4=ct,Xle=bE;function Yle(t,e,r){const n=x4.parseQueryArgs(t,e,r);return Xle.useBaseQuery(n,x4.QueryObserver)}AP.useQuery=Yle;var wE={};Object.defineProperty(wE,"__esModule",{value:!0});var Qle=Me,Kle=ct,Jle=co;function ece(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var S4=ece(Qle);function TV(t,e={}){const r=Jle.useQueryClient({context:e.context}),n=S4.useRef(e);n.current=e,S4.useMemo(()=>{t&&Kle.hydrate(r,t,n.current)},[r,t])}const tce=({children:t,options:e,state:r})=>(TV(r,e),t);wE.Hydrate=tce;wE.useHydrate=TV;var TP={};Object.defineProperty(TP,"__esModule",{value:!0});var rce=Me,A4=ct,nce=pv,ice=co;function sce(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var oce=sce(rce);function ace(t,e,r){const[n,i={}]=A4.parseFilterArgs(t,e,r),s=ice.useQueryClient({context:i.context}),o=s.getQueryCache();return nce.useSyncExternalStore(oce.useCallback(a=>o.subscribe(A4.notifyManager.batchCalls(a)),[o]),()=>s.isFetching(n),()=>s.isFetching(n))}TP.useIsFetching=ace;var CP={};Object.defineProperty(CP,"__esModule",{value:!0});var uce=Me,T4=ct,lce=pv,cce=co;function hce(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var dce=hce(uce);function fce(t,e,r){const[n,i={}]=T4.parseMutationFilterArgs(t,e,r),s=cce.useQueryClient({context:i.context}),o=s.getMutationCache();return lce.useSyncExternalStore(dce.useCallback(a=>o.subscribe(T4.notifyManager.batchCalls(a)),[o]),()=>s.isMutating(n),()=>s.isMutating(n))}CP.useIsMutating=fce;var IP={};Object.defineProperty(IP,"__esModule",{value:!0});var pce=Me,mT=ct,mce=pv,yce=co,gce=_E;function vce(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var x0=vce(pce);function _ce(t,e,r){const n=mT.parseMutationArgs(t,e,r),i=yce.useQueryClient({context:n.context}),[s]=x0.useState(()=>new mT.MutationObserver(i,n));x0.useEffect(()=>{s.setOptions(n)},[s,n]);const o=mce.useSyncExternalStore(x0.useCallback(u=>s.subscribe(mT.notifyManager.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=x0.useCallback((u,l)=>{s.mutate(u,l).catch(bce)},[s]);if(o.error&&gce.shouldThrowError(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function bce(){}IP.useMutation=_ce;var OP={};Object.defineProperty(OP,"__esModule",{value:!0});var C4=ct,wce=bE;function Ece(t,e,r){const n=C4.parseQueryArgs(t,e,r);return wce.useBaseQuery(n,C4.InfiniteQueryObserver)}OP.useInfiniteQuery=Ece;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ct,r=SP,n=AP,i=co,s=wE,o=Ip,a=TP,u=CP,l=IP,c=OP,f=Cp;t.useQueries=r.useQueries,t.useQuery=n.useQuery,t.QueryClientProvider=i.QueryClientProvider,t.defaultContext=i.defaultContext,t.useQueryClient=i.useQueryClient,t.Hydrate=s.Hydrate,t.useHydrate=s.useHydrate,t.QueryErrorResetBoundary=o.QueryErrorResetBoundary,t.useQueryErrorResetBoundary=o.useQueryErrorResetBoundary,t.useIsFetching=a.useIsFetching,t.useIsMutating=u.useIsMutating,t.useMutation=l.useMutation,t.useInfiniteQuery=c.useInfiniteQuery,t.IsRestoringProvider=f.IsRestoringProvider,t.useIsRestoring=f.useIsRestoring,Object.keys(e).forEach(function(p){p!=="default"&&!t.hasOwnProperty(p)&&Object.defineProperty(t,p,{enumerable:!0,get:function(){return e[p]}})})})(lo);const xce=pa(cee);var tt={},I4;function Gf(){if(I4)return tt;I4=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.validateObject=tt.createHmacDrbg=tt.bitMask=tt.bitSet=tt.bitGet=tt.bitLen=tt.utf8ToBytes=tt.equalBytes=tt.concatBytes=tt.ensureBytes=tt.numberToVarBytesBE=tt.numberToBytesLE=tt.numberToBytesBE=tt.bytesToNumberLE=tt.bytesToNumberBE=tt.hexToBytes=tt.hexToNumber=tt.numberToHexUnpadded=tt.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=BigInt(0),e=BigInt(1),r=BigInt(2),n=U=>U instanceof Uint8Array,i=Array.from({length:256},(U,X)=>X.toString(16).padStart(2,"0"));function s(U){if(!n(U))throw new Error("Uint8Array expected");let X="";for(let B=0;B<U.length;B++)X+=i[U[B]];return X}tt.bytesToHex=s;function o(U){const X=U.toString(16);return X.length&1?`0${X}`:X}tt.numberToHexUnpadded=o;function a(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);return BigInt(U===""?"0":`0x${U}`)}tt.hexToNumber=a;function u(U){if(typeof U!="string")throw new Error("hex string expected, got "+typeof U);const X=U.length;if(X%2)throw new Error("padded hex string expected, got unpadded hex of length "+X);const B=new Uint8Array(X/2);for(let j=0;j<B.length;j++){const C=j*2,P=U.slice(C,C+2),O=Number.parseInt(P,16);if(Number.isNaN(O)||O<0)throw new Error("Invalid byte sequence");B[j]=O}return B}tt.hexToBytes=u;function l(U){return a(s(U))}tt.bytesToNumberBE=l;function c(U){if(!n(U))throw new Error("Uint8Array expected");return a(s(Uint8Array.from(U).reverse()))}tt.bytesToNumberLE=c;function f(U,X){return u(U.toString(16).padStart(X*2,"0"))}tt.numberToBytesBE=f;function p(U,X){return f(U,X).reverse()}tt.numberToBytesLE=p;function m(U){return u(o(U))}tt.numberToVarBytesBE=m;function y(U,X,B){let j;if(typeof X=="string")try{j=u(X)}catch(P){throw new Error(`${U} must be valid hex string, got "${X}". Cause: ${P}`)}else if(n(X))j=Uint8Array.from(X);else throw new Error(`${U} must be hex string or Uint8Array`);const C=j.length;if(typeof B=="number"&&C!==B)throw new Error(`${U} expected ${B} bytes, got ${C}`);return j}tt.ensureBytes=y;function g(...U){const X=new Uint8Array(U.reduce((j,C)=>j+C.length,0));let B=0;return U.forEach(j=>{if(!n(j))throw new Error("Uint8Array expected");X.set(j,B),B+=j.length}),X}tt.concatBytes=g;function b(U,X){if(U.length!==X.length)return!1;for(let B=0;B<U.length;B++)if(U[B]!==X[B])return!1;return!0}tt.equalBytes=b;function _(U){if(typeof U!="string")throw new Error(`utf8ToBytes expected string, got ${typeof U}`);return new Uint8Array(new TextEncoder().encode(U))}tt.utf8ToBytes=_;function w(U){let X;for(X=0;U>t;U>>=e,X+=1);return X}tt.bitLen=w;function E(U,X){return U>>BigInt(X)&e}tt.bitGet=E;const x=(U,X,B)=>U|(B?e:t)<<BigInt(X);tt.bitSet=x;const N=U=>(r<<BigInt(U-1))-e;tt.bitMask=N;const M=U=>new Uint8Array(U),R=U=>Uint8Array.from(U);function D(U,X,B){if(typeof U!="number"||U<2)throw new Error("hashLen must be a number");if(typeof X!="number"||X<2)throw new Error("qByteLen must be a number");if(typeof B!="function")throw new Error("hmacFn must be a function");let j=M(U),C=M(U),P=0;const O=()=>{j.fill(1),C.fill(0),P=0},k=(...q)=>B(C,j,...q),F=(q=M())=>{C=k(R([0]),q),j=k(),q.length!==0&&(C=k(R([1]),q),j=k())},$=()=>{if(P++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const ne=[];for(;q<X;){j=k();const re=j.slice();ne.push(re),q+=j.length}return g(...ne)};return(q,ne)=>{O(),F(q);let re;for(;!(re=ne($()));)F();return O(),re}}tt.createHmacDrbg=D;const W={bigint:U=>typeof U=="bigint",function:U=>typeof U=="function",boolean:U=>typeof U=="boolean",string:U=>typeof U=="string",stringOrUint8Array:U=>typeof U=="string"||U instanceof Uint8Array,isSafeInteger:U=>Number.isSafeInteger(U),array:U=>Array.isArray(U),field:(U,X)=>X.Fp.isValid(U),hash:U=>typeof U=="function"&&Number.isSafeInteger(U.outputLen)};function G(U,X,B={}){const j=(C,P,O)=>{const k=W[P];if(typeof k!="function")throw new Error(`Invalid validator "${P}", expected function`);const F=U[C];if(!(O&&F===void 0)&&!k(F,U))throw new Error(`Invalid param ${String(C)}=${F} (${typeof F}), expected ${P}`)};for(const[C,P]of Object.entries(X))j(C,P,!1);for(const[C,P]of Object.entries(B))j(C,P,!0);return U}return tt.validateObject=G,tt}const EE=pa(Ej);var yT={},Ke={},O4;function RP(){if(O4)return Ke;O4=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.mapHashToField=Ke.getMinHashLength=Ke.getFieldBytesLength=Ke.hashToPrivateScalar=Ke.FpSqrtEven=Ke.FpSqrtOdd=Ke.Field=Ke.nLength=Ke.FpIsSquare=Ke.FpDiv=Ke.FpInvertBatch=Ke.FpPow=Ke.validateField=Ke.isNegativeLE=Ke.FpSqrt=Ke.tonelliShanks=Ke.invert=Ke.pow2=Ke.pow=Ke.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Gf(),e=BigInt(0),r=BigInt(1),n=BigInt(2),i=BigInt(3),s=BigInt(4),o=BigInt(5),a=BigInt(8);BigInt(9),BigInt(16);function u(B,j){const C=B%j;return C>=e?C:j+C}Ke.mod=u;function l(B,j,C){if(C<=e||j<e)throw new Error("Expected power/modulo > 0");if(C===r)return e;let P=r;for(;j>e;)j&r&&(P=P*B%C),B=B*B%C,j>>=r;return P}Ke.pow=l;function c(B,j,C){let P=B;for(;j-- >e;)P*=P,P%=C;return P}Ke.pow2=c;function f(B,j){if(B===e||j<=e)throw new Error(`invert: expected positive integers, got n=${B} mod=${j}`);let C=u(B,j),P=j,O=e,k=r;for(;C!==e;){const $=P/C,z=P%C,q=O-k*$;P=C,C=z,O=k,k=q}if(P!==r)throw new Error("invert: does not exist");return u(O,j)}Ke.invert=f;function p(B){const j=(B-r)/n;let C,P,O;for(C=B-r,P=0;C%n===e;C/=n,P++);for(O=n;O<B&&l(O,j,B)!==B-r;O++);if(P===1){const F=(B+r)/s;return function(z,q){const ne=z.pow(q,F);if(!z.eql(z.sqr(ne),q))throw new Error("Cannot find square root");return ne}}const k=(C+r)/n;return function($,z){if($.pow(z,j)===$.neg($.ONE))throw new Error("Cannot find square root");let q=P,ne=$.pow($.mul($.ONE,O),C),re=$.pow(z,k),ae=$.pow(z,C);for(;!$.eql(ae,$.ONE);){if($.eql(ae,$.ZERO))return $.ZERO;let oe=1;for(let Pe=$.sqr(ae);oe<q&&!$.eql(Pe,$.ONE);oe++)Pe=$.sqr(Pe);const ve=$.pow(ne,r<<BigInt(q-oe-1));ne=$.sqr(ve),re=$.mul(re,ve),ae=$.mul(ae,ne),q=oe}return re}}Ke.tonelliShanks=p;function m(B){if(B%s===i){const j=(B+r)/s;return function(P,O){const k=P.pow(O,j);if(!P.eql(P.sqr(k),O))throw new Error("Cannot find square root");return k}}if(B%a===o){const j=(B-o)/a;return function(P,O){const k=P.mul(O,n),F=P.pow(k,j),$=P.mul(O,F),z=P.mul(P.mul($,n),F),q=P.mul($,P.sub(z,P.ONE));if(!P.eql(P.sqr(q),O))throw new Error("Cannot find square root");return q}}return p(B)}Ke.FpSqrt=m;const y=(B,j)=>(u(B,j)&r)===r;Ke.isNegativeLE=y;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(B){const j={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},C=g.reduce((P,O)=>(P[O]="function",P),j);return(0,t.validateObject)(B,C)}Ke.validateField=b;function _(B,j,C){if(C<e)throw new Error("Expected power > 0");if(C===e)return B.ONE;if(C===r)return j;let P=B.ONE,O=j;for(;C>e;)C&r&&(P=B.mul(P,O)),O=B.sqr(O),C>>=r;return P}Ke.FpPow=_;function w(B,j){const C=new Array(j.length),P=j.reduce((k,F,$)=>B.is0(F)?k:(C[$]=k,B.mul(k,F)),B.ONE),O=B.inv(P);return j.reduceRight((k,F,$)=>B.is0(F)?k:(C[$]=B.mul(k,C[$]),B.mul(k,F)),O),C}Ke.FpInvertBatch=w;function E(B,j,C){return B.mul(j,typeof C=="bigint"?f(C,B.ORDER):B.inv(C))}Ke.FpDiv=E;function x(B){const j=(B.ORDER-r)/n;return C=>{const P=B.pow(C,j);return B.eql(P,B.ZERO)||B.eql(P,B.ONE)}}Ke.FpIsSquare=x;function N(B,j){const C=j!==void 0?j:B.toString(2).length,P=Math.ceil(C/8);return{nBitLength:C,nByteLength:P}}Ke.nLength=N;function M(B,j,C=!1,P={}){if(B<=e)throw new Error(`Expected Field ORDER > 0, got ${B}`);const{nBitLength:O,nByteLength:k}=N(B,j);if(k>2048)throw new Error("Field lengths over 2048 bytes are not supported");const F=m(B),$=Object.freeze({ORDER:B,BITS:O,BYTES:k,MASK:(0,t.bitMask)(O),ZERO:e,ONE:r,create:z=>u(z,B),isValid:z=>{if(typeof z!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof z}`);return e<=z&&z<B},is0:z=>z===e,isOdd:z=>(z&r)===r,neg:z=>u(-z,B),eql:(z,q)=>z===q,sqr:z=>u(z*z,B),add:(z,q)=>u(z+q,B),sub:(z,q)=>u(z-q,B),mul:(z,q)=>u(z*q,B),pow:(z,q)=>_($,z,q),div:(z,q)=>u(z*f(q,B),B),sqrN:z=>z*z,addN:(z,q)=>z+q,subN:(z,q)=>z-q,mulN:(z,q)=>z*q,inv:z=>f(z,B),sqrt:P.sqrt||(z=>F($,z)),invertBatch:z=>w($,z),cmov:(z,q,ne)=>ne?q:z,toBytes:z=>C?(0,t.numberToBytesLE)(z,k):(0,t.numberToBytesBE)(z,k),fromBytes:z=>{if(z.length!==k)throw new Error(`Fp.fromBytes: expected ${k}, got ${z.length}`);return C?(0,t.bytesToNumberLE)(z):(0,t.bytesToNumberBE)(z)}});return Object.freeze($)}Ke.Field=M;function R(B,j){if(!B.isOdd)throw new Error("Field doesn't have isOdd");const C=B.sqrt(j);return B.isOdd(C)?C:B.neg(C)}Ke.FpSqrtOdd=R;function D(B,j){if(!B.isOdd)throw new Error("Field doesn't have isOdd");const C=B.sqrt(j);return B.isOdd(C)?B.neg(C):C}Ke.FpSqrtEven=D;function W(B,j,C=!1){B=(0,t.ensureBytes)("privateHash",B);const P=B.length,O=N(j).nByteLength+8;if(O<24||P<O||P>1024)throw new Error(`hashToPrivateScalar: expected ${O}-1024 bytes of input, got ${P}`);const k=C?(0,t.bytesToNumberLE)(B):(0,t.bytesToNumberBE)(B);return u(k,j-r)+r}Ke.hashToPrivateScalar=W;function G(B){if(typeof B!="bigint")throw new Error("field order must be bigint");const j=B.toString(2).length;return Math.ceil(j/8)}Ke.getFieldBytesLength=G;function U(B){const j=G(B);return j+Math.ceil(j/2)}Ke.getMinHashLength=U;function X(B,j,C=!1){const P=B.length,O=G(j),k=U(j);if(P<16||P<k||P>1024)throw new Error(`expected ${k}-1024 bytes of input, got ${P}`);const F=C?(0,t.bytesToNumberBE)(B):(0,t.bytesToNumberLE)(B),$=u(F,j-r)+r;return C?(0,t.numberToBytesLE)($,O):(0,t.numberToBytesBE)($,O)}return Ke.mapHashToField=X,Ke}var ic={},R4;function Sce(){if(R4)return ic;R4=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.validateBasic=ic.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=RP(),e=Gf(),r=BigInt(0),n=BigInt(1);function i(o,a){const u=(c,f)=>{const p=f.negate();return c?p:f},l=c=>{const f=Math.ceil(a/c)+1,p=2**(c-1);return{windows:f,windowSize:p}};return{constTimeNegate:u,unsafeLadder(c,f){let p=o.ZERO,m=c;for(;f>r;)f&n&&(p=p.add(m)),m=m.double(),f>>=n;return p},precomputeWindow(c,f){const{windows:p,windowSize:m}=l(f),y=[];let g=c,b=g;for(let _=0;_<p;_++){b=g,y.push(b);for(let w=1;w<m;w++)b=b.add(g),y.push(b);g=b.double()}return y},wNAF(c,f,p){const{windows:m,windowSize:y}=l(c);let g=o.ZERO,b=o.BASE;const _=BigInt(2**c-1),w=2**c,E=BigInt(c);for(let x=0;x<m;x++){const N=x*y;let M=Number(p&_);p>>=E,M>y&&(M-=w,p+=n);const R=N,D=N+Math.abs(M)-1,W=x%2!==0,G=M<0;M===0?b=b.add(u(W,f[R])):g=g.add(u(G,f[D]))}return{p:g,f:b}},wNAFCached(c,f,p,m){const y=c._WINDOW_SIZE||1;let g=f.get(c);return g||(g=this.precomputeWindow(c,y),y!==1&&f.set(c,m(g))),this.wNAF(y,g,p)}}}ic.wNAF=i;function s(o){return(0,t.validateField)(o.Fp),(0,e.validateObject)(o,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(o.n,o.nBitLength),...o,p:o.Fp.ORDER})}return ic.validateBasic=s,ic}var k4;function Ace(){return k4||(k4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=RP(),r=Gf(),n=Gf(),i=Sce();function s(w){const E=(0,i.validateBasic)(w);r.validateObject(E,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:x,Fp:N,a:M}=E;if(x){if(!N.eql(M,N.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof x!="object"||typeof x.beta!="bigint"||typeof x.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...E})}const{bytesToNumberBE:o,hexToBytes:a}=r;t.DER={Err:class extends Error{constructor(E=""){super(E)}},_parseInt(w){const{Err:E}=t.DER;if(w.length<2||w[0]!==2)throw new E("Invalid signature integer tag");const x=w[1],N=w.subarray(2,x+2);if(!x||N.length!==x)throw new E("Invalid signature integer: wrong length");if(N[0]&128)throw new E("Invalid signature integer: negative");if(N[0]===0&&!(N[1]&128))throw new E("Invalid signature integer: unnecessary leading zero");return{d:o(N),l:w.subarray(x+2)}},toSig(w){const{Err:E}=t.DER,x=typeof w=="string"?a(w):w;if(!(x instanceof Uint8Array))throw new Error("ui8a expected");let N=x.length;if(N<2||x[0]!=48)throw new E("Invalid signature tag");if(x[1]!==N-2)throw new E("Invalid signature: incorrect length");const{d:M,l:R}=t.DER._parseInt(x.subarray(2)),{d:D,l:W}=t.DER._parseInt(R);if(W.length)throw new E("Invalid signature: left bytes after parsing");return{r:M,s:D}},hexFromSig(w){const E=U=>Number.parseInt(U[0],16)&8?"00"+U:U,x=U=>{const X=U.toString(16);return X.length&1?`0${X}`:X},N=E(x(w.s)),M=E(x(w.r)),R=N.length/2,D=M.length/2,W=x(R),G=x(D);return`30${x(D+R+4)}02${G}${M}02${W}${N}`}};const u=BigInt(0),l=BigInt(1),c=BigInt(2),f=BigInt(3),p=BigInt(4);function m(w){const E=s(w),{Fp:x}=E,N=E.toBytes||((P,O,k)=>{const F=O.toAffine();return r.concatBytes(Uint8Array.from([4]),x.toBytes(F.x),x.toBytes(F.y))}),M=E.fromBytes||(P=>{const O=P.subarray(1),k=x.fromBytes(O.subarray(0,x.BYTES)),F=x.fromBytes(O.subarray(x.BYTES,2*x.BYTES));return{x:k,y:F}});function R(P){const{a:O,b:k}=E,F=x.sqr(P),$=x.mul(F,P);return x.add(x.add($,x.mul(P,O)),k)}if(!x.eql(x.sqr(E.Gy),R(E.Gx)))throw new Error("bad generator point: equation left != right");function D(P){return typeof P=="bigint"&&u<P&&P<E.n}function W(P){if(!D(P))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function G(P){const{allowedPrivateKeyLengths:O,nByteLength:k,wrapPrivateKey:F,n:$}=E;if(O&&typeof P!="bigint"){if(P instanceof Uint8Array&&(P=r.bytesToHex(P)),typeof P!="string"||!O.includes(P.length))throw new Error("Invalid key");P=P.padStart(k*2,"0")}let z;try{z=typeof P=="bigint"?P:r.bytesToNumberBE((0,n.ensureBytes)("private key",P,k))}catch{throw new Error(`private key must be ${k} bytes, hex or bigint, not ${typeof P}`)}return F&&(z=e.mod(z,$)),W(z),z}const U=new Map;function X(P){if(!(P instanceof B))throw new Error("ProjectivePoint expected")}class B{constructor(O,k,F){if(this.px=O,this.py=k,this.pz=F,O==null||!x.isValid(O))throw new Error("x required");if(k==null||!x.isValid(k))throw new Error("y required");if(F==null||!x.isValid(F))throw new Error("z required")}static fromAffine(O){const{x:k,y:F}=O||{};if(!O||!x.isValid(k)||!x.isValid(F))throw new Error("invalid affine point");if(O instanceof B)throw new Error("projective point not allowed");const $=z=>x.eql(z,x.ZERO);return $(k)&&$(F)?B.ZERO:new B(k,F,x.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const k=x.invertBatch(O.map(F=>F.pz));return O.map((F,$)=>F.toAffine(k[$])).map(B.fromAffine)}static fromHex(O){const k=B.fromAffine(M((0,n.ensureBytes)("pointHex",O)));return k.assertValidity(),k}static fromPrivateKey(O){return B.BASE.multiply(G(O))}_setWindowSize(O){this._WINDOW_SIZE=O,U.delete(this)}assertValidity(){if(this.is0()){if(E.allowInfinityPoint&&!x.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:O,y:k}=this.toAffine();if(!x.isValid(O)||!x.isValid(k))throw new Error("bad point: x or y not FE");const F=x.sqr(k),$=R(O);if(!x.eql(F,$))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(x.isOdd)return!x.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){X(O);const{px:k,py:F,pz:$}=this,{px:z,py:q,pz:ne}=O,re=x.eql(x.mul(k,ne),x.mul(z,$)),ae=x.eql(x.mul(F,ne),x.mul(q,$));return re&&ae}negate(){return new B(this.px,x.neg(this.py),this.pz)}double(){const{a:O,b:k}=E,F=x.mul(k,f),{px:$,py:z,pz:q}=this;let ne=x.ZERO,re=x.ZERO,ae=x.ZERO,oe=x.mul($,$),ve=x.mul(z,z),Pe=x.mul(q,q),_e=x.mul($,z);return _e=x.add(_e,_e),ae=x.mul($,q),ae=x.add(ae,ae),ne=x.mul(O,ae),re=x.mul(F,Pe),re=x.add(ne,re),ne=x.sub(ve,re),re=x.add(ve,re),re=x.mul(ne,re),ne=x.mul(_e,ne),ae=x.mul(F,ae),Pe=x.mul(O,Pe),_e=x.sub(oe,Pe),_e=x.mul(O,_e),_e=x.add(_e,ae),ae=x.add(oe,oe),oe=x.add(ae,oe),oe=x.add(oe,Pe),oe=x.mul(oe,_e),re=x.add(re,oe),Pe=x.mul(z,q),Pe=x.add(Pe,Pe),oe=x.mul(Pe,_e),ne=x.sub(ne,oe),ae=x.mul(Pe,ve),ae=x.add(ae,ae),ae=x.add(ae,ae),new B(ne,re,ae)}add(O){X(O);const{px:k,py:F,pz:$}=this,{px:z,py:q,pz:ne}=O;let re=x.ZERO,ae=x.ZERO,oe=x.ZERO;const ve=E.a,Pe=x.mul(E.b,f);let _e=x.mul(k,z),Ne=x.mul(F,q),Ce=x.mul($,ne),De=x.add(k,F),te=x.add(z,q);De=x.mul(De,te),te=x.add(_e,Ne),De=x.sub(De,te),te=x.add(k,$);let de=x.add(z,ne);return te=x.mul(te,de),de=x.add(_e,Ce),te=x.sub(te,de),de=x.add(F,$),re=x.add(q,ne),de=x.mul(de,re),re=x.add(Ne,Ce),de=x.sub(de,re),oe=x.mul(ve,te),re=x.mul(Pe,Ce),oe=x.add(re,oe),re=x.sub(Ne,oe),oe=x.add(Ne,oe),ae=x.mul(re,oe),Ne=x.add(_e,_e),Ne=x.add(Ne,_e),Ce=x.mul(ve,Ce),te=x.mul(Pe,te),Ne=x.add(Ne,Ce),Ce=x.sub(_e,Ce),Ce=x.mul(ve,Ce),te=x.add(te,Ce),_e=x.mul(Ne,te),ae=x.add(ae,_e),_e=x.mul(de,te),re=x.mul(De,re),re=x.sub(re,_e),_e=x.mul(De,Ne),oe=x.mul(de,oe),oe=x.add(oe,_e),new B(re,ae,oe)}subtract(O){return this.add(O.negate())}is0(){return this.equals(B.ZERO)}wNAF(O){return C.wNAFCached(this,U,O,k=>{const F=x.invertBatch(k.map($=>$.pz));return k.map(($,z)=>$.toAffine(F[z])).map(B.fromAffine)})}multiplyUnsafe(O){const k=B.ZERO;if(O===u)return k;if(W(O),O===l)return this;const{endo:F}=E;if(!F)return C.unsafeLadder(this,O);let{k1neg:$,k1:z,k2neg:q,k2:ne}=F.splitScalar(O),re=k,ae=k,oe=this;for(;z>u||ne>u;)z&l&&(re=re.add(oe)),ne&l&&(ae=ae.add(oe)),oe=oe.double(),z>>=l,ne>>=l;return $&&(re=re.negate()),q&&(ae=ae.negate()),ae=new B(x.mul(ae.px,F.beta),ae.py,ae.pz),re.add(ae)}multiply(O){W(O);let k=O,F,$;const{endo:z}=E;if(z){const{k1neg:q,k1:ne,k2neg:re,k2:ae}=z.splitScalar(k);let{p:oe,f:ve}=this.wNAF(ne),{p:Pe,f:_e}=this.wNAF(ae);oe=C.constTimeNegate(q,oe),Pe=C.constTimeNegate(re,Pe),Pe=new B(x.mul(Pe.px,z.beta),Pe.py,Pe.pz),F=oe.add(Pe),$=ve.add(_e)}else{const{p:q,f:ne}=this.wNAF(k);F=q,$=ne}return B.normalizeZ([F,$])[0]}multiplyAndAddUnsafe(O,k,F){const $=B.BASE,z=(ne,re)=>re===u||re===l||!ne.equals($)?ne.multiplyUnsafe(re):ne.multiply(re),q=z(this,k).add(z(O,F));return q.is0()?void 0:q}toAffine(O){const{px:k,py:F,pz:$}=this,z=this.is0();O==null&&(O=z?x.ONE:x.inv($));const q=x.mul(k,O),ne=x.mul(F,O),re=x.mul($,O);if(z)return{x:x.ZERO,y:x.ZERO};if(!x.eql(re,x.ONE))throw new Error("invZ was invalid");return{x:q,y:ne}}isTorsionFree(){const{h:O,isTorsionFree:k}=E;if(O===l)return!0;if(k)return k(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:k}=E;return O===l?this:k?k(B,this):this.multiplyUnsafe(E.h)}toRawBytes(O=!0){return this.assertValidity(),N(B,this,O)}toHex(O=!0){return r.bytesToHex(this.toRawBytes(O))}}B.BASE=new B(E.Gx,E.Gy,x.ONE),B.ZERO=new B(x.ZERO,x.ONE,x.ZERO);const j=E.nBitLength,C=(0,i.wNAF)(B,E.endo?Math.ceil(j/2):j);return{CURVE:E,ProjectivePoint:B,normPrivateKeyToScalar:G,weierstrassEquation:R,isWithinCurveOrder:D}}t.weierstrassPoints=m;function y(w){const E=(0,i.validateBasic)(w);return r.validateObject(E,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...E})}function g(w){const E=y(w),{Fp:x,n:N}=E,M=x.BYTES+1,R=2*x.BYTES+1;function D(te){return u<te&&te<x.ORDER}function W(te){return e.mod(te,N)}function G(te){return e.invert(te,N)}const{ProjectivePoint:U,normPrivateKeyToScalar:X,weierstrassEquation:B,isWithinCurveOrder:j}=m({...E,toBytes(te,de,ke){const We=de.toAffine(),Qe=x.toBytes(We.x),ht=r.concatBytes;return ke?ht(Uint8Array.from([de.hasEvenY()?2:3]),Qe):ht(Uint8Array.from([4]),Qe,x.toBytes(We.y))},fromBytes(te){const de=te.length,ke=te[0],We=te.subarray(1);if(de===M&&(ke===2||ke===3)){const Qe=r.bytesToNumberBE(We);if(!D(Qe))throw new Error("Point is not on curve");const ht=B(Qe);let Kt=x.sqrt(ht);const Lt=(Kt&l)===l;return(ke&1)===1!==Lt&&(Kt=x.neg(Kt)),{x:Qe,y:Kt}}else if(de===R&&ke===4){const Qe=x.fromBytes(We.subarray(0,x.BYTES)),ht=x.fromBytes(We.subarray(x.BYTES,2*x.BYTES));return{x:Qe,y:ht}}else throw new Error(`Point of length ${de} was invalid. Expected ${M} compressed bytes or ${R} uncompressed bytes`)}}),C=te=>r.bytesToHex(r.numberToBytesBE(te,E.nByteLength));function P(te){const de=N>>l;return te>de}function O(te){return P(te)?W(-te):te}const k=(te,de,ke)=>r.bytesToNumberBE(te.slice(de,ke));class F{constructor(de,ke,We){this.r=de,this.s=ke,this.recovery=We,this.assertValidity()}static fromCompact(de){const ke=E.nByteLength;return de=(0,n.ensureBytes)("compactSignature",de,ke*2),new F(k(de,0,ke),k(de,ke,2*ke))}static fromDER(de){const{r:ke,s:We}=t.DER.toSig((0,n.ensureBytes)("DER",de));return new F(ke,We)}assertValidity(){if(!j(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!j(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(de){return new F(this.r,this.s,de)}recoverPublicKey(de){const{r:ke,s:We,recovery:Qe}=this,ht=ae((0,n.ensureBytes)("msgHash",de));if(Qe==null||![0,1,2,3].includes(Qe))throw new Error("recovery id invalid");const Kt=Qe===2||Qe===3?ke+E.n:ke;if(Kt>=x.ORDER)throw new Error("recovery id 2 or 3 invalid");const Lt=Qe&1?"03":"02",An=U.fromHex(Lt+C(Kt)),Tn=G(Kt),bs=W(-ht*Tn),Xr=W(We*Tn),Cn=U.BASE.multiplyAndAddUnsafe(An,bs,Xr);if(!Cn)throw new Error("point at infinify");return Cn.assertValidity(),Cn}hasHighS(){return P(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,W(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return C(this.r)+C(this.s)}}const $={isValidPrivateKey(te){try{return X(te),!0}catch{return!1}},normPrivateKeyToScalar:X,randomPrivateKey:()=>{const te=e.getMinHashLength(E.n);return e.mapHashToField(E.randomBytes(te),E.n)},precompute(te=8,de=U.BASE){return de._setWindowSize(te),de.multiply(BigInt(3)),de}};function z(te,de=!0){return U.fromPrivateKey(te).toRawBytes(de)}function q(te){const de=te instanceof Uint8Array,ke=typeof te=="string",We=(de||ke)&&te.length;return de?We===M||We===R:ke?We===2*M||We===2*R:te instanceof U}function ne(te,de,ke=!0){if(q(te))throw new Error("first arg must be private key");if(!q(de))throw new Error("second arg must be public key");return U.fromHex(de).multiply(X(te)).toRawBytes(ke)}const re=E.bits2int||function(te){const de=r.bytesToNumberBE(te),ke=te.length*8-E.nBitLength;return ke>0?de>>BigInt(ke):de},ae=E.bits2int_modN||function(te){return W(re(te))},oe=r.bitMask(E.nBitLength);function ve(te){if(typeof te!="bigint")throw new Error("bigint expected");if(!(u<=te&&te<oe))throw new Error(`bigint expected < 2^${E.nBitLength}`);return r.numberToBytesBE(te,E.nByteLength)}function Pe(te,de,ke=_e){if(["recovered","canonical"].some(je=>je in ke))throw new Error("sign() legacy options not supported");const{hash:We,randomBytes:Qe}=E;let{lowS:ht,prehash:Kt,extraEntropy:Lt}=ke;ht==null&&(ht=!0),te=(0,n.ensureBytes)("msgHash",te),Kt&&(te=(0,n.ensureBytes)("prehashed msgHash",We(te)));const An=ae(te),Tn=X(de),bs=[ve(Tn),ve(An)];if(Lt!=null){const je=Lt===!0?Qe(x.BYTES):Lt;bs.push((0,n.ensureBytes)("extraEntropy",je))}const Xr=r.concatBytes(...bs),Cn=An;function Wl(je){const yo=re(je);if(!j(yo))return;const ql=G(yo),ws=U.BASE.multiply(yo).toAffine(),In=W(ws.x);if(In===u)return;const go=W(ql*W(Cn+In*Tn));if(go===u)return;let Zl=(ws.x===In?0:2)|Number(ws.y&l),qh=go;return ht&&P(go)&&(qh=O(go),Zl^=1),new F(In,qh,Zl)}return{seed:Xr,k2sig:Wl}}const _e={lowS:E.lowS,prehash:!1},Ne={lowS:E.lowS,prehash:!1};function Ce(te,de,ke=_e){const{seed:We,k2sig:Qe}=Pe(te,de,ke),ht=E;return r.createHmacDrbg(ht.hash.outputLen,ht.nByteLength,ht.hmac)(We,Qe)}U.BASE._setWindowSize(8);function De(te,de,ke,We=Ne){var ws;const Qe=te;if(de=(0,n.ensureBytes)("msgHash",de),ke=(0,n.ensureBytes)("publicKey",ke),"strict"in We)throw new Error("options.strict was renamed to lowS");const{lowS:ht,prehash:Kt}=We;let Lt,An;try{if(typeof Qe=="string"||Qe instanceof Uint8Array)try{Lt=F.fromDER(Qe)}catch(In){if(!(In instanceof t.DER.Err))throw In;Lt=F.fromCompact(Qe)}else if(typeof Qe=="object"&&typeof Qe.r=="bigint"&&typeof Qe.s=="bigint"){const{r:In,s:go}=Qe;Lt=new F(In,go)}else throw new Error("PARSE");An=U.fromHex(ke)}catch(In){if(In.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ht&&Lt.hasHighS())return!1;Kt&&(de=E.hash(de));const{r:Tn,s:bs}=Lt,Xr=ae(de),Cn=G(bs),Wl=W(Xr*Cn),je=W(Tn*Cn),yo=(ws=U.BASE.multiplyAndAddUnsafe(An,Wl,je))==null?void 0:ws.toAffine();return yo?W(yo.x)===Tn:!1}return{CURVE:E,getPublicKey:z,getSharedSecret:ne,sign:Ce,verify:De,ProjectivePoint:U,Signature:F,utils:$}}t.weierstrass=g;function b(w,E){const x=w.ORDER;let N=u;for(let P=x-l;P%c===u;P/=c)N+=l;const M=N,R=c<<M-l-l,D=R*c,W=(x-l)/D,G=(W-l)/c,U=D-l,X=R,B=w.pow(E,W),j=w.pow(E,(W+l)/c);let C=(P,O)=>{let k=B,F=w.pow(O,U),$=w.sqr(F);$=w.mul($,O);let z=w.mul(P,$);z=w.pow(z,G),z=w.mul(z,F),F=w.mul(z,O),$=w.mul(z,P);let q=w.mul($,F);z=w.pow(q,X);let ne=w.eql(z,w.ONE);F=w.mul($,j),z=w.mul(q,k),$=w.cmov(F,$,ne),q=w.cmov(z,q,ne);for(let re=M;re>l;re--){let ae=re-c;ae=c<<ae-l;let oe=w.pow(q,ae);const ve=w.eql(oe,w.ONE);F=w.mul($,k),k=w.mul(k,k),oe=w.mul(q,k),$=w.cmov(F,$,ve),q=w.cmov(oe,q,ve)}return{isValid:ne,value:$}};if(w.ORDER%p===f){const P=(w.ORDER-f)/p,O=w.sqrt(w.neg(E));C=(k,F)=>{let $=w.sqr(F);const z=w.mul(k,F);$=w.mul($,z);let q=w.pow($,P);q=w.mul(q,z);const ne=w.mul(q,O),re=w.mul(w.sqr(q),F),ae=w.eql(re,k);let oe=w.cmov(ne,q,ae);return{isValid:ae,value:oe}}}return C}t.SWUFpSqrtRatio=b;function _(w,E){if(e.validateField(w),!w.isValid(E.A)||!w.isValid(E.B)||!w.isValid(E.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const x=b(w,E.Z);if(!w.isOdd)throw new Error("Fp.isOdd is not implemented!");return N=>{let M,R,D,W,G,U,X,B;M=w.sqr(N),M=w.mul(M,E.Z),R=w.sqr(M),R=w.add(R,M),D=w.add(R,w.ONE),D=w.mul(D,E.B),W=w.cmov(E.Z,w.neg(R),!w.eql(R,w.ZERO)),W=w.mul(W,E.A),R=w.sqr(D),U=w.sqr(W),G=w.mul(U,E.A),R=w.add(R,G),R=w.mul(R,D),U=w.mul(U,W),G=w.mul(U,E.B),R=w.add(R,G),X=w.mul(M,D);const{isValid:j,value:C}=x(R,U);B=w.mul(M,N),B=w.mul(B,C),X=w.cmov(X,D,j),B=w.cmov(B,C,j);const P=w.isOdd(N)===w.isOdd(B);return B=w.cmov(w.neg(B),B,P),X=w.div(X,W),{x:X,y:B}}}t.mapToCurveSimpleSWU=_}(yT)),yT}const Tce=pa(Xre);var Ta={},P4;function Cce(){if(P4)return Ta;P4=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.poseidon=Ta.splitConstants=Ta.validateOpts=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=RP();function e(i){const{Fp:s,mds:o,reversePartialPowIdx:a,roundConstants:u}=i,{roundsFull:l,roundsPartial:c,sboxPower:f,t:p}=i;(0,t.validateField)(s);for(const w of["t","roundsFull","roundsPartial"])if(typeof i[w]!="number"||!Number.isSafeInteger(i[w]))throw new Error(`Poseidon: invalid param ${w}=${i[w]} (${typeof i[w]})`);if(!Array.isArray(o)||o.length!==p)throw new Error("Poseidon: wrong MDS matrix");const m=o.map(w=>{if(!Array.isArray(w)||w.length!==p)throw new Error(`Poseidon MDS matrix row: ${w}`);return w.map(E=>{if(typeof E!="bigint")throw new Error(`Poseidon MDS matrix value=${E}`);return s.create(E)})});if(a!==void 0&&typeof a!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${a}`);if(l%2!==0)throw new Error(`Poseidon roundsFull is not even: ${l}`);const y=l+c;if(!Array.isArray(u)||u.length!==y)throw new Error("Poseidon: wrong round constants");const g=u.map(w=>{if(!Array.isArray(w)||w.length!==p)throw new Error(`Poseidon wrong round constants: ${w}`);return w.map(E=>{if(typeof E!="bigint"||!s.isValid(E))throw new Error(`Poseidon wrong round constant=${E}`);return s.create(E)})});if(!f||![3,5,7].includes(f))throw new Error(`Poseidon wrong sboxPower=${f}`);const b=BigInt(f);let _=w=>(0,t.FpPow)(s,w,b);return f===3?_=w=>s.mul(s.sqrN(w),w):f===5&&(_=w=>s.mul(s.sqrN(s.sqrN(w)),w)),Object.freeze({...i,rounds:y,sboxFn:_,roundConstants:g,mds:m})}Ta.validateOpts=e;function r(i,s){if(typeof s!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(i)||i.length%s)throw new Error("poseidonSplitConstants: wrong rc");const o=[];let a=[];for(let u=0;u<i.length;u++)a.push(i[u]),a.length===s&&(o.push(a),a=[]);return o}Ta.splitConstants=r;function n(i){const s=e(i),{Fp:o,mds:a,roundConstants:u,rounds:l,roundsPartial:c,sboxFn:f,t:p}=s,m=s.roundsFull/2,y=s.reversePartialPowIdx?p-1:0,g=(_,w,E)=>(_=_.map((x,N)=>o.add(x,u[E][N])),w?_=_.map(x=>f(x)):_[y]=f(_[y]),_=a.map(x=>x.reduce((N,M,R)=>o.add(N,o.mulN(M,_[R])),o.ZERO)),_),b=function(w){if(!Array.isArray(w)||w.length!==p)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${p})`);w=w.map(x=>{if(typeof x!="bigint")throw new Error(`Poseidon: wrong value=${x} (${typeof x})`);return o.create(x)});let E=0;for(let x=0;x<m;x++)w=g(w,!0,E++);for(let x=0;x<c;x++)w=g(w,!1,E++);for(let x=0;x<m;x++)w=g(w,!0,E++);if(E!==l)throw new Error(`Poseidon: wrong number of rounds: last round=${E}, total=${l}`);return w};return b.roundConstants=u,b}return Ta.poseidon=n,Ta}const Ice=pa(zse);var Oce=Object.create,xE=Object.defineProperty,Rce=Object.getOwnPropertyDescriptor,kce=Object.getOwnPropertyNames,Pce=Object.getPrototypeOf,Nce=Object.prototype.hasOwnProperty,xr=(t,e)=>{for(var r in e)xE(t,r,{get:e[r],enumerable:!0})},CV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kce(e))!Nce.call(t,i)&&i!==r&&xE(t,i,{get:()=>e[i],enumerable:!(n=Rce(e,i))||n.enumerable});return t},Ph=(t,e,r)=>(r=t!=null?Oce(Pce(t)):{},CV(e||!t||!t.__esModule?xE(r,"default",{value:t,enumerable:!0}):r,t)),Mce=t=>CV(xE({},"__esModule",{value:!0}),t),IV={};xr(IV,{Account:()=>khe,AccountInterface:()=>Phe,BlockStatus:()=>VP,BlockTag:()=>TE,CairoCustomEnum:()=>aN,CairoOption:()=>U1,CairoOptionVariant:()=>uN,CairoResult:()=>j1,CairoResultVariant:()=>lN,CallData:()=>yt,Contract:()=>p2,ContractFactory:()=>Lhe,ContractInterface:()=>Bhe,CustomError:()=>Y7,EntryPointType:()=>FP,GatewayError:()=>Q7,HttpError:()=>K7,LibraryError:()=>xl,Litteral:()=>AE,Provider:()=>DE,ProviderInterface:()=>g9,RPC:()=>ti,RpcProvider:()=>Rb,SIMULATION_FLAG:()=>LP,Sequencer:()=>o7,SequencerProvider:()=>wg,Signer:()=>m9,SignerInterface:()=>Ahe,TransactionExecutionStatus:()=>HP,TransactionFinalityStatus:()=>zP,TransactionStatus:()=>jP,TransactionType:()=>UP,Uint:()=>SE,ValidateType:()=>$P,addAddressPadding:()=>x9,buildUrl:()=>Od,cairo:()=>tN,constants:()=>OV,contractClassResponseToLegacyCompiledContract:()=>fhe,defaultProvider:()=>v9,ec:()=>P7,encode:()=>RV,events:()=>_9,extractContractHashes:()=>Ob,fixProto:()=>X7,fixStack:()=>Z7,getCalldata:()=>ef,getChecksumAddress:()=>A9,getDefaultNodeUrl:()=>f2,hash:()=>k7,isSierra:()=>di,isUrl:()=>n9,json:()=>N7,merkle:()=>u9,num:()=>GP,number:()=>Uhe,parseUDCEvent:()=>y9,provider:()=>W7,selector:()=>p7,shortString:()=>y7,splitArgsAndOptions:()=>BE,stark:()=>H7,starknetId:()=>J7,transaction:()=>i9,typedData:()=>a9,types:()=>KV,uint256:()=>v7,validateAndParseAddress:()=>S9,validateChecksumAddress:()=>Fhe});var Nh=Mce(IV),OV={};xr(OV,{ADDR_BOUND:()=>DP,API_VERSION:()=>GV,BN_FEE_TRANSACTION_VERSION_1:()=>zV,BN_FEE_TRANSACTION_VERSION_2:()=>HV,BN_TRANSACTION_VERSION_1:()=>NP,BN_TRANSACTION_VERSION_2:()=>MP,BaseUrl:()=>qV,HEX_STR_TRANSACTION_VERSION_1:()=>UV,HEX_STR_TRANSACTION_VERSION_2:()=>jV,IS_BROWSER:()=>PV,MASK_250:()=>VV,MAX_STORAGE_ITEM_SIZE:()=>WV,NetworkName:()=>BP,RPC_GOERLI_NODES:()=>YV,RPC_MAINNET_NODES:()=>QV,StarknetChainId:()=>ZV,TEXT_TO_FELT_MAX_LEN:()=>PP,TransactionHashPrefix:()=>XV,UDC:()=>wc,ZERO:()=>ri});var RV={};xr(RV,{IS_BROWSER:()=>PV,addHexPrefix:()=>ln,arrayBufferToString:()=>NV,atobUniversal:()=>MV,btoaUniversal:()=>DV,buf2hex:()=>BV,calcByteLength:()=>$V,padLeft:()=>LV,pascalToSnake:()=>$ce,removeHexPrefix:()=>eu,sanitizeBytes:()=>FV,sanitizeHex:()=>Lce,stringToArrayBuffer:()=>Dce,utf8ToArray:()=>Rp});var kV=xce,PV=typeof window<"u",kP="0";function NV(t){return new Uint8Array(t).reduce((e,r)=>e+String.fromCharCode(r),"")}function Rp(t){return new TextEncoder().encode(t)}function Dce(t){return Rp(t)}function MV(t){return kV.base64.decode(t)}function DV(t){return kV.base64.encode(new Uint8Array(t))}function BV(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function eu(t){return t.replace(/^0x/i,"")}function ln(t){return`0x${eu(t)}`}function Bce(t,e,r,n=kP){const i=e-t.length;let s=t;if(i>0){const o=n.repeat(i);s=r?o+t:t+o}return s}function LV(t,e,r=kP){return Bce(t,e,!0,r)}function $V(t,e=8){const{length:r}=t,n=r%e;return n?(r-n)/e*e+e:r}function FV(t,e=8,r=kP){return LV(t,$V(t,e),r)}function Lce(t){return t=eu(t),t=FV(t,2),t&&(t=ln(t)),t}var $ce=t=>/[a-z]/.test(t)?t.split(/(?=[A-Z])/).join("_").toUpperCase():t,PP=31,UV="0x1",jV="0x2",NP=1n,MP=2n,zV=2n**128n+NP,HV=2n**128n+MP,ri=0n,VV=2n**250n-1n,GV=ri,WV=256n,DP=2n**251n-WV,qV=(t=>(t.SN_MAIN="https://alpha-mainnet.starknet.io",t.SN_GOERLI="https://alpha4.starknet.io",t))(qV||{}),BP=(t=>(t.SN_MAIN="SN_MAIN",t.SN_GOERLI="SN_GOERLI",t))(BP||{}),ZV=(t=>(t.SN_MAIN="0x534e5f4d41494e",t.SN_GOERLI="0x534e5f474f45524c49",t))(ZV||{}),XV=(t=>(t.DECLARE="0x6465636c617265",t.DEPLOY="0x6465706c6f79",t.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",t.INVOKE="0x696e766f6b65",t.L1_HANDLER="0x6c315f68616e646c6572",t))(XV||{}),wc={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},YV=["https://starknet-testnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/goerli-juno/v0_5"],QV=["https://starknet-mainnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/mainnet-juno/v0_5"],KV={};xr(KV,{BlockStatus:()=>VP,BlockTag:()=>TE,EntryPointType:()=>FP,Litteral:()=>AE,RPC:()=>ti,SIMULATION_FLAG:()=>LP,Sequencer:()=>o7,TransactionExecutionStatus:()=>HP,TransactionFinalityStatus:()=>zP,TransactionStatus:()=>jP,TransactionType:()=>UP,Uint:()=>SE,ValidateType:()=>$P});var LP=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_EXECUTE="SKIP_EXECUTE",t))(LP||{}),$P=(t=>(t.DEPLOY="DEPLOY",t.CALL="CALL",t.INVOKE="INVOKE",t))($P||{}),SE=(t=>(t.u8="core::integer::u8",t.u16="core::integer::u16",t.u32="core::integer::u32",t.u64="core::integer::u64",t.u128="core::integer::u128",t.u256="core::integer::u256",t))(SE||{}),AE=(t=>(t.ClassHash="core::starknet::class_hash::ClassHash",t.ContractAddress="core::starknet::contract_address::ContractAddress",t))(AE||{}),FP=(t=>(t.EXTERNAL="EXTERNAL",t.L1_HANDLER="L1_HANDLER",t.CONSTRUCTOR="CONSTRUCTOR",t))(FP||{}),UP=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE_FUNCTION",t))(UP||{}),jP=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.REJECTED="REJECTED",t.REVERTED="REVERTED",t))(jP||{}),zP=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(zP||{}),HP=(t=>(t.REJECTED="REJECTED",t.REVERTED="REVERTED",t.SUCCEEDED="SUCCEEDED",t))(HP||{}),VP=(t=>(t.PENDING="PENDING",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.REJECTED="REJECTED",t))(VP||{}),TE=(t=>(t.pending="pending",t.latest="latest",t))(TE||{}),ti={};xr(ti,{EBlockTag:()=>i7,EDataAvailabilityMode:()=>s7,ESimulationFlag:()=>e7,ETransactionExecutionStatus:()=>n7,ETransactionFinalityStatus:()=>r7,ETransactionStatus:()=>t7,ETransactionType:()=>JV,Errors:()=>Uce,JRPC:()=>Fce,SPEC:()=>jce});var Fce={},Uce={},jce={},JV=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE",t.L1_HANDLER="L1_HANDLER",t))(JV||{}),e7=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",t))(e7||{}),t7=(t=>(t.RECEIVED="RECEIVED",t.REJECTED="REJECTED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(t7||{}),r7=(t=>(t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(r7||{}),n7=(t=>(t.SUCCEEDED="SUCCEEDED",t.REVERTED="REVERTED",t))(n7||{}),i7=(t=>(t.LATEST="latest",t.PENDING="pending",t))(i7||{}),s7=(t=>(t.L1="L1",t.L2="L2",t))(s7||{}),o7={};function Pt(t,e){if(!t)throw new Error(e||"Assertion failure")}var GP={};xr(GP,{assertInRange:()=>l7,bigNumberishArrayToDecimalStringArray:()=>c7,bigNumberishArrayToHexadecimalStringArray:()=>h7,cleanHex:()=>gg,getDecimalString:()=>d7,getHexString:()=>qP,getHexStringArray:()=>ZP,hexToBytes:()=>f7,hexToDecimalString:()=>u7,isBigInt:()=>CE,isHex:()=>ho,isStringWholeNumber:()=>kp,toBigInt:()=>Ze,toCairoBool:()=>u2,toHex:()=>xe,toHexString:()=>WP,toStorageKey:()=>a7});var zce=Gf();function ho(t){return/^0x[0-9a-f]*$/i.test(t)}function Ze(t){return BigInt(t)}function CE(t){return typeof t=="bigint"}function xe(t){return ln(Ze(t).toString(16))}var WP=xe;function a7(t){return ln(Ze(t).toString(16).padStart(64,"0"))}function u7(t){return BigInt(ln(t)).toString(10)}var gg=t=>t.toLowerCase().replace(/^(0x)0+/,"$1");function l7(t,e,r,n=""){const i=n===""?"invalid length":`invalid ${n} length`,s=BigInt(t),o=BigInt(e),a=BigInt(r);Pt(s>=o&&s<=a,`Message not signable, ${i}.`)}function c7(t){return t.map(e=>Ze(e).toString(10))}function h7(t){return t.map(e=>xe(e))}var kp=t=>/^\d+$/.test(t);function d7(t){if(ho(t))return u7(t);if(kp(t))return t;throw new Error(`${t} need to be hex-string or whole-number-string`)}function qP(t){if(ho(t))return t;if(kp(t))return WP(t);throw new Error(`${t} need to be hex-string or whole-number-string`)}function ZP(t){return t.map(e=>qP(e))}var u2=t=>(+t).toString();function f7(t){if(!ho(t))throw new Error(`${t} need to be a hex-string`);let e=eu(t);return e.length%2!==0&&(e=`0${e}`),(0,zce.hexToBytes)(e)}var p7={};xr(p7,{getSelector:()=>IE,getSelectorFromName:()=>fo,keccakBn:()=>XP,starknetKeccak:()=>YP});var m7=EE;function XP(t){const e=eu(xe(BigInt(t))),r=e.length%2===0?e:`0${e}`;return ln((0,m7.keccak)(f7(ln(r))).toString(16))}function Hce(t){return ln((0,m7.keccak)(Rp(t)).toString(16))}function YP(t){return BigInt(Hce(t))&VV}function fo(t){return xe(YP(t))}function IE(t){return ho(t)?t:kp(t)?WP(t):fo(t)}var y7={};xr(y7,{decodeShortString:()=>eN,encodeShortString:()=>Ll,isASCII:()=>QP,isDecimalString:()=>g7,isLongText:()=>KP,isShortString:()=>mv,isShortText:()=>Vce,isText:()=>yv,splitLongString:()=>JP});function QP(t){return/^[\x00-\x7F]*$/.test(t)}function mv(t){return t.length<=PP}function g7(t){return/^[0-9]*$/i.test(t)}function yv(t){return typeof t=="string"&&!ho(t)&&!kp(t)}var Vce=t=>yv(t)&&mv(t),KP=t=>yv(t)&&!mv(t);function JP(t){const e=RegExp(`[^]{1,${PP}}`,"g");return t.match(e)||[]}function Ll(t){if(!QP(t))throw new Error(`${t} is not an ASCII string`);if(!mv(t))throw new Error(`${t} is too long`);return ln(t.replace(/./g,e=>e.charCodeAt(0).toString(16)))}function eN(t){if(!QP(t))throw new Error(`${t} is not an ASCII string`);if(ho(t))return eu(t).replace(/.{2}/g,e=>String.fromCharCode(parseInt(e,16)));if(g7(t))return eN("0X".concat(BigInt(t).toString(16)));throw new Error(`${t} is not Hex or decimal`)}var tN={};xr(tN,{felt:()=>ai,getAbiContractVersion:()=>NE,getArrayType:()=>Wf,isCairo1Abi:()=>E7,isCairo1Type:()=>wl,isLen:()=>ch,isTypeArray:()=>_l,isTypeBool:()=>PE,isTypeContractAddress:()=>Wce,isTypeEnum:()=>Mh,isTypeEthAddress:()=>w7,isTypeFelt:()=>F1,isTypeLitteral:()=>sN,isTypeNamedTuple:()=>b7,isTypeOption:()=>RE,isTypeResult:()=>kE,isTypeStruct:()=>gv,isTypeTuple:()=>$l,isTypeUint:()=>iN,isTypeUint256:()=>bl,tuple:()=>qce,uint256:()=>oN});var v7={};xr(v7,{UINT_128_MAX:()=>rN,UINT_256_MAX:()=>_7,bnToUint256:()=>Gce,isUint256:()=>nN,uint256ToBN:()=>OE});var rN=(1n<<128n)-1n,_7=(1n<<256n)-1n;function OE(t){return(Ze(t.high)<<128n)+Ze(t.low)}function nN(t){return Ze(t)<=_7}function Gce(t){const e=Ze(t);if(!nN(e))throw new Error("Number is too large");return{low:ln((e&rN).toString(16)),high:ln((e>>128n).toString(16))}}var ch=t=>/_len$/.test(t),F1=t=>t==="felt"||t==="core::felt252",_l=t=>/\*/.test(t)||t.startsWith("core::array::Array::")||t.startsWith("core::array::Span::"),$l=t=>/^\(.*\)$/i.test(t),b7=t=>/\(.*\)/i.test(t)&&t.includes(":"),gv=(t,e)=>t in e,Mh=(t,e)=>t in e,RE=t=>t.startsWith("core::option::Option::"),kE=t=>t.startsWith("core::result::Result::"),iN=t=>Object.values(SE).includes(t),sN=t=>Object.values(AE).includes(t),bl=t=>t==="core::integer::u256",PE=t=>t==="core::bool",Wce=t=>t==="core::starknet::contract_address::ContractAddress",w7=t=>t==="core::starknet::eth_address::EthAddress",wl=t=>t.includes("::"),Wf=t=>wl(t)?t.substring(t.indexOf("<")+1,t.lastIndexOf(">")):t.replace("*","");function E7(t){const{cairo:e}=NE(t);if(e===void 0)throw Error("Unable to determine Cairo version");return e==="1"}function NE(t){if(t.find(n=>n.type==="interface"))return{cairo:"1",compiler:"2"};const e=t.find(n=>n.type==="function"&&(n.inputs.length||n.outputs.length));if(!e)return{cairo:void 0,compiler:void 0};const r=e.inputs.length?e.inputs:e.outputs;return wl(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var oN=t=>{const e=BigInt(t);if(!nN(e))throw new Error("Number is too large");return{low:(e&rN).toString(10),high:(e>>128n).toString(10)}},qce=(...t)=>({...t});function ai(t){if(CE(t)||typeof t=="number"&&Number.isInteger(t))return t.toString();if(yv(t)){if(!mv(t))throw new Error(`${t} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const e=Ll(t);return BigInt(e).toString()}if(typeof t=="string"&&ho(t))return BigInt(t).toString();if(typeof t=="string"&&kp(t))return t;if(typeof t=="boolean")return`${+t}`;throw new Error(`${t} can't be computed by felt()`)}var aN=class{constructor(t){const e=Object.values(t);if(e.length===0)throw new Error("This Enum must have a least 1 variant");if(e.filter(n=>typeof n<"u").length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=t}unwrap(){const e=Object.entries(this.variant).find(r=>typeof r[1]<"u");if(!(typeof e>"u"))return e[1]}activeVariant(){const e=Object.entries(this.variant).find(r=>typeof r[1]<"u");return typeof e>"u"?"":e[0]}},uN=(t=>(t[t.Some=0]="Some",t[t.None=1]="None",t))(uN||{}),U1=class{constructor(t,e){if(!(t in uN))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(t===0){if(typeof e>"u")throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=e,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!(typeof this.Some>"u")}isNone(){return this.None===!0}},lN=(t=>(t[t.Ok=0]="Ok",t[t.Err=1]="Err",t))(lN||{}),j1=class{constructor(t,e){if(!(t in lN))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");t===0?(this.Ok=e,this.Err=void 0):(this.Ok=void 0,this.Err=e)}unwrap(){if(typeof this.Ok<"u")return this.Ok;if(typeof this.Err<"u")return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(typeof this.Ok>"u")}isErr(){return!(typeof this.Err>"u")}},gT={isBN:(t,e,r)=>{if(!CE(t[r]))throw new Error(`Data and formatter mismatch on ${r}:${e[r]}, expected response data ${r}:${t[r]} to be BN instead it is ${typeof t[r]}`)},unknown:(t,e,r)=>{throw new Error(`Unhandled formatter type on ${r}:${e[r]} for data ${r}:${t[r]}`)}};function Cb(t,e,r){return Object.entries(t).reduce((n,[i,s])=>{const o=r??e[i];if(!(i in e)&&!r)return n[i]=s,n;if(o==="string"){if(Array.isArray(t[i])){const a=Cb(t[i],t[i].map(u=>o));return n[i]=Object.values(a).join(""),n}return gT.isBN(t,e,i),n[i]=eN(s),n}if(o==="number")return gT.isBN(t,e,i),n[i]=Number(s),n;if(typeof o=="function")return n[i]=o(s),n;if(Array.isArray(o)){const a=Cb(t[i],o,o[0]);return n[i]=Object.values(a),n}return typeof o=="object"?(n[i]=Cb(t[i],o),n):(gT.unknown(t,e,i),n)},{})}var Zce=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.reduce((e,r)=>ch(r.name)?e:e+1,0)}getMethod(t){return this.abi.find(e=>e.name===t)}getLegacyFormat(){return this.abi}},Xce=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.length}getMethod(t){return this.abi.find(r=>r.type==="interface").items.find(r=>r.name===t)}getLegacyFormat(){return this.abi.flatMap(t=>t.type==="interface"?t.items:t)}};function x7(t){const e=Yce(t);if(e===0||e===1)return new Zce(t);if(e===2)return new Xce(t);throw Error(`Unsupported ABI version ${e}`)}function Yce(t){return t.find(e=>e.type==="interface")?2:E7(t)?1:0}function N4(t,e,r){return t==="constructor"&&!r&&!e.length}function Qce(t){const e=t.substring(0,t.indexOf(":")),r=t.substring(e.length+1);return{name:e,type:r}}function S7(t){if(!t.includes("("))return{subTuple:[],result:t};const e=[];let r="",n=0;for(;n<t.length;){if(t[n]==="("){let i=1;const s=n;for(n++;i;)t[n]===")"&&i--,t[n]==="("&&i++,n++;e.push(t.substring(s,n)),r+=" ",n--}else r+=t[n];n++}return{subTuple:e,result:r}}function Kce(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=S7(e);let i=n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s);return b7(t)&&(i=i.reduce((s,o)=>s.concat(Qce(o)),[])),i}function Jce(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=S7(e);return n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s)}function cN(t){return wl(t)?Jce(t):Kce(t)}function ehe(t){return Error(`Your object includes the property : ${t}, containing an Uint256 object without the 'low' and 'high' keys.`)}function the(t,e,r,n){const i=(c,f)=>{if(_l(f))return o(c,f);if(Mh(f,n)){const p=n[f];return u(c,p)}if($l(f))return a(c,f);if(w7(f))return c;if(bl(f)){const p=c;if(typeof p!="object")return p;if(!("low"in p&&"high"in p))throw ehe(f);return{low:p.low,high:p.high}}if(gv(f,r)){const p=r[f].members;return s(c,p)}return c},s=(c,f)=>f.reduce((m,y)=>{const g=b=>Object.defineProperty(m,y.name,{enumerable:!0,value:b??c[y.name]});if(c[y.name]==="undefined"&&(wl(y.type)||!ch(y.name)))throw Error(`Your object needs a property with key : ${y.name} .`);return g(i(c[y.name],y.type)),m},{});function o(c,f){const p=Wf(f);return typeof c=="string"?c:c.map(m=>i(m,p))}function a(c,f){return cN(f).reduce((y,g,b)=>{const _=Object.keys(c),w=x=>Object.defineProperty(y,b.toString(),{enumerable:!0,value:x??c[_[b]]}),E=g!=null&&g.type?g.type:g;return w(i(c[_[b]],E)),y},{})}const u=(c,f)=>{if(kE(f.name)){const g=c,b=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(",")),_=f.name.substring(f.name.indexOf(",")+1,f.name.lastIndexOf(">"));return g.isOk()?new j1(0,i(c.unwrap(),b)):new j1(1,i(c.unwrap(),_))}if(RE(f.name)){const g=c,b=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(">"));return g.isSome()?new U1(0,i(g.unwrap(),b)):new U1(1,{})}const p=c,y=Object.entries(p.variant).map(g=>{if(typeof g[1]>"u")return g;const b=f.type.substring(f.type.lastIndexOf("<")+1,f.type.lastIndexOf(">"));return b==="()"?g:[g[0],i(p.unwrap(),b)]});return new aN(Object.fromEntries(y))};return e.reduce((c,f)=>{const p=m=>Object.defineProperty(c,f.name,{enumerable:!0,value:m});return ch(f.name)&&!wl(f.type)||p(i(t[f.name],f.type)),c},{})}function z1(t,e){switch(!0){case bl(t):const r=oN(e);return[ai(r.low),ai(r.high)];default:return ai(e)}}function rhe(t,e){const r=cN(e),n=Object.values(t);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((i,s)=>({element:n[s],type:i.type??i}))}function M4(t){if(typeof t=="object"){const{low:r,high:n}=t;return[ai(r),ai(n)]}const e=oN(t);return[ai(e.low),ai(e.high)]}function jo(t,e,r,n){if(t===void 0)throw Error(`Missing parameter for type ${e}`);if(Array.isArray(t)){const i=[];i.push(ai(t.length));const s=Wf(e);return t.reduce((o,a)=>o.concat(jo(a,s,r,n)),i)}if(r[e]&&r[e].members.length){if(bl(e))return M4(t);if(e==="core::starknet::eth_address::EthAddress")return z1(e,t);const{members:i}=r[e],s=t;return i.reduce((o,a)=>o.concat(jo(s[a.name],a.type,r,n)),[])}if($l(e))return rhe(t,e).reduce((s,o)=>{const a=jo(o.element,o.type,r,n);return s.concat(a)},[]);if(bl(e))return M4(t);if(Mh(e,n)){const{variants:i}=n[e];if(RE(e)){const f=t;if(f.isSome()){const p=i.find(g=>g.name==="Some");if(typeof p>"u")throw Error("Error in abi : Option has no 'Some' variant.");const m=p.type;if(m==="()")return 0 .toString();const y=jo(f.unwrap(),m,r,n);return Array.isArray(y)?[0 .toString(),...y]:[0 .toString(),y]}return 1 .toString()}if(kE(e)){const f=t;if(f.isOk()){const g=i.find(w=>w.name==="Ok");if(typeof g>"u")throw Error("Error in abi : Result has no 'Ok' variant.");const b=g.type;if(b==="()")return 0 .toString();const _=jo(f.unwrap(),b,r,n);return Array.isArray(_)?[0 .toString(),..._]:[0 .toString(),_]}const p=i.find(g=>g.name==="Err");if(typeof p>"u")throw Error("Error in abi : Result has no 'Err' variant.");const m=p.type;if(m==="()")return 1 .toString();const y=jo(f.unwrap(),m,r,n);return Array.isArray(y)?[1 .toString(),...y]:[1 .toString(),y]}const s=t,o=s.activeVariant(),a=i.find(f=>f.name===o);if(typeof a>"u")throw Error(`Not find in abi : Enum has no '${o}' variant.`);const u=a.type,l=i.findIndex(f=>f.name===o);if(u==="()")return l.toString();const c=jo(s.unwrap(),u,r,n);return Array.isArray(c)?[l.toString(),...c]:[l.toString(),c]}if(typeof t=="object")throw Error(`Parameter ${t} do not align with abi parameter ${e}`);return z1(e,t)}function nhe(t,e,r,n){const{name:i,type:s}=e;let{value:o}=t.next();switch(!0){case _l(s):if(!Array.isArray(o)&&!yv(o))throw Error(`ABI expected parameter ${i} to be array or long string, got ${o}`);return typeof o=="string"&&(o=JP(o)),jo(o,e.type,r,n);case s==="core::starknet::eth_address::EthAddress":return z1(s,o);case(gv(s,r)||$l(s)||bl(s)):return jo(o,s,r,n);case Mh(s,n):return jo(o,s,r,n);default:return z1(s,o)}}function l2(t,e){let r;switch(!0){case PE(t):return r=e.next().value,!!BigInt(r);case bl(t):const n=e.next().value,i=e.next().value;return OE({low:n,high:i});case t==="core::starknet::eth_address::EthAddress":return r=e.next().value,BigInt(r);default:return r=e.next().value,BigInt(r)}}function $a(t,e,r,n){if(e.type==="()")return{};if(bl(e.type)){const i=t.next().value,s=t.next().value;return OE({low:i,high:s})}if(_l(e.type)){const i=[],s={name:"",type:Wf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push($a(t,s,r,n));return i}if(r&&e.type in r&&r[e.type])return e.type==="core::starknet::eth_address::EthAddress"?l2(e.type,t):r[e.type].members.reduce((i,s)=>(i[s.name]=$a(t,s,r,n),i),{});if(n&&e.type in n&&n[e.type]){const i=Number(t.next().value),s=n[e.type].variants.reduce((a,u,l)=>l===i?(a[u.name]=$a(t,{name:"",type:u.type},r,n),a):(a[u.name]=void 0,a),{});if(e.type.startsWith("core::option::Option")){const a=i===0?s.Some:void 0;return new U1(i,a)}if(e.type.startsWith("core::result::Result")){let a;return i===0?a=s.Ok:a=s.Err,new j1(i,a)}return new aN(s)}if($l(e.type))return cN(e.type).reduce((s,o,a)=>{const u=o!=null&&o.name?o.name:a,l=o!=null&&o.type?o.type:o,c={name:u,type:l};return s[u]=$a(t,c,r,n),s},{});if(_l(e.type)){const i=[],s={name:"",type:Wf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push($a(t,s,r,n));return i}return l2(e.type,t)}function c2(t,e,r,n,i){const{name:s,type:o}=e;let a;switch(!0){case ch(s):return a=t.next().value,BigInt(a);case(r&&o in r||$l(o)):return $a(t,e,r,n);case(n&&Mh(o,n)):return $a(t,e,r,n);case _l(o):if(wl(o))return $a(t,e,r,n);const u=[];if(i&&i[`${s}_len`]){const l=i[`${s}_len`];for(;u.length<l;)u.push($a(t,{name:s,type:e.type.replace("*","")},r,n))}return u;default:return l2(o,t)}}var A7=(t,e)=>{if(Pt(typeof t=="string"||typeof t=="number"||typeof t=="bigint",`Validate: arg ${e.name} should be a felt typed as (String, Number or BigInt)`),typeof t=="string"&&!ho(t))return;const r=BigInt(t.toString(10));Pt(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`)},hN=(t,e)=>{typeof t=="number"&&Pt(t<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),Pt(typeof t=="string"||typeof t=="number"||typeof t=="bigint"||typeof t=="object"&&"low"in t&&"high"in t,`Validate: arg ${e.name} of cairo type ${e.type} should be type (String, Number or BigInt), but is ${typeof t} ${t}.`);const r=typeof t=="object"?OE(t):Ze(t);switch(e.type){case"core::integer::u8":Pt(r>=0n&&r<=255n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0 - 255]`);break;case"core::integer::u16":Pt(r>=0n&&r<=65535n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 65535]`);break;case"core::integer::u32":Pt(r>=0n&&r<=4294967295n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":Pt(r>=0n&&r<=2n**64n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":Pt(r>=0n&&r<=2n**128n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":Pt(r>=0n&&r<=2n**256n-1n,`Validate: arg ${e.name} is ${e.type} 0 - 2^256-1`);break;case"core::starknet::class_hash::ClassHash":Pt(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break;case"core::starknet::contract_address::ContractAddress":Pt(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break}},T7=(t,e)=>{Pt(typeof t=="boolean",`Validate: arg ${e.name} of cairo type ${e.type} should be type (Boolean)`)},C7=(t,e,r)=>{if(e.type==="core::integer::u256"){hN(t,e);return}if(e.type==="core::starknet::eth_address::EthAddress"){Pt(typeof t!="object",`EthAddress type is waiting a BigNumberish. Got ${t}`);const n=BigInt(t.toString(10));Pt(n>=0n&&n<=2n**160n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^160-1]`);return}Pt(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type struct (${e.type}), and should be defined as js object (not array)`),r[e.type].members.forEach(({name:n})=>{Pt(Object.keys(t).includes(n),`Validate: arg ${e.name} should have a property ${n}`)})},I7=(t,e)=>{Pt(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type Enum (${e.type}), and should be defined as js object (not array)`);const r=Object.getOwnPropertyNames(Object.getPrototypeOf(t)),n=[...Object.getOwnPropertyNames(t),...r];if(!(RE(e.type)&&n.includes("isSome")&&n.includes("isNone"))&&!(kE(e.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${e.name}, type ${e.type}, value received ${t}, is not an Enum.`)},O7=(t,e)=>{Pt(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} should be a tuple (defined as object)`)},R7=(t,e,r,n)=>{const i=Wf(e.type);if(!(F1(i)&&KP(t)))switch(Pt(Array.isArray(t),`Validate: arg ${e.name} should be an Array`),!0){case F1(i):t.forEach(s=>A7(s,e));break;case $l(i):t.forEach(s=>O7(s,{name:e.name,type:i}));break;case _l(i):t.forEach(s=>R7(s,{name:"",type:i},r,n));break;case gv(i,r):t.forEach(s=>C7(s,{name:e.name,type:i},r));break;case Mh(i,n):t.forEach(s=>I7(s,{name:e.name,type:i}));break;case(iN(i)||sN(i)):t.forEach(s=>hN(s,e));break;case PE(i):t.forEach(s=>T7(s,e));break;default:throw new Error(`Validate Unhandled: argument ${e.name}, type ${e.type}, value ${t}`)}};function D4(t,e,r,n){t.inputs.reduce((i,s)=>{const o=e[i];switch(!0){case ch(s.name):return i;case F1(s.type):A7(o,s);break;case(iN(s.type)||sN(s.type)):hN(o,s);break;case PE(s.type):T7(o,s);break;case _l(s.type):R7(o,s,r,n);break;case gv(s.type,r):C7(o,s,r);break;case Mh(s.type,n):I7(o,s);break;case $l(s.type):O7(o,s);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${o}`)}return i+1},0)}var yt=class{constructor(t){this.structs=yt.getAbiStruct(t),this.enums=yt.getAbiEnum(t),this.parser=x7(t),this.abi=this.parser.getLegacyFormat()}validate(t,e,r=[]){if(t!=="DEPLOY"){const s=this.abi.filter(o=>{if(o.type!=="function")return!1;const a=o.stateMutability==="view"||o.state_mutability==="view";return t==="INVOKE"?!a:a}).map(o=>o.name);Pt(s.includes(e),`${t==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const n=this.abi.find(s=>t==="DEPLOY"?s.name===e&&s.type==="constructor":s.name===e&&s.type==="function");if(N4(e,r,n))return;const i=this.parser.methodInputsLength(n);if(r.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${r.length}`);D4(n,r,this.structs,this.enums)}compile(t,e){const r=this.abi.find(o=>o.name===t);if(N4(t,e,r))return[];let n;if(Array.isArray(e))n=e;else{const o=the(e,r.inputs,this.structs,this.enums);n=Object.values(o),D4(r,n,this.structs,this.enums)}const i=n[Symbol.iterator](),s=r.inputs.reduce((o,a)=>ch(a.name)&&!wl(a.type)?o:o.concat(nhe(i,a,this.structs,this.enums)),[]);return Object.defineProperty(s,"__compiled__",{enumerable:!1,writable:!1,value:!0}),s}static compile(t){const e=n=>{const i=(o,a=".")=>{const u=Array.isArray(o)?[o.length.toString(),...o]:o;return Object.entries(u).flatMap(([l,c])=>{let f=c;l==="entrypoint"?f=fo(f):KP(f)&&(f=JP(f));const p=Array.isArray(u)&&l==="0"?"$$len":l;if(CE(f))return[[`${a}${p}`,ai(f)]];if(Object(f)===f){const m=Object.getOwnPropertyNames(Object.getPrototypeOf(f)),y=[...Object.getOwnPropertyNames(f),...m];if(y.includes("isSome")&&y.includes("isNone")){const g=f,b=g.isSome()?0:1;return g.isSome()?i({0:b,1:g.unwrap()},`${a}${p}.`):[[`${a}${p}`,ai(b)]]}if(y.includes("isOk")&&y.includes("isErr")){const g=f,b=g.isOk()?0:1;return i({0:b,1:g.unwrap()},`${a}${p}.`)}if(y.includes("variant")&&y.includes("activeVariant")){const g=f,b=g.activeVariant(),w=Object.keys(g.variant).findIndex(E=>E===b);return typeof g.unwrap()=="object"&&Object.keys(g.unwrap()).length===0?[[`${a}${p}`,ai(w)]]:i({0:w,1:g.unwrap()},`${a}${p}.`)}return i(f,`${a}${p}.`)}return[[`${a}${p}`,ai(f)]]})};return Object.fromEntries(i(n))};let r;if(Array.isArray(t)){const n={...t},i=e(n);r=Object.values(i)}else{const n=e(t);r=Object.values(n)}return Object.defineProperty(r,"__compiled__",{enumerable:!1,writable:!1,value:!0}),r}parse(t,e){const{outputs:r}=this.abi.find(s=>s.name===t),n=e.flat()[Symbol.iterator](),i=r.flat().reduce((s,o,a)=>{const u=o.name??a;return s[u]=c2(n,o,this.structs,this.enums,s),s[u]&&s[`${u}_len`]&&delete s[`${u}_len`],s},{});return Object.keys(i).length===1&&0 in i?i[0]:i}format(t,e,r){const n=this.parse(t,e);return Cb(n,r)}static getAbiStruct(t){return t.filter(e=>e.type==="struct").reduce((e,r)=>({...e,[r.name]:r}),{})}static getAbiEnum(t){const e=t.filter(r=>r.type==="enum").reduce((r,n)=>({...r,[n.name]:n}),{});return delete e["core::bool"],e}static toCalldata(t=[]){return yt.compile(t)}static toHex(t=[]){return yt.compile(t).map(r=>xe(r))}},k7={};xr(k7,{calculateContractAddressFromHash:()=>Ib,calculateDeclareTransactionHash:()=>D7,calculateDeployAccountTransactionHash:()=>B7,calculateDeployTransactionHash:()=>uhe,calculateTransactionHash:()=>L7,calculateTransactionHashCommon:()=>vv,computeCompiledClassHash:()=>U7,computeContractClassHash:()=>z7,computeHashOnElements:()=>Dn,computeLegacyContractClassHash:()=>F7,computeSierraContractClassHash:()=>j7,default:()=>$7,feeTransactionVersion:()=>Kd,feeTransactionVersion_2:()=>H1,formatSpaces:()=>bg,getSelector:()=>IE,getSelectorFromName:()=>fo,getVersionsByType:()=>dN,keccakBn:()=>XP,poseidon:()=>ahe,starknetKeccak:()=>YP,transactionVersion:()=>Bc,transactionVersion_2:()=>_g});var hh=EE,P7={};xr(P7,{starkCurve:()=>Si,weierstrass:()=>ihe});var Si=Ph(EE),ihe=Ph(Ace()),N7={};xr(N7,{parse:()=>El,parseAlwaysAsBig:()=>M7,stringify:()=>qs,stringifyAlwaysAsBig:()=>ohe});var vg=Ph(Tce),she=t=>{if(!vg.isInteger(t))return parseFloat(t);const e=parseInt(t,10);return Number.isSafeInteger(e)?e:BigInt(t)},El=t=>vg.parse(String(t),void 0,she),M7=t=>vg.parse(String(t),void 0,vg.parseNumberAndBigInt),qs=(t,e,r,n)=>vg.stringify(t,e,r,n),ohe=qs,ahe=Ph(Cce()),Bc=NP,_g=MP,Kd=zV,H1=HV;function dN(t){return t==="fee"?{v1:Kd,v2:H1}:{v1:Bc,v2:_g}}function Dn(t){return[...t,t.length].reduce((e,r)=>Si.pedersen(Ze(e),Ze(r)),0).toString()}function vv(t,e,r,n,i,s,o,a=[]){const u=Dn(i),l=[t,e,r,n,u,s,o,...a];return Dn(l)}function uhe(t,e,r,n,i="constructor"){return vv("0x6465706c6f79",r,t,fo(i),e,0,n)}function D7(t,e,r,n,i,s,o){return vv("0x6465636c617265",r,e,0,[t],n,i,[s,...o?[o]:[]])}function B7(t,e,r,n,i,s,o,a){const u=[e,n,...r];return vv("0x6465706c6f795f6163636f756e74",i,t,0,u,s,o,[a])}function L7(t,e,r,n,i,s){return vv("0x696e766f6b65",e,t,0,r,n,i,[s])}function Ib(t,e,r,n){const i=yt.compile(r),s=Dn(i),o=ai("0x535441524b4e45545f434f4e54524143545f41444452455353"),a=Dn([o,n,t,e,s]);return xe(BigInt(a)%DP)}function lhe(t,e){return t==="attributes"||t==="accessible_scopes"?Array.isArray(e)&&e.length===0?void 0:e:t==="debug_info"?null:e===null?void 0:e}function bg(t){let e=!1;const r=[];for(const n of t)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(e=!e),e?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}function $7(t){const{abi:e,program:r}=t,i=bg(qs({abi:e,program:r},lhe));return ln(Si.keccak(Rp(i)).toString(16))}function F7(t){const e=typeof t=="string"?El(t):t,r=xe(GV),n=Dn(e.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),i=Dn(e.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),s=Dn(e.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),o=Dn(e.program.builtins.map(l=>Ll(l))),a=$7(e),u=Dn(e.program.data);return Dn([r,n,i,s,o,a,u])}function che(t){return(0,hh.poseidonHashMany)(t.flatMap(e=>BigInt(Ll(e))))}function vT(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),che(r.builtins)]);return(0,hh.poseidonHashMany)(e)}function U7(t){const r=BigInt(Ll("COMPILED_CLASS_V1")),n=vT(t.entry_points_by_type.EXTERNAL),i=vT(t.entry_points_by_type.L1_HANDLER),s=vT(t.entry_points_by_type.CONSTRUCTOR),o=(0,hh.poseidonHashMany)(t.bytecode.map(a=>BigInt(a)));return xe((0,hh.poseidonHashMany)([r,n,i,s,o]))}function _T(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return(0,hh.poseidonHashMany)(e)}function hhe(t){const e=bg(qs(t.abi,null));return BigInt(ln(Si.keccak(Rp(e)).toString(16)))}function j7(t){const r=BigInt(Ll("CONTRACT_CLASS_V0.1.0")),n=_T(t.entry_points_by_type.EXTERNAL),i=_T(t.entry_points_by_type.L1_HANDLER),s=_T(t.entry_points_by_type.CONSTRUCTOR),o=hhe(t),a=(0,hh.poseidonHashMany)(t.sierra_program.map(u=>BigInt(u)));return xe((0,hh.poseidonHashMany)([r,n,i,s,o,a]))}function z7(t){const e=typeof t=="string"?El(t):t;return"sierra_program"in e?j7(e):F7(e)}var H7={};xr(H7,{compressProgram:()=>fN,decompressProgram:()=>V1,estimatedFeeToMaxFee:()=>Lc,formatSignature:()=>ME,makeAddress:()=>dhe,randomAddress:()=>pN,signatureToDecimalArray:()=>Cd,signatureToHexArray:()=>Id});var B4=EE,V7=Ice;function fN(t){const e=typeof t=="string"?t:qs(t),r=(0,V7.gzip)(e);return DV(r)}function V1(t){if(Array.isArray(t))return t;const e=NV((0,V7.ungzip)(MV(t)));return El(e)}function pN(){const t=B4.utils.randomPrivateKey();return(0,B4.getStarkKey)(t)}function dhe(t){return ln(t).toLowerCase()}function ME(t){if(!t)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(t))return t.map(e=>xe(e));try{const{r:e,s:r}=t;return[xe(e),xe(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function Cd(t){return c7(ME(t))}function Id(t){return h7(ME(t))}function Lc(t,e=.5){const r=Math.round((1+e)*100);return Ze(t)*Ze(r)/100n}function di(t){return"sierra_program"in(typeof t=="string"?El(t):t)}function Ob(t){const e={...t};if(di(t.contract)&&(!t.compiledClassHash&&t.casm&&(e.compiledClassHash=U7(t.casm)),!e.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(e.classHash=t.classHash??z7(t.contract),!e.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return e}function fhe(t){if(di(t))throw Error("ContractClassResponse need to be LegacyContractClass (cairo0 response class)");const e=t;return{...e,program:V1(e.program)}}var phe=Ph(Az),G7=typeof window<"u"&&window.fetch||typeof at<"u"&&at.fetch||phe.default,W7={};xr(W7,{createSierraContractClass:()=>q7,parseContract:()=>mN,wait:()=>G1});function G1(t){return new Promise(e=>{setTimeout(e,t)})}function q7(t){const e={...t};return delete e.sierra_program_debug_info,e.abi=bg(qs(t.abi)),e.sierra_program=bg(qs(t.sierra_program)),e.sierra_program=fN(e.sierra_program),e}function mN(t){const e=typeof t=="string"?El(t):t;return di(t)?q7(e):{...e,..."program"in e&&{program:fN(e.program)}}}var mhe=class{parseGetBlockResponse(t){return{timestamp:t.timestamp,block_hash:"block_hash"in t?t.block_hash:"",block_number:"block_number"in t?t.block_number:-1,new_root:"new_root"in t?t.new_root:"",parent_hash:t.parent_hash,status:"status"in t?t.status:"PENDING",transactions:t.transactions}}parseGetTransactionResponse(t){return{calldata:"calldata"in t?t.calldata:[],contract_address:"contract_address"in t?t.contract_address:"",sender_address:"sender_address"in t?t.sender_address:"",max_fee:"max_fee"in t?t.max_fee:"",nonce:"nonce"in t?t.nonce:"",signature:"signature"in t?t.signature:[],transaction_hash:t.transaction_hash,version:t.version}}parseFeeEstimateResponse(t){return{overall_fee:Ze(t[0].overall_fee),gas_consumed:Ze(t[0].gas_consumed),gas_price:Ze(t[0].gas_price)}}parseFeeEstimateBulkResponse(t){return t.map(e=>({overall_fee:Ze(e.overall_fee),gas_consumed:Ze(e.gas_consumed),gas_price:Ze(e.gas_price)}))}parseCallContractResponse(t){return{result:t}}parseSimulateTransactionResponse(t){return t.map(e=>({...e,suggestedMaxFee:Lc(BigInt(e.fee_estimation.overall_fee))}))}parseContractClassResponse(t){return{...t,abi:typeof t.abi=="string"?JSON.parse(t.abi):t.abi}}};function Z7(t,e=t.constructor){const{captureStackTrace:r}=Error;r&&r(t,e)}function X7(t,e){const{setPrototypeOf:r}=Object;r?r(t,e):t.__proto__=e}var Y7=class extends Error{constructor(t){super(t),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),X7(this,new.target.prototype),Z7(this)}},xl=class extends Y7{},Q7=class extends xl{constructor(t,e){super(t),this.errorCode=e}},K7=class extends xl{constructor(t,e){super(t),this.errorCode=e}},J7={};xr(J7,{StarknetIdContract:()=>r9,getStarknetIdContract:()=>yN,useDecoded:()=>e9,useEncoded:()=>t9});var Zo="abcdefghijklmnopqrstuvwxyz0123456789-",Jd=BigInt(Zo.length+1),Gr="这来",L4=BigInt(Zo.length),h2=BigInt(Gr.length),$4=BigInt(Gr.length+1);function d2(t){let e=0;for(;t.endsWith(Gr[Gr.length-1]);)t=t.substring(0,t.length-1),e+=1;return[t,e]}function e9(t){let e="";return t.forEach(r=>{for(;r!==ri;){const s=r%Jd;if(r/=Jd,s===BigInt(Zo.length)){const o=r/$4;if(o===ri){const a=r%$4;r=o,a===ri?e+=Zo[0]:e+=Gr[Number(a)-1]}else{const a=r%h2;e+=Gr[Number(a)],r/=h2}}else e+=Zo[Number(s)]}const[n,i]=d2(e);i&&(e=n+(i%2===0?Gr[Gr.length-1].repeat(i/2-1)+Gr[0]+Zo[1]:Gr[Gr.length-1].repeat((i-1)/2+1))),e+="."}),e&&e.concat("stark")}function t9(t){let e=BigInt(0),r=BigInt(1);if(t.endsWith(Gr[0]+Zo[1])){const[n,i]=d2(t.substring(0,t.length-2));t=n+Gr[Gr.length-1].repeat(2*(i+1))}else{const[n,i]=d2(t);i&&(t=n+Gr[Gr.length-1].repeat(1+2*(i-1)))}for(let n=0;n<t.length;n+=1){const i=t[n],s=Zo.indexOf(i),o=BigInt(Zo.indexOf(i));if(s!==-1)n===t.length-1&&t[n]===Zo[0]?(e+=r*L4,r*=Jd,r*=Jd):(e+=r*o,r*=Jd);else if(Gr.indexOf(i)!==-1){e+=r*L4,r*=Jd;const a=(n===t.length-1?1:0)+Gr.indexOf(i);e+=r*BigInt(a),r*=h2}}return e}var r9=(t=>(t.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",t.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",t))(r9||{});function yN(t){switch(t){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function gN(t,e,r){const n=await t.getChainId(),i=r??yN(n);try{const o=(await t.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:yt.compile({address:e})})).result.map(u=>BigInt(u)).slice(1),a=e9(o);if(!a)throw Error("Starkname not found");return a}catch(s){throw s instanceof Error&&s.message==="Starkname not found"?s:Error("Could not get stark name")}}async function vN(t,e,r){const n=await t.getChainId(),i=r??yN(n);try{return(await t.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:yt.compile({domain:[t9(e.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var yhe=Object.values(TE),dr=class{constructor(t){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(t)}setIdentifier(t){typeof t=="string"&&ho(t)?this.hash=t:typeof t=="bigint"?this.hash=xe(t):typeof t=="number"?this.number=t:typeof t=="string"&&yhe.includes(t)?this.tag=t:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(t){this.setIdentifier(t)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},f2=(t,e=!1)=>{e||console.warn("Using default public node url, please provide nodeUrl in provider options!");const r=t==="SN_MAIN"?QV:YV,n=Math.floor(Math.random()*r.length);return r[n]},bT={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},Rb=class{constructor(t){this.responseParser=new mhe,this.getBlockHashAndNumber=this.getBlockLatestAccepted,this.getStateUpdate=this.getBlockStateUpdate,this.traceBlockTransactions=this.getBlockTransactionsTraces,this.getTransactionCount=this.getBlockTransactionCount,this.traceTransaction=this.getTransactionTrace,this.getSimulateTransaction=this.simulateTransaction;const{nodeUrl:e,retries:r,headers:n,blockIdentifier:i,chainId:s}=t||{};Object.values(BP).includes(e)?this.nodeUrl=f2(e,t==null?void 0:t.default):e?this.nodeUrl=e:this.nodeUrl=f2(void 0,t==null?void 0:t.default),this.retries=r||bT.retries,this.headers={...bT.headers,...n},this.blockIdentifier=i||bT.blockIdentifier,this.chainId=s}fetch(t,e,r=0){const n={id:r,jsonrpc:"2.0",method:t,...e&&{params:e}};return G7(this.nodeUrl,{method:"POST",body:qs(n),headers:this.headers})}errorHandler(t,e,r,n){if(r){const{code:i,message:s,data:o}=r;throw new xl(`RPC: ${t} with params ${qs(e)}
 ${i}: ${s}: ${qs(o)}`)}if(n instanceof xl)throw n;if(n)throw Error(n.message)}async fetchEndpoint(t,e){var r;try{const n=await this.fetch(t,e),{error:i,result:s}=await n.json();return this.errorHandler(t,e,i),s}catch(n){throw this.errorHandler(t,e,(r=n==null?void 0:n.response)==null?void 0:r.data,n),n}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async getNonceForAddress(t,e=this.blockIdentifier){const r=xe(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}async getBlock(t=this.blockIdentifier){return this.getBlockWithTxHashes(t).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getBlockWithTxHashes(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:e})}async getBlockWithTxs(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:e})}async getBlockStateUpdate(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:e})}async getBlockTransactionsTraces(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:e})}async getBlockTransactionCount(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:e})}async getPendingTransactions(){const{transactions:t}=await this.getBlock("pending");return Promise.all(t.map(e=>this.getTransactionByHash(e)))}async getTransaction(t){return this.getTransactionByHash(t).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(t){const e=xe(t);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:e})}async getTransactionByBlockIdAndIndex(t,e){const r=new dr(t).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:e})}async getTransactionReceipt(t){const e=xe(t);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:e})}async getTransactionTrace(t){const e=xe(t);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:e})}async getTransactionStatus(t){const e=xe(t);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:e})}async simulateTransaction(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1,skipFeeCharge:n=!0}){const i=new dr(e).identifier,s=[];return r&&s.push(ti.ESimulationFlag.SKIP_VALIDATE),n&&s.push(ti.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:i,transactions:t.map(o=>this.buildTransaction(o)),simulation_flags:s}).then(this.responseParser.parseSimulateTransactionResponse)}async waitForTransaction(t,e){const r=xe(t);let{retries:n}=this,i=!1,s=!1;const o=(e==null?void 0:e.retryInterval)??5e3,a=(e==null?void 0:e.errorStates)??[ti.ETransactionStatus.REJECTED],u=(e==null?void 0:e.successStates)??[ti.ETransactionExecutionStatus.SUCCEEDED,ti.ETransactionStatus.ACCEPTED_ON_L2,ti.ETransactionStatus.ACCEPTED_ON_L1];let l;for(;!i;){await G1(o);try{l=await this.getTransactionStatus(r);const f=l.execution_status,p=l.finality_status;if(!p)throw new Error("waiting for transaction status");if(a.includes(f)||a.includes(p)){const m=`${f}: ${p}`,y=new Error(m);throw y.response=l,s=!0,y}else(u.includes(f)||u.includes(p))&&(i=!0)}catch(f){if(f instanceof Error&&s)throw f;if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1}let c=null;for(;c===null;){try{c=await this.getTransactionReceipt(r)}catch{if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1,await G1(o)}return c}async getStorageAt(t,e,r=this.blockIdentifier){const n=xe(t),i=a7(e),s=new dr(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:i,block_id:s})}async getClassHashAt(t,e=this.blockIdentifier){const r=xe(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}async getClassByHash(t){return this.getClass(t)}async getClass(t,e=this.blockIdentifier){const r=xe(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n}).then(this.responseParser.parseContractClassResponse)}async getClassAt(t,e=this.blockIdentifier){const r=xe(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r}).then(this.responseParser.parseContractClassResponse)}async getCode(t,e){throw new Error("RPC does not implement getCode function")}async getContractVersion(t,e,{blockIdentifier:r=this.blockIdentifier,compiler:n=!0}={}){let i;if(t)i=await this.getClassAt(t,r);else if(e)i=await this.getClass(e,r);else throw Error("getContractVersion require contractAddress or classHash");return di(i)?n?{cairo:"1",compiler:NE(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(t,e,r=this.blockIdentifier){return this.getInvokeEstimateFee(t,e,r)}async getInvokeEstimateFee(t,e,r=this.blockIdentifier){const n=new dr(r).identifier,i=this.buildTransaction({type:"INVOKE_FUNCTION",...t,...e},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(t,e,r=this.blockIdentifier){const n=new dr(r).identifier,i=this.buildTransaction({type:"DECLARE",...t,...e},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(t,e,r=this.blockIdentifier){const n=new dr(r).identifier,i=this.buildTransaction({type:"DEPLOY_ACCOUNT",...t,...e},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1}){r&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const n=new dr(e).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:t.map(i=>this.buildTransaction(i,"fee")),block_id:n}).then(this.responseParser.parseFeeEstimateBulkResponse)}async invokeFunction(t,e){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:t.contractAddress,calldata:yt.toHex(t.calldata),type:ti.ETransactionType.INVOKE,max_fee:xe(e.maxFee||0),version:"0x1",signature:Id(t.signature),nonce:xe(e.nonce)}})}async declareContract({contract:t,signature:e,senderAddress:r,compiledClassHash:n},i){return di(t)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ti.ETransactionType.DECLARE,contract_class:{sierra_program:V1(t.sierra_program),contract_class_version:t.contract_class_version,entry_points_by_type:t.entry_points_by_type,abi:t.abi},compiled_class_hash:n||"",version:jV,max_fee:xe(i.maxFee||0),signature:Id(e),sender_address:r,nonce:xe(i.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ti.ETransactionType.DECLARE,contract_class:{program:t.program,entry_points_by_type:t.entry_points_by_type,abi:t.abi},version:UV,max_fee:xe(i.maxFee||0),signature:Id(e),sender_address:r,nonce:xe(i.nonce)}})}async deployAccountContract({classHash:t,constructorCalldata:e,addressSalt:r,signature:n},i){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:yt.toHex(e||[]),class_hash:xe(t),contract_address_salt:xe(r||0),type:ti.ETransactionType.DEPLOY_ACCOUNT,max_fee:xe(i.maxFee||0),version:xe(i.version||0),signature:Id(n),nonce:xe(i.nonce)}})}async callContract(t,e=this.blockIdentifier){const r=new dr(e).identifier,n=await this.fetchEndpoint("starknet_call",{request:{contract_address:t.contractAddress,entry_point_selector:fo(t.entrypoint),calldata:yt.toHex(t.calldata)},block_id:r});return this.responseParser.parseCallContractResponse(n)}async estimateMessageFee(t,e=this.blockIdentifier){const{from_address:r,to_address:n,entry_point_selector:i,payload:s}=t,o={from_address:xe(r),to_address:xe(n),entry_point_selector:IE(i),payload:ZP(s)},a=new dr(e).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:o,block_id:a})}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(t){return this.fetchEndpoint("starknet_getEvents",{filter:t})}async getStarkName(t,e){return gN(this,t,e)}async getAddressFromStarkName(t,e){return vN(this,t,e)}buildTransaction(t,e){const r=dN(e),n={signature:Id(t.signature),nonce:xe(t.nonce),max_fee:xe(t.maxFee||0)};if(t.type==="INVOKE_FUNCTION")return{type:ti.ETransactionType.INVOKE,sender_address:t.contractAddress,calldata:yt.toHex(t.calldata),version:xe(t.version||r.v1),...n};if(t.type==="DECLARE")return di(t.contract)?{type:t.type,contract_class:{...t.contract,sierra_program:V1(t.contract.sierra_program)},compiled_class_hash:t.compiledClassHash||"",sender_address:t.senderAddress,version:xe(t.version||r.v2),...n}:{type:t.type,contract_class:t.contract,sender_address:t.senderAddress,version:xe(t.version||r.v1),...n};if(t.type==="DEPLOY_ACCOUNT")return{type:t.type,constructor_calldata:yt.toHex(t.constructorCalldata||[]),class_hash:xe(t.classHash),contract_address_salt:xe(t.addressSalt||0),version:xe(t.version||r.v1),...n};throw Error("RPC buildTransaction received unknown TransactionType")}},ghe=Ph(Rk),vhe=class{},_he=class extends vhe{parseGetBlockResponse(t){return{...t,new_root:t.state_root,parent_hash:t.parent_block_hash,transactions:Object.values(t.transactions).map(e=>"transaction_hash"in e&&e.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(t){if(t.status==="NOT_RECEIVED"&&t.finality_status==="NOT_RECEIVED")throw new xl;return{...t,calldata:"calldata"in t.transaction?t.transaction.calldata:[],contract_class:"contract_class"in t.transaction?t.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in t.transaction?t.transaction.entry_point_selector:void 0,max_fee:"max_fee"in t.transaction?t.transaction.max_fee:void 0,nonce:t.transaction.nonce,sender_address:"sender_address"in t.transaction?t.transaction.sender_address:void 0,signature:"signature"in t.transaction?t.transaction.signature:void 0,transaction_hash:"transaction_hash"in t.transaction?t.transaction.transaction_hash:void 0,version:"version"in t.transaction?t.transaction.version:void 0}}parseGetTransactionReceiptResponse(t){return{...t,messages_sent:t.l2_to_l1_messages,..."revert_error"in t&&{revert_reason:t.revert_error}}}parseFeeEstimateResponse(t){if("overall_fee"in t){let e={};try{e={gas_consumed:Ze(t.gas_usage),gas_price:Ze(t.gas_price)}}catch{}return{overall_fee:Ze(t.overall_fee),...e}}return{overall_fee:Ze(t.amount)}}parseFeeEstimateBulkResponse(t){return[].concat(t).map(e=>{if("overall_fee"in e){let r={};try{r={gas_consumed:Ze(e.gas_usage),gas_price:Ze(e.gas_price)}}catch{}return{overall_fee:Ze(e.overall_fee),...r}}return{overall_fee:Ze(e.amount)}})}parseSimulateTransactionResponse(t){const e="overall_fee"in t.fee_estimation?t.fee_estimation.overall_fee:t.fee_estimation.amount;return[{transaction_trace:t.trace,fee_estimation:t.fee_estimation,suggestedMaxFee:Lc(BigInt(e))}]}parseCallContractResponse(t){return{result:t.result}}parseInvokeFunctionResponse(t){return{transaction_hash:t.transaction_hash}}parseDeployContractResponse(t){return{transaction_hash:t.transaction_hash,contract_address:t.address}}parseDeclareContractResponse(t){return{transaction_hash:t.transaction_hash,class_hash:t.class_hash}}parseGetStateUpdateResponse(t){const e=Object.entries(t.state_diff.nonces).map(([n,i])=>({contract_address:n,nonce:i})),r=Object.entries(t.state_diff.storage_diffs).map(([n,i])=>({address:n,storage_entries:i}));return{...t,state_diff:{...t.state_diff,storage_diffs:r,nonces:e}}}parseContractClassResponse(t){const e=di(t)?t:mN(t);return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}},bhe=Ph(Rk),whe=/^(?:\w+:)?\/\/(\S+)$/,Ehe=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,xhe=/^[^\s.]+\.\S{2,}$/;function n9(t){if(!t||typeof t!="string")return!1;const e=t.match(whe);if(!e)return!1;const r=e[1];return r?!!(Ehe.test(r)||xhe.test(r)):!1}function Od(t,e,r){return n9(r)?r:(0,bhe.default)(t,r??e)}function She(t){return t===void 0||Object.keys(t).length===0||Object.keys(t).length===1&&Object.entries(t).every(([e,r])=>e==="blockIdentifier"&&r===null)}var F4={network:"SN_GOERLI",blockIdentifier:"pending"},wg=class{constructor(t=F4){this.responseParser=new _he,"network"in t?(this.baseUrl=wg.getNetworkFromName(t.network),this.feederGatewayUrl=Od(this.baseUrl,"feeder_gateway"),this.gatewayUrl=Od(this.baseUrl,"gateway")):(this.baseUrl=t.baseUrl,this.feederGatewayUrl=Od(this.baseUrl,"feeder_gateway",t.feederGatewayUrl),this.gatewayUrl=Od(this.baseUrl,"gateway",t.gatewayUrl)),this.chainId=(t==null?void 0:t.chainId)??wg.getChainIdFromBaseUrl(this.baseUrl),this.headers=t.headers,this.blockIdentifier=(t==null?void 0:t.blockIdentifier)||F4.blockIdentifier}static getNetworkFromName(t){switch(t){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(t){try{return new URL(t).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${t}`),"0x534e5f474f45524c49"}}getFetchUrl(t){return["add_transaction"].includes(t)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(t){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(t)?"POST":"GET"}getQueryString(t){return She(t)?"":`?${Object.entries(t).map(([r,n])=>r==="blockIdentifier"?`${new dr(n).queryIdentifier}`:`${r}=${n}`).join("&")}`}getHeaders(t){return t==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(t,...[e,r]){const n=this.getFetchUrl(t),i=this.getFetchMethod(t),s=this.getQueryString(e),o=(0,ghe.default)(n,t,s);return this.fetch(o,{method:i,body:r})}async fetch(t,e){const r=Od(this.baseUrl,"",t),n=(e==null?void 0:e.method)??"GET",i=this.getHeaders(n),s=qs(e==null?void 0:e.body);try{const o=await G7(r,{method:n,body:s,headers:i}),a=await o.text();if(!o.ok){let l;try{l=El(a)}catch{throw new K7(o.statusText,o.status)}throw new Q7(l.message,l.code)}return(e!=null&&e.parseAlwaysAsBigInt?M7:El)(a)}catch(o){throw o instanceof Error&&!(o instanceof xl)?Error(`Could not ${n} from endpoint \`${r}\`: ${o.message}`):o}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:t,entrypoint:e,calldata:r=[]},n=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:n},{contract_address:t,entry_point_selector:fo(e),calldata:yt.compile(r)}).then(this.responseParser.parseCallContractResponse)}async getBlock(t=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:t}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(t,e=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:t,blockIdentifier:e})}async getStorageAt(t,e,r=this.blockIdentifier){const n=Ze(e).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:r,contractAddress:t,key:n})}async getTransaction(t){const e=xe(t);return this.fetchEndpoint("get_transaction",{transactionHash:e}).then(r=>{if(Object.values(r).length===1)throw new xl(r.status);return this.responseParser.parseGetTransactionResponse(r)})}async getTransactionReceipt(t){const e=xe(t);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:e}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(t,e=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:e,contractAddress:t}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(t,e=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:e,contractAddress:t})}async getClassByHash(t,e=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:t,blockIdentifier:e}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(t,e=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:t,blockIdentifier:e})}async getContractVersion(t,e,{blockIdentifier:r=this.blockIdentifier,compiler:n=!0}={}){let i;if(t)i=await this.getClassAt(t,r);else if(e)i=await this.getClassByHash(e,r);else throw Error("getContractVersion require contractAddress or classHash");return di(i)?n?{cairo:"1",compiler:NE(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async invokeFunction(t,e){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:t.contractAddress,calldata:yt.compile(t.calldata??[]),signature:Cd(t.signature),nonce:xe(e.nonce),max_fee:xe(e.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:t,constructorCalldata:e,addressSalt:r,signature:n},i){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:r??pN(),constructor_calldata:yt.compile(e??[]),class_hash:xe(t),max_fee:xe(i.maxFee||0),version:xe(i.version||0),nonce:xe(i.nonce),signature:Cd(n)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:t,contract:e,signature:r,compiledClassHash:n},i){return di(e)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:t,compiled_class_hash:n,contract_class:e,nonce:xe(i.nonce),signature:Cd(r),max_fee:xe(i.maxFee||0),version:xe(_g)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:e,nonce:xe(i.nonce),signature:Cd(r),sender_address:t,max_fee:xe(i.maxFee||0),version:xe(Bc)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(t,e,r=this.blockIdentifier,n=!1){return this.getInvokeEstimateFee(t,e,r,n)}async getInvokeEstimateFee(t,e,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"INVOKE_FUNCTION",...t,...e},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(t,e,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"DECLARE",...t,...e},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(t,e,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"DEPLOY_ACCOUNT",...t,...e},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1}){const n=t.map(i=>this.buildTransaction(i,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:e,skipValidate:r},n).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(t,e=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:t,blockIdentifier:e})}async waitForTransaction(t,e){let r,n=!1,i=0;const s=(e==null?void 0:e.retryInterval)??5e3,o=(e==null?void 0:e.errorStates)??["REJECTED","NOT_RECEIVED","REVERTED"],a=(e==null?void 0:e.successStates)??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!n;)if(await G1(s),r=await this.getTransactionStatus(t),r.finality_status==="NOT_RECEIVED"&&i<3)i+=1;else if(a.includes(r.finality_status)||a.includes(r.execution_status))n=!0;else if(o.includes(r.finality_status)||o.includes(r.execution_status)){let l;r.tx_failure_reason?l=`${r.tx_status}: ${r.tx_failure_reason.code}
${r.tx_failure_reason.error_message}`:r.tx_revert_reason?l=`${r.tx_status}: ${r.tx_revert_reason}`:l=r.tx_status;const c=new Error(l);throw c.response=r,c}return await this.getTransactionReceipt(t)}async getTransactionStatus(t){const e=xe(t);return this.fetchEndpoint("get_transaction_status",{transactionHash:e})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(t){const e=xe(t);return this.fetchEndpoint("get_transaction_trace",{transactionHash:e})}async estimateMessageFee({from_address:t,to_address:e,entry_point_selector:r,payload:n},i=this.blockIdentifier){const s={from_address:d7(t),to_address:qP(e),entry_point_selector:IE(r),payload:ZP(n)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:i},s)}async getSimulateTransaction(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1,skipExecute:n=!1}){t.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),n&&console.warn("Sequencer can't skip account __execute__");const i=this.buildTransaction(t[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:e,skipValidate:r??!1},i).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(t=this.blockIdentifier){const e=new dr(t).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...e}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(t=this.blockIdentifier){const e=new dr(t).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...e})}async getStarkName(t,e){return gN(this,t,e)}async getAddressFromStarkName(t,e){return vN(this,t,e)}buildTransaction(t,e){const r=dN(e),n={signature:Cd(t.signature),nonce:xe(t.nonce)};if(t.type==="INVOKE_FUNCTION")return{type:t.type,sender_address:t.contractAddress,calldata:yt.compile(t.calldata??[]),version:xe(t.version||r.v1),...n};if(t.type==="DECLARE")return di(t.contract)?{type:t.type,contract_class:t.contract,compiled_class_hash:t.compiledClassHash,sender_address:t.senderAddress,version:xe(t.version||r.v2),...n}:{type:t.type,contract_class:t.contract,sender_address:t.senderAddress,version:xe(t.version||r.v1),...n};if(t.type==="DEPLOY_ACCOUNT")return{type:t.type,constructor_calldata:yt.compile(t.constructorCalldata||[]),class_hash:xe(t.classHash),contract_address_salt:xe(t.addressSalt||0),version:xe(t.version||r.v1),...n};throw Error("Sequencer buildTransaction received unknown TransactionType")}},DE=class{constructor(t){t instanceof DE?this.provider=t.provider:t instanceof Rb||t instanceof wg?this.provider=t:t&&"rpc"in t?this.provider=new Rb(t.rpc):t&&"sequencer"in t?this.provider=new wg(t.sequencer):this.provider=new Rb}async getChainId(){return this.provider.getChainId()}async getBlock(t){return this.provider.getBlock(t)}async getClassAt(t,e){return this.provider.getClassAt(t,e)}async getClassHashAt(t,e){return this.provider.getClassHashAt(t,e)}getClassByHash(t){return this.provider.getClassByHash(t)}async getEstimateFee(t,e,r){return this.provider.getEstimateFee(t,e,r)}async getInvokeEstimateFee(t,e,r,n){return this.provider.getInvokeEstimateFee(t,e,r,n)}async getEstimateFeeBulk(t,e){return this.provider.getEstimateFeeBulk(t,e)}async getNonceForAddress(t,e){return this.provider.getNonceForAddress(t,e)}async getStorageAt(t,e,r){return this.provider.getStorageAt(t,e,r)}async getTransaction(t){return this.provider.getTransaction(t)}async getTransactionReceipt(t){return this.provider.getTransactionReceipt(t)}async callContract(t,e){return this.provider.callContract(t,e)}async invokeFunction(t,e){return this.provider.invokeFunction(t,e)}async deployAccountContract(t,e){return this.provider.deployAccountContract(t,e)}async declareContract(t,e){return this.provider.declareContract(t,e)}async getDeclareEstimateFee(t,e,r,n){return this.provider.getDeclareEstimateFee(t,e,r,n)}getDeployAccountEstimateFee(t,e,r,n){return this.provider.getDeployAccountEstimateFee(t,e,r,n)}async getCode(t,e){return this.provider.getCode(t,e)}async waitForTransaction(t,e){return this.provider.waitForTransaction(t,e)}async getSimulateTransaction(t,e){return this.provider.getSimulateTransaction(t,e)}async getStateUpdate(t){return this.provider.getStateUpdate(t)}async getStarkName(t,e){return gN(this,t,e)}async getAddressFromStarkName(t,e){return vN(this,t,e)}async getContractVersion(t,e,r){return this.provider.getContractVersion(t,e,r)}},Ahe=class{},i9={};xr(i9,{fromCallsToExecuteCalldata:()=>_N,fromCallsToExecuteCalldataWithNonce:()=>The,fromCallsToExecuteCalldata_cairo1:()=>o9,getExecuteCalldata:()=>W1,transformCallsToMulticallArrays:()=>s9,transformCallsToMulticallArrays_cairo1:()=>Che});var s9=t=>{const e=[],r=[];return t.forEach(n=>{const i=yt.compile(n.calldata||[]);e.push({to:Ze(n.contractAddress).toString(10),selector:Ze(fo(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:i.length.toString()}),r.push(...i)}),{callArray:e,calldata:yt.compile({calldata:r})}},_N=t=>{const{callArray:e,calldata:r}=s9(t);return[...yt.compile({callArray:e}),...r]},The=(t,e)=>[..._N(t),Ze(e).toString()],Che=t=>t.map(r=>({to:Ze(r.contractAddress).toString(10),selector:Ze(fo(r.entrypoint)).toString(10),calldata:yt.compile(r.calldata||[])})),o9=t=>{const e=t.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:Array.isArray(r.calldata)&&"__compiled__"in r.calldata?r.calldata:yt.compile(r.calldata)}));return yt.compile({orderCalls:e})},W1=(t,e="0")=>e==="1"?o9(t):_N(t),a9={};xr(a9,{encodeData:()=>p9,encodeType:()=>d9,encodeValue:()=>wN,getDependencies:()=>bN,getMessageHash:()=>EN,getStructHash:()=>Eg,getTypeHash:()=>f9,isMerkleTreeType:()=>h9,prepareSelector:()=>c9});var u9={};xr(u9,{MerkleTree:()=>_f,proofMerklePath:()=>l9});var _f=class{constructor(t){this.branches=[],this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);const e=[];for(let r=0;r<t.length;r+=2)r+1===t.length?e.push(_f.hash(t[r],"0x0")):e.push(_f.hash(t[r],t[r+1]));return this.build(e)}static hash(t,e){const[r,n]=[Ze(t),Ze(e)].sort((i,s)=>i>=s?1:-1);return Si.pedersen(r,n)}getProof(t,e=this.leaves,r=[]){const n=e.indexOf(t);if(n===-1)throw new Error("leaf not found");if(e.length===1)return r;const i=n%2===0,s=(i?e[n+1]:e[n-1])??"0x0",o=[...r,s],a=this.leaves.length===e.length?-1:this.branches.findIndex(l=>l.length===e.length),u=this.branches[a+1]??[this.root];return this.getProof(_f.hash(i?t:s,i?s:t),u,o)}};function l9(t,e,r){if(r.length===0)return t===e;const[n,...i]=r;return l9(t,_f.hash(e,n),i)}function Ihe(t){try{return xe(t)}catch{if(typeof t=="string")return xe(Ll(t));throw new Error(`Invalid BigNumberish: ${t}`)}}var Ohe=t=>{const e=t;return!!(e.types&&e.primaryType&&e.message)};function c9(t){return ho(t)?t:fo(t)}function h9(t){return t.type==="merkletree"}var bN=(t,e,r=[])=>(e[e.length-1]==="*"&&(e=e.slice(0,-1)),r.includes(e)||!t[e]?r:[e,...t[e].reduce((n,i)=>[...n,...bN(t,i.type,n).filter(s=>!n.includes(s))],[])]);function Rhe(t,e){if(e.parent&&e.key){const n=t[e.parent].find(s=>s.name===e.key);if(!h9(n))throw new Error(`${e.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${e.key}`);return n.contains}return"raw"}var d9=(t,e)=>{const[r,...n]=bN(t,e);return(r?[r,...n.sort()]:[]).map(s=>`${s}(${t[s].map(o=>`${o.name}:${o.type}`)})`).join("")},f9=(t,e)=>fo(d9(t,e)),wN=(t,e,r,n={})=>{if(t[e])return[e,Eg(t,e,r)];if(Object.keys(t).map(i=>`${i}*`).includes(e)){const i=r.map(s=>Eg(t,e.slice(0,-1),s));return[e,Dn(i)]}if(e==="merkletree"){const i=Rhe(t,n),s=r.map(a=>wN(t,i,a)[1]),{root:o}=new _f(s);return["felt",o]}return e==="felt*"?["felt*",Dn(r)]:e==="selector"?["felt",c9(r)]:[e,Ihe(r)]},p9=(t,e,r)=>{const[n,i]=t[e].reduce(([s,o],a)=>{if(r[a.name]===void 0||r[a.name]===null)throw new Error(`Cannot encode data: missing data for '${a.name}'`);const u=r[a.name],[l,c]=wN(t,a.type,u,{parent:e,key:a.name});return[[...s,l],[...o,c]]},[["felt"],[f9(t,e)]]);return[n,i]},Eg=(t,e,r)=>Dn(p9(t,e,r)[1]),EN=(t,e)=>{if(!Ohe(t))throw new Error("Typed data does not match JSON schema");const r=[Ll("StarkNet Message"),Eg(t.types,"StarkNetDomain",t.domain),e,Eg(t.types,t.primaryType,t.message)];return Dn(r)},m9=class{constructor(t=Si.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?BV(t):xe(t)}async getPubKey(){return Si.getStarkKey(this.pk)}async signMessage(t,e){const r=EN(t,e);return Si.sign(r,this.pk)}async signTransaction(t,e,r){if(r&&r.length!==t.length)throw new Error("ABI must be provided for each transaction or no transaction");const n=W1(t,e.cairoVersion),i=L7(e.walletAddress,e.version,n,e.maxFee,e.chainId,e.nonce);return Si.sign(i,this.pk)}async signDeployAccountTransaction({classHash:t,contractAddress:e,constructorCalldata:r,addressSalt:n,maxFee:i,version:s,chainId:o,nonce:a}){const u=B7(e,t,yt.compile(r),n,s,i,o,a);return Si.sign(u,this.pk)}async signDeclareTransaction({classHash:t,senderAddress:e,chainId:r,maxFee:n,version:i,nonce:s,compiledClassHash:o}){const a=D7(t,e,i,n,r,s,o);return Si.sign(a,this.pk)}};function y9(t){if(!t.events)throw new Error("UDC emitted event is empty");const e=t.events.find(r=>gg(r.from_address)===gg(wc.ADDRESS))||{data:[]};return{transaction_hash:t.transaction_hash,contract_address:e.data[0],address:e.data[0],deployer:e.data[1],unique:e.data[2],classHash:e.data[3],calldata_len:e.data[4],calldata:e.data.slice(5,5+parseInt(e.data[4],16)),salt:e.data[e.data.length-1]}}var khe=class extends DE{constructor(t,e,r,n){super(t),this.deploySelf=this.deployAccount,this.address=e.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new m9(r):r,n&&(this.cairoVersion=n.toString())}async getNonce(t){return super.getNonceForAddress(this.address,t)}async getNonceSafe(t){try{return Ze(t??await this.getNonce())}catch{return 0n}}async getCairoVersion(t){if(!this.cairoVersion){const{cairo:e}=t?await super.getContractVersion(void 0,t):await super.getContractVersion(this.address);this.cairoVersion=e}return this.cairoVersion}async estimateFee(t,e){return this.estimateInvokeFee(t,e)}async estimateInvokeFee(t,{nonce:e,blockIdentifier:r,skipValidate:n}={}){const i=Array.isArray(t)?t:[t],s=Ze(e??await this.getNonce()),o=Ze(Kd),a=await this.getChainId(),u={walletAddress:this.address,nonce:s,maxFee:ri,version:o,chainId:a,cairoVersion:await this.getCairoVersion()},l=await this.buildInvocation(i,u),c=await super.getInvokeEstimateFee({...l},{version:o,nonce:s},r,n),f=Lc(c.overall_fee);return{...c,suggestedMaxFee:f}}async estimateDeclareFee({contract:t,classHash:e,casm:r,compiledClassHash:n},{blockIdentifier:i,nonce:s,skipValidate:o}={}){const a=Ze(s??await this.getNonce()),u=di(t)?H1:Kd,l=await this.getChainId(),c=await this.buildDeclarePayload({classHash:e,contract:t,casm:r,compiledClassHash:n},{nonce:a,chainId:l,version:u,walletAddress:this.address,maxFee:ri,cairoVersion:void 0}),f=await super.getDeclareEstimateFee(c,{version:u,nonce:a},i,o),p=Lc(f.overall_fee);return{...f,suggestedMaxFee:p}}async estimateAccountDeployFee({classHash:t,addressSalt:e=0,constructorCalldata:r=[],contractAddress:n},{blockIdentifier:i,skipValidate:s}={}){const o=Ze(Kd),a=ri,u=await this.getChainId(),l=await this.buildAccountDeployPayload({classHash:t,addressSalt:e,constructorCalldata:r,contractAddress:n},{nonce:a,chainId:u,version:o,walletAddress:this.address,maxFee:ri,cairoVersion:void 0}),c=await super.getDeployAccountEstimateFee({...l},{version:o,nonce:a},i,s),f=Lc(c.overall_fee);return{...c,suggestedMaxFee:f}}async estimateDeployFee(t,e){const r=this.buildUDCContractPayload(t);return this.estimateInvokeFee(r,e)}async estimateFeeBulk(t,{nonce:e,blockIdentifier:r,skipValidate:n}={}){const i=await this.accountInvocationsFactory(t,{versions:[Kd,H1],nonce:e,blockIdentifier:r}),s=await super.getEstimateFeeBulk(i,{blockIdentifier:r,skipValidate:n});return[].concat(s).map(o=>{const a=Lc(o.overall_fee);return{...o,suggestedMaxFee:a}})}async buildInvocation(t,e){const r=W1(t,await this.getCairoVersion()),n=await this.signer.signTransaction(t,e);return{contractAddress:this.address,calldata:r,signature:n}}async execute(t,e=void 0,r={}){const n=Array.isArray(t)?t:[t],i=Ze(r.nonce??await this.getNonce()),s=r.maxFee??await this.getSuggestedMaxFee({type:"INVOKE_FUNCTION",payload:t},r),o=Ze(Bc),a=await this.getChainId(),u={walletAddress:this.address,nonce:i,maxFee:s,version:o,chainId:a,cairoVersion:await this.getCairoVersion()},l=await this.signer.signTransaction(n,u,e),c=W1(n,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:c,signature:l},{nonce:i,maxFee:s,version:o})}async declareIfNot(t,e={}){const r=Ob(t);try{await this.getClassByHash(r.classHash)}catch{return this.declare(t,e)}return{transaction_hash:"",class_hash:r.classHash}}async declare(t,e={}){const r=Ob(t),n={};n.nonce=Ze(e.nonce??await this.getNonce()),n.maxFee=e.maxFee??await this.getSuggestedMaxFee({type:"DECLARE",payload:r},e),n.version=di(t.contract)?_g:Bc,n.chainId=await this.getChainId();const i=await this.buildDeclarePayload(r,{...n,walletAddress:this.address,cairoVersion:void 0});return this.declareContract(i,n)}async deploy(t,e){const r=[].concat(t).map(o=>{const{classHash:a,salt:u,unique:l=!0,constructorCalldata:c=[]}=o,f=yt.compile(c),p=u??pN();return{call:{contractAddress:wc.ADDRESS,entrypoint:wc.ENTRYPOINT,calldata:[a,p,u2(l),f.length,...f]},address:Ib(l?Si.pedersen(this.address,p):p,a,f,l?wc.ADDRESS:0)}}),n=r.map(o=>o.call),i=r.map(o=>o.address);return{...await this.execute(n,void 0,e),contract_address:i}}async deployContract(t,e){const r=await this.deploy(t,e),n=await this.waitForTransaction(r.transaction_hash);return y9(n)}async declareAndDeploy(t,e){const{constructorCalldata:r,salt:n,unique:i}=t;let s=await this.declareIfNot(t,e);if(s.transaction_hash!==""){const a=await this.waitForTransaction(s.transaction_hash);s={...s,...a}}const o=await this.deployContract({classHash:s.class_hash,salt:n,unique:i,constructorCalldata:r},e);return{declare:{...s},deploy:o}}async deployAccount({classHash:t,constructorCalldata:e=[],addressSalt:r=0,contractAddress:n},i={}){const s=Ze(Bc),o=ri,a=await this.getChainId(),u=yt.compile(e),l=n??Ib(r,t,u,0),c=i.maxFee??await this.getSuggestedMaxFee({type:"DEPLOY_ACCOUNT",payload:{classHash:t,constructorCalldata:u,addressSalt:r,contractAddress:l}},i),f=await this.signer.signDeployAccountTransaction({classHash:t,constructorCalldata:u,contractAddress:l,addressSalt:r,chainId:a,maxFee:c,version:s,nonce:o});return this.deployAccountContract({classHash:t,addressSalt:r,constructorCalldata:e,signature:f},{nonce:o,maxFee:c,version:s})}async signMessage(t){return this.signer.signMessage(t,this.address)}async hashMessage(t){return EN(t,this.address)}async verifyMessageHash(t,e){try{return await this.callContract({contractAddress:this.address,entrypoint:"isValidSignature",calldata:yt.compile({hash:Ze(t).toString(),signature:ME(e)})}),!0}catch{return!1}}async verifyMessage(t,e){const r=await this.hashMessage(t);return this.verifyMessageHash(r,e)}async getSuggestedMaxFee({type:t,payload:e},r){let n;switch(t){case"INVOKE_FUNCTION":n=await this.estimateInvokeFee(e,r);break;case"DECLARE":n=await this.estimateDeclareFee(e,r);break;case"DEPLOY_ACCOUNT":n=await this.estimateAccountDeployFee(e,r);break;case"DEPLOY":n=await this.estimateDeployFee(e,r);break;default:n={suggestedMaxFee:ri,overall_fee:ri};break}return n.suggestedMaxFee}async buildDeclarePayload(t,{nonce:e,chainId:r,version:n,walletAddress:i,maxFee:s}){const{classHash:o,contract:a,compiledClassHash:u}=Ob(t),l=mN(a),c=await this.signer.signDeclareTransaction({classHash:o,compiledClassHash:u,senderAddress:i,chainId:r,maxFee:s,version:n,nonce:e});return{senderAddress:i,signature:c,contract:l,compiledClassHash:u}}async buildAccountDeployPayload({classHash:t,addressSalt:e=0,constructorCalldata:r=[],contractAddress:n},{nonce:i,chainId:s,version:o,maxFee:a}){const u=yt.compile(r),l=n??Ib(e,t,u,0),c=await this.signer.signDeployAccountTransaction({classHash:t,contractAddress:l,chainId:s,maxFee:a,version:o,nonce:i,addressSalt:e,constructorCalldata:u});return{classHash:t,addressSalt:e,constructorCalldata:u,signature:c}}buildUDCContractPayload(t){return[].concat(t).map(r=>{const{classHash:n,salt:i="0",unique:s=!0,constructorCalldata:o=[]}=r,a=yt.compile(o);return{contractAddress:wc.ADDRESS,entrypoint:wc.ENTRYPOINT,calldata:[n,i,u2(s),a.length,...a]}})}async simulateTransaction(t,{nonce:e,blockIdentifier:r,skipValidate:n,skipExecute:i}={}){const s=await this.accountInvocationsFactory(t,{versions:[Bc,_g],nonce:e,blockIdentifier:r});return super.getSimulateTransaction(s,{blockIdentifier:r,skipValidate:n,skipExecute:i})}async accountInvocationsFactory(t,{versions:e,nonce:r,blockIdentifier:n}){const i=e[0],s=await this.getNonceSafe(r),o=await this.getChainId(),a="payload"in t[0]?t[0].payload:t[0],u=t[0].type==="DEPLOY_ACCOUNT"?await this.getCairoVersion(a.classHash):await this.getCairoVersion();return Promise.all([].concat(t).map(async(l,c)=>{const f="payload"in l?l.payload:l,p={walletAddress:this.address,nonce:Ze(Number(s)+c),maxFee:ri,version:i,chainId:o,cairoVersion:u},m={type:l.type,version:i,nonce:Ze(Number(s)+c),blockIdentifier:n};if(l.type==="INVOKE_FUNCTION"){const y=await this.buildInvocation([].concat(f),p);return{...m,...y}}if(l.type==="DECLARE"){p.version=di(f.contract)?Ze(e[1]):Ze(e[0]);const y=await this.buildDeclarePayload(f,p);return{...m,...y,version:p.version}}if(l.type==="DEPLOY_ACCOUNT"){const y=await this.buildAccountDeployPayload(f,p);return{...m,...y}}if(l.type==="DEPLOY"){const y=this.buildUDCContractPayload(f),g=await this.buildInvocation(y,p);return{...m,...g,type:"INVOKE_FUNCTION"}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${l}`)}))}async getStarkName(t=this.address,e){return super.getStarkName(t,e)}},g9=class{},v9=new DE({rpc:{default:!0}}),Phe=class extends g9{},_9={};xr(_9,{getAbiEvents:()=>b9,parseEvents:()=>w9});function b9(t){return t.filter(e=>e.type==="event"&&(e.size||e.kind!=="enum")).reduce((e,r)=>{const n=r.name.slice(r.name.lastIndexOf(":")+1),i={...r};return i.name=n,{...e,[ln(Si.keccak(Rp(n)).toString(16))]:i}},{})}function w9(t,e,r,n){return t.flat().reduce((s,o)=>{var m,y;const a=e[o.keys[0]];if(!a)return s;const u={};u[a.name]={},o.keys.shift();const l=o.keys[Symbol.iterator](),c=o.data[Symbol.iterator](),f=((m=a.members)==null?void 0:m.filter(g=>g.kind==="key"))||a.keys,p=((y=a.members)==null?void 0:y.filter(g=>g.kind==="data"))||a.data;return f.forEach(g=>{u[a.name][g.name]=c2(l,g,r,n,u[a.name])}),p.forEach(g=>{u[a.name][g.name]=c2(c,g,r,n,u[a.name])}),s.push(u),s},[])}var BE=t=>{const e=["blockIdentifier","parseRequest","parseResponse","formatResponse","maxFee","nonce","signature","addressSalt"],r=t[t.length-1];return typeof r=="object"&&e.some(n=>n in r)?{args:t,options:t.pop()}:{args:t}};function E9(t,e){return async function(...r){const n=BE(r);return t.call(e.name,n.args,{parseRequest:!0,parseResponse:!0,...n.options})}}function Nhe(t,e){return async function(...r){const n=BE(r);return t.invoke(e.name,n.args,{parseRequest:!0,...n.options})}}function U4(t,e){return e.stateMutability==="view"||e.state_mutability==="view"?E9(t,e):Nhe(t,e)}function Mhe(t,e){return function(...r){return t.populate(e.name,r)}}function Dhe(t,e){return function(...r){return t.estimate(e.name,r)}}function ef(t,e){return Array.isArray(t)&&"__compiled__"in t?t:Array.isArray(t)&&Array.isArray(t[0])&&"__compiled__"in t[0]?t[0]:e()}var p2=class{constructor(t,e,r=v9){this.address=e&&e.toLowerCase(),this.providerOrAccount=r,this.callData=new yt(t),this.structs=yt.getAbiStruct(t),this.events=b9(t);const n=x7(t);this.abi=n.getLegacyFormat();const i={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(s=>{if(s.type!=="function")return;const o=s.name;this[o]||Object.defineProperty(this,o,{...i,value:U4(this,s)}),this.functions[o]||Object.defineProperty(this.functions,o,{...i,value:U4(this,s)}),this.callStatic[o]||Object.defineProperty(this.callStatic,o,{...i,value:E9(this,s)}),this.populateTransaction[o]||Object.defineProperty(this.populateTransaction,o,{...i,value:Mhe(this,s)}),this.estimateFee[o]||Object.defineProperty(this.estimateFee,o,{...i,value:Dhe(this,s)})})}attach(t){this.address=t}connect(t){this.providerOrAccount=t}async deployed(){return this.deployTransactionHash&&(await this.providerOrAccount.waitForTransaction(this.deployTransactionHash),this.deployTransactionHash=void 0),this}async call(t,e=[],{parseRequest:r=!0,parseResponse:n=!0,formatResponse:i=void 0,blockIdentifier:s=void 0}={}){Pt(this.address!==null,"contract is not connected to an address");const o=ef(e,()=>r?(this.callData.validate("CALL",t,e),this.callData.compile(t,e)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),e));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:o,entrypoint:t},s).then(a=>n?i?this.callData.format(t,a.result,i):this.callData.parse(t,a.result):a.result)}invoke(t,e=[],{parseRequest:r=!0,maxFee:n,nonce:i,signature:s}={}){Pt(this.address!==null,"contract is not connected to an address");const o=ef(e,()=>r?(this.callData.validate("INVOKE",t,e),this.callData.compile(t,e)):(console.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),e)),a={contractAddress:this.address,calldata:o,entrypoint:t};if("execute"in this.providerOrAccount)return this.providerOrAccount.execute(a,void 0,{maxFee:n,nonce:i});if(!i)throw new Error("Nonce is required when invoking a function without an account");return console.warn(`Invoking ${t} without an account. This will not work on a public node.`),this.providerOrAccount.invokeFunction({...a,signature:s},{nonce:i})}async estimate(t,e=[]){Pt(this.address!==null,"contract is not connected to an address"),ef(e,()=>!1)||this.callData.validate("INVOKE",t,e);const r=this.populate(t,e);if("estimateInvokeFee"in this.providerOrAccount)return this.providerOrAccount.estimateInvokeFee(r);throw Error("Contract must be connected to the account contract to estimate")}populate(t,e=[]){const r=ef(e,()=>this.callData.compile(t,e));return{contractAddress:this.address,entrypoint:t,calldata:r}}parseEvents(t){var e;return w9(((e=t.events)==null?void 0:e.filter(r=>gg(r.from_address)===gg(this.address),[]))||[],this.events,this.structs,yt.getAbiEnum(this.abi))}isCairo1(){return tN.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typed(t){return this}},Bhe=class{},Lhe=class{constructor(t){this.compiledContract=t.compiledContract,this.account=t.account,this.casm=t.casm,this.abi=t.abi??t.compiledContract.abi,this.classHash=t.classHash,this.compiledClassHash=t.compiledClassHash,this.CallData=new yt(this.abi)}async deploy(...t){const{args:e,options:r={parseRequest:!0}}=BE(t),n=ef(e,()=>r.parseRequest?(this.CallData.validate("DEPLOY","constructor",e),this.CallData.compile("constructor",e)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),e)),{deploy:{contract_address:i,transaction_hash:s}}=await this.account.declareAndDeploy({contract:this.compiledContract,casm:this.casm,classHash:this.classHash,compiledClassHash:this.compiledClassHash,constructorCalldata:n,salt:r.addressSalt});Pt(!!i,"Deployment of the contract failed");const o=new p2(this.compiledContract.abi,i,this.account);return o.deployTransactionHash=s,o}connect(t){return this.account=t,this}attach(t){return new p2(this.abi,t,this.account)}},$he=Gf();function x9(t){return ln(eu(xe(t)).padStart(64,"0"))}function S9(t){l7(t,ri,DP-1n,"Starknet Address");const e=x9(t);if(!e.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return e}function A9(t){const e=eu(S9(t)).toLowerCase().split(""),r=eu(XP(t)),n=(0,$he.hexToBytes)(r.padStart(64,"0"));for(let i=0;i<e.length;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return ln(e.join(""))}function Fhe(t){return A9(t)===t}var Uhe=GP,Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.UnsupportedAccountInterfaceError=Bn.UserNotConnectedError=Bn.UserRejectedRequestError=Bn.ConnectorNotFoundError=Bn.ConnectorNotConnectedError=Bn.ConnectorAlreadyConnectedError=void 0;class jhe extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}}Bn.ConnectorAlreadyConnectedError=jhe;class zhe extends Error{constructor(){super(...arguments),this.name="ConnectorNotConnectedError",this.message="Connector not connected"}}Bn.ConnectorNotConnectedError=zhe;class Hhe extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}}Bn.ConnectorNotFoundError=Hhe;class Vhe extends Error{constructor(){super(...arguments),this.name="UserRejectedRequestError",this.message="User rejected request"}}Bn.UserRejectedRequestError=Vhe;class Ghe extends Error{constructor(){super(...arguments),this.name="UserNotConnectedError",this.message="User not connected"}}Bn.UserNotConnectedError=Ghe;class Whe extends Error{constructor(){super(...arguments),this.name="UnsupportedAccountInterfaceError",this.message="Unsupported account interface. starknet-react v1 only supports the starknet.js v5 account interface"}}Bn.UnsupportedAccountInterfaceError=Whe;Object.defineProperty(lh,"__esModule",{value:!0});lh.StarknetProvider=lh.useStarknet=void 0;const j4=Or,z4=lo,ku=Me,H4=Nh,V4=Bn,q1=new H4.Provider({sequencer:{network:H4.constants.NetworkName.SN_MAIN}}),qhe={account:void 0,connect:()=>{},disconnect:()=>{},library:q1,connectors:[]},T9=(0,ku.createContext)(qhe);function Zhe(){return(0,ku.useContext)(T9)}lh.useStarknet=Zhe;function Xhe(t,e){switch(e.type){case"set_account":return{...t,account:e.account};case"set_provider":return{...t,library:e.provider??q1};case"set_connector":return{...t,connector:e.connector};case"set_error":return{...t,error:e.error};default:return t}}function Yhe({defaultProvider:t,connectors:e,autoConnect:r}){const n=e??[],[i,s]=(0,ku.useReducer)(Xhe,{library:t||q1,connectors:n}),{account:o,library:a,error:u}=i,l=(0,ku.useCallback)(p=>{p.connect().then(m=>{s({type:"set_account",account:m.address}),s({type:"set_provider",provider:m}),s({type:"set_connector",connector:p}),r&&localStorage.setItem("lastUsedConnector",p.id)},m=>{console.error(m),s({type:"set_error",error:new V4.ConnectorNotFoundError})})},[r]),c=(0,ku.useCallback)(()=>{s({type:"set_account",account:void 0}),s({type:"set_provider",provider:t||q1}),s({type:"set_connector",connector:void 0}),r&&localStorage.removeItem("lastUsedConnector"),i.connector&&(i.connector.removeEventListener(f),i.connector.disconnect().catch(p=>{console.error(p),s({type:"set_error",error:new V4.ConnectorNotFoundError})}))},[r,i.connector,t]),f=(0,ku.useCallback)(()=>{c(),i.connector&&l(i.connector)},[i.connector,l,c]);return(0,ku.useEffect)(()=>{var p;i.connector&&((p=i.connector)==null||p.initEventListener(f))},[i.connector,f]),(0,ku.useEffect)(()=>{async function p(m){const y=localStorage.getItem("lastUsedConnector");if(y===null)return;const g=m.find(b=>b.id===y);if(g!==void 0)try{if(!await g.ready())return;l(g)}catch{}}r&&!o&&p(n)},[]),{account:o,connect:l,disconnect:c,connectors:n,library:a,error:u}}function Qhe({children:t,defaultProvider:e,connectors:r,autoConnect:n,queryClient:i}){const s=Yhe({defaultProvider:e,connectors:r,autoConnect:n});return(0,j4.jsx)(z4.QueryClientProvider,{client:i??new z4.QueryClient,children:(0,j4.jsx)(T9.Provider,{value:s,children:t})})}lh.StarknetProvider=Qhe;var m2={},_v="delete",jt=5,ns=1<<jt,Fn=ns-1,mt={};function y2(){return{value:!1}}function is(t){t&&(t.value=!0)}function xN(){}function qf(t){return t.size===void 0&&(t.size=t.__iterate(C9)),t.size}function Sl(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?qf(t)+e:e}function C9(){return!0}function bv(t,e,r){return(t===0&&!O9(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function Pp(t,e){return I9(t,e,0)}function wv(t,e){return I9(t,e,e)}function I9(t,e,r){return t===void 0?r:O9(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function O9(t){return t<0||t===0&&1/t===-1/0}var R9="@@__IMMUTABLE_ITERABLE__@@";function wn(t){return!!(t&&t[R9])}var k9="@@__IMMUTABLE_KEYED__@@";function Ot(t){return!!(t&&t[k9])}var P9="@@__IMMUTABLE_INDEXED__@@";function on(t){return!!(t&&t[P9])}function Np(t){return Ot(t)||on(t)}var Ht=function(e){return wn(e)?e:En(e)},vs=function(t){function e(r){return Ot(r)?r:Ul(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht),Dh=function(t){function e(r){return on(r)?r:_s(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht),Mp=function(t){function e(r){return wn(r)&&!Np(r)?r:Lp(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht);Ht.Keyed=vs;Ht.Indexed=Dh;Ht.Set=Mp;var N9="@@__IMMUTABLE_SEQ__@@";function Ev(t){return!!(t&&t[N9])}var M9="@@__IMMUTABLE_RECORD__@@";function Fl(t){return!!(t&&t[M9])}function Di(t){return wn(t)||Fl(t)}var Dp="@@__IMMUTABLE_ORDERED__@@";function Ri(t){return!!(t&&t[Dp])}var xv=0,Js=1,ps=2,g2=typeof Symbol=="function"&&Symbol.iterator,D9="@@iterator",LE=g2||D9,Et=function(e){this.next=e};Et.prototype.toString=function(){return"[Iterator]"};Et.KEYS=xv;Et.VALUES=Js;Et.ENTRIES=ps;Et.prototype.inspect=Et.prototype.toSource=function(){return this.toString()};Et.prototype[LE]=function(){return this};function Vt(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Vn(){return{value:void 0,done:!0}}function SN(t){return Array.isArray(t)?!0:!!$E(t)}function G4(t){return t&&typeof t.next=="function"}function v2(t){var e=$E(t);return e&&e.call(t)}function $E(t){var e=t&&(g2&&t[g2]||t[D9]);if(typeof e=="function")return e}function Khe(t){var e=$E(t);return e&&e===t.entries}function Jhe(t){var e=$E(t);return e&&e===t.keys}var Bp=Object.prototype.hasOwnProperty;function AN(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var En=function(t){function e(r){return r==null?CN():Di(r)?r.toSeq():tde(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var s=this._cache;if(s){for(var o=s.length,a=0;a!==o;){var u=s[i?o-++a:a++];if(n(u[1],u[0],this)===!1)break}return a}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var s=this._cache;if(s){var o=s.length,a=0;return new Et(function(){if(a===o)return Vn();var u=s[i?o-++a:a++];return Vt(n,u[0],u[1])})}return this.__iteratorUncached(n,i)},e}(Ht),Ul=function(t){function e(r){return r==null?CN().toKeyedSeq():wn(r)?Ot(r)?r.toSeq():r.fromEntrySeq():Fl(r)?r.toSeq():IN(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(En),_s=function(t){function e(r){return r==null?CN():wn(r)?Ot(r)?r.entrySeq():r.toIndexedSeq():Fl(r)?r.toSeq().entrySeq():B9(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(En),Lp=function(t){function e(r){return(wn(r)&&!Np(r)?r:_s(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(En);En.isSeq=Ev;En.Keyed=Ul;En.Set=Lp;En.Indexed=_s;En.prototype[N9]=!0;var dh=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[Sl(this,n)]:i},e.prototype.__iterate=function(n,i){for(var s=this._array,o=s.length,a=0;a!==o;){var u=i?o-++a:a++;if(n(s[u],u,this)===!1)break}return a},e.prototype.__iterator=function(n,i){var s=this._array,o=s.length,a=0;return new Et(function(){if(a===o)return Vn();var u=i?o-++a:a++;return Vt(n,u,s[u])})},e}(_s),TN=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return Bp.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var s=this._object,o=this._keys,a=o.length,u=0;u!==a;){var l=o[i?a-++u:u++];if(n(s[l],l,this)===!1)break}return u},e.prototype.__iterator=function(n,i){var s=this._object,o=this._keys,a=o.length,u=0;return new Et(function(){if(u===a)return Vn();var l=o[i?a-++u:u++];return Vt(n,l,s[l])})},e}(Ul);TN.prototype[Dp]=!0;var ede=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var s=this._collection,o=v2(s),a=0;if(G4(o))for(var u;!(u=o.next()).done&&n(u.value,a++,this)!==!1;);return a},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var s=this._collection,o=v2(s);if(!G4(o))return new Et(Vn);var a=0;return new Et(function(){var u=o.next();return u.done?u:Vt(n,a++,u.value)})},e}(_s),W4;function CN(){return W4||(W4=new dh([]))}function IN(t){var e=ON(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new TN(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function B9(t){var e=ON(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function tde(t){var e=ON(t);if(e)return Khe(t)?e.fromEntrySeq():Jhe(t)?e.toSetSeq():e;if(typeof t=="object")return new TN(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function ON(t){return AN(t)?new dh(t):SN(t)?new ede(t):void 0}var L9="@@__IMMUTABLE_MAP__@@";function Sv(t){return!!(t&&t[L9])}function FE(t){return Sv(t)&&Ri(t)}function Z1(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function kr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(Z1(t)&&Z1(e)&&t.equals(e))}var km=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function UE(t){return t>>>1&1073741824|t&3221225471}var rde=Object.prototype.valueOf;function Ln(t){if(t==null)return q4(t);if(typeof t.hashCode=="function")return UE(t.hashCode(t));var e=ude(t);if(e==null)return q4(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return nde(e);case"string":return e.length>lde?ide(e):_2(e);case"object":case"function":return ode(e);case"symbol":return sde(e);default:if(typeof e.toString=="function")return _2(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function q4(t){return t===null?1108378658:1108378659}function nde(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return UE(e)}function ide(t){var e=xT[t];return e===void 0&&(e=_2(t),ET===cde&&(ET=0,xT={}),ET++,xT[t]=e),e}function _2(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return UE(e)}function sde(t){var e=Y4[t];return e!==void 0||(e=$9(),Y4[t]=e),e}function ode(t){var e;if(b2&&(e=w2.get(t),e!==void 0)||(e=t[Ec],e!==void 0)||!X4&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ec],e!==void 0||(e=ade(t),e!==void 0)))return e;if(e=$9(),b2)w2.set(t,e);else{if(Z4!==void 0&&Z4(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(X4)Object.defineProperty(t,Ec,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ec]=e;else if(t.nodeType!==void 0)t[Ec]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Z4=Object.isExtensible,X4=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function ade(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ude(t){return t.valueOf!==rde&&typeof t.valueOf=="function"?t.valueOf(t):t}function $9(){var t=++wT;return wT&1073741824&&(wT=0),t}var b2=typeof WeakMap=="function",w2;b2&&(w2=new WeakMap);var Y4=Object.create(null),wT=0,Ec="__immutablehash__";typeof Symbol=="function"&&(Ec=Symbol(Ec));var lde=16,cde=255,ET=0,xT={},jE=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=RN(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var s=this,o=H9(this,n,i);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(n,i)}),o},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(o,a){return n(o,a,s)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(Ul);jE.prototype[Dp]=!0;var F9=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this,o=0;return i&&qf(this),this._iter.__iterate(function(a){return n(a,i?s.size-++o:o++,s)},i)},e.prototype.__iterator=function(n,i){var s=this,o=this._iter.__iterator(Js,i),a=0;return i&&qf(this),new Et(function(){var u=o.next();return u.done?u:Vt(n,i?s.size-++a:a++,u.value,u)})},e}(_s),U9=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(o){return n(o,o,s)},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(Js,i);return new Et(function(){var o=s.next();return o.done?o:Vt(n,o.value,o.value,o)})},e}(Lp),j9=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(o){if(o){K4(o);var a=wn(o);return n(a?o.get(1):o[1],a?o.get(0):o[0],s)}},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(Js,i);return new Et(function(){for(;;){var o=s.next();if(o.done)return o;var a=o.value;if(a){K4(a);var u=wn(a);return Vt(n,u?a.get(0):a[0],u?a.get(1):a[1],o)}}})},e}(Ul);F9.prototype.cacheResult=jE.prototype.cacheResult=U9.prototype.cacheResult=j9.prototype.cacheResult=NN;function z9(t){var e=ya(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=NN,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(s,o){return r(o,s,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===ps){var i=t.__iterator(r,n);return new Et(function(){var s=i.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(r===Js?xv:Js,n)},e}function H9(t,e,r){var n=ya(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,s){var o=t.get(i,mt);return o===mt?s:e.call(r,o,i,t)},n.__iterateUncached=function(i,s){var o=this;return t.__iterate(function(a,u,l){return i(e.call(r,a,u,l),u,o)!==!1},s)},n.__iteratorUncached=function(i,s){var o=t.__iterator(ps,s);return new Et(function(){var a=o.next();if(a.done)return a;var u=a.value,l=u[0];return Vt(i,l,e.call(r,u[1],l,t),a)})},n}function RN(t,e){var r=this,n=ya(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=z9(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,s){return t.get(e?i:-1-i,s)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=NN,n.__iterate=function(i,s){var o=this,a=0;return s&&qf(t),t.__iterate(function(u,l){return i(u,e?l:s?o.size-++a:a++,o)},!s)},n.__iterator=function(i,s){var o=0;s&&qf(t);var a=t.__iterator(ps,!s);return new Et(function(){var u=a.next();if(u.done)return u;var l=u.value;return Vt(i,e?l[0]:s?r.size-++o:o++,l[1],u)})},n}function V9(t,e,r,n){var i=ya(t);return n&&(i.has=function(s){var o=t.get(s,mt);return o!==mt&&!!e.call(r,o,s,t)},i.get=function(s,o){var a=t.get(s,mt);return a!==mt&&e.call(r,a,s,t)?a:o}),i.__iterateUncached=function(s,o){var a=this,u=0;return t.__iterate(function(l,c,f){if(e.call(r,l,c,f))return u++,s(l,n?c:u-1,a)},o),u},i.__iteratorUncached=function(s,o){var a=t.__iterator(ps,o),u=0;return new Et(function(){for(;;){var l=a.next();if(l.done)return l;var c=l.value,f=c[0],p=c[1];if(e.call(r,p,f,t))return Vt(s,n?f:u++,p,l)}})},i}function hde(t,e,r){var n=zl().asMutable();return t.__iterate(function(i,s){n.update(e.call(r,i,s,t),0,function(o){return o+1})}),n.asImmutable()}function dde(t,e,r){var n=Ot(t),i=(Ri(t)?eo():zl()).asMutable();t.__iterate(function(o,a){i.update(e.call(r,o,a,t),function(u){return u=u||[],u.push(n?[a,o]:o),u})});var s=PN(t);return i.map(function(o){return It(t,s(o))}).asImmutable()}function fde(t,e,r){var n=Ot(t),i=[[],[]];t.__iterate(function(o,a){i[e.call(r,o,a,t)?1:0].push(n?[a,o]:o)});var s=PN(t);return i.map(function(o){return It(t,s(o))})}function kN(t,e,r,n){var i=t.size;if(bv(e,r,i))return t;var s=Pp(e,i),o=wv(r,i);if(s!==s||o!==o)return kN(t.toSeq().cacheResult(),e,r,n);var a=o-s,u;a===a&&(u=a<0?0:a);var l=ya(t);return l.size=u===0?u:t.size&&u||void 0,!n&&Ev(t)&&u>=0&&(l.get=function(c,f){return c=Sl(this,c),c>=0&&c<u?t.get(c+s,f):f}),l.__iterateUncached=function(c,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(c,f);var m=0,y=!0,g=0;return t.__iterate(function(b,_){if(!(y&&(y=m++<s)))return g++,c(b,n?_:g-1,p)!==!1&&g!==u}),g},l.__iteratorUncached=function(c,f){if(u!==0&&f)return this.cacheResult().__iterator(c,f);if(u===0)return new Et(Vn);var p=t.__iterator(c,f),m=0,y=0;return new Et(function(){for(;m++<s;)p.next();if(++y>u)return Vn();var g=p.next();return n||c===Js||g.done?g:c===xv?Vt(c,y-1,void 0,g):Vt(c,y-1,g.value[1],g)})},l}function pde(t,e,r){var n=ya(t);return n.__iterateUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterate(i,s);var a=0;return t.__iterate(function(u,l,c){return e.call(r,u,l,c)&&++a&&i(u,l,o)}),a},n.__iteratorUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterator(i,s);var a=t.__iterator(ps,s),u=!0;return new Et(function(){if(!u)return Vn();var l=a.next();if(l.done)return l;var c=l.value,f=c[0],p=c[1];return e.call(r,p,f,o)?i===ps?l:Vt(i,f,p,l):(u=!1,Vn())})},n}function G9(t,e,r,n){var i=ya(t);return i.__iterateUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterate(s,o);var u=!0,l=0;return t.__iterate(function(c,f,p){if(!(u&&(u=e.call(r,c,f,p))))return l++,s(c,n?f:l-1,a)}),l},i.__iteratorUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterator(s,o);var u=t.__iterator(ps,o),l=!0,c=0;return new Et(function(){var f,p,m;do{if(f=u.next(),f.done)return n||s===Js?f:s===xv?Vt(s,c++,void 0,f):Vt(s,c++,f.value[1],f);var y=f.value;p=y[0],m=y[1],l&&(l=e.call(r,m,p,a))}while(l);return s===ps?f:Vt(s,p,m,f)})},i}function mde(t,e){var r=Ot(t),n=[t].concat(e).map(function(o){return wn(o)?r&&(o=vs(o)):o=r?IN(o):B9(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&Ot(i)||on(t)&&on(i))return i}var s=new dh(n);return r?s=s.toKeyedSeq():on(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(o,a){if(o!==void 0){var u=a.size;if(u!==void 0)return o+u}},0),s}function W9(t,e,r){var n=ya(t);return n.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var o=0,a=!1;function u(l,c){l.__iterate(function(f,p){return(!e||c<e)&&wn(f)?u(f,c+1):(o++,i(f,r?p:o-1,n)===!1&&(a=!0)),!a},s)}return u(t,0),o},n.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(i,s),a=[],u=0;return new Et(function(){for(;o;){var l=o.next();if(l.done!==!1){o=a.pop();continue}var c=l.value;if(i===ps&&(c=c[1]),(!e||a.length<e)&&wn(c))a.push(o),o=c.__iterator(i,s);else return r?l:Vt(i,u++,c,l)}return Vn()})},n}function yde(t,e,r){var n=PN(t);return t.toSeq().map(function(i,s){return n(e.call(r,i,s,t))}).flatten(!0)}function gde(t,e){var r=ya(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var s=this,o=0;return t.__iterate(function(a){return(!o||n(e,o++,s)!==!1)&&n(a,o++,s)!==!1},i),o},r.__iteratorUncached=function(n,i){var s=t.__iterator(Js,i),o=0,a;return new Et(function(){return(!a||o%2)&&(a=s.next(),a.done)?a:o%2?Vt(n,o++,e):Vt(n,o++,a.value,a)})},r}function Zf(t,e,r){e||(e=q9);var n=Ot(t),i=0,s=t.toSeq().map(function(o,a){return[a,o,i++,r?r(o,a,t):o]}).valueSeq().toArray();return s.sort(function(o,a){return e(o[3],a[3])||o[2]-a[2]}).forEach(n?function(o,a){s[a].length=2}:function(o,a){s[a]=o[1]}),n?Ul(s):on(t)?_s(s):Lp(s)}function S0(t,e,r){if(e||(e=q9),r){var n=t.toSeq().map(function(i,s){return[i,r(i,s,t)]}).reduce(function(i,s){return Q4(e,i[1],s[1])?s:i});return n&&n[0]}return t.reduce(function(i,s){return Q4(e,i,s)?s:i})}function Q4(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function A0(t,e,r,n){var i=ya(t),s=new dh(r).map(function(o){return o.size});return i.size=n?s.max():s.min(),i.__iterate=function(o,a){for(var u=this.__iterator(Js,a),l,c=0;!(l=u.next()).done&&o(l.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(o,a){var u=r.map(function(f){return f=Ht(f),v2(a?f.reverse():f)}),l=0,c=!1;return new Et(function(){var f;return c||(f=u.map(function(p){return p.next()}),c=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),c?Vn():Vt(o,l++,e.apply(null,f.map(function(p){return p.value})))})},i}function It(t,e){return t===e?t:Ev(t)?e:t.constructor(e)}function K4(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function PN(t){return Ot(t)?vs:on(t)?Dh:Mp}function ya(t){return Object.create((Ot(t)?Ul:on(t)?_s:Lp).prototype)}function NN(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):En.prototype.cacheResult.call(this)}function q9(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Wo(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function MN(t,e){if(!t)throw new Error(e)}function Ai(t){MN(t!==1/0,"Cannot perform this action with an infinite size.")}function Z9(t){if(AN(t)&&typeof t!="string")return t;if(Ri(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var vde=Object.prototype.toString;function zE(t){if(!t||typeof t!="object"||vde.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function Al(t){return typeof t=="object"&&(Di(t)||Array.isArray(t)||zE(t))}function xg(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function DN(t,e){return Di(t)?t.has(e):Al(t)&&Bp.call(t,e)}function HE(t,e,r){return Di(t)?t.get(e,r):DN(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function X1(t){if(Array.isArray(t))return Wo(t);var e={};for(var r in t)Bp.call(t,r)&&(e[r]=t[r]);return e}function BN(t,e){if(!Al(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Di(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Bp.call(t,e))return t;var r=X1(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function LN(t,e,r){if(!Al(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Di(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Bp.call(t,e)&&r===t[e])return t;var n=X1(t);return n[e]=r,n}function jl(t,e,r,n){n||(n=r,r=void 0);var i=X9(Di(t),t,Z9(e),0,r,n);return i===mt?r:i}function X9(t,e,r,n,i,s){var o=e===mt;if(n===r.length){var a=o?i:e,u=s(a);return u===a?e:u}if(!o&&!Al(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(xg)+"]: "+e);var l=r[n],c=o?mt:HE(e,l,mt),f=X9(c===mt?t:Di(c),c,r,n+1,i,s);return f===c?e:f===mt?BN(e,l):LN(o?t?Fs():{}:e,l,f)}function $N(t,e,r){return jl(t,e,mt,function(){return r})}function FN(t,e){return $N(this,t,e)}function UN(t,e){return jl(t,e,function(){return mt})}function jN(t){return UN(this,t)}function VE(t,e,r,n){return jl(t,[e],r,n)}function zN(t,e,r){return arguments.length===1?t(this):VE(this,t,e,r)}function HN(t,e,r){return jl(this,t,e,r)}function Y9(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return K9(this,t)}function Q9(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return K9(this,e,t)}function K9(t,e,r){for(var n=[],i=0;i<e.length;i++){var s=vs(e[i]);s.size!==0&&n.push(s)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var a=r?function(l,c){VE(o,c,mt,function(f){return f===mt?l:r(f,l,c)})}:function(l,c){o.set(c,l)},u=0;u<n.length;u++)n[u].forEach(a)})}function J9(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Tv(t,e)}function eG(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Tv(e,r,t)}function tG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Av(t,e)}function rG(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Av(e,r,t)}function Av(t,e,r){return Tv(t,e,_de(r))}function Tv(t,e,r){if(!Al(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Di(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,s=n?Dh:vs,o=n?function(u){i===t&&(i=X1(i)),i.push(u)}:function(u,l){var c=Bp.call(i,l),f=c&&r?r(i[l],u,l):u;(!c||f!==i[l])&&(i===t&&(i=X1(i)),i[l]=f)},a=0;a<e.length;a++)s(e[a]).forEach(o);return i}function _de(t){function e(r,n,i){return Al(r)&&Al(n)&&bde(r,n)?Tv(r,[n],e):t?t(r,n,i):n}return e}function bde(t,e){var r=En(t),n=En(e);return on(r)===on(n)&&Ot(r)===Ot(n)}function nG(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Av(this,t)}function iG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Av(this,e,t)}function VN(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return jl(this,t,Fs(),function(n){return Tv(n,e)})}function GN(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return jl(this,t,Fs(),function(n){return Av(n,e)})}function Cv(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Iv(){return this.__ownerID?this:this.__ensureOwner(new xN)}function Ov(){return this.__ensureOwner()}function WN(){return this.__altered}var zl=function(t){function e(r){return r==null?Fs():Sv(r)&&!Ri(r)?r:Fs().withMutations(function(n){var i=t(r);Ai(i.size),i.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Fs().withMutations(function(s){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);s.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return t$(this,n,i)},e.prototype.remove=function(n){return t$(this,n,mt)},e.prototype.deleteAll=function(n){var i=Ht(n);return i.size===0?this:this.withMutations(function(s){i.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Fs()},e.prototype.sort=function(n){return eo(Zf(this,n))},e.prototype.sortBy=function(n,i){return eo(Zf(this,i,n))},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(o){o.forEach(function(a,u){o.set(u,n.call(i,a,u,s))})})},e.prototype.__iterator=function(n,i){return new wde(this,n,i)},e.prototype.__iterate=function(n,i){var s=this,o=0;return this._root&&this._root.iterate(function(a){return o++,n(a[1],a[0],s)},i),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?qN(this.size,this._root,n,this.__hash):this.size===0?Fs():(this.__ownerID=n,this.__altered=!1,this)},e}(vs);zl.isMap=Sv;var Wt=zl.prototype;Wt[L9]=!0;Wt[_v]=Wt.remove;Wt.removeAll=Wt.deleteAll;Wt.setIn=FN;Wt.removeIn=Wt.deleteIn=jN;Wt.update=zN;Wt.updateIn=HN;Wt.merge=Wt.concat=Y9;Wt.mergeWith=Q9;Wt.mergeDeep=nG;Wt.mergeDeepWith=iG;Wt.mergeIn=VN;Wt.mergeDeepIn=GN;Wt.withMutations=Cv;Wt.wasAltered=WN;Wt.asImmutable=Ov;Wt["@@transducer/init"]=Wt.asMutable=Iv;Wt["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Wt["@@transducer/result"]=function(t){return t.asImmutable()};var Sg=function(e,r){this.ownerID=e,this.entries=r};Sg.prototype.get=function(e,r,n,i){for(var s=this.entries,o=0,a=s.length;o<a;o++)if(kr(n,s[o][0]))return s[o][1];return i};Sg.prototype.update=function(e,r,n,i,s,o,a){for(var u=s===mt,l=this.entries,c=0,f=l.length;c<f&&!kr(i,l[c][0]);c++);var p=c<f;if(p?l[c][1]===s:u)return this;if(is(a),(u||!p)&&is(o),!(u&&l.length===1)){if(!p&&!u&&l.length>=Cde)return Ede(e,l,i,s);var m=e&&e===this.ownerID,y=m?l:Wo(l);return p?u?c===f-1?y.pop():y[c]=y.pop():y[c]=[i,s]:y.push([i,s]),m?(this.entries=y,this):new Sg(e,y)}};var Xf=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Xf.prototype.get=function(e,r,n,i){r===void 0&&(r=Ln(n));var s=1<<((e===0?r:r>>>e)&Fn),o=this.bitmap;return o&s?this.nodes[sG(o&s-1)].get(e+jt,r,n,i):i};Xf.prototype.update=function(e,r,n,i,s,o,a){n===void 0&&(n=Ln(i));var u=(r===0?n:n>>>r)&Fn,l=1<<u,c=this.bitmap,f=(c&l)!==0;if(!f&&s===mt)return this;var p=sG(c&l-1),m=this.nodes,y=f?m[p]:void 0,g=ZN(y,e,r+jt,n,i,s,o,a);if(g===y)return this;if(!f&&g&&m.length>=Ide)return Sde(e,m,c,u,g);if(f&&!g&&m.length===2&&r$(m[p^1]))return m[p^1];if(f&&g&&m.length===1&&r$(g))return g;var b=e&&e===this.ownerID,_=f?g?c:c^l:c|l,w=f?g?oG(m,p,g,b):Tde(m,p,b):Ade(m,p,g,b);return b?(this.bitmap=_,this.nodes=w,this):new Xf(e,_,w)};var Ag=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};Ag.prototype.get=function(e,r,n,i){r===void 0&&(r=Ln(n));var s=(e===0?r:r>>>e)&Fn,o=this.nodes[s];return o?o.get(e+jt,r,n,i):i};Ag.prototype.update=function(e,r,n,i,s,o,a){n===void 0&&(n=Ln(i));var u=(r===0?n:n>>>r)&Fn,l=s===mt,c=this.nodes,f=c[u];if(l&&!f)return this;var p=ZN(f,e,r+jt,n,i,s,o,a);if(p===f)return this;var m=this.count;if(!f)m++;else if(!p&&(m--,m<Ode))return xde(e,c,m,u);var y=e&&e===this.ownerID,g=oG(c,u,p,y);return y?(this.count=m,this.nodes=g,this):new Ag(e,m,g)};var Yf=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Yf.prototype.get=function(e,r,n,i){for(var s=this.entries,o=0,a=s.length;o<a;o++)if(kr(n,s[o][0]))return s[o][1];return i};Yf.prototype.update=function(e,r,n,i,s,o,a){n===void 0&&(n=Ln(i));var u=s===mt;if(n!==this.keyHash)return u?this:(is(a),is(o),XN(this,e,r,n,[i,s]));for(var l=this.entries,c=0,f=l.length;c<f&&!kr(i,l[c][0]);c++);var p=c<f;if(p?l[c][1]===s:u)return this;if(is(a),(u||!p)&&is(o),u&&f===2)return new tu(e,this.keyHash,l[c^1]);var m=e&&e===this.ownerID,y=m?l:Wo(l);return p?u?c===f-1?y.pop():y[c]=y.pop():y[c]=[i,s]:y.push([i,s]),m?(this.entries=y,this):new Yf(e,this.keyHash,y)};var tu=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};tu.prototype.get=function(e,r,n,i){return kr(n,this.entry[0])?this.entry[1]:i};tu.prototype.update=function(e,r,n,i,s,o,a){var u=s===mt,l=kr(i,this.entry[0]);if(l?s===this.entry[1]:u)return this;if(is(a),u){is(o);return}return l?e&&e===this.ownerID?(this.entry[1]=s,this):new tu(e,this.keyHash,[i,s]):(is(o),XN(this,e,r,Ln(i),[i,s]))};Sg.prototype.iterate=Yf.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Xf.prototype.iterate=Ag.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var s=r[e?i-n:n];if(s&&s.iterate(t,e)===!1)return!1}};tu.prototype.iterate=function(t,e){return t(this.entry)};var wde=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&J4(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var s=i.node,o=i.index++,a=void 0;if(s.entry){if(o===0)return ST(n,s.entry)}else if(s.entries){if(a=s.entries.length-1,o<=a)return ST(n,s.entries[this._reverse?a-o:o])}else if(a=s.nodes.length-1,o<=a){var u=s.nodes[this._reverse?a-o:o];if(u){if(u.entry)return ST(n,u.entry);i=this._stack=J4(u,i)}continue}i=this._stack=this._stack.__prev}return Vn()},e}(Et);function ST(t,e){return Vt(t,e[0],e[1])}function J4(t,e){return{node:t,index:0,__prev:e}}function qN(t,e,r,n){var i=Object.create(Wt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var e$;function Fs(){return e$||(e$=qN(0))}function t$(t,e,r){var n,i;if(t._root){var s=y2(),o=y2();if(n=ZN(t._root,t.__ownerID,0,void 0,e,r,s,o),!o.value)return t;i=t.size+(s.value?r===mt?-1:1:0)}else{if(r===mt)return t;i=1,n=new Sg(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?qN(i,n):Fs()}function ZN(t,e,r,n,i,s,o,a){return t?t.update(e,r,n,i,s,o,a):s===mt?t:(is(a),is(o),new tu(e,n,[i,s]))}function r$(t){return t.constructor===tu||t.constructor===Yf}function XN(t,e,r,n,i){if(t.keyHash===n)return new Yf(e,n,[t.entry,i]);var s=(r===0?t.keyHash:t.keyHash>>>r)&Fn,o=(r===0?n:n>>>r)&Fn,a,u=s===o?[XN(t,e,r+jt,n,i)]:(a=new tu(e,n,i),s<o?[t,a]:[a,t]);return new Xf(e,1<<s|1<<o,u)}function Ede(t,e,r,n){t||(t=new xN);for(var i=new tu(t,Ln(r),[r,n]),s=0;s<e.length;s++){var o=e[s];i=i.update(t,0,void 0,o[0],o[1])}return i}function xde(t,e,r,n){for(var i=0,s=0,o=new Array(r),a=0,u=1,l=e.length;a<l;a++,u<<=1){var c=e[a];c!==void 0&&a!==n&&(i|=u,o[s++]=c)}return new Xf(t,i,o)}function Sde(t,e,r,n,i){for(var s=0,o=new Array(ns),a=0;r!==0;a++,r>>>=1)o[a]=r&1?e[s++]:void 0;return o[n]=i,new Ag(t,s+1,o)}function sG(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function oG(t,e,r,n){var i=n?t:Wo(t);return i[e]=r,i}function Ade(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var s=new Array(i),o=0,a=0;a<i;a++)a===e?(s[a]=r,o=-1):s[a]=t[a+o];return s}function Tde(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),s=0,o=0;o<n;o++)o===e&&(s=1),i[o]=t[o+s];return i}var Cde=ns/4,Ide=ns/2,Ode=ns/4,aG="@@__IMMUTABLE_LIST__@@";function GE(t){return!!(t&&t[aG])}var $p=function(t){function e(r){var n=kb();if(r==null)return n;if(GE(r))return r;var i=t(r),s=i.size;return s===0?n:(Ai(s),s>0&&s<ns?Tg(0,s,jt,null,new al(i.toArray())):n.withMutations(function(o){o.setSize(s),i.forEach(function(a,u){return o.set(u,a)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=Sl(this,n),n>=0&&n<this.size){n+=this._origin;var s=uG(this,n);return s&&s.array[n&Fn]}return i},e.prototype.set=function(n,i){return Rde(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=jt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):kb()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(s){Pu(s,0,i+n.length);for(var o=0;o<n.length;o++)s.set(i+o,n[o])})},e.prototype.pop=function(){return Pu(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Pu(i,-n.length);for(var s=0;s<n.length;s++)i.set(s,n[s])})},e.prototype.shift=function(){return Pu(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++){var o=n[s],a=t(typeof o!="string"&&SN(o)?o:[o]);a.size!==0&&i.push(a)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(l){return l.forEach(function(c){return u.push(c)})})})},e.prototype.setSize=function(n){return Pu(this,0,n)},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(o){for(var a=0;a<s.size;a++)o.set(a,n.call(i,o.get(a),a,s))})},e.prototype.slice=function(n,i){var s=this.size;return bv(n,i,s)?this:Pu(this,Pp(n,s),wv(i,s))},e.prototype.__iterator=function(n,i){var s=i?this.size:0,o=n$(this,i);return new Et(function(){var a=o();return a===wy?Vn():Vt(n,i?--s:s++,a)})},e.prototype.__iterate=function(n,i){for(var s=i?this.size:0,o=n$(this,i),a;(a=o())!==wy&&n(a,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Tg(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?kb():(this.__ownerID=n,this.__altered=!1,this)},e}(Dh);$p.isList=GE;var Er=$p.prototype;Er[aG]=!0;Er[_v]=Er.remove;Er.merge=Er.concat;Er.setIn=FN;Er.deleteIn=Er.removeIn=jN;Er.update=zN;Er.updateIn=HN;Er.mergeIn=VN;Er.mergeDeepIn=GN;Er.withMutations=Cv;Er.wasAltered=WN;Er.asImmutable=Ov;Er["@@transducer/init"]=Er.asMutable=Iv;Er["@@transducer/step"]=function(t,e){return t.push(e)};Er["@@transducer/result"]=function(t){return t.asImmutable()};var al=function(e,r){this.array=e,this.ownerID=r};al.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Fn;if(i>=this.array.length)return new al([],e);var s=i===0,o;if(r>0){var a=this.array[i];if(o=a&&a.removeBefore(e,r-jt,n),o===a&&s)return this}if(s&&!o)return this;var u=Qf(this,e);if(!s)for(var l=0;l<i;l++)u.array[l]=void 0;return o&&(u.array[i]=o),u};al.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Fn;if(i>=this.array.length)return this;var s;if(r>0){var o=this.array[i];if(s=o&&o.removeAfter(e,r-jt,n),s===o&&i===this.array.length-1)return this}var a=Qf(this,e);return a.array.splice(i+1),s&&(a.array[i]=s),a};var wy={};function n$(t,e){var r=t._origin,n=t._capacity,i=Cg(n),s=t._tail;return o(t._root,t._level,0);function o(l,c,f){return c===0?a(l,f):u(l,c,f)}function a(l,c){var f=c===i?s&&s.array:l&&l.array,p=c>r?0:r-c,m=n-c;return m>ns&&(m=ns),function(){if(p===m)return wy;var y=e?--m:p++;return f&&f[y]}}function u(l,c,f){var p,m=l&&l.array,y=f>r?0:r-f>>c,g=(n-f>>c)+1;return g>ns&&(g=ns),function(){for(;;){if(p){var b=p();if(b!==wy)return b;p=null}if(y===g)return wy;var _=e?--g:y++;p=o(m&&m[_],c-jt,f+(_<<c))}}}}function Tg(t,e,r,n,i,s,o){var a=Object.create(Er);return a.size=e-t,a._origin=t,a._capacity=e,a._level=r,a._root=n,a._tail=i,a.__ownerID=s,a.__hash=o,a.__altered=!1,a}var i$;function kb(){return i$||(i$=Tg(0,0,jt))}function Rde(t,e,r){if(e=Sl(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?Pu(o,e).set(0,r):Pu(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,s=y2();return e>=Cg(t._capacity)?n=E2(n,t.__ownerID,0,e,r,s):i=E2(i,t.__ownerID,t._level,e,r,s),s.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Tg(t._origin,t._capacity,t._level,i,n):t}function E2(t,e,r,n,i,s){var o=n>>>r&Fn,a=t&&o<t.array.length;if(!a&&i===void 0)return t;var u;if(r>0){var l=t&&t.array[o],c=E2(l,e,r-jt,n,i,s);return c===l?t:(u=Qf(t,e),u.array[o]=c,u)}return a&&t.array[o]===i?t:(s&&is(s),u=Qf(t,e),i===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=i,u)}function Qf(t,e){return e&&t&&e===t.ownerID?t:new al(t?t.array.slice():[],e)}function uG(t,e){if(e>=Cg(t._capacity))return t._tail;if(e<1<<t._level+jt){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Fn],n-=jt;return r}}function Pu(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new xN,i=t._origin,s=t._capacity,o=i+e,a=r===void 0?s:r<0?s+r:i+r;if(o===i&&a===s)return t;if(o>=a)return t.clear();for(var u=t._level,l=t._root,c=0;o+c<0;)l=new al(l&&l.array.length?[void 0,l]:[],n),u+=jt,c+=1<<u;c&&(o+=c,i+=c,a+=c,s+=c);for(var f=Cg(s),p=Cg(a);p>=1<<u+jt;)l=new al(l&&l.array.length?[l]:[],n),u+=jt;var m=t._tail,y=p<f?uG(t,a-1):p>f?new al([],n):m;if(m&&p>f&&o<s&&m.array.length){l=Qf(l,n);for(var g=l,b=u;b>jt;b-=jt){var _=f>>>b&Fn;g=g.array[_]=Qf(g.array[_],n)}g.array[f>>>jt&Fn]=m}if(a<s&&(y=y&&y.removeAfter(n,0,a)),o>=p)o-=p,a-=p,u=jt,l=null,y=y&&y.removeBefore(n,0,o);else if(o>i||p<f){for(c=0;l;){var w=o>>>u&Fn;if(w!==p>>>u&Fn)break;w&&(c+=(1<<u)*w),u-=jt,l=l.array[w]}l&&o>i&&(l=l.removeBefore(n,u,o-c)),l&&p<f&&(l=l.removeAfter(n,u,p-c)),c&&(o-=c,a-=c)}return t.__ownerID?(t.size=a-o,t._origin=o,t._capacity=a,t._level=u,t._root=l,t._tail=y,t.__hash=void 0,t.__altered=!0,t):Tg(o,a,u,l,y)}function Cg(t){return t<ns?0:t-1>>>jt<<jt}var eo=function(t){function e(r){return r==null?Xm():FE(r)?r:Xm().withMutations(function(n){var i=vs(r);Ai(i.size),i.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Xm()},e.prototype.set=function(n,i){return o$(this,n,i)},e.prototype.remove=function(n){return o$(this,n,mt)},e.prototype.__iterate=function(n,i){var s=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],s)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?YN(i,s,n,this.__hash):this.size===0?Xm():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=s,this)},e}(zl);eo.isOrderedMap=FE;eo.prototype[Dp]=!0;eo.prototype[_v]=eo.prototype.remove;function YN(t,e,r,n){var i=Object.create(eo.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var s$;function Xm(){return s$||(s$=YN(Fs(),kb()))}function o$(t,e,r){var n=t._map,i=t._list,s=n.get(e),o=s!==void 0,a,u;if(r===mt){if(!o)return t;i.size>=ns&&i.size>=n.size*2?(u=i.filter(function(l,c){return l!==void 0&&s!==c}),a=u.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),t.__ownerID&&(a.__ownerID=u.__ownerID=t.__ownerID)):(a=n.remove(e),u=s===i.size-1?i.pop():i.set(s,void 0))}else if(o){if(r===i.get(s)[1])return t;a=n,u=i.set(s,[e,r])}else a=n.set(e,i.size),u=i.set(i.size,[e,r]);return t.__ownerID?(t.size=a.size,t._map=a,t._list=u,t.__hash=void 0,t.__altered=!0,t):YN(a,u)}var lG="@@__IMMUTABLE_STACK__@@";function Ig(t){return!!(t&&t[lG])}var Rv=function(t){function e(r){return r==null?T0():Ig(r)?r:T0().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var s=this._head;for(n=Sl(this,n);s&&n--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:n[o],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Ym(i,s)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Ig(n))return n;Ai(n.size);var i=this.size,s=this._head;return n.__iterate(function(o){i++,s={value:o,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Ym(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):T0()},e.prototype.slice=function(n,i){if(bv(n,i,this.size))return this;var s=Pp(n,this.size),o=wv(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,i);for(var a=this.size-s,u=this._head;s--;)u=u.next;return this.__ownerID?(this.size=a,this._head=u,this.__hash=void 0,this.__altered=!0,this):Ym(a,u)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ym(this.size,this._head,n,this.__hash):this.size===0?T0():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var s=this;if(i)return new dh(this.toArray()).__iterate(function(u,l){return n(u,l,s)},i);for(var o=0,a=this._head;a&&n(a.value,o++,this)!==!1;)a=a.next;return o},e.prototype.__iterator=function(n,i){if(i)return new dh(this.toArray()).__iterator(n,i);var s=0,o=this._head;return new Et(function(){if(o){var a=o.value;return o=o.next,Vt(n,s++,a)}return Vn()})},e}(Dh);Rv.isStack=Ig;var Gn=Rv.prototype;Gn[lG]=!0;Gn.shift=Gn.pop;Gn.unshift=Gn.push;Gn.unshiftAll=Gn.pushAll;Gn.withMutations=Cv;Gn.wasAltered=WN;Gn.asImmutable=Ov;Gn["@@transducer/init"]=Gn.asMutable=Iv;Gn["@@transducer/step"]=function(t,e){return t.unshift(e)};Gn["@@transducer/result"]=function(t){return t.asImmutable()};function Ym(t,e,r,n){var i=Object.create(Gn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var a$;function T0(){return a$||(a$=Ym(0))}var cG="@@__IMMUTABLE_SET__@@";function kv(t){return!!(t&&t[cG])}function WE(t){return kv(t)&&Ri(t)}function QN(t,e){if(t===e)return!0;if(!wn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||Ot(t)!==Ot(e)||on(t)!==on(e)||Ri(t)!==Ri(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!Np(t);if(Ri(t)){var n=t.entries();return e.every(function(u,l){var c=n.next().value;return c&&kr(c[1],u)&&(r||kr(c[0],l))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var o=!0,a=e.__iterate(function(u,l){if(r?!t.has(u):i?!kr(u,t.get(l,mt)):!kr(t.get(l,mt),u))return o=!1,!1});return o&&t.size===a}function Bh(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Y1(t){if(!t||typeof t!="object")return t;if(!wn(t)){if(!Al(t))return t;t=En(t)}if(Ot(t)){var e={};return t.__iterate(function(n,i){e[i]=Y1(n)}),e}var r=[];return t.__iterate(function(n){r.push(Y1(n))}),r}var Fp=function(t){function e(r){return r==null?Qm():kv(r)&&!Ri(r)?r:Qm().withMutations(function(n){var i=t(r);Ai(i.size),i.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(vs(n).keySeq())},e.intersect=function(n){return n=Ht(n).toArray(),n.length?an.intersect.apply(e(n.pop()),n):Qm()},e.union=function(n){return n=Ht(n).toArray(),n.length?an.union.apply(e(n.pop()),n):Qm()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return C0(this,this._map.set(n,n))},e.prototype.remove=function(n){return C0(this,this._map.remove(n))},e.prototype.clear=function(){return C0(this,this._map.clear())},e.prototype.map=function(n,i){var s=this,o=!1,a=C0(this,this._map.mapEntries(function(u){var l=u[1],c=n.call(i,l,l,s);return c!==l&&(o=!0),[c,c]},i));return o?a:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var o=0;o<n.length;o++)typeof n[o]=="string"?s.add(n[o]):t(n[o]).forEach(function(a){return s.add(a)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.every(function(a){return a.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(a){o.remove(a)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.some(function(a){return a.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(a){o.remove(a)})})},e.prototype.sort=function(n){return fh(Zf(this,n))},e.prototype.sortBy=function(n,i){return fh(Zf(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var s=this;return this._map.__iterate(function(o){return n(o,o,s)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Mp);Fp.isSet=kv;var an=Fp.prototype;an[cG]=!0;an[_v]=an.remove;an.merge=an.concat=an.union;an.withMutations=Cv;an.asImmutable=Ov;an["@@transducer/init"]=an.asMutable=Iv;an["@@transducer/step"]=function(t,e){return t.add(e)};an["@@transducer/result"]=function(t){return t.asImmutable()};an.__empty=Qm;an.__make=hG;function C0(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function hG(t,e){var r=Object.create(an);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var u$;function Qm(){return u$||(u$=hG(Fs()))}var KN=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(MN(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(AT)return AT;AT=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+Sl(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return bv(n,i,this.size)?this:(n=Pp(n,this.size),i=wv(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var s=this.size,o=this._step,a=i?this._start+(s-1)*o:this._start,u=0;u!==s&&n(a,i?s-++u:u++,this)!==!1;)a+=i?-o:o;return u},e.prototype.__iterator=function(n,i){var s=this.size,o=this._step,a=i?this._start+(s-1)*o:this._start,u=0;return new Et(function(){if(u===s)return Vn();var l=a;return a+=i?-o:o,Vt(n,i?s-++u:u++,l)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:QN(this,n)},e}(_s),AT;function qE(t,e,r){for(var n=Z9(e),i=0;i!==n.length;)if(t=HE(t,n[i++],mt),t===mt)return r;return t}function dG(t,e){return qE(this,t,e)}function JN(t,e){return qE(t,e,mt)!==mt}function kde(t){return JN(this,t)}function fG(){Ai(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Ht.isIterable=wn;Ht.isKeyed=Ot;Ht.isIndexed=on;Ht.isAssociative=Np;Ht.isOrdered=Ri;Ht.Iterator=Et;Bh(Ht,{toArray:function(){Ai(this.size);var e=new Array(this.size||0),r=Ot(this),n=0;return this.__iterate(function(i,s){e[n++]=r?[s,i]:i}),e},toIndexedSeq:function(){return new F9(this)},toJS:function(){return Y1(this)},toKeyedSeq:function(){return new jE(this,!0)},toMap:function(){return zl(this.toKeyedSeq())},toObject:fG,toOrderedMap:function(){return eo(this.toKeyedSeq())},toOrderedSet:function(){return fh(Ot(this)?this.valueSeq():this)},toSet:function(){return Fp(Ot(this)?this.valueSeq():this)},toSetSeq:function(){return new U9(this)},toSeq:function(){return on(this)?this.toIndexedSeq():Ot(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Rv(Ot(this)?this.valueSeq():this)},toList:function(){return $p(Ot(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return It(this,mde(this,e))},includes:function(e){return this.some(function(r){return kr(r,e)})},entries:function(){return this.__iterator(ps)},every:function(e,r){Ai(this.size);var n=!0;return this.__iterate(function(i,s,o){if(!e.call(r,i,s,o))return n=!1,!1}),n},filter:function(e,r){return It(this,V9(this,e,r,!0))},partition:function(e,r){return fde(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Ai(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Ai(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(xv)},map:function(e,r){return It(this,H9(this,e,r))},reduce:function(e,r,n){return l$(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return l$(this,e,r,n,arguments.length<2,!0)},reverse:function(){return It(this,RN(this,!0))},slice:function(e,r){return It(this,kN(this,e,r,!0))},some:function(e,r){Ai(this.size);var n=!1;return this.__iterate(function(i,s,o){if(e.call(r,i,s,o))return n=!0,!1}),n},sort:function(e){return It(this,Zf(this,e))},values:function(){return this.__iterator(Js)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return qf(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return hde(this,e,r)},equals:function(e){return QN(this,e)},entrySeq:function(){var e=this;if(e._cache)return new dh(e._cache);var r=e.toSeq().map(Nde).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(TT(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(s,o,a){if(e.call(r,s,o,a))return i=[o,s],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(C9,null,e)},flatMap:function(e,r){return It(this,yde(this,e,r))},flatten:function(e){return It(this,W9(this,e,!0))},fromEntrySeq:function(){return new j9(this)},get:function(e,r){return this.find(function(n,i){return kr(i,e)},void 0,r)},getIn:dG,groupBy:function(e,r){return dde(this,e,r)},has:function(e){return this.get(e,mt)!==mt},hasIn:kde,isSubset:function(e){return e=typeof e.includes=="function"?e:Ht(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Ht(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return kr(r,e)})},keySeq:function(){return this.toSeq().map(Pde).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return S0(this,e)},maxBy:function(e,r){return S0(this,r,e)},min:function(e){return S0(this,e?c$(e):d$)},minBy:function(e,r){return S0(this,r?c$(r):d$,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return It(this,G9(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(TT(e),r)},sortBy:function(e,r){return It(this,Zf(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return It(this,pde(this,e,r))},takeUntil:function(e,r){return this.takeWhile(TT(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Mde(this))}});var xn=Ht.prototype;xn[R9]=!0;xn[LE]=xn.values;xn.toJSON=xn.toArray;xn.__toStringMapper=xg;xn.inspect=xn.toSource=function(){return this.toString()};xn.chain=xn.flatMap;xn.contains=xn.includes;Bh(vs,{flip:function(){return It(this,z9(this))},mapEntries:function(e,r){var n=this,i=0;return It(this,this.toSeq().map(function(s,o){return e.call(r,[o,s],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return It(this,this.toSeq().flip().map(function(i,s){return e.call(r,i,s,n)}).flip())}});var Pv=vs.prototype;Pv[k9]=!0;Pv[LE]=xn.entries;Pv.toJSON=fG;Pv.__toStringMapper=function(t,e){return xg(e)+": "+xg(t)};Bh(Dh,{toKeyedSeq:function(){return new jE(this,!1)},filter:function(e,r){return It(this,V9(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return It(this,RN(this,!1))},slice:function(e,r){return It(this,kN(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=Pp(e,e<0?this.count():this.size);var i=this.slice(0,e);return It(this,n===1?i:i.concat(Wo(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return It(this,W9(this,e,!1))},get:function(e,r){return e=Sl(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=Sl(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return It(this,gde(this,e))},interleave:function(){var e=[this].concat(Wo(arguments)),r=A0(this.toSeq(),_s.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),It(this,n)},keySeq:function(){return KN(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return It(this,G9(this,e,r,!1))},zip:function(){var e=[this].concat(Wo(arguments));return It(this,A0(this,h$,e))},zipAll:function(){var e=[this].concat(Wo(arguments));return It(this,A0(this,h$,e,!0))},zipWith:function(e){var r=Wo(arguments);return r[0]=this,It(this,A0(this,e,r))}});var Up=Dh.prototype;Up[P9]=!0;Up[Dp]=!0;Bh(Mp,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Kf=Mp.prototype;Kf.has=xn.includes;Kf.contains=Kf.includes;Kf.keys=Kf.values;Bh(Ul,Pv);Bh(_s,Up);Bh(Lp,Kf);function l$(t,e,r,n,i,s){return Ai(t.size),t.__iterate(function(o,a,u){i?(i=!1,r=o):r=e.call(n,r,o,a,u)},s),r}function Pde(t,e){return e}function Nde(t,e){return[e,t]}function TT(t){return function(){return!t.apply(this,arguments)}}function c$(t){return function(){return-t.apply(this,arguments)}}function h$(){return Wo(arguments)}function d$(t,e){return t<e?1:t>e?-1:0}function Mde(t){if(t.size===1/0)return 0;var e=Ri(t),r=Ot(t),n=e?1:0,i=t.__iterate(r?e?function(s,o){n=31*n+f$(Ln(s),Ln(o))|0}:function(s,o){n=n+f$(Ln(s),Ln(o))|0}:e?function(s){n=31*n+Ln(s)|0}:function(s){n=n+Ln(s)|0});return Dde(i,n)}function Dde(t,e){return e=km(e,3432918353),e=km(e<<15|e>>>-15,461845907),e=km(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=km(e^e>>>16,2246822507),e=km(e^e>>>13,3266489909),e=UE(e^e>>>16),e}function f$(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var fh=function(t){function e(r){return r==null?x2():WE(r)?r:x2().withMutations(function(n){var i=Mp(r);Ai(i.size),i.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(vs(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Fp);fh.isOrderedSet=WE;var Lh=fh.prototype;Lh[Dp]=!0;Lh.zip=Up.zip;Lh.zipWith=Up.zipWith;Lh.zipAll=Up.zipAll;Lh.__empty=x2;Lh.__make=pG;function pG(t,e){var r=Object.create(Lh);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var p$;function x2(){return p$||(p$=pG(Xm()))}var mG={LeftThenRight:-1,RightThenLeft:1};function Bde(t){if(Fl(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Di(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Sr=function(e,r){var n;Bde(e);var i=function(a){var u=this;if(a instanceof i)return a;if(!(this instanceof i))return new i(a);if(!n){n=!0;var l=Object.keys(e),c=s._indices={};s._name=r,s._keys=l,s._defaultValues=e;for(var f=0;f<l.length;f++){var p=l[f];c[p]=f,s[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+tM(this)+' with property "'+p+'" since that property name is part of the Record API.'):Lde(s,p)}}return this.__ownerID=void 0,this._values=$p().withMutations(function(m){m.setSize(u._keys.length),vs(a).forEach(function(y,g){m.set(u._indices[g],y===u._defaultValues[g]?void 0:y)})}),this},s=i.prototype=Object.create(Dt);return s.constructor=i,r&&(i.displayName=r),i};Sr.prototype.toString=function(){for(var e=tM(this)+" { ",r=this._keys,n,i=0,s=r.length;i!==s;i++)n=r[i],e+=(i?", ":"")+n+": "+xg(this.get(n));return e+" }"};Sr.prototype.equals=function(e){return this===e||Fl(e)&&Jf(this).equals(Jf(e))};Sr.prototype.hashCode=function(){return Jf(this).hashCode()};Sr.prototype.has=function(e){return this._indices.hasOwnProperty(e)};Sr.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};Sr.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return eM(this,n)}return this};Sr.prototype.remove=function(e){return this.set(e)};Sr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:eM(this,e)};Sr.prototype.wasAltered=function(){return this._values.wasAltered()};Sr.prototype.toSeq=function(){return Jf(this)};Sr.prototype.toJS=function(){return Y1(this)};Sr.prototype.entries=function(){return this.__iterator(ps)};Sr.prototype.__iterator=function(e,r){return Jf(this).__iterator(e,r)};Sr.prototype.__iterate=function(e,r){return Jf(this).__iterate(e,r)};Sr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?eM(this,r,e):(this.__ownerID=e,this._values=r,this)};Sr.isRecord=Fl;Sr.getDescriptiveName=tM;var Dt=Sr.prototype;Dt[M9]=!0;Dt[_v]=Dt.remove;Dt.deleteIn=Dt.removeIn=jN;Dt.getIn=dG;Dt.hasIn=xn.hasIn;Dt.merge=Y9;Dt.mergeWith=Q9;Dt.mergeIn=VN;Dt.mergeDeep=nG;Dt.mergeDeepWith=iG;Dt.mergeDeepIn=GN;Dt.setIn=FN;Dt.update=zN;Dt.updateIn=HN;Dt.withMutations=Cv;Dt.asMutable=Iv;Dt.asImmutable=Ov;Dt[LE]=Dt.entries;Dt.toJSON=Dt.toObject=xn.toObject;Dt.inspect=Dt.toSource=function(){return this.toString()};function eM(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function tM(t){return t.constructor.displayName||t.constructor.name||"Record"}function Jf(t){return IN(t._keys.map(function(e){return[e,t.get(e)]}))}function Lde(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){MN(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var yG=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(CT)return CT;CT=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return kr(this._value,n)},e.prototype.slice=function(n,i){var s=this.size;return bv(n,i,s)?this:new e(this._value,wv(i,s)-Pp(n,s))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return kr(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return kr(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var s=this.size,o=0;o!==s&&n(this._value,i?s-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,i){var s=this,o=this.size,a=0;return new Et(function(){return a===o?Vn():Vt(n,i?o-++a:a++,s._value)})},e.prototype.equals=function(n){return n instanceof e?kr(this._value,n._value):QN(n)},e}(_s),CT;function gG(t,e){return vG([],e||$de,t,"",e&&e.length>2?[]:void 0,{"":t})}function vG(t,e,r,n,i,s){if(typeof r!="string"&&!Di(r)&&(AN(r)||SN(r)||zE(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var o=e.call(s,n,En(r).map(function(a,u){return vG(t,e,a,u,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),o}return r}function $de(t,e){return on(e)?e.toList():Ot(e)?e.toMap():e.toSet()}var _G="4.3.4",Fde={version:_G,Collection:Ht,Iterable:Ht,Seq:En,Map:zl,OrderedMap:eo,List:$p,Stack:Rv,Set:Fp,OrderedSet:fh,PairSorting:mG,Record:Sr,Range:KN,Repeat:yG,is:kr,fromJS:gG,hash:Ln,isImmutable:Di,isCollection:wn,isKeyed:Ot,isIndexed:on,isAssociative:Np,isOrdered:Ri,isValueObject:Z1,isPlainObject:zE,isSeq:Ev,isList:GE,isMap:Sv,isOrderedMap:FE,isStack:Ig,isSet:kv,isOrderedSet:WE,isRecord:Fl,get:HE,getIn:qE,has:DN,hasIn:JN,merge:J9,mergeDeep:tG,mergeWith:eG,mergeDeepWith:rG,remove:BN,removeIn:UN,set:LN,setIn:$N,update:VE,updateIn:jl},Ude=Ht;const jde=Object.freeze(Object.defineProperty({__proto__:null,Collection:Ht,Iterable:Ude,List:$p,Map:zl,OrderedMap:eo,OrderedSet:fh,PairSorting:mG,Range:KN,Record:Sr,Repeat:yG,Seq:En,Set:Fp,Stack:Rv,default:Fde,fromJS:gG,get:HE,getIn:qE,has:DN,hasIn:JN,hash:Ln,is:kr,isAssociative:Np,isCollection:wn,isImmutable:Di,isIndexed:on,isKeyed:Ot,isList:GE,isMap:Sv,isOrdered:Ri,isOrderedMap:FE,isOrderedSet:WE,isPlainObject:zE,isRecord:Fl,isSeq:Ev,isSet:kv,isStack:Ig,isValueObject:Z1,merge:J9,mergeDeep:tG,mergeDeepWith:rG,mergeWith:eG,remove:BN,removeIn:UN,set:LN,setIn:$N,update:VE,updateIn:jl,version:_G},Symbol.toStringTag,{value:"Module"})),zde=pa(jde);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionManagerProvider=t.useTransactionManager=t.TransactionManagerContext=void 0;const e=Or,r=Me,n=zde;t.TransactionManagerContext=(0,r.createContext)({transactions:[],hashes:[],addTransaction:({hash:a,metadata:u})=>{},removeTransaction:({hash:a})=>{}});function i(){const a=(0,r.useContext)(t.TransactionManagerContext);if(!a)throw new Error("useTransactionManager must be used inside TransactionManagerProvider");return a}t.useTransactionManager=i;function s({children:a}){const[u,l]=(0,r.useReducer)(o,{hashes:(0,n.OrderedSet)(),transactions:(0,n.OrderedMap)()}),c=(0,r.useCallback)(({hash:y,metadata:g})=>{l({type:"add_transaction",hash:y,metadata:g})},[l]),f=(0,r.useCallback)(({hash:y})=>{l({type:"remove_transaction",hash:y})},[l]),p=t.TransactionManagerContext.Provider,m=u.transactions;return(0,e.jsx)(p,{value:{transactions:m.valueSeq().toArray(),hashes:m.keySeq().toArray(),addTransaction:c,removeTransaction:f},children:a})}t.TransactionManagerProvider=s;function o(a,u){switch(u.type){case"add_transaction":{const l=a.hashes.add(u.hash),c=a.transactions.set(u.hash,{hash:u.hash,metadata:u.metadata});return{...a,hashes:l,transactions:c}}case"remove_transaction":{const l=a.hashes.remove(u.hash),c=a.transactions.delete(u.hash);return{...a,hashes:l,transactions:c}}default:return a}}})(m2);(function(t){var e=at&&at.__createBinding||(Object.create?function(a,u,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(u,l);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(a,c,f)}:function(a,u,l,c){c===void 0&&(c=l),a[c]=u[l]}),r=at&&at.__exportStar||function(a,u){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&e(u,a,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.StarknetConfig=void 0;const n=Or,i=lh,s=m2;r(lh,t),r(m2,t);function o({children:a,...u}){return(0,n.jsx)(i.StarknetProvider,{...u,children:(0,n.jsx)(s.TransactionManagerProvider,{children:a})})}t.StarknetConfig=o})(uo);var IT={},jp={},zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.useConnectors=void 0;const I0=Me,Hde=uo;function Vde(){const{connectors:t,connect:e,disconnect:r}=(0,Hde.useStarknet)(),[n,i]=(0,I0.useState)([]),[s,o]=(0,I0.useState)(!0);(0,I0.useEffect)(()=>{i(t.filter(u=>u.available())),o(!1)},[t,i]);const a=(0,I0.useCallback)(()=>{i(t.filter(u=>u.available())),o(!1)},[t,i,o]);return{available:n,connectors:t,connect:e,disconnect:r,refresh:a,isLoading:s}}zp.useConnectors=Vde;Object.defineProperty(jp,"__esModule",{value:!0});jp.useAccount=void 0;const OT=Me,Gde=zp,Wde=uo;function qde({onConnect:t,onDisconnect:e}={}){const{account:r}=(0,Wde.useStarknet)(),{connectors:n}=(0,Gde.useConnectors)(),[i,s]=(0,OT.useState)({status:"disconnected"}),o=(0,OT.useCallback)(async()=>{if(!r)return!i.isDisconnected&&e!==void 0&&e(),s({status:"disconnected",isDisconnected:!0,isConnected:!1,isConnecting:!1,isReconnecting:!1});for(const a of n){if(!a.available())continue;const u=await a.account();if(u&&(u==null?void 0:u.address)===r)return i.isDisconnected&&t!==void 0&&t({address:r,connector:a}),s({connector:a,account:u,address:r,status:"connected",isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1})}},[s,r,n,t,e,i.isDisconnected]);return(0,OT.useEffect)(()=>{o()},[o]),i}jp.useAccount=qde;var Pm={},$h={},ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.useBlockNumber=ph.useBlock=void 0;const bG=lo,wG=uo;function Zde({refetchInterval:t,onSuccess:e,blockIdentifier:r="latest"}={}){const{library:n}=(0,wG.useStarknet)(),{data:i,error:s,isStale:o,isLoading:a,isFetching:u,isSuccess:l,isError:c,isFetched:f,isFetchedAfterMount:p,isRefetching:m,refetch:y,status:g}=(0,bG.useQuery)(["block",r],EG({library:n,args:{blockIdentifier:r}}),{refetchInterval:t,useErrorBoundary:!0,onSuccess:b=>{b&&e&&e(b)}});return{data:i,error:s,isIdle:o,isLoading:a,isFetching:u,isSuccess:l,isError:c,isFetched:f,isFetchedAfterMount:p,isRefetching:m,refetch:y,status:g}}ph.useBlock=Zde;function EG({library:t,args:e}){return async()=>await t.getBlock(e.blockIdentifier)}function Xde({refetchInterval:t,onSuccess:e}={}){const{library:r}=(0,wG.useStarknet)(),{data:n,error:i,isStale:s,isLoading:o,isFetching:a,isSuccess:u,isError:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,bG.useQuery)(["block","latest"],EG({library:r,args:{blockIdentifier:"latest"}}),{refetchInterval:t,useErrorBoundary:!0,onSuccess:g=>{g&&e&&e(g.block_number)}});return{data:n==null?void 0:n.block_number,error:i,isIdle:s,isLoading:o,isFetching:a,isSuccess:u,isError:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}ph.useBlockNumber=Xde;Object.defineProperty($h,"__esModule",{value:!0});$h.useInvalidateOnBlock=void 0;const Yde=lo,Qde=Me,Kde=ph;function Jde({enabled:t,queryKey:e}){const r=(0,Yde.useQueryClient)(),[n,i]=(0,Qde.useState)(void 0);(0,Kde.useBlock)({refetchInterval:5e3,onSuccess:t?async s=>{s.block_hash!==n&&(await r.invalidateQueries(e,{refetchType:"all"}),i(s.block_hash))}:void 0})}$h.useInvalidateOnBlock=Jde;var xG={},SG={},S2={},ta={},ZE={},Nv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0;var e;(function(n){n.assertEqual=a=>a;function i(a){}n.assertIs=i;function s(a){throw new Error}n.assertNever=s,n.arrayToEnum=a=>{const u={};for(const l of a)u[l]=l;return u},n.getValidEnumValues=a=>{const u=n.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),l={};for(const c of u)l[c]=a[c];return n.objectValues(l)},n.objectValues=a=>n.objectKeys(a).map(function(u){return a[u]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const u=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&u.push(l);return u},n.find=(a,u)=>{for(const l of a)if(u(l))return l},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function o(a,u=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(a,u)=>typeof u=="bigint"?u.toString():u})(e=t.util||(t.util={})),function(n){n.mergeShapes=(i,s)=>({...i,...s})}(t.objectUtil||(t.objectUtil={})),t.ZodParsedType=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const r=n=>{switch(typeof n){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(n)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":return Array.isArray(n)?t.ZodParsedType.array:n===null?t.ZodParsedType.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?t.ZodParsedType.promise:typeof Map<"u"&&n instanceof Map?t.ZodParsedType.map:typeof Set<"u"&&n instanceof Set?t.ZodParsedType.set:typeof Date<"u"&&n instanceof Date?t.ZodParsedType.date:t.ZodParsedType.object;default:return t.ZodParsedType.unknown}};t.getParsedType=r})(Nv);var ra={};Object.defineProperty(ra,"__esModule",{value:!0});ra.ZodError=ra.quotelessJson=ra.ZodIssueCode=void 0;const AG=Nv;ra.ZodIssueCode=AG.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const efe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");ra.quotelessJson=efe;class A2 extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,AG.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ra.ZodError=A2;A2.create=t=>new A2(t);Object.defineProperty(ZE,"__esModule",{value:!0});const sc=Nv,yn=ra,tfe=(t,e)=>{let r;switch(t.code){case yn.ZodIssueCode.invalid_type:t.received===sc.ZodParsedType.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case yn.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,sc.util.jsonStringifyReplacer)}`;break;case yn.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${sc.util.joinValues(t.keys,", ")}`;break;case yn.ZodIssueCode.invalid_union:r="Invalid input";break;case yn.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sc.util.joinValues(t.options)}`;break;case yn.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${sc.util.joinValues(t.options)}, received '${t.received}'`;break;case yn.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case yn.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case yn.ZodIssueCode.invalid_date:r="Invalid date";break;case yn.ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:sc.util.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case yn.ZodIssueCode.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case yn.ZodIssueCode.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case yn.ZodIssueCode.custom:r="Invalid input";break;case yn.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case yn.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case yn.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=e.defaultError,sc.util.assertNever(t)}return{message:r}};ZE.default=tfe;var rfe=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0});ta.getErrorMap=ta.setErrorMap=ta.defaultErrorMap=void 0;const TG=rfe(ZE);ta.defaultErrorMap=TG.default;let CG=TG.default;function nfe(t){CG=t}ta.setErrorMap=nfe;function ife(){return CG}ta.getErrorMap=ife;var rM={};(function(t){var e=at&&at.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;const r=ta,n=e(ZE),i=m=>{const{data:y,path:g,errorMaps:b,issueData:_}=m,w=[...g,..._.path||[]],E={..._,path:w};let x="";const N=b.filter(M=>!!M).slice().reverse();for(const M of N)x=M(E,{data:y,defaultError:x}).message;return{..._,path:w,message:_.message||x}};t.makeIssue=i,t.EMPTY_PATH=[];function s(m,y){const g=(0,t.makeIssue)({issueData:y,data:m.data,path:m.path,errorMaps:[m.common.contextualErrorMap,m.schemaErrorMap,(0,r.getErrorMap)(),n.default].filter(b=>!!b)});m.common.issues.push(g)}t.addIssueToContext=s;class o{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(y,g){const b=[];for(const _ of g){if(_.status==="aborted")return t.INVALID;_.status==="dirty"&&y.dirty(),b.push(_.value)}return{status:y.value,value:b}}static async mergeObjectAsync(y,g){const b=[];for(const _ of g)b.push({key:await _.key,value:await _.value});return o.mergeObjectSync(y,b)}static mergeObjectSync(y,g){const b={};for(const _ of g){const{key:w,value:E}=_;if(w.status==="aborted"||E.status==="aborted")return t.INVALID;w.status==="dirty"&&y.dirty(),E.status==="dirty"&&y.dirty(),w.value!=="__proto__"&&(typeof E.value<"u"||_.alwaysSet)&&(b[w.value]=E.value)}return{status:y.value,value:b}}}t.ParseStatus=o,t.INVALID=Object.freeze({status:"aborted"});const a=m=>({status:"dirty",value:m});t.DIRTY=a;const u=m=>({status:"valid",value:m});t.OK=u;const l=m=>m.status==="aborted";t.isAborted=l;const c=m=>m.status==="dirty";t.isDirty=c;const f=m=>m.status==="valid";t.isValid=f;const p=m=>typeof Promise<"u"&&m instanceof Promise;t.isAsync=p})(rM);var IG={};Object.defineProperty(IG,"__esModule",{value:!0});var OG={},RG={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message}(t.errorUtil||(t.errorUtil={}))})(RG);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.date=t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=t.discriminatedUnion=void 0;const e=ta,r=RG,n=rM,i=Nv,s=ra;class o{constructor(T,L,H,Q){this._cachedPath=[],this.parent=T,this.data=L,this._path=H,this._key=Q}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a=(Z,T)=>{if((0,n.isValid)(T))return{success:!0,data:T.value};if(!Z.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const L=new s.ZodError(Z.common.issues);return this._error=L,this._error}}};function u(Z){if(!Z)return{};const{errorMap:T,invalid_type_error:L,required_error:H,description:Q}=Z;if(T&&(L||H))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return T?{errorMap:T,description:Q}:{errorMap:(fe,le)=>fe.code!=="invalid_type"?{message:le.defaultError}:typeof le.data>"u"?{message:H??le.defaultError}:{message:L??le.defaultError},description:Q}}class l{constructor(T){this.spa=this.safeParseAsync,this._def=T,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(T){return(0,i.getParsedType)(T.data)}_getOrReturnCtx(T,L){return L||{common:T.parent.common,data:T.data,parsedType:(0,i.getParsedType)(T.data),schemaErrorMap:this._def.errorMap,path:T.path,parent:T.parent}}_processInputParams(T){return{status:new n.ParseStatus,ctx:{common:T.parent.common,data:T.data,parsedType:(0,i.getParsedType)(T.data),schemaErrorMap:this._def.errorMap,path:T.path,parent:T.parent}}}_parseSync(T){const L=this._parse(T);if((0,n.isAsync)(L))throw new Error("Synchronous parse encountered promise.");return L}_parseAsync(T){const L=this._parse(T);return Promise.resolve(L)}parse(T,L){const H=this.safeParse(T,L);if(H.success)return H.data;throw H.error}safeParse(T,L){var H;const Q={common:{issues:[],async:(H=L==null?void 0:L.async)!==null&&H!==void 0?H:!1,contextualErrorMap:L==null?void 0:L.errorMap},path:(L==null?void 0:L.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:T,parsedType:(0,i.getParsedType)(T)},Y=this._parseSync({data:T,path:Q.path,parent:Q});return a(Q,Y)}async parseAsync(T,L){const H=await this.safeParseAsync(T,L);if(H.success)return H.data;throw H.error}async safeParseAsync(T,L){const H={common:{issues:[],contextualErrorMap:L==null?void 0:L.errorMap,async:!0},path:(L==null?void 0:L.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:T,parsedType:(0,i.getParsedType)(T)},Q=this._parse({data:T,path:H.path,parent:H}),Y=await((0,n.isAsync)(Q)?Q:Promise.resolve(Q));return a(H,Y)}refine(T,L){const H=Q=>typeof L=="string"||typeof L>"u"?{message:L}:typeof L=="function"?L(Q):L;return this._refinement((Q,Y)=>{const fe=T(Q),le=()=>Y.addIssue({code:s.ZodIssueCode.custom,...H(Q)});return typeof Promise<"u"&&fe instanceof Promise?fe.then(He=>He?!0:(le(),!1)):fe?!0:(le(),!1)})}refinement(T,L){return this._refinement((H,Q)=>T(H)?!0:(Q.addIssue(typeof L=="function"?L(H,Q):L),!1))}_refinement(T){return new Qe({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:T}})}superRefine(T){return this._refinement(T)}optional(){return ht.create(this,this._def)}nullable(){return Kt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return k.create(this,this._def)}promise(){return We.create(this,this._def)}or(T){return z.create([this,T],this._def)}and(T){return ae.create(this,T,this._def)}transform(T){return new Qe({...u(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:T}})}default(T){const L=typeof T=="function"?T:()=>T;return new Lt({...u(this._def),innerType:this,defaultValue:L,typeName:je.ZodDefault})}brand(){return new bs({typeName:je.ZodBranded,type:this,...u(this._def)})}catch(T){const L=typeof T=="function"?T:()=>T;return new An({...u(this._def),innerType:this,catchValue:L,typeName:je.ZodCatch})}describe(T){const L=this.constructor;return new L({...this._def,description:T})}pipe(T){return Xr.create(this,T)}readonly(){return Cn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=l,t.Schema=l,t.ZodSchema=l;const c=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,p=/^[0-9A-HJKMNP-TV-Z]{26}$/,m=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,g="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let b;const _=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,w=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E=Z=>Z.precision?Z.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}Z$`):Z.precision===0?Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function x(Z,T){return!!((T==="v4"||!T)&&_.test(Z)||(T==="v6"||!T)&&w.test(Z))}class N extends l{_parse(T){if(this._def.coerce&&(T.data=String(T.data)),this._getType(T)!==i.ZodParsedType.string){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:Y.parsedType}),n.INVALID}const H=new n.ParseStatus;let Q;for(const Y of this._def.checks)if(Y.kind==="min")T.data.length<Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_small,minimum:Y.value,type:"string",inclusive:!0,exact:!1,message:Y.message}),H.dirty());else if(Y.kind==="max")T.data.length>Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_big,maximum:Y.value,type:"string",inclusive:!0,exact:!1,message:Y.message}),H.dirty());else if(Y.kind==="length"){const fe=T.data.length>Y.value,le=T.data.length<Y.value;(fe||le)&&(Q=this._getOrReturnCtx(T,Q),fe?(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_big,maximum:Y.value,type:"string",inclusive:!0,exact:!0,message:Y.message}):le&&(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_small,minimum:Y.value,type:"string",inclusive:!0,exact:!0,message:Y.message}),H.dirty())}else if(Y.kind==="email")y.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"email",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="emoji")b||(b=new RegExp(g,"u")),b.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="uuid")m.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="cuid")c.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="cuid2")f.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="ulid")p.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="url")try{new URL(T.data)}catch{Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"url",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty()}else Y.kind==="regex"?(Y.regex.lastIndex=0,Y.regex.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty())):Y.kind==="trim"?T.data=T.data.trim():Y.kind==="includes"?T.data.includes(Y.value,Y.position)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:{includes:Y.value,position:Y.position},message:Y.message}),H.dirty()):Y.kind==="toLowerCase"?T.data=T.data.toLowerCase():Y.kind==="toUpperCase"?T.data=T.data.toUpperCase():Y.kind==="startsWith"?T.data.startsWith(Y.value)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:Y.value},message:Y.message}),H.dirty()):Y.kind==="endsWith"?T.data.endsWith(Y.value)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:Y.value},message:Y.message}),H.dirty()):Y.kind==="datetime"?E(Y).test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:Y.message}),H.dirty()):Y.kind==="ip"?x(T.data,Y.version)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty()):i.util.assertNever(Y);return{status:H.value,value:T.data}}_regex(T,L,H){return this.refinement(Q=>T.test(Q),{validation:L,code:s.ZodIssueCode.invalid_string,...r.errorUtil.errToObj(H)})}_addCheck(T){return new N({...this._def,checks:[...this._def.checks,T]})}email(T){return this._addCheck({kind:"email",...r.errorUtil.errToObj(T)})}url(T){return this._addCheck({kind:"url",...r.errorUtil.errToObj(T)})}emoji(T){return this._addCheck({kind:"emoji",...r.errorUtil.errToObj(T)})}uuid(T){return this._addCheck({kind:"uuid",...r.errorUtil.errToObj(T)})}cuid(T){return this._addCheck({kind:"cuid",...r.errorUtil.errToObj(T)})}cuid2(T){return this._addCheck({kind:"cuid2",...r.errorUtil.errToObj(T)})}ulid(T){return this._addCheck({kind:"ulid",...r.errorUtil.errToObj(T)})}ip(T){return this._addCheck({kind:"ip",...r.errorUtil.errToObj(T)})}datetime(T){var L;return typeof T=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:T}):this._addCheck({kind:"datetime",precision:typeof(T==null?void 0:T.precision)>"u"?null:T==null?void 0:T.precision,offset:(L=T==null?void 0:T.offset)!==null&&L!==void 0?L:!1,...r.errorUtil.errToObj(T==null?void 0:T.message)})}regex(T,L){return this._addCheck({kind:"regex",regex:T,...r.errorUtil.errToObj(L)})}includes(T,L){return this._addCheck({kind:"includes",value:T,position:L==null?void 0:L.position,...r.errorUtil.errToObj(L==null?void 0:L.message)})}startsWith(T,L){return this._addCheck({kind:"startsWith",value:T,...r.errorUtil.errToObj(L)})}endsWith(T,L){return this._addCheck({kind:"endsWith",value:T,...r.errorUtil.errToObj(L)})}min(T,L){return this._addCheck({kind:"min",value:T,...r.errorUtil.errToObj(L)})}max(T,L){return this._addCheck({kind:"max",value:T,...r.errorUtil.errToObj(L)})}length(T,L){return this._addCheck({kind:"length",value:T,...r.errorUtil.errToObj(L)})}nonempty(T){return this.min(1,r.errorUtil.errToObj(T))}trim(){return new N({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(T=>T.kind==="datetime")}get isEmail(){return!!this._def.checks.find(T=>T.kind==="email")}get isURL(){return!!this._def.checks.find(T=>T.kind==="url")}get isEmoji(){return!!this._def.checks.find(T=>T.kind==="emoji")}get isUUID(){return!!this._def.checks.find(T=>T.kind==="uuid")}get isCUID(){return!!this._def.checks.find(T=>T.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(T=>T.kind==="cuid2")}get isULID(){return!!this._def.checks.find(T=>T.kind==="ulid")}get isIP(){return!!this._def.checks.find(T=>T.kind==="ip")}get minLength(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T}get maxLength(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T}}t.ZodString=N,N.create=Z=>{var T;return new N({checks:[],typeName:je.ZodString,coerce:(T=Z==null?void 0:Z.coerce)!==null&&T!==void 0?T:!1,...u(Z)})};function M(Z,T){const L=(Z.toString().split(".")[1]||"").length,H=(T.toString().split(".")[1]||"").length,Q=L>H?L:H,Y=parseInt(Z.toFixed(Q).replace(".","")),fe=parseInt(T.toFixed(Q).replace(".",""));return Y%fe/Math.pow(10,Q)}class R extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(T){if(this._def.coerce&&(T.data=Number(T.data)),this._getType(T)!==i.ZodParsedType.number){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:Y.parsedType}),n.INVALID}let H;const Q=new n.ParseStatus;for(const Y of this._def.checks)Y.kind==="int"?i.util.isInteger(T.data)||(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:Y.message}),Q.dirty()):Y.kind==="min"?(Y.inclusive?T.data<Y.value:T.data<=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,minimum:Y.value,type:"number",inclusive:Y.inclusive,exact:!1,message:Y.message}),Q.dirty()):Y.kind==="max"?(Y.inclusive?T.data>Y.value:T.data>=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,maximum:Y.value,type:"number",inclusive:Y.inclusive,exact:!1,message:Y.message}),Q.dirty()):Y.kind==="multipleOf"?M(T.data,Y.value)!==0&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.not_multiple_of,multipleOf:Y.value,message:Y.message}),Q.dirty()):Y.kind==="finite"?Number.isFinite(T.data)||(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.not_finite,message:Y.message}),Q.dirty()):i.util.assertNever(Y);return{status:Q.value,value:T.data}}gte(T,L){return this.setLimit("min",T,!0,r.errorUtil.toString(L))}gt(T,L){return this.setLimit("min",T,!1,r.errorUtil.toString(L))}lte(T,L){return this.setLimit("max",T,!0,r.errorUtil.toString(L))}lt(T,L){return this.setLimit("max",T,!1,r.errorUtil.toString(L))}setLimit(T,L,H,Q){return new R({...this._def,checks:[...this._def.checks,{kind:T,value:L,inclusive:H,message:r.errorUtil.toString(Q)}]})}_addCheck(T){return new R({...this._def,checks:[...this._def.checks,T]})}int(T){return this._addCheck({kind:"int",message:r.errorUtil.toString(T)})}positive(T){return this._addCheck({kind:"min",value:0,inclusive:!1,message:r.errorUtil.toString(T)})}negative(T){return this._addCheck({kind:"max",value:0,inclusive:!1,message:r.errorUtil.toString(T)})}nonpositive(T){return this._addCheck({kind:"max",value:0,inclusive:!0,message:r.errorUtil.toString(T)})}nonnegative(T){return this._addCheck({kind:"min",value:0,inclusive:!0,message:r.errorUtil.toString(T)})}multipleOf(T,L){return this._addCheck({kind:"multipleOf",value:T,message:r.errorUtil.toString(L)})}finite(T){return this._addCheck({kind:"finite",message:r.errorUtil.toString(T)})}safe(T){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:r.errorUtil.toString(T)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:r.errorUtil.toString(T)})}get minValue(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T}get maxValue(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T}get isInt(){return!!this._def.checks.find(T=>T.kind==="int"||T.kind==="multipleOf"&&i.util.isInteger(T.value))}get isFinite(){let T=null,L=null;for(const H of this._def.checks){if(H.kind==="finite"||H.kind==="int"||H.kind==="multipleOf")return!0;H.kind==="min"?(L===null||H.value>L)&&(L=H.value):H.kind==="max"&&(T===null||H.value<T)&&(T=H.value)}return Number.isFinite(L)&&Number.isFinite(T)}}t.ZodNumber=R,R.create=Z=>new R({checks:[],typeName:je.ZodNumber,coerce:(Z==null?void 0:Z.coerce)||!1,...u(Z)});class D extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(T){if(this._def.coerce&&(T.data=BigInt(T.data)),this._getType(T)!==i.ZodParsedType.bigint){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:Y.parsedType}),n.INVALID}let H;const Q=new n.ParseStatus;for(const Y of this._def.checks)Y.kind==="min"?(Y.inclusive?T.data<Y.value:T.data<=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:Y.value,inclusive:Y.inclusive,message:Y.message}),Q.dirty()):Y.kind==="max"?(Y.inclusive?T.data>Y.value:T.data>=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:Y.value,inclusive:Y.inclusive,message:Y.message}),Q.dirty()):Y.kind==="multipleOf"?T.data%Y.value!==BigInt(0)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.not_multiple_of,multipleOf:Y.value,message:Y.message}),Q.dirty()):i.util.assertNever(Y);return{status:Q.value,value:T.data}}gte(T,L){return this.setLimit("min",T,!0,r.errorUtil.toString(L))}gt(T,L){return this.setLimit("min",T,!1,r.errorUtil.toString(L))}lte(T,L){return this.setLimit("max",T,!0,r.errorUtil.toString(L))}lt(T,L){return this.setLimit("max",T,!1,r.errorUtil.toString(L))}setLimit(T,L,H,Q){return new D({...this._def,checks:[...this._def.checks,{kind:T,value:L,inclusive:H,message:r.errorUtil.toString(Q)}]})}_addCheck(T){return new D({...this._def,checks:[...this._def.checks,T]})}positive(T){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:r.errorUtil.toString(T)})}negative(T){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:r.errorUtil.toString(T)})}nonpositive(T){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:r.errorUtil.toString(T)})}nonnegative(T){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:r.errorUtil.toString(T)})}multipleOf(T,L){return this._addCheck({kind:"multipleOf",value:T,message:r.errorUtil.toString(L)})}get minValue(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T}get maxValue(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T}}t.ZodBigInt=D,D.create=Z=>{var T;return new D({checks:[],typeName:je.ZodBigInt,coerce:(T=Z==null?void 0:Z.coerce)!==null&&T!==void 0?T:!1,...u(Z)})};class W extends l{_parse(T){if(this._def.coerce&&(T.data=!!T.data),this._getType(T)!==i.ZodParsedType.boolean){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodBoolean=W,W.create=Z=>new W({typeName:je.ZodBoolean,coerce:(Z==null?void 0:Z.coerce)||!1,...u(Z)});class G extends l{_parse(T){if(this._def.coerce&&(T.data=new Date(T.data)),this._getType(T)!==i.ZodParsedType.date){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:Y.parsedType}),n.INVALID}if(isNaN(T.data.getTime())){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_date}),n.INVALID}const H=new n.ParseStatus;let Q;for(const Y of this._def.checks)Y.kind==="min"?T.data.getTime()<Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_small,message:Y.message,inclusive:!0,exact:!1,minimum:Y.value,type:"date"}),H.dirty()):Y.kind==="max"?T.data.getTime()>Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_big,message:Y.message,inclusive:!0,exact:!1,maximum:Y.value,type:"date"}),H.dirty()):i.util.assertNever(Y);return{status:H.value,value:new Date(T.data.getTime())}}_addCheck(T){return new G({...this._def,checks:[...this._def.checks,T]})}min(T,L){return this._addCheck({kind:"min",value:T.getTime(),message:r.errorUtil.toString(L)})}max(T,L){return this._addCheck({kind:"max",value:T.getTime(),message:r.errorUtil.toString(L)})}get minDate(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T!=null?new Date(T):null}get maxDate(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T!=null?new Date(T):null}}t.ZodDate=G,G.create=Z=>new G({checks:[],coerce:(Z==null?void 0:Z.coerce)||!1,typeName:je.ZodDate,...u(Z)});class U extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.symbol){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodSymbol=U,U.create=Z=>new U({typeName:je.ZodSymbol,...u(Z)});class X extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.undefined){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodUndefined=X,X.create=Z=>new X({typeName:je.ZodUndefined,...u(Z)});class B extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.null){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodNull=B,B.create=Z=>new B({typeName:je.ZodNull,...u(Z)});class j extends l{constructor(){super(...arguments),this._any=!0}_parse(T){return(0,n.OK)(T.data)}}t.ZodAny=j,j.create=Z=>new j({typeName:je.ZodAny,...u(Z)});class C extends l{constructor(){super(...arguments),this._unknown=!0}_parse(T){return(0,n.OK)(T.data)}}t.ZodUnknown=C,C.create=Z=>new C({typeName:je.ZodUnknown,...u(Z)});class P extends l{_parse(T){const L=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:L.parsedType}),n.INVALID}}t.ZodNever=P,P.create=Z=>new P({typeName:je.ZodNever,...u(Z)});class O extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.undefined){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodVoid=O,O.create=Z=>new O({typeName:je.ZodVoid,...u(Z)});class k extends l{_parse(T){const{ctx:L,status:H}=this._processInputParams(T),Q=this._def;if(L.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:L.parsedType}),n.INVALID;if(Q.exactLength!==null){const fe=L.data.length>Q.exactLength.value,le=L.data.length<Q.exactLength.value;(fe||le)&&((0,n.addIssueToContext)(L,{code:fe?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:le?Q.exactLength.value:void 0,maximum:fe?Q.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Q.exactLength.message}),H.dirty())}if(Q.minLength!==null&&L.data.length<Q.minLength.value&&((0,n.addIssueToContext)(L,{code:s.ZodIssueCode.too_small,minimum:Q.minLength.value,type:"array",inclusive:!0,exact:!1,message:Q.minLength.message}),H.dirty()),Q.maxLength!==null&&L.data.length>Q.maxLength.value&&((0,n.addIssueToContext)(L,{code:s.ZodIssueCode.too_big,maximum:Q.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Q.maxLength.message}),H.dirty()),L.common.async)return Promise.all([...L.data].map((fe,le)=>Q.type._parseAsync(new o(L,fe,L.path,le)))).then(fe=>n.ParseStatus.mergeArray(H,fe));const Y=[...L.data].map((fe,le)=>Q.type._parseSync(new o(L,fe,L.path,le)));return n.ParseStatus.mergeArray(H,Y)}get element(){return this._def.type}min(T,L){return new k({...this._def,minLength:{value:T,message:r.errorUtil.toString(L)}})}max(T,L){return new k({...this._def,maxLength:{value:T,message:r.errorUtil.toString(L)}})}length(T,L){return new k({...this._def,exactLength:{value:T,message:r.errorUtil.toString(L)}})}nonempty(T){return this.min(1,T)}}t.ZodArray=k,k.create=(Z,T)=>new k({type:Z,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...u(T)});function F(Z){if(Z instanceof $){const T={};for(const L in Z.shape){const H=Z.shape[L];T[L]=ht.create(F(H))}return new $({...Z._def,shape:()=>T})}else return Z instanceof k?new k({...Z._def,type:F(Z.element)}):Z instanceof ht?ht.create(F(Z.unwrap())):Z instanceof Kt?Kt.create(F(Z.unwrap())):Z instanceof oe?oe.create(Z.items.map(T=>F(T))):Z}class $ extends l{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const T=this._def.shape(),L=i.util.objectKeys(T);return this._cached={shape:T,keys:L}}_parse(T){if(this._getType(T)!==i.ZodParsedType.object){const $e=this._getOrReturnCtx(T);return(0,n.addIssueToContext)($e,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:$e.parsedType}),n.INVALID}const{status:H,ctx:Q}=this._processInputParams(T),{shape:Y,keys:fe}=this._getCached(),le=[];if(!(this._def.catchall instanceof P&&this._def.unknownKeys==="strip"))for(const $e in Q.data)fe.includes($e)||le.push($e);const He=[];for(const $e of fe){const it=Y[$e],Ar=Q.data[$e];He.push({key:{status:"valid",value:$e},value:it._parse(new o(Q,Ar,Q.path,$e)),alwaysSet:$e in Q.data})}if(this._def.catchall instanceof P){const $e=this._def.unknownKeys;if($e==="passthrough")for(const it of le)He.push({key:{status:"valid",value:it},value:{status:"valid",value:Q.data[it]}});else if($e==="strict")le.length>0&&((0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.unrecognized_keys,keys:le}),H.dirty());else if($e!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const $e=this._def.catchall;for(const it of le){const Ar=Q.data[it];He.push({key:{status:"valid",value:it},value:$e._parse(new o(Q,Ar,Q.path,it)),alwaysSet:it in Q.data})}}return Q.common.async?Promise.resolve().then(async()=>{const $e=[];for(const it of He){const Ar=await it.key;$e.push({key:Ar,value:await it.value,alwaysSet:it.alwaysSet})}return $e}).then($e=>n.ParseStatus.mergeObjectSync(H,$e)):n.ParseStatus.mergeObjectSync(H,He)}get shape(){return this._def.shape()}strict(T){return r.errorUtil.errToObj,new $({...this._def,unknownKeys:"strict",...T!==void 0?{errorMap:(L,H)=>{var Q,Y,fe,le;const He=(fe=(Y=(Q=this._def).errorMap)===null||Y===void 0?void 0:Y.call(Q,L,H).message)!==null&&fe!==void 0?fe:H.defaultError;return L.code==="unrecognized_keys"?{message:(le=r.errorUtil.errToObj(T).message)!==null&&le!==void 0?le:He}:{message:He}}}:{}})}strip(){return new $({...this._def,unknownKeys:"strip"})}passthrough(){return new $({...this._def,unknownKeys:"passthrough"})}extend(T){return new $({...this._def,shape:()=>({...this._def.shape(),...T})})}merge(T){return new $({unknownKeys:T._def.unknownKeys,catchall:T._def.catchall,shape:()=>({...this._def.shape(),...T._def.shape()}),typeName:je.ZodObject})}setKey(T,L){return this.augment({[T]:L})}catchall(T){return new $({...this._def,catchall:T})}pick(T){const L={};return i.util.objectKeys(T).forEach(H=>{T[H]&&this.shape[H]&&(L[H]=this.shape[H])}),new $({...this._def,shape:()=>L})}omit(T){const L={};return i.util.objectKeys(this.shape).forEach(H=>{T[H]||(L[H]=this.shape[H])}),new $({...this._def,shape:()=>L})}deepPartial(){return F(this)}partial(T){const L={};return i.util.objectKeys(this.shape).forEach(H=>{const Q=this.shape[H];T&&!T[H]?L[H]=Q:L[H]=Q.optional()}),new $({...this._def,shape:()=>L})}required(T){const L={};return i.util.objectKeys(this.shape).forEach(H=>{if(T&&!T[H])L[H]=this.shape[H];else{let Y=this.shape[H];for(;Y instanceof ht;)Y=Y._def.innerType;L[H]=Y}}),new $({...this._def,shape:()=>L})}keyof(){return te(i.util.objectKeys(this.shape))}}t.ZodObject=$,$.create=(Z,T)=>new $({shape:()=>Z,unknownKeys:"strip",catchall:P.create(),typeName:je.ZodObject,...u(T)}),$.strictCreate=(Z,T)=>new $({shape:()=>Z,unknownKeys:"strict",catchall:P.create(),typeName:je.ZodObject,...u(T)}),$.lazycreate=(Z,T)=>new $({shape:Z,unknownKeys:"strip",catchall:P.create(),typeName:je.ZodObject,...u(T)});class z extends l{_parse(T){const{ctx:L}=this._processInputParams(T),H=this._def.options;function Q(Y){for(const le of Y)if(le.result.status==="valid")return le.result;for(const le of Y)if(le.result.status==="dirty")return L.common.issues.push(...le.ctx.common.issues),le.result;const fe=Y.map(le=>new s.ZodError(le.ctx.common.issues));return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union,unionErrors:fe}),n.INVALID}if(L.common.async)return Promise.all(H.map(async Y=>{const fe={...L,common:{...L.common,issues:[]},parent:null};return{result:await Y._parseAsync({data:L.data,path:L.path,parent:fe}),ctx:fe}})).then(Q);{let Y;const fe=[];for(const He of H){const $e={...L,common:{...L.common,issues:[]},parent:null},it=He._parseSync({data:L.data,path:L.path,parent:$e});if(it.status==="valid")return it;it.status==="dirty"&&!Y&&(Y={result:it,ctx:$e}),$e.common.issues.length&&fe.push($e.common.issues)}if(Y)return L.common.issues.push(...Y.ctx.common.issues),Y.result;const le=fe.map(He=>new s.ZodError(He));return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union,unionErrors:le}),n.INVALID}}get options(){return this._def.options}}t.ZodUnion=z,z.create=(Z,T)=>new z({options:Z,typeName:je.ZodUnion,...u(T)});const q=Z=>Z instanceof Ce?q(Z.schema):Z instanceof Qe?q(Z.innerType()):Z instanceof De?[Z.value]:Z instanceof de?Z.options:Z instanceof ke?Object.keys(Z.enum):Z instanceof Lt?q(Z._def.innerType):Z instanceof X?[void 0]:Z instanceof B?[null]:null;class ne extends l{_parse(T){const{ctx:L}=this._processInputParams(T);if(L.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:L.parsedType}),n.INVALID;const H=this.discriminator,Q=L.data[H],Y=this.optionsMap.get(Q);return Y?L.common.async?Y._parseAsync({data:L.data,path:L.path,parent:L}):Y._parseSync({data:L.data,path:L.path,parent:L}):((0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[H]}),n.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(T,L,H){const Q=new Map;for(const Y of L){const fe=q(Y.shape[T]);if(!fe)throw new Error(`A discriminator value for key \`${T}\` could not be extracted from all schema options`);for(const le of fe){if(Q.has(le))throw new Error(`Discriminator property ${String(T)} has duplicate value ${String(le)}`);Q.set(le,Y)}}return new ne({typeName:je.ZodDiscriminatedUnion,discriminator:T,options:L,optionsMap:Q,...u(H)})}}t.ZodDiscriminatedUnion=ne;function re(Z,T){const L=(0,i.getParsedType)(Z),H=(0,i.getParsedType)(T);if(Z===T)return{valid:!0,data:Z};if(L===i.ZodParsedType.object&&H===i.ZodParsedType.object){const Q=i.util.objectKeys(T),Y=i.util.objectKeys(Z).filter(le=>Q.indexOf(le)!==-1),fe={...Z,...T};for(const le of Y){const He=re(Z[le],T[le]);if(!He.valid)return{valid:!1};fe[le]=He.data}return{valid:!0,data:fe}}else if(L===i.ZodParsedType.array&&H===i.ZodParsedType.array){if(Z.length!==T.length)return{valid:!1};const Q=[];for(let Y=0;Y<Z.length;Y++){const fe=Z[Y],le=T[Y],He=re(fe,le);if(!He.valid)return{valid:!1};Q.push(He.data)}return{valid:!0,data:Q}}else return L===i.ZodParsedType.date&&H===i.ZodParsedType.date&&+Z==+T?{valid:!0,data:Z}:{valid:!1}}class ae extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T),Q=(Y,fe)=>{if((0,n.isAborted)(Y)||(0,n.isAborted)(fe))return n.INVALID;const le=re(Y.value,fe.value);return le.valid?(((0,n.isDirty)(Y)||(0,n.isDirty)(fe))&&L.dirty(),{status:L.value,value:le.data}):((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_intersection_types}),n.INVALID)};return H.common.async?Promise.all([this._def.left._parseAsync({data:H.data,path:H.path,parent:H}),this._def.right._parseAsync({data:H.data,path:H.path,parent:H})]).then(([Y,fe])=>Q(Y,fe)):Q(this._def.left._parseSync({data:H.data,path:H.path,parent:H}),this._def.right._parseSync({data:H.data,path:H.path,parent:H}))}}t.ZodIntersection=ae,ae.create=(Z,T,L)=>new ae({left:Z,right:T,typeName:je.ZodIntersection,...u(L)});class oe extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:H.parsedType}),n.INVALID;if(H.data.length<this._def.items.length)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.INVALID;!this._def.rest&&H.data.length>this._def.items.length&&((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L.dirty());const Y=[...H.data].map((fe,le)=>{const He=this._def.items[le]||this._def.rest;return He?He._parse(new o(H,fe,H.path,le)):null}).filter(fe=>!!fe);return H.common.async?Promise.all(Y).then(fe=>n.ParseStatus.mergeArray(L,fe)):n.ParseStatus.mergeArray(L,Y)}get items(){return this._def.items}rest(T){return new oe({...this._def,rest:T})}}t.ZodTuple=oe,oe.create=(Z,T)=>{if(!Array.isArray(Z))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oe({items:Z,typeName:je.ZodTuple,rest:null,...u(T)})};class ve extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:H.parsedType}),n.INVALID;const Q=[],Y=this._def.keyType,fe=this._def.valueType;for(const le in H.data)Q.push({key:Y._parse(new o(H,le,H.path,le)),value:fe._parse(new o(H,H.data[le],H.path,le))});return H.common.async?n.ParseStatus.mergeObjectAsync(L,Q):n.ParseStatus.mergeObjectSync(L,Q)}get element(){return this._def.valueType}static create(T,L,H){return L instanceof l?new ve({keyType:T,valueType:L,typeName:je.ZodRecord,...u(H)}):new ve({keyType:N.create(),valueType:T,typeName:je.ZodRecord,...u(L)})}}t.ZodRecord=ve;class Pe extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.map)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:H.parsedType}),n.INVALID;const Q=this._def.keyType,Y=this._def.valueType,fe=[...H.data.entries()].map(([le,He],$e)=>({key:Q._parse(new o(H,le,H.path,[$e,"key"])),value:Y._parse(new o(H,He,H.path,[$e,"value"]))}));if(H.common.async){const le=new Map;return Promise.resolve().then(async()=>{for(const He of fe){const $e=await He.key,it=await He.value;if($e.status==="aborted"||it.status==="aborted")return n.INVALID;($e.status==="dirty"||it.status==="dirty")&&L.dirty(),le.set($e.value,it.value)}return{status:L.value,value:le}})}else{const le=new Map;for(const He of fe){const $e=He.key,it=He.value;if($e.status==="aborted"||it.status==="aborted")return n.INVALID;($e.status==="dirty"||it.status==="dirty")&&L.dirty(),le.set($e.value,it.value)}return{status:L.value,value:le}}}}t.ZodMap=Pe,Pe.create=(Z,T,L)=>new Pe({valueType:T,keyType:Z,typeName:je.ZodMap,...u(L)});class _e extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.set)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:H.parsedType}),n.INVALID;const Q=this._def;Q.minSize!==null&&H.data.size<Q.minSize.value&&((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,minimum:Q.minSize.value,type:"set",inclusive:!0,exact:!1,message:Q.minSize.message}),L.dirty()),Q.maxSize!==null&&H.data.size>Q.maxSize.value&&((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,maximum:Q.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Q.maxSize.message}),L.dirty());const Y=this._def.valueType;function fe(He){const $e=new Set;for(const it of He){if(it.status==="aborted")return n.INVALID;it.status==="dirty"&&L.dirty(),$e.add(it.value)}return{status:L.value,value:$e}}const le=[...H.data.values()].map((He,$e)=>Y._parse(new o(H,He,H.path,$e)));return H.common.async?Promise.all(le).then(He=>fe(He)):fe(le)}min(T,L){return new _e({...this._def,minSize:{value:T,message:r.errorUtil.toString(L)}})}max(T,L){return new _e({...this._def,maxSize:{value:T,message:r.errorUtil.toString(L)}})}size(T,L){return this.min(T,L).max(T,L)}nonempty(T){return this.min(1,T)}}t.ZodSet=_e,_e.create=(Z,T)=>new _e({valueType:Z,minSize:null,maxSize:null,typeName:je.ZodSet,...u(T)});class Ne extends l{constructor(){super(...arguments),this.validate=this.implement}_parse(T){const{ctx:L}=this._processInputParams(T);if(L.parsedType!==i.ZodParsedType.function)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:L.parsedType}),n.INVALID;function H(le,He){return(0,n.makeIssue)({data:le,path:L.path,errorMaps:[L.common.contextualErrorMap,L.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter($e=>!!$e),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:He}})}function Q(le,He){return(0,n.makeIssue)({data:le,path:L.path,errorMaps:[L.common.contextualErrorMap,L.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter($e=>!!$e),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:He}})}const Y={errorMap:L.common.contextualErrorMap},fe=L.data;if(this._def.returns instanceof We){const le=this;return(0,n.OK)(async function(...He){const $e=new s.ZodError([]),it=await le._def.args.parseAsync(He,Y).catch(Ct=>{throw $e.addIssue(H(He,Ct)),$e}),Ar=await Reflect.apply(fe,this,it);return await le._def.returns._def.type.parseAsync(Ar,Y).catch(Ct=>{throw $e.addIssue(Q(Ar,Ct)),$e})})}else{const le=this;return(0,n.OK)(function(...He){const $e=le._def.args.safeParse(He,Y);if(!$e.success)throw new s.ZodError([H(He,$e.error)]);const it=Reflect.apply(fe,this,$e.data),Ar=le._def.returns.safeParse(it,Y);if(!Ar.success)throw new s.ZodError([Q(it,Ar.error)]);return Ar.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...T){return new Ne({...this._def,args:oe.create(T).rest(C.create())})}returns(T){return new Ne({...this._def,returns:T})}implement(T){return this.parse(T)}strictImplement(T){return this.parse(T)}static create(T,L,H){return new Ne({args:T||oe.create([]).rest(C.create()),returns:L||C.create(),typeName:je.ZodFunction,...u(H)})}}t.ZodFunction=Ne;class Ce extends l{get schema(){return this._def.getter()}_parse(T){const{ctx:L}=this._processInputParams(T);return this._def.getter()._parse({data:L.data,path:L.path,parent:L})}}t.ZodLazy=Ce,Ce.create=(Z,T)=>new Ce({getter:Z,typeName:je.ZodLazy,...u(T)});class De extends l{_parse(T){if(T.data!==this._def.value){const L=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(L,{received:L.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),n.INVALID}return{status:"valid",value:T.data}}get value(){return this._def.value}}t.ZodLiteral=De,De.create=(Z,T)=>new De({value:Z,typeName:je.ZodLiteral,...u(T)});function te(Z,T){return new de({values:Z,typeName:je.ZodEnum,...u(T)})}class de extends l{_parse(T){if(typeof T.data!="string"){const L=this._getOrReturnCtx(T),H=this._def.values;return(0,n.addIssueToContext)(L,{expected:i.util.joinValues(H),received:L.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(this._def.values.indexOf(T.data)===-1){const L=this._getOrReturnCtx(T),H=this._def.values;return(0,n.addIssueToContext)(L,{received:L.data,code:s.ZodIssueCode.invalid_enum_value,options:H}),n.INVALID}return(0,n.OK)(T.data)}get options(){return this._def.values}get enum(){const T={};for(const L of this._def.values)T[L]=L;return T}get Values(){const T={};for(const L of this._def.values)T[L]=L;return T}get Enum(){const T={};for(const L of this._def.values)T[L]=L;return T}extract(T){return de.create(T)}exclude(T){return de.create(this.options.filter(L=>!T.includes(L)))}}t.ZodEnum=de,de.create=te;class ke extends l{_parse(T){const L=i.util.getValidEnumValues(this._def.values),H=this._getOrReturnCtx(T);if(H.parsedType!==i.ZodParsedType.string&&H.parsedType!==i.ZodParsedType.number){const Q=i.util.objectValues(L);return(0,n.addIssueToContext)(H,{expected:i.util.joinValues(Q),received:H.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(L.indexOf(T.data)===-1){const Q=i.util.objectValues(L);return(0,n.addIssueToContext)(H,{received:H.data,code:s.ZodIssueCode.invalid_enum_value,options:Q}),n.INVALID}return(0,n.OK)(T.data)}get enum(){return this._def.values}}t.ZodNativeEnum=ke,ke.create=(Z,T)=>new ke({values:Z,typeName:je.ZodNativeEnum,...u(T)});class We extends l{unwrap(){return this._def.type}_parse(T){const{ctx:L}=this._processInputParams(T);if(L.parsedType!==i.ZodParsedType.promise&&L.common.async===!1)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:L.parsedType}),n.INVALID;const H=L.parsedType===i.ZodParsedType.promise?L.data:Promise.resolve(L.data);return(0,n.OK)(H.then(Q=>this._def.type.parseAsync(Q,{path:L.path,errorMap:L.common.contextualErrorMap})))}}t.ZodPromise=We,We.create=(Z,T)=>new We({type:Z,typeName:je.ZodPromise,...u(T)});class Qe extends l{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(T){const{status:L,ctx:H}=this._processInputParams(T),Q=this._def.effect||null,Y={addIssue:fe=>{(0,n.addIssueToContext)(H,fe),fe.fatal?L.abort():L.dirty()},get path(){return H.path}};if(Y.addIssue=Y.addIssue.bind(Y),Q.type==="preprocess"){const fe=Q.transform(H.data,Y);return H.common.issues.length?{status:"dirty",value:H.data}:H.common.async?Promise.resolve(fe).then(le=>this._def.schema._parseAsync({data:le,path:H.path,parent:H})):this._def.schema._parseSync({data:fe,path:H.path,parent:H})}if(Q.type==="refinement"){const fe=le=>{const He=Q.refinement(le,Y);if(H.common.async)return Promise.resolve(He);if(He instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return le};if(H.common.async===!1){const le=this._def.schema._parseSync({data:H.data,path:H.path,parent:H});return le.status==="aborted"?n.INVALID:(le.status==="dirty"&&L.dirty(),fe(le.value),{status:L.value,value:le.value})}else return this._def.schema._parseAsync({data:H.data,path:H.path,parent:H}).then(le=>le.status==="aborted"?n.INVALID:(le.status==="dirty"&&L.dirty(),fe(le.value).then(()=>({status:L.value,value:le.value}))))}if(Q.type==="transform")if(H.common.async===!1){const fe=this._def.schema._parseSync({data:H.data,path:H.path,parent:H});if(!(0,n.isValid)(fe))return fe;const le=Q.transform(fe.value,Y);if(le instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:L.value,value:le}}else return this._def.schema._parseAsync({data:H.data,path:H.path,parent:H}).then(fe=>(0,n.isValid)(fe)?Promise.resolve(Q.transform(fe.value,Y)).then(le=>({status:L.value,value:le})):fe);i.util.assertNever(Q)}}t.ZodEffects=Qe,t.ZodTransformer=Qe,Qe.create=(Z,T,L)=>new Qe({schema:Z,typeName:je.ZodEffects,effect:T,...u(L)}),Qe.createWithPreprocess=(Z,T,L)=>new Qe({schema:T,effect:{type:"preprocess",transform:Z},typeName:je.ZodEffects,...u(L)});class ht extends l{_parse(T){return this._getType(T)===i.ZodParsedType.undefined?(0,n.OK)(void 0):this._def.innerType._parse(T)}unwrap(){return this._def.innerType}}t.ZodOptional=ht,ht.create=(Z,T)=>new ht({innerType:Z,typeName:je.ZodOptional,...u(T)});class Kt extends l{_parse(T){return this._getType(T)===i.ZodParsedType.null?(0,n.OK)(null):this._def.innerType._parse(T)}unwrap(){return this._def.innerType}}t.ZodNullable=Kt,Kt.create=(Z,T)=>new Kt({innerType:Z,typeName:je.ZodNullable,...u(T)});class Lt extends l{_parse(T){const{ctx:L}=this._processInputParams(T);let H=L.data;return L.parsedType===i.ZodParsedType.undefined&&(H=this._def.defaultValue()),this._def.innerType._parse({data:H,path:L.path,parent:L})}removeDefault(){return this._def.innerType}}t.ZodDefault=Lt,Lt.create=(Z,T)=>new Lt({innerType:Z,typeName:je.ZodDefault,defaultValue:typeof T.default=="function"?T.default:()=>T.default,...u(T)});class An extends l{_parse(T){const{ctx:L}=this._processInputParams(T),H={...L,common:{...L.common,issues:[]}},Q=this._def.innerType._parse({data:H.data,path:H.path,parent:{...H}});return(0,n.isAsync)(Q)?Q.then(Y=>({status:"valid",value:Y.status==="valid"?Y.value:this._def.catchValue({get error(){return new s.ZodError(H.common.issues)},input:H.data})})):{status:"valid",value:Q.status==="valid"?Q.value:this._def.catchValue({get error(){return new s.ZodError(H.common.issues)},input:H.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=An,An.create=(Z,T)=>new An({innerType:Z,typeName:je.ZodCatch,catchValue:typeof T.catch=="function"?T.catch:()=>T.catch,...u(T)});class Tn extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.nan){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:H.parsedType}),n.INVALID}return{status:"valid",value:T.data}}}t.ZodNaN=Tn,Tn.create=Z=>new Tn({typeName:je.ZodNaN,...u(Z)}),t.BRAND=Symbol("zod_brand");class bs extends l{_parse(T){const{ctx:L}=this._processInputParams(T),H=L.data;return this._def.type._parse({data:H,path:L.path,parent:L})}unwrap(){return this._def.type}}t.ZodBranded=bs;class Xr extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.common.async)return(async()=>{const Y=await this._def.in._parseAsync({data:H.data,path:H.path,parent:H});return Y.status==="aborted"?n.INVALID:Y.status==="dirty"?(L.dirty(),(0,n.DIRTY)(Y.value)):this._def.out._parseAsync({data:Y.value,path:H.path,parent:H})})();{const Q=this._def.in._parseSync({data:H.data,path:H.path,parent:H});return Q.status==="aborted"?n.INVALID:Q.status==="dirty"?(L.dirty(),{status:"dirty",value:Q.value}):this._def.out._parseSync({data:Q.value,path:H.path,parent:H})}}static create(T,L){return new Xr({in:T,out:L,typeName:je.ZodPipeline})}}t.ZodPipeline=Xr;class Cn extends l{_parse(T){const L=this._def.innerType._parse(T);return(0,n.isValid)(L)&&(L.value=Object.freeze(L.value)),L}}t.ZodReadonly=Cn,Cn.create=(Z,T)=>new Cn({innerType:Z,typeName:je.ZodReadonly,...u(T)});const Wl=(Z,T={},L)=>Z?j.create().superRefine((H,Q)=>{var Y,fe;if(!Z(H)){const le=typeof T=="function"?T(H):typeof T=="string"?{message:T}:T,He=(fe=(Y=le.fatal)!==null&&Y!==void 0?Y:L)!==null&&fe!==void 0?fe:!0,$e=typeof le=="string"?{message:le}:le;Q.addIssue({code:"custom",...$e,fatal:He})}}):j.create();t.custom=Wl,t.late={object:$.lazycreate};var je;(function(Z){Z.ZodString="ZodString",Z.ZodNumber="ZodNumber",Z.ZodNaN="ZodNaN",Z.ZodBigInt="ZodBigInt",Z.ZodBoolean="ZodBoolean",Z.ZodDate="ZodDate",Z.ZodSymbol="ZodSymbol",Z.ZodUndefined="ZodUndefined",Z.ZodNull="ZodNull",Z.ZodAny="ZodAny",Z.ZodUnknown="ZodUnknown",Z.ZodNever="ZodNever",Z.ZodVoid="ZodVoid",Z.ZodArray="ZodArray",Z.ZodObject="ZodObject",Z.ZodUnion="ZodUnion",Z.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Z.ZodIntersection="ZodIntersection",Z.ZodTuple="ZodTuple",Z.ZodRecord="ZodRecord",Z.ZodMap="ZodMap",Z.ZodSet="ZodSet",Z.ZodFunction="ZodFunction",Z.ZodLazy="ZodLazy",Z.ZodLiteral="ZodLiteral",Z.ZodEnum="ZodEnum",Z.ZodEffects="ZodEffects",Z.ZodNativeEnum="ZodNativeEnum",Z.ZodOptional="ZodOptional",Z.ZodNullable="ZodNullable",Z.ZodDefault="ZodDefault",Z.ZodCatch="ZodCatch",Z.ZodPromise="ZodPromise",Z.ZodBranded="ZodBranded",Z.ZodPipeline="ZodPipeline",Z.ZodReadonly="ZodReadonly"})(je=t.ZodFirstPartyTypeKind||(t.ZodFirstPartyTypeKind={}));const yo=(Z,T={message:`Input not instance of ${Z.name}`})=>(0,t.custom)(L=>L instanceof Z,T);t.instanceof=yo;const ql=N.create;t.string=ql;const ws=R.create;t.number=ws;const In=Tn.create;t.nan=In;const go=D.create;t.bigint=go;const Zl=W.create;t.boolean=Zl;const qh=G.create;t.date=qh;const Rx=U.create;t.symbol=Rx;const kx=X.create;t.undefined=kx;const Xv=B.create;t.null=Xv;const Px=j.create;t.any=Px;const Nx=C.create;t.unknown=Nx;const Mx=P.create;t.never=Mx;const Dx=O.create;t.void=Dx;const Bx=k.create;t.array=Bx;const Lx=$.create;t.object=Lx;const Yv=$.strictCreate;t.strictObject=Yv;const Qv=z.create;t.union=Qv;const $x=ne.create;t.discriminatedUnion=$x;const Yp=ae.create;t.intersection=Yp;const Kv=oe.create;t.tuple=Kv;const Jv=ve.create;t.record=Jv;const Fx=Pe.create;t.map=Fx;const Ux=_e.create;t.set=Ux;const jx=Ne.create;t.function=jx;const e_=Ce.create;t.lazy=e_;const Qp=De.create;t.literal=Qp;const zx=de.create;t.enum=zx;const Hx=ke.create;t.nativeEnum=Hx;const Zh=We.create;t.promise=Zh;const t_=Qe.create;t.effect=t_,t.transformer=t_;const Vx=ht.create;t.optional=Vx;const Gx=Kt.create;t.nullable=Gx;const Wx=Qe.createWithPreprocess;t.preprocess=Wx;const qx=Xr.create;t.pipeline=qx;const Zx=()=>ql().optional();t.ostring=Zx;const Xx=()=>ws().optional();t.onumber=Xx;const Yx=()=>Zl().optional();t.oboolean=Yx,t.coerce={string:Z=>N.create({...Z,coerce:!0}),number:Z=>R.create({...Z,coerce:!0}),boolean:Z=>W.create({...Z,coerce:!0}),bigint:Z=>D.create({...Z,coerce:!0}),date:Z=>G.create({...Z,coerce:!0})},t.NEVER=n.INVALID})(OG);(function(t){var e=at&&at.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=at&&at.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ta,t),r(rM,t),r(IG,t),r(Nv,t),r(OG,t),r(ra,t)})(S2);(function(t){var e=at&&at.__createBinding||(Object.create?function(o,a,u,l){l===void 0&&(l=u),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[u]}})}:function(o,a,u,l){l===void 0&&(l=u),o[l]=a[u]}),r=at&&at.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),n=at&&at.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&e(a,o,u);return r(a,o),a},i=at&&at.__exportStar||function(o,a){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&e(a,o,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;const s=n(S2);t.z=s,i(S2,t),t.default=s})(SG);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.balanceSchema=t.symbolSchema=t.decimalsSchema=t.uint256Schema=void 0;const e=SG;t.uint256Schema=e.z.object({low:e.z.bigint(),high:e.z.bigint()}),t.decimalsSchema=e.z.object({decimals:e.z.bigint()}),t.symbolSchema=e.z.object({symbol:e.z.bigint()}),t.balanceSchema=e.z.object({balance:t.uint256Schema})})(xG);var m$;function sfe(){if(m$)return Pm;m$=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.useBalance=void 0;const t=Nh,e=Me,r=lo,n=$h,i=HG(),s=xG,o="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",a=[{members:[{name:"low",offset:0,type:"felt"},{name:"high",offset:1,type:"felt"}],name:"Uint256",size:2,type:"struct"},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"felt"}],outputs:[{name:"balance",type:"Uint256"}],stateMutability:"view"},{inputs:[],name:"symbol",outputs:[{name:"symbol",type:"felt"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"decimals",type:"felt"}],stateMutability:"view",type:"function"}];function u({token:f=o,address:p,formatUnits:m,watch:y=!1,blockIdentifier:g="pending"}){const{chain:b}=(0,i.useNetwork)(),{contract:_}=(0,i.useContract)({abi:a,address:f}),w=(0,e.useMemo)(()=>c({chain:b,args:{contract:_,address:p,blockIdentifier:g}}),[b,_,p,g]),{data:E,error:x,isStale:N,isLoading:M,isFetching:R,isSuccess:D,isError:W,isFetched:G,isFetchedAfterMount:U,isRefetching:X,refetch:B,status:j}=(0,r.useQuery)(w,l({args:{contract:_,address:p,blockIdentifier:g}}),{enabled:!!p});return(0,n.useInvalidateOnBlock)({enabled:y,queryKey:w}),{data:(0,e.useMemo)(()=>{if(!E)return;const{decimals:{decimals:P},balance:{balance:O},symbol:{symbol:k}}=E,F=Number(P),$=t.uint256.uint256ToBN(O),z=(Number($.toString())/10**(m||F)).toString(),q=t.shortString.decodeShortString(t.num.toHex(k));return{decimals:F,formatted:z,symbol:q,value:$}},[E,m]),error:x??void 0,isIdle:N,isLoading:M,isFetching:R,isSuccess:D,isError:W,isFetched:G,isFetchedAfterMount:U,isRefetching:X,refetch:B,status:j}}Pm.useBalance=u;function l({args:f}){return async()=>{if(!f.address||!f.contract)return null;try{const[p,m,y]=await Promise.all([f.contract.call("balanceOf",[f.address],{parseResponse:!0}),f.contract.call("symbol",[]),f.contract.call("decimals",[])]),g=s.balanceSchema.parse(p),b=s.symbolSchema.parse(m),_=s.decimalsSchema.parse(y);return{balance:g,symbol:b,decimals:_}}catch{return null}}}function c({chain:f,args:p}){const{contract:m,address:y,blockIdentifier:g}=p;return[{entity:"balance",chainId:f==null?void 0:f.id,contract:m==null?void 0:m.address,args:y,blockIdentifier:g}]}return Pm}var XE={},mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.useContractFactory=mh.useContract=void 0;const kG=Me,PG=Nh,ofe=uo;function afe({abi:t,address:e}){const{library:r}=(0,ofe.useStarknet)();return{contract:(0,kG.useMemo)(()=>{if(t&&e&&r)return new PG.Contract(t,e,r)},[t,e,r])}}mh.useContract=afe;function ufe({compiledContract:t,classHash:e,abi:r,account:n}){return{contractFactory:(0,kG.useMemo)(()=>{if(t&&n&&e)return new PG.ContractFactory(t,e,n,r)},[t,e,n,r])}}mh.useContractFactory=ufe;var Fh={},Mv={};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.chainById=void 0;const md=Nh;function lfe(t){return cfe[t]}Mv.chainById=lfe;const cfe={[md.constants.StarknetChainId.SN_MAIN]:{id:md.constants.StarknetChainId.SN_MAIN,name:"Starknet Mainnet",testnet:!1},[md.constants.StarknetChainId.SN_GOERLI]:{id:md.constants.StarknetChainId.SN_GOERLI,name:"Starknet Görli"},[md.constants.StarknetChainId.SN_GOERLI2]:{id:md.constants.StarknetChainId.SN_GOERLI2,name:"Starknet Görli 2"}};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.useNetwork=void 0;const y$=Me,hfe=uo,dfe=Mv;function ffe(){const{library:t}=(0,hfe.useStarknet)(),[e,r]=(0,y$.useState)();return(0,y$.useEffect)(()=>{t?t.getChainId().then(n=>r((0,dfe.chainById)(n))):r(void 0)},[t]),{chain:e}}Fh.useNetwork=ffe;Object.defineProperty(XE,"__esModule",{value:!0});XE.useContractRead=void 0;const pfe=lo,mfe=Me,yfe=mh,gfe=$h,vfe=Fh;function _fe({abi:t,address:e,functionName:r,args:n,watch:i=!1,blockIdentifier:s="pending"}){const{chain:o}=(0,vfe.useNetwork)(),{contract:a}=(0,yfe.useContract)({abi:t,address:e}),u=(0,mfe.useMemo)(()=>wfe({chain:o,args:{contract:a,functionName:r,args:n,blockIdentifier:s}}),[o,a,r,n,s]),{data:l,error:c,isStale:f,isLoading:p,isFetching:m,isSuccess:y,isError:g,isFetched:b,isFetchedAfterMount:_,isRefetching:w,refetch:E,status:x}=(0,pfe.useQuery)(u,bfe({args:{contract:a,functionName:r,args:n,blockIdentifier:s}}));return(0,gfe.useInvalidateOnBlock)({enabled:i,queryKey:u}),{data:l,error:c??void 0,isIdle:f,isLoading:p,isFetching:m,isSuccess:y,isError:g,isFetched:b,isFetchedAfterMount:_,isRefetching:w,refetch:E,status:x}}XE.useContractRead=_fe;function bfe({args:t}){return async()=>{if(!t.args||!t.contract||!t.functionName||!(t.contract&&t.functionName))return null;const r=t.contract[t.functionName];if(!r)throw new Error(`Function ${t.functionName} not found on contract`);return await r(...t.args,{blockIdentifier:t.blockIdentifier})}}function wfe({chain:t,args:e}){const{contract:r,functionName:n,args:i,blockIdentifier:s}=e;return[{entity:"readContract",chain:t,contract:r==null?void 0:r.address,functionName:n,args:i,blockIdentifier:s}]}var YE={};Object.defineProperty(YE,"__esModule",{value:!0});YE.useDeploy=void 0;const Efe=lo,xfe=Nh;function Sfe({contractFactory:t,constructorCalldata:e,addressSalt:r}){const{data:n,isLoading:i,error:s,reset:o,mutateAsync:a,mutate:u,isError:l,isIdle:c,isSuccess:f,status:p}=(0,Efe.useMutation)(Afe({contractFactory:t,constructorCalldata:e,addressSalt:r}));return{data:n,isLoading:i,error:s??void 0,reset:o,deploy:u,deployAsync:a,isError:l,isIdle:c,isSuccess:f,status:p}}YE.useDeploy=Sfe;function Afe({contractFactory:t,constructorCalldata:e,addressSalt:r}){return async()=>{if(t===void 0)throw new Error("No contract factory defined");return await t.deploy(xfe.CallData.toCalldata(e),{addressSalt:r})}}var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.useContractWrite=void 0;const Tfe=lo,Cfe=jp;function Ife({calls:t,metadata:e}){const{account:r}=(0,Cfe.useAccount)(),{data:n,isLoading:i,error:s,reset:o,mutate:a,mutateAsync:u,isIdle:l,isSuccess:c,status:f,isError:p}=(0,Tfe.useMutation)(Ofe({account:r,args:{calls:t,metadata:e}}));return{data:n,error:s??void 0,reset:o,write:a,writeAsync:u,isError:p,isIdle:l,isLoading:i,isSuccess:c,status:f}}QE.useContractWrite=Ife;function Ofe({account:t,args:e}){return async()=>{const{calls:r,metadata:n}=e;if(t===void 0)throw new Error("No connector connected");if(r===void 0)throw new Error("No calls specified");const i=await t.execute(r);return console.warn("TODO: ignoring metadata",n),i}}var KE={};Object.defineProperty(KE,"__esModule",{value:!0});KE.useProvider=void 0;const Rfe=uo;function kfe(){const{library:t}=(0,Rfe.useStarknet)();return{provider:t}}KE.useProvider=kfe;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.useSignTypedData=void 0;const Pfe=Nh,RT=Me,Nfe=jp,Mfe=zp;function Dfe(t,e){return e.type==="start_signing"?{...t,isLoading:!0}:e.type==="set_signature"?{...t,data:Pfe.stark.formatSignature(e.data),isLoading:!1}:e.type==="set_error"?{...t,error:e.error,isLoading:!1}:e.type==="reset"?{...t,data:void 0,error:void 0,isLoading:!1}:t}function Bfe(t){const[e,r]=(0,RT.useReducer)(Dfe,{isLoading:!1}),{address:n}=(0,Nfe.useAccount)(),{connectors:i}=(0,Mfe.useConnectors)(),s=(0,RT.useCallback)(()=>{r({type:"reset"})},[r]),{data:o,error:a,isLoading:u}=e,l=(0,RT.useCallback)(async()=>{r({type:"reset"}),r({type:"start_signing"});try{let c=null;const f=i.filter(m=>m.available());for(const m of f){const y=await m.account();if(y&&y.address===n){c=y;break}}if(!c)throw new Error(`No connector for address ${n}`);const p=await c.signMessage(t);return r({type:"set_signature",data:p}),p}catch(c){const f=c instanceof Error?c.message:String(c);r({type:"set_error",error:f}),console.error(c)}},[n,i,t]);return{data:o,error:a,isLoading:u,isError:!!a,signTypedData:l,reset:s}}JE.useSignTypedData=Bfe;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.useTransactions=ep.useTransaction=void 0;const NG=lo,MG=uo,DG=$h,BG=Fh;function Lfe({hash:t,watch:e=!1}){const{library:r}=(0,MG.useStarknet)(),{chain:n}=(0,BG.useNetwork)(),i=LG({chain:n,hash:t}),{data:s,error:o,isStale:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:b}=(0,NG.useQuery)(i,$G({library:r,hash:t}));return(0,DG.useInvalidateOnBlock)({enabled:e,queryKey:i}),{data:s,error:o??void 0,isIdle:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:b}}ep.useTransaction=Lfe;function $fe({hashes:t,watch:e=!1}){const{library:r}=(0,MG.useStarknet)(),{chain:n}=(0,BG.useNetwork)(),i=(0,NG.useQueries)({queries:t.map(s=>({queryKey:LG({chain:n,hash:s}),queryFn:$G({library:r,hash:s})}))});return(0,DG.useInvalidateOnBlock)({enabled:e,queryKey:[{entity:"transaction",chainId:n==null?void 0:n.id}]}),i.map(({data:s,error:o,isStale:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:b})=>({data:s,error:o??void 0,isIdle:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:b}))}ep.useTransactions=$fe;function LG({chain:t,hash:e}){return[{entity:"transaction",chainId:t==null?void 0:t.id,hash:e}]}function $G({library:t,hash:e}){return async()=>{if(!e)throw new Error("hash is required");return await t.getTransaction(e)}}var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.useWaitForTransaction=void 0;const Ffe=lo,Ufe=Me,jfe=uo,zfe=$h,Hfe=Fh;function Vfe({hash:t,watch:e,onAcceptedOnL1:r,onAcceptedOnL2:n,onNotReceived:i,onPending:s,onReceived:o,onRejected:a}){const{library:u}=(0,jfe.useStarknet)(),{chain:l}=(0,Hfe.useNetwork)(),c=(0,Ufe.useMemo)(()=>Gfe({chain:l,hash:t}),[l,t]),{data:f,error:p,isStale:m,isLoading:y,isFetching:g,isSuccess:b,isError:_,isFetched:w,isFetchedAfterMount:E,isRefetching:x,refetch:N,status:M}=(0,Ffe.useQuery)(c,Wfe({library:u,hash:t}),{enabled:!!t,refetchInterval:(R,D)=>e?qfe(R):!1,onSuccess:R=>{const{status:D}=R;switch(D){case"ACCEPTED_ON_L1":r&&r(R);break;case"ACCEPTED_ON_L2":n&&n(R);break;case"NOT_RECEIVED":i&&i(R);break;case"PENDING":s&&s(R);break;case"RECEIVED":o&&o(R);break;case"REJECTED":a&&a(R);break}}});return(0,zfe.useInvalidateOnBlock)({enabled:e,queryKey:c}),{data:f,error:p??void 0,isIdle:m,isLoading:y,isFetching:g,isSuccess:b,isError:_,isFetched:w,isFetchedAfterMount:E,isRefetching:x,refetch:N,status:M}}ex.useWaitForTransaction=Vfe;function Gfe({chain:t,hash:e}){return[{entity:"transactionReceipt",chainId:t==null?void 0:t.id,hash:e}]}function Wfe({library:t,hash:e}){return async()=>{if(!e)throw new Error("hash is required");return await t.getTransactionReceipt(e)}}function qfe(t){if(!t)return!1;const{status:e}=t;switch(e){case"ACCEPTED_ON_L1":return!1;case"ACCEPTED_ON_L2":return 6e4;case"NOT_RECEIVED":return 500;case"PENDING":return 5e3;case"RECEIVED":return 5e3;case"REJECTED":return!1;default:return!1}}var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.useAddressFromStarkName=tp.useStarkName=void 0;const FG=lo,UG=Nh,jG=uo;function Zfe({address:t,contract:e}){const{library:r}=(0,jG.useStarknet)(),{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isFetching:u,isStale:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,FG.useQuery)({queryKey:["starkName"],queryFn:async()=>{const g=new UG.Provider(r);console.log("lookup ",t," on ",e);const b=g.getStarkName(t,e);if(console.log("result",b),b instanceof Error)throw new Error(b.message);return b}});return{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isIdle:l,isFetching:u,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}tp.useStarkName=Zfe;function Xfe({name:t,contract:e}){const{library:r}=(0,jG.useStarknet)(),{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isFetching:u,isStale:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,FG.useQuery)({queryKey:["addressFromStarkName"],queryFn:async()=>{const b=new UG.Provider(r).getAddressFromStarkName(t,e);if(b instanceof Error)throw new Error(b.message);return b}});return{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isIdle:l,isFetching:u,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}tp.useAddressFromStarkName=Xfe;var g$;function Yfe(){return g$||(g$=1,function(t){var e=at&&at.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=at&&at.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jp,t),r(sfe(),t),r(ph,t),r(XE,t),r(zp,t),r(mh,t),r(YE,t),r(QE,t),r(KE,t),r(Fh,t),r(JE,t),r(ep,t),r(ex,t),r(tp,t)}(IT)),IT}var zG={},Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.Connector=void 0;class Qfe{constructor({options:e}){this.options=e}}Dv.Connector=Qfe;var tx={},T2={exports:{}};(function(t,e){var r=Object.defineProperty,n=(c,f,p)=>f in c?r(c,f,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[f]=p,i=(c,f,p)=>(n(c,typeof f!="symbol"?f+"":f,p),p),s=(c,f,p)=>{if(!f.has(c))throw TypeError("Cannot "+p)},o=(c,f,p)=>(s(c,f,"read from private field"),p?p.call(c):f.get(c)),a=(c,f,p)=>{if(f.has(c))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(c):f.set(c,p)},u=(c,f,p,m)=>(s(c,f,"write to private field"),m?m.call(c,p):f.set(c,p),p),l=(c,f,p)=>(s(c,f,"access private method"),p);(function(c,f){f(e)})(at,function(c){var f,p,m,y,g,b,_;const w=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc"}}],E=()=>`${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,x=C=>{for(let P=C.length-1;P>0;P--){const O=Math.floor(Math.random()*(P+1));[C[P],C[O]]=[C[O],C[P]]}return C};function N(...C){return P=>C.reduce((O,k)=>O.then(k),Promise.resolve(P))}class M{constructor(P){a(this,y),a(this,b),a(this,f,!1),a(this,p,void 0),a(this,m,void 0),i(this,"value"),u(this,m,P),l(this,b,_).call(this)}set(P){return!o(this,f)&&!l(this,b,_).call(this)?!1:(this.delete(),this.value=P,P&&(u(this,p,`${o(this,m)}-${E()}`),localStorage.setItem(o(this,p),P)),!0)}get(){return l(this,y,g).call(this),this.value}delete(){return!o(this,f)&&!l(this,b,_).call(this)?!1:(this.value=null,o(this,p)&&localStorage.removeItem(o(this,p)),!0)}}f=new WeakMap,p=new WeakMap,m=new WeakMap,y=new WeakSet,g=function(){this.value&&this.set(this.value)},b=new WeakSet,_=function(){try{!o(this,f)&&typeof window<"u"&&(u(this,p,Object.keys(localStorage).find(C=>C.startsWith(o(this,m)))),u(this,f,!0),o(this,p)&&this.set(localStorage.getItem(o(this,p))))}catch(C){console.warn(C)}return o(this,f)};function R(C,P){var O,k;if((O=P==null?void 0:P.include)!=null&&O.length){const F=new Set(P.include);return C.filter($=>F.has($.id))}if((k=P==null?void 0:P.exclude)!=null&&k.length){const F=new Set(P.exclude);return C.filter($=>!F.has($.id))}return C}const D=async C=>{const P=await Promise.all(C.map(O=>O.isPreauthorized().catch(()=>!1)));return C.filter((O,k)=>P[k])},W=C=>{try{return C&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(P=>P in C)}catch{}return!1};function G(C,P){return Object.values(Object.getOwnPropertyNames(C).reduce((O,k)=>{if(k.startsWith("starknet")){const F=C[k];P(F)&&!O[F.id]&&(O[F.id]=F)}return O},{}))}const U=(C,P)=>{if(P&&Array.isArray(P)){C.sort((k,F)=>P.indexOf(k.id)-P.indexOf(F.id));const O=C.length-P.length;return[...C.slice(O),...x(C.slice(0,O))]}else return x(C)},X={windowObject:typeof window<"u"?window:{},isWalletObject:W,storageFactoryImplementation:C=>new M(C)};function B(C={}){const{storageFactoryImplementation:P,windowObject:O,isWalletObject:k}={...X,...C},F=P("gsw-last");return{getAvailableWallets:async($={})=>{const z=G(O,k);return N(q=>R(q,$),q=>U(q,$.sort))(z)},getPreAuthorizedWallets:async($={})=>{const z=G(O,k);return N(q=>D(q),q=>R(q,$),q=>U(q,$.sort))(z)},getDiscoveryWallets:async($={})=>N(z=>R(z,$),z=>U(z,$.sort))(w),getLastConnectedWallet:async()=>{const $=F.get(),z=G(O,k).find(ne=>ne.id===$),[q]=await D(z?[z]:[]);return q||(F.delete(),null)},enable:async($,z)=>{if(await $.enable(z??{starknetVersion:"v5"}),!$.isConnected)throw new Error("Failed to connect to wallet");return F.set($.id),$},disconnect:async({clearLastWallet:$}={})=>{$&&F.delete()}}}const j=B();c.default=j,c.getStarknet=B,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(T2,T2.exports);var Kfe=T2.exports;Object.defineProperty(tx,"__esModule",{value:!0});tx.InjectedConnector=void 0;const Jfe=Dv,ko=Bn,epe=Kfe;class tpe extends Jfe.Connector{constructor({options:e}){super({options:e})}available(){return this.ensureWallet(),this._wallet!==void 0}async ready(){return await this.ensureWallet(),this._wallet?await this._wallet.isPreauthorized():!1}async connect(){if(await this.ensureWallet(),!this._wallet)throw new ko.ConnectorNotFoundError;try{await this._wallet.enable({starknetVersion:"v5"})}catch{throw new ko.UserRejectedRequestError}if(!this._wallet.isConnected)throw new ko.UserRejectedRequestError;return this._wallet.account}async disconnect(){var e;if(await this.ensureWallet(),!this.available())throw new ko.ConnectorNotFoundError;if(!((e=this._wallet)!=null&&e.isConnected))throw new ko.UserNotConnectedError}async account(){if(await this.ensureWallet(),!this._wallet)throw new ko.ConnectorNotConnectedError;return this._wallet.account?this._wallet.account:null}get id(){return this.options.id}get name(){if(this.ensureWallet(),!this._wallet)throw new ko.ConnectorNotConnectedError;return this._wallet.name}get icon(){if(this.ensureWallet(),!this._wallet)throw new ko.ConnectorNotConnectedError;return this._wallet.icon}async initEventListener(e){if(await this.ensureWallet(),!this._wallet)throw new ko.ConnectorNotConnectedError;this._wallet.on("accountsChanged",e)}async removeEventListener(e){if(await this.ensureWallet(),!this._wallet)throw new ko.ConnectorNotConnectedError;this._wallet.off("accountsChanged",e)}async ensureWallet(){const n=(await(0,epe.getStarknet)().getAvailableWallets()).filter(i=>i.id===this.options.id)[0];n&&(this._wallet=n)}}tx.InjectedConnector=tpe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InjectedConnector=t.Connector=void 0;var e=Dv;Object.defineProperty(t,"Connector",{enumerable:!0,get:function(){return e.Connector}});var r=tx;Object.defineProperty(t,"InjectedConnector",{enumerable:!0,get:function(){return r.InjectedConnector}})})(zG);var v$;function HG(){return v$||(v$=1,function(t){var e=at&&at.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,u)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=at&&at.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.useTransactionManager=t.StarknetConfig=void 0;var n=uo;Object.defineProperty(t,"StarknetConfig",{enumerable:!0,get:function(){return n.StarknetConfig}}),Object.defineProperty(t,"useTransactionManager",{enumerable:!0,get:function(){return n.useTransactionManager}}),r(Yfe(),t),r(zG,t),r(Mv,t)}(oT)),oT}var rpe=HG(),npe=()=>{try{const t="__test__";if(typeof window<"u")return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}return!1},Nm=npe(),_$=t=>{try{return t===""?null:JSON.parse(t)}catch(e){return console.error("Error parsing JSON data:",e,"Data:",t),null}},ipe={keys:()=>Object.keys(Nm?window.localStorage:dd.get()),get:t=>_$(Nm?window.localStorage.getItem(t)||"":dd.get(t)||""),set:(t,e)=>{const r=JSON.stringify(e);Nm?window.localStorage.setItem(t,r):dd.set(t,r,{secure:!0,sameSite:"strict"})},remove:t=>{Nm?window.localStorage.removeItem(t):dd.remove(t)},clear:()=>{if(Nm)window.localStorage.clear();else{const t=dd.get();Object.keys(t).forEach(e=>dd.remove(e))}}},Mm=ipe,spe=async(t,e,r=lpe)=>{try{const n={contractAddress:r,entrypoint:"transfer",calldata:pt.compile([t,upe,"0x0"])},i=await e.getNonce(),{transaction_hash:s}=await e.execute(n,void 0,{nonce:i,maxFee:0}),o=await e.waitForTransaction(s,{retryInterval:1e3,successStates:[$k.ACCEPTED_ON_L2]});if(!o)throw new Error("Transaction did not complete successfully.");return o}catch(n){throw console.error(n),n}},ope=class{constructor(t){Jn(this,"masterAccount");Jn(this,"accountClassHash");Jn(this,"provider");Jn(this,"account",null);Jn(this,"isDeploying",!1);Jn(this,"burnerAccounts",[]);Jn(this,"setIsDeploying");this.masterAccount=t.masterAccount,this.accountClassHash=t.accountClassHash,this.provider=new gf({nodeUrl:t.nodeUrl||"http://localhost:5050"})}setIsDeployingCallback(t){this.setIsDeploying=t}updateIsDeploying(t){this.isDeploying=t,this.setIsDeploying&&this.setIsDeploying(t)}getBurnerStorage(){return Mm.get("burners")||{}}setActiveBurnerAccount(t){for(let e in t)if(t[e].active){this.account=new Td(this.provider,e,t[e].privateKey);return}}init(){var e;const t=this.getBurnerStorage();if(Object.keys(t).length>0){const r=Object.keys(t)[0];(e=this.masterAccount)==null||e.getTransactionReceipt(t[r].deployTx).then(n=>{if(!n)throw this.account=null,Mm.remove("burners"),new Error("Burners not deployed, chain may have restarted")}).catch(()=>{throw new Error("Error fetching transaction receipt")}),this.setActiveBurnerAccount(t)}}list(){const t=this.getBurnerStorage();return Object.keys(t).map(e=>({address:e,active:t[e].active}))}select(t){const e=this.getBurnerStorage();if(!e[t])throw new Error("burner not found");for(let r in e)e[r].active=!1;e[t].active=!0,Mm.set("burners",e),this.account=new Td(this.provider,t,e[t].privateKey)}get(t){const e=this.getBurnerStorage();if(!e[t])throw new Error("burner not found");return new Td(this.provider,t,e[t].privateKey)}clear(){Mm.clear()}getActiveAccount(){const t=this.getBurnerStorage();for(let e in t)if(t[e].active)return new Td(this.provider,e,t[e].privateKey);return null}async create(){var u;this.updateIsDeploying(!0);const t=zH.randomAddress(),e=PH.starkCurve.getStarkKey(t),r=kH.calculateContractAddressFromHash(e,this.accountClassHash,pt.compile({publicKey:e}),0);if(!this.masterAccount)throw new Error("wallet account not found");try{await spe(r,this.masterAccount)}catch{this.isDeploying=!1}const n={classHash:this.accountClassHash,constructorCalldata:pt.compile({publicKey:e}),addressSalt:e},i=new Td(this.provider,r,t),s=await((u=this.account)==null?void 0:u.getNonce()),{transaction_hash:o}=await i.deployAccount(n,{nonce:s,maxFee:0}),a=this.getBurnerStorage();for(let l in a)a[l].active=!1;return a[r]={privateKey:t,publicKey:e,deployTx:o,active:!0},this.account=i,this.updateIsDeploying(!1),Mm.set("burners",a),i}},ape=t=>{const e=Me.useMemo(()=>new ope(t),[t]),[r,n]=Me.useState(null),[i,s]=Me.useState(0),[o,a]=Me.useState(!1);Me.useEffect(()=>{e.init(),n(e.getActiveAccount())},[]);const u=Me.useCallback(()=>e.list(),[t,e.list(),i]),l=Me.useCallback(y=>{e.select(y),n(e.getActiveAccount())},[e,t]),c=Me.useCallback(y=>e.get(y),[t]),f=Me.useCallback(()=>{e.clear(),s(y=>y+1)},[t]),p=Me.useCallback(async()=>{e.setIsDeployingCallback(a);const y=await e.create();return n(y),y},[e,t]),m=Me.useCallback(()=>u().map(g=>new cpe({options:{id:g.address}},c(g.address))),[t,e.isDeploying]);return{get:c,list:u,select:l,create:p,listConnectors:m,clear:f,account:r,isDeploying:o}},upe="0x2386f26fc10000",lpe="0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",cpe=class extends rpe.Connector{constructor(e,r){super({options:e});Jn(this,"_account");Jn(this,"_name","Burner Connector");this._account=r}available(){return!0}async ready(){return!0}async connect(){if(!this._account)throw new Error("account not found");return Promise.resolve(this._account)}async disconnect(){Promise.resolve(this._account==null)}async initEventListener(){return Promise.resolve()}async removeEventListener(){return Promise.resolve()}async account(){return Promise.resolve(this._account)}get id(){var e;return((e=this._account)==null?void 0:e.address.toString())||"Burner Account"}get name(){return this._name}get icon(){return"my-icon-url"}};const C2=Me.createContext(null),hpe=({children:t,value:e})=>{if(Me.useContext(C2))throw new Error("DojoProvider can only be used once");return Or.jsx(C2.Provider,{value:e,children:t})},dpe=()=>{const t=Me.useContext(C2);if(!t)throw new Error("The `useDojo` hook must be used within a `DojoProvider`");console.log("http://localhost:5050");const e=Me.useMemo(()=>new gf({nodeUrl:"http://localhost:5050"}),[]),r="0x517ececd29116499f4a1b64b094da79ba08dfd54a3edaa316134c41f8160973",n="0x1800000000300000180000000000030000000000003006001800006600",i=Me.useMemo(()=>new Td(e,r,n),[e,r,n]),{create:s,list:o,get:a,account:u,select:l,isDeploying:c}=ape({masterAccount:i,accountClassHash:"0x04d07e40e93398ed3c76981e72dd1fd22557a78ce36c0515f679e27f0bb5bc5f",nodeUrl:"http://localhost:5050"});return{setup:t,account:{create:s,list:o,get:a,select:l,account:u||i,isDeploying:c}}};var rx={exports:{}},Uh=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Uh||{}),VG=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(VG||{}),I2=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(I2||{}),Ge=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ge||{}),js=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(js||{}),ge=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ge||{}),bf=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(bf||{}),ze=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ze||{}),Se=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Se||{}),Ii=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Ii||{}),Wa=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Wa||{}),ha=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ha||{}),ui=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(ui||{}),zo=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(zo||{}),nM=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(nM||{}),ss=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(ss||{}),Cr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Cr||{}),_r=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(_r||{}),na=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(na||{});const fpe={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Te={ADAPTER:fpe,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var kT=/iPhone/i,b$=/iPod/i,w$=/iPad/i,E$=/\biOS-universal(?:.+)Mac\b/i,PT=/\bAndroid(?:.+)Mobile\b/i,x$=/Android/i,yd=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,O0=/Silk/i,Ca=/Windows Phone/i,S$=/\bWindows(?:.+)ARM\b/i,A$=/BlackBerry/i,T$=/BB10/i,C$=/Opera Mini/i,I$=/\b(CriOS|Chrome)(?:.+)Mobile/i,O$=/Mobile(?:.+)Firefox\b/i,R$=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function ppe(t){return function(e){return e.test(t)}}function k$(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=ppe(r),s={apple:{phone:i(kT)&&!i(Ca),ipod:i(b$),tablet:!i(kT)&&(i(w$)||R$(e))&&!i(Ca),universal:i(E$),device:(i(kT)||i(b$)||i(w$)||i(E$)||R$(e))&&!i(Ca)},amazon:{phone:i(yd),tablet:!i(yd)&&i(O0),device:i(yd)||i(O0)},android:{phone:!i(Ca)&&i(yd)||!i(Ca)&&i(PT),tablet:!i(Ca)&&!i(yd)&&!i(PT)&&(i(O0)||i(x$)),device:!i(Ca)&&(i(yd)||i(O0)||i(PT)||i(x$))||i(/\bokhttp\b/i)},windows:{phone:i(Ca),tablet:i(S$),device:i(Ca)||i(S$)},other:{blackberry:i(A$),blackberry10:i(T$),opera:i(C$),firefox:i(O$),chrome:i(I$),device:i(A$)||i(T$)||i(C$)||i(O$)||i(I$)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const mpe=k$.default??k$,Ha=mpe(globalThis.navigator);Te.RETINA_PREFIX=/@([0-9\.]+)x/;Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var GG={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function s(u,l,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||u,p),y=r?r+l:l;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],m]:u._events[y].push(m):(u._events[y]=m,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=r?r+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},a.prototype.listenerCount=function(l){var c=r?r+l:l,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,c,f,p,m,y){var g=r?r+l:l;if(!this._events[g])return!1;var b=this._events[g],_=arguments.length,w,E;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,p),!0;case 5:return b.fn.call(b.context,c,f,p,m),!0;case 6:return b.fn.call(b.context,c,f,p,m,y),!0}for(E=1,w=new Array(_-1);E<_;E++)w[E-1]=arguments[E];b.fn.apply(b.context,w)}else{var x=b.length,N;for(E=0;E<x;E++)switch(b[E].once&&this.removeListener(l,b[E].fn,void 0,!0),_){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,c);break;case 3:b[E].fn.call(b[E].context,c,f);break;case 4:b[E].fn.call(b[E].context,c,f,p);break;default:if(!w)for(N=1,w=new Array(_-1);N<_;N++)w[N-1]=arguments[N];b[E].fn.apply(b[E].context,w)}}return!0},a.prototype.on=function(l,c,f){return s(this,l,c,f,!1)},a.prototype.once=function(l,c,f){return s(this,l,c,f,!0)},a.prototype.removeListener=function(l,c,f,p){var m=r?r+l:l;if(!this._events[m])return this;if(!c)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!p||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var g=0,b=[],_=y.length;g<_;g++)(y[g].fn!==c||p&&!y[g].once||f&&y[g].context!==f)&&b.push(y[g]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(GG);var ype=GG.exports;const Bv=Eh(ype);var iM={exports:{}};iM.exports=nx;iM.exports.default=nx;function nx(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=WG(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,l,c,f,p,m;if(n&&(s=wpe(t,e,s,r)),t.length>80*r){a=l=t[0],u=c=t[1];for(var y=r;y<i;y+=r)f=t[y],p=t[y+1],f<a&&(a=f),p<u&&(u=p),f>l&&(l=f),p>c&&(c=p);m=Math.max(l-a,c-u),m=m!==0?32767/m:0}return Og(s,o,r,a,u,m,0),o}function WG(t,e,r,n,i){var s,o;if(i===k2(t,e,r,n)>0)for(s=e;s<r;s+=n)o=P$(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=P$(s,t[s],t[s+1],o);return o&&ix(o,o.next)&&(kg(o),o=o.next),o}function yh(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(ix(r,r.next)||rr(r.prev,r,r.next)===0)){if(kg(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Og(t,e,r,n,i,s,o){if(t){!o&&s&&Tpe(t,n,i,s);for(var a=t,u,l;t.prev!==t.next;){if(u=t.prev,l=t.next,s?vpe(t,n,i,s):gpe(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),kg(t),t=l.next,a=l.next;continue}if(t=l,t===a){o?o===1?(t=_pe(yh(t),e,r),Og(t,e,r,n,i,s,2)):o===2&&bpe(t,e,r,n,i,s):Og(yh(t),e,r,n,i,s,1);break}}}}function gpe(t){var e=t.prev,r=t,n=t.next;if(rr(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,l=n.y,c=i<s?i<o?i:o:s<o?s:o,f=a<u?a<l?a:l:u<l?u:l,p=i>s?i>o?i:o:s>o?s:o,m=a>u?a>l?a:l:u>l?u:l,y=n.next;y!==e;){if(y.x>=c&&y.x<=p&&y.y>=f&&y.y<=m&&tf(i,a,s,u,o,l,y.x,y.y)&&rr(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function vpe(t,e,r,n){var i=t.prev,s=t,o=t.next;if(rr(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,l=o.x,c=i.y,f=s.y,p=o.y,m=a<u?a<l?a:l:u<l?u:l,y=c<f?c<p?c:p:f<p?f:p,g=a>u?a>l?a:l:u>l?u:l,b=c>f?c>p?c:p:f>p?f:p,_=O2(m,y,e,r,n),w=O2(g,b,e,r,n),E=t.prevZ,x=t.nextZ;E&&E.z>=_&&x&&x.z<=w;){if(E.x>=m&&E.x<=g&&E.y>=y&&E.y<=b&&E!==i&&E!==o&&tf(a,c,u,f,l,p,E.x,E.y)&&rr(E.prev,E,E.next)>=0||(E=E.prevZ,x.x>=m&&x.x<=g&&x.y>=y&&x.y<=b&&x!==i&&x!==o&&tf(a,c,u,f,l,p,x.x,x.y)&&rr(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;E&&E.z>=_;){if(E.x>=m&&E.x<=g&&E.y>=y&&E.y<=b&&E!==i&&E!==o&&tf(a,c,u,f,l,p,E.x,E.y)&&rr(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;x&&x.z<=w;){if(x.x>=m&&x.x<=g&&x.y>=y&&x.y<=b&&x!==i&&x!==o&&tf(a,c,u,f,l,p,x.x,x.y)&&rr(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function _pe(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!ix(i,s)&&qG(i,n,n.next,s)&&Rg(i,s)&&Rg(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),kg(n),kg(n.next),n=t=s),n=n.next}while(n!==t);return yh(n)}function bpe(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&Ope(o,a)){var u=ZG(o,a);o=yh(o,o.next),u=yh(u,u.next),Og(o,e,r,n,i,s,0),Og(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function wpe(t,e,r,n){var i=[],s,o,a,u,l;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,l=WG(t,a,u,n,!1),l===l.next&&(l.steiner=!0),i.push(Ipe(l));for(i.sort(Epe),s=0;s<i.length;s++)r=xpe(i[s],r);return r}function Epe(t,e){return t.x-e.x}function xpe(t,e){var r=Spe(t,e);if(!r)return e;var n=ZG(r,t);return yh(n,n.next),yh(r,r.next)}function Spe(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,l=o.x,c=o.y,f=1/0,p;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&tf(i<c?n:s,i,l,c,i<c?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),Rg(r,t)&&(p<f||p===f&&(r.x>o.x||r.x===o.x&&Ape(o,r)))&&(o=r,f=p)),r=r.next;while(r!==u);return o}function Ape(t,e){return rr(t.prev,t,e.prev)<0&&rr(e.next,t,t.next)<0}function Tpe(t,e,r,n){var i=t;do i.z===0&&(i.z=O2(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Cpe(i)}function Cpe(t){var e,r,n,i,s,o,a,u,l=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ,!!n);e++);for(u=l;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,l*=2}while(o>1);return t}function O2(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ipe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function tf(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function Ope(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Rpe(t,e)&&(Rg(t,e)&&Rg(e,t)&&kpe(t,e)&&(rr(t.prev,t,e.prev)||rr(t,e.prev,e))||ix(t,e)&&rr(t.prev,t,t.next)>0&&rr(e.prev,e,e.next)>0)}function rr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function ix(t,e){return t.x===e.x&&t.y===e.y}function qG(t,e,r,n){var i=k0(rr(t,e,r)),s=k0(rr(t,e,n)),o=k0(rr(r,n,t)),a=k0(rr(r,n,e));return!!(i!==s&&o!==a||i===0&&R0(t,r,e)||s===0&&R0(t,n,e)||o===0&&R0(r,t,n)||a===0&&R0(r,e,n))}function R0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function k0(t){return t>0?1:t<0?-1:0}function Rpe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&qG(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Rg(t,e){return rr(t.prev,t,t.next)<0?rr(t,e,t.next)>=0&&rr(t,t.prev,e)>=0:rr(t,e,t.prev)<0||rr(t,t.next,e)<0}function kpe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function ZG(t,e){var r=new R2(t.i,t.x,t.y),n=new R2(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function P$(t,e,r,n){var i=new R2(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function kg(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function R2(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}nx.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(k2(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;o-=Math.abs(k2(t,l,c,r))}var f=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,m=n[a+1]*r,y=n[a+2]*r;f+=Math.abs((t[p]-t[y])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[y+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function k2(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}nx.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Ppe=iM.exports;const Npe=Eh(Ppe);var Q1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Q1.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof at=="object"&&at;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,l=1,c=26,f=38,p=700,m=72,y=128,g="-",b=/^xn--/,_=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,N=Math.floor,M=String.fromCharCode,R;function D($){throw new RangeError(E[$])}function W($,z){for(var q=$.length,ne=[];q--;)ne[q]=z($[q]);return ne}function G($,z){var q=$.split("@"),ne="";q.length>1&&(ne=q[0]+"@",$=q[1]),$=$.replace(w,".");var re=$.split("."),ae=W(re,z).join(".");return ne+ae}function U($){for(var z=[],q=0,ne=$.length,re,ae;q<ne;)re=$.charCodeAt(q++),re>=55296&&re<=56319&&q<ne?(ae=$.charCodeAt(q++),(ae&64512)==56320?z.push(((re&1023)<<10)+(ae&1023)+65536):(z.push(re),q--)):z.push(re);return z}function X($){return W($,function(z){var q="";return z>65535&&(z-=65536,q+=M(z>>>10&1023|55296),z=56320|z&1023),q+=M(z),q}).join("")}function B($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:u}function j($,z){return $+22+75*($<26)-((z!=0)<<5)}function C($,z,q){var ne=0;for($=q?N($/p):$>>1,$+=N($/z);$>x*c>>1;ne+=u)$=N($/x);return N(ne+(x+1)*$/($+f))}function P($){var z=[],q=$.length,ne,re=0,ae=y,oe=m,ve,Pe,_e,Ne,Ce,De,te,de,ke;for(ve=$.lastIndexOf(g),ve<0&&(ve=0),Pe=0;Pe<ve;++Pe)$.charCodeAt(Pe)>=128&&D("not-basic"),z.push($.charCodeAt(Pe));for(_e=ve>0?ve+1:0;_e<q;){for(Ne=re,Ce=1,De=u;_e>=q&&D("invalid-input"),te=B($.charCodeAt(_e++)),(te>=u||te>N((a-re)/Ce))&&D("overflow"),re+=te*Ce,de=De<=oe?l:De>=oe+c?c:De-oe,!(te<de);De+=u)ke=u-de,Ce>N(a/ke)&&D("overflow"),Ce*=ke;ne=z.length+1,oe=C(re-Ne,ne,Ne==0),N(re/ne)>a-ae&&D("overflow"),ae+=N(re/ne),re%=ne,z.splice(re++,0,ae)}return X(z)}function O($){var z,q,ne,re,ae,oe,ve,Pe,_e,Ne,Ce,De=[],te,de,ke,We;for($=U($),te=$.length,z=y,q=0,ae=m,oe=0;oe<te;++oe)Ce=$[oe],Ce<128&&De.push(M(Ce));for(ne=re=De.length,re&&De.push(g);ne<te;){for(ve=a,oe=0;oe<te;++oe)Ce=$[oe],Ce>=z&&Ce<ve&&(ve=Ce);for(de=ne+1,ve-z>N((a-q)/de)&&D("overflow"),q+=(ve-z)*de,z=ve,oe=0;oe<te;++oe)if(Ce=$[oe],Ce<z&&++q>a&&D("overflow"),Ce==z){for(Pe=q,_e=u;Ne=_e<=ae?l:_e>=ae+c?c:_e-ae,!(Pe<Ne);_e+=u)We=Pe-Ne,ke=u-Ne,De.push(M(j(Ne+We%ke,0))),Pe=N(We/ke);De.push(M(j(Pe,0))),ae=C(q,de,ne==re),q=0,++ne}++q,++z}return De.join("")}function k($){return G($,function(z){return b.test(z)?P(z.slice(4).toLowerCase()):z})}function F($){return G($,function(z){return _.test(z)?"xn--"+O(z):z})}if(o={version:"1.4.1",ucs2:{decode:U,encode:X},decode:P,encode:O,toASCII:F,toUnicode:k},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(at)})(Q1,Q1.exports);var Mpe=Q1.exports,Dpe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},N$=typeof Symbol<"u"&&Symbol,Bpe=Dpe,Lpe=function(){return typeof N$!="function"||typeof Symbol!="function"||typeof N$("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Bpe()},M$={foo:{}},$pe=Object,Fpe=function(){return{__proto__:M$}.foo===M$.foo&&!({__proto__:null}instanceof $pe)},Upe="Function.prototype.bind called on incompatible ",jpe=Object.prototype.toString,zpe=Math.max,Hpe="[object Function]",D$=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Vpe=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},Gpe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Wpe=function(e){var r=this;if(typeof r!="function"||jpe.apply(r)!==Hpe)throw new TypeError(Upe+r);for(var n=Vpe(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,D$(n,arguments));return Object(c)===c?c:this}return r.apply(e,D$(n,arguments))},o=zpe(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+Gpe(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},qpe=Wpe,sM=Function.prototype.bind||qpe,Zpe=Function.prototype.call,Xpe=Object.prototype.hasOwnProperty,Ype=sM,Qpe=Ype.call(Zpe,Xpe),ot,rp=SyntaxError,XG=Function,wf=TypeError,NT=function(t){try{return XG('"use strict"; return ('+t+").constructor;")()}catch{}},Vc=Object.getOwnPropertyDescriptor;if(Vc)try{Vc({},"")}catch{Vc=null}var MT=function(){throw new wf},Kpe=Vc?function(){try{return arguments.callee,MT}catch{try{return Vc(arguments,"callee").get}catch{return MT}}}():MT,gd=Lpe(),Jpe=Fpe(),Ur=Object.getPrototypeOf||(Jpe?function(t){return t.__proto__}:null),Rd={},eme=typeof Uint8Array>"u"||!Ur?ot:Ur(Uint8Array),Gc={"%AggregateError%":typeof AggregateError>"u"?ot:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ot:ArrayBuffer,"%ArrayIteratorPrototype%":gd&&Ur?Ur([][Symbol.iterator]()):ot,"%AsyncFromSyncIteratorPrototype%":ot,"%AsyncFunction%":Rd,"%AsyncGenerator%":Rd,"%AsyncGeneratorFunction%":Rd,"%AsyncIteratorPrototype%":Rd,"%Atomics%":typeof Atomics>"u"?ot:Atomics,"%BigInt%":typeof BigInt>"u"?ot:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ot:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ot:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ot:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ot:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ot:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ot:FinalizationRegistry,"%Function%":XG,"%GeneratorFunction%":Rd,"%Int8Array%":typeof Int8Array>"u"?ot:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ot:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ot:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":gd&&Ur?Ur(Ur([][Symbol.iterator]())):ot,"%JSON%":typeof JSON=="object"?JSON:ot,"%Map%":typeof Map>"u"?ot:Map,"%MapIteratorPrototype%":typeof Map>"u"||!gd||!Ur?ot:Ur(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ot:Promise,"%Proxy%":typeof Proxy>"u"?ot:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ot:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ot:Set,"%SetIteratorPrototype%":typeof Set>"u"||!gd||!Ur?ot:Ur(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ot:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":gd&&Ur?Ur(""[Symbol.iterator]()):ot,"%Symbol%":gd?Symbol:ot,"%SyntaxError%":rp,"%ThrowTypeError%":Kpe,"%TypedArray%":eme,"%TypeError%":wf,"%Uint8Array%":typeof Uint8Array>"u"?ot:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ot:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ot:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ot:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ot:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ot:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ot:WeakSet};if(Ur)try{null.error}catch(t){var tme=Ur(Ur(t));Gc["%Error.prototype%"]=tme}var rme=function t(e){var r;if(e==="%AsyncFunction%")r=NT("async function () {}");else if(e==="%GeneratorFunction%")r=NT("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=NT("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ur&&(r=Ur(i.prototype))}return Gc[e]=r,r},B$={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Lv=sM,K1=Qpe,nme=Lv.call(Function.call,Array.prototype.concat),ime=Lv.call(Function.apply,Array.prototype.splice),L$=Lv.call(Function.call,String.prototype.replace),J1=Lv.call(Function.call,String.prototype.slice),sme=Lv.call(Function.call,RegExp.prototype.exec),ome=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ame=/\\(\\)?/g,ume=function(e){var r=J1(e,0,1),n=J1(e,-1);if(r==="%"&&n!=="%")throw new rp("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new rp("invalid intrinsic syntax, expected opening `%`");var i=[];return L$(e,ome,function(s,o,a,u){i[i.length]=a?L$(u,ame,"$1"):o||s}),i},lme=function(e,r){var n=e,i;if(K1(B$,n)&&(i=B$[n],n="%"+i[0]+"%"),K1(Gc,n)){var s=Gc[n];if(s===Rd&&(s=rme(n)),typeof s>"u"&&!r)throw new wf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new rp("intrinsic "+e+" does not exist!")},jh=function(e,r){if(typeof e!="string"||e.length===0)throw new wf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new wf('"allowMissing" argument must be a boolean');if(sme(/^%?[^%]*%?$/,e)===null)throw new rp("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ume(e),i=n.length>0?n[0]:"",s=lme("%"+i+"%",r),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],ime(n,nme([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var p=n[c],m=J1(p,0,1),y=J1(p,-1);if((m==='"'||m==="'"||m==="`"||y==='"'||y==="'"||y==="`")&&m!==y)throw new rp("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(u=!0),i+="."+p,o="%"+i+"%",K1(Gc,o))a=Gc[o];else if(a!=null){if(!(p in a)){if(!r)throw new wf("base intrinsic for "+e+" exists, but the property is not available.");return}if(Vc&&c+1>=n.length){var g=Vc(a,p);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[p]}else f=K1(a,p),a=a[p];f&&!u&&(Gc[o]=a)}}return a},YG={exports:{}},cme=jh,P2=cme("%Object.defineProperty%",!0),N2=function(){if(P2)try{return P2({},"a",{value:1}),!0}catch{return!1}return!1};N2.hasArrayLengthDefineBug=function(){if(!N2())return null;try{return P2([],"length",{value:1}).length!==1}catch{return!0}};var QG=N2,hme=jh,Pb=hme("%Object.getOwnPropertyDescriptor%",!0);if(Pb)try{Pb([],"length")}catch{Pb=null}var KG=Pb,dme=QG(),oM=jh,Ey=dme&&oM("%Object.defineProperty%",!0);if(Ey)try{Ey({},"a",{value:1})}catch{Ey=!1}var fme=oM("%SyntaxError%"),vd=oM("%TypeError%"),$$=KG,pme=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new vd("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new vd("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new vd("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new vd("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new vd("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new vd("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!$$&&$$(e,r);if(Ey)Ey(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new fme("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},JG=jh,F$=pme,mme=QG(),U$=KG,j$=JG("%TypeError%"),yme=JG("%Math.floor%"),gme=function(e,r){if(typeof e!="function")throw new j$("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||yme(r)!==r)throw new j$("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&U$){var o=U$(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(mme?F$(e,"length",r,!0,!0):F$(e,"length",r)),e};(function(t){var e=sM,r=jh,n=gme,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),u=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var m=a(e,o,arguments);return n(m,1+l(0,p.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c})(YG);var vme=YG.exports,eW=jh,tW=vme,_me=tW(eW("String.prototype.indexOf")),bme=function(e,r){var n=eW(e,!!r);return typeof n=="function"&&_me(e,".prototype.")>-1?tW(n):n};const wme={},Eme=Object.freeze(Object.defineProperty({__proto__:null,default:wme},Symbol.toStringTag,{value:"Module"})),xme=pa(Eme);var aM=typeof Map=="function"&&Map.prototype,DT=Object.getOwnPropertyDescriptor&&aM?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ew=aM&&DT&&typeof DT.get=="function"?DT.get:null,z$=aM&&Map.prototype.forEach,uM=typeof Set=="function"&&Set.prototype,BT=Object.getOwnPropertyDescriptor&&uM?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,tw=uM&&BT&&typeof BT.get=="function"?BT.get:null,H$=uM&&Set.prototype.forEach,Sme=typeof WeakMap=="function"&&WeakMap.prototype,xy=Sme?WeakMap.prototype.has:null,Ame=typeof WeakSet=="function"&&WeakSet.prototype,Sy=Ame?WeakSet.prototype.has:null,Tme=typeof WeakRef=="function"&&WeakRef.prototype,V$=Tme?WeakRef.prototype.deref:null,Cme=Boolean.prototype.valueOf,Ime=Object.prototype.toString,Ome=Function.prototype.toString,Rme=String.prototype.match,lM=String.prototype.slice,Wu=String.prototype.replace,kme=String.prototype.toUpperCase,G$=String.prototype.toLowerCase,rW=RegExp.prototype.test,W$=Array.prototype.concat,Ho=Array.prototype.join,Pme=Array.prototype.slice,q$=Math.floor,M2=typeof BigInt=="function"?BigInt.prototype.valueOf:null,LT=Object.getOwnPropertySymbols,D2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,np=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Sn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===np||"symbol")?Symbol.toStringTag:null,nW=Object.prototype.propertyIsEnumerable,Z$=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function X$(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||rW.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-q$(-t):q$(t);if(n!==t){var i=String(n),s=lM.call(e,i.length+1);return Wu.call(i,r,"$&_")+"."+Wu.call(Wu.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Wu.call(e,r,"$&_")}var B2=xme,Y$=B2.custom,Q$=sW(Y$)?Y$:null,Nme=function t(e,r,n,i){var s=r||{};if(Nu(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Nu(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Nu(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Nu(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Nu(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return aW(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?X$(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?X$(e,l):l}var c=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return L2(e)?"[Array]":"[Object]";var f=Qme(s,n);if(typeof i>"u")i=[];else if(oW(i,e)>=0)return"[Circular]";function p(B,j,C){if(j&&(i=Pme.call(i),i.push(j)),C){var P={depth:s.depth};return Nu(s,"quoteStyle")&&(P.quoteStyle=s.quoteStyle),t(B,P,n+1,i)}return t(B,s,n+1,i)}if(typeof e=="function"&&!K$(e)){var m=zme(e),y=P0(e,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(y.length>0?" { "+Ho.call(y,", ")+" }":"")}if(sW(e)){var g=np?Wu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):D2.call(e);return typeof e=="object"&&!np?Dm(g):g}if(Zme(e)){for(var b="<"+G$.call(String(e.nodeName)),_=e.attributes||[],w=0;w<_.length;w++)b+=" "+_[w].name+"="+iW(Mme(_[w].value),"double",s);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+G$.call(String(e.nodeName))+">",b}if(L2(e)){if(e.length===0)return"[]";var E=P0(e,p);return f&&!Yme(E)?"["+$2(E,f)+"]":"[ "+Ho.call(E,", ")+" ]"}if(Bme(e)){var x=P0(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!nW.call(e,"cause")?"{ ["+String(e)+"] "+Ho.call(W$.call("[cause]: "+p(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ho.call(x,", ")+" }"}if(typeof e=="object"&&o){if(Q$&&typeof e[Q$]=="function"&&B2)return B2(e,{depth:c-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Hme(e)){var N=[];return z$&&z$.call(e,function(B,j){N.push(p(j,e,!0)+" => "+p(B,e))}),J$("Map",ew.call(e),N,f)}if(Wme(e)){var M=[];return H$&&H$.call(e,function(B){M.push(p(B,e))}),J$("Set",tw.call(e),M,f)}if(Vme(e))return $T("WeakMap");if(qme(e))return $T("WeakSet");if(Gme(e))return $T("WeakRef");if($me(e))return Dm(p(Number(e)));if(Ume(e))return Dm(p(M2.call(e)));if(Fme(e))return Dm(Cme.call(e));if(Lme(e))return Dm(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===at)return"{ [object globalThis] }";if(!Dme(e)&&!K$(e)){var R=P0(e,p),D=Z$?Z$(e)===Object.prototype:e instanceof Object||e.constructor===Object,W=e instanceof Object?"":"null prototype",G=!D&&Sn&&Object(e)===e&&Sn in e?lM.call(Hl(e),8,-1):W?"Object":"",U=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=U+(G||W?"["+Ho.call(W$.call([],G||[],W||[]),": ")+"] ":"");return R.length===0?X+"{}":f?X+"{"+$2(R,f)+"}":X+"{ "+Ho.call(R,", ")+" }"}return String(e)};function iW(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Mme(t){return Wu.call(String(t),/"/g,"&quot;")}function L2(t){return Hl(t)==="[object Array]"&&(!Sn||!(typeof t=="object"&&Sn in t))}function Dme(t){return Hl(t)==="[object Date]"&&(!Sn||!(typeof t=="object"&&Sn in t))}function K$(t){return Hl(t)==="[object RegExp]"&&(!Sn||!(typeof t=="object"&&Sn in t))}function Bme(t){return Hl(t)==="[object Error]"&&(!Sn||!(typeof t=="object"&&Sn in t))}function Lme(t){return Hl(t)==="[object String]"&&(!Sn||!(typeof t=="object"&&Sn in t))}function $me(t){return Hl(t)==="[object Number]"&&(!Sn||!(typeof t=="object"&&Sn in t))}function Fme(t){return Hl(t)==="[object Boolean]"&&(!Sn||!(typeof t=="object"&&Sn in t))}function sW(t){if(np)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!D2)return!1;try{return D2.call(t),!0}catch{}return!1}function Ume(t){if(!t||typeof t!="object"||!M2)return!1;try{return M2.call(t),!0}catch{}return!1}var jme=Object.prototype.hasOwnProperty||function(t){return t in this};function Nu(t,e){return jme.call(t,e)}function Hl(t){return Ime.call(t)}function zme(t){if(t.name)return t.name;var e=Rme.call(Ome.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function oW(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Hme(t){if(!ew||!t||typeof t!="object")return!1;try{ew.call(t);try{tw.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Vme(t){if(!xy||!t||typeof t!="object")return!1;try{xy.call(t,xy);try{Sy.call(t,Sy)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Gme(t){if(!V$||!t||typeof t!="object")return!1;try{return V$.call(t),!0}catch{}return!1}function Wme(t){if(!tw||!t||typeof t!="object")return!1;try{tw.call(t);try{ew.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function qme(t){if(!Sy||!t||typeof t!="object")return!1;try{Sy.call(t,Sy);try{xy.call(t,xy)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Zme(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function aW(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return aW(lM.call(t,0,e.maxStringLength),e)+n}var i=Wu.call(Wu.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Xme);return iW(i,"single",e)}function Xme(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+kme.call(e.toString(16))}function Dm(t){return"Object("+t+")"}function $T(t){return t+" { ? }"}function J$(t,e,r,n){var i=n?$2(r,n):Ho.call(r,", ");return t+" ("+e+") {"+i+"}"}function Yme(t){for(var e=0;e<t.length;e++)if(oW(t[e],`
`)>=0)return!1;return!0}function Qme(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ho.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ho.call(Array(e+1),r)}}function $2(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ho.call(t,","+r)+`
`+e.prev}function P0(t,e){var r=L2(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Nu(t,i)?e(t[i],t):""}var s=typeof LT=="function"?LT(t):[],o;if(np){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)Nu(t,u)&&(r&&String(Number(u))===u&&u<t.length||np&&o["$"+u]instanceof Symbol||(rW.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof LT=="function")for(var l=0;l<s.length;l++)nW.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var cM=jh,Hp=bme,Kme=Nme,Jme=cM("%TypeError%"),N0=cM("%WeakMap%",!0),M0=cM("%Map%",!0),eye=Hp("WeakMap.prototype.get",!0),tye=Hp("WeakMap.prototype.set",!0),rye=Hp("WeakMap.prototype.has",!0),nye=Hp("Map.prototype.get",!0),iye=Hp("Map.prototype.set",!0),sye=Hp("Map.prototype.has",!0),hM=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},oye=function(t,e){var r=hM(t,e);return r&&r.value},aye=function(t,e,r){var n=hM(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},uye=function(t,e){return!!hM(t,e)},lye=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Jme("Side channel does not contain "+Kme(s))},get:function(s){if(N0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return eye(e,s)}else if(M0){if(r)return nye(r,s)}else if(n)return oye(n,s)},has:function(s){if(N0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return rye(e,s)}else if(M0){if(r)return sye(r,s)}else if(n)return uye(n,s);return!1},set:function(s,o){N0&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new N0),tye(e,s,o)):M0?(r||(r=new M0),iye(r,s,o)):(n||(n={key:{},next:null}),aye(n,s,o))}};return i},cye=String.prototype.replace,hye=/%20/g,FT={RFC1738:"RFC1738",RFC3986:"RFC3986"},dM={default:FT.RFC3986,formatters:{RFC1738:function(t){return cye.call(t,hye,"+")},RFC3986:function(t){return String(t)}},RFC1738:FT.RFC1738,RFC3986:FT.RFC3986},dye=dM,UT=Object.prototype.hasOwnProperty,xc=Array.isArray,Po=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),fye=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(xc(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},uW=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},pye=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(xc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!UT.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return xc(e)&&!xc(r)&&(i=uW(e,n)),xc(e)&&xc(r)?(r.forEach(function(s,o){if(UT.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return UT.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},mye=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},yye=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},gye=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===dye.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+Po[l];continue}if(l<2048){a=a+(Po[192|l>>6]+Po[128|l&63]);continue}if(l<55296||l>=57344){a=a+(Po[224|l>>12]+Po[128|l>>6&63]+Po[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=Po[240|l>>18]+Po[128|l>>12&63]+Po[128|l>>6&63]+Po[128|l&63]}return a},vye=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],c=o[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:l}),n.push(c))}return fye(r),e},_ye=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},bye=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},wye=function(e,r){return[].concat(e,r)},Eye=function(e,r){if(xc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},lW={arrayToObject:uW,assign:mye,combine:wye,compact:vye,decode:yye,encode:gye,isBuffer:bye,isRegExp:_ye,maybeMap:Eye,merge:pye},cW=lye,Nb=lW,Ay=dM,xye=Object.prototype.hasOwnProperty,eF={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Da=Array.isArray,Sye=Array.prototype.push,hW=function(t,e){Sye.apply(t,Da(e)?e:[e])},Aye=Date.prototype.toISOString,tF=Ay.default,vn={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Nb.encode,encodeValuesOnly:!1,format:tF,formatter:Ay.formatters[tF],indices:!1,serializeDate:function(e){return Aye.call(e)},skipNulls:!1,strictNullHandling:!1},Tye=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},jT={},Cye=function t(e,r,n,i,s,o,a,u,l,c,f,p,m,y,g,b){for(var _=e,w=b,E=0,x=!1;(w=w.get(jT))!==void 0&&!x;){var N=w.get(e);if(E+=1,typeof N<"u"){if(N===E)throw new RangeError("Cyclic object value");x=!0}typeof w.get(jT)>"u"&&(E=0)}if(typeof u=="function"?_=u(r,_):_ instanceof Date?_=f(_):n==="comma"&&Da(_)&&(_=Nb.maybeMap(_,function(P){return P instanceof Date?f(P):P})),_===null){if(s)return a&&!y?a(r,vn.encoder,g,"key",p):r;_=""}if(Tye(_)||Nb.isBuffer(_)){if(a){var M=y?r:a(r,vn.encoder,g,"key",p);return[m(M)+"="+m(a(_,vn.encoder,g,"value",p))]}return[m(r)+"="+m(String(_))]}var R=[];if(typeof _>"u")return R;var D;if(n==="comma"&&Da(_))y&&a&&(_=Nb.maybeMap(_,a)),D=[{value:_.length>0?_.join(",")||null:void 0}];else if(Da(u))D=u;else{var W=Object.keys(_);D=l?W.sort(l):W}for(var G=i&&Da(_)&&_.length===1?r+"[]":r,U=0;U<D.length;++U){var X=D[U],B=typeof X=="object"&&typeof X.value<"u"?X.value:_[X];if(!(o&&B===null)){var j=Da(_)?typeof n=="function"?n(G,X):G:G+(c?"."+X:"["+X+"]");b.set(e,E);var C=cW();C.set(jT,b),hW(R,t(B,j,n,i,s,o,n==="comma"&&y&&Da(_)?null:a,u,l,c,f,p,m,y,g,C))}}return R},Iye=function(e){if(!e)return vn;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||vn.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ay.default;if(typeof e.format<"u"){if(!xye.call(Ay.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ay.formatters[n],s=vn.filter;return(typeof e.filter=="function"||Da(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:vn.addQueryPrefix,allowDots:typeof e.allowDots>"u"?vn.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:vn.charsetSentinel,delimiter:typeof e.delimiter>"u"?vn.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:vn.encode,encoder:typeof e.encoder=="function"?e.encoder:vn.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:vn.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:vn.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:vn.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:vn.strictNullHandling}},Oye=function(t,e){var r=t,n=Iye(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Da(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in eF?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=eF[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=cW(),f=0;f<i.length;++f){var p=i[f];n.skipNulls&&r[p]===null||hW(o,Cye(r[p],p,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""},ip=lW,F2=Object.prototype.hasOwnProperty,Rye=Array.isArray,Fr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ip.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},kye=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},dW=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Pye="utf8=%26%2310003%3B",Nye="utf8=%E2%9C%93",Mye=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===Nye?l="utf-8":o[u]===Pye&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var c=o[u],f=c.indexOf("]="),p=f===-1?c.indexOf("="):f+1,m,y;p===-1?(m=r.decoder(c,Fr.decoder,l,"key"),y=r.strictNullHandling?null:""):(m=r.decoder(c.slice(0,p),Fr.decoder,l,"key"),y=ip.maybeMap(dW(c.slice(p+1),r),function(g){return r.decoder(g,Fr.decoder,l,"value")})),y&&r.interpretNumericEntities&&l==="iso-8859-1"&&(y=kye(y)),c.indexOf("[]=")>-1&&(y=Rye(y)?[y]:y),F2.call(n,m)?n[m]=ip.combine(n[m],y):n[m]=y}return n},Dye=function(t,e,r,n){for(var i=n?e:dW(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},Bye=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,c=[];if(l){if(!n.plainObjects&&F2.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var f=0;n.depth>0&&(u=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&F2.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+s.slice(u.index)+"]"),Dye(c,r,n,i)}},Lye=function(e){if(!e)return Fr;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Fr.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Fr.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Fr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Fr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Fr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Fr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Fr.comma,decoder:typeof e.decoder=="function"?e.decoder:Fr.decoder,delimiter:typeof e.delimiter=="string"||ip.isRegExp(e.delimiter)?e.delimiter:Fr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Fr.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Fr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Fr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Fr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Fr.strictNullHandling}},$ye=function(t,e){var r=Lye(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Mye(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=Bye(a,n[a],r,typeof t=="string");i=ip.merge(i,u,r)}return r.allowSparse===!0?i:ip.compact(i)},Fye=Oye,Uye=$ye,jye=dM,zye={formats:jye,parse:Uye,stringify:Fye},Hye=Mpe;function qa(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Vye=/^([a-z0-9.+-]+:)/i,Gye=/:[0-9]*$/,Wye=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,qye=["<",">",'"',"`"," ","\r",`
`,"	"],Zye=["{","}","|","\\","^","`"].concat(qye),U2=["'"].concat(Zye),rF=["%","/","?",";","#"].concat(U2),nF=["/","?","#"],Xye=255,iF=/^[+a-z0-9A-Z_-]{0,63}$/,Yye=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Qye={javascript:!0,"javascript:":!0},j2={javascript:!0,"javascript:":!0},Ef={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z2=zye;function Kye(t,e,r){if(t&&typeof t=="object"&&t instanceof qa)return t;var n=new qa;return n.parse(t,e,r),n}qa.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var u=Wye.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=z2.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=Vye.exec(a);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(l&&j2[l])&&(a=a.substr(2),this.slashes=!0)}if(!j2[l]&&(f||l&&!Ef[l])){for(var p=-1,m=0;m<nF.length;m++){var y=a.indexOf(nF[m]);y!==-1&&(p===-1||y<p)&&(p=y)}var g,b;p===-1?b=a.lastIndexOf("@"):b=a.lastIndexOf("@",p),b!==-1&&(g=a.slice(0,b),a=a.slice(b+1),this.auth=decodeURIComponent(g)),p=-1;for(var m=0;m<rF.length;m++){var y=a.indexOf(rF[m]);y!==-1&&(p===-1||y<p)&&(p=y)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var _=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!_)for(var w=this.hostname.split(/\./),m=0,E=w.length;m<E;m++){var x=w[m];if(x&&!x.match(iF)){for(var N="",M=0,R=x.length;M<R;M++)x.charCodeAt(M)>127?N+="x":N+=x[M];if(!N.match(iF)){var D=w.slice(0,m),W=w.slice(m+1),G=x.match(Yye);G&&(D.push(G[1]),W.unshift(G[2])),W.length&&(a="/"+W.join(".")+a),this.hostname=D.join(".");break}}}this.hostname.length>Xye?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=Hye.toASCII(this.hostname));var U=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+U,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Qye[c])for(var m=0,E=U2.length;m<E;m++){var B=U2[m];if(a.indexOf(B)!==-1){var j=encodeURIComponent(B);j===B&&(j=escape(B)),a=a.split(B).join(j)}}var C=a.indexOf("#");C!==-1&&(this.hash=a.substr(C),a=a.slice(0,C));var P=a.indexOf("?");if(P!==-1?(this.search=a.substr(P),this.query=a.substr(P+1),e&&(this.query=z2.parse(this.query)),a=a.slice(0,P)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ef[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",O=this.search||"";this.path=U+O}return this.href=this.format(),this};qa.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=z2.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ef[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};qa.prototype.resolve=function(t){return this.resolveObject(Kye(t,!1,!0)).format()};qa.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new qa;e.parse(t,!1,!0),t=e}for(var r=new qa,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return Ef[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ef[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var f=l[c];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!j2[t.protocol]){for(var E=(t.pathname||"").split("/");E.length&&!(t.host=E.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),E[0]!==""&&E.unshift(""),E.length<2&&E.unshift(""),r.pathname=E.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",m=r.search||"";r.path=p+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",g=t.host||t.pathname&&t.pathname.charAt(0)==="/",b=g||y||r.host&&t.pathname,_=b,w=r.pathname&&r.pathname.split("/")||[],E=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Ef[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host=null),b=b&&(E[0]===""||w[0]==="")),g)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=E;else if(E.length)w||(w=[]),w.pop(),w=w.concat(E),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=w.shift(),r.hostname=r.host;var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.hostname=N.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var M=w.slice(-1)[0],R=(r.host||t.host||w.length>1)&&(M==="."||M==="..")||M==="",D=0,W=w.length;W>=0;W--)M=w[W],M==="."?w.splice(W,1):M===".."?(w.splice(W,1),D++):D&&(w.splice(W,1),D--);if(!b&&!_)for(;D--;D)w.unshift("..");b&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),R&&w.join("/").substr(-1)!=="/"&&w.push("");var G=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(x){r.hostname=G?"":w.length?w.shift():"",r.host=r.hostname;var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.hostname=N.shift(),r.host=r.hostname)}return b=b||r.host&&w.length,b&&!G&&w.unshift(""),w.length>0?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};qa.prototype.parseHost=function(){var t=this.host,e=Gye.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const sF={};function st(t,e,r=3){if(sF[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),sF[e]=!0}function Is(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Bm(t){return t.split("?")[0].split("#")[0]}function Jye(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ege(t,e,r){return t.replace(new RegExp(Jye(e),"g"),r)}function tge(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Pr={toPosix(t){return ege(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Is(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Is(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Bm(this.toPosix(e??Te.ADAPTER.getBaseUrl())),i=Bm(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Pr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Is(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=tge(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Is(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Is(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Is(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Is(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Is(t),e&&Is(e),t=Bm(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Is(t),t=Bm(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Is(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Bm(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,l=t.length-1,c=0;for(;l>=i;--l){if(r=t.charCodeAt(l),r===47){if(!u){o=l+1;break}continue}a===-1&&(u=!1,a=l+1),r===46?s===-1?s=l:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let zT;async function rge(){return zT??(zT=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return ui.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return ui.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?ui.PMA:ui.UNPACK})()),zT}let HT;function nge(){return typeof HT>"u"&&(HT=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Te.ADAPTER.getWebGLRenderingContext())return!1;const r=Te.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),HT}var ige={grad:.9,turn:360,rad:360/(2*Math.PI)},Ia=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Hr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},os=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},fW=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},oF=function(t){return{r:os(t.r,0,255),g:os(t.g,0,255),b:os(t.b,0,255),a:os(t.a)}},VT=function(t){return{r:Hr(t.r),g:Hr(t.g),b:Hr(t.b),a:Hr(t.a,3)}},sge=/^#([0-9a-f]{3,8})$/i,D0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},pW=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},mW=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),u=n*(1-(1-e+s)*r),l=s%6;return{r:255*[n,a,o,o,u,n][l],g:255*[u,n,n,a,o,o][l],b:255*[o,o,u,n,n,a][l],a:i}},aF=function(t){return{h:fW(t.h),s:os(t.s,0,100),l:os(t.l,0,100),a:os(t.a)}},uF=function(t){return{h:Hr(t.h),s:Hr(t.s),l:Hr(t.l),a:Hr(t.a,3)}},lF=function(t){return mW((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Ty=function(t){return{h:(e=pW(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},oge=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,age=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,uge=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,lge=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,H2={string:[[function(t){var e=sge.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Hr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Hr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=uge.exec(t)||lge.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:oF({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=oge.exec(t)||age.exec(t);if(!e)return null;var r,n,i=aF({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(ige[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return lF(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Ia(e)&&Ia(r)&&Ia(n)?oF({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Ia(e)||!Ia(r)||!Ia(n))return null;var o=aF({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return lF(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Ia(e)||!Ia(r)||!Ia(n))return null;var o=function(a){return{h:fW(a.h),s:os(a.s,0,100),v:os(a.v,0,100),a:os(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return mW(o)},"hsv"]]},cF=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},cge=function(t){return typeof t=="string"?cF(t.trim(),H2.string):typeof t=="object"&&t!==null?cF(t,H2.object):[null,void 0]},GT=function(t,e){var r=Ty(t);return{h:r.h,s:os(r.s+100*e,0,100),l:r.l,a:r.a}},WT=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},hF=function(t,e){var r=Ty(t);return{h:r.h,s:r.s,l:os(r.l+100*e,0,100),a:r.a}},V2=function(){function t(e){this.parsed=cge(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Hr(WT(this.rgba),2)},t.prototype.isDark=function(){return WT(this.rgba)<.5},t.prototype.isLight=function(){return WT(this.rgba)>=.5},t.prototype.toHex=function(){return e=VT(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?D0(Hr(255*s)):"","#"+D0(r)+D0(n)+D0(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return VT(this.rgba)},t.prototype.toRgbString=function(){return e=VT(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return uF(Ty(this.rgba))},t.prototype.toHslString=function(){return e=uF(Ty(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=pW(this.rgba),{h:Hr(e.h),s:Hr(e.s),v:Hr(e.v),a:Hr(e.a,3)};var e},t.prototype.invert=function(){return No({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),No(GT(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),No(GT(this.rgba,-e))},t.prototype.grayscale=function(){return No(GT(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),No(hF(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),No(hF(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?No({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Hr(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Ty(this.rgba);return typeof e=="number"?No({h:e,s:r.s,l:r.l,a:r.a}):Hr(r.h)},t.prototype.isEqual=function(e){return this.toHex()===No(e).toHex()},t}(),No=function(t){return t instanceof V2?t:new V2(t)},dF=[],hge=function(t){t.forEach(function(e){dF.indexOf(e)<0&&(e(V2,H2),dF.push(e))})};function dge(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,l=n[this.toHex()];if(l)return l;if(o!=null&&o.closest){var c=this.toRgb(),f=1/0,p="black";if(!s.length)for(var m in r)s[m]=new t(r[m]).toRgb();for(var y in r){var g=(a=c,u=s[y],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));g<f&&(f=g,p=y)}return p}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new t(u).toRgb():null},"name"])}hge([dge]);const kd=class Mb{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Mb)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Mb.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Mb.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=No(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};kd.shared=new kd,kd.temp=new kd,kd.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Mt=kd;function fge(t){return st("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Mt.shared.setValue(t).toHex()}function pge(t){return st("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Mt.shared.setValue(t).toNumber()}function mge(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Ge.NORMAL_NPM]=Ge.NORMAL,t[Ge.ADD_NPM]=Ge.ADD,t[Ge.SCREEN_NPM]=Ge.SCREEN,e[Ge.NORMAL]=Ge.NORMAL_NPM,e[Ge.ADD]=Ge.ADD_NPM,e[Ge.SCREEN]=Ge.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const yW=mge();function gW(t,e){return yW[e?1:0][t]}function yge(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function vW(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function rw(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function fF(t){return!(t&t-1)&&!!t}function pF(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function xf(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function qu(t){return t===0?0:t<0?-1:1}let gge=0;function gh(){return++gge}const G2=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};G2.EMPTY=new G2(0,0,0,0);let mF=G2;const yF={},Mo=Object.create(null),Tu=Object.create(null);class vge{constructor(e,r,n){this._canvas=Te.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Te.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function gF(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function vF(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function _ge(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,u=r-1;for(;o<r&&gF(i,e,o);)++o;if(o===r)return mF.EMPTY;for(;gF(i,e,u);)--u;for(;vF(i,e,s,o,u);)++s;for(;vF(i,e,a,o,u);)--a;return++a,++u,new mF(s,o,a,u)}function bge(t){const e=_ge(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function wge(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ru(t,e=1){var n;const r=(n=Te.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var Ee=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Ee||{});const W2=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},_F=(t,e)=>W2(t).priority??e,Le={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(W2).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(W2).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>_F(s,r)-_F(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class q2{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Ege=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function xge(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Sge(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=Ege.replace(/%forloop%/gi,xge(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const qT=0,ZT=1,XT=2,YT=3,QT=4,KT=5;class ga{constructor(){this.data=0,this.blendMode=Ge.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<qT)}set blend(e){!!(this.data&1<<qT)!==e&&(this.data^=1<<qT)}get offsets(){return!!(this.data&1<<ZT)}set offsets(e){!!(this.data&1<<ZT)!==e&&(this.data^=1<<ZT)}get culling(){return!!(this.data&1<<XT)}set culling(e){!!(this.data&1<<XT)!==e&&(this.data^=1<<XT)}get depthTest(){return!!(this.data&1<<YT)}set depthTest(e){!!(this.data&1<<YT)!==e&&(this.data^=1<<YT)}get depthMask(){return!!(this.data&1<<KT)}set depthMask(e){!!(this.data&1<<KT)!==e&&(this.data^=1<<KT)}get clockwiseFrontFace(){return!!(this.data&1<<QT)}set clockwiseFrontFace(e){!!(this.data&1<<QT)!==e&&(this.data^=1<<QT)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ge.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new ga;return e.depthTest=!1,e.blend=!0,e}}ga.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Z2=[];function _W(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Z2.length-1;n>=0;--n){const i=Z2[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Zs{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:c}=this;this._aliasCount++;for(let f=0,p=c.length;f<p;f++)c[f][l](e,r,n,i,s,o,a,u);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Zs.prototype,{dispatch:{value:Zs.prototype.emit},run:{value:Zs.prototype.emit}});class Pg{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Zs("setRealSize"),this.onUpdate=new Zs("update"),this.onError=new Zs("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class sx extends Pg{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ui.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Age={scaleMode:Ii.NEAREST,alphaMode:ui.NPM},X2=class Pd extends Bv{constructor(e=null,r=null){super(),r=Object.assign({},Pd.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:u,wrapMode:l,format:c,type:f,target:p,resolution:m,resourceOptions:y}=r;e&&!(e instanceof Pg)&&(e=_W(e,y),e.internal=!0),this.resolution=m||Te.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=l,this._scaleMode=o,this.format=c,this.type=f,this.target=p,this.alphaMode=n,this.uid=gh(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=fF(this.realWidth)&&fF(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Tu[this.cacheId],delete Mo[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Pd.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=Te.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${gh()}`}s=e._pixiId}let o=Tu[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Pd(e,r),o.cacheId=s,Pd.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new sx(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ge.RGBA,a=ze.FLOAT):e instanceof Int32Array?(o=ge.RGBA_INTEGER,a=ze.INT):e instanceof Uint32Array?(o=ge.RGBA_INTEGER,a=ze.UNSIGNED_INT):e instanceof Int16Array?(o=ge.RGBA_INTEGER,a=ze.SHORT):e instanceof Uint16Array?(o=ge.RGBA_INTEGER,a=ze.UNSIGNED_SHORT):e instanceof Int8Array?(o=ge.RGBA,a=ze.BYTE):(o=ge.RGBA,a=ze.UNSIGNED_BYTE),s.internal=!0,new Pd(s,Object.assign({},Age,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Tu[r]&&Tu[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Tu[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Tu[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Tu[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Tu[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};X2.defaultOptions={mipmap:ha.POW2,anisotropicLevel:0,scaleMode:Ii.LINEAR,wrapMode:Wa.CLAMP,alphaMode:ui.UNPACK,target:bf.TEXTURE_2D,format:ge.RGBA,type:ze.UNSIGNED_BYTE},X2._globalBatch=0;let Je=X2;class Y2{constructor(){this.texArray=null,this.blend=0,this.type=js.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Tge=0;class pr{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Tge++,this.disposeRunner=new Zs("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?na.ELEMENT_ARRAY_BUFFER:na.ARRAY_BUFFER}get index(){return this.type===na.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new pr(e)}}class nw{constructor(e,r=0,n=!1,i=ze.FLOAT,s,o,a,u=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(e,r,n,i,s){return new nw(e,r,n,i,s)}}const Cge={Float32Array,Uint32Array,Int32Array,Uint8Array};function Ige(t,e){let r=0,n=0;const i={};for(let u=0;u<t.length;u++)n+=e[u],r+=t[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<t.length;u++){const l=e[u],c=t[u],f=vW(c);i[f]||(i[f]=new Cge[f](s)),o=i[f];for(let p=0;p<c.length;p++){const m=(p/l|0)*n+a,y=p%l;o[m+y]=c[p]}a+=l}return new Float32Array(s)}const bF={5126:4,5123:2,5121:1};let Oge=0;const Rge={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Tl{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Oge++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Zs("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof pr||(r instanceof Array&&(r=new Float32Array(r)),r=new pr(r));const l=e.split("|");if(l.length>1){for(let f=0;f<l.length;f++)this.addAttribute(l[f],r,n,i,s);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new nw(c,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof pr||(e instanceof Array&&(e=new Uint16Array(e)),e=new pr(e)),e.type=na.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new pr;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*bF[s.type]/4),s.buffer=0}for(n.data=Ige(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Tl;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new pr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new nw(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=na.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Tl,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new Rge[vW(o.buffers[a].data)](i[a]),r.buffers[a]=new pr(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=na.ELEMENT_ARRAY_BUFFER;let a=0,u=0,l=0,c=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){c=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===c&&(u+=p.size*bF[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)r.indexBuffer.data[m+l]+=a;a+=e[f].buffers[c].data.length/u,l+=p.length}}return r}}class bW extends Tl{constructor(e=!1){super(),this._buffer=new pr(null,e,!1),this._indexBuffer=new pr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ze.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ze.FLOAT).addAttribute("aColor",this._buffer,4,!0,ze.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ze.FLOAT).addIndex(this._indexBuffer)}}const iw=Math.PI*2,kge=180/Math.PI,Pge=Math.PI/180;var tn=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(tn||{});class ut{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ut(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}ut.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const B0=[new ut,new ut,new ut,new ut];class et{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=tn.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new et(0,0,0,0)}clone(){return new et(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const D=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=D)return!1;const W=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>W}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=B0[0].set(e.left,e.top),u=B0[1].set(e.left,e.bottom),l=B0[2].set(e.right,e.top),c=B0[3].set(e.right,e.bottom);if(l.x<=a.x||u.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(u,u),r.apply(l,l),r.apply(c,c),Math.max(a.x,u.x,l.x,c.x)<=n||Math.min(a.x,u.x,l.x,c.x)>=i||Math.max(a.y,u.y,l.y,c.y)<=s||Math.min(a.y,u.y,l.y,c.y)>=o))return!1;const p=f*(u.y-a.y),m=f*(a.x-u.x),y=p*n+m*s,g=p*i+m*s,b=p*n+m*o,_=p*i+m*o;if(Math.max(y,g,b,_)<=p*a.x+m*a.y||Math.min(y,g,b,_)>=p*c.x+m*c.y)return!1;const w=f*(a.y-l.y),E=f*(l.x-a.x),x=w*n+E*s,N=w*i+E*s,M=w*n+E*o,R=w*i+E*o;return!(Math.max(x,N,M,R)<=w*a.x+E*a.y||Math.min(x,N,M,R)>=w*c.x+E*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}et.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ox{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=tn.CIRC}clone(){return new ox(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new et(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}ox.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class ax{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=tn.ELIP}clone(){return new ax(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new et(this.x-this.width,this.y-this.height,this.width,this.height)}}ax.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Wc{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=tn.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Wc(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],l=this.points[o*2],c=this.points[o*2+1];u>r!=c>r&&e<(l-a)*((r-u)/(c-u))+a&&(n=!n)}return n}}Wc.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class ux{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=tn.RREC}clone(){return new ux(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}ux.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Gt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ut;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new ut;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,u,l){return this.a=Math.cos(a+l)*s,this.b=Math.sin(a+l)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),l=Math.abs(a+u);return l<1e-5||Math.abs(iw-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Gt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Gt}static get TEMP_MATRIX(){return new Gt}}Gt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const dc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],pc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],mc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Q2=[],wW=[],L0=Math.sign;function Nge(){for(let t=0;t<16;t++){const e=[];Q2.push(e);for(let r=0;r<16;r++){const n=L0(dc[t]*dc[r]+pc[t]*fc[r]),i=L0(fc[t]*dc[r]+mc[t]*fc[r]),s=L0(dc[t]*pc[r]+pc[t]*mc[r]),o=L0(fc[t]*pc[r]+mc[t]*mc[r]);for(let a=0;a<16;a++)if(dc[a]===n&&fc[a]===i&&pc[a]===s&&mc[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Gt;e.set(dc[t],fc[t],pc[t],mc[t],0,0),wW.push(e)}}Nge();const er={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>dc[t],uY:t=>fc[t],vX:t=>pc[t],vY:t=>mc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Q2[t][e],sub:(t,e)=>Q2[t][er.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?er.S:er.N:Math.abs(e)*2<=Math.abs(t)?t>0?er.E:er.W:e>0?t>0?er.SE:er.SW:t>0?er.NE:er.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=wW[er.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Xo{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Xo(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Xo.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const K2=class{constructor(){this.worldTransform=new Gt,this.localTransform=new Gt,this.position=new Xo(this.onChange,this,0,0),this.scale=new Xo(this.onChange,this,1,1),this.pivot=new Xo(this.onChange,this,0,0),this.skew=new Xo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};K2.IDENTITY=new K2;let lx=K2;lx.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Mge=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Dge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function wF(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function JT(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function EW(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return JT(2*e);case"bvec3":return JT(3*e);case"bvec4":return JT(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Sf=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],Bge={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Lge={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function $ge(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<Sf.length;u++)if(Sf[u].test(s,o)){r.push(Sf[u].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?Bge:Lge)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const xW={};let _d=xW;function Fge(){if(_d===xW||_d!=null&&_d.isContextLost()){const t=Te.ADAPTER.createCanvas();let e;Te.PREFER_ENV>=Uh.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),_d=e}return _d}let $0;function Uge(){if(!$0){$0=ss.MEDIUM;const t=Fge();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&($0=e.precision?ss.HIGH:ss.MEDIUM)}}return $0}function EF(t,e){const r=t.getShaderSource(e).split(`
`).map((l,c)=>`${c}: ${l}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!s[l]?(s[l]=!0,!0):!1),a=[""];o.forEach(l=>{r[l-1]=`%c${r[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function jge(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||EF(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||EF(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const zge={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function SW(t){return zge[t]}let F0=null;const xF={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function AW(t,e){if(!F0){const r=Object.keys(xF);F0={};for(let n=0;n<r.length;++n){const i=r[n];F0[t[i]]=xF[i]}}return F0[e]}function SF(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===ss.HIGH&&r!==ss.HIGH&&(n=ss.MEDIUM),`precision ${n} float;
${t}`}else if(r!==ss.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Lm;function Hge(){if(typeof Lm=="boolean")return Lm;try{Lm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Lm=!1}return Lm}let Vge=0;const U0={},J2=class Nd{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=Vge++,this.vertexSrc=e||Nd.defaultVertexSrc,this.fragmentSrc=r||Nd.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),U0[n]?(U0[n]++,n+=`-${U0[n]}`):U0[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=SF(this.vertexSrc,Nd.defaultVertexPrecision,ss.HIGH),this.fragmentSrc=SF(this.fragmentSrc,Nd.defaultFragmentPrecision,Uge())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Dge}static get defaultFragmentSrc(){return Mge}static from(e,r,n){const i=e+r;let s=yF[i];return s||(yF[i]=s=new Nd(e,r,n)),s}};J2.defaultVertexPrecision=ss.HIGH,J2.defaultFragmentPrecision=Ha.apple.device?ss.HIGH:ss.MEDIUM;let Va=J2,Gge=0;class Xs{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Gge++,this.static=!!r,this.ubo=!!n,e instanceof pr?(this.buffer=e,this.buffer.type=na.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pr(new Float32Array(1)),this.buffer.type=na.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Xs(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Xs(e,r,n)}static uboFrom(e,r){return new Xs(e,r??!0,!0)}}class ia{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Xs?this.uniformGroup=r:this.uniformGroup=new Xs(r):this.uniformGroup=new Xs({}),this.disposeRunner=new Zs("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Va.from(e,r);return new ia(i,n)}}class Wge{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Xs.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Va(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:this.defaultGroupCache[e]};return new ia(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class eO{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function qge(){return!Ha.apple.device}function Zge(t){let e=!0;const r=Te.ADAPTER.getNavigator();if(Ha.tablet||Ha.phone){if(Ha.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ha.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class cx{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Xge=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Yge=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Km=class ks extends cx{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=bW,this.vertexSize=6,this.state=ga.for2d(),this.size=ks.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Zge(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??qge(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return st("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Yge}static get defaultFragmentTemplate(){return Xge}setShaderGenerator({vertex:e=ks.defaultVertexSrc,fragment:r=ks.defaultFragmentTemplate}={}){this.shaderGenerator=new Wge(e,r)}contextChange(){const e=this.renderer.gl;Te.PREFER_ENV===Uh.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ks.defaultMaxTextures),this.maxTextures=Sge(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=ks,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Y2);for(;r.length<i;)r.push(new eO);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=ks._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Je._globalBatch,u=0,l=n[0],c=0;i.copyBoundTextures(s,r);for(let f=0;f<this._bufferSize;++f){const p=e[f];e[f]=null,p._batchEnabled!==a&&(l.count>=r&&(i.boundArray(l,s,a,r),this.buildDrawCalls(l,c,f),c=f,l=n[++u],++a),p._batchEnabled=a,p.touched=o,l.elements[l.count++]=p)}l.count>0&&(i.boundArray(l,s,a,r),this.buildDrawCalls(l,c,this._bufferSize),++u,++a);for(let f=0;f<s.length;f++)s[f]=null;Je._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,u=ks._drawCallPool;let l=this._dcIndex,c=this._aIndex,f=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=e;for(let m=r;m<n;++m){const y=i[m],g=y._texture.baseTexture,b=yW[g.alphaMode?1:0][y.blendMode];i[m]=null,r<m&&p.blend!==b&&(p.size=f-p.start,r=m,p=u[++l],p.texArray=e,p.start=f),this.packInterleavedGeometry(y,s,o,c,f),c+=y.vertexData.length/2*a,f+=y.indices.length,p.blend=b}r<n&&(p.size=f-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=f}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;ks.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=ks._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:u,size:l,start:c,blend:f}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=f,n.set(this.state),r.drawElements(u,l,r.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),ks.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=rw(Math.ceil(e/8)),n=pF(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new q2(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=rw(Math.ceil(e/12)),n=pF(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,u=i/this.vertexSize,l=e.uvs,c=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),y=Mt.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let g=0;g<f.length;g+=2)a[i++]=f[g],a[i++]=f[g+1],a[i++]=l[g],a[i++]=l[g+1],o[i++]=y,a[i++]=p;for(let g=0;g<c.length;g++)n[s++]=u+c[g]}};Km.defaultBatchSize=4096,Km.extension={name:"batch",type:Ee.RendererPlugin},Km._drawCallPool=[],Km._textureArrayPool=[];let yc=Km;Le.add(yc);var Qge=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Kge=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const tO=class Jm extends ia{constructor(e,r,n){const i=Va.from(e||Jm.defaultVertexSrc,r||Jm.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Jm.defaultResolution,this.multisample=Jm.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ga}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Kge}static get defaultFragmentSrc(){return Qge}};tO.defaultResolution=1,tO.defaultMultisample=_r.NONE;let Un=tO;class sw{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Mt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}sw.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},sw.extension={type:[Ee.RendererSystem,Ee.CanvasRendererSystem],name:"background"};Le.add(sw);class TW{constructor(e){this.renderer=e,this.emptyRenderer=new cx(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let l=0;l<a;l++){const c=s[l],f=c._batchLocation;if(f>=0&&f<i&&r[f]===c){o[l]=f;continue}for(;u<i;){const p=r[u];if(p&&p._batchEnabled===n&&p._batchLocation===u){u++;continue}o[l]=u,c._batchLocation=u,r[u]=c;break}}}destroy(){this.renderer=null}}TW.extension={type:Ee.RendererSystem,name:"batch"};Le.add(TW);let AF=0;class ow{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=AF++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=AF++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(Te.PREFER_ENV>=Uh.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ow.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},ow.extension={type:Ee.RendererSystem,name:"context"};Le.add(ow);class rO{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Zs("disposeFramebuffer"),this.multisample=_r.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Je(null,{scaleMode:Ii.NEAREST,resolution:1,mipmap:ha.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Je(null,{scaleMode:Ii.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ha.OFF,format:ge.DEPTH_COMPONENT,type:ze.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class CW extends Je{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=_r.NONE),super(null,e),this.mipmap=ha.OFF,this.valid=!0,this._clear=new Mt([0,0,0,0]),this.framebuffer=new rO(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Cl extends Pg{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=wge(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ui.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class IW extends Cl{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Cl.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??Te.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ui.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class fM{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,l=e.y/s+a;n=er.add(n,er.NW),this.x0=u+o*er.uX(n),this.y0=l+a*er.uY(n),n=er.add(n,2),this.x1=u+o*er.uX(n),this.y1=l+a*er.uY(n),n=er.add(n,2),this.x2=u+o*er.uX(n),this.y2=l+a*er.uY(n),n=er.add(n,2),this.x3=u+o*er.uX(n),this.y3=l+a*er.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}fM.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const TF=new fM;function j0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class be extends Bv{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new et(0,0,1,1)),e instanceof be&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=TF,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ut(o.x,o.y):new ut(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Mo[r.url]&&be.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,be.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new be(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===TF&&(this._uvs=new fM),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=Te.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Je){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${gh()}`,Je.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${gh()}`}s=e._pixiId}let o=Mo[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Je)?(r.resolution||(r.resolution=ru(e)),o=new be(new Je(e,r)),o.baseTexture.cacheId=s,Je.addToCache(o.baseTexture,s),be.addToCache(o,s)):!o&&e instanceof Je&&(o=new be(e),be.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=be.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new be(Je.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Je(e,Object.assign({scaleMode:Je.defaultOptions.scaleMode,resolution:ru(r)},i)),{resource:o}=s;o instanceof IW&&(o.url=r);const a=new be(s);return n||(n=r),Je.addToCache(a.baseTexture,n),be.addToCache(a,n),n!==r&&(Je.addToCache(a.baseTexture,r),be.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Mo[r]&&Mo[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Mo[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Mo[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Mo[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Mo[e.textureCacheIds[r]]===e&&delete Mo[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",l=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,c=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${l} ${u} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return be._EMPTY||(be._EMPTY=new be(new Je),j0(be._EMPTY),j0(be._EMPTY.baseTexture)),be._EMPTY}static get WHITE(){if(!be._WHITE){const e=Te.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),be._WHITE=new be(Je.from(e)),j0(be._WHITE),j0(be._WHITE.baseTexture)}return be._WHITE}}class zh extends be{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new zh(new CW(e))}}class OW{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=_r.NONE){const i=new CW(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new zh(i)}getOptimalTexture(e,r,n=1,i=_r.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=rw(e),r=rw(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||_r.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}OW.SCREEN_KEY=-1;class Jge extends Tl{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class RW extends Tl{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new pr(this.vertices),this.uvBuffer=new pr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class eve{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=_r.NONE,this.sourceFrame=new et,this.destinationFrame=new et,this.bindingSourceFrame=new et,this.bindingDestinationFrame=new et,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const z0=[new ut,new ut,new ut,new ut],eC=new Gt;class kW{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new OW,this.statePool=[],this.quad=new Jge,this.quadUv=new RW,this.tempRect=new et,this.activeState={},this.globalUniforms=new Xs({outputFrame:new et,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new eve,o=n.renderTexture;let a,u;if(o.current){const b=o.current;a=b.resolution,u=b.multisample}else a=n.resolution,u=n.multisample;let l=r[0].resolution||a,c=r[0].multisample??u,f=r[0].padding,p=r[0].autoFit,m=r[0].legacy??!0;for(let b=1;b<r.length;b++){const _=r[b];l=Math.min(l,_.resolution||a),c=Math.min(c,_.multisample??u),f=this.useMaxPadding?Math.max(f,_.padding):f+_.padding,p=p&&_.autoFit,m=m||(_.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=c,s.legacy=m,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);const y=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(eC.copyFrom(n.projection.transform).invert(),y),p?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const l=i.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,zo.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let l=r.renderTexture,c=this.getOptimalFilterTexture(l.width,l.height,r.resolution);c.filterFrame=l.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(l.width,l.height,r.resolution),c.filterFrame=l.filterFrame),n[f].apply(this,l,c,zo.CLEAR,r);const p=l;l=c,c=p}n[f].apply(this,l,u.renderTexture,zo.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=zo.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===zo.CLEAR||r===zo.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(js.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(js.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Gt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=_r.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||_r.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=z0[0],i=z0[1],s=z0[2],o=z0[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),l=Math.max(n.x,i.x,s.x,o.x),c=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=l-a,r.height=c-u}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:l}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}s=s?eC.copyFrom(s):eC.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}kW.extension={type:Ee.RendererSystem,name:"filter"};Le.add(kW);class tve{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=_r.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const rve=new et;class PW{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new rO(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new et,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Te.PREFER_ENV===Uh.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=I2.COLOR|I2.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new tve(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const l=s[u],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,l.target,c._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let u,l;this.renderer.context.webGLVersion===1?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH_STENCIL):e.depth&&e.stencil?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH24_STENCIL8):e.depth?(u=n.DEPTH_ATTACHMENT,l=n.DEPTH_COMPONENT24):(u=n.STENCIL_ATTACHMENT,l=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,l,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,l,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,u,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=_r.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=_r.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;u.blitFramebuffer||(u.blitFramebuffer=new rO(i.width,i.height),u.blitFramebuffer.addColorTexture(0,c)),e=u.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=rve,r.width=i.width,r.height=i.height),n||(n=r);const l=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,u;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,u=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,u,n,i):s.renderbufferStorage(s.RENDERBUFFER,u,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new et}destroy(){this.renderer=null}}PW.extension={type:Ee.RendererSystem,name:"framebuffer"};Le.add(PW);const tC={5126:4,5123:2,5121:1};class NW{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Te.PREFER_ENV===Uh.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const u=this.getSignature(e,a),l=e.glVertexArrayObjects[this.CONTEXT_UID];let c=l[u];if(c)return l[a.id]=c,c;const f=e.buffers,p=e.attributes,m={},y={};for(const g in f)m[g]=0,y[g]=0;for(const g in p)!p[g].size&&a.attributeData[g]?p[g].size=a.attributeData[g].size:p[g].size||console.warn(`PIXI Geometry attribute '${g}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[g].buffer]+=p[g].size*tC[p[g].type];for(const g in p){const b=p[g],_=b.size;b.stride===void 0&&(m[b.buffer]===_*tC[b.type]?b.stride=0:b.stride=m[b.buffer]),b.start===void 0&&(b.start=y[b.buffer],y[b.buffer]+=_*tC[b.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let g=0;g<f.length;g++){const b=f[g];o.bind(b),n&&b._glBuffers[s].refCount++}return this.activateVao(e,a),l[a.id]=c,l[u]=c,i.bindVertexArray(null),o.unbind(na.ARRAY_BUFFER),c}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const l=s[u]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const l=n[u];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const l in a){const c=a[l],f=o[c.buffer],p=f._glBuffers[i];if(r.attributeData[l]){u!==p&&(s.bind(f),u=p);const m=r.attributeData[l].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(m,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}NW.extension={type:Ee.RendererSystem,name:"geometry"};Le.add(NW);const CF=new Gt;class pM{constructor(e,r){this._texture=e,this.mapCoord=new Gt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(CF.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(CF));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(r._frame.x+u+l)/o.width,a[1]=(r._frame.y+u+l)/o.height,a[2]=(r._frame.x+r._frame.width-u+l)/o.width,a[3]=(r._frame.y+r._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var nve=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,ive=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class sve extends Un{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||ive,r||nve,n),this.maskSprite=i,this.maskMatrix=new Gt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new pM(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class ove{constructor(e=null){this.type=Cr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Un.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Cr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class MW{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new ove;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Cr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Cr.SCISSOR:this.renderer.scissor.push(n);break;case Cr.STENCIL:this.renderer.stencil.push(n);break;case Cr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Cr.COLOR:this.pushColorMask(n);break}n.type===Cr.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Cr.SCISSOR:this.renderer.scissor.pop(r);break;case Cr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Cr.SPRITE:this.popSpriteMask(r);break;case Cr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Cr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Cr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Cr.SCISSOR:e.type=Cr.STENCIL:e.type=Cr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new sve])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}MW.extension={type:Ee.RendererSystem,name:"mask"};Le.add(MW);class DW{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const IF=new Gt,OF=[],BW=class Db extends DW{constructor(e){super(e),this.glConst=Te.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,OF.pop()??new et);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Db.isMatrixRotated(r.worldTransform)||Db.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Db.isMatrixRotated(s)||(s=s?IF.copyFrom(s):IF.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&OF.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};BW.extension={type:Ee.RendererSystem,name:"scissor"};let ave=BW;Le.add(ave);class LW extends DW{constructor(e){super(e),this.glConst=Te.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}LW.extension={type:Ee.RendererSystem,name:"stencil"};Le.add(LW);class $W{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return st("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return st("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return st("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}$W.extension={type:[Ee.RendererSystem,Ee.CanvasRendererSystem],name:"_plugin"};Le.add($W);class FW{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Gt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}FW.extension={type:Ee.RendererSystem,name:"projection"};Le.add(FW);const uve=new lx,RF=new et;class UW{constructor(e){this.renderer=e,this._tempMatrix=new Gt}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(RF))||e.getLocalBounds(RF,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=zh.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=uve,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,a}destroy(){}}UW.extension={type:[Ee.RendererSystem,Ee.CanvasRendererSystem],name:"textureGenerator"};Le.add(UW);const oc=new et,$m=new et;class jW{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new et,this.destinationFrame=new et,this.viewportFrame=new et}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(oc.width=e.frame.width,oc.height=e.frame.height,r=oc),n||($m.x=e.frame.x,$m.y=e.frame.y,$m.width=r.width,$m.height=r.height,n=$m),o=s.framebuffer):(a=i.resolution,r||(oc.width=i._view.screen.width,oc.height=i._view.screen.height,r=oc),n||(n=oc,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Mt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:l,width:c,height:f}=this.viewportFrame;u=Math.round(u),l=Math.round(l),c=Math.round(c),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,l,c,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}jW.extension={type:Ee.RendererSystem,name:"renderTexture"};Le.add(jW);class lve{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function cve(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=AW(e,s.type),a={type:o,name:s.name,size:SW(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function hve(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=AW(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:EW(u,s.size)}}return r}function dve(t,e){var a;const r=wF(t,t.VERTEX_SHADER,e.vertexSrc),n=wF(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||jge(t,i,r,n),e.attributeData=cve(i,t),e.uniformData=hve(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((l,c)=>l>c?1:-1);for(let l=0;l<u.length;l++)e.attributeData[u[l]].location=l,t.bindAttribLocation(i,l,u[l]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const l=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:EW(l.type,l.size)}}return new lve(i,o)}function fve(t,e,r,n,i){r.buffer.update(i)}const pve={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},zW={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function mve(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=zW[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function yve(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function gve(t,e){if(!t.autoManage)return{size:0,syncFunc:fve};const r=yve(t.uniforms,e),{uboElements:n,size:i}=mve(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=t.uniforms[a.data.name],l=a.data.name;let c=!1;for(let f=0;f<Sf.length;f++){const p=Sf[f];if(p.codeUbo&&p.test(a.data,u)){s.push(`offset = ${a.offset/4};`,Sf[f].codeUbo(a.data.name,u)),c=!0;break}}if(!c)if(a.data.size>1){const f=SW(a.data.type),p=Math.max(zW[a.data.type]/16,1),m=f/p,y=(4-m%4)%4;s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${y};
                }

                `)}else{const f=pve[a.data.type];s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let vve=0;const H0={textureCount:0,uboCount:0};class HW{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=vve++}systemCheck(){if(!Hge())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(H0.textureCount=0,H0.uboCount=0,this.syncUniformGroup(e.uniformGroup,H0)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=$ge(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,H0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=gve(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=dve(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}HW.extension={type:Ee.RendererSystem,name:"shader"};Le.add(HW);class aw{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}aw.defaultOptions={hello:!1},aw.extension={type:[Ee.RendererSystem,Ee.CanvasRendererSystem],name:"startup"};Le.add(aw);function _ve(t,e=[]){return e[Ge.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.ADD]=[t.ONE,t.ONE],e[Ge.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.NONE]=[0,0],e[Ge.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ge.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ge.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ge.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ge.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ge.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ge.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ge.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ge.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ge.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const bve=0,wve=1,Eve=2,xve=3,Sve=4,Ave=5,VW=class nO{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ge.NONE,this._blendEq=!1,this.map=[],this.map[bve]=this.setBlend,this.map[wve]=this.setOffset,this.map[Eve]=this.setCullFace,this.map[xve]=this.setDepthTest,this.map[Sve]=this.setFrontFace,this.map[Ave]=this.setDepthMask,this.checks=[],this.defaultState=new ga,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=_ve(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(nO.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(nO.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};VW.extension={type:Ee.RendererSystem,name:"state"};let Tve=VW;Le.add(Tve);class Cve extends Bv{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Zs(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ey=class Bb{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Bb.defaultMaxIdle,this.checkCountMax=Bb.defaultCheckCountMax,this.mode=Bb.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==nM.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};ey.defaultMode=nM.AUTO,ey.defaultMaxIdle=60*60,ey.defaultCheckCountMax=60*10,ey.extension={type:Ee.RendererSystem,name:"textureGC"};let gc=ey;Le.add(gc);class rC{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ze.UNSIGNED_BYTE,this.internalFormat=ge.RGBA,this.samplerType=0}}function Ive(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Se.FLOAT,[t.RGBA]:Se.FLOAT,[t.ALPHA]:Se.FLOAT,[t.LUMINANCE]:Se.FLOAT,[t.LUMINANCE_ALPHA]:Se.FLOAT,[t.R8]:Se.FLOAT,[t.R8_SNORM]:Se.FLOAT,[t.RG8]:Se.FLOAT,[t.RG8_SNORM]:Se.FLOAT,[t.RGB8]:Se.FLOAT,[t.RGB8_SNORM]:Se.FLOAT,[t.RGB565]:Se.FLOAT,[t.RGBA4]:Se.FLOAT,[t.RGB5_A1]:Se.FLOAT,[t.RGBA8]:Se.FLOAT,[t.RGBA8_SNORM]:Se.FLOAT,[t.RGB10_A2]:Se.FLOAT,[t.RGB10_A2UI]:Se.FLOAT,[t.SRGB8]:Se.FLOAT,[t.SRGB8_ALPHA8]:Se.FLOAT,[t.R16F]:Se.FLOAT,[t.RG16F]:Se.FLOAT,[t.RGB16F]:Se.FLOAT,[t.RGBA16F]:Se.FLOAT,[t.R32F]:Se.FLOAT,[t.RG32F]:Se.FLOAT,[t.RGB32F]:Se.FLOAT,[t.RGBA32F]:Se.FLOAT,[t.R11F_G11F_B10F]:Se.FLOAT,[t.RGB9_E5]:Se.FLOAT,[t.R8I]:Se.INT,[t.R8UI]:Se.UINT,[t.R16I]:Se.INT,[t.R16UI]:Se.UINT,[t.R32I]:Se.INT,[t.R32UI]:Se.UINT,[t.RG8I]:Se.INT,[t.RG8UI]:Se.UINT,[t.RG16I]:Se.INT,[t.RG16UI]:Se.UINT,[t.RG32I]:Se.INT,[t.RG32UI]:Se.UINT,[t.RGB8I]:Se.INT,[t.RGB8UI]:Se.UINT,[t.RGB16I]:Se.INT,[t.RGB16UI]:Se.UINT,[t.RGB32I]:Se.INT,[t.RGB32UI]:Se.UINT,[t.RGBA8I]:Se.INT,[t.RGBA8UI]:Se.UINT,[t.RGBA16I]:Se.INT,[t.RGBA16UI]:Se.UINT,[t.RGBA32I]:Se.INT,[t.RGBA32UI]:Se.UINT,[t.DEPTH_COMPONENT16]:Se.FLOAT,[t.DEPTH_COMPONENT24]:Se.FLOAT,[t.DEPTH_COMPONENT32F]:Se.FLOAT,[t.DEPTH_STENCIL]:Se.FLOAT,[t.DEPTH24_STENCIL8]:Se.FLOAT,[t.DEPTH32F_STENCIL8]:Se.FLOAT}:e={[t.RGB]:Se.FLOAT,[t.RGBA]:Se.FLOAT,[t.ALPHA]:Se.FLOAT,[t.LUMINANCE]:Se.FLOAT,[t.LUMINANCE_ALPHA]:Se.FLOAT,[t.DEPTH_STENCIL]:Se.FLOAT},e}function Ove(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ze.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA8,[ge.RGB]:t.RGB8,[ge.RG]:t.RG8,[ge.RED]:t.R8,[ge.RGBA_INTEGER]:t.RGBA8UI,[ge.RGB_INTEGER]:t.RGB8UI,[ge.RG_INTEGER]:t.RG8UI,[ge.RED_INTEGER]:t.R8UI,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ze.BYTE]:{[ge.RGBA]:t.RGBA8_SNORM,[ge.RGB]:t.RGB8_SNORM,[ge.RG]:t.RG8_SNORM,[ge.RED]:t.R8_SNORM,[ge.RGBA_INTEGER]:t.RGBA8I,[ge.RGB_INTEGER]:t.RGB8I,[ge.RG_INTEGER]:t.RG8I,[ge.RED_INTEGER]:t.R8I},[ze.UNSIGNED_SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16UI,[ge.RGB_INTEGER]:t.RGB16UI,[ge.RG_INTEGER]:t.RG16UI,[ge.RED_INTEGER]:t.R16UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ze.SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16I,[ge.RGB_INTEGER]:t.RGB16I,[ge.RG_INTEGER]:t.RG16I,[ge.RED_INTEGER]:t.R16I},[ze.UNSIGNED_INT]:{[ge.RGBA_INTEGER]:t.RGBA32UI,[ge.RGB_INTEGER]:t.RGB32UI,[ge.RG_INTEGER]:t.RG32UI,[ge.RED_INTEGER]:t.R32UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ze.INT]:{[ge.RGBA_INTEGER]:t.RGBA32I,[ge.RGB_INTEGER]:t.RGB32I,[ge.RG_INTEGER]:t.RG32I,[ge.RED_INTEGER]:t.R32I},[ze.FLOAT]:{[ge.RGBA]:t.RGBA32F,[ge.RGB]:t.RGB32F,[ge.RG]:t.RG32F,[ge.RED]:t.R32F,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ze.HALF_FLOAT]:{[ge.RGBA]:t.RGBA16F,[ge.RGB]:t.RGB16F,[ge.RG]:t.RG16F,[ge.RED]:t.R16F},[ze.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB565},[ze.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA4},[ze.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGB5_A1},[ze.UNSIGNED_INT_2_10_10_10_REV]:{[ge.RGBA]:t.RGB10_A2,[ge.RGBA_INTEGER]:t.RGB10_A2UI},[ze.UNSIGNED_INT_10F_11F_11F_REV]:{[ge.RGB]:t.R11F_G11F_B10F},[ze.UNSIGNED_INT_5_9_9_9_REV]:{[ge.RGB]:t.RGB9_E5},[ze.UNSIGNED_INT_24_8]:{[ge.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ze.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ge.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ze.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA,[ge.RGB]:t.RGB,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ze.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB},[ze.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA},[ze.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGBA}},e}class GW{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Je,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Ove(e),this.samplerTypes=Ive(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new rC(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new rC(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Se.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new rC(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??Se.FLOAT,this.webGLVersion===2&&e.type===ze.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==Se.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&xf(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ha.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Wa.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==ha.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ii.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ii.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ii.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ii.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}GW.extension={type:Ee.RendererSystem,name:"texture"};Le.add(GW);class WW{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}WW.extension={type:Ee.RendererSystem,name:"transformFeedback"};Le.add(WW);class uw{constructor(e){this.renderer=e}init(e){this.screen=new et(0,0,e.width,e.height),this.element=e.view||Te.ADAPTER.createCanvas(),this.resolution=e.resolution||Te.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}uw.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},uw.extension={type:[Ee.RendererSystem,Ee.CanvasRendererSystem],name:"_view"};Le.add(uw);Te.PREFER_ENV=Uh.WEBGL2;Te.STRICT_TEXTURE_CACHE=!1;Te.RENDER_OPTIONS={...ow.defaultOptions,...sw.defaultOptions,...uw.defaultOptions,...aw.defaultOptions};Object.defineProperties(Te,{WRAP_MODE:{get(){return Je.defaultOptions.wrapMode},set(t){st("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Je.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Je.defaultOptions.scaleMode},set(t){st("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Je.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Je.defaultOptions.mipmap},set(t){st("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Je.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Je.defaultOptions.anisotropicLevel},set(t){st("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Je.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return st("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Un.defaultResolution},set(t){Un.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return st("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Un.defaultMultisample},set(t){Un.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return yc.defaultMaxTextures},set(t){st("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),yc.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return yc.defaultBatchSize},set(t){st("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),yc.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return yc.canUploadSameBuffer},set(t){st("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),yc.canUploadSameBuffer=t}},GC_MODE:{get(){return gc.defaultMode},set(t){st("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),gc.defaultMode=t}},GC_MAX_IDLE:{get(){return gc.defaultMaxIdle},set(t){st("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),gc.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return gc.defaultCheckCountMax},set(t){st("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),gc.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Va.defaultVertexPrecision},set(t){st("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Va.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Va.defaultFragmentPrecision},set(t){st("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Va.defaultFragmentPrecision=t}}});var Il=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Il||{});class nC{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const qW=class vi{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new nC(null,null,1/0),this.deltaMS=1/vi.targetFPMS,this.elapsedMS=1/vi.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Il.NORMAL){return this._addListener(new nC(e,r,n))}addOnce(e,r,n=Il.NORMAL){return this._addListener(new nC(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*vi.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,vi.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!vi._shared){const e=vi._shared=new vi;e.autoStart=!0,e._protected=!0}return vi._shared}static get system(){if(!vi._system){const e=vi._system=new vi;e.autoStart=!0,e._protected=!0}return vi._system}};qW.targetFPMS=.06;let qr=qW;Object.defineProperties(Te,{TARGET_FPMS:{get(){return qr.targetFPMS},set(t){st("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),qr.targetFPMS=t}}});class ZW{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Il.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?qr.shared:new qr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}ZW.extension=Ee.Application;Le.add(ZW);const XW=[];Le.handleByList(Ee.Renderer,XW);function Rve(t){for(const e of XW)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var kve=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Pve=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Nve=kve,YW=Pve;class QW{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=_r.HIGH?this.multisample=_r.HIGH:r>=_r.MEDIUM?this.multisample=_r.MEDIUM:r>=_r.LOW?this.multisample=_r.LOW:this.multisample=_r.NONE}destroy(){}}QW.extension={type:Ee.RendererSystem,name:"_multisample"};Le.add(QW);class Mve{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class KW{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Mve(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}KW.extension={type:Ee.RendererSystem,name:"buffer"};Le.add(KW);class JW{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}JW.extension={type:Ee.RendererSystem,name:"objectRenderer"};Le.add(JW);const Lb=class iO extends Cve{constructor(e){super(),this.type=VG.WEBGL,e=Object.assign({},Te.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Xs({projectionMatrix:new Gt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:iO.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(st("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=iO.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:nge()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return st("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return st("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return st("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return st("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){st("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return st("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){st("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return st("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Lb.extension={type:Ee.Renderer,priority:1},Lb.__plugins={},Lb.__systems={};let mM=Lb;Le.handleByMap(Ee.RendererPlugin,mM.__plugins);Le.handleByMap(Ee.RendererSystem,mM.__systems);Le.add(mM);class eq extends Pg{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Je;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Pg?this.addResourceAt(e[n],n):this.addResourceAt(_W(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class Dve extends eq{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=bf.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const l=o[u];s[u]<l.dirtyId&&(s[u]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,r.format,n.type,l.resource.source))}return!0}}class Bve extends Cl{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const tq=class ty extends eq{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==ty.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<ty.SIDES;a++)this.items[a].target=bf.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=bf.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=bf.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<ty.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===ty.SIDES}};tq.SIDES=6;let Lve=tq;class rf extends Cl{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=rf.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await Te.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ui.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return rf._EMPTY=rf._EMPTY??Te.ADAPTER.createCanvas(0,0),rf._EMPTY}}const sO=class $b extends Cl{constructor(e,r){r=r||{},super(Te.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},$b.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Cl.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${gh()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=$b.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&$b.SVG_XML.test(e)}};sO.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,sO.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let oO=sO;const aO=class uO extends Cl{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Cl.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:u}=e[s];if(a=a||e[s],a.startsWith("data:"))u=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const l=a.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);u=u||uO.MIME_TYPES[c]||`video/${c}`}o.src=a,u&&(o.type=u),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=qr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(qr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||uO.TYPES.includes(r)}};aO.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],aO.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let rq=aO;Z2.push(rf,IW,Bve,rq,oO,sx,Lve,Dve);class lw{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?et.EMPTY:(e=e||new et(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=e,l=n*r.x+s*r.y+a,c=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,u=e.c,l=e.d,c=e.tx,f=e.ty;let p=this.minX,m=this.minY,y=this.maxX,g=this.maxY,b=o*r+u*n+c,_=a*r+l*n+f;p=b<p?b:p,m=_<m?_:m,y=b>y?b:y,g=_>g?_:g,b=o*i+u*n+c,_=a*i+l*n+f,p=b<p?b:p,m=_<m?_:m,y=b>y?b:y,g=_>g?_:g,b=o*r+u*s+c,_=a*r+l*s+f,p=b<p?b:p,m=_<m?_:m,y=b>y?b:y,g=_>g?_:g,b=o*i+u*s+c,_=a*i+l*s+f,p=b<p?b:p,m=_<m?_:m,y=b>y?b:y,g=_>g?_:g,this.minX=p,this.minY=m,this.maxX=y,this.maxY=g}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=r;u<n;u+=2){const l=e[u],c=e[u+1];i=l<i?l:i,s=c<s?c:s,o=l>o?l:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,u=e.b,l=e.c,c=e.d,f=e.tx,p=e.ty;let m=this.minX,y=this.minY,g=this.maxX,b=this.maxY;for(let _=n;_<i;_+=2){const w=r[_],E=r[_+1],x=a*w+l*E+f,N=c*E+u*w+p;m=Math.min(m,x-s),g=Math.max(g,x+s),y=Math.min(y,N-o),b=Math.max(b,N+o)}this.minX=m,this.minY=y,this.maxX=g,this.maxY=b}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>c?o:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>c?o:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Qt extends Bv{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new lx,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new lw,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Qt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new et),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new et),e=this._localBoundsRect),this._localBounds||(this._localBounds=new lw);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,u=0,l=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new $ve),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*kge}set angle(e){this.transform.rotation=e*Pge}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class $ve extends Qt{constructor(){super(...arguments),this.sortDirty=null}}Qt.prototype.displayObjectUpdateTransform=Qt.prototype.updateTransform;const Fve=new Gt;function Uve(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const nq=class lO extends Qt{constructor(){super(),this.children=[],this.sortableChildren=lO.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);xf(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,xf(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,xf(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Uve),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==lO.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=Fve.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const u=this.children[o],l=u.cullable;u.cullable=l||!this.cullArea,u.render(e),u.cullable=l}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<r.length;u++)r[u].enabled&&this._enabledFilters.push(r[u])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Cr.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let u=0,l=this.children.length;u<l;++u)this.children[u].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};nq.defaultSortableChildren=!1;let Wn=nq;Wn.prototype.containerUpdateTransform=Wn.prototype.updateTransform;Object.defineProperties(Te,{SORTABLE_CHILDREN:{get(){return Wn.defaultSortableChildren},set(t){st("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Wn.defaultSortableChildren=t}}});var hx=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(hx||{});const Fm=new ut,jve=new Uint16Array([0,1,2,0,2,3]);class va extends Wn{constructor(e){super(),this._anchor=new Xo(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Mt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ge.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||be.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=jve,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Te.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=qu(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=qu(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,l=this.vertexData,c=e.trim,f=e.orig,p=this._anchor;let m=0,y=0,g=0,b=0;if(c?(y=c.x-p._x*f.width,m=y+c.width,b=c.y-p._y*f.height,g=b+c.height):(y=-p._x*f.width,m=y+f.width,b=-p._y*f.height,g=b+f.height),l[0]=n*y+s*b+a,l[1]=o*b+i*y+u,l[2]=n*m+s*b+a,l[3]=o*b+i*m+u,l[4]=n*m+s*g+a,l[5]=o*g+i*m+u,l[6]=n*y+s*g+a,l[7]=o*g+i*y+u,this._roundPixels){const _=Te.RESOLUTION;for(let w=0;w<l.length;++w)l[w]=Math.round(l[w]*_)/_}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,l=s.d,c=s.tx,f=s.ty,p=-i._x*n.width,m=p+n.width,y=-i._y*n.height,g=y+n.height;if(r[0]=o*p+u*y+c,r[1]=l*y+a*p+f,r[2]=o*m+u*y+c,r[3]=l*y+a*m+f,r[4]=o*m+u*g+c,r[5]=l*g+a*m+f,r[6]=o*p+u*g+c,r[7]=l*g+a*p+f,this._roundPixels){const b=Te.RESOLUTION;for(let _=0;_<r.length;++_)r[_]=Math.round(r[_]*b)/b}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new lw),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new et),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Fm);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Fm.x>=i&&Fm.x<i+r&&(s=-n*this.anchor.y,Fm.y>=s&&Fm.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof be?e:be.from(e,r);return new va(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=qu(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=qu(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||be.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const V0={willReadFrequently:!0},Do=class Ue{static get experimentalLetterSpacingSupported(){let e=Ue._experimentalLetterSpacingSupported;if(e!==void 0){const r=Te.ADAPTER.getCanvasRenderingContext2D().prototype;e=Ue._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,u,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=l}static measureText(e,r,n,i=Ue._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=Ue.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",V0);a.font=s;const u=(n?Ue.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length);let c=0;for(let y=0;y<u.length;y++){const g=Ue._measureText(u[y],r.letterSpacing,a);l[y]=g,c=Math.max(c,g)}let f=c+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let m=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(u.length-1)*(p+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new Ue(e,r,f,m,u,l,p+r.leading,c,o)}static _measureText(e,r,n){let i=!1;Ue.experimentalLetterSpacingSupported&&(Ue.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(Ue.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=Ue._canvas){const i=n.getContext("2d",V0);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:l,whiteSpace:c}=r,f=Ue.collapseSpaces(c),p=Ue.collapseNewlines(c);let m=!f;const y=r.wordWrapWidth+l,g=Ue.tokenize(e);for(let b=0;b<g.length;b++){let _=g[b];if(Ue.isNewline(_)){if(!p){a+=Ue.addLine(o),m=!f,o="",s=0;continue}_=" "}if(f){const E=Ue.isBreakingSpace(_),x=Ue.isBreakingSpace(o[o.length-1]);if(E&&x)continue}const w=Ue.getFromCache(_,l,u,i);if(w>y)if(o!==""&&(a+=Ue.addLine(o),o="",s=0),Ue.canBreakWords(_,r.breakWords)){const E=Ue.wordWrapSplit(_);for(let x=0;x<E.length;x++){let N=E[x],M=N,R=1;for(;E[x+R];){const W=E[x+R];if(!Ue.canBreakChars(M,W,_,x,r.breakWords))N+=W;else break;M=W,R++}x+=R-1;const D=Ue.getFromCache(N,l,u,i);D+s>y&&(a+=Ue.addLine(o),m=!1,o="",s=0),o+=N,s+=D}}else{o.length>0&&(a+=Ue.addLine(o),o="",s=0);const E=b===g.length-1;a+=Ue.addLine(_,!E),m=!1,o="",s=0}else w+s>y&&(m=!1,a+=Ue.addLine(o),o="",s=0),(o.length>0||!Ue.isBreakingSpace(_)||m)&&(o+=_,s+=w)}return a+=Ue.addLine(o,!1),a}static addLine(e,r=!0){return e=Ue.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=Ue._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!Ue.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Ue._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:Ue._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(Ue.isBreakingSpace(s,o)||Ue.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return Ue.graphemeSegmenter(e)}static measureFont(e){if(Ue._fonts[e])return Ue._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=Ue._canvas,i=Ue._context;i.font=e;const s=Ue.METRICS_STRING+Ue.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(Ue.BASELINE_SYMBOL).width);const u=Math.ceil(Ue.HEIGHT_MULTIPLIER*a);if(a=a*Ue.BASELINE_MULTIPLIER|0,o===0||u===0)return Ue._fonts[e]=r,r;n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const l=i.getImageData(0,0,o,u).data,c=l.length,f=o*4;let p=0,m=0,y=!1;for(p=0;p<a;++p){for(let g=0;g<f;g+=4)if(l[m+g]!==255){y=!0;break}if(!y)m+=f;else break}for(r.ascent=a-p,m=c-f,y=!1,p=u;p>a;--p){for(let g=0;g<f;g+=4)if(l[m+g]!==255){y=!0;break}if(!y)m-=f;else break}return r.descent=p-a,r.fontSize=r.ascent+r.descent,Ue._fonts[e]=r,r}static clearMetrics(e=""){e?delete Ue._fonts[e]:Ue._fonts={}}static get _canvas(){var e;if(!Ue.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",V0))!=null&&e.measureText)return Ue.__canvas=n,n;r=Te.ADAPTER.createCanvas()}catch{r=Te.ADAPTER.createCanvas()}r.width=r.height=10,Ue.__canvas=r}return Ue.__canvas}static get _context(){return Ue.__context||(Ue.__context=Ue._canvas.getContext("2d",V0)),Ue.__context}};Do.METRICS_STRING="|ÉqÅ",Do.BASELINE_SYMBOL="M",Do.BASELINE_MULTIPLIER=1.4,Do.HEIGHT_MULTIPLIER=2,Do.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Do.experimentalLetterSpacing=!1,Do._fonts={},Do._newlines=[10,13],Do._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Mu=Do;const zve=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],iq=class ry{constructor(e){this.styleID=0,this.reset(),sC(this,e,e)}clone(){const e={};return sC(e,this,ry.defaultStyle),new ry(e)}reset(){sC(this,ry.defaultStyle,ry.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=iC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=iC(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Hve(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=iC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!zve.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};iq.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:hx.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Ol=iq;function iC(t){const e=Mt.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function Hve(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function sC(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const Vve={texture:!0,children:!1,baseTexture:!0},sq=class cO extends va{constructor(e,r,n){let i=!1;n||(n=Te.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=be.from(n);s.orig=new et,s.trim=new et,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=cO.defaultResolution??Te.RESOLUTION,this._autoResolution=cO.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Mu.experimentalLetterSpacing}static set experimentalLetterSpacing(e){st("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Mu.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Mu.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,u=i.lineHeight,l=i.lineWidths,c=i.maxLineWidth,f=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let p,m;const y=r.dropShadow?2:1;for(let g=0;g<y;++g){const b=r.dropShadow&&g===0,_=b?Math.ceil(Math.max(1,o)+r.padding*2):0,w=_*this._resolution;if(b){n.fillStyle="black",n.strokeStyle="black";const x=r.dropShadowColor,N=r.dropShadowBlur*this._resolution,M=r.dropShadowDistance*this._resolution;n.shadowColor=Mt.shared.setValue(x).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=N,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*M,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*M+w}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let E=(u-f.fontSize)/2;u-f.fontSize<0&&(E=0);for(let x=0;x<a.length;x++)p=r.strokeThickness/2,m=r.strokeThickness/2+x*u+f.ascent+E,r.align==="right"?p+=c-l[x]:r.align==="center"&&(p+=(c-l[x])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[x],p+r.padding,m+r.padding-_,!0),r.fill&&this.drawLetterSpacing(a[x],p+r.padding,m+r.padding-_)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Mu.experimentalLetterSpacingSupported&&(Mu.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const u=Mu.graphemeSegmenter(e);let l=this.context.measureText(e).width,c=0;for(let f=0;f<u.length;++f){const p=u[f];i?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let y=f+1;y<u.length;++y)m+=u[y];c=this.context.measureText(m).width,a+=l-c+s,l=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=bge(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,u=this.canvas.width/this._resolution-o-a*2,l=this.canvas.height/this._resolution-o-a*2,c=i.slice(),f=e.fillGradientStops.slice();if(!f.length){const p=c.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(c.unshift(i[0]),f.unshift(0),c.push(i[i.length-1]),f.push(1),e.fillGradientType===hx.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,a,u/2,l+a);const p=n.fontProperties.fontSize+e.strokeThickness;for(let m=0;m<r.length;m++){const y=n.lineHeight*(m-1)+p,g=n.lineHeight*m;let b=g;m>0&&y>g&&(b=(g+y)/2);const _=g+p,w=n.lineHeight*(m+1);let E=_;m+1<r.length&&w<_&&(E=(_+w)/2);const x=(E-b)/l;for(let N=0;N<c.length;N++){let M=0;typeof f[N]=="number"?M=f[N]:M=N/c.length;let R=Math.min(1,Math.max(0,b/l+M*x));R=Number(R.toFixed(5)),s.addColorStop(R,c[N])}}}else{s=this.context.createLinearGradient(a,l/2,u+a,l/2);const p=c.length+1;let m=1;for(let y=0;y<c.length;y++){let g;typeof f[y]=="number"?g=f[y]:g=m/p,s.addColorStop(g,c[y]),m++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Vve,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=qu(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=qu(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Ol?this._style=e:this._style=new Ol(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};sq.defaultAutoResolution=!0;let yM=sq;class cw{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Fb{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const l in a){const c=a[l].split("="),f=c[0],p=c[1].replace(/"/gm,""),m=parseFloat(p),y=isNaN(m)?p:m;u[f]=y}n[o].push(u)}const i=new cw;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class hO{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new cw,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(let l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(let l=0;l<s.length;l++)r.page.push({id:parseInt(s[l].getAttribute("id"),10)||0,file:s[l].getAttribute("file")});for(let l=0;l<o.length;l++){const c=o[l];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let l=0;l<a.length;l++)r.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(let l=0;l<u.length;l++)r.distanceField.push({fieldType:u[l].getAttribute("fieldType"),distanceRange:parseInt(u[l].getAttribute("distanceRange"),10)});return r}}class dO{static test(e){return typeof e=="string"&&e.includes("<font>")?hO.test(Te.ADAPTER.parseXML(e)):!1}static parse(e){return hO.parse(Te.ADAPTER.parseXML(e))}}const oC=[Fb,hO,dO];function Gve(t){for(let e=0;e<oC.length;e++)if(oC[e].test(t))return oC[e];return null}function Wve(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=t.width/n-u-l*2,f=t.height/n-u-l*2,p=o.slice(),m=r.fillGradientStops.slice();if(!m.length){const y=p.length+1;for(let g=1;g<y;++g)m.push(g/y)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),r.fillGradientType===hx.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,l,c/2,f+l);let y=0;const g=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let b=0;b<i.length;b++){const _=s.lineHeight*b;for(let w=0;w<p.length;w++){let E=0;typeof m[w]=="number"?E=m[w]:E=w/p.length;const x=_/f+E*g;let N=Math.max(y,x);N=Math.min(N,1),a.addColorStop(N,p[w]),y=N}}}else{a=e.createLinearGradient(l,f/2,c+l,f/2);const y=p.length+1;let g=1;for(let b=0;b<p.length;b++){let _;typeof m[b]=="number"?_=m[b]:_=g/y,a.addColorStop(_,p[b]),g++}}return a}function qve(t,e,r,n,i,s,o){const a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(s,s);const l=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Wve(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=o.dropShadowBlur*s,m=o.dropShadowDistance*s;e.shadowColor=Mt.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,l,c+r.lineHeight-u.descent),o.fill&&e.fillText(a,l,c+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ub(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function oq(t){return Array.from?Array.from(t):t.split("")}function Zve(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...oq(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Cu=class Bo{constructor(e,r,n){var c;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,u=ru(o.file),l={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=l;for(let f=0;f<e.page.length;f++){const{id:p,file:m}=e.page[f];l[p]=r instanceof Array?r[f]:r[m],a!=null&&a.fieldType&&a.fieldType!=="none"&&(l[p].baseTexture.alphaMode=ui.NO_PREMULTIPLIED_ALPHA,l[p].baseTexture.mipmap=ha.OFF)}for(let f=0;f<e.char.length;f++){const{id:p,page:m}=e.char[f];let{x:y,y:g,width:b,height:_,xoffset:w,yoffset:E,xadvance:x}=e.char[f];y/=u,g/=u,b/=u,_/=u,w/=u,E/=u,x/=u;const N=new et(y+l[m].frame.x/u,g+l[m].frame.y/u,b,_);this.chars[p]={xOffset:w,yOffset:E,xAdvance:x,kerning:{},texture:new be(l[m].baseTexture,N),page:m}}for(let f=0;f<e.kerning.length;f++){let{first:p,second:m,amount:y}=e.kerning[f];p/=u,m/=u,y/=u,this.chars[m]&&(this.chars[m].kerning[p]=y)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((c=a==null?void 0:a.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof cw)i=e;else{const o=Gve(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof be&&(r=[r]);const s=new Bo(i,r,n);return Bo.available[s.font]=s,s}static uninstall(e){const r=Bo.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Bo.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:u,...l}=Object.assign({},Bo.defaultOptions,n),c=Zve(i),f=r instanceof Ol?r:new Ol(r),p=a,m=new cw;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let y=0,g=0,b,_,w,E=0;const x=[];for(let M=0;M<c.length;M++){b||(b=Te.ADAPTER.createCanvas(),b.width=a,b.height=u,_=b.getContext("2d"),w=new Je(b,{resolution:o,...l}),x.push(new be(w)),m.page.push({id:x.length-1,file:""}));const R=c[M],D=Mu.measureText(R,f,!1,b),W=D.width,G=Math.ceil(D.height),U=Math.ceil((f.fontStyle==="italic"?2:1)*W);if(g>=u-G*o){if(g===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--M,b=null,_=null,w=null,g=0,y=0,E=0;continue}if(E=Math.max(G+D.fontProperties.descent,E),U*o+y>=p){if(y===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--M,g+=E*o,g=Math.ceil(g),y=0,E=0;continue}qve(b,_,D,y,g,o,f);const X=Ub(D.text);m.char.push({id:X,page:x.length-1,x:y/o,y:g/o,width:U,height:G,xoffset:0,yoffset:0,xadvance:W-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),y+=(U+2*s)*o,y=Math.ceil(y)}if(!(n!=null&&n.skipKerning))for(let M=0,R=c.length;M<R;M++){const D=c[M];for(let W=0;W<R;W++){const G=c[W],U=_.measureText(D).width,X=_.measureText(G).width,B=_.measureText(D+G).width-(U+X);B&&m.kerning.push({first:Ub(D),second:Ub(G),amount:B})}}const N=new Bo(m,x,!0);return Bo.available[e]!==void 0&&Bo.uninstall(e),Bo.available[e]=N,N}};Cu.ALPHA=[["a","z"],["A","Z"]," "],Cu.NUMERIC=[["0","9"]],Cu.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Cu.ASCII=[[" ","~"]],Cu.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Cu.ALPHANUMERIC},Cu.available={};let Iu=Cu;class Xve{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const aC=new ut,kF=new Wc,aq=class uq extends Wn{constructor(e,r,n,i=js.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||ga.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Te.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===js.TRIANGLES&&r.length<uq.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,l=i.tx,c=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=r[p*2],y=r[p*2+1];f[p*2]=s*m+a*y+l,f[p*2+1]=o*m+u*y+c}if(this._roundPixels){const p=Te.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Xve(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,aC);const r=this.geometry.getBuffer("aVertexPosition").data,n=kF.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const u=i[a]*2,l=i[a+1]*2,c=i[a+2]*2;if(n[0]=r[u],n[1]=r[u+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[c],n[5]=r[c+1],kF.contains(aC.x,aC.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};aq.BATCHABLE_SIZE=100;let Ng=aq;class dx extends Tl{constructor(e,r,n){super();const i=new pr(e),s=new pr(r,!0),o=new pr(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ze.FLOAT).addAttribute("aTextureCoord",s,2,!1,ze.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Yve=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Qve=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Mg extends ia{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Gt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Va.from(Qve,Yve),n),this._colorDirty=!1,this.uvMatrix=new pM(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Mt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Mt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var Kve=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Jve=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const PF=[],NF=[],MF=[],lq=class cq extends Wn{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:u}=Object.assign({},cq.styleDefaults,r);if(!Iu.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Mt(i),this._font=void 0,this._fontName=a,this._fontSize=u,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Xo(()=>{this.dirty=!0},this,0,0),this._roundPixels=Te.ROUND_PIXELS,this.dirty=!0,this._resolution=Te.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var U;const e=Iu.available[this._fontName],r=this.fontSize,n=r/e.size,i=new ut,s=[],o=[],a=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=oq(u),c=this._maxWidth*e.size/r,f=e.distanceFieldType==="none"?PF:NF;let p=null,m=0,y=0,g=0,b=-1,_=0,w=0,E=0,x=0;for(let X=0;X<l.length;X++){const B=l[X],j=Ub(B);if(/(?:\s)/.test(B)&&(b=X,_=m,x++),B==="\r"||B===`
`){o.push(m),a.push(-1),y=Math.max(y,m),++g,++w,i.x=0,i.y+=e.lineHeight,p=null,x=0;continue}const C=e.chars[j];if(!C)continue;p&&C.kerning[p]&&(i.x+=C.kerning[p]);const P=MF.pop()||{texture:be.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ut};P.texture=C.texture,P.line=g,P.charCode=j,P.position.x=Math.round(i.x+C.xOffset+this._letterSpacing/2),P.position.y=Math.round(i.y+C.yOffset),P.prevSpaces=x,s.push(P),m=P.position.x+Math.max(C.xAdvance-C.xOffset,C.texture.orig.width),i.x+=C.xAdvance+this._letterSpacing,E=Math.max(E,C.yOffset+C.texture.height),p=j,b!==-1&&c>0&&i.x>c&&(++w,xf(s,1+b-w,1+X-b),X=b,b=-1,o.push(_),a.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,_),g++,i.x=0,i.y+=e.lineHeight,p=null,x=0)}const N=l[l.length-1];N!=="\r"&&N!==`
`&&(/(?:\s)/.test(N)&&(m=_),o.push(m),y=Math.max(y,m),a.push(-1));const M=[];for(let X=0;X<=g;X++){let B=0;this._align==="right"?B=y-o[X]:this._align==="center"?B=(y-o[X])/2:this._align==="justify"&&(B=a[X]<0?0:(y-o[X])/a[X]),M.push(B)}const R=s.length,D={},W=[],G=this._activePagesMeshData;f.push(...G);for(let X=0;X<R;X++){const B=s[X].texture,j=B.baseTexture.uid;if(!D[j]){let C=f.pop();if(!C){const O=new dx;let k,F;e.distanceFieldType==="none"?(k=new Mg(be.EMPTY),F=Ge.NORMAL):(k=new Mg(be.EMPTY,{program:Va.from(Jve,Kve),uniforms:{uFWidth:0}}),F=Ge.NORMAL_NPM);const $=new Ng(O,k);$.blendMode=F,C={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:$,vertices:null,uvs:null,indices:null}}C.index=0,C.indexCount=0,C.vertexCount=0,C.uvsCount=0,C.total=0;const{_textureCache:P}=this;P[j]=P[j]||new be(B.baseTexture),C.mesh.texture=P[j],C.mesh.tint=this._tintColor.value,W.push(C),D[j]=C}D[j].total++}for(let X=0;X<G.length;X++)W.includes(G[X])||this.removeChild(G[X].mesh);for(let X=0;X<W.length;X++)W[X].mesh.parent!==this&&this.addChild(W[X].mesh);this._activePagesMeshData=W;for(const X in D){const B=D[X],j=B.total;if(!(((U=B.indices)==null?void 0:U.length)>6*j)||B.vertices.length<Ng.BATCHABLE_SIZE*2)B.vertices=new Float32Array(4*2*j),B.uvs=new Float32Array(4*2*j),B.indices=new Uint16Array(6*j);else{const C=B.total,P=B.vertices;for(let O=C*4*2;O<P.length;O++)P[O]=0}B.mesh.size=6*j}for(let X=0;X<R;X++){const B=s[X];let j=B.position.x+M[B.line]*(this._align==="justify"?B.prevSpaces:1);this._roundPixels&&(j=Math.round(j));const C=j*n,P=B.position.y*n,O=B.texture,k=D[O.baseTexture.uid],F=O.frame,$=O._uvs,z=k.index++;k.indices[z*6+0]=0+z*4,k.indices[z*6+1]=1+z*4,k.indices[z*6+2]=2+z*4,k.indices[z*6+3]=0+z*4,k.indices[z*6+4]=2+z*4,k.indices[z*6+5]=3+z*4,k.vertices[z*8+0]=C,k.vertices[z*8+1]=P,k.vertices[z*8+2]=C+F.width*n,k.vertices[z*8+3]=P,k.vertices[z*8+4]=C+F.width*n,k.vertices[z*8+5]=P+F.height*n,k.vertices[z*8+6]=C,k.vertices[z*8+7]=P+F.height*n,k.uvs[z*8+0]=$.x0,k.uvs[z*8+1]=$.y0,k.uvs[z*8+2]=$.x1,k.uvs[z*8+3]=$.y1,k.uvs[z*8+4]=$.x2,k.uvs[z*8+5]=$.y2,k.uvs[z*8+6]=$.x3,k.uvs[z*8+7]=$.y3}this._textWidth=y*n,this._textHeight=(i.y+e.lineHeight)*n;for(const X in D){const B=D[X];if(this.anchor.x!==0||this.anchor.y!==0){let O=0;const k=this._textWidth*this.anchor.x,F=this._textHeight*this.anchor.y;for(let $=0;$<B.total;$++)B.vertices[O++]-=k,B.vertices[O++]-=F,B.vertices[O++]-=k,B.vertices[O++]-=F,B.vertices[O++]-=k,B.vertices[O++]-=F,B.vertices[O++]-=k,B.vertices[O++]-=F}this._maxLineHeight=E*n;const j=B.mesh.geometry.getBuffer("aVertexPosition"),C=B.mesh.geometry.getBuffer("aTextureCoord"),P=B.mesh.geometry.getIndex();j.data=B.vertices,C.data=B.uvs,P.data=B.indices,j.update(),C.update(),P.update()}for(let X=0;X<s.length;X++)MF.push(s[X]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Iu.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:u}=this.worldTransform,l=Math.sqrt(s*s+o*o),c=Math.sqrt(a*a+u*u),f=(Math.abs(l)+Math.abs(c))/2,p=this.fontSize/i,m=e._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=f*r*p*m}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Iu.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Iu.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Iu.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Iu.available[this._fontName].distanceFieldType==="none"?PF:NF;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=be.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};lq.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let e_e=lq;const DF={loader:Ee.LoadParser,resolver:Ee.ResolveParser,cache:Ee.CacheParser,detection:Ee.DetectionParser};Le.handle(Ee.Asset,t=>{const e=t.ref;Object.entries(DF).filter(([r])=>!!e[r]).forEach(([r,n])=>Le.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(DF).filter(r=>!!e[r]).forEach(r=>Le.remove(e[r]))});class t_e{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Vp(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Vl(t,e){const r=t.split("?")[0],n=Pr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Us=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),fO=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function hq(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?hq(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function r_e(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),hq(t,i,0,r,n)}else n.push(t);return n}const hw=t=>!Array.isArray(t);class n_e{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Us(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof be){const a=r;n.forEach(u=>{a.baseTexture!==be.EMPTY.baseTexture&&Je.addToCache(a.baseTexture,u),be.addToCache(a,u)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Sc=new n_e;class i_e{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.load&&((o=l.test)!=null&&o.call(l,e,r,this))){s=l;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,i,r,this))&&(i=await l.parse(i,r,this)||i,n.parser=l)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=hw(e),o=Us(e,l=>({alias:[l],src:l})),a=o.length,u=o.map(async l=>{const c=Pr.toAbsolute(l.src);if(!i[l.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,l)),i[l.src]=await this.promiseCache[c].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[c],delete i[l.src],new Error(`[Loader.load] Failed to load ${c}.
${f}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const r=Us(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Pr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const u=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,u,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var po=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(po||{});const s_e=".json",o_e="application/json",a_e={extension:{type:Ee.LoadParser,priority:po.Low},name:"loadJson",test(t){return Vp(t,o_e)||Vl(t,s_e)},async load(t){return await(await Te.ADAPTER.fetch(t)).json()}};Le.add(a_e);const u_e=".txt",l_e="text/plain",c_e={name:"loadTxt",extension:{type:Ee.LoadParser,priority:po.Low},test(t){return Vp(t,l_e)||Vl(t,u_e)},async load(t){return await(await Te.ADAPTER.fetch(t)).text()}};Le.add(c_e);const h_e=["normal","bold","100","200","300","400","500","600","700","800","900"],d_e=[".ttf",".otf",".woff",".woff2"],f_e=["font/ttf","font/otf","font/woff","font/woff2"],p_e=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function m_e(t){const e=Pr.extname(t),r=Pr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(p_e)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const y_e=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function g_e(t){return y_e.test(t)?t:encodeURI(t)}const v_e={extension:{type:Ee.LoadParser,priority:po.Low},name:"loadWebFont",test(t){return Vp(t,f_e)||Vl(t,d_e)},async load(t,e){var n,i,s;const r=Te.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??m_e(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>h_e.includes(c)))??["normal"],l=e.data??{};for(let c=0;c<u.length;c++){const f=u[c],p=new FontFace(a,`url(${g_e(t)})`,{...l,weight:f});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Te.ADAPTER.getFontFaceSet().delete(e))}};Le.add(v_e);let BF=0,uC;const __e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",b_e={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${__e}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},w_e={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let lC;class E_e{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([b_e.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){uC===void 0&&(uC=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<uC&&(lC||(lC=URL.createObjectURL(new Blob([w_e.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(lC),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[BF]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:BF++,id:n})}}const LF=new E_e;function $v(t,e,r){t.resource.internal=!0;const n=new be(t),i=()=>{delete e.promiseCache[r],Sc.has(r)&&Sc.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const x_e=[".jpeg",".jpg",".png",".webp",".avif"],S_e=["image/jpeg","image/png","image/webp","image/avif"];async function A_e(t){const e=await Te.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const fx={name:"loadTextures",extension:{type:Ee.LoadParser,priority:po.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Vp(t,S_e)||Vl(t,x_e)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await LF.isImageBitmapSupported()?i=await LF.loadImageBitmap(t):i=await A_e(t):i=await new Promise((u,l)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=t,c.complete?u(c):(c.onload=()=>u(c),c.onerror=f=>l(f))});const s={...e.data};s.resolution??(s.resolution=ru(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Je(i,s);return o.resource.src=t,$v(o,r,t)},unload(t){t.destroy(!0)}};Le.add(fx);const T_e=".svg",C_e="image/svg+xml",I_e={extension:{type:Ee.LoadParser,priority:po.High},name:"loadSVG",test(t){return Vp(t,C_e)||Vl(t,T_e)},async testParse(t){return oO.test(t)},async parse(t,e,r){var s;const n=new oO(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Je(n,{resolution:ru(t),...e==null?void 0:e.data});return i.resource.src=e.src,$v(i,r,e.src)},async load(t,e){return(await Te.ADAPTER.fetch(t)).text()},unload:fx.unload};Le.add(I_e);const O_e=[".mp4",".m4v",".webm",".ogv"],R_e=["video/mp4","video/webm","video/ogg"],k_e={name:"loadVideo",extension:{type:Ee.LoadParser,priority:po.High},config:{defaultAutoPlay:!0},test(t){return Vp(t,R_e)||Vl(t,O_e)},async load(t,e,r){var o;let n;const i=await(await Te.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},u=new rq(s,a);await u.load();const l=new Je(u,{alphaMode:await rge(),resolution:ru(t),...e==null?void 0:e.data});l.resource.src=t,n=$v(l,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};Le.add(k_e);class P_e{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Us(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const u=this._createBundleAssetId(e,o);n.push(u),a=[o,u]}else{const u=o.map(l=>this._createBundleAssetId(e,l));n.push(...u),a=[...o,...u]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(st("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=u=>{this.hasKey(u)&&console.warn(`[Resolver] already has key: ${u} overwriting`)},Us(o).forEach(u=>{const{src:l,srcs:c}=u;let{data:f,format:p,loadParser:m}=u;const y=Us(l||c).map(_=>typeof _=="string"?r_e(_):Array.isArray(_)?_:[_]),g=this.getAlias(u);Array.isArray(g)?g.forEach(a):a(g);const b=[];y.forEach(_=>{_.forEach(w=>{let E={};if(typeof w!="object"){E.src=w;for(let x=0;x<this._parsers.length;x++){const N=this._parsers[x];if(N.test(w)){E=N.parse(w);break}}}else f=w.data??f,p=w.format??p,m=w.loadParser??m,E={...E,...w};if(!g)throw new Error(`[Resolver] alias is undefined for this asset: ${E.src}`);E=this.buildResolvedAsset(E,{aliases:g,data:f,format:p,loadParser:m}),b.push(E)})}),g.forEach(_=>{this._assetMap[_]=b})})}resolveBundle(e){const r=hw(e);e=Us(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const l=o[u];a[this._extractAssetIdFromBundle(i,u)]=l}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=hw(e);e=Us(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(u=>{a.params[u].forEach(l=>{const c=s.filter(f=>f[u]?f[u]===l:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Pr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Pr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class N_e{constructor(){this._detections=[],this._initialized=!1,this.resolver=new P_e,this.loader=new i_e,this.cache=Sc,this._backgroundLoader=new t_e(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=hw(e),i=Us(e).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const l=()=>{r==null||r(++a/u)},c=o.map(f=>{const p=i[f];return u+=Object.keys(p).length,this._mapLoadToResolve(p,l).then(m=>{s[f]=m})});return await Promise.all(c),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Sc.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Sc.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const l=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[u]]=l,Sc.set(c,l)}),o}async unload(e){this._initialized||await this.init();const r=Us(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Us(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Sc.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return fx.config.preferWorkers}set preferWorkers(e){st("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const ny=new N_e;Le.handleByList(Ee.LoadParser,ny.loader.parsers).handleByList(Ee.ResolveParser,ny.resolver.parsers).handleByList(Ee.CacheParser,ny.cache.parsers).handleByList(Ee.DetectionParser,ny.detections);const M_e={extension:Ee.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof be),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Le.add(M_e);async function dq(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const D_e={extension:{type:Ee.DetectionParser,priority:1},test:async()=>dq("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Le.add(D_e);const B_e={extension:{type:Ee.DetectionParser,priority:0},test:async()=>dq("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Le.add(B_e);const $F=["png","jpg","jpeg"],L_e={extension:{type:Ee.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...$F],remove:async t=>t.filter(e=>!$F.includes(e))};Le.add(L_e);const $_e="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function gM(t){return $_e?!1:document.createElement("video").canPlayType(t)!==""}const F_e={extension:{type:Ee.DetectionParser,priority:0},test:async()=>gM("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Le.add(F_e);const U_e={extension:{type:Ee.DetectionParser,priority:0},test:async()=>gM("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Le.add(U_e);const j_e={extension:{type:Ee.DetectionParser,priority:0},test:async()=>gM("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Le.add(j_e);const z_e={extension:Ee.ResolveParser,test:fx.test,parse:t=>{var e;return{resolution:parseFloat(((e=Te.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Pr.extname(t).slice(1),src:t}}};Le.add(z_e);const H_e=[".xml",".fnt"],V_e={extension:{type:Ee.LoadParser,priority:po.Normal},name:"loadBitmapFont",test(t){return H_e.includes(Pr.extname(t).toLowerCase())},async testParse(t){return Fb.test(t)||dO.test(t)},async parse(t,e,r){const n=Fb.test(t)?Fb.parse(t):dO.parse(t),{src:i}=e,{page:s}=n,o=[];for(let l=0;l<s.length;++l){const c=s[l].file;let f=Pr.join(Pr.dirname(i),c);f=fO(f,i),o.push(f)}const a=await r.load(o),u=o.map(l=>a[l]);return Iu.install(n,u,!0)},async load(t,e){return(await Te.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Le.add(V_e);const dw={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===tn.CIRC){const y=t.shape;r=y.x,n=y.y,o=a=y.radius,i=s=0}else if(t.type===tn.ELIP){const y=t.shape;r=y.x,n=y.y,o=y.width,a=y.height,i=s=0}else{const y=t.shape,g=y.width/2,b=y.height/2;r=y.x+g,n=y.y+b,o=a=Math.max(0,Math.min(y.radius,Math.min(g,b))),i=g-o,s=b-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),l=u*8+(i?4:0)+(s?4:0);if(e.length=l,l===0)return;if(u===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let c=0,f=u*4+(i?2:0)+2,p=f,m=l;{const y=i+o,g=s,b=r+y,_=r-y,w=n+g;if(e[c++]=b,e[c++]=w,e[--f]=w,e[--f]=_,s){const E=n-g;e[p++]=_,e[p++]=E,e[--m]=E,e[--m]=b}}for(let y=1;y<u;y++){const g=Math.PI/2*(y/u),b=i+Math.cos(g)*o,_=s+Math.sin(g)*a,w=r+b,E=r-b,x=n+_,N=n-_;e[c++]=w,e[c++]=x,e[--f]=x,e[--f]=E,e[p++]=E,e[p++]=N,e[--m]=N,e[--m]=w}{const y=i,g=s+a,b=r+y,_=r-y,w=n+g,E=n-g;e[c++]=b,e[c++]=w,e[--m]=E,e[--m]=b,i&&(e[c++]=_,e[c++]=w,e[--m]=E,e[--m]=_)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,u;if(t.type!==tn.RREC){const c=t.shape;a=c.x,u=c.y}else{const c=t.shape;a=c.x+c.width/2,u=c.y+c.height/2}const l=t.matrix;n.push(t.matrix?l.a*a+l.c*u+l.tx:a,t.matrix?l.b*a+l.d*u+l.ty:u),s++,n.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function FF(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],u=t[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,u=s,l=s+1;[t[o],t[u]]=[t[u],t[o]],[t[a],t[l]]=[t[l],t[a]]}}}const fq={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){FF(r,!1);const o=[];for(let l=0;l<n.length;l++){const c=n[l];FF(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}const a=Npe(r,o,2);if(!a)return;const u=i.length/2;for(let l=0;l<a.length;l+=3)s.push(a[l]+u),s.push(a[l+1]+u),s.push(a[l+2]+u);for(let l=0;l<r.length;l++)i.push(r[l])}}},G_e={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},W_e={build(t){dw.build(t)},triangulate(t,e){dw.triangulate(t,e)}};var qi=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(qi||{}),Zu=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Zu||{});const sp={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class UF{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,l=a-e,c=i-r,f=n-e,p=Math.abs(u*f-l*c);if(p<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const m=u*u+l*l,y=c*c+f*f,g=u*c+l*f,b=s*Math.sqrt(m)/p,_=s*Math.sqrt(y)/p,w=b*g/m,E=_*g/y,x=b*f+_*l,N=b*c+_*u,M=l*(_+w),R=u*(_+w),D=f*(b+E),W=c*(b+E),G=Math.atan2(R-N,M-x),U=Math.atan2(W-N,D-x);return{cx:x+e,cy:N+r,radius:s,startAngle:G,endAngle:U,anticlockwise:l*c>f*u}}static arc(e,r,n,i,s,o,a,u,l){const c=a-o,f=sp._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/iw)*40),p=c/(f*2),m=p*2,y=Math.cos(p),g=Math.sin(p),b=f-1,_=b%1/b;for(let w=0;w<=b;++w){const E=w+_*w,x=p+o+m*E,N=Math.cos(x),M=-Math.sin(x);l.push((y*N+g*M)*s+n,(y*-M+g*N)*s+i)}}}class q_e{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class vM{static curveLength(e,r,n,i,s,o,a,u){let l=0,c=0,f=0,p=0,m=0,y=0,g=0,b=0,_=0,w=0,E=0,x=e,N=r;for(let M=1;M<=10;++M)c=M/10,f=c*c,p=f*c,m=1-c,y=m*m,g=y*m,b=g*e+3*y*c*n+3*m*f*s+p*a,_=g*r+3*y*c*i+3*m*f*o+p*u,w=x-b,E=N-_,x=b,N=_,l+=Math.sqrt(w*w+E*E);return l}static curveTo(e,r,n,i,s,o,a){const u=a[a.length-2],l=a[a.length-1];a.length-=2;const c=sp._segmentsCount(vM.curveLength(u,l,e,r,n,i,s,o));let f=0,p=0,m=0,y=0,g=0;a.push(u,l);for(let b=1,_=0;b<=c;++b)_=b/c,f=1-_,p=f*f,m=p*f,y=_*_,g=y*_,a.push(m*u+3*p*_*e+3*f*y*n+g*s,m*l+3*p*_*r+3*f*y*i+g*o)}}function jF(t,e,r,n,i,s,o,a){const u=t-r*i,l=e-n*i,c=t+r*s,f=e+n*s;let p,m;o?(p=n,m=-r):(p=-n,m=r);const y=u+p,g=l+m,b=c+p,_=f+m;return a.push(y,g,b,_),2}function ac(t,e,r,n,i,s,o,a){const u=r-t,l=n-e;let c=Math.atan2(u,l),f=Math.atan2(i-t,s-e);a&&c<f?c+=Math.PI*2:!a&&c>f&&(f+=Math.PI*2);let p=c;const m=f-c,y=Math.abs(m),g=Math.sqrt(u*u+l*l),b=(15*y*Math.sqrt(g)/Math.PI>>0)+1,_=m/b;if(p+=_,a){o.push(t,e,r,n);for(let w=1,E=p;w<b;w++,E+=_)o.push(t,e,t+Math.sin(E)*g,e+Math.cos(E)*g);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let w=1,E=p;w<b;w++,E+=_)o.push(t+Math.sin(E)*g,e+Math.cos(E)*g,t,e);o.push(i,s,t,e)}return b*2}function Z_e(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new ut(n[0],n[1]),a=new ut(n[n.length-2],n[n.length-1]),u=r.type!==tn.POLY||r.closeStroke,l=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const O=(o.x+a.x)*.5,k=(a.y+o.y)*.5;n.unshift(O,k),n.push(O,k)}const c=e.points,f=n.length/2;let p=n.length;const m=c.length/2,y=s.width/2,g=y*y,b=s.miterLimit*s.miterLimit;let _=n[0],w=n[1],E=n[2],x=n[3],N=0,M=0,R=-(w-x),D=_-E,W=0,G=0,U=Math.sqrt(R*R+D*D);R/=U,D/=U,R*=y,D*=y;const X=s.alignment,B=(1-X)*2,j=X*2;u||(s.cap===Zu.ROUND?p+=ac(_-R*(B-j)*.5,w-D*(B-j)*.5,_-R*B,w-D*B,_+R*j,w+D*j,c,!0)+2:s.cap===Zu.SQUARE&&(p+=jF(_,w,R,D,B,j,!0,c))),c.push(_-R*B,w-D*B,_+R*j,w+D*j);for(let O=1;O<f-1;++O){_=n[(O-1)*2],w=n[(O-1)*2+1],E=n[O*2],x=n[O*2+1],N=n[(O+1)*2],M=n[(O+1)*2+1],R=-(w-x),D=_-E,U=Math.sqrt(R*R+D*D),R/=U,D/=U,R*=y,D*=y,W=-(x-M),G=E-N,U=Math.sqrt(W*W+G*G),W/=U,G/=U,W*=y,G*=y;const k=E-_,F=w-x,$=E-N,z=M-x,q=k*$+F*z,ne=F*$-z*k,re=ne<0;if(Math.abs(ne)<.001*Math.abs(q)){c.push(E-R*B,x-D*B,E+R*j,x+D*j),q>=0&&(s.join===qi.ROUND?p+=ac(E,x,E-R*B,x-D*B,E-W*B,x-G*B,c,!1)+4:p+=2,c.push(E-W*j,x-G*j,E+W*B,x+G*B));continue}const ae=(-R+_)*(-D+x)-(-R+E)*(-D+w),oe=(-W+N)*(-G+x)-(-W+E)*(-G+M),ve=(k*oe-$*ae)/ne,Pe=(z*ae-F*oe)/ne,_e=(ve-E)*(ve-E)+(Pe-x)*(Pe-x),Ne=E+(ve-E)*B,Ce=x+(Pe-x)*B,De=E-(ve-E)*j,te=x-(Pe-x)*j,de=Math.min(k*k+F*F,$*$+z*z),ke=re?B:j,We=de+ke*ke*g,Qe=_e<=We;let ht=s.join;if(ht===qi.MITER&&_e/g>b&&(ht=qi.BEVEL),Qe)switch(ht){case qi.MITER:{c.push(Ne,Ce,De,te);break}case qi.BEVEL:{re?c.push(Ne,Ce,E+R*j,x+D*j,Ne,Ce,E+W*j,x+G*j):c.push(E-R*B,x-D*B,De,te,E-W*B,x-G*B,De,te),p+=2;break}case qi.ROUND:{re?(c.push(Ne,Ce,E+R*j,x+D*j),p+=ac(E,x,E+R*j,x+D*j,E+W*j,x+G*j,c,!0)+4,c.push(Ne,Ce,E+W*j,x+G*j)):(c.push(E-R*B,x-D*B,De,te),p+=ac(E,x,E-R*B,x-D*B,E-W*B,x-G*B,c,!1)+4,c.push(E-W*B,x-G*B,De,te));break}}else{switch(c.push(E-R*B,x-D*B,E+R*j,x+D*j),ht){case qi.MITER:{re?c.push(De,te,De,te):c.push(Ne,Ce,Ne,Ce),p+=2;break}case qi.ROUND:{re?p+=ac(E,x,E+R*j,x+D*j,E+W*j,x+G*j,c,!0)+2:p+=ac(E,x,E-R*B,x-D*B,E-W*B,x-G*B,c,!1)+2;break}}c.push(E-W*B,x-G*B,E+W*j,x+G*j),p+=2}}_=n[(f-2)*2],w=n[(f-2)*2+1],E=n[(f-1)*2],x=n[(f-1)*2+1],R=-(w-x),D=_-E,U=Math.sqrt(R*R+D*D),R/=U,D/=U,R*=y,D*=y,c.push(E-R*B,x-D*B,E+R*j,x+D*j),u||(s.cap===Zu.ROUND?p+=ac(E-R*(B-j)*.5,x-D*(B-j)*.5,E-R*B,x-D*B,E+R*j,x+D*j,c,!1)+2:s.cap===Zu.SQUARE&&(p+=jF(E,x,R,D,B,j,!1,c)));const C=e.indices,P=sp.epsilon*sp.epsilon;for(let O=m;O<p+m-2;++O)_=c[O*2],w=c[O*2+1],E=c[(O+1)*2],x=c[(O+1)*2+1],N=c[(O+2)*2],M=c[(O+2)*2+1],!(Math.abs(_*(x-M)+E*(M-w)+N*(w-x))<P)&&C.push(O,O+1,O+2)}function X_e(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==tn.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,u=i.length/2,l=o.length/2;let c=l;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(c,c+1),c++;s&&a.push(c,l)}function zF(t,e){t.lineStyle.native?X_e(t,e):Z_e(t,e)}class _M{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,u=r-2*i+o,l=2*n-2*e,c=2*i-2*r,f=4*(a*a+u*u),p=4*(a*l+u*c),m=l*l+c*c,y=2*Math.sqrt(f+p+m),g=Math.sqrt(f),b=2*f*g,_=2*Math.sqrt(m),w=p/g;return(b*y+g*p*(y-_)+(4*m*f-p*p)*Math.log((2*g+w+y)/(w+_)))/(4*b)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=sp._segmentsCount(_M.curveLength(o,a,e,r,n,i));let l=0,c=0;for(let f=1;f<=u;++f){const p=f/u;l=o+(e-o)*p,c=a+(r-a)*p,s.push(l+(e+(n-e)*p-l)*p,c+(r+(i-r)*p-c)*p)}}}const cC={[tn.POLY]:fq,[tn.CIRC]:dw,[tn.ELIP]:dw,[tn.RECT]:G_e,[tn.RREC]:W_e},HF=[],G0=[];class fw{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new fw(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const bd=new ut,pq=class mq extends bW{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new lw,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),G0.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),HF.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new fw(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new fw(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,bd):bd.copyFrom(e),i.shape.contains(bd.x,bd.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(bd.x,bd.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let u=this.shapeIndex;u<r.length;u++){this.shapeIndex++;const l=r[u],c=l.fillStyle,f=l.lineStyle;cC[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||f.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?c:f;if(!m.visible)continue;const y=m.texture.baseTexture,g=this.indices.length,b=this.points.length/2;y.wrapMode=Wa.REPEAT,p===0?this.processFill(l):this.processLine(l);const _=this.points.length/2-b;_!==0&&(n&&!this._compareStyles(i,m)&&(n.end(g,b),n=null),n||(n=HF.pop()||new q_e,n.begin(m,g,b),this.batches.push(n),i=m),this.addUvs(this.points,e,m.texture,b,_,m.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<mq.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Je._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),G0.push(this.drawCalls[f]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=G0.pop();i||(i=new Y2,i.texArray=new eO),i.texArray.count=0,i.start=0,i.size=0,i.type=js.TRIANGLES;let s=0,o=null,a=0,u=!1,l=js.TRIANGLES,c=0;this.drawCalls.push(i);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,y=p.style,g=y.texture.baseTexture;u!==!!y.native&&(u=!!y.native,l=u?js.LINES:js.TRIANGLES,o=null,s=m,e++),o!==g&&(o=g,g._batchEnabled!==e&&(s===m&&(e++,s=0,i.size>0&&(i=G0.pop(),i||(i=new Y2,i.texArray=new eO),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),g.touched=1,g._batchEnabled=e,g._batchLocation=s,g.wrapMode=Wa.REPEAT,i.texArray.elements[i.texArray.count++]=g,s++)),i.size+=p.size,c+=p.size,a=g._batchLocation,this.addColors(r,y.color,y.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,a,p.attribSize,p.attribStart)}Je._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let u=0;for(let l=0;l<e.length/2;l++)o[u++]=e[l*2],o[u++]=e[l*2+1],o[u++]=r[l*2],o[u++]=r[l*2+1],a[u++]=n[l],o[u++]=i[l];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?fq.triangulate(e,this):cC[e.type].triangulate(e,this)}processLine(e){zF(e,this);for(let r=0;r<e.holes.length;r++)zF(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];cC[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=Mt.shared.setValue(r).toLittleEndianNumber(),a=Mt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let u=0;u<i;u++)e[s+u]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const u=r.length,l=n.frame;for(;a<s;){let f=e[(i+a)*2],p=e[(i+a)*2+1];if(o){const m=o.a*f+o.c*p+o.tx;p=o.b*f+o.d*p+o.ty,f=m}a++,r.push(f/l.width,p/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(r,n,u,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,u=r.frame,l=u.width/s.width,c=u.height/s.height;let f=u.x/u.width,p=u.y/u.height,m=Math.floor(e[n]+o),y=Math.floor(e[n+1]+o);for(let g=n+2;g<a;g+=2)m=Math.min(m,Math.floor(e[g]+o)),y=Math.min(y,Math.floor(e[g+1]+o));f-=m,p-=y;for(let g=n;g<a;g+=2)e[g]=(e[g]+f)*l,e[g+1]=(e[g+1]+p)*c}};pq.BATCHABLE_SIZE=100;let Y_e=pq;class px{constructor(){this.color=16777215,this.alpha=1,this.texture=be.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new px;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=be.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class bM extends px{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Zu.BUTT,this.join=qi.MITER,this.miterLimit=10}clone(){const e=new bM;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Zu.BUTT,this.join=qi.MITER,this.miterLimit=10}}const hC={},pO=class jb extends Wn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new px,this._lineStyle=new bM,this._matrix=null,this._holeMode=!1,this.state=ga.for2d(),this._geometry=e||new Y_e,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Mt(16777215),this.blendMode=Ge.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new jb(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:be.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Zu.BUTT,join:qi.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Wc,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Wc,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),_M.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),vM.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=UF.curveTo(e,r,n,i,s,o);if(a){const{cx:u,cy:l,radius:c,startAngle:f,endAngle:p,anticlockwise:m}=a;this.arc(u,l,c,f,p,m)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=iw:o&&i<=s&&(i+=iw),s-i===0)return this;const a=e+Math.cos(i)*n,u=r+Math.sin(i)*n,l=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const f=Math.abs(c[c.length-2]-a),p=Math.abs(c[c.length-1]-u);f<l&&p<l||c.push(a,u)}else this.moveTo(a,u),c=this.currentPath.points;return UF.arc(a,u,e,r,n,i,s,o,c),this}beginFill(e=0,r){return this.beginTextureFill({texture:be.WHITE,color:e,alpha:r})}normalizeColor(e){const r=Mt.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:be.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new et(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new ux(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new ox(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new ax(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Wc(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===tn.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),u=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),l=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),c={vertexData:a,blendMode:r,indices:l,uvs:u,_batchRGB:Mt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=c}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Mt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,u=o.length;a<u;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let u=0;u<a;u++)e.texture.bind(n.elements[u],u);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!hC[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=u;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:Xs.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;hC[n]=new ia(a,o)}r=hC[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,jb._TEMP_POINT),this._geometry.containsPoint(jb._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Mt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,l=this._geometry.points,c=this.vertexData;let f=0;for(let p=0;p<l.length;p+=2){const m=l[p],y=l[p+1];c[f++]=n*m+s*y+a,c[f++]=o*y+i*m+u}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};pO.curves=sp,pO._TEMP_POINT=new ut;let Cy=pO;class Q_e extends dx{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let c=0;c<e;c++){const f=c%this.segWidth,p=c/this.segWidth|0;r.push(f*a,p*u),n.push(f/s,p/o)}const l=s*o;for(let c=0;c<l;c++){const f=c%s,p=c/s|0,m=p*this.segWidth+f,y=p*this.segWidth+f+1,g=(p+1)*this.segWidth+f,b=(p+1)*this.segWidth+f+1;i.push(m,y,g,y,b,g)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class K_e extends dx{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const l=this._width*this.textureScale,c=e.length;for(let p=0;p<c;p++){const m=p*4;if(this.textureScale>0){const y=u.x-e[p].x,g=u.y-e[p].y,b=Math.sqrt(y*y+g*g);u=e[p],a+=b/l}else a=p/(c-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<c-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const c=e[l],f=l*4;l<e.length-1?n=e[l+1]:n=c,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=u,s*=u),o[f]=c.x+i,o[f+1]=c.y+s,o[f+2]=c.x-i,o[f+3]=c.y-s,r=c}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class J_e extends Ng{constructor(e,r,n){const i=new Q_e(e.width,e.height,r,n),s=new Mg(be.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const W0=10;class e0e extends J_e{constructor(e,r,n,i,s){var o,a,u,l;super(be.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??W0,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??W0,this._topHeight=n??((u=e.defaultBorders)==null?void 0:u.top)??W0,this._bottomHeight=s??((l=e.defaultBorders)==null?void 0:l.bottom)??W0,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class t0e extends Ng{constructor(e=be.EMPTY,r,n,i,s){const o=new dx(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Mg(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class r0e extends Ng{constructor(e,r,n=0){const i=new K_e(e.height,r,n),s=new Mg(e);n>0&&(e.baseTexture.wrapMode=Wa.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class n0e extends Wn{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ge.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Mt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class VF{constructor(e,r,n){this.geometry=new Tl,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ze.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new pr(yge(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new pr(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new pr(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ze.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ze.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ze.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ze.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var i0e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,s0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class yq extends cx{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Gt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ze.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ia.from(s0e,i0e,{}),this.state=ga.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const u=r[0]._texture.baseTexture,l=u.alphaMode>0;this.state.blendMode=gW(e.blendMode,l),s.state.set(this.state);const c=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=Mt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,y=0;m<o;m+=i,y+=1){let g=o-m;g>i&&(g=i),y>=a.length&&a.push(this._generateOneMoreBuffer(e));const b=a[y];b.uploadDynamic(r,m,g);const _=e._bufferUpdateIDs[y]||0;p=p||b._updateID<_,p&&(b._updateID=e._updateID,b.uploadStatic(r,m,g)),s.geometry.bind(b.geometry),c.drawElements(c.TRIANGLES,g*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new VF(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new VF(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,u=0,l=0,c=0;for(let f=0;f<n;++f){const p=e[r+f],m=p._texture,y=p.scale.x,g=p.scale.y,b=m.trim,_=m.orig;b?(u=b.x-p.anchor.x*_.width,a=u+b.width,c=b.y-p.anchor.y*_.height,l=c+b.height):(a=_.width*(1-p.anchor.x),u=_.width*-p.anchor.x,l=_.height*(1-p.anchor.y),c=_.height*-p.anchor.y),i[o]=u*y,i[o+1]=c*g,i[o+s]=a*y,i[o+s+1]=c*g,i[o+s*2]=a*y,i[o+s*2+1]=l*g,i[o+s*3]=u*y,i[o+s*3+1]=l*g,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a],l=Mt.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}yq.extension={name:"particle",type:Ee.RendererPlugin};Le.add(yq);class Dg extends va{constructor(e,r=!0){super(e[0]instanceof be?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(qr.shared.add(this.update,this,Il.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(be.from(e[n]));return new Dg(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(be.from(e[n]));return new Dg(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof be)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(qr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Um=new ut;class wM extends va{constructor(e,r=100,n=100){super(e),this.tileTransform=new lx,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new pM(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new et),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Um);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Um.x>=i&&Um.x<i+r){const s=-n*this.anchor._y;if(Um.y>=s&&Um.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof be?e:be.from(e,r);return new wM(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var o0e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,a0e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,u0e=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,GF=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,l0e=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const q0=new Gt;class gq extends cx{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new RW,this.state=ga.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=ia.from(GF,l0e,r),this.shader=e.context.webGLVersion>1?ia.from(a0e,o0e,r):ia.from(GF,u0e,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,u=a.baseTexture,l=u.alphaMode>0,c=e.tileTransform.localTransform,f=e.uvMatrix;let p=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;p&&(u._glTextures[r.CONTEXT_UID]?p=u.wrapMode!==Wa.CLAMP:u.wrapMode===Wa.CLAMP&&(u.wrapMode=Wa.REPEAT));const m=p?this.simpleShader:this.shader,y=a.width,g=a.height,b=e._width,_=e._height;q0.set(c.a*y/b,c.b*y/_,c.c*g/b,c.d*g/_,c.tx/b,c.ty/_),q0.invert(),p?q0.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=q0.toArray(!0),m.uniforms.uColor=Mt.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,r.shader.bind(m),r.geometry.bind(n),this.state.blendMode=gW(e.blendMode,l),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}gq.extension={name:"tilingSprite",type:Ee.RendererPlugin};Le.add(gq);const vq=class mO{constructor(e){this.stage=new Wn,e=Object.assign({forceCanvas:!1},e),this.renderer=Rve(e),mO._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=mO._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};vq._plugins=[];let mx=vq;Le.handleByList(Ee.Application,mx._plugins);class _q{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}_q.extension=Ee.Application;Le.add(_q);function ki(t){return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(t)}function bq(t){var e=function(r,n){if(ki(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(ki(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return ki(e)==="symbol"?e:String(e)}function fr(t,e,r){return(e=bq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nu(t){return function(e){if(Array.isArray(e))return dC(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return dC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dC(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lr(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var c0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h0e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var d0e=function(t){return t==null};function iy(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=nu(t);else{if(t===null||ki(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!d0e(r)&&!isNaN(r)}).map(Number)}function WF(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function fC(t){return t instanceof ut||t instanceof Xo}var pw=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function pC(t,e,r){if(fC(t[e])&&fC(r))t[e].copyFrom(r);else if(fC(t[e])){var n=iy(r);lr(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),ki(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var wd,wq=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},Eq=function(t){return function(){return!t.apply(void 0,arguments)}},yO="children",f0e=(fr(wd={},yO,!0),fr(wd,"parent",!0),fr(wd,"worldAlpha",!0),fr(wd,"worldTransform",!0),fr(wd,"worldVisible",!0),wd),gO={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},da=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,l;a==null||(u=a.__reactpixi)===null||u===void 0||(l=u.root)===null||l===void 0||l.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return lr(u.typeofs.some(function(l){return ki(r[a])===l})||u.instanceofs.some(function(l){return r[a]instanceof l}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return lr(r.texture instanceof be,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,be]});lr(!!s,"".concat(t," could not get texture from props"));var o=be.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},p0e=Eq(wq([].concat(nu(Object.keys(f0e)),nu(pw))));function fa(t,e,r){var n=!1;if(lr(Qt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",ki(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<pw.length;o++){var a=pw[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var u=Object.keys(r||{});if(r.overwriteProps){for(var l=0;l<u.length;l++){var c=u[l];e[c]!==r[c]&&(n=!0,pC(t,c,r[c]))}return n}for(var f=u.filter(p0e),p=0;p<f.length;p++){var m=f[p],y=r[m];r[m]!==e[m]&&(n=!0),y!==void 0?pC(t,m,y):m in gO?(console.warn("setting default value: ".concat(m,", from: ").concat(t[m]," to: ").concat(y," for"),t),n=!0,pC(t,m,gO[m])):console.warn("ignoring prop: ".concat(m,", from ").concat(t[m]," to ").concat(y," for"),t)}return n}var m0e=function(t,e){var r=e.text,n=e.style;return new e_e(r,n)},y0e=function(){return new Wn};function Gl(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,l,c={},f=Object.keys(o);for(l=0;l<f.length;l++)u=f[l],a.indexOf(u)>=0||(c[u]=o[u]);return c}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var g0e=["draw","geometry"],v0e=function(t,e){var r=e.geometry;lr(!r||r instanceof Cy,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Cy(r.geometry):new Cy;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=fa(i,s,Gl(o,g0e));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},_0e=["image","texture"],b0e=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,l=u===void 0?10:u,c=da("NineSlicePlane",t,e),f=new e0e(c,n,s,a,l);return f.applyProps=function(p,m,y){var g=y.image,b=y.texture,_=fa(p,m,Gl(y,_0e));return(g||b)&&(b!==m.texture&&(_=!0),p.texture=da("NineSlicePlane",t,y)),_},f};function qF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var w0e=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=Z0(Z0({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),l=Z0(Z0({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),c=new n0e(n,u,s,a);return c.willUnmount=function(f,p,m){f.destroy(l)},c},E0e=["image","texture"],x0e=function(t,e){var r=new va(da("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=fa(n,i,Gl(s,E0e));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=da("Sprite",t,s)),u},r},S0e=["textures","isPlaying","initialFrame","images"],A0e=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(l){return l.map(function(c){return lr(c instanceof be||(c==null?void 0:c.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),c})},u=n?Dg.fromImages(n):new Dg(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(l,c,f){var p=f.textures,m=f.isPlaying,y=f.initialFrame,g=f.images,b=fa(l,c,Gl(f,S0e));if(g&&c.images!==g){for(var _=[],w=0;w<g.length;++w)_.push(be.from(g[w]));l.textures=_,b=!0}if(p&&c.textures!==p&&(l.textures=a(p),b=!0),m!==c.isPlaying||y!==c.initialFrame){var E=typeof y=="number"?y:u.currentFrame||0;u[m?"gotoAndPlay":"gotoAndStop"](E),b=!0}return b},u},T0e=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new yM(n,s);return o?(a.updateText(),new va(a.texture)):a},C0e=["tileScale","tilePosition","image","texture"],I0e=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=da("TilingSprite",t,e),a=new wM(o,n,s);return a.applyProps=function(u,l,c){var f=c.tileScale,p=c.tilePosition,m=c.image,y=c.texture,g=fa(u,l,Gl(c,C0e));if(p){var b,_=iy(p);(b=u.tilePosition).set.apply(b,nu(_)),g=!WF(iy(l.tilePosition),_)||g}if(f){var w,E=iy(f);(w=u.tileScale).set.apply(w,nu(E)),g=!WF(iy(l.tileScale),E)||g}return(m||y)&&(y!==l.texture&&(g=!0),u.texture=da("Sprite",t,c)),g},a},O0e=["image","texture"],R0e=function(t,e){var r=da("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?js.TRIANGLES:o,u=new t0e(r,n,i,s,a);return u.applyProps=function(l,c,f){var p=f.image,m=f.texture,y=fa(l,c,Gl(f,O0e));return(p||m)&&(m!==c.texture&&(y=!0),l.texture=da("Mesh",t,f)),y},u},k0e=["image","texture"],P0e=function(t,e){var r=da("SimpleRope",t,e),n=e.points,i=new r0e(r,n);return i.applyProps=function(s,o,a){var u=a.image,l=a.texture,c=Gl(a,k0e);lr(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var f=fa(s,o,c);return(u||l)&&(l!==o.texture&&(f=!0),s.texture=da("SimpleRope",t,a)),f},i},N0e=Object.freeze({__proto__:null,BitmapText:m0e,Container:y0e,Graphics:v0e,NineSlicePlane:b0e,ParticleContainer:w0e,Sprite:x0e,Text:T0e,TilingSprite:I0e,SimpleMesh:R0e,SimpleRope:P0e,AnimatedSprite:A0e});function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var fi={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},M0e=Object.keys(fi).reduce(function(t,e){return XF(XF({},t),{},fr({},e,N0e[e]))},{}),xq={};function D0e(t,e){return lr(!!t,"Expect type to be defined, got `%s`",t),lr(!fi[t],"Component `%s` could not be created, already exists in default components.",t),xq[t]=e,t}var YF,QF,KF,JF,vO={},_O={},B0e={get exports(){return _O},set exports(t){_O=t}},eU={};function L0e(){return QF||(QF=1,B0e.exports=(YF||(YF=1,function(t){function e(k,F){var $=k.length;k.push(F);e:for(;0<$;){var z=$-1>>>1,q=k[z];if(!(0<i(q,F)))break e;k[z]=F,k[$]=q,$=z}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var F=k[0],$=k.pop();if($!==F){k[0]=$;e:for(var z=0,q=k.length,ne=q>>>1;z<ne;){var re=2*(z+1)-1,ae=k[re],oe=re+1,ve=k[oe];if(0>i(ae,$))oe<q&&0>i(ve,ae)?(k[z]=ve,k[oe]=$,z=oe):(k[z]=ae,k[re]=$,z=re);else{if(!(oe<q&&0>i(ve,$)))break e;k[z]=ve,k[oe]=$,z=oe}}}return F}function i(k,F){var $=k.sortIndex-F.sortIndex;return $!==0?$:k.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,p=3,m=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function E(k){for(var F=r(l);F!==null;){if(F.callback===null)n(l);else{if(!(F.startTime<=k))break;n(l),F.sortIndex=F.expirationTime,e(u,F)}F=r(l)}}function x(k){if(g=!1,E(k),!y)if(r(u)!==null)y=!0,P(N);else{var F=r(l);F!==null&&O(x,F.startTime-k)}}function N(k,F){y=!1,g&&(g=!1,_(W),W=-1),m=!0;var $=p;try{for(E(F),f=r(u);f!==null&&(!(f.expirationTime>F)||k&&!X());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var q=z(f.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?f.callback=q:f===r(u)&&n(u),E(F)}else n(u);f=r(u)}if(f!==null)var ne=!0;else{var re=r(l);re!==null&&O(x,re.startTime-F),ne=!1}return ne}finally{f=null,p=$,m=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,R=!1,D=null,W=-1,G=5,U=-1;function X(){return!(t.unstable_now()-U<G)}function B(){if(D!==null){var k=t.unstable_now();U=k;var F=!0;try{F=D(!0,k)}finally{F?M():(R=!1,D=null)}}else R=!1}if(typeof w=="function")M=function(){w(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,C=j.port2;j.port1.onmessage=B,M=function(){C.postMessage(null)}}else M=function(){b(B,0)};function P(k){D=k,R||(R=!0,M())}function O(k,F){W=b(function(){k(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,P(N))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var $=p;p=F;try{return k()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=p;p=k;try{return F()}finally{p=$}},t.unstable_scheduleCallback=function(k,F,$){var z=t.unstable_now();switch($=typeof $=="object"&&$!==null&&typeof($=$.delay)=="number"&&0<$?z+$:z,k){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return k={id:c++,callback:F,priorityLevel:k,startTime:$,expirationTime:q=$+q,sortIndex:-1},$>z?(k.sortIndex=$,e(l,k),r(u)===null&&k===r(l)&&(g?(_(W),W=-1):g=!0,O(x,$-z))):(k.sortIndex=q,e(u,k),y||m||(y=!0,P(N))),k},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(k){var F=p;return function(){var $=p;p=F;try{return k.apply(this,arguments)}finally{p=$}}}}(eU)),eU)),_O}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $0e(){return JF||(JF=1,KF=function(t){var e={},r=Yo,n=L0e(),i=Object.assign;function s(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),x=Symbol.iterator;function N(h){return h===null||typeof h!="object"?null:typeof(h=x&&h[x]||h["@@iterator"])=="function"?h:null}function M(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case l:return"Fragment";case u:return"Portal";case f:return"Profiler";case c:return"StrictMode";case g:return"Suspense";case b:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case m:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case y:var d=h.render;return(h=h.displayName)||(h=(h=d.displayName||d.name||"")!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return(d=h.displayName||null)!==null?d:M(h.type)||"Memo";case w:d=h._payload,h=h._init;try{return M(h(d))}catch{}}return null}function R(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=(h=d.render).displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(d);case 8:return d===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function D(h){var d=h,v=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do 4098&(d=h).flags&&(v=d.return),h=d.return;while(h)}return d.tag===3?v:null}function W(h){if(D(h)!==h)throw Error(s(188))}function G(h){var d=h.alternate;if(!d){if((d=D(h))===null)throw Error(s(188));return d!==h?null:h}for(var v=h,S=d;;){var A=v.return;if(A===null)break;var I=A.alternate;if(I===null){if((S=A.return)!==null){v=S;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===v)return W(A),h;if(I===S)return W(A),d;I=I.sibling}throw Error(s(188))}if(v.return!==S.return)v=A,S=I;else{for(var V=!1,K=A.child;K;){if(K===v){V=!0,v=A,S=I;break}if(K===S){V=!0,S=A,v=I;break}K=K.sibling}if(!V){for(K=I.child;K;){if(K===v){V=!0,v=I,S=A;break}if(K===S){V=!0,S=I,v=A;break}K=K.sibling}if(!V)throw Error(s(189))}}if(v.alternate!==S)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?h:d}function U(h){return(h=G(h))!==null?X(h):null}function X(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=X(h);if(d!==null)return d;h=h.sibling}return null}function B(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var d=B(h);if(d!==null)return d}h=h.sibling}return null}var j,C=Array.isArray,P=t.getPublicInstance,O=t.getRootHostContext,k=t.getChildHostContext,F=t.prepareForCommit,$=t.resetAfterCommit,z=t.createInstance,q=t.appendInitialChild,ne=t.finalizeInitialChildren,re=t.prepareUpdate,ae=t.shouldSetTextContent,oe=t.createTextInstance,ve=t.scheduleTimeout,Pe=t.cancelTimeout,_e=t.noTimeout,Ne=t.isPrimaryRenderer,Ce=t.supportsMutation,De=t.supportsPersistence,te=t.supportsHydration,de=t.getInstanceFromNode,ke=t.preparePortalMount,We=t.getCurrentEventPriority,Qe=t.detachDeletedInstance,ht=t.supportsMicrotasks,Kt=t.scheduleMicrotask,Lt=t.supportsTestSelectors,An=t.findFiberRoot,Tn=t.getBoundingRect,bs=t.getTextContent,Xr=t.isHiddenSubtree,Cn=t.matchAccessibilityRole,Wl=t.setFocusIfFocusable,je=t.setupIntersectionObserver,yo=t.appendChild,ql=t.appendChildToContainer,ws=t.commitTextUpdate,In=t.commitMount,go=t.commitUpdate,Zl=t.insertBefore,qh=t.insertInContainerBefore,Rx=t.removeChild,kx=t.removeChildFromContainer,Xv=t.resetTextContent,Px=t.hideInstance,Nx=t.hideTextInstance,Mx=t.unhideInstance,Dx=t.unhideTextInstance,Bx=t.clearContainer,Lx=t.cloneInstance,Yv=t.createContainerChildSet,Qv=t.appendChildToContainerChildSet,$x=t.finalizeContainerChildren,Yp=t.replaceContainerChildren,Kv=t.cloneHiddenInstance,Jv=t.cloneHiddenTextInstance,Fx=t.canHydrateInstance,Ux=t.canHydrateTextInstance,jx=t.canHydrateSuspenseInstance,e_=t.isSuspenseInstancePending,Qp=t.isSuspenseInstanceFallback,zx=t.getSuspenseInstanceFallbackErrorDetails,Hx=t.registerSuspenseInstanceRetry,Zh=t.getNextHydratableSibling,t_=t.getFirstHydratableChild,Vx=t.getFirstHydratableChildWithinContainer,Gx=t.getFirstHydratableChildWithinSuspenseInstance,Wx=t.hydrateInstance,qx=t.hydrateTextInstance,Zx=t.hydrateSuspenseInstance,Xx=t.getNextHydratableInstanceAfterSuspenseInstance,Yx=t.commitHydratedContainer,Z=t.commitHydratedSuspenseInstance,T=t.clearSuspenseBoundary,L=t.clearSuspenseBoundaryFromContainer,H=t.shouldDeleteUnhydratedTailInstances,Q=t.didNotMatchHydratedContainerTextInstance,Y=t.didNotMatchHydratedTextInstance;function fe(h){if(j===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);j=d&&d[1]||""}return`
`+j+h}var le=!1;function He(h,d){if(!h||le)return"";le=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(se){var S=se}Reflect.construct(h,[],d)}else{try{d.call()}catch(se){S=se}h.call(d.prototype)}else{try{throw Error()}catch(se){S=se}h()}}catch(se){if(se&&S&&typeof se.stack=="string"){for(var A=se.stack.split(`
`),I=S.stack.split(`
`),V=A.length-1,K=I.length-1;1<=V&&0<=K&&A[V]!==I[K];)K--;for(;1<=V&&0<=K;V--,K--)if(A[V]!==I[K]){if(V!==1||K!==1)do if(V--,0>--K||A[V]!==I[K]){var ee=`
`+A[V].replace(" at new "," at ");return h.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",h.displayName)),ee}while(1<=V&&0<=K);break}}}finally{le=!1,Error.prepareStackTrace=v}return(h=h?h.displayName||h.name:"")?fe(h):""}var $e=Object.prototype.hasOwnProperty,it=[],Ar=-1;function ba(h){return{current:h}}function Ct(h){0>Ar||(h.current=it[Ar],it[Ar]=null,Ar--)}function Rt(h,d){Ar++,it[Ar]=h.current,h.current=d}var du={},cn=ba(du),Xn=ba(!1),Xl=du;function Xh(h,d){var v=h.type.contextTypes;if(!v)return du;var S=h.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var A,I={};for(A in v)I[A]=d[A];return S&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=I),I}function pi(h){return(h=h.childContextTypes)!=null}function Qx(){Ct(Xn),Ct(cn)}function WM(h,d,v){if(cn.current!==du)throw Error(s(168));Rt(cn,d),Rt(Xn,v)}function qM(h,d,v){var S=h.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return v;for(var A in S=S.getChildContext())if(!(A in d))throw Error(s(108,R(h)||"Unknown",A));return i({},v,S)}function r_(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||du,Xl=cn.current,Rt(cn,h),Rt(Xn,Xn.current),!0}function ZM(h,d,v){var S=h.stateNode;if(!S)throw Error(s(169));v?(h=qM(h,d,Xl),S.__reactInternalMemoizedMergedChildContext=h,Ct(Xn),Ct(cn),Rt(cn,h)):Ct(Xn),Rt(Xn,v)}var Es=Math.clz32?Math.clz32:function(h){return(h>>>=0)===0?32:31-(DX(h)/BX|0)|0},DX=Math.log,BX=Math.LN2,Kx=64,Jx=4194304;function Kp(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&h;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&h;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function n_(h,d){var v=h.pendingLanes;if(v===0)return 0;var S=0,A=h.suspendedLanes,I=h.pingedLanes,V=268435455&v;if(V!==0){var K=V&~A;K!==0?S=Kp(K):(I&=V)!==0&&(S=Kp(I))}else(V=v&~A)!==0?S=Kp(V):I!==0&&(S=Kp(I));if(S===0)return 0;if(d!==0&&d!==S&&!(d&A)&&((A=S&-S)>=(I=d&-d)||A===16&&4194240&I))return d;if(4&S&&(S|=16&v),(d=h.entangledLanes)!==0)for(h=h.entanglements,d&=S;0<d;)A=1<<(v=31-Es(d)),S|=h[v],d&=~A;return S}function LX(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;default:return-1}}function eS(h){return(h=-1073741825&h.pendingLanes)!==0?h:1073741824&h?1073741824:0}function XM(){var h=Kx;return!(4194240&(Kx<<=1))&&(Kx=64),h}function tS(h){for(var d=[],v=0;31>v;v++)d.push(h);return d}function Jp(h,d,v){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),(h=h.eventTimes)[d=31-Es(d)]=v}function rS(h,d){var v=h.entangledLanes|=d;for(h=h.entanglements;v;){var S=31-Es(v),A=1<<S;A&d|h[S]&d&&(h[S]|=d),v&=~A}}var vt=0;function YM(h){return 1<(h&=-h)?4<h?268435455&h?16:536870912:4:1}var nS=n.unstable_scheduleCallback,QM=n.unstable_cancelCallback,$X=n.unstable_shouldYield,FX=n.unstable_requestPaint,Dr=n.unstable_now,iS=n.unstable_ImmediatePriority,UX=n.unstable_UserBlockingPriority,KM=n.unstable_NormalPriority,jX=n.unstable_IdlePriority,i_=null,vo=null,xs=typeof Object.is=="function"?Object.is:function(h,d){return h===d&&(h!==0||1/h==1/d)||h!=h&&d!=d},wa=null,s_=!1,sS=!1;function JM(h){wa===null?wa=[h]:wa.push(h)}function _o(){if(!sS&&wa!==null){sS=!0;var h=0,d=vt;try{var v=wa;for(vt=1;h<v.length;h++){var S=v[h];do S=S(!0);while(S!==null)}wa=null,s_=!1}catch(A){throw wa!==null&&(wa=wa.slice(h+1)),nS(iS,_o),A}finally{vt=d,sS=!1}}return null}var Yh=[],Qh=0,o_=null,a_=0,Li=[],$i=0,Yl=null,bo=1,Ea="";function Ql(h,d){Yh[Qh++]=a_,Yh[Qh++]=o_,o_=h,a_=d}function eD(h,d,v){Li[$i++]=bo,Li[$i++]=Ea,Li[$i++]=Yl,Yl=h;var S=bo;h=Ea;var A=32-Es(S)-1;S&=~(1<<A),v+=1;var I=32-Es(d)+A;if(30<I){var V=A-A%5;I=(S&(1<<V)-1).toString(32),S>>=V,A-=V,bo=1<<32-Es(d)+A|v<<A|S,Ea=I+h}else bo=1<<I|v<<A|S,Ea=h}function oS(h){h.return!==null&&(Ql(h,1),eD(h,1,0))}function aS(h){for(;h===o_;)o_=Yh[--Qh],Yh[Qh]=null,a_=Yh[--Qh],Yh[Qh]=null;for(;h===Yl;)Yl=Li[--$i],Li[$i]=null,Ea=Li[--$i],Li[$i]=null,bo=Li[--$i],Li[$i]=null}var mi=null,Fi=null,qt=!1,em=!1,Ss=null;function tD(h,d){var v=Vi(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=h,(d=h.deletions)===null?(h.deletions=[v],h.flags|=16):d.push(v)}function rD(h,d){switch(h.tag){case 5:return(d=Fx(d,h.type,h.pendingProps))!==null&&(h.stateNode=d,mi=h,Fi=t_(d),!0);case 6:return(d=Ux(d,h.pendingProps))!==null&&(h.stateNode=d,mi=h,Fi=null,!0);case 13:if((d=jx(d))!==null){var v=Yl!==null?{id:bo,overflow:Ea}:null;return h.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},(v=Vi(18,null,null,0)).stateNode=d,v.return=h,h.child=v,mi=h,Fi=null,!0}return!1;default:return!1}}function uS(h){return(1&h.mode)!=0&&(128&h.flags)==0}function lS(h){if(qt){var d=Fi;if(d){var v=d;if(!rD(h,d)){if(uS(h))throw Error(s(418));d=Zh(v);var S=mi;d&&rD(h,d)?tD(S,v):(h.flags=-4097&h.flags|2,qt=!1,mi=h)}}else{if(uS(h))throw Error(s(418));h.flags=-4097&h.flags|2,qt=!1,mi=h}}}function nD(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;mi=h}function u_(h){if(!te||h!==mi)return!1;if(!qt)return nD(h),qt=!0,!1;if(h.tag!==3&&(h.tag!==5||H(h.type)&&!ae(h.type,h.memoizedProps))){var d=Fi;if(d){if(uS(h))throw iD(),Error(s(418));for(;d;)tD(h,d),d=Zh(d)}}if(nD(h),h.tag===13){if(!te)throw Error(s(316));if(!(h=(h=h.memoizedState)!==null?h.dehydrated:null))throw Error(s(317));Fi=Xx(h)}else Fi=mi?Zh(h.stateNode):null;return!0}function iD(){for(var h=Fi;h;)h=Zh(h)}function Kh(){te&&(Fi=mi=null,em=qt=!1)}function cS(h){Ss===null?Ss=[h]:Ss.push(h)}var zX=o.ReactCurrentBatchConfig;function l_(h,d){if(xs(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var v=Object.keys(h),S=Object.keys(d);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var A=v[S];if(!$e.call(d,A)||!xs(h[A],d[A]))return!1}return!0}function HX(h){switch(h.tag){case 5:return fe(h.type);case 16:return fe("Lazy");case 13:return fe("Suspense");case 19:return fe("SuspenseList");case 0:case 2:case 15:return h=He(h.type,!1);case 11:return h=He(h.type.render,!1);case 1:return h=He(h.type,!0);default:return""}}function As(h,d){if(h&&h.defaultProps){for(var v in d=i({},d),h=h.defaultProps)d[v]===void 0&&(d[v]=h[v]);return d}return d}var c_=ba(null),h_=null,Jh=null,hS=null;function dS(){hS=Jh=h_=null}function sD(h,d,v){Ne?(Rt(c_,d._currentValue),d._currentValue=v):(Rt(c_,d._currentValue2),d._currentValue2=v)}function fS(h){var d=c_.current;Ct(c_),Ne?h._currentValue=d:h._currentValue2=d}function pS(h,d,v){for(;h!==null;){var S=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),h===v)break;h=h.return}}function ed(h,d){h_=h,hS=Jh=null,(h=h.dependencies)!==null&&h.firstContext!==null&&(h.lanes&d&&(Yn=!0),h.firstContext=null)}function Ui(h){var d=Ne?h._currentValue:h._currentValue2;if(hS!==h)if(h={context:h,memoizedValue:d,next:null},Jh===null){if(h_===null)throw Error(s(308));Jh=h,h_.dependencies={lanes:0,firstContext:h}}else Jh=Jh.next=h;return d}var Kl=null;function mS(h){Kl===null?Kl=[h]:Kl.push(h)}function oD(h,d,v,S){var A=d.interleaved;return A===null?(v.next=v,mS(d)):(v.next=A.next,A.next=v),d.interleaved=v,wo(h,S)}function wo(h,d){h.lanes|=d;var v=h.alternate;for(v!==null&&(v.lanes|=d),v=h,h=h.return;h!==null;)h.childLanes|=d,(v=h.alternate)!==null&&(v.childLanes|=d),v=h,h=h.return;return v.tag===3?v.stateNode:null}var fu=!1;function yS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aD(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function xa(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function pu(h,d,v){var S=h.updateQueue;if(S===null)return null;if(S=S.shared,(2&dt)!=0){var A=S.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),S.pending=d,wo(h,v)}return(A=S.interleaved)===null?(d.next=d,mS(S)):(d.next=A.next,A.next=d),S.interleaved=d,wo(h,v)}function d_(h,d,v){if((d=d.updateQueue)!==null&&(d=d.shared,(4194240&v)!=0)){var S=d.lanes;v|=S&=h.pendingLanes,d.lanes=v,rS(h,v)}}function uD(h,d){var v=h.updateQueue,S=h.alternate;if(S!==null&&v===(S=S.updateQueue)){var A=null,I=null;if((v=v.firstBaseUpdate)!==null){do{var V={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};I===null?A=I=V:I=I.next=V,v=v.next}while(v!==null);I===null?A=I=d:I=I.next=d}else A=I=d;return v={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:S.shared,effects:S.effects},void(h.updateQueue=v)}(h=v.lastBaseUpdate)===null?v.firstBaseUpdate=d:h.next=d,v.lastBaseUpdate=d}function f_(h,d,v,S){var A=h.updateQueue;fu=!1;var I=A.firstBaseUpdate,V=A.lastBaseUpdate,K=A.shared.pending;if(K!==null){A.shared.pending=null;var ee=K,se=ee.next;ee.next=null,V===null?I=se:V.next=se,V=ee;var ce=h.alternate;ce!==null&&(K=(ce=ce.updateQueue).lastBaseUpdate)!==V&&(K===null?ce.firstBaseUpdate=se:K.next=se,ce.lastBaseUpdate=ee)}if(I!==null){var we=A.baseState;for(V=0,ce=se=ee=null,K=I;;){var ue=K.lane,ye=K.eventTime;if((S&ue)===ue){ce!==null&&(ce=ce.next={eventTime:ye,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Be=h,nt=K;switch(ue=d,ye=v,nt.tag){case 1:if(typeof(Be=nt.payload)=="function"){we=Be.call(ye,we,ue);break e}we=Be;break e;case 3:Be.flags=-65537&Be.flags|128;case 0:if((ue=typeof(Be=nt.payload)=="function"?Be.call(ye,we,ue):Be)==null)break e;we=i({},we,ue);break e;case 2:fu=!0}}K.callback!==null&&K.lane!==0&&(h.flags|=64,(ue=A.effects)===null?A.effects=[K]:ue.push(K))}else ye={eventTime:ye,lane:ue,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ce===null?(se=ce=ye,ee=we):ce=ce.next=ye,V|=ue;if((K=K.next)===null){if((K=A.shared.pending)===null)break;K=(ue=K).next,ue.next=null,A.lastBaseUpdate=ue,A.shared.pending=null}}if(ce===null&&(ee=we),A.baseState=ee,A.firstBaseUpdate=se,A.lastBaseUpdate=ce,(d=A.shared.interleaved)!==null){A=d;do V|=A.lane,A=A.next;while(A!==d)}else I===null&&(A.shared.lanes=0);ec|=V,h.lanes=V,h.memoizedState=we}}function lD(h,d,v){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var S=h[d],A=S.callback;if(A!==null){if(S.callback=null,S=v,typeof A!="function")throw Error(s(191,A));A.call(S)}}}var cD=new r.Component().refs;function gS(h,d,v,S){v=(v=v(S,d=h.memoizedState))==null?d:i({},d,v),h.memoizedState=v,h.lanes===0&&(h.updateQueue.baseState=v)}var p_={isMounted:function(h){return!!(h=h._reactInternals)&&D(h)===h},enqueueSetState:function(h,d,v){h=h._reactInternals;var S=fn(),A=vu(h),I=xa(S,A);I.payload=d,v!=null&&(I.callback=v),(d=pu(h,I,A))!==null&&(Hi(d,h,A,S),d_(d,h,A))},enqueueReplaceState:function(h,d,v){h=h._reactInternals;var S=fn(),A=vu(h),I=xa(S,A);I.tag=1,I.payload=d,v!=null&&(I.callback=v),(d=pu(h,I,A))!==null&&(Hi(d,h,A,S),d_(d,h,A))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var v=fn(),S=vu(h),A=xa(v,S);A.tag=2,d!=null&&(A.callback=d),(d=pu(h,A,S))!==null&&(Hi(d,h,S,v),d_(d,h,S))}};function hD(h,d,v,S,A,I,V){return typeof(h=h.stateNode).shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,I,V):!d.prototype||!d.prototype.isPureReactComponent||!l_(v,S)||!l_(A,I)}function dD(h,d,v){var S=!1,A=du,I=d.contextType;return typeof I=="object"&&I!==null?I=Ui(I):(A=pi(d)?Xl:cn.current,I=(S=(S=d.contextTypes)!=null)?Xh(h,A):du),d=new d(v,I),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=p_,h.stateNode=d,d._reactInternals=h,S&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=A,h.__reactInternalMemoizedMaskedChildContext=I),d}function fD(h,d,v,S){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,S),d.state!==h&&p_.enqueueReplaceState(d,d.state,null)}function vS(h,d,v,S){var A=h.stateNode;A.props=v,A.state=h.memoizedState,A.refs=cD,yS(h);var I=d.contextType;typeof I=="object"&&I!==null?A.context=Ui(I):(I=pi(d)?Xl:cn.current,A.context=Xh(h,I)),A.state=h.memoizedState,typeof(I=d.getDerivedStateFromProps)=="function"&&(gS(h,d,I,v),A.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&p_.enqueueReplaceState(A,A.state,null),f_(h,v,A,S),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308)}function tm(h,d,v){if((h=v.ref)!==null&&typeof h!="function"&&typeof h!="object"){if(v._owner){if(v=v._owner){if(v.tag!==1)throw Error(s(309));var S=v.stateNode}if(!S)throw Error(s(147,h));var A=S,I=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(V){var K=A.refs;K===cD&&(K=A.refs={}),V===null?delete K[I]:K[I]=V},d._stringRef=I,d)}if(typeof h!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,h))}return h}function m_(h,d){throw h=Object.prototype.toString.call(d),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function pD(h){return(0,h._init)(h._payload)}function mD(h){function d(he,J){if(h){var ie=he.deletions;ie===null?(he.deletions=[J],he.flags|=16):ie.push(J)}}function v(he,J){if(!h)return null;for(;J!==null;)d(he,J),J=J.sibling;return null}function S(he,J){for(he=new Map;J!==null;)J.key!==null?he.set(J.key,J):he.set(J.index,J),J=J.sibling;return he}function A(he,J){return(he=bu(he,J)).index=0,he.sibling=null,he}function I(he,J,ie){return he.index=ie,h?(ie=he.alternate)!==null?(ie=ie.index)<J?(he.flags|=2,J):ie:(he.flags|=2,J):(he.flags|=1048576,J)}function V(he){return h&&he.alternate===null&&(he.flags|=2),he}function K(he,J,ie,pe){return J===null||J.tag!==6?((J=iA(ie,he.mode,pe)).return=he,J):((J=A(J,ie)).return=he,J)}function ee(he,J,ie,pe){var Ve=ie.type;return Ve===l?ce(he,J,ie.props.children,pe,ie.key):J!==null&&(J.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===w&&pD(Ve)===J.type)?((pe=A(J,ie.props)).ref=tm(he,J,ie),pe.return=he,pe):((pe=j_(ie.type,ie.key,ie.props,null,he.mode,pe)).ref=tm(he,J,ie),pe.return=he,pe)}function se(he,J,ie,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ie.containerInfo||J.stateNode.implementation!==ie.implementation?((J=sA(ie,he.mode,pe)).return=he,J):((J=A(J,ie.children||[])).return=he,J)}function ce(he,J,ie,pe,Ve){return J===null||J.tag!==7?((J=nc(ie,he.mode,pe,Ve)).return=he,J):((J=A(J,ie)).return=he,J)}function we(he,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number")return(J=iA(""+J,he.mode,ie)).return=he,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case a:return(ie=j_(J.type,J.key,J.props,null,he.mode,ie)).ref=tm(he,null,J),ie.return=he,ie;case u:return(J=sA(J,he.mode,ie)).return=he,J;case w:return we(he,(0,J._init)(J._payload),ie)}if(C(J)||N(J))return(J=nc(J,he.mode,ie,null)).return=he,J;m_(he,J)}return null}function ue(he,J,ie,pe){var Ve=J!==null?J.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ve!==null?null:K(he,J,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case a:return ie.key===Ve?ee(he,J,ie,pe):null;case u:return ie.key===Ve?se(he,J,ie,pe):null;case w:return ue(he,J,(Ve=ie._init)(ie._payload),pe)}if(C(ie)||N(ie))return Ve!==null?null:ce(he,J,ie,pe,null);m_(he,ie)}return null}function ye(he,J,ie,pe,Ve){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return K(J,he=he.get(ie)||null,""+pe,Ve);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case a:return ee(J,he=he.get(pe.key===null?ie:pe.key)||null,pe,Ve);case u:return se(J,he=he.get(pe.key===null?ie:pe.key)||null,pe,Ve);case w:return ye(he,J,ie,(0,pe._init)(pe._payload),Ve)}if(C(pe)||N(pe))return ce(J,he=he.get(ie)||null,pe,Ve,null);m_(J,pe)}return null}function Be(he,J,ie,pe){for(var Ve=null,St=null,Fe=J,_t=J=0,Qr=null;Fe!==null&&_t<ie.length;_t++){Fe.index>_t?(Qr=Fe,Fe=null):Qr=Fe.sibling;var At=ue(he,Fe,ie[_t],pe);if(At===null){Fe===null&&(Fe=Qr);break}h&&Fe&&At.alternate===null&&d(he,Fe),J=I(At,J,_t),St===null?Ve=At:St.sibling=At,St=At,Fe=Qr}if(_t===ie.length)return v(he,Fe),qt&&Ql(he,_t),Ve;if(Fe===null){for(;_t<ie.length;_t++)(Fe=we(he,ie[_t],pe))!==null&&(J=I(Fe,J,_t),St===null?Ve=Fe:St.sibling=Fe,St=Fe);return qt&&Ql(he,_t),Ve}for(Fe=S(he,Fe);_t<ie.length;_t++)(Qr=ye(Fe,he,_t,ie[_t],pe))!==null&&(h&&Qr.alternate!==null&&Fe.delete(Qr.key===null?_t:Qr.key),J=I(Qr,J,_t),St===null?Ve=Qr:St.sibling=Qr,St=Qr);return h&&Fe.forEach(function(wu){return d(he,wu)}),qt&&Ql(he,_t),Ve}function nt(he,J,ie,pe){var Ve=N(ie);if(typeof Ve!="function")throw Error(s(150));if((ie=Ve.call(ie))==null)throw Error(s(151));for(var St=Ve=null,Fe=J,_t=J=0,Qr=null,At=ie.next();Fe!==null&&!At.done;_t++,At=ie.next()){Fe.index>_t?(Qr=Fe,Fe=null):Qr=Fe.sibling;var wu=ue(he,Fe,At.value,pe);if(wu===null){Fe===null&&(Fe=Qr);break}h&&Fe&&wu.alternate===null&&d(he,Fe),J=I(wu,J,_t),St===null?Ve=wu:St.sibling=wu,St=wu,Fe=Qr}if(At.done)return v(he,Fe),qt&&Ql(he,_t),Ve;if(Fe===null){for(;!At.done;_t++,At=ie.next())(At=we(he,At.value,pe))!==null&&(J=I(At,J,_t),St===null?Ve=At:St.sibling=At,St=At);return qt&&Ql(he,_t),Ve}for(Fe=S(he,Fe);!At.done;_t++,At=ie.next())(At=ye(Fe,he,_t,At.value,pe))!==null&&(h&&At.alternate!==null&&Fe.delete(At.key===null?_t:At.key),J=I(At,J,_t),St===null?Ve=At:St.sibling=At,St=At);return h&&Fe.forEach(function(fY){return d(he,fY)}),qt&&Ql(he,_t),Ve}return function he(J,ie,pe,Ve){if(typeof pe=="object"&&pe!==null&&pe.type===l&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case a:e:{for(var St=pe.key,Fe=ie;Fe!==null;){if(Fe.key===St){if((St=pe.type)===l){if(Fe.tag===7){v(J,Fe.sibling),(ie=A(Fe,pe.props.children)).return=J,J=ie;break e}}else if(Fe.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===w&&pD(St)===Fe.type){v(J,Fe.sibling),(ie=A(Fe,pe.props)).ref=tm(J,Fe,pe),ie.return=J,J=ie;break e}v(J,Fe);break}d(J,Fe),Fe=Fe.sibling}pe.type===l?((ie=nc(pe.props.children,J.mode,Ve,pe.key)).return=J,J=ie):((Ve=j_(pe.type,pe.key,pe.props,null,J.mode,Ve)).ref=tm(J,ie,pe),Ve.return=J,J=Ve)}return V(J);case u:e:{for(Fe=pe.key;ie!==null;){if(ie.key===Fe){if(ie.tag===4&&ie.stateNode.containerInfo===pe.containerInfo&&ie.stateNode.implementation===pe.implementation){v(J,ie.sibling),(ie=A(ie,pe.children||[])).return=J,J=ie;break e}v(J,ie);break}d(J,ie),ie=ie.sibling}(ie=sA(pe,J.mode,Ve)).return=J,J=ie}return V(J);case w:return he(J,ie,(Fe=pe._init)(pe._payload),Ve)}if(C(pe))return Be(J,ie,pe,Ve);if(N(pe))return nt(J,ie,pe,Ve);m_(J,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ie!==null&&ie.tag===6?(v(J,ie.sibling),(ie=A(ie,pe)).return=J,J=ie):(v(J,ie),(ie=iA(pe,J.mode,Ve)).return=J,J=ie),V(J)):v(J,ie)}}var td=mD(!0),yD=mD(!1),rm={},ji=ba(rm),nm=ba(rm),rd=ba(rm);function Eo(h){if(h===rm)throw Error(s(174));return h}function _S(h,d){Rt(rd,d),Rt(nm,h),Rt(ji,rm),h=O(d),Ct(ji),Rt(ji,h)}function nd(){Ct(ji),Ct(nm),Ct(rd)}function gD(h){var d=Eo(rd.current),v=Eo(ji.current);v!==(d=k(v,h.type,d))&&(Rt(nm,h),Rt(ji,d))}function bS(h){nm.current===h&&(Ct(ji),Ct(nm))}var sr=ba(0);function y_(h){for(var d=h;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&((v=v.dehydrated)===null||e_(v)||Qp(v)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(128&d.flags)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var wS=[];function ES(){for(var h=0;h<wS.length;h++){var d=wS[h];Ne?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}wS.length=0}var g_=o.ReactCurrentDispatcher,xS=o.ReactCurrentBatchConfig,Jl=0,Jt=null,Br=null,Lr=null,v_=!1,im=!1,sm=0,VX=0;function hn(){throw Error(s(321))}function SS(h,d){if(d===null)return!1;for(var v=0;v<d.length&&v<h.length;v++)if(!xs(h[v],d[v]))return!1;return!0}function AS(h,d,v,S,A,I){if(Jl=I,Jt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,g_.current=h===null||h.memoizedState===null?ZX:XX,h=v(S,A),im){I=0;do{if(im=!1,sm=0,25<=I)throw Error(s(301));I+=1,Lr=Br=null,d.updateQueue=null,g_.current=YX,h=v(S,A)}while(im)}if(g_.current=w_,d=Br!==null&&Br.next!==null,Jl=0,Lr=Br=Jt=null,v_=!1,d)throw Error(s(300));return h}function TS(){var h=sm!==0;return sm=0,h}function xo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Jt.memoizedState=Lr=h:Lr=Lr.next=h,Lr}function zi(){if(Br===null){var h=Jt.alternate;h=h!==null?h.memoizedState:null}else h=Br.next;var d=Lr===null?Jt.memoizedState:Lr.next;if(d!==null)Lr=d,Br=h;else{if(h===null)throw Error(s(310));h={memoizedState:(Br=h).memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Lr===null?Jt.memoizedState=Lr=h:Lr=Lr.next=h}return Lr}function om(h,d){return typeof d=="function"?d(h):d}function CS(h){var d=zi(),v=d.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=h;var S=Br,A=S.baseQueue,I=v.pending;if(I!==null){if(A!==null){var V=A.next;A.next=I.next,I.next=V}S.baseQueue=A=I,v.pending=null}if(A!==null){I=A.next,S=S.baseState;var K=V=null,ee=null,se=I;do{var ce=se.lane;if((Jl&ce)===ce)ee!==null&&(ee=ee.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),S=se.hasEagerState?se.eagerState:h(S,se.action);else{var we={lane:ce,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};ee===null?(K=ee=we,V=S):ee=ee.next=we,Jt.lanes|=ce,ec|=ce}se=se.next}while(se!==null&&se!==I);ee===null?V=S:ee.next=K,xs(S,d.memoizedState)||(Yn=!0),d.memoizedState=S,d.baseState=V,d.baseQueue=ee,v.lastRenderedState=S}if((h=v.interleaved)!==null){A=h;do I=A.lane,Jt.lanes|=I,ec|=I,A=A.next;while(A!==h)}else A===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function IS(h){var d=zi(),v=d.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=h;var S=v.dispatch,A=v.pending,I=d.memoizedState;if(A!==null){v.pending=null;var V=A=A.next;do I=h(I,V.action),V=V.next;while(V!==A);xs(I,d.memoizedState)||(Yn=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),v.lastRenderedState=I}return[I,S]}function vD(){}function _D(h,d){var v=Jt,S=zi(),A=d(),I=!xs(S.memoizedState,A);if(I&&(S.memoizedState=A,Yn=!0),S=S.queue,OS(ED.bind(null,v,S,h),[h]),S.getSnapshot!==d||I||Lr!==null&&1&Lr.memoizedState.tag){if(v.flags|=2048,am(9,wD.bind(null,v,S,A,d),void 0,null),$r===null)throw Error(s(349));30&Jl||bD(v,d,A)}return A}function bD(h,d,v){h.flags|=16384,h={getSnapshot:d,value:v},(d=Jt.updateQueue)===null?(d={lastEffect:null,stores:null},Jt.updateQueue=d,d.stores=[h]):(v=d.stores)===null?d.stores=[h]:v.push(h)}function wD(h,d,v,S){d.value=v,d.getSnapshot=S,xD(d)&&SD(h)}function ED(h,d,v){return v(function(){xD(d)&&SD(h)})}function xD(h){var d=h.getSnapshot;h=h.value;try{var v=d();return!xs(h,v)}catch{return!0}}function SD(h){var d=wo(h,1);d!==null&&Hi(d,h,1,-1)}function AD(h){var d=xo();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:h},d.queue=h,h=h.dispatch=qX.bind(null,Jt,h),[d.memoizedState,h]}function am(h,d,v,S){return h={tag:h,create:d,destroy:v,deps:S,next:null},(d=Jt.updateQueue)===null?(d={lastEffect:null,stores:null},Jt.updateQueue=d,d.lastEffect=h.next=h):(v=d.lastEffect)===null?d.lastEffect=h.next=h:(S=v.next,v.next=h,h.next=S,d.lastEffect=h),h}function TD(){return zi().memoizedState}function __(h,d,v,S){var A=xo();Jt.flags|=h,A.memoizedState=am(1|d,v,void 0,S===void 0?null:S)}function b_(h,d,v,S){var A=zi();S=S===void 0?null:S;var I=void 0;if(Br!==null){var V=Br.memoizedState;if(I=V.destroy,S!==null&&SS(S,V.deps))return void(A.memoizedState=am(d,v,I,S))}Jt.flags|=h,A.memoizedState=am(1|d,v,I,S)}function CD(h,d){return __(8390656,8,h,d)}function OS(h,d){return b_(2048,8,h,d)}function ID(h,d){return b_(4,2,h,d)}function OD(h,d){return b_(4,4,h,d)}function RD(h,d){return typeof d=="function"?(h=h(),d(h),function(){d(null)}):d!=null?(h=h(),d.current=h,function(){d.current=null}):void 0}function kD(h,d,v){return v=v!=null?v.concat([h]):null,b_(4,4,RD.bind(null,d,h),v)}function RS(){}function PD(h,d){var v=zi();d=d===void 0?null:d;var S=v.memoizedState;return S!==null&&d!==null&&SS(d,S[1])?S[0]:(v.memoizedState=[h,d],h)}function ND(h,d){var v=zi();d=d===void 0?null:d;var S=v.memoizedState;return S!==null&&d!==null&&SS(d,S[1])?S[0]:(h=h(),v.memoizedState=[h,d],h)}function MD(h,d,v){return 21&Jl?(xs(v,d)||(v=XM(),Jt.lanes|=v,ec|=v,h.baseState=!0),d):(h.baseState&&(h.baseState=!1,Yn=!0),h.memoizedState=v)}function GX(h,d){var v=vt;vt=v!==0&&4>v?v:4,h(!0);var S=xS.transition;xS.transition={};try{h(!1),d()}finally{vt=v,xS.transition=S}}function DD(){return zi().memoizedState}function WX(h,d,v){var S=vu(h);v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},BD(h)?LD(d,v):(v=oD(h,d,v,S))!==null&&(Hi(v,h,S,fn()),$D(v,d,S))}function qX(h,d,v){var S=vu(h),A={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(BD(h))LD(d,A);else{var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer)!==null)try{var V=d.lastRenderedState,K=I(V,v);if(A.hasEagerState=!0,A.eagerState=K,xs(K,V)){var ee=d.interleaved;return ee===null?(A.next=A,mS(d)):(A.next=ee.next,ee.next=A),void(d.interleaved=A)}}catch{}(v=oD(h,d,A,S))!==null&&(Hi(v,h,S,A=fn()),$D(v,d,S))}}function BD(h){var d=h.alternate;return h===Jt||d!==null&&d===Jt}function LD(h,d){im=v_=!0;var v=h.pending;v===null?d.next=d:(d.next=v.next,v.next=d),h.pending=d}function $D(h,d,v){if(4194240&v){var S=d.lanes;v|=S&=h.pendingLanes,d.lanes=v,rS(h,v)}}var w_={readContext:Ui,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},ZX={readContext:Ui,useCallback:function(h,d){return xo().memoizedState=[h,d===void 0?null:d],h},useContext:Ui,useEffect:CD,useImperativeHandle:function(h,d,v){return v=v!=null?v.concat([h]):null,__(4194308,4,RD.bind(null,d,h),v)},useLayoutEffect:function(h,d){return __(4194308,4,h,d)},useInsertionEffect:function(h,d){return __(4,2,h,d)},useMemo:function(h,d){var v=xo();return d=d===void 0?null:d,h=h(),v.memoizedState=[h,d],h},useReducer:function(h,d,v){var S=xo();return d=v!==void 0?v(d):d,S.memoizedState=S.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},S.queue=h,h=h.dispatch=WX.bind(null,Jt,h),[S.memoizedState,h]},useRef:function(h){return h={current:h},xo().memoizedState=h},useState:AD,useDebugValue:RS,useDeferredValue:function(h){return xo().memoizedState=h},useTransition:function(){var h=AD(!1),d=h[0];return h=GX.bind(null,h[1]),xo().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,v){var S=Jt,A=xo();if(qt){if(v===void 0)throw Error(s(407));v=v()}else{if(v=d(),$r===null)throw Error(s(349));30&Jl||bD(S,d,v)}A.memoizedState=v;var I={value:v,getSnapshot:d};return A.queue=I,CD(ED.bind(null,S,I,h),[h]),S.flags|=2048,am(9,wD.bind(null,S,I,v,d),void 0,null),v},useId:function(){var h=xo(),d=$r.identifierPrefix;if(qt){var v=Ea;d=":"+d+"R"+(v=(bo&~(1<<32-Es(bo)-1)).toString(32)+v),0<(v=sm++)&&(d+="H"+v.toString(32)),d+=":"}else d=":"+d+"r"+(v=VX++).toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},XX={readContext:Ui,useCallback:PD,useContext:Ui,useEffect:OS,useImperativeHandle:kD,useInsertionEffect:ID,useLayoutEffect:OD,useMemo:ND,useReducer:CS,useRef:TD,useState:function(){return CS(om)},useDebugValue:RS,useDeferredValue:function(h){return MD(zi(),Br.memoizedState,h)},useTransition:function(){return[CS(om)[0],zi().memoizedState]},useMutableSource:vD,useSyncExternalStore:_D,useId:DD,unstable_isNewReconciler:!1},YX={readContext:Ui,useCallback:PD,useContext:Ui,useEffect:OS,useImperativeHandle:kD,useInsertionEffect:ID,useLayoutEffect:OD,useMemo:ND,useReducer:IS,useRef:TD,useState:function(){return IS(om)},useDebugValue:RS,useDeferredValue:function(h){var d=zi();return Br===null?d.memoizedState=h:MD(d,Br.memoizedState,h)},useTransition:function(){return[IS(om)[0],zi().memoizedState]},useMutableSource:vD,useSyncExternalStore:_D,useId:DD,unstable_isNewReconciler:!1};function id(h,d){try{var v="",S=d;do v+=HX(S),S=S.return;while(S);var A=v}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:d,stack:A,digest:null}}function kS(h,d,v){return{value:h,source:null,stack:v??null,digest:d??null}}function PS(h,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var QX=typeof WeakMap=="function"?WeakMap:Map;function FD(h,d,v){(v=xa(-1,v)).tag=3,v.payload={element:null};var S=d.value;return v.callback=function(){D_||(D_=!0,QS=S),PS(0,d)},v}function UD(h,d,v){(v=xa(-1,v)).tag=3;var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var A=d.value;v.payload=function(){return S(A)},v.callback=function(){PS(0,d)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(v.callback=function(){PS(0,d),typeof S!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),v}function jD(h,d,v){var S=h.pingCache;if(S===null){S=h.pingCache=new QX;var A=new Set;S.set(d,A)}else(A=S.get(d))===void 0&&(A=new Set,S.set(d,A));A.has(v)||(A.add(v),h=oY.bind(null,h,d,v),d.then(h,h))}function zD(h){do{var d;if((d=h.tag===13)&&(d=(d=h.memoizedState)===null||d.dehydrated!==null),d)return h;h=h.return}while(h!==null);return null}function HD(h,d,v,S,A){return 1&h.mode?(h.flags|=65536,h.lanes=A,h):(h===d?h.flags|=65536:(h.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:((d=xa(-1,1)).tag=2,pu(v,d,1))),v.lanes|=1),h)}var KX=o.ReactCurrentOwner,Yn=!1;function Qn(h,d,v,S){d.child=h===null?yD(d,null,v,S):td(d,h.child,v,S)}function VD(h,d,v,S,A){v=v.render;var I=d.ref;return ed(d,A),S=AS(h,d,v,S,I,A),v=TS(),h===null||Yn?(qt&&v&&oS(d),d.flags|=1,Qn(h,d,S,A),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~A,Sa(h,d,A))}function GD(h,d,v,S,A){if(h===null){var I=v.type;return typeof I!="function"||nA(I)||I.defaultProps!==void 0||v.compare!==null||v.defaultProps!==void 0?((h=j_(v.type,null,S,d,d.mode,A)).ref=d.ref,h.return=d,d.child=h):(d.tag=15,d.type=I,WD(h,d,I,S,A))}if(I=h.child,(h.lanes&A)==0){var V=I.memoizedProps;if((v=(v=v.compare)!==null?v:l_)(V,S)&&h.ref===d.ref)return Sa(h,d,A)}return d.flags|=1,(h=bu(I,S)).ref=d.ref,h.return=d,d.child=h}function WD(h,d,v,S,A){if(h!==null){var I=h.memoizedProps;if(l_(I,S)&&h.ref===d.ref){if(Yn=!1,d.pendingProps=S=I,(h.lanes&A)==0)return d.lanes=h.lanes,Sa(h,d,A);131072&h.flags&&(Yn=!0)}}return NS(h,d,v,S,A)}function qD(h,d,v){var S=d.pendingProps,A=S.children,I=h!==null?h.memoizedState:null;if(S.mode==="hidden")if(!(1&d.mode))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(od,yi),yi|=v;else{if(!(1073741824&v))return h=I!==null?I.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null,transitions:null},d.updateQueue=null,Rt(od,yi),yi|=h,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=I!==null?I.baseLanes:v,Rt(od,yi),yi|=S}else I!==null?(S=I.baseLanes|v,d.memoizedState=null):S=v,Rt(od,yi),yi|=S;return Qn(h,d,A,v),d.child}function ZD(h,d){var v=d.ref;(h===null&&v!==null||h!==null&&h.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function NS(h,d,v,S,A){var I=pi(v)?Xl:cn.current;return I=Xh(d,I),ed(d,A),v=AS(h,d,v,S,I,A),S=TS(),h===null||Yn?(qt&&S&&oS(d),d.flags|=1,Qn(h,d,v,A),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~A,Sa(h,d,A))}function XD(h,d,v,S,A){if(pi(v)){var I=!0;r_(d)}else I=!1;if(ed(d,A),d.stateNode===null)A_(h,d),dD(d,v,S),vS(d,v,S,A),S=!0;else if(h===null){var V=d.stateNode,K=d.memoizedProps;V.props=K;var ee=V.context,se=v.contextType;typeof se=="object"&&se!==null?se=Ui(se):se=Xh(d,se=pi(v)?Xl:cn.current);var ce=v.getDerivedStateFromProps,we=typeof ce=="function"||typeof V.getSnapshotBeforeUpdate=="function";we||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==S||ee!==se)&&fD(d,V,S,se),fu=!1;var ue=d.memoizedState;V.state=ue,f_(d,S,V,A),ee=d.memoizedState,K!==S||ue!==ee||Xn.current||fu?(typeof ce=="function"&&(gS(d,v,ce,S),ee=d.memoizedState),(K=fu||hD(d,v,K,S,ue,ee,se))?(we||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=ee),V.props=S,V.state=ee,V.context=se,S=K):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{V=d.stateNode,aD(h,d),K=d.memoizedProps,se=d.type===d.elementType?K:As(d.type,K),V.props=se,we=d.pendingProps,ue=V.context,typeof(ee=v.contextType)=="object"&&ee!==null?ee=Ui(ee):ee=Xh(d,ee=pi(v)?Xl:cn.current);var ye=v.getDerivedStateFromProps;(ce=typeof ye=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==we||ue!==ee)&&fD(d,V,S,ee),fu=!1,ue=d.memoizedState,V.state=ue,f_(d,S,V,A);var Be=d.memoizedState;K!==we||ue!==Be||Xn.current||fu?(typeof ye=="function"&&(gS(d,v,ye,S),Be=d.memoizedState),(se=fu||hD(d,v,se,S,ue,Be,ee)||!1)?(ce||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(S,Be,ee),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(S,Be,ee)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Be),V.props=S,V.state=Be,V.context=ee,S=se):(typeof V.componentDidUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=1024),S=!1)}return MS(h,d,v,S,I,A)}function MS(h,d,v,S,A,I){ZD(h,d);var V=(128&d.flags)!=0;if(!S&&!V)return A&&ZM(d,v,!1),Sa(h,d,I);S=d.stateNode,KX.current=d;var K=V&&typeof v.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,h!==null&&V?(d.child=td(d,h.child,null,I),d.child=td(d,null,K,I)):Qn(h,d,K,I),d.memoizedState=S.state,A&&ZM(d,v,!0),d.child}function YD(h){var d=h.stateNode;d.pendingContext?WM(0,d.pendingContext,d.pendingContext!==d.context):d.context&&WM(0,d.context,!1),_S(h,d.containerInfo)}function QD(h,d,v,S,A){return Kh(),cS(A),d.flags|=256,Qn(h,d,v,S),d.child}var um,lm,E_,x_,DS={dehydrated:null,treeContext:null,retryLane:0};function BS(h){return{baseLanes:h,cachePool:null,transitions:null}}function KD(h,d,v){var S,A=d.pendingProps,I=sr.current,V=!1,K=(128&d.flags)!=0;if((S=K)||(S=(h===null||h.memoizedState!==null)&&(2&I)!=0),S?(V=!0,d.flags&=-129):h!==null&&h.memoizedState===null||(I|=1),Rt(sr,1&I),h===null)return lS(d),(h=d.memoizedState)!==null&&(h=h.dehydrated)!==null?(1&d.mode?Qp(h)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(K=A.children,h=A.fallback,V?(A=d.mode,V=d.child,K={mode:"hidden",children:K},!(1&A)&&V!==null?(V.childLanes=0,V.pendingProps=K):V=z_(K,A,0,null),h=nc(h,A,v,null),V.return=d,h.return=d,V.sibling=h,d.child=V,d.child.memoizedState=BS(v),d.memoizedState=DS,h):LS(d,K));if((I=h.memoizedState)!==null&&(S=I.dehydrated)!==null)return function(se,ce,we,ue,ye,Be,nt){if(we)return 256&ce.flags?(ce.flags&=-257,S_(se,ce,nt,ue=kS(Error(s(422))))):ce.memoizedState!==null?(ce.child=se.child,ce.flags|=128,null):(Be=ue.fallback,ye=ce.mode,ue=z_({mode:"visible",children:ue.children},ye,0,null),(Be=nc(Be,ye,nt,null)).flags|=2,ue.return=ce,Be.return=ce,ue.sibling=Be,ce.child=ue,1&ce.mode&&td(ce,se.child,null,nt),ce.child.memoizedState=BS(nt),ce.memoizedState=DS,Be);if(!(1&ce.mode))return S_(se,ce,nt,null);if(Qp(ye))return ue=zx(ye).digest,Be=Error(s(419)),ue=kS(Be,ue,void 0),S_(se,ce,nt,ue);if(we=(nt&se.childLanes)!=0,Yn||we){if((ue=$r)!==null){switch(nt&-nt){case 4:ye=2;break;case 16:ye=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ye=32;break;case 536870912:ye=268435456;break;default:ye=0}(ye=ye&(ue.suspendedLanes|nt)?0:ye)!==0&&ye!==Be.retryLane&&(Be.retryLane=ye,wo(se,ye),Hi(ue,se,ye,-1))}return rA(),S_(se,ce,nt,ue=kS(Error(s(421))))}return e_(ye)?(ce.flags|=128,ce.child=se.child,ce=aY.bind(null,se),Hx(ye,ce),null):(se=Be.treeContext,te&&(Fi=Gx(ye),mi=ce,qt=!0,Ss=null,em=!1,se!==null&&(Li[$i++]=bo,Li[$i++]=Ea,Li[$i++]=Yl,bo=se.id,Ea=se.overflow,Yl=ce)),ce=LS(ce,ue.children),ce.flags|=4096,ce)}(h,d,K,A,S,I,v);if(V){V=A.fallback,K=d.mode,S=(I=h.child).sibling;var ee={mode:"hidden",children:A.children};return!(1&K)&&d.child!==I?((A=d.child).childLanes=0,A.pendingProps=ee,d.deletions=null):(A=bu(I,ee)).subtreeFlags=14680064&I.subtreeFlags,S!==null?V=bu(S,V):(V=nc(V,K,v,null)).flags|=2,V.return=d,A.return=d,A.sibling=V,d.child=A,A=V,V=d.child,K=(K=h.child.memoizedState)===null?BS(v):{baseLanes:K.baseLanes|v,cachePool:null,transitions:K.transitions},V.memoizedState=K,V.childLanes=h.childLanes&~v,d.memoizedState=DS,A}return h=(V=h.child).sibling,A=bu(V,{mode:"visible",children:A.children}),!(1&d.mode)&&(A.lanes=v),A.return=d,A.sibling=null,h!==null&&((v=d.deletions)===null?(d.deletions=[h],d.flags|=16):v.push(h)),d.child=A,d.memoizedState=null,A}function LS(h,d){return(d=z_({mode:"visible",children:d},h.mode,0,null)).return=h,h.child=d}function S_(h,d,v,S){return S!==null&&cS(S),td(d,h.child,null,v),(h=LS(d,d.pendingProps.children)).flags|=2,d.memoizedState=null,h}function JD(h,d,v){h.lanes|=d;var S=h.alternate;S!==null&&(S.lanes|=d),pS(h.return,d,v)}function $S(h,d,v,S,A){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:A}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=S,I.tail=v,I.tailMode=A)}function eB(h,d,v){var S=d.pendingProps,A=S.revealOrder,I=S.tail;if(Qn(h,d,S.children,v),(2&(S=sr.current))!=0)S=1&S|2,d.flags|=128;else{if(h!==null&&128&h.flags)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&JD(h,v,d);else if(h.tag===19)JD(h,v,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}S&=1}if(Rt(sr,S),(1&d.mode)==0)d.memoizedState=null;else switch(A){case"forwards":for(v=d.child,A=null;v!==null;)(h=v.alternate)!==null&&y_(h)===null&&(A=v),v=v.sibling;(v=A)===null?(A=d.child,d.child=null):(A=v.sibling,v.sibling=null),$S(d,!1,A,v,I);break;case"backwards":for(v=null,A=d.child,d.child=null;A!==null;){if((h=A.alternate)!==null&&y_(h)===null){d.child=A;break}h=A.sibling,A.sibling=v,v=A,A=h}$S(d,!0,v,null,I);break;case"together":$S(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function A_(h,d){!(1&d.mode)&&h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2)}function Sa(h,d,v){if(h!==null&&(d.dependencies=h.dependencies),ec|=d.lanes,(v&d.childLanes)==0)return null;if(h!==null&&d.child!==h.child)throw Error(s(153));if(d.child!==null){for(v=bu(h=d.child,h.pendingProps),d.child=v,v.return=d;h.sibling!==null;)h=h.sibling,(v=v.sibling=bu(h,h.pendingProps)).return=d;v.sibling=null}return d.child}function So(h){h.flags|=4}function tB(h,d){if(h!==null&&h.child===d.child)return!0;if(16&d.flags)return!1;for(h=d.child;h!==null;){if(12854&h.flags||12854&h.subtreeFlags)return!1;h=h.sibling}return!0}if(Ce)um=function(h,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)q(h,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},lm=function(){},E_=function(h,d,v,S,A){if((h=h.memoizedProps)!==S){var I=d.stateNode,V=Eo(ji.current);v=re(I,v,h,S,A,V),(d.updateQueue=v)&&So(d)}},x_=function(h,d,v,S){v!==S&&So(d)};else if(De){um=function(h,d,v,S){for(var A=d.child;A!==null;){if(A.tag===5){var I=A.stateNode;v&&S&&(I=Kv(I,A.type,A.memoizedProps,A)),q(h,I)}else if(A.tag===6)I=A.stateNode,v&&S&&(I=Jv(I,A.memoizedProps,A)),q(h,I);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(I=A.child)!==null&&(I.return=A),um(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var rB=function(h,d,v,S){for(var A=d.child;A!==null;){if(A.tag===5){var I=A.stateNode;v&&S&&(I=Kv(I,A.type,A.memoizedProps,A)),Qv(h,I)}else if(A.tag===6)I=A.stateNode,v&&S&&(I=Jv(I,A.memoizedProps,A)),Qv(h,I);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(I=A.child)!==null&&(I.return=A),rB(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};lm=function(h,d){var v=d.stateNode;if(!tB(h,d)){h=v.containerInfo;var S=Yv(h);rB(S,d,!1,!1),v.pendingChildren=S,So(d),$x(h,S)}},E_=function(h,d,v,S,A){var I=h.stateNode,V=h.memoizedProps;if((h=tB(h,d))&&V===S)d.stateNode=I;else{var K=d.stateNode,ee=Eo(ji.current),se=null;V!==S&&(se=re(K,v,V,S,A,ee)),h&&se===null?d.stateNode=I:(I=Lx(I,se,v,V,S,d,h,K),ne(I,v,S,A,ee)&&So(d),d.stateNode=I,h?So(d):um(I,d,!1,!1))}},x_=function(h,d,v,S){v!==S?(h=Eo(rd.current),v=Eo(ji.current),d.stateNode=oe(S,h,v,d),So(d)):d.stateNode=h.stateNode}}else lm=function(){},E_=function(){},x_=function(){};function cm(h,d){if(!qt)switch(h.tailMode){case"hidden":d=h.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?h.tail=null:v.sibling=null;break;case"collapsed":v=h.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function On(h){var d=h.alternate!==null&&h.alternate.child===h.child,v=0,S=0;if(d)for(var A=h.child;A!==null;)v|=A.lanes|A.childLanes,S|=14680064&A.subtreeFlags,S|=14680064&A.flags,A.return=h,A=A.sibling;else for(A=h.child;A!==null;)v|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=h,A=A.sibling;return h.subtreeFlags|=S,h.childLanes=v,d}function JX(h,d,v){var S=d.pendingProps;switch(aS(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(d),null;case 1:case 17:return pi(d.type)&&Qx(),On(d),null;case 3:return v=d.stateNode,nd(),Ct(Xn),Ct(cn),ES(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),h!==null&&h.child!==null||(u_(d)?So(d):h===null||h.memoizedState.isDehydrated&&!(256&d.flags)||(d.flags|=1024,Ss!==null&&(eA(Ss),Ss=null))),lm(h,d),On(d),null;case 5:bS(d),v=Eo(rd.current);var A=d.type;if(h!==null&&d.stateNode!=null)E_(h,d,A,S,v),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(s(166));return On(d),null}if(h=Eo(ji.current),u_(d)){if(!te)throw Error(s(175));h=Wx(d.stateNode,d.type,d.memoizedProps,v,h,d,!em),d.updateQueue=h,h!==null&&So(d)}else{var I=z(A,S,v,h,d);um(I,d,!1,!1),d.stateNode=I,ne(I,A,S,v,h)&&So(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return On(d),null;case 6:if(h&&d.stateNode!=null)x_(h,d,h.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(s(166));if(h=Eo(rd.current),v=Eo(ji.current),u_(d)){if(!te)throw Error(s(176));if(h=d.stateNode,v=d.memoizedProps,(S=qx(h,v,d,!em))&&(A=mi)!==null)switch(A.tag){case 3:Q(A.stateNode.containerInfo,h,v,(1&A.mode)!=0);break;case 5:Y(A.type,A.memoizedProps,A.stateNode,h,v,(1&A.mode)!=0)}S&&So(d)}else d.stateNode=oe(S,h,v,d)}return On(d),null;case 13:if(Ct(sr),S=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(qt&&Fi!==null&&1&d.mode&&!(128&d.flags))iD(),Kh(),d.flags|=98560,A=!1;else if(A=u_(d),S!==null&&S.dehydrated!==null){if(h===null){if(!A)throw Error(s(318));if(!te)throw Error(s(344));if(!(A=(A=d.memoizedState)!==null?A.dehydrated:null))throw Error(s(317));Zx(A,d)}else Kh(),!(128&d.flags)&&(d.memoizedState=null),d.flags|=4;On(d),A=!1}else Ss!==null&&(eA(Ss),Ss=null),A=!0;if(!A)return 65536&d.flags?d:null}return 128&d.flags?(d.lanes=v,d):((v=S!==null)!=(h!==null&&h.memoizedState!==null)&&v&&(d.child.flags|=8192,1&d.mode&&(h===null||1&sr.current?Tr===0&&(Tr=3):rA())),d.updateQueue!==null&&(d.flags|=4),On(d),null);case 4:return nd(),lm(h,d),h===null&&ke(d.stateNode.containerInfo),On(d),null;case 10:return fS(d.type._context),On(d),null;case 19:if(Ct(sr),(A=d.memoizedState)===null)return On(d),null;if(S=(128&d.flags)!=0,(I=A.rendering)===null)if(S)cm(A,!1);else{if(Tr!==0||h!==null&&128&h.flags)for(h=d.child;h!==null;){if((I=y_(h))!==null){for(d.flags|=128,cm(A,!1),(h=I.updateQueue)!==null&&(d.updateQueue=h,d.flags|=4),d.subtreeFlags=0,h=v,v=d.child;v!==null;)A=h,(S=v).flags&=14680066,(I=S.alternate)===null?(S.childLanes=0,S.lanes=A,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,A=I.dependencies,S.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),v=v.sibling;return Rt(sr,1&sr.current|2),d.child}h=h.sibling}A.tail!==null&&Dr()>YS&&(d.flags|=128,S=!0,cm(A,!1),d.lanes=4194304)}else{if(!S)if((h=y_(I))!==null){if(d.flags|=128,S=!0,(h=h.updateQueue)!==null&&(d.updateQueue=h,d.flags|=4),cm(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!qt)return On(d),null}else 2*Dr()-A.renderingStartTime>YS&&v!==1073741824&&(d.flags|=128,S=!0,cm(A,!1),d.lanes=4194304);A.isBackwards?(I.sibling=d.child,d.child=I):((h=A.last)!==null?h.sibling=I:d.child=I,A.last=I)}return A.tail!==null?(d=A.tail,A.rendering=d,A.tail=d.sibling,A.renderingStartTime=Dr(),d.sibling=null,h=sr.current,Rt(sr,S?1&h|2:1&h),d):(On(d),null);case 22:case 23:return tA(),v=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==v&&(d.flags|=8192),v&&1&d.mode?1073741824&yi&&(On(d),Ce&&6&d.subtreeFlags&&(d.flags|=8192)):On(d),null;case 24:case 25:return null}throw Error(s(156,d.tag))}function eY(h,d){switch(aS(d),d.tag){case 1:return pi(d.type)&&Qx(),65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 3:return nd(),Ct(Xn),Ct(cn),ES(),65536&(h=d.flags)&&!(128&h)?(d.flags=-65537&h|128,d):null;case 5:return bS(d),null;case 13:if(Ct(sr),(h=d.memoizedState)!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(s(340));Kh()}return 65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 19:return Ct(sr),null;case 4:return nd(),null;case 10:return fS(d.type._context),null;case 22:case 23:return tA(),null;default:return null}}var T_=!1,dn=!1,tY=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function sd(h,d){var v=h.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){Zt(h,d,S)}else v.current=null}function nB(h,d,v){try{v()}catch(S){Zt(h,d,S)}}var iB=!1;function hm(h,d,v){var S=d.updateQueue;if((S=S!==null?S.lastEffect:null)!==null){var A=S=S.next;do{if((A.tag&h)===h){var I=A.destroy;A.destroy=void 0,I!==void 0&&nB(d,v,I)}A=A.next}while(A!==S)}}function C_(h,d){if((d=(d=d.updateQueue)!==null?d.lastEffect:null)!==null){var v=d=d.next;do{if((v.tag&h)===h){var S=v.create;v.destroy=S()}v=v.next}while(v!==d)}}function FS(h){var d=h.ref;if(d!==null){var v=h.stateNode;h.tag===5?h=P(v):h=v,typeof d=="function"?d(h):d.current=h}}function sB(h){var d=h.alternate;d!==null&&(h.alternate=null,sB(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode)!==null&&Qe(d),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function oB(h){return h.tag===5||h.tag===3||h.tag===4}function aB(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||oB(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.flags||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(2&h.flags))return h.stateNode}}function US(h,d,v){var S=h.tag;if(S===5||S===6)h=h.stateNode,d?qh(v,h,d):ql(v,h);else if(S!==4&&(h=h.child)!==null)for(US(h,d,v),h=h.sibling;h!==null;)US(h,d,v),h=h.sibling}function jS(h,d,v){var S=h.tag;if(S===5||S===6)h=h.stateNode,d?Zl(v,h,d):yo(v,h);else if(S!==4&&(h=h.child)!==null)for(jS(h,d,v),h=h.sibling;h!==null;)jS(h,d,v),h=h.sibling}var Rn=null,Ao=!1;function To(h,d,v){for(v=v.child;v!==null;)zS(h,d,v),v=v.sibling}function zS(h,d,v){if(vo&&typeof vo.onCommitFiberUnmount=="function")try{vo.onCommitFiberUnmount(i_,v)}catch{}switch(v.tag){case 5:dn||sd(v,d);case 6:if(Ce){var S=Rn,A=Ao;Rn=null,To(h,d,v),Ao=A,(Rn=S)!==null&&(Ao?kx(Rn,v.stateNode):Rx(Rn,v.stateNode))}else To(h,d,v);break;case 18:Ce&&Rn!==null&&(Ao?L(Rn,v.stateNode):T(Rn,v.stateNode));break;case 4:Ce?(S=Rn,A=Ao,Rn=v.stateNode.containerInfo,Ao=!0,To(h,d,v),Rn=S,Ao=A):(De&&(S=v.stateNode.containerInfo,A=Yv(S),Yp(S,A)),To(h,d,v));break;case 0:case 11:case 14:case 15:if(!dn&&(S=v.updateQueue)!==null&&(S=S.lastEffect)!==null){A=S=S.next;do{var I=A,V=I.destroy;I=I.tag,V!==void 0&&(2&I||4&I)&&nB(v,d,V),A=A.next}while(A!==S)}To(h,d,v);break;case 1:if(!dn&&(sd(v,d),typeof(S=v.stateNode).componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(K){Zt(v,d,K)}To(h,d,v);break;case 21:To(h,d,v);break;case 22:1&v.mode?(dn=(S=dn)||v.memoizedState!==null,To(h,d,v),dn=S):To(h,d,v);break;default:To(h,d,v)}}function uB(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var v=h.stateNode;v===null&&(v=h.stateNode=new tY),d.forEach(function(S){var A=uY.bind(null,h,S);v.has(S)||(v.add(S),S.then(A,A))})}}function Ts(h,d){var v=d.deletions;if(v!==null)for(var S=0;S<v.length;S++){var A=v[S];try{var I=h,V=d;if(Ce){var K=V;e:for(;K!==null;){switch(K.tag){case 5:Rn=K.stateNode,Ao=!1;break e;case 3:case 4:Rn=K.stateNode.containerInfo,Ao=!0;break e}K=K.return}if(Rn===null)throw Error(s(160));zS(I,V,A),Rn=null,Ao=!1}else zS(I,V,A);var ee=A.alternate;ee!==null&&(ee.return=null),A.return=null}catch(se){Zt(A,d,se)}}if(12854&d.subtreeFlags)for(d=d.child;d!==null;)lB(d,h),d=d.sibling}function lB(h,d){var v=h.alternate,S=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Ts(d,h),Co(h),4&S){try{hm(3,h,h.return),C_(3,h)}catch(ue){Zt(h,h.return,ue)}try{hm(5,h,h.return)}catch(ue){Zt(h,h.return,ue)}}break;case 1:Ts(d,h),Co(h),512&S&&v!==null&&sd(v,v.return);break;case 5:if(Ts(d,h),Co(h),512&S&&v!==null&&sd(v,v.return),Ce){if(32&h.flags){var A=h.stateNode;try{Xv(A)}catch(ue){Zt(h,h.return,ue)}}if(4&S&&(A=h.stateNode)!=null){var I=h.memoizedProps;if(v=v!==null?v.memoizedProps:I,S=h.type,d=h.updateQueue,h.updateQueue=null,d!==null)try{go(A,d,S,v,I,h)}catch(ue){Zt(h,h.return,ue)}}}break;case 6:if(Ts(d,h),Co(h),4&S&&Ce){if(h.stateNode===null)throw Error(s(162));A=h.stateNode,I=h.memoizedProps,v=v!==null?v.memoizedProps:I;try{ws(A,v,I)}catch(ue){Zt(h,h.return,ue)}}break;case 3:if(Ts(d,h),Co(h),4&S){if(Ce&&te&&v!==null&&v.memoizedState.isDehydrated)try{Yx(d.containerInfo)}catch(ue){Zt(h,h.return,ue)}if(De){A=d.containerInfo,I=d.pendingChildren;try{Yp(A,I)}catch(ue){Zt(h,h.return,ue)}}}break;case 4:if(Ts(d,h),Co(h),4&S&&De){A=(I=h.stateNode).containerInfo,I=I.pendingChildren;try{Yp(A,I)}catch(ue){Zt(h,h.return,ue)}}break;case 13:Ts(d,h),Co(h),8192&(A=h.child).flags&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(XS=Dr())),4&S&&uB(h);break;case 22:var V=v!==null&&v.memoizedState!==null;if(1&h.mode?(dn=(v=dn)||V,Ts(d,h),dn=v):Ts(d,h),Co(h),8192&S){if(v=h.memoizedState!==null,(h.stateNode.isHidden=v)&&!V&&(1&h.mode)!=0)for(Oe=h,S=h.child;S!==null;){for(d=Oe=S;Oe!==null;){var K=(V=Oe).child;switch(V.tag){case 0:case 11:case 14:case 15:hm(4,V,V.return);break;case 1:sd(V,V.return);var ee=V.stateNode;if(typeof ee.componentWillUnmount=="function"){var se=V,ce=V.return;try{var we=se;ee.props=we.memoizedProps,ee.state=we.memoizedState,ee.componentWillUnmount()}catch(ue){Zt(se,ce,ue)}}break;case 5:sd(V,V.return);break;case 22:if(V.memoizedState!==null){dB(d);continue}}K!==null?(K.return=V,Oe=K):dB(d)}S=S.sibling}if(Ce){e:if(S=null,Ce)for(d=h;;){if(d.tag===5){if(S===null){S=d;try{A=d.stateNode,v?Px(A):Mx(d.stateNode,d.memoizedProps)}catch(ue){Zt(h,h.return,ue)}}}else if(d.tag===6){if(S===null)try{I=d.stateNode,v?Nx(I):Dx(I,d.memoizedProps)}catch(ue){Zt(h,h.return,ue)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;S===d&&(S=null),d=d.return}S===d&&(S=null),d.sibling.return=d.return,d=d.sibling}}}break;case 19:Ts(d,h),Co(h),4&S&&uB(h);break;case 21:break;default:Ts(d,h),Co(h)}}function Co(h){var d=h.flags;if(2&d){try{if(Ce){e:{for(var v=h.return;v!==null;){if(oB(v)){var S=v;break e}v=v.return}throw Error(s(160))}switch(S.tag){case 5:var A=S.stateNode;32&S.flags&&(Xv(A),S.flags&=-33),jS(h,aB(h),A);break;case 3:case 4:var I=S.stateNode.containerInfo;US(h,aB(h),I);break;default:throw Error(s(161))}}}catch(V){Zt(h,h.return,V)}h.flags&=-3}4096&d&&(h.flags&=-4097)}function rY(h,d,v){Oe=h,cB(h)}function cB(h,d,v){for(var S=(1&h.mode)!=0;Oe!==null;){var A=Oe,I=A.child;if(A.tag===22&&S){var V=A.memoizedState!==null||T_;if(!V){var K=A.alternate,ee=K!==null&&K.memoizedState!==null||dn;K=T_;var se=dn;if(T_=V,(dn=ee)&&!se)for(Oe=A;Oe!==null;)ee=(V=Oe).child,V.tag===22&&V.memoizedState!==null?fB(A):ee!==null?(ee.return=V,Oe=ee):fB(A);for(;I!==null;)Oe=I,cB(I),I=I.sibling;Oe=A,T_=K,dn=se}hB(h)}else 8772&A.subtreeFlags&&I!==null?(I.return=A,Oe=I):hB(h)}}function hB(h){for(;Oe!==null;){var d=Oe;if(8772&d.flags){var v=d.alternate;try{if(8772&d.flags)switch(d.tag){case 0:case 11:case 15:dn||C_(5,d);break;case 1:var S=d.stateNode;if(4&d.flags&&!dn)if(v===null)S.componentDidMount();else{var A=d.elementType===d.type?v.memoizedProps:As(d.type,v.memoizedProps);S.componentDidUpdate(A,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&lD(d,I,S);break;case 3:var V=d.updateQueue;if(V!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=P(d.child.stateNode);break;case 1:v=d.child.stateNode}lD(d,V,v)}break;case 5:var K=d.stateNode;v===null&&4&d.flags&&In(K,d.type,d.memoizedProps,d);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(te&&d.memoizedState===null){var ee=d.alternate;if(ee!==null){var se=ee.memoizedState;if(se!==null){var ce=se.dehydrated;ce!==null&&Z(ce)}}}break;default:throw Error(s(163))}dn||512&d.flags&&FS(d)}catch(we){Zt(d,d.return,we)}}if(d===h){Oe=null;break}if((v=d.sibling)!==null){v.return=d.return,Oe=v;break}Oe=d.return}}function dB(h){for(;Oe!==null;){var d=Oe;if(d===h){Oe=null;break}var v=d.sibling;if(v!==null){v.return=d.return,Oe=v;break}Oe=d.return}}function fB(h){for(;Oe!==null;){var d=Oe;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{C_(4,d)}catch(ee){Zt(d,v,ee)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var A=d.return;try{S.componentDidMount()}catch(ee){Zt(d,A,ee)}}var I=d.return;try{FS(d)}catch(ee){Zt(d,I,ee)}break;case 5:var V=d.return;try{FS(d)}catch(ee){Zt(d,V,ee)}}}catch(ee){Zt(d,d.return,ee)}if(d===h){Oe=null;break}var K=d.sibling;if(K!==null){K.return=d.return,Oe=K;break}Oe=d.return}}var I_=0,O_=1,R_=2,k_=3,P_=4;if(typeof Symbol=="function"&&Symbol.for){var dm=Symbol.for;I_=dm("selector.component"),O_=dm("selector.has_pseudo_class"),R_=dm("selector.role"),k_=dm("selector.test_id"),P_=dm("selector.text")}function HS(h){var d=de(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(s(364));return d}if((h=An(h))===null)throw Error(s(362));return h.stateNode.current}function VS(h,d){switch(d.$$typeof){case I_:if(h.type===d.value)return!0;break;case O_:e:{d=d.value,h=[h,0];for(var v=0;v<h.length;){var S=h[v++],A=h[v++],I=d[A];if(S.tag!==5||!Xr(S)){for(;I!=null&&VS(S,I);)I=d[++A];if(A===d.length){d=!0;break e}for(S=S.child;S!==null;)h.push(S,A),S=S.sibling}}d=!1}return d;case R_:if(h.tag===5&&Cn(h.stateNode,d.value))return!0;break;case P_:if((h.tag===5||h.tag===6)&&(h=bs(h))!==null&&0<=h.indexOf(d.value))return!0;break;case k_:if(h.tag===5&&typeof(h=h.memoizedProps["data-testname"])=="string"&&h.toLowerCase()===d.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function GS(h){switch(h.$$typeof){case I_:return"<"+(M(h.value)||"Unknown")+">";case O_:return":has("+(GS(h)||"")+")";case R_:return'[role="'+h.value+'"]';case P_:return'"'+h.value+'"';case k_:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function pB(h,d){var v=[];h=[h,0];for(var S=0;S<h.length;){var A=h[S++],I=h[S++],V=d[I];if(A.tag!==5||!Xr(A)){for(;V!=null&&VS(A,V);)V=d[++I];if(I===d.length)v.push(A);else for(A=A.child;A!==null;)h.push(A,I),A=A.sibling}}return v}function WS(h,d){if(!Lt)throw Error(s(363));h=pB(h=HS(h),d),d=[],h=Array.from(h);for(var v=0;v<h.length;){var S=h[v++];if(S.tag===5)Xr(S)||d.push(S.stateNode);else for(S=S.child;S!==null;)h.push(S),S=S.sibling}return d}var nY=Math.ceil,N_=o.ReactCurrentDispatcher,qS=o.ReactCurrentOwner,cr=o.ReactCurrentBatchConfig,dt=0,$r=null,vr=null,Yr=0,yi=0,od=ba(0),Tr=0,fm=null,ec=0,M_=0,ZS=0,pm=null,gi=null,XS=0,YS=1/0,mu=null;function ad(){YS=Dr()+500}var mB,D_=!1,QS=null,yu=null,B_=!1,gu=null,L_=0,mm=0,KS=null,$_=-1,F_=0;function fn(){return 6&dt?Dr():$_!==-1?$_:$_=Dr()}function vu(h){return 1&h.mode?2&dt&&Yr!==0?Yr&-Yr:zX.transition!==null?(F_===0&&(F_=XM()),F_):(h=vt)!==0?h:We():1}function Hi(h,d,v,S){if(50<mm)throw mm=0,KS=null,Error(s(185));Jp(h,v,S),2&dt&&h===$r||(h===$r&&(!(2&dt)&&(M_|=v),Tr===4&&_u(h,Yr)),Kn(h,S),v===1&&dt===0&&!(1&d.mode)&&(ad(),s_&&_o()))}function Kn(h,d){var v=h.callbackNode;(function(A,I){for(var V=A.suspendedLanes,K=A.pingedLanes,ee=A.expirationTimes,se=A.pendingLanes;0<se;){var ce=31-Es(se),we=1<<ce,ue=ee[ce];ue===-1?we&V&&!(we&K)||(ee[ce]=LX(we,I)):ue<=I&&(A.expiredLanes|=we),se&=~we}})(h,d);var S=n_(h,h===$r?Yr:0);if(S===0)v!==null&&QM(v),h.callbackNode=null,h.callbackPriority=0;else if(d=S&-S,h.callbackPriority!==d){if(v!=null&&QM(v),d===1)h.tag===0?function(A){s_=!0,JM(A)}(gB.bind(null,h)):JM(gB.bind(null,h)),ht?Kt(function(){!(6&dt)&&_o()}):nS(iS,_o),v=null;else{switch(YM(S)){case 1:v=iS;break;case 4:v=UX;break;case 16:default:v=KM;break;case 536870912:v=jX}v=AB(v,yB.bind(null,h))}h.callbackPriority=d,h.callbackNode=v}}function yB(h,d){if($_=-1,F_=0,(6&dt)!=0)throw Error(s(327));var v=h.callbackNode;if(rc()&&h.callbackNode!==v)return null;var S=n_(h,h===$r?Yr:0);if(S===0)return null;if(30&S||S&h.expiredLanes||d)d=U_(h,S);else{d=S;var A=dt;dt|=2;var I=bB();for($r===h&&Yr===d||(mu=null,ad(),tc(h,d));;)try{sY();break}catch(K){_B(h,K)}dS(),N_.current=I,dt=A,vr!==null?d=0:($r=null,Yr=0,d=Tr)}if(d!==0){if(d===2&&(A=eS(h))!==0&&(S=A,d=JS(h,A)),d===1)throw v=fm,tc(h,0),_u(h,S),Kn(h,Dr()),v;if(d===6)_u(h,S);else{if(A=h.current.alternate,(30&S)==0&&!function(K){for(var ee=K;;){if(16384&ee.flags){var se=ee.updateQueue;if(se!==null&&(se=se.stores)!==null)for(var ce=0;ce<se.length;ce++){var we=se[ce],ue=we.getSnapshot;we=we.value;try{if(!xs(ue(),we))return!1}catch{return!1}}}if(se=ee.child,16384&ee.subtreeFlags&&se!==null)se.return=ee,ee=se;else{if(ee===K)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===K)return!0;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}return!0}(A)&&((d=U_(h,S))===2&&(I=eS(h))!==0&&(S=I,d=JS(h,I)),d===1))throw v=fm,tc(h,0),_u(h,S),Kn(h,Dr()),v;switch(h.finishedWork=A,h.finishedLanes=S,d){case 0:case 1:throw Error(s(345));case 2:case 5:ud(h,gi,mu);break;case 3:if(_u(h,S),(130023424&S)===S&&10<(d=XS+500-Dr())){if(n_(h,0)!==0)break;if(((A=h.suspendedLanes)&S)!==S){fn(),h.pingedLanes|=h.suspendedLanes&A;break}h.timeoutHandle=ve(ud.bind(null,h,gi,mu),d);break}ud(h,gi,mu);break;case 4:if(_u(h,S),(4194240&S)===S)break;for(d=h.eventTimes,A=-1;0<S;){var V=31-Es(S);I=1<<V,(V=d[V])>A&&(A=V),S&=~I}if(S=A,10<(S=(120>(S=Dr()-S)?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*nY(S/1960))-S)){h.timeoutHandle=ve(ud.bind(null,h,gi,mu),S);break}ud(h,gi,mu);break;default:throw Error(s(329))}}}return Kn(h,Dr()),h.callbackNode===v?yB.bind(null,h):null}function JS(h,d){var v=pm;return h.current.memoizedState.isDehydrated&&(tc(h,d).flags|=256),(h=U_(h,d))!==2&&(d=gi,gi=v,d!==null&&eA(d)),h}function eA(h){gi===null?gi=h:gi.push.apply(gi,h)}function _u(h,d){for(d&=~ZS,d&=~M_,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var v=31-Es(d),S=1<<v;h[v]=-1,d&=~S}}function gB(h){if(6&dt)throw Error(s(327));rc();var d=n_(h,0);if(!(1&d))return Kn(h,Dr()),null;var v=U_(h,d);if(h.tag!==0&&v===2){var S=eS(h);S!==0&&(d=S,v=JS(h,S))}if(v===1)throw v=fm,tc(h,0),_u(h,d),Kn(h,Dr()),v;if(v===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,ud(h,gi,mu),Kn(h,Dr()),null}function vB(h){gu!==null&&gu.tag===0&&!(6&dt)&&rc();var d=dt;dt|=1;var v=cr.transition,S=vt;try{if(cr.transition=null,vt=1,h)return h()}finally{vt=S,cr.transition=v,!(6&(dt=d))&&_o()}}function tA(){yi=od.current,Ct(od)}function tc(h,d){h.finishedWork=null,h.finishedLanes=0;var v=h.timeoutHandle;if(v!==_e&&(h.timeoutHandle=_e,Pe(v)),vr!==null)for(v=vr.return;v!==null;){var S=v;switch(aS(S),S.tag){case 1:(S=S.type.childContextTypes)!=null&&Qx();break;case 3:nd(),Ct(Xn),Ct(cn),ES();break;case 5:bS(S);break;case 4:nd();break;case 13:case 19:Ct(sr);break;case 10:fS(S.type._context);break;case 22:case 23:tA()}v=v.return}if($r=h,vr=h=bu(h.current,null),Yr=yi=d,Tr=0,fm=null,ZS=M_=ec=0,gi=pm=null,Kl!==null){for(d=0;d<Kl.length;d++)if((S=(v=Kl[d]).interleaved)!==null){v.interleaved=null;var A=S.next,I=v.pending;if(I!==null){var V=I.next;I.next=A,S.next=V}v.pending=S}Kl=null}return h}function _B(h,d){for(;;){var v=vr;try{if(dS(),g_.current=w_,v_){for(var S=Jt.memoizedState;S!==null;){var A=S.queue;A!==null&&(A.pending=null),S=S.next}v_=!1}if(Jl=0,Lr=Br=Jt=null,im=!1,sm=0,qS.current=null,v===null||v.return===null){Tr=1,fm=d,vr=null;break}e:{var I=h,V=v.return,K=v,ee=d;if(d=Yr,K.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var se=ee,ce=K,we=ce.tag;if(!(1&ce.mode)&&(we===0||we===11||we===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ye=zD(V);if(ye!==null){ye.flags&=-257,HD(ye,V,K,0,d),1&ye.mode&&jD(I,se,d),ee=se;var Be=(d=ye).updateQueue;if(Be===null){var nt=new Set;nt.add(ee),d.updateQueue=nt}else Be.add(ee);break e}if(!(1&d)){jD(I,se,d),rA();break e}ee=Error(s(426))}else if(qt&&1&K.mode){var he=zD(V);if(he!==null){!(65536&he.flags)&&(he.flags|=256),HD(he,V,K,0,d),cS(id(ee,K));break e}}I=ee=id(ee,K),Tr!==4&&(Tr=2),pm===null?pm=[I]:pm.push(I),I=V;do{switch(I.tag){case 3:I.flags|=65536,d&=-d,I.lanes|=d,uD(I,FD(0,ee,d));break e;case 1:K=ee;var J=I.type,ie=I.stateNode;if(!(128&I.flags)&&(typeof J.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(yu===null||!yu.has(ie)))){I.flags|=65536,d&=-d,I.lanes|=d,uD(I,UD(I,K,d));break e}}I=I.return}while(I!==null)}EB(v)}catch(pe){d=pe,vr===v&&v!==null&&(vr=v=v.return);continue}break}}function bB(){var h=N_.current;return N_.current=w_,h===null?w_:h}function rA(){Tr!==0&&Tr!==3&&Tr!==2||(Tr=4),$r===null||!(268435455&ec)&&!(268435455&M_)||_u($r,Yr)}function U_(h,d){var v=dt;dt|=2;var S=bB();for($r===h&&Yr===d||(mu=null,tc(h,d));;)try{iY();break}catch(A){_B(h,A)}if(dS(),dt=v,N_.current=S,vr!==null)throw Error(s(261));return $r=null,Yr=0,Tr}function iY(){for(;vr!==null;)wB(vr)}function sY(){for(;vr!==null&&!$X();)wB(vr)}function wB(h){var d=mB(h.alternate,h,yi);h.memoizedProps=h.pendingProps,d===null?EB(h):vr=d,qS.current=null}function EB(h){var d=h;do{var v=d.alternate;if(h=d.return,(32768&d.flags)==0){if((v=JX(v,d,yi))!==null)return void(vr=v)}else{if((v=eY(v,d))!==null)return v.flags&=32767,void(vr=v);if(h===null)return Tr=6,void(vr=null);h.flags|=32768,h.subtreeFlags=0,h.deletions=null}if((d=d.sibling)!==null)return void(vr=d);vr=d=h}while(d!==null);Tr===0&&(Tr=5)}function ud(h,d,v){var S=vt,A=cr.transition;try{cr.transition=null,vt=1,function(I,V,K,ee){do rc();while(gu!==null);if(6&dt)throw Error(s(327));K=I.finishedWork;var se=I.finishedLanes;if(K===null)return null;if(I.finishedWork=null,I.finishedLanes=0,K===I.current)throw Error(s(177));I.callbackNode=null,I.callbackPriority=0;var ce=K.lanes|K.childLanes;if(function(ye,Be){var nt=ye.pendingLanes&~Be;ye.pendingLanes=Be,ye.suspendedLanes=0,ye.pingedLanes=0,ye.expiredLanes&=Be,ye.mutableReadLanes&=Be,ye.entangledLanes&=Be,Be=ye.entanglements;var he=ye.eventTimes;for(ye=ye.expirationTimes;0<nt;){var J=31-Es(nt),ie=1<<J;Be[J]=0,he[J]=-1,ye[J]=-1,nt&=~ie}}(I,ce),I===$r&&(vr=$r=null,Yr=0),!(2064&K.subtreeFlags)&&!(2064&K.flags)||B_||(B_=!0,AB(KM,function(){return rc(),null})),ce=(15990&K.flags)!=0,(15990&K.subtreeFlags)!=0||ce){ce=cr.transition,cr.transition=null;var we=vt;vt=1;var ue=dt;dt|=4,qS.current=null,function(ye,Be){for(F(ye.containerInfo),Oe=Be;Oe!==null;)if(Be=(ye=Oe).child,(1028&ye.subtreeFlags)!=0&&Be!==null)Be.return=ye,Oe=Be;else for(;Oe!==null;){ye=Oe;try{var nt=ye.alternate;if(1024&ye.flags)switch(ye.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(nt!==null){var he=nt.memoizedProps,J=nt.memoizedState,ie=ye.stateNode,pe=ie.getSnapshotBeforeUpdate(ye.elementType===ye.type?he:As(ye.type,he),J);ie.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:Ce&&Bx(ye.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ve){Zt(ye,ye.return,Ve)}if((Be=ye.sibling)!==null){Be.return=ye.return,Oe=Be;break}Oe=ye.return}nt=iB,iB=!1}(I,K),lB(K,I),$(I.containerInfo),I.current=K,rY(K),FX(),dt=ue,vt=we,cr.transition=ce}else I.current=K;if(B_&&(B_=!1,gu=I,L_=se),ce=I.pendingLanes,ce===0&&(yu=null),function(ye){if(vo&&typeof vo.onCommitFiberRoot=="function")try{vo.onCommitFiberRoot(i_,ye,void 0,(128&ye.current.flags)==128)}catch{}}(K.stateNode),Kn(I,Dr()),V!==null)for(ee=I.onRecoverableError,K=0;K<V.length;K++)se=V[K],ee(se.value,{componentStack:se.stack,digest:se.digest});if(D_)throw D_=!1,I=QS,QS=null,I;1&L_&&I.tag!==0&&rc(),ce=I.pendingLanes,1&ce?I===KS?mm++:(mm=0,KS=I):mm=0,_o()}(h,d,v,S)}finally{cr.transition=A,vt=S}return null}function rc(){if(gu!==null){var h=YM(L_),d=cr.transition,v=vt;try{if(cr.transition=null,vt=16>h?16:h,gu===null)var S=!1;else{if(h=gu,gu=null,L_=0,(6&dt)!=0)throw Error(s(331));var A=dt;for(dt|=4,Oe=h.current;Oe!==null;){var I=Oe,V=I.child;if(16&Oe.flags){var K=I.deletions;if(K!==null){for(var ee=0;ee<K.length;ee++){var se=K[ee];for(Oe=se;Oe!==null;){var ce=Oe;switch(ce.tag){case 0:case 11:case 15:hm(8,ce,I)}var we=ce.child;if(we!==null)we.return=ce,Oe=we;else for(;Oe!==null;){var ue=(ce=Oe).sibling,ye=ce.return;if(sB(ce),ce===se){Oe=null;break}if(ue!==null){ue.return=ye,Oe=ue;break}Oe=ye}}}var Be=I.alternate;if(Be!==null){var nt=Be.child;if(nt!==null){Be.child=null;do{var he=nt.sibling;nt.sibling=null,nt=he}while(nt!==null)}}Oe=I}}if(2064&I.subtreeFlags&&V!==null)V.return=I,Oe=V;else e:for(;Oe!==null;){if(2048&(I=Oe).flags)switch(I.tag){case 0:case 11:case 15:hm(9,I,I.return)}var J=I.sibling;if(J!==null){J.return=I.return,Oe=J;break e}Oe=I.return}}var ie=h.current;for(Oe=ie;Oe!==null;){var pe=(V=Oe).child;if(2064&V.subtreeFlags&&pe!==null)pe.return=V,Oe=pe;else e:for(V=ie;Oe!==null;){if(2048&(K=Oe).flags)try{switch(K.tag){case 0:case 11:case 15:C_(9,K)}}catch(St){Zt(K,K.return,St)}if(K===V){Oe=null;break e}var Ve=K.sibling;if(Ve!==null){Ve.return=K.return,Oe=Ve;break e}Oe=K.return}}if(dt=A,_o(),vo&&typeof vo.onPostCommitFiberRoot=="function")try{vo.onPostCommitFiberRoot(i_,h)}catch{}S=!0}return S}finally{vt=v,cr.transition=d}}return!1}function xB(h,d,v){h=pu(h,d=FD(0,d=id(v,d),1),1),d=fn(),h!==null&&(Jp(h,1,d),Kn(h,d))}function Zt(h,d,v){if(h.tag===3)xB(h,h,v);else for(;d!==null;){if(d.tag===3){xB(d,h,v);break}if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(yu===null||!yu.has(S))){d=pu(d,h=UD(d,h=id(v,h),1),1),h=fn(),d!==null&&(Jp(d,1,h),Kn(d,h));break}}d=d.return}}function oY(h,d,v){var S=h.pingCache;S!==null&&S.delete(d),d=fn(),h.pingedLanes|=h.suspendedLanes&v,$r===h&&(Yr&v)===v&&(Tr===4||Tr===3&&(130023424&Yr)===Yr&&500>Dr()-XS?tc(h,0):ZS|=v),Kn(h,d)}function SB(h,d){d===0&&(1&h.mode?(d=Jx,!(130023424&(Jx<<=1))&&(Jx=4194304)):d=1);var v=fn();(h=wo(h,d))!==null&&(Jp(h,d,v),Kn(h,v))}function aY(h){var d=h.memoizedState,v=0;d!==null&&(v=d.retryLane),SB(h,v)}function uY(h,d){var v=0;switch(h.tag){case 13:var S=h.stateNode,A=h.memoizedState;A!==null&&(v=A.retryLane);break;case 19:S=h.stateNode;break;default:throw Error(s(314))}S!==null&&S.delete(d),SB(h,v)}function AB(h,d){return nS(h,d)}function lY(h,d,v,S){this.tag=h,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(h,d,v,S){return new lY(h,d,v,S)}function nA(h){return!(!(h=h.prototype)||!h.isReactComponent)}function bu(h,d){var v=h.alternate;return v===null?((v=Vi(h.tag,d,h.key,h.mode)).elementType=h.elementType,v.type=h.type,v.stateNode=h.stateNode,v.alternate=h,h.alternate=v):(v.pendingProps=d,v.type=h.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=14680064&h.flags,v.childLanes=h.childLanes,v.lanes=h.lanes,v.child=h.child,v.memoizedProps=h.memoizedProps,v.memoizedState=h.memoizedState,v.updateQueue=h.updateQueue,d=h.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=h.sibling,v.index=h.index,v.ref=h.ref,v}function j_(h,d,v,S,A,I){var V=2;if(S=h,typeof h=="function")nA(h)&&(V=1);else if(typeof h=="string")V=5;else e:switch(h){case l:return nc(v.children,A,I,d);case c:V=8,A|=8;break;case f:return(h=Vi(12,v,d,2|A)).elementType=f,h.lanes=I,h;case g:return(h=Vi(13,v,d,A)).elementType=g,h.lanes=I,h;case b:return(h=Vi(19,v,d,A)).elementType=b,h.lanes=I,h;case E:return z_(v,A,I,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:V=10;break e;case m:V=9;break e;case y:V=11;break e;case _:V=14;break e;case w:V=16,S=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return(d=Vi(V,v,d,A)).elementType=h,d.type=S,d.lanes=I,d}function nc(h,d,v,S){return(h=Vi(7,h,S,d)).lanes=v,h}function z_(h,d,v,S){return(h=Vi(22,h,S,d)).elementType=E,h.lanes=v,h.stateNode={isHidden:!1},h}function iA(h,d,v){return(h=Vi(6,h,null,d)).lanes=v,h}function sA(h,d,v){return(d=Vi(4,h.children!==null?h.children:[],h.key,d)).lanes=v,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function cY(h,d,v,S,A){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tS(0),this.expirationTimes=tS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tS(0),this.identifierPrefix=S,this.onRecoverableError=A,te&&(this.mutableSourceEagerHydrationData=null)}function TB(h,d,v,S,A,I,V,K,ee){return h=new cY(h,d,v,K,ee),d===1?(d=1,I===!0&&(d|=8)):d=0,I=Vi(3,null,null,d),h.current=I,I.stateNode=h,I.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},yS(I),h}function CB(h){if(!h)return du;e:{if(D(h=h._reactInternals)!==h||h.tag!==1)throw Error(s(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(pi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(s(171))}if(h.tag===1){var v=h.type;if(pi(v))return qM(h,v,d)}return d}function IB(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return(h=U(d))===null?null:h.stateNode}function OB(h,d){if((h=h.memoizedState)!==null&&h.dehydrated!==null){var v=h.retryLane;h.retryLane=v!==0&&v<d?v:d}}function H_(h,d){OB(h,d),(h=h.alternate)&&OB(h,d)}function hY(h){return(h=U(h))===null?null:h.stateNode}function dY(){return null}return mB=function(h,d,v){if(h!==null)if(h.memoizedProps!==d.pendingProps||Xn.current)Yn=!0;else{if(!(h.lanes&v)&&!(128&d.flags))return Yn=!1,function(we,ue,ye){switch(ue.tag){case 3:YD(ue),Kh();break;case 5:gD(ue);break;case 1:pi(ue.type)&&r_(ue);break;case 4:_S(ue,ue.stateNode.containerInfo);break;case 10:sD(0,ue.type._context,ue.memoizedProps.value);break;case 13:var Be=ue.memoizedState;if(Be!==null)return Be.dehydrated!==null?(Rt(sr,1&sr.current),ue.flags|=128,null):ye&ue.child.childLanes?KD(we,ue,ye):(Rt(sr,1&sr.current),(we=Sa(we,ue,ye))!==null?we.sibling:null);Rt(sr,1&sr.current);break;case 19:if(Be=(ye&ue.childLanes)!=0,(128&we.flags)!=0){if(Be)return eB(we,ue,ye);ue.flags|=128}var nt=ue.memoizedState;if(nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),Rt(sr,sr.current),Be)break;return null;case 22:case 23:return ue.lanes=0,qD(we,ue,ye)}return Sa(we,ue,ye)}(h,d,v);Yn=(131072&h.flags)!=0}else Yn=!1,qt&&1048576&d.flags&&eD(d,a_,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;A_(h,d),h=d.pendingProps;var A=Xh(d,cn.current);ed(d,v),A=AS(null,d,S,h,A,v);var I=TS();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,pi(S)?(I=!0,r_(d)):I=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,yS(d),A.updater=p_,d.stateNode=A,A._reactInternals=d,vS(d,S,h,v),d=MS(null,d,S,!0,I,v)):(d.tag=0,qt&&I&&oS(d),Qn(null,d,A,v),d=d.child),d;case 16:S=d.elementType;e:{switch(A_(h,d),h=d.pendingProps,S=(A=S._init)(S._payload),d.type=S,A=d.tag=function(we){if(typeof we=="function")return nA(we)?1:0;if(we!=null){if((we=we.$$typeof)===y)return 11;if(we===_)return 14}return 2}(S),h=As(S,h),A){case 0:d=NS(null,d,S,h,v);break e;case 1:d=XD(null,d,S,h,v);break e;case 11:d=VD(null,d,S,h,v);break e;case 14:d=GD(null,d,S,As(S.type,h),v);break e}throw Error(s(306,S,""))}return d;case 0:return S=d.type,A=d.pendingProps,NS(h,d,S,A=d.elementType===S?A:As(S,A),v);case 1:return S=d.type,A=d.pendingProps,XD(h,d,S,A=d.elementType===S?A:As(S,A),v);case 3:e:{if(YD(d),h===null)throw Error(s(387));S=d.pendingProps,A=(I=d.memoizedState).element,aD(h,d),f_(d,S,null,v);var V=d.memoizedState;if(S=V.element,te&&I.isDehydrated){if(I={element:S,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},d.updateQueue.baseState=I,d.memoizedState=I,256&d.flags){d=QD(h,d,S,v,A=id(Error(s(423)),d));break e}if(S!==A){d=QD(h,d,S,v,A=id(Error(s(424)),d));break e}for(te&&(Fi=Vx(d.stateNode.containerInfo),mi=d,qt=!0,Ss=null,em=!1),v=yD(d,null,S,v),d.child=v;v;)v.flags=-3&v.flags|4096,v=v.sibling}else{if(Kh(),S===A){d=Sa(h,d,v);break e}Qn(h,d,S,v)}d=d.child}return d;case 5:return gD(d),h===null&&lS(d),S=d.type,A=d.pendingProps,I=h!==null?h.memoizedProps:null,V=A.children,ae(S,A)?V=null:I!==null&&ae(S,I)&&(d.flags|=32),ZD(h,d),Qn(h,d,V,v),d.child;case 6:return h===null&&lS(d),null;case 13:return KD(h,d,v);case 4:return _S(d,d.stateNode.containerInfo),S=d.pendingProps,h===null?d.child=td(d,null,S,v):Qn(h,d,S,v),d.child;case 11:return S=d.type,A=d.pendingProps,VD(h,d,S,A=d.elementType===S?A:As(S,A),v);case 7:return Qn(h,d,d.pendingProps,v),d.child;case 8:case 12:return Qn(h,d,d.pendingProps.children,v),d.child;case 10:e:{if(S=d.type._context,A=d.pendingProps,I=d.memoizedProps,sD(0,S,V=A.value),I!==null)if(xs(I.value,V)){if(I.children===A.children&&!Xn.current){d=Sa(h,d,v);break e}}else for((I=d.child)!==null&&(I.return=d);I!==null;){var K=I.dependencies;if(K!==null){V=I.child;for(var ee=K.firstContext;ee!==null;){if(ee.context===S){if(I.tag===1){(ee=xa(-1,v&-v)).tag=2;var se=I.updateQueue;if(se!==null){var ce=(se=se.shared).pending;ce===null?ee.next=ee:(ee.next=ce.next,ce.next=ee),se.pending=ee}}I.lanes|=v,(ee=I.alternate)!==null&&(ee.lanes|=v),pS(I.return,v,d),K.lanes|=v;break}ee=ee.next}}else if(I.tag===10)V=I.type===d.type?null:I.child;else if(I.tag===18){if((V=I.return)===null)throw Error(s(341));V.lanes|=v,(K=V.alternate)!==null&&(K.lanes|=v),pS(V,v,d),V=I.sibling}else V=I.child;if(V!==null)V.return=I;else for(V=I;V!==null;){if(V===d){V=null;break}if((I=V.sibling)!==null){I.return=V.return,V=I;break}V=V.return}I=V}Qn(h,d,A.children,v),d=d.child}return d;case 9:return A=d.type,S=d.pendingProps.children,ed(d,v),S=S(A=Ui(A)),d.flags|=1,Qn(h,d,S,v),d.child;case 14:return A=As(S=d.type,d.pendingProps),GD(h,d,S,A=As(S.type,A),v);case 15:return WD(h,d,d.type,d.pendingProps,v);case 17:return S=d.type,A=d.pendingProps,A=d.elementType===S?A:As(S,A),A_(h,d),d.tag=1,pi(S)?(h=!0,r_(d)):h=!1,ed(d,v),dD(d,S,A),vS(d,S,A,v),MS(null,d,S,!0,h,v);case 19:return eB(h,d,v);case 22:return qD(h,d,v)}throw Error(s(156,d.tag))},e.attemptContinuousHydration=function(h){if(h.tag===13){var d=wo(h,134217728);d!==null&&Hi(d,h,134217728,fn()),H_(h,134217728)}},e.attemptDiscreteHydration=function(h){if(h.tag===13){var d=wo(h,1);d!==null&&Hi(d,h,1,fn()),H_(h,1)}},e.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=vu(h),v=wo(h,d);v!==null&&Hi(v,h,d,fn()),H_(h,d)}},e.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var v=Kp(d.pendingLanes);v!==0&&(rS(d,1|v),Kn(d,Dr()),!(6&dt)&&(ad(),_o()))}break;case 13:vB(function(){var S=wo(h,1);if(S!==null){var A=fn();Hi(S,h,1,A)}}),H_(h,1)}},e.batchedUpdates=function(h,d){var v=dt;dt|=1;try{return h(d)}finally{(dt=v)===0&&(ad(),s_&&_o())}},e.createComponentSelector=function(h){return{$$typeof:I_,value:h}},e.createContainer=function(h,d,v,S,A,I,V){return TB(h,d,!1,null,0,S,0,I,V)},e.createHasPseudoClassSelector=function(h){return{$$typeof:O_,value:h}},e.createHydrationContainer=function(h,d,v,S,A,I,V,K,ee){return(h=TB(v,S,!0,h,0,I,0,K,ee)).context=CB(null),v=h.current,(I=xa(S=fn(),A=vu(v))).callback=d??null,pu(v,I,A),h.current.lanes=A,Jp(h,A,S),Kn(h,S),h},e.createPortal=function(h,d,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:h,containerInfo:d,implementation:v}},e.createRoleSelector=function(h){return{$$typeof:R_,value:h}},e.createTestNameSelector=function(h){return{$$typeof:k_,value:h}},e.createTextSelector=function(h){return{$$typeof:P_,value:h}},e.deferredUpdates=function(h){var d=vt,v=cr.transition;try{return cr.transition=null,vt=16,h()}finally{vt=d,cr.transition=v}},e.discreteUpdates=function(h,d,v,S,A){var I=vt,V=cr.transition;try{return cr.transition=null,vt=1,h(d,v,S,A)}finally{vt=I,cr.transition=V,dt===0&&ad()}},e.findAllNodes=WS,e.findBoundingRects=function(h,d){if(!Lt)throw Error(s(363));d=WS(h,d),h=[];for(var v=0;v<d.length;v++)h.push(Tn(d[v]));for(d=h.length-1;0<d;d--)for(var S=(v=h[d]).x,A=S+v.width,I=v.y,V=I+v.height,K=d-1;0<=K;K--)if(d!==K){var ee=h[K],se=ee.x,ce=se+ee.width,we=ee.y,ue=we+ee.height;if(S>=se&&I>=we&&A<=ce&&V<=ue){h.splice(d,1);break}if(!(S!==se||v.width!==ee.width||ue<I||we>V)){we>I&&(ee.height+=we-I,ee.y=I),ue<V&&(ee.height=V-we),h.splice(d,1);break}if(!(I!==we||v.height!==ee.height||ce<S||se>A)){se>S&&(ee.width+=se-S,ee.x=S),ce<A&&(ee.width=A-se),h.splice(d,1);break}}return h},e.findHostInstance=IB,e.findHostInstanceWithNoPortals=function(h){return(h=(h=G(h))!==null?B(h):null)===null?null:h.stateNode},e.findHostInstanceWithWarning=function(h){return IB(h)},e.flushControlled=function(h){var d=dt;dt|=1;var v=cr.transition,S=vt;try{cr.transition=null,vt=1,h()}finally{vt=S,cr.transition=v,(dt=d)===0&&(ad(),_o())}},e.flushPassiveEffects=rc,e.flushSync=vB,e.focusWithin=function(h,d){if(!Lt)throw Error(s(363));for(d=pB(h=HS(h),d),d=Array.from(d),h=0;h<d.length;){var v=d[h++];if(!Xr(v)){if(v.tag===5&&Wl(v.stateNode))return!0;for(v=v.child;v!==null;)d.push(v),v=v.sibling}}return!1},e.getCurrentUpdatePriority=function(){return vt},e.getFindAllNodesFailureDescription=function(h,d){if(!Lt)throw Error(s(363));var v=0,S=[];h=[HS(h),0];for(var A=0;A<h.length;){var I=h[A++],V=h[A++],K=d[V];if((I.tag!==5||!Xr(I))&&(VS(I,K)&&(S.push(GS(K)),++V>v&&(v=V)),V<d.length))for(I=I.child;I!==null;)h.push(I,V),I=I.sibling}if(v<d.length){for(h=[];v<d.length;v++)h.push(GS(d[v]));return`findAllNodes was able to match part of the selector:
  `+S.join(" > ")+`

No matching component was found for:
  `+h.join(" > ")}return null},e.getPublicRootInstance=function(h){return(h=h.current).child?h.child.tag===5?P(h.child.stateNode):h.child.stateNode:null},e.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:hY,findFiberByHostInstance:h.findFiberByHostInstance||dY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{i_=d.inject(h),vo=d}catch{}h=!!d.checkDCE}}return h},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(h,d,v,S){if(!Lt)throw Error(s(363));h=WS(h,d);var A=je(h,v,S).disconnect;return{disconnect:function(){A()}}},e.registerMutableSourceForHydration=function(h,d){var v=d._getVersion;v=v(d._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[d,v]:h.mutableSourceEagerHydrationData.push(d,v)},e.runWithPriority=function(h,d){var v=vt;try{return vt=h,d()}finally{vt=v}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(h,d,v,S){var A=d.current,I=fn(),V=vu(A);return v=CB(v),d.context===null?d.context=v:d.pendingContext=v,(d=xa(I,V)).payload={element:h},(S=S===void 0?null:S)!==null&&(d.callback=S),(h=pu(A,d,V))!==null&&(Hi(h,A,V,I),d_(h,A,V)),V},e}),KF}({get exports(){return vO},set exports(t){vO=t}}).exports=$0e();var F0e=h0e(vO),Sq={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},bO={},X0={get exports(){return bO},set exports(t){bO=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?X0.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(X0.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(X0.exports=function(){return Date.now()-r},r=Date.now()):(X0.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(c0e);var tU,nf={},uc={};({get exports(){return nf},set exports(t){nf=t}}).exports=(tU||(tU=1,uc.ConcurrentRoot=1,uc.ContinuousEventPriority=4,uc.DefaultEventPriority=16,uc.DiscreteEventPriority=1,uc.IdleEventPriority=536870912,uc.LegacyRoot=0),uc);var U0e={};function mC(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function Aq(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&nu(t.children).forEach(function(s){Aq(s,t)})}function rU(t,e){var r;Aq(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,l=u!==void 0&&u,c=n.destroyBaseTexture,f=c!==void 0&&c;s&&e.destroy({children:a,texture:l,baseTexture:f})}function nU(t,e,r){lr(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var iU=null,zs=F0e({getRootHostContext:function(){return U0e},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return nf.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return nf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return nf.ContinuousEventPriority;default:return nf.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=M0e[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=xq[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:fa)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return iU=function(o,a,u,l){var c=null;for(var f in u)!l.hasOwnProperty(f)&&u.hasOwnProperty(f)&&u[f]!==null&&(f===yO||(c||(c=[]),c.push(f,null)));for(var p in l){var m=l[p],y=u!==null?u[p]:void 0;!l.hasOwnProperty(p)||m===y||m===null&&y===null||p===yO||(c||(c=[]),c.push(p,m))}return c}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){lr(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:bO,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=mC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=mC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=mC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=rU.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=rU.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:nU,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=nU.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=fa),(a(t,n,i)||iU)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),j0e=Sq.dependencies["react-dom"].replace(/[^0-9.]/g,""),z0e=Sq.name;zs.injectIntoDevTools({bundleType:0,version:j0e,rendererPackageName:z0e,findHostInstanceByFiber:zs.findHostInstance});var ul=new Map;function Tq(t){if(lr(Wn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),ul.has(t)){var e=ul.get(t).pixiFiberContainer;zs.updateContainer(null,e,void 0,function(){ul.delete(t)})}}function Cq(t){lr(Wn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=ul.get(t);if(lr(!e,"Pixi React: createRoot should only be called once"),!e){var r=zs.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return zs.updateContainer(n,r,void 0),zs.getPublicRootInstance(r)},unmount:function(){Tq(t),ul.delete(t)}}},ul.set(t,e)}return e.reactRoot}function H0e(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ul.has(e)?n=ul.get(e).reactRoot:n=Cq(e),n.render(t)}function V0e(t){Tq(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bg.apply(this,arguments)}function G0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bq(n.key),n)}}function Oa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mw(t,e){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},mw(t,e)}function q0e(t,e){if(e&&(ki(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(t)}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yw(t)}var yx=Yo.createContext(null),Iq=yx.Provider,Oq=yx.Consumer,Z0e=function(t){var e=Yo.forwardRef(function(r,n){return Yo.createElement(Oq,null,function(i){return Yo.createElement(t,Bg({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function X0e(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=yw(t);if(e){var i=yw(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return q0e(this,r)}}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oU=function(){},Rq={width:Ft.number,height:Ft.number,onMount:Ft.func,onUnmount:Ft.func,raf:Ft.bool,renderOnComponentChange:Ft.bool,children:Ft.node,options:Ft.shape({autoStart:Ft.bool,width:Ft.number,height:Ft.number,useContextAlpha:Ft.bool,backgroundAlpha:Ft.number,autoDensity:Ft.bool,antialias:Ft.bool,preserveDrawingBuffer:Ft.bool,resolution:Ft.number,forceCanvas:Ft.bool,backgroundColor:Ft.number,clearBeforeRender:Ft.bool,powerPreference:Ft.string,sharedTicker:Ft.bool,sharedLoader:Ft.bool,resizeTo:function(t,e){var r=t[e];r&&lr(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ki(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&lr(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ki(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},Y0e={width:800,height:600,onMount:oU,onUnmount:oU,raf:!0,renderOnComponentChange:!0},wO=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&mw(s,o)})(i,Yo.Component);var e,r,n=X0e(i);function i(){var s;G0e(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return fr(Oa(s=n.call.apply(n,[this].concat(a))),"_canvas",null),fr(Oa(s),"_mediaQuery",null),fr(Oa(s),"_ticker",null),fr(Oa(s),"_needsUpdate",!0),fr(Oa(s),"app",null),fr(Oa(s),"updateSize",function(){var l=s.props,c=l.width,f=l.height,p=l.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(c,f)}),fr(Oa(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),fr(Oa(s),"renderStage",function(){var l=s.props,c=l.renderOnComponentChange;!l.raf&&c&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,l=s.options,c=s.raf,f=s.renderOnComponentChange;this.app=new mx(Y0(Y0({width:a,height:u,view:this._canvas},l),{},{autoDensity:(l==null?void 0:l.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[c?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=zs.createContainer(this.app.stage),zs.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),l!=null&&l.autoDensity&&window.matchMedia&&(l==null?void 0:l.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!c&&(this._ticker=new qr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,l=this.props,c=l.width,f=l.height,p=l.raf,m=l.renderOnComponentChange,y=l.options;(y==null?void 0:y.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(y==null?void 0:y.resolution)&&(this.app.renderer.resolution=y.resolution,this.resetInteractionManager()),s.height===f&&s.width===c&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(y==null?void 0:y.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),zs.updateContainer(this.getChildren(),this.mountNode,this),s.width===c&&s.height===f&&s.raf===p&&s.renderOnComponentChange===m&&s.options===y||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Yo.createElement(Iq,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),zs.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(lr(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Yo.createElement("canvas",Bg({},(s=this.props,o=[].concat(nu(Object.keys(Rq)),nu(Object.keys(gO))),Object.keys(s).filter(function(l){return!o.includes(l)}).reduce(function(l,c){return Y0(Y0({},l),{},fr({},c,s[c]))},{})),{ref:function(l){return a._canvas=l}}))}}])&&W0e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();wO.propTypes=Rq,wO.defaultProps=Y0e;var Q0e=wO;function kq(){var t=Me.useContext(yx);return lr(t instanceof mx,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function K0e(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=kq();lr(typeof t=="function","`useTick` needs a callback function."),lr(r instanceof mx,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=Me.useRef(null);Me.useEffect(function(){n.current=t},[t]),Me.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function J0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function EO(t,e,r){return EO=J0e()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&mw(a,s.prototype),a},EO.apply(null,arguments)}var ebe=["children","apply"];function aU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tbe=function(t,e){lr(ki(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Gl(i,ebe),u=Me.useRef(Me.useMemo(function(){return r.map(function(f){var p,m=(a==null||(p=a[f])===null||p===void 0?void 0:p.construct)||[];return EO(e[f],nu(m))})},[r])),l=Me.useMemo(function(){return r.reduce(function(f,p,m){return Q0(Q0({},f),{},fr({},p,u.current[m]))},{})},[r]),c=Me.useMemo(function(){return Object.keys(a).filter(Eq(wq(r))).reduce(function(f,p){return Q0(Q0({},f),{},fr({},p,a[p]))},{})},[a,r]);return r.forEach(function(f,p){return Object.assign(u.current[p],a[f])}),o&&function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return p.every(function(y){return typeof y=="function"})}(o)&&o.call(t,l),Yo.createElement(t,Bg({},c,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ft.node,apply:Ft.func},n},rbe=fi.BitmapText,nbe=fi.Container,ibe=fi.Graphics,sbe=fi.NineSlicePlane,obe=fi.ParticleContainer,abe=fi.Sprite,ube=fi.AnimatedSprite,lbe=fi.Text,cbe=fi.TilingSprite,hbe=fi.SimpleMesh,dbe=fi.SimpleRope;const fbe=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:ube,AppConsumer:Oq,AppContext:yx,AppProvider:Iq,BitmapText:rbe,Container:nbe,Graphics:ibe,NineSlicePlane:sbe,ParticleContainer:obe,PixiComponent:D0e,PixiFiber:zs,SimpleMesh:hbe,SimpleRope:dbe,Sprite:abe,Stage:Q0e,TYPES:fi,Text:lbe,TilingSprite:cbe,applyDefaultProps:fa,createRoot:Cq,eventHandlers:pw,render:H0e,unmountComponentAtNode:V0e,useApp:kq,useTick:K0e,withFilters:tbe,withPixiApp:Z0e},Symbol.toStringTag,{value:"Module"})),pbe=pa(fbe);rx.exports=pbe;var gw=rx.exports;function wt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var mbe={};function Pq(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:mbe}var Nq=Object.assign,vw=Object.getOwnPropertyDescriptor,sa=Object.defineProperty,gx=Object.prototype,xO=[];Object.freeze(xO);var Mq={};Object.freeze(Mq);var ybe=typeof Proxy<"u",gbe=Object.toString();function Dq(){ybe||wt("Proxy not available")}function Bq(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var sf=function(){};function to(t){return typeof t=="function"}function vh(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function vx(t){return t!==null&&typeof t=="object"}function Rl(t){if(!vx(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===gbe}function Lq(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function EM(t,e,r){sa(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function $q(t,e,r){sa(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function Hh(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return vx(n)&&n[r]===!0}}function Gp(t){return t instanceof Map}function Fv(t){return t instanceof Set}var Fq=typeof Object.getOwnPropertySymbols<"u";function vbe(t){var e=Object.keys(t);if(!Fq)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return gx.propertyIsEnumerable.call(t,n)})):e}var xM=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Fq?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function Uq(t){return t===null?null:typeof t=="object"?""+t:t}function ll(t,e){return gx.hasOwnProperty.call(t,e)}var _be=Object.getOwnPropertyDescriptors||function(e){var r={};return xM(e).forEach(function(n){r[n]=vw(e,n)}),r};function uU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ebe(n.key),n)}}function SM(t,e,r){return e&&uU(t.prototype,e),r&&uU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function jq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,SO(t,e)}function SO(t,e){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},SO(t,e)}function yC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bbe(t,e){if(t){if(typeof t=="string")return lU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lU(t,e)}}function lU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function of(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=bbe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wbe(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ebe(t){var e=wbe(t,"string");return typeof e=="symbol"?e:String(e)}var af=Symbol("mobx-stored-annotations");function oa(t){function e(r,n){if(Uv(n))return t.decorate_20223_(r,n);Wp(r,n,t)}return Object.assign(e,t)}function Wp(t,e,r){ll(t,af)||EM(t,af,op({},t[af])),Rbe(r)||(t[af][e]=r)}function Uv(t){return typeof t=="object"&&typeof t.kind=="string"}var Xe=Symbol("mobx administration"),jv=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=bt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return iZ(this)},e.reportChanged=function(){as(),sZ(this),us()},e.toString=function(){return this.name_},t}(),AM=Hh("Atom",jv);function zq(t,e,r){e===void 0&&(e=sf),r===void 0&&(r=sf);var n=new jv(t);return e!==sf&&N1e(n,e),r!==sf&&cZ(n,r),n}function xbe(t,e){return t===e}function Sbe(t,e){return PM(t,e)}function Abe(t,e){return PM(t,e,1)}function Tbe(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var _w={identity:xbe,structural:Sbe,default:Tbe,shallow:Abe};function _h(t,e,r){return fZ(t)?t:Array.isArray(t)?Wr.array(t,{name:r}):Rl(t)?Wr.object(t,void 0,{name:r}):Gp(t)?Wr.map(t,{name:r}):Fv(t)?Wr.set(t,{name:r}):typeof t=="function"&&!xx(t)&&!$g(t)?Lq(t)?up(t):Lg(r,t):t}function Cbe(t,e,r){if(t==null||Fg(t)||Sx(t)||Gh(t)||qp(t))return t;if(Array.isArray(t))return Wr.array(t,{name:r,deep:!1});if(Rl(t))return Wr.object(t,void 0,{name:r,deep:!1});if(Gp(t))return Wr.map(t,{name:r,deep:!1});if(Fv(t))return Wr.set(t,{name:r,deep:!1})}function _x(t){return t}function Ibe(t,e){return PM(t,e)?e:t}var Obe="override";function Rbe(t){return t.annotationType_===Obe}function zv(t,e){return{annotationType_:t,options_:e,make_:kbe,extend_:Pbe,decorate_20223_:Nbe}}function kbe(t,e,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(xx(r.value))return 1;var s=Hq(t,this,e,r,!1);return sa(n,e,s),2}function Pbe(t,e,r,n){var i=Hq(t,this,e,r);return t.defineProperty_(e,i,n)}function Nbe(t,e){var r=e.kind,n=e.name,i=e.addInitializer,s=this,o=function(l){var c,f,p,m;return bh((c=(f=s.options_)==null?void 0:f.name)!=null?c:n.toString(),l,(p=(m=s.options_)==null?void 0:m.autoAction)!=null?p:!1)};if(r=="field"){i(function(){Wp(this,n,s)});return}if(r=="method"){var a;return xx(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&i(function(){var u=this,l=u[n].bind(u);l.isMobxAction=!0,u[n]=l}),t}wt("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function Mbe(t,e,r,n){e.annotationType_,n.value}function Hq(t,e,r,n,i){var s,o,a,u,l,c,f;i===void 0&&(i=Ie.safeDescriptors),Mbe(t,e,r,n);var p=n.value;if((s=e.options_)!=null&&s.bound){var m;p=p.bind((m=t.proxy_)!=null?m:t.target_)}return{value:bh((o=(a=e.options_)==null?void 0:a.name)!=null?o:r.toString(),p,(u=(l=e.options_)==null?void 0:l.autoAction)!=null?u:!1,(c=e.options_)!=null&&c.bound?(f=t.proxy_)!=null?f:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function Vq(t,e){return{annotationType_:t,options_:e,make_:Dbe,extend_:Bbe,decorate_20223_:Lbe}}function Dbe(t,e,r,n){var i;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!ll(t.target_,e)||!$g(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if($g(r.value))return 1;var s=Gq(t,this,e,r,!1,!1);return sa(n,e,s),2}function Bbe(t,e,r,n){var i,s=Gq(t,this,e,r,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,n)}function Lbe(t,e){var r,n=e.name,i=e.addInitializer;return $g(t)||(t=up(t)),(r=this.options_)!=null&&r.bound&&i(function(){var s=this,o=s[n].bind(s);o.isMobXFlow=!0,s[n]=o}),t}function $be(t,e,r,n){e.annotationType_,n.value}function Gq(t,e,r,n,i,s){s===void 0&&(s=Ie.safeDescriptors),$be(t,e,r,n);var o=n.value;if($g(o)||(o=up(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function TM(t,e){return{annotationType_:t,options_:e,make_:Fbe,extend_:Ube,decorate_20223_:jbe}}function Fbe(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function Ube(t,e,r,n){return zbe(t,this,e,r),t.defineComputedProperty_(e,op({},this.options_,{get:r.get,set:r.set}),n)}function jbe(t,e){var r=this,n=e.name,i=e.addInitializer;return i(function(){var s=Gv(this)[Xe],o=op({},r.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+n.toString()),s.values_.set(n,new ap(o))}),function(){return this[Xe].getObservablePropValue_(n)}}function zbe(t,e,r,n){e.annotationType_,n.get}function bx(t,e){return{annotationType_:t,options_:e,make_:Hbe,extend_:Vbe,decorate_20223_:Gbe}}function Hbe(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function Vbe(t,e,r,n){var i,s;return Wbe(t,this),t.defineObservableProperty_(e,r.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:_h,n)}function Gbe(t,e){var r=this,n=e.kind,i=e.name,s=new WeakSet;function o(a,u){var l,c,f=Gv(a)[Xe],p=new qc(u,(l=(c=r.options_)==null?void 0:c.enhancer)!=null?l:_h,"ObservableObject."+i.toString(),!1);f.values_.set(i,p),s.add(a)}if(n=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[Xe].getObservablePropValue_(i)},set:function(u){return s.has(this)||o(this,u),this[Xe].setObservablePropValue_(i,u)},init:function(u){return s.has(this)||o(this,u),u}}}function Wbe(t,e,r,n){e.annotationType_}var qbe="true",Zbe=Wq();function Wq(t){return{annotationType_:qbe,options_:t,make_:Xbe,extend_:Ybe,decorate_20223_:Qbe}}function Xbe(t,e,r,n){var i,s;if(r.get)return wx.make_(t,e,r,n);if(r.set){var o=bh(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:Ie.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(sa(n,e,{configurable:!0,set:o}),2)}if(n!==t.target_&&typeof r.value=="function"){var a;if(Lq(r.value)){var u,l=(u=this.options_)!=null&&u.autoBind?up.bound:up;return l.make_(t,e,r,n)}var c=(a=this.options_)!=null&&a.autoBind?Lg.bound:Lg;return c.make_(t,e,r,n)}var f=((i=this.options_)==null?void 0:i.deep)===!1?Wr.ref:Wr;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var p;r.value=r.value.bind((p=t.proxy_)!=null?p:t.target_)}return f.make_(t,e,r,n)}function Ybe(t,e,r,n){var i,s;if(r.get)return wx.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:Ie.safeDescriptors?t.isPlainObject_:!0,set:bh(e.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;r.value=r.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?Wr.ref:Wr;return a.extend_(t,e,r,n)}function Qbe(t,e){wt("'"+this.annotationType_+"' cannot be used as a decorator")}var Kbe="observable",Jbe="observable.ref",e1e="observable.shallow",t1e="observable.struct",qq={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(qq);function K0(t){return t||qq}var AO=bx(Kbe),r1e=bx(Jbe,{enhancer:_x}),n1e=bx(e1e,{enhancer:Cbe}),i1e=bx(t1e,{enhancer:Ibe}),Zq=oa(AO);function J0(t){return t.deep===!0?_h:t.deep===!1?_x:o1e(t.defaultDecorator)}function s1e(t){var e;return t?(e=t.defaultDecorator)!=null?e:Wq(t):void 0}function o1e(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:_h}function Xq(t,e,r){if(Uv(e))return AO.decorate_20223_(t,e);if(vh(e)){Wp(t,e,AO);return}return fZ(t)?t:Rl(t)?Wr.object(t,e,r):Array.isArray(t)?Wr.array(t,e):Gp(t)?Wr.map(t,e):Fv(t)?Wr.set(t,e):typeof t=="object"&&t!==null?t:Wr.box(t,e)}Nq(Xq,Zq);var a1e={box:function(e,r){var n=K0(r);return new qc(e,J0(n),n.name,!0,n.equals)},array:function(e,r){var n=K0(r);return(Ie.useProxies===!1||n.proxy===!1?K1e:z1e)(e,J0(n),n.name)},map:function(e,r){var n=K0(r);return new gZ(e,J0(n),n.name)},set:function(e,r){var n=K0(r);return new bZ(e,J0(n),n.name)},object:function(e,r,n){return Zp(function(){return M1e(Ie.useProxies===!1||(n==null?void 0:n.proxy)===!1?Gv({},n):F1e({},n),e,r)})},ref:oa(r1e),shallow:oa(n1e),deep:Zq,struct:oa(i1e)},Wr=Nq(Xq,a1e),Yq="computed",u1e="computed.struct",TO=TM(Yq),l1e=TM(u1e,{equals:_w.structural}),wx=function(e,r){if(Uv(r))return TO.decorate_20223_(e,r);if(vh(r))return Wp(e,r,TO);if(Rl(e))return oa(TM(Yq,e));var n=Rl(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new ap(n)};Object.assign(wx,TO);wx.struct=oa(l1e);var cU,hU,bw=0,c1e=1,h1e=(cU=(hU=vw(function(){},"name"))==null?void 0:hU.configurable)!=null?cU:!1,dU={value:"action",configurable:!0,writable:!1,enumerable:!1};function bh(t,e,r,n){r===void 0&&(r=!1);function i(){return d1e(t,r,e,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},h1e&&(dU.value=t,sa(i,"name",dU)),i}function d1e(t,e,r,n,i){var s=f1e(t,e);try{return r.apply(n,i)}catch(o){throw s.error_=o,o}finally{p1e(s)}}function f1e(t,e,r,n){var i=!1,s=0,o=Ie.trackingDerivation,a=!e||!o;as();var u=Ie.allowStateChanges;a&&(Vh(),u=CM(!0));var l=OM(!0),c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:c1e++,parentActionId_:bw};return bw=c.actionId_,c}function p1e(t){bw!==t.actionId_&&wt(30),bw=t.parentActionId_,t.error_!==void 0&&(Ie.suppressReactionErrors=!0),IM(t.prevAllowStateChanges_),Iy(t.prevAllowStateReads_),us(),t.runAsAction_&&Za(t.prevDerivation_),Ie.suppressReactionErrors=!1}function CM(t){var e=Ie.allowStateChanges;return Ie.allowStateChanges=t,e}function IM(t){Ie.allowStateChanges=t}var Qq;Qq=Symbol.toPrimitive;var qc=function(t){jq(e,t);function e(n,i,s,o,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=_w.default),u=t.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=s,u.equals=a,u.value_=i(n,void 0,s),u}var r=e.prototype;return r.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},r.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==Ie.UNCHANGED&&this.setNewValue_(i)},r.prepareNewValue_=function(i){if(es(this)){var s=ts(this,{object:this,type:aa,newValue:i});if(!s)return Ie.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?Ie.UNCHANGED:i},r.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),Ys(this)&&Qs(this,{type:aa,object:this,newValue:i,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(i){return Hv(this,i)},r.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:aa,newValue:this.value_,oldValue:void 0}),Vv(this,i)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return Uq(this.get())},r[Qq]=function(){return this.valueOf()},e}(jv),Kq;Kq=Symbol.toPrimitive;var ap=function(){function t(r){this.dependenciesState_=bt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=bt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ew(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ww.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||wt(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=bh("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?_w.structural:_w.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){v1e(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing_&&wt(32,this.name_,this.derivation),Ie.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)CO(this)&&(this.warnAboutUntrackedRead_(),as(),this.value_=this.computeValue_(!1),us());else if(iZ(this),CO(this)){var n=Ie.trackingContext;this.keepAlive_&&!n&&(Ie.trackingContext=this),this.trackAndCompute()&&g1e(this),Ie.trackingContext=n}var i=this.value_;if(zb(i))throw i.cause;return i},e.set=function(n){if(this.setter_){this.isRunningSetter_&&wt(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter_=!1}}else wt(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,i=this.dependenciesState_===bt.NOT_TRACKING_,s=this.computeValue_(!0),o=i||zb(n)||zb(s)||!this.equals_(n,s);return o&&(this.value_=s),o},e.computeValue_=function(n){this.isComputing_=!0;var i=CM(!1),s;if(n)s=Jq(this,this.derivation,this.scope_);else if(Ie.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Ew(o)}return IM(i),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(IO(this),this.value_=void 0)},e.observe_=function(n,i){var s=this,o=!0,a=void 0;return I1e(function(){var u=s.get();if(!o||i){var l=Vh();n({observableKind:"computed",debugObjectName:s.name_,type:aa,object:s,newValue:u,oldValue:a}),Za(l)}o=!1,a=u})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return Uq(this.get())},e[Kq]=function(){return this.valueOf()},t}(),Ex=Hh("ComputedValue",ap),bt;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(bt||(bt={}));var ww;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(ww||(ww={}));var Ew=function(e){this.cause=void 0,this.cause=e};function zb(t){return t instanceof Ew}function CO(t){switch(t.dependenciesState_){case bt.UP_TO_DATE_:return!1;case bt.NOT_TRACKING_:case bt.STALE_:return!0;case bt.POSSIBLY_STALE_:{for(var e=OM(!0),r=Vh(),n=t.observing_,i=n.length,s=0;s<i;s++){var o=n[s];if(Ex(o)){if(Ie.disableErrorBoundaries)o.get();else try{o.get()}catch{return Za(r),Iy(e),!0}if(t.dependenciesState_===bt.STALE_)return Za(r),Iy(e),!0}}return tZ(t),Za(r),Iy(e),!1}}}function Jq(t,e,r){var n=OM(!0);tZ(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Ie.runId;var i=Ie.trackingDerivation;Ie.trackingDerivation=t,Ie.inBatch++;var s;if(Ie.disableErrorBoundaries===!0)s=e.call(r);else try{s=e.call(r)}catch(o){s=new Ew(o)}return Ie.inBatch--,Ie.trackingDerivation=i,m1e(t),Iy(n),s}function m1e(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=bt.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=r[o];a.diffValue_===0&&(a.diffValue_=1,i!==o&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,t.newObserving_=null,s=e.length;s--;){var u=e[s];u.diffValue_===0&&rZ(u,t),u.diffValue_=0}for(;i--;){var l=r[i];l.diffValue_===1&&(l.diffValue_=0,y1e(l,t))}n!==bt.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function IO(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)rZ(e[r],t);t.dependenciesState_=bt.NOT_TRACKING_}function eZ(t){var e=Vh();try{return t()}finally{Za(e)}}function Vh(){var t=Ie.trackingDerivation;return Ie.trackingDerivation=null,t}function Za(t){Ie.trackingDerivation=t}function OM(t){var e=Ie.allowStateReads;return Ie.allowStateReads=t,e}function Iy(t){Ie.allowStateReads=t}function tZ(t){if(t.dependenciesState_!==bt.UP_TO_DATE_){t.dependenciesState_=bt.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=bt.UP_TO_DATE_}}var gC=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},vC=!0,Ie=function(){var t=Pq();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(vC=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new gC().version&&(vC=!1),vC?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new gC):(setTimeout(function(){wt(35)},1),new gC)}();function y1e(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function rZ(t,e){t.observers_.delete(e),t.observers_.size===0&&nZ(t)}function nZ(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,Ie.pendingUnobservations.push(t))}function as(){Ie.inBatch++}function us(){if(--Ie.inBatch===0){oZ();for(var t=Ie.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,r.observers_.size===0&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof ap&&r.suspend_())}Ie.pendingUnobservations=[]}}function iZ(t){var e=Ie.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Ie.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&Ie.inBatch>0&&nZ(t),!1)}function sZ(t){t.lowestObserverState_!==bt.STALE_&&(t.lowestObserverState_=bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=bt.STALE_}))}function g1e(t){t.lowestObserverState_!==bt.STALE_&&(t.lowestObserverState_=bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.POSSIBLY_STALE_?e.dependenciesState_=bt.STALE_:e.dependenciesState_===bt.UP_TO_DATE_&&(t.lowestObserverState_=bt.UP_TO_DATE_)}))}function v1e(t){t.lowestObserverState_===bt.UP_TO_DATE_&&(t.lowestObserverState_=bt.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.UP_TO_DATE_&&(e.dependenciesState_=bt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var OO=function(){function t(r,n,i,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=bt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=ww.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Ie.pendingReactions.push(this),oZ())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){as(),this.isScheduled_=!1;var n=Ie.trackingContext;if(Ie.trackingContext=this,CO(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}Ie.trackingContext=n,us()}},e.track=function(n){if(!this.isDisposed_){as(),this.isRunning_=!0;var i=Ie.trackingContext;Ie.trackingContext=this;var s=Jq(this,n,void 0);Ie.trackingContext=i,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&IO(this),zb(s)&&this.reportExceptionInDerivation_(s.cause),us()}},e.reportExceptionInDerivation_=function(n){var i=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(Ie.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";Ie.suppressReactionErrors||console.error(s,n),Ie.globalReactionErrorHandlers.forEach(function(o){return o(n,i)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(as(),IO(this),us()))},e.getDisposer_=function(n){var i=this,s=function o(){i.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",o)};return n==null||n.addEventListener==null||n.addEventListener("abort",s),s[Xe]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){},t}(),_1e=100,b1e=function(e){return e()};function oZ(){Ie.inBatch>0||Ie.isRunningReactions||b1e(w1e)}function w1e(){Ie.isRunningReactions=!0;for(var t=Ie.pendingReactions,e=0;t.length>0;){++e===_1e&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}Ie.isRunningReactions=!1}var xw=Hh("Reaction",OO);function Oy(){return!1}function E1e(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var aZ="action",x1e="action.bound",uZ="autoAction",S1e="autoAction.bound",A1e="<unnamed action>",RO=zv(aZ),T1e=zv(x1e,{bound:!0}),kO=zv(uZ,{autoAction:!0}),C1e=zv(S1e,{autoAction:!0,bound:!0});function lZ(t){var e=function(n,i){if(to(n))return bh(n.name||A1e,n,t);if(to(i))return bh(n,i,t);if(Uv(i))return(t?kO:RO).decorate_20223_(n,i);if(vh(i))return Wp(n,i,t?kO:RO);if(vh(n))return oa(zv(t?uZ:aZ,{name:n,autoAction:t}))};return e}var uf=lZ(!1);Object.assign(uf,RO);var Lg=lZ(!0);Object.assign(Lg,kO);uf.bound=oa(T1e);Lg.bound=oa(C1e);function xx(t){return to(t)&&t.isMobxAction===!0}function I1e(t,e){var r,n,i,s,o;e===void 0&&(e=Mq);var a=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",u=!e.scheduler&&!e.delay,l;if(u)l=new OO(a,function(){this.track(p)},e.onError,e.requiresObservable);else{var c=R1e(e),f=!1;l=new OO(a,function(){f||(f=!0,c(function(){f=!1,l.isDisposed_||l.track(p)}))},e.onError,e.requiresObservable)}function p(){t(l)}return(i=e)!=null&&(s=i.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((o=e)==null?void 0:o.signal)}var O1e=function(e){return e()};function R1e(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:O1e}var k1e="onBO",P1e="onBUO";function N1e(t,e,r){return hZ(k1e,t,e,r)}function cZ(t,e,r){return hZ(P1e,t,e,r)}function hZ(t,e,r,n){var i=typeof n=="function"?Ug(e,r):Ug(e),s=to(n)?n:r,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}function M1e(t,e,r,n){var i=_be(e);return Zp(function(){var s=Gv(t,n)[Xe];xM(i).forEach(function(o){s.extend_(o,i[o],r&&o in r?r[o]:!0)})}),t}var D1e=0;function dZ(){this.message="FLOW_CANCELLED"}dZ.prototype=Object.create(Error.prototype);var _C=Vq("flow"),B1e=Vq("flow.bound",{bound:!0}),up=Object.assign(function(e,r){if(Uv(r))return _C.decorate_20223_(e,r);if(vh(r))return Wp(e,r,_C);var n=e,i=n.name||"<unnamed flow>",s=function(){var a=this,u=arguments,l=++D1e,c=uf(i+" - runid: "+l+" - init",n).apply(a,u),f,p=void 0,m=new Promise(function(y,g){var b=0;f=g;function _(x){p=void 0;var N;try{N=uf(i+" - runid: "+l+" - yield "+b++,c.next).call(c,x)}catch(M){return g(M)}E(N)}function w(x){p=void 0;var N;try{N=uf(i+" - runid: "+l+" - yield "+b++,c.throw).call(c,x)}catch(M){return g(M)}E(N)}function E(x){if(to(x==null?void 0:x.then)){x.then(E,g);return}return x.done?y(x.value):(p=Promise.resolve(x.value),p.then(_,w))}_(void 0)});return m.cancel=uf(i+" - runid: "+l+" - cancel",function(){try{p&&fU(p);var y=c.return(void 0),g=Promise.resolve(y.value);g.then(sf,sf),fU(g),f(new dZ)}catch(b){f(b)}}),m};return s.isMobXFlow=!0,s},_C);up.bound=oa(B1e);function fU(t){to(t.cancel)&&t.cancel()}function $g(t){return(t==null?void 0:t.isMobXFlow)===!0}function L1e(t,e){return t?e!==void 0?Fg(t)?t[Xe].values_.has(e):!1:Fg(t)||!!t[Xe]||AM(t)||xw(t)||Ex(t):!1}function fZ(t){return L1e(t)}function Fa(t,e){e===void 0&&(e=void 0),as();try{return t.apply(e)}finally{us()}}function Ed(t){return t[Xe]}var $1e={has:function(e,r){return Ed(e).has_(r)},get:function(e,r){return Ed(e).get_(r)},set:function(e,r,n){var i;return vh(r)?(i=Ed(e).set_(r,n,!0))!=null?i:!0:!1},deleteProperty:function(e,r){var n;return vh(r)?(n=Ed(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(e,r,n){var i;return(i=Ed(e).defineProperty_(r,n))!=null?i:!0},ownKeys:function(e){return Ed(e).ownKeys_()},preventExtensions:function(e){wt(13)}};function F1e(t,e){var r,n;return Dq(),t=Gv(t,e),(n=(r=t[Xe]).proxy_)!=null?n:r.proxy_=new Proxy(t,$1e)}function es(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Hv(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),Bq(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function ts(t,e){var r=Vh();try{for(var n=[].concat(t.interceptors_||[]),i=0,s=n.length;i<s&&(e=n[i](e),e&&!e.type&&wt(14),!!e);i++);return e}finally{Za(r)}}function Ys(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function Vv(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),Bq(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function Qs(t,e){var r=Vh(),n=t.changeListeners_;if(n){n=n.slice();for(var i=0,s=n.length;i<s;i++)n[i](e);Za(r)}}var pU="splice",aa="update",U1e=1e4,j1e={get:function(e,r){var n=e[Xe];return r===Xe?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):ll(Sw,r)?Sw[r]:e[r]},set:function(e,r,n){var i=e[Xe];return r==="length"&&i.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:i.set_(parseInt(r),n),!0},preventExtensions:function(){wt(15)}},RM=function(){function t(r,n,i,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new jv(r),this.enhancer_=function(o,a){return n(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return Hv(this,n)},e.observe_=function(n,i){return i===void 0&&(i=!1),i&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Vv(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&wt("Out of range: "+n);var i=this.values_.length;if(n!==i)if(n>i){for(var s=new Array(n-i),o=0;o<n-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(n,i-n)},e.updateArrayLength_=function(n,i){n!==this.lastKnownLength_&&wt(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&SZ(n+i+1)},e.spliceWithArray_=function(n,i,s){var o=this;this.atom_;var a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?i=a-n:i==null?i=0:i=Math.max(0,Math.min(i,a-n)),s===void 0&&(s=xO),es(this)){var u=ts(this,{object:this.proxy_,type:pU,index:n,removedCount:i,added:s});if(!u)return xO;i=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(f){return o.enhancer_(f,void 0)}),this.legacyMode_){var l=s.length-i;this.updateArrayLength_(a,l)}var c=this.spliceItemsIntoValues_(n,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(n,s,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(n,i,s){if(s.length<U1e){var o;return(o=this.values_).splice.apply(o,[n,i].concat(s))}else{var a=this.values_.slice(n,n+i),u=this.values_.slice(n+i);this.values_.length+=s.length-i;for(var l=0;l<s.length;l++)this.values_[n+l]=s[l];for(var c=0;c<u.length;c++)this.values_[n+s.length+c]=u[c];return a}},e.notifyArrayChildUpdate_=function(n,i,s){var o=!this.owned_&&Oy(),a=Ys(this),u=a||o?{observableKind:"array",object:this.proxy_,type:aa,debugObjectName:this.atom_.name_,index:n,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&Qs(this,u)},e.notifyArraySplice_=function(n,i,s){var o=!this.owned_&&Oy(),a=Ys(this),u=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:pU,index:n,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&Qs(this,u)},e.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},e.set_=function(n,i){var s=this.values_;if(this.legacyMode_&&n>s.length&&wt(17,n,s.length),n<s.length){this.atom_;var o=s[n];if(es(this)){var a=ts(this,{type:aa,object:this.proxy_,index:n,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var u=i!==o;u&&(s[n]=i,this.notifyArrayChildUpdate_(n,i,o))}else{for(var l=new Array(n+1-s.length),c=0;c<l.length-1;c++)l[c]=void 0;l[l.length-1]=i,this.spliceWithArray_(s.length,0,l)}},t}();function z1e(t,e,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),Dq(),Zp(function(){var i=new RM(r,e,n,!1);$q(i.values_,Xe,i);var s=new Proxy(i.values_,j1e);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var Sw={clear:function(){return this.splice(0)},replace:function(e){var r=this[Xe];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var o=this[Xe];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,r)}return o.spliceWithArray_(e,r,i)},spliceWithArray:function(e,r,n){return this[Xe].spliceWithArray_(e,r,n)},push:function(){for(var e=this[Xe],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[Xe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Xe],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Ie.trackingDerivation&&wt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ie.trackingDerivation&&wt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var r=this[Xe],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};Bt("at",Bi);Bt("concat",Bi);Bt("flat",Bi);Bt("includes",Bi);Bt("indexOf",Bi);Bt("join",Bi);Bt("lastIndexOf",Bi);Bt("slice",Bi);Bt("toString",Bi);Bt("toLocaleString",Bi);Bt("toSorted",Bi);Bt("toSpliced",Bi);Bt("with",Bi);Bt("every",mo);Bt("filter",mo);Bt("find",mo);Bt("findIndex",mo);Bt("findLast",mo);Bt("findLastIndex",mo);Bt("flatMap",mo);Bt("forEach",mo);Bt("map",mo);Bt("some",mo);Bt("toReversed",mo);Bt("reduce",pZ);Bt("reduceRight",pZ);function Bt(t,e){typeof Array.prototype[t]=="function"&&(Sw[t]=e(t))}function Bi(t){return function(){var e=this[Xe];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function mo(t){return function(e,r){var n=this,i=this[Xe];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(r,o,a,n)})}}function pZ(t){return function(){var e=this,r=this[Xe];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},n[t].apply(n,arguments)}}var H1e=Hh("ObservableArrayAdministration",RM);function Sx(t){return vx(t)&&H1e(t[Xe])}var mZ,yZ,V1e={},Xu="add",Aw="delete";mZ=Symbol.iterator;yZ=Symbol.toStringTag;var gZ=function(){function t(r,n,i){var s=this;n===void 0&&(n=_h),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Xe]=V1e,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,to(Map)||wt(18),Zp(function(){s.keysAtom_=zq("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var i=this;if(!Ie.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var o=s=new qc(this.has_(n),_x,"ObservableMap.key?",!1);this.hasMap_.set(n,o),cZ(o,function(){return i.hasMap_.delete(n)})}return s.get()},e.set=function(n,i){var s=this.has_(n);if(es(this)){var o=ts(this,{type:s?aa:Xu,object:this,newValue:i,name:n});if(!o)return this;i=o.newValue}return s?this.updateValue_(n,i):this.addValue_(n,i),this},e.delete=function(n){var i=this;if(this.keysAtom_,es(this)){var s=ts(this,{type:Aw,object:this,name:n});if(!s)return!1}if(this.has_(n)){var o=Oy(),a=Ys(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:Aw,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return Fa(function(){var l;i.keysAtom_.reportChanged(),(l=i.hasMap_.get(n))==null||l.setNewValue_(!1);var c=i.data_.get(n);c.setNewValue_(void 0),i.data_.delete(n)}),a&&Qs(this,u),!0}return!1},e.updateValue_=function(n,i){var s=this.data_.get(n);if(i=s.prepareNewValue_(i),i!==Ie.UNCHANGED){var o=Oy(),a=Ys(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:aa,object:this,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&Qs(this,u)}},e.addValue_=function(n,i){var s=this;this.keysAtom_,Fa(function(){var l,c=new qc(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,c),i=c.value_,(l=s.hasMap_.get(n))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=Oy(),a=Ys(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:Xu,object:this,name:n,newValue:i}:null;a&&Qs(this,u)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,i=this.keys();return jg({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:n.get(u)}}})},e.entries=function(){var n=this,i=this.keys();return jg({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:[u,n.get(u)]}}})},e[mZ]=function(){return this.entries()},e.forEach=function(n,i){for(var s=of(this),o;!(o=s()).done;){var a=o.value,u=a[0],l=a[1];n.call(i,l,u,this)}},e.merge=function(n){var i=this;return Gh(n)&&(n=new Map(n)),Fa(function(){Rl(n)?vbe(n).forEach(function(s){return i.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):Gp(n)?(n.constructor!==Map&&wt(19,n),n.forEach(function(s,o){return i.set(o,s)})):n!=null&&wt(20,n)}),this},e.clear=function(){var n=this;Fa(function(){eZ(function(){for(var i=of(n.keys()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.replace=function(n){var i=this;return Fa(function(){for(var s=G1e(n),o=new Map,a=!1,u=of(i.data_.keys()),l;!(l=u()).done;){var c=l.value;if(!s.has(c)){var f=i.delete(c);if(f)a=!0;else{var p=i.data_.get(c);o.set(c,p)}}}for(var m=of(s.entries()),y;!(y=m()).done;){var g=y.value,b=g[0],_=g[1],w=i.data_.has(b);if(i.set(b,_),i.data_.has(b)){var E=i.data_.get(b);o.set(b,E),w||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var x=i.data_.keys(),N=o.keys(),M=x.next(),R=N.next();!M.done;){if(M.value!==R.value){i.keysAtom_.reportChanged();break}M=x.next(),R=N.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,i){return Vv(this,n)},e.intercept_=function(n){return Hv(this,n)},SM(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:yZ,get:function(){return"Map"}}]),t}(),Gh=Hh("ObservableMap",gZ);function G1e(t){if(Gp(t)||Gh(t))return t;if(Array.isArray(t))return new Map(t);if(Rl(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return wt(21,t)}var vZ,_Z,W1e={};vZ=Symbol.iterator;_Z=Symbol.toStringTag;var bZ=function(){function t(r,n,i){var s=this;n===void 0&&(n=_h),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Xe]=W1e,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,to(Set)||wt(22),this.enhancer_=function(o,a){return n(o,a,i)},Zp(function(){s.atom_=zq(s.name_),r&&s.replace(r)})}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;Fa(function(){eZ(function(){for(var i=of(n.data_.values()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.forEach=function(n,i){for(var s=of(this),o;!(o=s()).done;){var a=o.value;n.call(i,a,a,this)}},e.add=function(n){var i=this;if(this.atom_,es(this)){var s=ts(this,{type:Xu,object:this,newValue:n});if(!s)return this}if(!this.has(n)){Fa(function(){i.data_.add(i.enhancer_(n,void 0)),i.atom_.reportChanged()});var o=!1,a=Ys(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:Xu,object:this,newValue:n}:null;a&&Qs(this,u)}return this},e.delete=function(n){var i=this;if(es(this)){var s=ts(this,{type:Aw,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var o=!1,a=Ys(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:Aw,object:this,oldValue:n}:null;return Fa(function(){i.atom_.reportChanged(),i.data_.delete(n)}),a&&Qs(this,u),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,i=Array.from(this.keys()),s=Array.from(this.values());return jg({next:function(){var a=n;return n+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,i=0,s=Array.from(this.data_.values());return jg({next:function(){return i<s.length?{value:n.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.replace=function(n){var i=this;return qp(n)&&(n=new Set(n)),Fa(function(){Array.isArray(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):Fv(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):n!=null&&wt("Cannot initialize set from "+n)}),this},e.observe_=function(n,i){return Vv(this,n)},e.intercept_=function(n){return Hv(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[vZ]=function(){return this.values()},SM(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Z,get:function(){return"Set"}}]),t}(),qp=Hh("ObservableSet",bZ),mU=Object.create(null),yU="remove",wZ=function(){function t(r,n,i,s){n===void 0&&(n=new Map),s===void 0&&(s=Zbe),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new jv("ObservableObject.keys"),this.isPlainObject_=Rl(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,i){var s=this.values_.get(n);if(s instanceof ap)return s.set(i),!0;if(es(this)){var o=ts(this,{type:aa,object:this.proxy_||this.target_,name:n,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==Ie.UNCHANGED){var a=Ys(this),u=!1,l=a||u?{type:aa,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&Qs(this,l)}return!0},e.get_=function(n){return Ie.trackingDerivation&&!ll(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,i,s){return s===void 0&&(s=!1),ll(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,i):s?Reflect.set(this.target_,n,i):(this.target_[n]=i,!0):this.extend_(n,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(n){if(!Ie.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(n);return i||(i=new qc(n in this.target_,_x,"ObservableObject.key?",!1),this.pendingKeys_.set(n,i)),i.get()},e.make_=function(n,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(n in this.target_)){var s;if((s=this.target_[af])!=null&&s[n])return;wt(1,i.annotationType_,this.name_+"."+n.toString())}for(var o=this.target_;o&&o!==gx;){var a=vw(o,n);if(a){var u=i.make_(this,n,a,o);if(u===0)return;if(u===1)break}o=Object.getPrototypeOf(o)}vU(this,i,n)}},e.extend_=function(n,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,i,o);var a=s.extend_(this,n,i,o);return a&&vU(this,s,n),a},e.defineProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{as();var o=this.delete_(n);if(!o)return o;if(es(this)){var a=ts(this,{object:this.proxy_||this.target_,name:n,type:Xu,newValue:i.value});if(!a)return null;var u=a.newValue;i.value!==u&&(i=op({},i,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,n,i))return!1}else sa(this.target_,n,i);this.notifyPropertyAddition_(n,i.value)}finally{us()}return!0},e.defineObservableProperty_=function(n,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{as();var a=this.delete_(n);if(!a)return a;if(es(this)){var u=ts(this,{object:this.proxy_||this.target_,name:n,type:Xu,newValue:i});if(!u)return null;i=u.newValue}var l=gU(n),c={configurable:Ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,n,c))return!1}else sa(this.target_,n,c);var f=new qc(i,s,"ObservableObject.key",!1);this.values_.set(n,f),this.notifyPropertyAddition_(n,f.value_)}finally{us()}return!0},e.defineComputedProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{as();var o=this.delete_(n);if(!o)return o;if(es(this)){var a=ts(this,{object:this.proxy_||this.target_,name:n,type:Xu,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var u=gU(n),l={configurable:Ie.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,n,l))return!1}else sa(this.target_,n,l);this.values_.set(n,new ap(i)),this.notifyPropertyAddition_(n,void 0)}finally{us()}return!0},e.delete_=function(n,i){if(i===void 0&&(i=!1),this.keysAtom_,!ll(this.target_,n))return!0;if(es(this)){var s=ts(this,{object:this.proxy_||this.target_,name:n,type:yU});if(!s)return null}try{var o,a;as();var u=Ys(this),l=!1,c=this.values_.get(n),f=void 0;if(!c&&(u||l)){var p;f=(p=vw(this.target_,n))==null?void 0:p.value}if(i){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(c&&(this.values_.delete(n),c instanceof qc&&(f=c.value_),sZ(c)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(a=o.get(n))==null||a.set(n in this.target_),u||l){var m={type:yU,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:n};u&&Qs(this,m)}}finally{us()}return!0},e.observe_=function(n,i){return Vv(this,n)},e.intercept_=function(n){return Hv(this,n)},e.notifyPropertyAddition_=function(n,i){var s,o,a=Ys(this),u=!1;if(a||u){var l=a||u?{type:Xu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:i}:null;a&&Qs(this,l)}(s=this.pendingKeys_)==null||(o=s.get(n))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),xM(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Gv(t,e){var r;if(ll(t,Xe))return t;var n=(r=e==null?void 0:e.name)!=null?r:"ObservableObject",i=new wZ(t,new Map,String(n),s1e(e));return EM(t,Xe,i),t}var q1e=Hh("ObservableObjectAdministration",wZ);function gU(t){return mU[t]||(mU[t]={get:function(){return this[Xe].getObservablePropValue_(t)},set:function(r){return this[Xe].setObservablePropValue_(t,r)}})}function Fg(t){return vx(t)?q1e(t[Xe]):!1}function vU(t,e,r){var n;(n=t.target_[af])==null||delete n[r]}var Z1e=xZ(0),X1e=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),bC=0,EZ=function(){};function Y1e(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}Y1e(EZ,Array.prototype);var kM=function(t,e,r){jq(n,t);function n(s,o,a,u){var l;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),l=t.call(this)||this,Zp(function(){var c=new RM(a,o,u,!0);c.proxy_=yC(l),$q(yC(l),Xe,c),s&&s.length&&l.spliceWithArray(0,0,s),X1e&&Object.defineProperty(yC(l),"0",Z1e)}),l}var i=n.prototype;return i.concat=function(){this[Xe].atom_.reportObserved();for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(l){return Sx(l)?l.slice():l}))},i[r]=function(){var s=this,o=0;return jg({next:function(){return o<s.length?{value:s[o++],done:!1}:{done:!0,value:void 0}}})},SM(n,[{key:"length",get:function(){return this[Xe].getArrayLength_()},set:function(o){this[Xe].setArrayLength_(o)}},{key:e,get:function(){return"Array"}}]),n}(EZ,Symbol.toStringTag,Symbol.iterator);Object.entries(Sw).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&EM(kM.prototype,e,r)});function xZ(t){return{enumerable:!1,configurable:!0,get:function(){return this[Xe].get_(t)},set:function(r){this[Xe].set_(t,r)}}}function Q1e(t){sa(kM.prototype,""+t,xZ(t))}function SZ(t){if(t>bC){for(var e=bC;e<t+100;e++)Q1e(e);bC=t}}SZ(1e3);function K1e(t,e,r){return new kM(t,e,r)}function Ug(t,e){if(typeof t=="object"&&t!==null){if(Sx(t))return e!==void 0&&wt(23),t[Xe].atom_;if(qp(t))return t.atom_;if(Gh(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||wt(25,e,PO(t)),r}if(Fg(t)){if(!e)return wt(26);var n=t[Xe].values_.get(e);return n||wt(27,e,PO(t)),n}if(AM(t)||Ex(t)||xw(t))return t}else if(to(t)&&xw(t[Xe]))return t[Xe];wt(28)}function AZ(t,e){if(t||wt(29),e!==void 0)return AZ(Ug(t,e));if(AM(t)||Ex(t)||xw(t)||Gh(t)||qp(t))return t;if(t[Xe])return t[Xe];wt(24,t)}function PO(t,e){var r;if(e!==void 0)r=Ug(t,e);else{if(xx(t))return t.name;Fg(t)||Gh(t)||qp(t)?r=AZ(t):r=Ug(t)}return r.name_}function Zp(t){var e=Vh(),r=CM(!0);as();try{return t()}finally{us(),IM(r),Za(e)}}var _U=gx.toString;function PM(t,e,r){return r===void 0&&(r=-1),NO(t,e,r)}function NO(t,e,r,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=_U.call(t);if(o!==_U.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=bU(t),e=bU(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var u=t.constructor,l=e.constructor;if(u!==l&&!(to(u)&&u instanceof u&&to(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),a){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!NO(t[c],e[c],r-1,n,i))return!1}else{var f=Object.keys(t),p;if(c=f.length,Object.keys(e).length!==c)return!1;for(;c--;)if(p=f[c],!(ll(e,p)&&NO(t[p],e[p],r-1,n,i)))return!1}return n.pop(),i.pop(),!0}function bU(t){return Sx(t)?t.slice():Gp(t)||Gh(t)||Fv(t)||qp(t)?Array.from(t.entries()):t}function jg(t){return t[Symbol.iterator]=J1e,t}function J1e(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Pq();typeof e[t]>"u"&&wt("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:E1e,extras:{getDebugName:PO},$mobx:Xe});var MO=function(t,e){return MO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},MO(t,e)};function _a(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");MO(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ewe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function TZ(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function iu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function su(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ou(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Af(t){return this instanceof Af?(this.v=t,this):new Af(t)}function twe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(y,g){s.push([p,m,y,g])>1||a(p,m)})})}function a(p,m){try{u(n[p](m))}catch(y){f(s[0][3],y)}}function u(p){p.value instanceof Af?Promise.resolve(p.value.v).then(l,c):f(s[0][2],p)}function l(p){a("next",p)}function c(p){a("throw",p)}function f(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function rwe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof iu=="function"?iu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function wr(t){return typeof t=="function"}function CZ(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var wC=CZ(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function DO(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Ax=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=iu(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(wr(c))try{c()}catch(g){s=g instanceof wC?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=iu(f),m=p.next();!m.done;m=p.next()){var y=m.value;try{wU(y)}catch(g){s=s??[],g instanceof wC?s=ou(ou([],su(s)),su(g.errors)):s.push(g)}}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(s)throw new wC(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)wU(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&DO(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&DO(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),IZ=Ax.EMPTY;function OZ(t){return t instanceof Ax||t&&"closed"in t&&wr(t.remove)&&wr(t.add)&&wr(t.unsubscribe)}function wU(t){wr(t)?t():t.unsubscribe()}var RZ={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},BO={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=BO.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,ou([t,e],su(r))):setTimeout.apply(void 0,ou([t,e],su(r)))},clearTimeout:function(t){var e=BO.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function kZ(t){BO.setTimeout(function(){throw t})}function EU(){}function Hb(t){t()}var NM=function(t){_a(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,OZ(r)&&r.add(n)):n.destination=owe,n}return e.create=function(r,n,i){return new Tw(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Ax),nwe=Function.prototype.bind;function EC(t,e){return nwe.call(t,e)}var iwe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){eb(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){eb(n)}else eb(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){eb(r)}},t}(),Tw=function(t){_a(e,t);function e(r,n,i){var s=t.call(this)||this,o;if(wr(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&RZ.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&EC(r.next,a),error:r.error&&EC(r.error,a),complete:r.complete&&EC(r.complete,a)}):o=r}return s.destination=new iwe(o),s}return e}(NM);function eb(t){kZ(t)}function swe(t){throw t}var owe={closed:!0,next:EU,error:swe,complete:EU},MM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function PZ(t){return t}function NZ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return MZ(t)}function MZ(t){return t.length===0?PZ:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ms=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,s=uwe(e)?e:new Tw(e,r,n);return Hb(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=xU(r),new r(function(i,s){var o=new Tw({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[MM]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return MZ(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=xU(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function xU(t){var e;return(e=t??RZ.Promise)!==null&&e!==void 0?e:Promise}function awe(t){return t&&wr(t.next)&&wr(t.error)&&wr(t.complete)}function uwe(t){return t&&t instanceof NM||awe(t)&&OZ(t)}function lwe(t){return wr(t==null?void 0:t.lift)}function Wh(t){return function(e){if(lwe(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function lp(t,e,r,n,i){return new cwe(t,e,r,n,i)}var cwe=function(t){_a(e,t);function e(r,n,i,s,o,a){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(l){try{n(l)}catch(c){r.error(c)}}:t.prototype._next,u._error=s?function(l){try{s(l)}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(NM),hwe=CZ(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),DM=function(t){_a(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new SU(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new hwe},e.prototype.next=function(r){var n=this;Hb(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=iu(n.currentObservers),a=o.next();!a.done;a=o.next()){var u=a.value;u.next(r)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Hb(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Hb(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?IZ:(this.currentObservers=null,a.push(r),new Ax(function(){n.currentObservers=null,DO(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},e.prototype.asObservable=function(){var r=new ms;return r.source=this,r},e.create=function(r,n){return new SU(r,n)},e}(ms),SU=function(t){_a(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:IZ},e}(DM),DZ=new ms(function(t){return t.complete()});function dwe(t){return t&&wr(t.schedule)}function BZ(t){return t[t.length-1]}function BM(t){return dwe(BZ(t))?t.pop():void 0}function fwe(t,e){return typeof BZ(t)=="number"?t.pop():e}var LZ=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function $Z(t){return wr(t==null?void 0:t.then)}function FZ(t){return wr(t[MM])}function UZ(t){return Symbol.asyncIterator&&wr(t==null?void 0:t[Symbol.asyncIterator])}function jZ(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function pwe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zZ=pwe();function HZ(t){return wr(t==null?void 0:t[zZ])}function VZ(t){return twe(this,arguments,function(){var r,n,i,s;return TZ(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Af(r.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,Af(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Af(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function GZ(t){return wr(t==null?void 0:t.getReader)}function Xp(t){if(t instanceof ms)return t;if(t!=null){if(FZ(t))return mwe(t);if(LZ(t))return ywe(t);if($Z(t))return gwe(t);if(UZ(t))return WZ(t);if(HZ(t))return vwe(t);if(GZ(t))return _we(t)}throw jZ(t)}function mwe(t){return new ms(function(e){var r=t[MM]();if(wr(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ywe(t){return new ms(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function gwe(t){return new ms(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,kZ)})}function vwe(t){return new ms(function(e){var r,n;try{for(var i=iu(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function WZ(t){return new ms(function(e){bwe(t,e).catch(function(r){return e.error(r)})})}function _we(t){return WZ(VZ(t))}function bwe(t,e){var r,n,i,s;return ewe(this,void 0,void 0,function(){var o,a;return TZ(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=rwe(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function cl(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function qZ(t,e){return e===void 0&&(e=0),Wh(function(r,n){r.subscribe(lp(n,function(i){return cl(n,t,function(){return n.next(i)},e)},function(){return cl(n,t,function(){return n.complete()},e)},function(i){return cl(n,t,function(){return n.error(i)},e)}))})}function ZZ(t,e){return e===void 0&&(e=0),Wh(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function wwe(t,e){return Xp(t).pipe(ZZ(e),qZ(e))}function Ewe(t,e){return Xp(t).pipe(ZZ(e),qZ(e))}function xwe(t,e){return new ms(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function Swe(t,e){return new ms(function(r){var n;return cl(r,e,function(){n=t[zZ](),cl(r,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return wr(n==null?void 0:n.return)&&n.return()}})}function XZ(t,e){if(!t)throw new Error("Iterable cannot be null");return new ms(function(r){cl(r,e,function(){var n=t[Symbol.asyncIterator]();cl(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function Awe(t,e){return XZ(VZ(t),e)}function Twe(t,e){if(t!=null){if(FZ(t))return wwe(t,e);if(LZ(t))return xwe(t,e);if($Z(t))return Ewe(t,e);if(UZ(t))return XZ(t,e);if(HZ(t))return Swe(t,e);if(GZ(t))return Awe(t,e)}throw jZ(t)}function Wv(t,e){return e?Twe(t,e):Xp(t)}function Cwe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=BM(t);return Wv(t,r)}function LM(t,e){return Wh(function(r,n){var i=0;r.subscribe(lp(n,function(s){n.next(t.call(e,s,i++))}))})}function Iwe(t,e,r,n,i,s,o,a){var u=[],l=0,c=0,f=!1,p=function(){f&&!u.length&&!l&&e.complete()},m=function(g){return l<n?y(g):u.push(g)},y=function(g){s&&e.next(g),l++;var b=!1;Xp(r(g,c++)).subscribe(lp(e,function(_){i==null||i(_),s?m(_):e.next(_)},function(){b=!0},void 0,function(){if(b)try{l--;for(var _=function(){var w=u.shift();o?cl(e,o,function(){return y(w)}):y(w)};u.length&&l<n;)_();p()}catch(w){e.error(w)}}))};return t.subscribe(lp(e,m,function(){f=!0,p()})),function(){a==null||a()}}function Cw(t,e,r){return r===void 0&&(r=1/0),wr(e)?Cw(function(n,i){return LM(function(s,o){return e(n,s,i,o)})(Xp(t(n,i)))},r):(typeof e=="number"&&(r=e),Wh(function(n,i){return Iwe(n,i,t,r)}))}function YZ(t){return t===void 0&&(t=1/0),Cw(PZ,t)}function Owe(){return YZ(1)}function Rwe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Owe()(Wv(t,BM(t)))}function kwe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=BM(t),n=fwe(t,1/0),i=t;return i.length?i.length===1?Xp(i[0]):YZ(n)(Wv(i,r)):DZ}function Pwe(t,e){return Wh(function(r,n){var i=0;r.subscribe(lp(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}function Nwe(t,e){return wr(e)?Cw(t,e,1):Cw(t,1)}function Mwe(t){return t<=0?function(){return DZ}:Wh(function(e,r){var n=0;e.subscribe(lp(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Dwe(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new DM}:e,n=t.resetOnError,i=n===void 0?!0:n,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,u=a===void 0?!0:a;return function(l){var c=null,f=null,p=null,m=0,y=!1,g=!1,b=function(){f==null||f.unsubscribe(),f=null},_=function(){b(),c=p=null,y=g=!1},w=function(){var E=c;_(),E==null||E.unsubscribe()};return Wh(function(E,x){m++,!g&&!y&&b();var N=p=p??r();x.add(function(){m--,m===0&&!g&&!y&&(f=xC(w,u))}),N.subscribe(x),c||(c=new Tw({next:function(M){return N.next(M)},error:function(M){g=!0,b(),f=xC(_,i,M),N.error(M)},complete:function(){y=!0,b(),f=xC(_,o),N.complete()}}),Wv(E).subscribe(c))})(l)}}function xC(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,ou([],su(r))).pipe(Mwe(1)).subscribe(function(){return t()})}function Bwe(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function Lwe(){return NZ(Pwe(t=>t!=null))}var $we=function(){let t=Fwe,e=Uwe;return e(t(32),8)+"-"+e(t(16),4)+"-"+e(16384|t(12),4)+"-"+e(32768|t(14),4)+"-"+e(t(48),12)},Fwe=function(t){if(t<0||t>53)return NaN;let e=0|Math.random()*1073741824;return t>30?e+(0|Math.random()*(1<<t-30))*1073741824:e>>>30-t},Uwe=function(t,e){let r=t.toString(16),n=e-r.length,i="0";for(;n>0;n>>>=1,i+=i)n&1&&(r=i+r);return r};function jwe(t){return{...t,[Symbol.iterator](){return this}}}function zwe(t,e){return jwe({next(){let{done:r,value:n}=t.next();return{done:r,value:r?n:e(n)}}})}function Hwe(t){if(t<2)throw new Error("Minimum size is 2");if(t>64)throw new Error("Maximum size is 64");let e=2**(t-1)-1,r=-e-1;return n=>{if(n=n<<0,n>e||n<r)throw console.log("value",n,e,r,n>e,n<r),new Error(`Int${t} overflow`);return n<0?2**t+n:n}}Hwe(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var Lo=(t=>(t[t.Boolean=0]="Boolean",t[t.Number=1]="Number",t[t.OptionalNumber=2]="OptionalNumber",t[t.BigInt=3]="BigInt",t[t.OptionalBigInt=4]="OptionalBigInt",t[t.String=5]="String",t[t.OptionalString=6]="OptionalString",t[t.NumberArray=7]="NumberArray",t[t.OptionalNumberArray=8]="OptionalNumberArray",t[t.BigIntArray=9]="BigIntArray",t[t.OptionalBigIntArray=10]="OptionalBigIntArray",t[t.StringArray=11]="StringArray",t[t.OptionalStringArray=12]="OptionalStringArray",t[t.Entity=13]="Entity",t[t.OptionalEntity=14]="OptionalEntity",t[t.EntityArray=15]="EntityArray",t[t.OptionalEntityArray=16]="OptionalEntityArray",t[t.T=17]="T",t[t.OptionalT=18]="OptionalT",t[t.Schema=19]="Schema",t))(Lo||{}),Vwe=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t[t.Update=2]="Update",t[t.Noop=3]="Noop",t))(Vwe||{}),AU=[14,16,2,8,4,10,6,12,18];function Gwe(t){let e=new Map;function r(a){let u=e.get(n(a));return u?new Set([...u].map(KZ)):new Set}function n(a){return Object.values(a).join("/")}function i(a,u){if(!u)return;let l=n(u),c=e.get(l);c||(c=new Set,e.set(l,c)),c.add(a)}function s(a,u){if(!u)return;let l=n(u),c=e.get(l);c&&c.delete(a)}for(let a of $M(t)){let u=au(t,a);i(Ry(a),u)}let o=t.update$.subscribe(({entity:a,value:u})=>{s(Ry(a),u[1]),i(Ry(a),u[0])});return t.world.registerDisposer(()=>o==null?void 0:o.unsubscribe()),{...t,getEntitiesWithValue:r}}function Wwe(t,e){let r=au(e,t);return{entity:t,component:e,value:[r,void 0],type:r==null?3:0}}function qwe(t){return NZ(LM(e=>Wwe(e,t)))}function Zwe(t){return"getEntitiesWithValue"in t}function Xwe(t,e){return Object.keys(t.schema).every(r=>r in e)}function Ywe(t){var e,r,n,i;return((e=t.metadata)==null?void 0:e.componentName)??((r=t.metadata)==null?void 0:r.tableName)??((n=t.metadata)==null?void 0:n.tableId)??((i=t.metadata)==null?void 0:i.contractId)??t.id}function TU(t,e,r){if(Object.keys(e).length===0)throw new Error("Component schema must have at least one key");let n=(r==null?void 0:r.id)??$we(),i=Bwe(e,()=>new Map),s=new DM,o=r==null?void 0:r.metadata,a={values:i,schema:e,id:n,update$:s,metadata:o,entities:()=>zwe(Object.values(i)[0].keys(),KZ),world:t};return r!=null&&r.indexed&&(a=Gwe(a)),t.registerComponent(a),a}function CU(t,e){let r=Ry(e);return Object.values(t.values)[0].has(r)}function au(t,e){function r(o,a,u){let l={},c=Object.keys(o);for(let f of c){let p=u[f];if(typeof p=="object"){let m=r(o[f],a,p);if(m===void 0)return;l[f]=m}else{if(p===void 0&&!AU.includes(o[f]))return;l[f]=p}}return l}let n={},i=Ry(e),s=Object.keys(t.schema);for(let o of s){let a=t.values[o].get(i);if(typeof a=="object"){let u=r(t.schema[o],i,a);if(u===void 0)return;n[o]=u}else{if(a===void 0&&!AU.includes(t.schema[o]))return;n[o]=a}}return n}function Qwe(t,e){let r=au(t,e);if(!r)throw new Error(`No value for component ${Ywe(t)} on entity ${e}`);return r}function LO(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;let r=!0;for(let n of Object.keys(t))if(r=t[n]===e[n],!r)return!1;return r}function QZ(t,e){if(Zwe(t)&&Xwe(t,e))return t.getEntitiesWithValue(e);let r=new Set;for(let n of $M(t)){let i=au(t,n);LO(e,i)&&r.add(n)}return r}function $M(t){return t.entities()}function Ry(t){return Symbol.for(t)}function KZ(t){return Symbol.keyFor(t)}var Kwe=(t=>(t[t.Has=0]="Has",t[t.HasValue=1]="HasValue",t[t.Not=2]="Not",t[t.NotValue=3]="NotValue",t[t.ProxyRead=4]="ProxyRead",t[t.ProxyExpand=5]="ProxyExpand",t))(Kwe||{});function Jwe(t){return{type:0,component:t}}function zg(t,e){if(e.type===0)return CU(e.component,t);if(e.type===1)return LO(e.value,au(e.component,t));if(e.type===2)return!CU(e.component,t);if(e.type===3)return!LO(e.value,au(e.component,t));throw new Error("Unknown query fragment")}function eEe(t){return t.type===0||t.type==1}function JZ(t){return t.type===2||t.type==3}function tEe(t){return t.type===5||t.type==4}function eX(t,e){return t&&eEe(e)||!t&&JZ(e)}function IU(t,e,r){let n=t,i=!1;for(let s=0;s<r.depth;s++){let o=au(r.component,n);if(!o)return null;let a=o.value;if(!a)return null;if(n=a,i=zg(n,e),eX(i,e))return i}return i}function $O(t,e,r){if(r===0)return new Set;let n=QZ(e,{value:t});if(r===1)return n;let i=[...n].map(s=>[...$O(s,e,r-1)]).flat();return new Set([...n,...i])}function OU(t,e){let r=e?new Set([...e]):void 0,n,i;for(let s=0;s<t.length;s++){let o=t[s];if(tEe(o))o.type===4&&(n=o),o.type===5&&(i=o);else if(r)for(let a of[...r]){let u=zg(a,o);if(n&&n.depth>0&&!eX(u,o)&&(u=IU(a,o,n)??u),u||r.delete(a),i&&i.depth>0){let l=$O(a,i.component,i.depth);for(let c of l)(zg(c,o)||n&&n.depth>0&&IU(c,o,n))&&r.add(c)}}else{if(JZ(o))throw new Error("First EntityQueryFragment must be Has or HasValue");if(r=o.type===0?new Set([...$M(o.component)]):QZ(o.component,o.value),i&&i.depth>0)for(let a of[...r])for(let u of $O(a,i.component,i.depth))r.add(u)}}return r??new Set}function rEe(t,e){let r=e!=null&&e.runOnInit||e!=null&&e.initialSet?OU(t,e.initialSet):new Set,n=Wr(r),i=Wv(n).pipe(qwe(t[0].component)),s=t.findIndex(a=>[5,4].includes(a.type))!==-1,o=kwe(...t.map(a=>a.component.update$)).pipe(s?Nwe(a=>{let u=OU(t,e==null?void 0:e.initialSet),l=[];for(let c of n)u.has(c)||(n.delete(c),l.push({entity:c,type:1,component:a.component,value:[void 0,void 0]}));for(let c of u)n.has(c)?l.push({entity:c,type:2,component:a.component,value:[au(a.component,c),void 0]}):(n.add(c),l.push({entity:c,type:0,component:a.component,value:[au(a.component,c),void 0]}));return Cwe(...l)}):LM(a=>{if(n.has(a.entity))return t.filter(u=>u.component.id===a.component.id).every(u=>zg(a.entity,u))?{...a,type:2}:(n.delete(a.entity),{...a,type:1});if(t.every(u=>zg(a.entity,u)))return n.add(a.entity),{...a,type:0}}),Lwe());return{matching:n,update$:Rwe(i,o).pipe(Dwe())}}function nEe(t,e,r){let n=e.subscribe(r);t.registerDisposer(()=>n==null?void 0:n.unsubscribe())}function iEe(t,e,r,n={runOnInit:!0}){nEe(t,rEe(e,n).update$,r)}const tX=new Gt;Qt.prototype._cacheAsBitmap=!1;Qt.prototype._cacheData=null;Qt.prototype._cacheAsBitmapResolution=null;Qt.prototype._cacheAsBitmapMultisample=null;class sEe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Qt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new sEe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Qt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Qt.prototype._initCachedDisplayObject=function(t){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new et,!0);if((m=this.filters)!=null&&m.length){const y=this.filters[0].padding;r.pad(y)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,u=zh.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),l=`cacheAsBitmap_${gh()}`;this._cacheData.textureCacheId=l,Je.addToCache(u.baseTexture,l),be.addToCache(u,l);const c=this.transform.localTransform.copyTo(tX).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new va(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Qt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Qt.prototype._initCachedDisplayObjectCanvas=function(t){var c;if((c=this._cacheData)!=null&&c.sprite)return;const e=this.getLocalBounds(new et,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=zh.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${gh()}`;this._cacheData.textureCacheId=a,Je.addToCache(o.baseTexture,a),be.addToCache(o,a);const u=tX;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const l=new va(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(e.x/e.width),l.anchor.y=-(e.y/e.height),l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)};Qt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Qt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Qt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Je.removeFromCache(this._cacheData.textureCacheId),be.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Qt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Qt.prototype.name=null;Wn.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};Qt.prototype.getGlobalPosition=function(t=new ut,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var oEe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class aEe extends Un{constructor(e=1){super(Nve,oEe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const uEe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},lEe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function cEe(t){const e=uEe[t],r=e.length;let n=lEe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const hEe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function dEe(t,e){const r=Math.ceil(t/2);let n=hEe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class FO extends Un{constructor(e,r=8,n=4,i=Un.defaultResolution,s=5){const o=dEe(s,e),a=cEe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,u=s;this.state.blend=!1,e.applyFilter(this,a,u,zo.CLEAR);for(let l=1;l<this.passes-1;l++){e.bindAndClear(a,zo.BLIT),this.uniforms.uSampler=u;const c=u;u=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class fEe extends Un{constructor(e=8,r=4,n=Un.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new FO(!0,e,r,n,i),this.blurYFilter=new FO(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,zo.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var pEe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class UO extends Un{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(YW,pEe,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Mt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,l=o*(1-n)-a*i,c=o*(1-n)+a*i,f=o*(1-n)+a*i,p=n+o*(1-n),m=o*(1-n)-a*i,y=o*(1-n)-a*i,g=o*(1-n)+a*i,b=n+o*(1-n),_=[u,l,c,0,0,f,p,m,0,0,y,g,b,0,0,0,0,0,1,0];this._loadMatrix(_,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Mt.shared,[a,u,l]=o.setValue(n).toArray(),[c,f,p]=o.setValue(i).toArray(),m=[.3,.59,.11,0,0,a,u,l,e,0,c,f,p,r,0,a-c,u-f,l-p,0,0];this._loadMatrix(m,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}UO.prototype.grayscale=UO.prototype.greyscale;var mEe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,yEe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class gEe extends Un{constructor(e,r){const n=new Gt;e.renderable=!1,super(yEe,mEe,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new ut(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var vEe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,_Ee=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class bEe extends Un{constructor(){super(_Ee,vEe)}}var wEe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class EEe extends Un{constructor(e=.5,r=Math.random()){super(YW,wEe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const RU={AlphaFilter:aEe,BlurFilter:fEe,BlurFilterPass:FO,ColorMatrixFilter:UO,DisplacementFilter:gEe,FXAAFilter:bEe,NoiseFilter:EEe};Object.entries(RU).forEach(([t,e])=>{Object.defineProperty(RU,t,{get(){return st("7.1.0",`filters.${t} has moved to ${t}`),e}})});class xEe{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(qr.system.add(this.tickerUpdate,this,Il.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(qr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const $u=new xEe;class qv{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=qv.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ut,this.page=new ut,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Iw extends qv{constructor(){super(...arguments),this.client=new ut,this.movement=new ut,this.offset=new ut,this.global=new ut,this.screen=new ut}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,u,l,c,f,p,m,y,g){throw new Error("Method not implemented.")}}class Ps extends Iw{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Tf extends Iw{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Tf.DOM_DELTA_PIXEL=0,Tf.DOM_DELTA_LINE=1,Tf.DOM_DELTA_PAGE=2;const SEe=2048,AEe=new ut,SC=new ut;class TEe{constructor(e){this.dispatch=new Bv,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){$u.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,AEe.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<SEe&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&($u.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let f=c.length-1;f>=0;f--){const p=c[f],m=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(e,n));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const y=e.isInteractive();(m.length>0||y)&&(y&&this._allInteractiveElements.push(e),m.push(e)),this._hitElements.length===0&&(this._hitElements=m),a=!0}}}const u=this._isInteractive(r),l=e.isInteractive();return u&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?l?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&($u.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let l=u.length-1;l>=0;l--){const c=u[l],f=this.hitTestRecursive(c,this._isInteractive(r)?r:c.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();return(f.length>0||p)&&f.push(e),f}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,SC),!e.hitArea.contains(SC.x,SC.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Ps)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var u,l;if(!(e instanceof Ps)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,c,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,c);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const m=this.clonePointerEvent(r,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Ps)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Ps)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ps)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[e.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Ps)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Tf)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Ps);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Tf);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Ps);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Ps&&r instanceof Ps&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Iw&&r instanceof Iw&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const CEe=1,IEe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},jO=class zO{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new TEe(null),$u.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ps(null),this.rootWheelEvent=new Tf(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...zO.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,zO._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,$u.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,$u.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;$u.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;$u.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=CEe),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=IEe[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};jO.extension={name:"events",type:[Ee.RendererSystem,Ee.CanvasRendererSystem]},jO.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let HO=jO;Le.add(HO);function kU(t){return t==="dynamic"||t==="static"}const OEe={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??kU(HO.defaultEventMode)},set interactive(t){st("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??HO.defaultEventMode},set eventMode(t){this._internalInteractive=kU(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof qv))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Qt.mixin(OEe);const REe={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Qt.mixin(REe);const kEe=9,tb=100,PEe=0,NEe=0,PU=2,NU=1,MEe=-1e3,DEe=-1e3,BEe=2;class rX{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ha.tablet||Ha.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${tb}px`,r.style.height=`${tb}px`,r.style.position="absolute",r.style.top=`${PEe}px`,r.style.left=`${NEe}px`,r.style.zIndex=PU.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${NU}px`,e.style.height=`${NU}px`,e.style.position="absolute",e.style.top=`${MEe}px`,e.style.left=`${DEe}px`,e.style.zIndex=BEe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Ha.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,l=i/o*u,c=s/a*u;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,xf(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let y=m.hitArea;const g=m.worldTransform;m.hitArea?(f.style.left=`${(g.tx+y.x*g.a)*l}px`,f.style.top=`${(g.ty+y.y*g.d)*c}px`,f.style.width=`${y.width*g.a*l}px`,f.style.height=`${y.height*g.d*c}px`):(y=m.getBounds(),this.capHitArea(y),f.style.left=`${y.x*l}px`,f.style.top=`${y.y*c}px`,f.style.width=`${y.width*l}px`,f.style.height=`${y.height*c}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${tb}px`,r.style.height=`${tb}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=PU.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new qv(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===kEe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}rX.extension={name:"accessibility",type:[Ee.RendererPlugin,Ee.CanvasRendererPlugin]};Le.add(rX);var bi=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(bi||{});const Ow={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ra,Md;function MU(){Md={s3tc:Ra.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ra.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ra.getExtension("WEBGL_compressed_texture_etc"),etc1:Ra.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ra.getExtension("WEBGL_compressed_texture_pvrtc")||Ra.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ra.getExtension("WEBGL_compressed_texture_atc"),astc:Ra.getExtension("WEBGL_compressed_texture_astc")}}const LEe={extension:{type:Ee.DetectionParser,priority:2},test:async()=>{const t=Te.ADAPTER.createCanvas().getContext("webgl");return t?(Ra=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Md||MU();const e=[];for(const r in Md)Md[r]&&e.push(r);return[...e,...t]},remove:async t=>(Md||MU(),t.filter(e=>!(e in Md)))};Le.add(LEe);class $Ee extends sx{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new q2(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new q2(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Zc extends $Ee{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Zc._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Zc._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:u,levelHeight:l,levelBuffer:c}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,u,l,0,c)}return!0}onBlobLoaded(){this._levelBuffers=Zc._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const u=new Array(n);let l=e.byteOffset,c=o,f=a,p=c+i-1&~(i-1),m=f+s-1&~(s-1),y=p*m*Ow[r];for(let g=0;g<n;g++)u[g]={levelID:g,levelWidth:n>1?c:p,levelHeight:n>1?f:m,levelBuffer:new Uint8Array(e.buffer,l,y)},l+=y,c=c>>1||1,f=f>>1||1,p=c+i-1&~(i-1),m=f+s-1&~(s-1),y=p*m*Ow[r];return u}}const AC=4,rb=124,FEe=32,DU=20,UEe=542327876,nb={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},jEe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ib={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},zEe=1,HEe=2,VEe=4,GEe=64,WEe=512,qEe=131072,ZEe=827611204,XEe=861165636,YEe=894720068,QEe=808540228,KEe=4,JEe={[ZEe]:bi.COMPRESSED_RGBA_S3TC_DXT1_EXT,[XEe]:bi.COMPRESSED_RGBA_S3TC_DXT3_EXT,[YEe]:bi.COMPRESSED_RGBA_S3TC_DXT5_EXT},exe={70:bi.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:bi.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:bi.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:bi.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:bi.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:bi.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:bi.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:bi.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:bi.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function txe(t){const e=new Uint32Array(t);if(e[0]!==UEe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,rb/Uint32Array.BYTES_PER_ELEMENT),n=r[nb.HEIGHT],i=r[nb.WIDTH],s=r[nb.MIPMAP_COUNT],o=new Uint32Array(t,nb.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,FEe/Uint32Array.BYTES_PER_ELEMENT),a=o[zEe];if(a&VEe){const u=o[jEe.FOURCC];if(u!==QEe){const w=JEe[u],E=AC+rb,x=new Uint8Array(t,E);return[new Zc(x,{format:w,width:i,height:n,levels:s})]}const l=AC+rb,c=new Uint32Array(e.buffer,l,DU/Uint32Array.BYTES_PER_ELEMENT),f=c[ib.DXGI_FORMAT],p=c[ib.RESOURCE_DIMENSION],m=c[ib.MISC_FLAG],y=c[ib.ARRAY_SIZE],g=exe[f];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(m===KEe)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,_=AC+rb+DU;if(y===1)b.push(new Uint8Array(t,_));else{const w=Ow[g];let E=0,x=i,N=n;for(let R=0;R<s;R++){const D=Math.max(1,x+3&-4),W=Math.max(1,N+3&-4),G=D*W*w;E+=G,x=x>>>1,N=N>>>1}let M=_;for(let R=0;R<y;R++)b.push(new Uint8Array(t,M,E)),M+=E}return b.map(w=>new Zc(w,{format:g,width:i,height:n,levels:s}))}throw a&GEe?new Error("DDSParser does not support uncompressed texture data."):a&WEe?new Error("DDSParser does not supported YUV uncompressed texture data."):a&qEe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&HEe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const BU=[171,75,84,88,32,49,49,187,13,10,26,10],rxe=67305985,Os={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},VO=64,LU={[ze.UNSIGNED_BYTE]:1,[ze.UNSIGNED_SHORT]:2,[ze.INT]:4,[ze.UNSIGNED_INT]:4,[ze.FLOAT]:4,[ze.HALF_FLOAT]:8},nxe={[ge.RGBA]:4,[ge.RGB]:3,[ge.RG]:2,[ge.RED]:1,[ge.LUMINANCE]:1,[ge.LUMINANCE_ALPHA]:2,[ge.ALPHA]:1},ixe={[ze.UNSIGNED_SHORT_4_4_4_4]:2,[ze.UNSIGNED_SHORT_5_5_5_1]:2,[ze.UNSIGNED_SHORT_5_6_5]:2};function sxe(t,e,r=!1){const n=new DataView(e);if(!oxe(t,n))return null;const i=n.getUint32(Os.ENDIANNESS,!0)===rxe,s=n.getUint32(Os.GL_TYPE,i),o=n.getUint32(Os.GL_FORMAT,i),a=n.getUint32(Os.GL_INTERNAL_FORMAT,i),u=n.getUint32(Os.PIXEL_WIDTH,i),l=n.getUint32(Os.PIXEL_HEIGHT,i)||1,c=n.getUint32(Os.PIXEL_DEPTH,i)||1,f=n.getUint32(Os.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(Os.NUMBER_OF_FACES,i),m=n.getUint32(Os.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(Os.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||c!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const g=4,b=4,_=u+3&-4,w=l+3&-4,E=new Array(f);let x=u*l;s===0&&(x=_*w);let N;if(s!==0?LU[s]?N=LU[s]*nxe[o]:N=ixe[s]:N=Ow[a],N===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const M=r?uxe(n,y,i):null;let R=x*N,D=u,W=l,G=_,U=w,X=VO+y;for(let B=0;B<m;B++){const j=n.getUint32(X,i);let C=X+4;for(let P=0;P<f;P++){let O=E[P];O||(O=E[P]=new Array(m)),O[B]={levelID:B,levelWidth:m>1||s!==0?D:G,levelHeight:m>1||s!==0?W:U,levelBuffer:new Uint8Array(e,C,R)},C+=R}X+=j+4,X=X%4!==0?X+4-X%4:X,D=D>>1||1,W=W>>1||1,G=D+g-1&~(g-1),U=W+b-1&~(b-1),R=G*U*N}return s!==0?{uncompressed:E.map(B=>{let j=B[0].levelBuffer,C=!1;return s===ze.FLOAT?j=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):s===ze.UNSIGNED_INT?(C=!0,j=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):s===ze.INT&&(C=!0,j=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new sx(j,{width:B[0].levelWidth,height:B[0].levelHeight}),type:s,format:C?axe(o):o}}),kvData:M}:{compressed:E.map(B=>new Zc(null,{format:a,width:u,height:l,levels:m,levelBuffers:B})),kvData:M}}function oxe(t,e){for(let r=0;r<BU.length;r++)if(e.getUint8(r)!==BU[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function axe(t){switch(t){case ge.RGBA:return ge.RGBA_INTEGER;case ge.RGB:return ge.RGB_INTEGER;case ge.RG:return ge.RG_INTEGER;case ge.RED:return ge.RED_INTEGER;default:return t}}function uxe(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(VO+i,r),o=VO+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),c=new DataView(t.buffer,o+u+1,s-u-1);n.set(l,c),i+=4+s+a}return n}const lxe={extension:{type:Ee.LoadParser,priority:po.High},name:"loadDDS",test(t){return Vl(t,".dds")},async load(t,e,r){const n=await(await Te.ADAPTER.fetch(t)).arrayBuffer(),i=txe(n).map(s=>{const o=new Je(s,{mipmap:ha.OFF,alphaMode:ui.NO_PREMULTIPLIED_ALPHA,resolution:ru(t),...e.data});return $v(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Le.add(lxe);const cxe={extension:{type:Ee.LoadParser,priority:po.High},name:"loadKTX",test(t){return Vl(t,".ktx")},async load(t,e,r){const n=await(await Te.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=sxe(t,n),a=i??s,u={mipmap:ha.OFF,alphaMode:ui.NO_PREMULTIPLIED_ALPHA,resolution:ru(t),...e.data},l=a.map(c=>{a===s&&Object.assign(u,{type:c.type,format:c.format});const f=c.resource??c,p=new Je(f,u);return p.ktxKeyValueData=o,$v(p,r,t)});return l.length===1?l[0]:l},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Le.add(cxe);const hxe={extension:Ee.ResolveParser,test:t=>{const e=Pr.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=Pr.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=Te.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=Te.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};Le.add(hxe);const sb=new et,dxe=4,nX=class sy{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(u=>{if(!u){a(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=a,l.readAsDataURL(u)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,u)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=u,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&sy._flipY(n,i,s),a&&sy._unpremultiplyAlpha(n);const u=new vge(i,s,1),l=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return u.context.putImageData(l,0,0),u.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&sy._flipY(n,i,s),a&&sy._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,u=!1;e&&(e instanceof zh?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),u=!0,r&&(sb.width=r.width,sb.height=r.height,r=sb)));const l=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ge.RGBA,!u){n.renderTexture.bind(a);const m=a.framebuffer.glFramebuffers[n.CONTEXT_UID];m.blitFramebuffer&&n.framebuffer.bind(m.blitFramebuffer)}}else i=n.resolution,r||(r=sb,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const c=Math.max(Math.round(r.width*i),1),f=Math.max(Math.round(r.height*i),1),p=new Uint8Array(dxe*c*f);return l.readPixels(Math.round(r.x*i),Math.round(r.y*i),c,f,l.RGBA,l.UNSIGNED_BYTE,p),u&&(a==null||a.destroy(!0)),{pixels:p,width:c,height:f,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const u=a*i,l=(n-a-1)*i;o.set(e.subarray(u,u+i)),e.copyWithin(u,l,l+i),e.set(o,l)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};nX.extension={name:"extract",type:Ee.RendererSystem};let fxe=nX;Le.add(fxe);class pxe{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function mxe(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof be){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function yxe(t,e){if(t.baseTexture instanceof Je){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function gxe(t,e){if(t._texture&&t._texture instanceof be){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function vxe(t,e){return e instanceof yM?(e.updateText(!0),!0):!1}function _xe(t,e){if(e instanceof Ol){const r=e.toFontString();return Mu.measureFont(r),!0}return!1}function bxe(t,e){if(t instanceof yM){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function wxe(t,e){return t instanceof Ol?(e.includes(t)||e.push(t),!0):!1}const iX=class sX{constructor(e){this.limiter=new pxe(sX.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(bxe),this.registerFindHook(wxe),this.registerFindHook(mxe),this.registerFindHook(yxe),this.registerFindHook(gxe),this.registerUploadHook(vxe),this.registerUploadHook(_xe)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,qr.system.addOnce(this.tick,this,Il.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)qr.system.addOnce(this.tick,this,Il.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Wn)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&qr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};iX.uploadsPerFrame=4;let GO=iX;Object.defineProperties(Te,{UPLOADS_PER_FRAME:{get(){return GO.uploadsPerFrame},set(t){st("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),GO.uploadsPerFrame=t}}});function oX(t,e){return e instanceof Je?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Exe(t,e){if(!(e instanceof Cy))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&oX(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function xxe(t,e){return t instanceof Cy?(e.push(t),!0):!1}class aX extends GO{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(xxe),this.registerUploadHook(oX),this.registerUploadHook(Exe)}}aX.extension={name:"prepare",type:Ee.RendererSystem};Le.add(aX);const uX=class oy{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof be?e:null,this.baseTexture=e instanceof Je?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=ru(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=oy.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=oy.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const l=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new et(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s.rotated?a=new et(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new et(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new et(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new be(this.baseTexture,a,c,u,s.rotated?2:0,s.anchor,s.borders),be.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*oy.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*oy.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};uX.BATCH_SIZE=1e3;let $U=uX;const Sxe=["jpg","png","jpeg","avif","webp"];function lX(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Pr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=lX([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const Axe={extension:Ee.Asset,cache:{test:t=>t instanceof $U,getCacheableAssets:(t,e)=>lX(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&Sxe.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Te.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Ee.LoadParser,priority:po.Normal},async testParse(t,e){return Pr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,l;let n=Pr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=fO(i,e.src);const s=(await r.load([i]))[i],o=new $U(s.baseTexture,t,e.src);await o.parse();const a=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(a)){const c=[];for(const p of a){if(typeof p!="string")continue;let m=n+p;(l=e.data)!=null&&l.ignoreMultiPack||(m=fO(m,e.src),c.push(r.load({src:m,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(c);o.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[o].concat(o.linkedSheets.filter(m=>m!==p))})}return o},unload(t){t.destroy(!0)}}};Le.add(Axe);const WO=class Dd extends Ol{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Dd(Object.keys(Dd.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Dd.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Dd;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Te.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),u=new FileReader;u.onload=()=>s([a,u.result]),u.onerror=o,u.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Pr.basename(e,Pr.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=pge(e)),typeof e=="number"?fge(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Dd.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Te.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};WO.availableFonts={},WO.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let TC=WO;const ob=class Bd extends va{constructor(e="",r={}){super(be.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=be.from(n,{scaleMode:Te.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new et,i.trim=new et,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject"),l=document.createElementNS(o,"div"),c=document.createElementNS(o,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",a.appendChild(u),this.maxWidth=Bd.defaultMaxWidth,this.maxHeight=Bd.defaultMaxHeight,this._domElement=l,this._styleElement=c,this._svgRoot=a,this._foreignObject=u,this._foreignObject.appendChild(c),this._foreignObject.appendChild(l),this._image=n,this._loadImage=new Image,this._autoResolution=Bd.defaultAutoResolution,this._resolution=Bd.defaultResolution??Te.RESOLUTION,this.text=e,this.style=r}measureText(e){var c,f;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",l.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(c=this._style)==null?void 0:c.toCSS(i)}),this._styleElement.textContent=(f=this._style)==null?void 0:f.toGlobalCSS()),{width:u+n.padding*2,height:l+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(u=>{i.onload=async()=>{if(a<this._updateID){u();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),u()};const l=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Bd.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=qu(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=qu(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof TC?(this.ownsStyle=!1,this._style=e):e instanceof Ol?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=TC.from(e)):(this.ownsStyle=!0,this._style=new TC(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};ob.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},ob.defaultMaxWidth=2024,ob.defaultMaxHeight=2024,ob.defaultAutoResolution=!0;const Txe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAQoAMABAAAAAEAAAAQAAAAACaIX+wAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Chle4QcAAADBSURBVDgRpZIxDsIwEARN3hBRUNDR0vEBXsLTeEk+QEdLR5GCRwAaS3s6jsOJyEqWfbe361WcUhZi5fVD37+o792+nB7DLK6TgcSqz+tjNaP23PZ5LZ6rt/gBGZBCQOQhjpSWgIHNYVcXZ4m008tgBogjpsTMm0EU/6oVX7wZjJdb7WnXwNRuT5V9yCj2t+uZLUEcnltbAgStFNntaD4MMhMvhFd0zuDLgKb/06iFKKafGkBEk0zMXBOYRKOm4B/yDe59Q/jk/UciAAAAAElFTkSuQmCC",Cxe="/assets/skull-67b63016.png",cX=1,hX=.5,dX=-1,fX=.5,Rw=32*2,Hg=32*2,Ixe=8,ky=1200,pX=600,kw=(pX-Ixe*Hg/2)/2;function Vb(t){return{x:t.x*cX*.5*Rw+t.y*dX*.5*Rw,y:t.x*hX*.5*Hg+t.y*fX*.5*Hg}}function Oxe(t,e,r,n){const i=1/(t*n-e*r);return{a:i*n,b:i*-e,c:i*-r,d:i*t}}function Py(t){const e=cX*.5*Rw,r=dX*.5*Rw,n=hX*.5*Hg,i=fX*.5*Hg,s=Oxe(e,r,n,i);return{x:t.x*s.a+t.y*s.b,y:t.x*s.c+t.y*s.d}}function CC(t){return{x:t.x+ky/2,y:t.y+kw}}const Rxe=(t,e)=>t.x===e.x&&t.y===e.y,FU="/assets/0_1-07718a39.png",kxe=({hoveredTile:t})=>{const r=Math.floor(25);return be.from(FU).baseTexture.scaleMode=Ii.NEAREST,Array.from(Array(50)).map((n,i)=>Array.from(Array(50)).map((s,o)=>{const a={x:o-r,y:i-r,layer:"base",type:"ground"},u=Vb({x:a.x,y:a.y}),l=t&&t.x===a.x&&t.y===a.y?5:0;return Or.jsx(gw.Sprite,{image:FU,anchor:.5,scale:2,x:u.x+ky/2,y:u.y+kw-l},`${a.x}-${a.y}`)}))};var $o=(t=>(t[t.Idle=0]="Idle",t[t.Walk=1]="Walk",t[t.Carry=2]="Carry",t[t.Jump=3]="Jump",t[t.Throw=4]="Throw",t[t.Hurt=5]="Hurt",t[t.Death=6]="Death",t))($o||{});const ab=(t,e,r,n)=>{const i=Object.keys(n.data.frames);let s=[];if(e===0)s=i.filter(o=>o.includes("idle"));else if(e===1)s=i.filter(o=>o.includes("walk"));else if(e===2)s=i.filter(o=>o.includes("carry"));else if(e===3)s=i.filter(o=>o.includes("jump"));else if(e===4)s=i.filter(o=>o.includes("throw"));else if(e===5)s=i.filter(o=>o.includes("hurt"));else if(e===6)s=i.filter(o=>o.includes("death"));else throw new Error("Invalid AnimationType");return r===1?s=s.filter(o=>/-SE-/.test(o)):r===7?s=s.filter(o=>/-SW-/.test(o)):r===5?s=s.filter(o=>/-NW-/.test(o)):r===3?s=s.filter(o=>/-NE-/.test(o)):r===0?s=s.filter(o=>/-S-/.test(o)&&!/-SE-/.test(o)&&!/-SW-/.test(o)):r===2?s=s.filter(o=>/-E-/.test(o)&&!/-SE-/.test(o)&&!/-NE-/.test(o)):r===4?s=s.filter(o=>/-N-/.test(o)&&!/-NE-/.test(o)&&!/-NW-/.test(o)):r===6&&(s=s.filter(o=>/-W-/.test(o)&&!/-SW-/.test(o)&&!/-NW-/.test(o))),s.map(o=>{const a=be.from(o);return a.baseTexture.scaleMode=Ii.NEAREST,a})},Pxe=({type:t,position:e})=>{const[r,n]=Me.useState($o.Idle),[i,s]=Me.useState([]),[o,a]=Me.useState(void 0),[u,l]=Me.useState(0),[c,f]=Me.useState(!1);Me.useEffect(()=>{o&&(r===$o.Walk?s(ab(t,$o.Walk,or,o)):r===$o.Hurt?s(ab(t,$o.Hurt,orientation,o)):r===$o.Death?s(ab(t,$o.Death,orientation,o)):s(ab(t,$o.Idle,orientation,o)))},[r,o]),Me.useEffect(()=>{c&&n($o.Walk)},[c]);const[p,m]=Me.useState(CC(Vb(e)));Me.useEffect(()=>{(async()=>{const _=await ny.load(`assets/${t}/${t}.json`);a(_)})(),m(CC(Vb(e)))},[]),Me.useEffect(()=>{m(CC(Vb(e)))},[e]),Me.useState(!0);const[y,g]=Me.useState(!1);return console.log("BD >>>",p,Py(p)),Or.jsx(Or.Fragment,{children:Or.jsx(gw.AnimatedSprite,{zIndex:Py(p).x+Py(p).y,x:y?-100:p.x,y:y?-100:p.y-36,anchor:.5,scale:2,isPlaying:!1,textures:i,initialFrame:u})})},Nxe=({world:t,spawn:e,move:r,Player:n,account:i})=>{console.log(">>>",t,n);const s={x:10,y:10};iEe(t,[Jwe(n)],({entity:l})=>{const c=Qwe(n,l.toString());console.log("AA >>>>>",c)});const[o,a]=Me.useState(void 0);return(async()=>{e(i)})(),be.from(Txe).baseTexture.scaleMode=Ii.NEAREST,be.from(Cxe).baseTexture.scaleMode=Ii.NEAREST,Or.jsx("div",{style:{position:"relative"},children:Or.jsx(gw.Stage,{width:ky,height:pX,onPointerMove:l=>{const c=Py({x:l.nativeEvent.offsetX-ky/2,y:l.nativeEvent.offsetY-kw+18}),f=Math.round(c.x),p=Math.round(c.y),m={x:f,y:p};(o===void 0||!Rxe(o,m))&&a(m)},onPointerDown:l=>{console.log("Click on map");const c=Py({x:l.nativeEvent.offsetX-ky/2,y:l.nativeEvent.offsetY-kw+18}),f=Math.round(c.x),p=Math.round(c.y),m={x:f,y:p};r(i,m.x,m.y)},children:Or.jsxs(gw.Container,{sortableChildren:!0,children:[Or.jsx(kxe,{hoveredTile:o}),s&&Or.jsx(Pxe,{type:"knight",knightPosition:{x:s.x,y:s.y}})]})})},"game")};function Mxe(){const{setup:{systemCalls:{spawn:t,move:e},components:{Player:r},network:{world:n}},account:{account:i}}=dpe();return QJ.setAppElement("#root"),Or.jsx("div",{className:"flex flex-col min-h-screen w-full",children:Or.jsx("div",{className:"flex-grow mx-auto mt-2",children:Or.jsx(Nxe,{world:n,spawn:t,move:e,Player:r,account:i})})})}function Dxe(t){return{...t,[Symbol.iterator](){return this}}}function mX(t,e){return Dxe({next(){let{done:r,value:n}=t.next();return{done:r,value:r?n:e(n)}}})}function Bxe(t){if(t<2)throw new Error("Minimum size is 2");if(t>64)throw new Error("Maximum size is 64");let e=2**(t-1)-1,r=-e-1;return n=>{if(n=n<<0,n>e||n<r)throw console.log("value",n,e,r,n>e,n<r),new Error(`Int${t} overflow`);return n<0?2**t+n:n}}Bxe(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/function ua(t){return typeof t=="function"}function yX(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var IC=yX(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function qO(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Tx=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=iu(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(ua(c))try{c()}catch(g){s=g instanceof IC?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=iu(f),m=p.next();!m.done;m=p.next()){var y=m.value;try{UU(y)}catch(g){s=s??[],g instanceof IC?s=ou(ou([],su(s)),su(g.errors)):s.push(g)}}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(s)throw new IC(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)UU(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&qO(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&qO(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),gX=Tx.EMPTY;function vX(t){return t instanceof Tx||t&&"closed"in t&&ua(t.remove)&&ua(t.add)&&ua(t.unsubscribe)}function UU(t){ua(t)?t():t.unsubscribe()}var _X={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ZO={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=ZO.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,ou([t,e],su(r))):setTimeout.apply(void 0,ou([t,e],su(r)))},clearTimeout:function(t){var e=ZO.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Lxe(t){ZO.setTimeout(function(){throw t})}function jU(){}function Gb(t){t()}var FM=function(t){_a(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,vX(r)&&r.add(n)):n.destination=jxe,n}return e.create=function(r,n,i){return new XO(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Tx),$xe=Function.prototype.bind;function OC(t,e){return $xe.call(t,e)}var Fxe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){ub(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){ub(n)}else ub(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){ub(r)}},t}(),XO=function(t){_a(e,t);function e(r,n,i){var s=t.call(this)||this,o;if(ua(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&_X.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&OC(r.next,a),error:r.error&&OC(r.error,a),complete:r.complete&&OC(r.complete,a)}):o=r}return s.destination=new Fxe(o),s}return e}(FM);function ub(t){Lxe(t)}function Uxe(t){throw t}var jxe={closed:!0,next:jU,error:Uxe,complete:jU},zxe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Hxe(t){return t}function Vxe(t){return t.length===0?Hxe:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var zU=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,s=Wxe(e)?e:new XO(e,r,n);return Gb(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=HU(r),new r(function(i,s){var o=new XO({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[zxe]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Vxe(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=HU(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function HU(t){var e;return(e=t??_X.Promise)!==null&&e!==void 0?e:Promise}function Gxe(t){return t&&ua(t.next)&&ua(t.error)&&ua(t.complete)}function Wxe(t){return t&&t instanceof FM||Gxe(t)&&vX(t)}function qxe(t){return ua(t==null?void 0:t.lift)}function bX(t){return function(e){if(qxe(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function wX(t,e,r,n,i){return new Zxe(t,e,r,n,i)}var Zxe=function(t){_a(e,t);function e(r,n,i,s,o,a){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(l){try{n(l)}catch(c){r.error(c)}}:t.prototype._next,u._error=s?function(l){try{s(l)}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(FM),Xxe=yX(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),EX=function(t){_a(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new VU(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Xxe},e.prototype.next=function(r){var n=this;Gb(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=iu(n.currentObservers),a=o.next();!a.done;a=o.next()){var u=a.value;u.next(r)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;Gb(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;Gb(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?gX:(this.currentObservers=null,a.push(r),new Tx(function(){n.currentObservers=null,qO(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},e.prototype.asObservable=function(){var r=new zU;return r.source=this,r},e.create=function(r,n){return new VU(r,n)},e}(zU),VU=function(t){_a(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:gX},e}(EX);function Yxe(t,e){return bX(function(r,n){var i=0;r.subscribe(wX(n,function(s){n.next(t.call(e,s,i++))}))})}function Qxe(t,e){return bX(function(r,n){var i=0;r.subscribe(wX(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}var Kxe=(t=>(t[t.Boolean=0]="Boolean",t[t.Number=1]="Number",t[t.OptionalNumber=2]="OptionalNumber",t[t.BigInt=3]="BigInt",t[t.OptionalBigInt=4]="OptionalBigInt",t[t.String=5]="String",t[t.OptionalString=6]="OptionalString",t[t.NumberArray=7]="NumberArray",t[t.OptionalNumberArray=8]="OptionalNumberArray",t[t.BigIntArray=9]="BigIntArray",t[t.OptionalBigIntArray=10]="OptionalBigIntArray",t[t.StringArray=11]="StringArray",t[t.OptionalStringArray=12]="OptionalStringArray",t[t.Entity=13]="Entity",t[t.OptionalEntity=14]="OptionalEntity",t[t.EntityArray=15]="EntityArray",t[t.OptionalEntityArray=16]="OptionalEntityArray",t[t.T=17]="T",t[t.OptionalT=18]="OptionalT",t))(Kxe||{}),Jxe=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t[t.Update=2]="Update",t[t.Noop=3]="Noop",t))(Jxe||{}),eSe=[14,16,2,8,4,10,6,12,18];function tSe(t){var e,r,n,i;return((e=t.metadata)==null?void 0:e.componentName)??((r=t.metadata)==null?void 0:r.tableName)??((n=t.metadata)==null?void 0:n.tableId)??((i=t.metadata)==null?void 0:i.contractId)??t.id}function rSe(t,e,r){var s;let n=la(e),i=UM(t,e);for(let[o,a]of Object.entries(r))t.values[o]?t.values[o].set(n,a):(s=t.metadata)!=null&&s.tableId&&/^\d+$/.test(o)||console.warn("Component definition for",tSe(t),"is missing key",o,", ignoring value",a,"for entity",e,". Existing keys: ",Object.keys(t.values));t.update$.next({entity:e,value:[r,i],component:t})}function nSe(t,e){let r=la(e),n=UM(t,e);for(let i of Object.keys(t.values))t.values[i].delete(r);t.update$.next({entity:e,value:[void 0,n],component:t})}function iSe(t,e){let r=la(e);return Object.values(t.values)[0].has(r)}function UM(t,e){let r={},n=la(e),i=Object.keys(t.schema);for(let s of i){let o=t.values[s].get(n);if(o===void 0&&!eSe.includes(t.schema[s]))return;r[s]=o}return r}function sSe(t){let e=0,r=new Map,n=new Map,i=new EX;function s(m,y){r.set(m,{update:y,nonce:e++}),p(y.entity,y.value)}function o(m){var b;let y=(b=r.get(m))==null?void 0:b.update.entity;if(r.delete(m),y==null)return;let g=[...r.values()].filter(_=>_.update.entity===y).sort((_,w)=>_.nonce<w.nonce?-1:1);if(g.length>0){let _=g[g.length-1];p(y,_.update.value)}else p(y,void 0)}function a(m){let y=UM(t,m),g=la(m),b=n.get(g);return(y||b)&&b!==null?{...y,...b}:void 0}let u=m=>({get(y,g){return g==="get"?b=>{let _=y.get(b),w=n.get(b);return w&&w[m]!=null?w[m]:_}:g==="has"?b=>y.has(b)||n.has(b):g==="keys"?()=>new Set([...y.keys(),...n.keys()]).values():Reflect.get(y,g,y)}}),l={};for(let m of Object.keys(t.values))l[m]=new Proxy(t.values[m],u(m));let c=l,f=new Proxy(t,{get(m,y){return y==="addOverride"?s:y==="removeOverride"?o:y==="values"?c:y==="update$"?i:y==="entities"?()=>new Set([...mX(n.keys(),xX),...m.entities()]).values():Reflect.get(m,y)},has(m,y){return y==="addOverride"||y==="removeOverride"?!0:y in m}});function p(m,y){let g=la(m),b=a(m);y!==void 0?n.set(g,y):n.delete(g),i.next({entity:m,value:[a(m),b],component:f})}return t.update$.pipe(Qxe(m=>!n.get(la(m.entity))),Yxe(m=>({...m,component:f}))).subscribe(i),f}function la(t){return Symbol.for(t)}function xX(t){return Symbol.keyFor(t)}var oSe=(t=>(t[t.Has=0]="Has",t[t.HasValue=1]="HasValue",t[t.Not=2]="Not",t[t.NotValue=3]="NotValue",t[t.ProxyRead=4]="ProxyRead",t[t.ProxyExpand=5]="ProxyExpand",t))(oSe||{});function aSe(){let t=new Set,e=[],r=[];function n({id:c,idSuffix:f}={}){let p=c||t.size+(f?"-"+f:""),m=la(p);return t.add(m),p}function i(){return mX(t.values(),xX)}function s(c){e.push(c)}function o(c){for(let[,f]of r.filter(p=>!c||p[0]===c))f();r=r.filter(f=>c&&f[0]!==c)}function a(c,f=""){r.push([f,c])}function u(c){let f=la(c);return t.has(f)}function l(c){for(let f of e)iSe(f,c)&&nSe(f,c);t.delete(la(c))}return{registerEntity:n,components:e,registerComponent:s,dispose:o,registerDisposer:a,hasEntity:u,getEntities:i,entitySymbols:t,deleteEntity:l}}function uSe({contractComponents:t}){return{...t,Player:sSe(t.Player)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SX=BigInt(0),Cx=BigInt(1),lSe=BigInt(2),Ix=t=>t instanceof Uint8Array,cSe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cp(t){if(!Ix(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=cSe[t[r]];return e}function AX(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function jM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function wh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Xa(t){return jM(cp(t))}function zM(t){if(!Ix(t))throw new Error("Uint8Array expected");return jM(cp(Uint8Array.from(t).reverse()))}const Cf=(t,e)=>wh(t.toString(16).padStart(e*2,"0")),TX=(t,e)=>Cf(t,e).reverse(),hSe=t=>wh(AX(t));function Zi(t,e,r){let n;if(typeof e=="string")try{n=wh(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Ix(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Vg(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!Ix(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function dSe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function fSe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function pSe(t){let e;for(e=0;t>SX;t>>=Cx,e+=1);return e}const mSe=(t,e)=>t>>BigInt(e)&Cx,ySe=(t,e,r)=>t|(r?Cx:SX)<<BigInt(e),Ox=t=>(lSe<<BigInt(t-1))-Cx,RC=t=>new Uint8Array(t),GU=t=>Uint8Array.from(t);function CX(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=RC(t),i=RC(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=RC())=>{i=a(GU([0]),f),n=a(),f.length!==0&&(i=a(GU([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){n=a();const m=n.slice();p.push(m),f+=n.length}return Vg(...p)};return(f,p)=>{o(),u(f);let m;for(;!(m=p(l()));)u();return o(),m}}const gSe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Zv(t,e,r={}){const n=(i,s,o)=>{const a=gSe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const vSe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:mSe,bitLen:pSe,bitMask:Ox,bitSet:ySe,bytesToHex:cp,bytesToNumberBE:Xa,bytesToNumberLE:zM,concatBytes:Vg,createHmacDrbg:CX,ensureBytes:Zi,equalBytes:dSe,hexToBytes:wh,hexToNumber:jM,numberToBytesBE:Cf,numberToBytesLE:TX,numberToHexUnpadded:AX,numberToVarBytesBE:hSe,utf8ToBytes:fSe,validateObject:Zv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nn=BigInt(0),gr=BigInt(1),Ac=BigInt(2),_Se=BigInt(3),YO=BigInt(4),WU=BigInt(5),qU=BigInt(8);BigInt(9);BigInt(16);function xi(t,e){const r=t%e;return r>=nn?r:e+r}function bSe(t,e,r){if(r<=nn||e<nn)throw new Error("Expected power/modulo > 0");if(r===gr)return nn;let n=gr;for(;e>nn;)e&gr&&(n=n*t%r),t=t*t%r,e>>=gr;return n}function QO(t,e){if(t===nn||e<=nn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=xi(t,e),n=e,i=nn,s=gr;for(;r!==nn;){const a=n/r,u=n%r,l=i-s*a;n=r,r=u,i=s,s=l}if(n!==gr)throw new Error("invert: does not exist");return xi(i,e)}function wSe(t){const e=(t-gr)/Ac;let r,n,i;for(r=t-gr,n=0;r%Ac===nn;r/=Ac,n++);for(i=Ac;i<t&&bSe(i,e,t)!==t-gr;i++);if(n===1){const o=(t+gr)/YO;return function(u,l){const c=u.pow(l,o);if(!u.eql(u.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+gr)/Ac;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,c=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(p);m<l&&!a.eql(g,a.ONE);m++)g=a.sqr(g);const y=a.pow(c,gr<<BigInt(l-m-1));c=a.sqr(y),f=a.mul(f,y),p=a.mul(p,c),l=m}return f}}function ESe(t){if(t%YO===_Se){const e=(t+gr)/YO;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%qU===WU){const e=(t-WU)/qU;return function(n,i){const s=n.mul(i,Ac),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,Ac),o),l=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return wSe(t)}const xSe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function HM(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=xSe.reduce((n,i)=>(n[i]="function",n),e);return Zv(t,r)}function IX(t,e,r){if(r<nn)throw new Error("Expected power > 0");if(r===nn)return t.ONE;if(r===gr)return e;let n=t.ONE,i=e;for(;r>nn;)r&gr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=gr;return n}function SSe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function VM(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function GM(t,e,r=!1,n={}){if(t<=nn)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=VM(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=ESe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Ox(i),ZERO:nn,ONE:gr,create:u=>xi(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return nn<=u&&u<t},is0:u=>u===nn,isOdd:u=>(u&gr)===gr,neg:u=>xi(-u,t),eql:(u,l)=>u===l,sqr:u=>xi(u*u,t),add:(u,l)=>xi(u+l,t),sub:(u,l)=>xi(u-l,t),mul:(u,l)=>xi(u*l,t),pow:(u,l)=>IX(a,u,l),div:(u,l)=>xi(u*QO(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>QO(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>SSe(a,u),cmov:(u,l,c)=>c?l:u,toBytes:u=>r?TX(u,s):Cf(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?zM(u):Xa(u)}});return Object.freeze(a)}function ASe(t,e,r=!1){t=Zi("privateHash",t);const n=t.length,i=VM(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=r?zM(t):Xa(t);return xi(s,e-gr)+gr}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function TSe(t){const{Fp:e}=t;HM(e);for(const u of["t","roundsFull","roundsPartial"])if(typeof t[u]!="number"||!Number.isSafeInteger(t[u]))throw new Error(`Poseidon: invalid param ${u}=${t[u]} (${typeof t[u]})`);if(t.reversePartialPowIdx!==void 0&&typeof t.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${t.reversePartialPowIdx}`);let r=t.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);const n=BigInt(r);let i=u=>IX(e,u,n);if(r===3?i=u=>e.mul(e.sqrN(u),u):r===5&&(i=u=>e.mul(e.sqrN(e.sqrN(u)),u)),t.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${t.roundsFull}`);const s=t.roundsFull+t.roundsPartial;if(!Array.isArray(t.roundConstants)||t.roundConstants.length!==s)throw new Error("Poseidon: wrong round constants");const o=t.roundConstants.map(u=>{if(!Array.isArray(u)||u.length!==t.t)throw new Error(`Poseidon wrong round constants: ${u}`);return u.map(l=>{if(typeof l!="bigint"||!e.isValid(l))throw new Error(`Poseidon wrong round constant=${l}`);return e.create(l)})});if(!Array.isArray(t.mds)||t.mds.length!==t.t)throw new Error("Poseidon: wrong MDS matrix");const a=t.mds.map(u=>{if(!Array.isArray(u)||u.length!==t.t)throw new Error(`Poseidon MDS matrix row: ${u}`);return u.map(l=>{if(typeof l!="bigint")throw new Error(`Poseidon MDS matrix value=${l}`);return e.create(l)})});return Object.freeze({...t,rounds:s,sboxFn:i,roundConstants:o,mds:a})}function CSe(t){const{t:e,Fp:r,rounds:n,sboxFn:i,reversePartialPowIdx:s}=TSe(t),o=Math.floor(t.roundsFull/2),a=s?e-1:0,u=(c,f,p)=>(c=c.map((m,y)=>r.add(m,t.roundConstants[p][y])),f?c=c.map(m=>i(m)):c[a]=i(c[a]),c=t.mds.map(m=>m.reduce((y,g,b)=>r.add(y,r.mulN(g,c[b])),r.ZERO)),c),l=function(f){if(!Array.isArray(f)||f.length!==e)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${e})`);f=f.map(m=>{if(typeof m!="bigint")throw new Error(`Poseidon: wrong value=${m} (${typeof m})`);return r.create(m)});let p=0;for(let m=0;m<o;m++)f=u(f,!0,p++);for(let m=0;m<t.roundsPartial;m++)f=u(f,!1,p++);for(let m=0;m<o;m++)f=u(f,!0,p++);if(p!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${p}, total=${n}`);return f};return l.roundConstants=t.roundConstants,l}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ISe=BigInt(0),kC=BigInt(1);function OSe(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>ISe;)s&kC&&(o=o.add(a)),a=a.double(),s>>=kC;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,c=l;for(let f=0;f<o;f++){c=l,u.push(c);for(let p=1;p<a;p++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const g=y*u;let b=Number(o&f);o>>=m,b>u&&(b-=p,o+=kC);const _=g,w=g+Math.abs(b)-1,E=y%2!==0,x=b<0;b===0?c=c.add(r(E,s[_])):l=l.add(r(x,s[w]))}return{p:l,f:c}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function OX(t){return HM(t.Fp),Zv(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...VM(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function RSe(t){const e=OX(t);Zv(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:kSe,hexToBytes:PSe}=vSe,$c={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=$c;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:kSe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=$c,r=typeof t=="string"?PSe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=$c._parseInt(r.subarray(2)),{d:o,l:a}=$c._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Ua=BigInt(0),Xi=BigInt(1);BigInt(2);const ZU=BigInt(3);BigInt(4);function NSe(t){const e=RSe(t),{Fp:r}=e,n=e.toBytes||((y,g,b)=>{const _=g.toAffine();return Vg(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),b=r.fromBytes(g.subarray(0,r.BYTES)),_=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:b,y:_}});function s(y){const{a:g,b}=e,_=r.sqr(y),w=r.mul(_,y);return r.add(r.add(w,r.mul(y,g)),b)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Ua<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:g,nByteLength:b,wrapPrivateKey:_,n:w}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=cp(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(b*2,"0")}let E;try{E=typeof y=="bigint"?y:Xa(Zi("private key",y,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof y}`)}return _&&(E=xi(E,w)),a(E),E}const l=new Map;function c(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,b,_){if(this.px=g,this.py=b,this.pz=_,g==null||!r.isValid(g))throw new Error("x required");if(b==null||!r.isValid(b))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required")}static fromAffine(g){const{x:b,y:_}=g||{};if(!g||!r.isValid(b)||!r.isValid(_))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const w=E=>r.eql(E,r.ZERO);return w(b)&&w(_)?f.ZERO:new f(b,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const b=r.invertBatch(g.map(_=>_.pz));return g.map((_,w)=>_.toAffine(b[w])).map(f.fromAffine)}static fromHex(g){const b=f.fromAffine(i(Zi("pointHex",g)));return b.assertValidity(),b}static fromPrivateKey(g){return f.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:g,y:b}=this.toAffine();if(!r.isValid(g)||!r.isValid(b))throw new Error("bad point: x or y not FE");const _=r.sqr(b),w=s(g);if(!r.eql(_,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:b,py:_,pz:w}=this,{px:E,py:x,pz:N}=g,M=r.eql(r.mul(b,N),r.mul(E,w)),R=r.eql(r.mul(_,N),r.mul(x,w));return M&&R}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b}=e,_=r.mul(b,ZU),{px:w,py:E,pz:x}=this;let N=r.ZERO,M=r.ZERO,R=r.ZERO,D=r.mul(w,w),W=r.mul(E,E),G=r.mul(x,x),U=r.mul(w,E);return U=r.add(U,U),R=r.mul(w,x),R=r.add(R,R),N=r.mul(g,R),M=r.mul(_,G),M=r.add(N,M),N=r.sub(W,M),M=r.add(W,M),M=r.mul(N,M),N=r.mul(U,N),R=r.mul(_,R),G=r.mul(g,G),U=r.sub(D,G),U=r.mul(g,U),U=r.add(U,R),R=r.add(D,D),D=r.add(R,D),D=r.add(D,G),D=r.mul(D,U),M=r.add(M,D),G=r.mul(E,x),G=r.add(G,G),D=r.mul(G,U),N=r.sub(N,D),R=r.mul(G,W),R=r.add(R,R),R=r.add(R,R),new f(N,M,R)}add(g){c(g);const{px:b,py:_,pz:w}=this,{px:E,py:x,pz:N}=g;let M=r.ZERO,R=r.ZERO,D=r.ZERO;const W=e.a,G=r.mul(e.b,ZU);let U=r.mul(b,E),X=r.mul(_,x),B=r.mul(w,N),j=r.add(b,_),C=r.add(E,x);j=r.mul(j,C),C=r.add(U,X),j=r.sub(j,C),C=r.add(b,w);let P=r.add(E,N);return C=r.mul(C,P),P=r.add(U,B),C=r.sub(C,P),P=r.add(_,w),M=r.add(x,N),P=r.mul(P,M),M=r.add(X,B),P=r.sub(P,M),D=r.mul(W,C),M=r.mul(G,B),D=r.add(M,D),M=r.sub(X,D),D=r.add(X,D),R=r.mul(M,D),X=r.add(U,U),X=r.add(X,U),B=r.mul(W,B),C=r.mul(G,C),X=r.add(X,B),B=r.sub(U,B),B=r.mul(W,B),C=r.add(C,B),U=r.mul(X,C),R=r.add(R,U),U=r.mul(P,C),M=r.mul(j,M),M=r.sub(M,U),U=r.mul(j,X),D=r.mul(P,D),D=r.add(D,U),new f(M,R,D)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,b=>{const _=r.invertBatch(b.map(w=>w.pz));return b.map((w,E)=>w.toAffine(_[E])).map(f.fromAffine)})}multiplyUnsafe(g){const b=f.ZERO;if(g===Ua)return b;if(a(g),g===Xi)return this;const{endo:_}=e;if(!_)return m.unsafeLadder(this,g);let{k1neg:w,k1:E,k2neg:x,k2:N}=_.splitScalar(g),M=b,R=b,D=this;for(;E>Ua||N>Ua;)E&Xi&&(M=M.add(D)),N&Xi&&(R=R.add(D)),D=D.double(),E>>=Xi,N>>=Xi;return w&&(M=M.negate()),x&&(R=R.negate()),R=new f(r.mul(R.px,_.beta),R.py,R.pz),M.add(R)}multiply(g){a(g);let b=g,_,w;const{endo:E}=e;if(E){const{k1neg:x,k1:N,k2neg:M,k2:R}=E.splitScalar(b);let{p:D,f:W}=this.wNAF(N),{p:G,f:U}=this.wNAF(R);D=m.constTimeNegate(x,D),G=m.constTimeNegate(M,G),G=new f(r.mul(G.px,E.beta),G.py,G.pz),_=D.add(G),w=W.add(U)}else{const{p:x,f:N}=this.wNAF(b);_=x,w=N}return f.normalizeZ([_,w])[0]}multiplyAndAddUnsafe(g,b,_){const w=f.BASE,E=(N,M)=>M===Ua||M===Xi||!N.equals(w)?N.multiplyUnsafe(M):N.multiply(M),x=E(this,b).add(E(g,_));return x.is0()?void 0:x}toAffine(g){const{px:b,py:_,pz:w}=this,E=this.is0();g==null&&(g=E?r.ONE:r.inv(w));const x=r.mul(b,g),N=r.mul(_,g),M=r.mul(w,g);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x,y:N}}isTorsionFree(){const{h:g,isTorsionFree:b}=e;if(g===Xi)return!0;if(b)return b(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:b}=e;return g===Xi?this:b?b(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(f,this,g)}toHex(g=!0){return cp(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,m=OSe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function MSe(t){const e=OX(t);return Zv(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function DSe(t){const e=MSe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(C){return Ua<C&&C<r.ORDER}function a(C){return xi(C,n)}function u(C){return QO(C,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=NSe({...e,toBytes(C,P,O){const k=P.toAffine(),F=r.toBytes(k.x),$=Vg;return O?$(Uint8Array.from([P.hasEvenY()?2:3]),F):$(Uint8Array.from([4]),F,r.toBytes(k.y))},fromBytes(C){const P=C.length,O=C[0],k=C.subarray(1);if(P===i&&(O===2||O===3)){const F=Xa(k);if(!o(F))throw new Error("Point is not on curve");const $=f(F);let z=r.sqrt($);const q=(z&Xi)===Xi;return(O&1)===1!==q&&(z=r.neg(z)),{x:F,y:z}}else if(P===s&&O===4){const F=r.fromBytes(k.subarray(0,r.BYTES)),$=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:F,y:$}}else throw new Error(`Point of length ${P} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=C=>cp(Cf(C,e.nByteLength));function y(C){const P=n>>Xi;return C>P}function g(C){return y(C)?a(-C):C}const b=(C,P,O)=>Xa(C.slice(P,O));class _{constructor(P,O,k){this.r=P,this.s=O,this.recovery=k,this.assertValidity()}static fromCompact(P){const O=e.nByteLength;return P=Zi("compactSignature",P,O*2),new _(b(P,0,O),b(P,O,2*O))}static fromDER(P){const{r:O,s:k}=$c.toSig(Zi("DER",P));return new _(O,k)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(P){return new _(this.r,this.s,P)}recoverPublicKey(P){const{r:O,s:k,recovery:F}=this,$=R(Zi("msgHash",P));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const z=F===2||F===3?O+e.n:O;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=F&1?"03":"02",ne=l.fromHex(q+m(z)),re=u(z),ae=a(-$*re),oe=a(k*re),ve=l.BASE.multiplyAndAddUnsafe(ne,ae,oe);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return wh(this.toDERHex())}toDERHex(){return $c.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wh(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const w={isValidPrivateKey(C){try{return c(C),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const C=e.randomBytes(r.BYTES+8),P=ASe(C,n);return Cf(P,e.nByteLength)},precompute(C=8,P=l.BASE){return P._setWindowSize(C),P.multiply(BigInt(3)),P}};function E(C,P=!0){return l.fromPrivateKey(C).toRawBytes(P)}function x(C){const P=C instanceof Uint8Array,O=typeof C=="string",k=(P||O)&&C.length;return P?k===i||k===s:O?k===2*i||k===2*s:C instanceof l}function N(C,P,O=!0){if(x(C))throw new Error("first arg must be private key");if(!x(P))throw new Error("second arg must be public key");return l.fromHex(P).multiply(c(C)).toRawBytes(O)}const M=e.bits2int||function(C){const P=Xa(C),O=C.length*8-e.nBitLength;return O>0?P>>BigInt(O):P},R=e.bits2int_modN||function(C){return a(M(C))},D=Ox(e.nBitLength);function W(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ua<=C&&C<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Cf(C,e.nByteLength)}function G(C,P,O=U){if(["recovered","canonical"].some(_e=>_e in O))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:F}=e;let{lowS:$,prehash:z,extraEntropy:q}=O;$==null&&($=!0),C=Zi("msgHash",C),z&&(C=Zi("prehashed msgHash",k(C)));const ne=R(C),re=c(P),ae=[W(re),W(ne)];if(q!=null){const _e=q===!0?F(r.BYTES):q;ae.push(Zi("extraEntropy",_e,r.BYTES))}const oe=Vg(...ae),ve=ne;function Pe(_e){const Ne=M(_e);if(!p(Ne))return;const Ce=u(Ne),De=l.BASE.multiply(Ne).toAffine(),te=a(De.x);if(te===Ua)return;const de=a(Ce*a(ve+te*re));if(de===Ua)return;let ke=(De.x===te?0:2)|Number(De.y&Xi),We=de;return $&&y(de)&&(We=g(de),ke^=1),new _(te,We,ke)}return{seed:oe,k2sig:Pe}}const U={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function B(C,P,O=U){const{seed:k,k2sig:F}=G(C,P,O);return CX(e.hash.outputLen,e.nByteLength,e.hmac)(k,F)}l.BASE._setWindowSize(8);function j(C,P,O,k=X){var De;const F=C;if(P=Zi("msgHash",P),O=Zi("publicKey",O),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:z}=k;let q,ne;try{if(typeof F=="string"||F instanceof Uint8Array)try{q=_.fromDER(F)}catch(te){if(!(te instanceof $c.Err))throw te;q=_.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:te,s:de}=F;q=new _(te,de)}else throw new Error("PARSE");ne=l.fromHex(O)}catch(te){if(te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&q.hasHighS())return!1;z&&(P=e.hash(P));const{r:re,s:ae}=q,oe=R(P),ve=u(ae),Pe=a(oe*ve),_e=a(re*ve),Ne=(De=l.BASE.multiplyAndAddUnsafe(ne,Pe,_e))==null?void 0:De.toAffine();return Ne?a(Ne.x)===re:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:N,sign:B,verify:j,ProjectivePoint:l,Signature:_,utils:w}}function KO(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function BSe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function RX(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function LSe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");KO(t.outputLen),KO(t.blockLen)}function $Se(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function FSe(t,e){RX(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const lb={number:KO,bool:BSe,bytes:RX,hash:LSe,exists:$Se,output:FSe},PC=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const USe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!USe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jSe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function zSe(t){if(typeof t=="string"&&(t=jSe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function HSe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class VSe{clone(){return this._cloneInto()}}function GSe(t=32){if(PC&&typeof PC.getRandomValues=="function")return PC.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class kX extends VSe{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,lb.hash(e);const n=zSe(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return lb.exists(this),this.iHash.update(e),this}digestInto(e){lb.exists(this),lb.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const PX=(t,e,r)=>new kX(t,e).update(r).digest();PX.create=(t,e)=>new kX(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function WSe(t){return{hash:t,hmac:(e,...r)=>PX(t,e,HSe(...r)),randomBytes:GSe}}const XU=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),NX=252;function YU(t){for(;t[0]===0;)t=t.subarray(1);const e=t.length*8-NX,r=Xa(t);return e>0?r>>BigInt(e):r}function qSe(t){return typeof t=="string"&&(t=XSe(t),t.length&1&&(t="0"+t)),wh(t)}const ZSe=DSe({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:GM(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:XU,nBitLength:NX,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...WSe(ev),bits2int:YU,bits2int_modN:t=>{const e=Xa(t).toString(16);return e.length===63&&(t=qSe(e+"0")),xi(YU(t),XU)}}),{CURVE:eTe,ProjectivePoint:jm,Signature:tTe,utils:rTe}=ZSe;function XSe(t){return t.replace(/^0x/i,"")}const Pw=[new jm(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new jm(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new jm(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new jm(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new jm(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function MX(t,e){const r=[];let n=t;for(let i=0;i<248;i++)r.push(n),n=n.double();n=e;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}MX(Pw[1],Pw[2]);MX(Pw[3],Pw[4]);Ox(250);GM(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681"));const YSe=GM(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function QSe(t,e,r){const n=t.fromBytes(ev(KR(`${e}${r}`)));return t.create(n)}const KSe=[[3,1,1],[1,-1,1],[1,1,-2]].map(t=>t.map(BigInt));function JSe(t,e){if(HM(t.Fp),!Number.isSafeInteger(t.rate)||!Number.isSafeInteger(t.capacity))throw new Error(`Wrong poseidon opts: ${t}`);const r=t.rate+t.capacity,n=t.roundsFull+t.roundsPartial,i=[];for(let o=0;o<n;o++){const a=[];for(let u=0;u<r;u++)a.push(QSe(t.Fp,"Hades",r*o+u));i.push(a)}const s=CSe({...t,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:e,roundConstants:i});return s.m=r,s.rate=t.rate,s.capacity=t.capacity,s}const eAe=JSe({Fp:YSe,rate:2,capacity:1,roundsFull:8,roundsPartial:83},KSe);function tAe(t,e=eAe){const{m:r,rate:n}=e;if(!Array.isArray(t))throw new Error("bigint array expected in values");const i=Array.from(t);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let a=0;a<n;a++)s[a]+=i[o+a];s=e(s)}return s[0]}function rAe({execute:t},e){return{move:async(i,s,o)=>{try{const a=[{contractAddress:"0x2ca8dbe9c89ee5a3fd917f790d34032faa623b0466f40c0e8e93cac1e92b0f0",entrypoint:"move",calldata:[s+25,o+25]}];console.log("Calling MOVE ",s+25,o+25);const u=await t(i,a),c=(await i.waitForTransaction(u.transaction_hash,{retryInterval:100})).events;if(c){const f=await KU(e,c);await QU(f)}}catch(a){console.error(a)}},spawn:async i=>{try{const s=[{contractAddress:"0x2ca8dbe9c89ee5a3fd917f790d34032faa623b0466f40c0e8e93cac1e92b0f0",entrypoint:"spawn",calldata:["0x691f741c8fd33d557daced16f586c44f3f64633f4a227485b8cd0a8718d9bd4"]}];console.log("Calling SPAWN ",i.address);const o=await t(i,s),u=(await i.waitForTransaction(o.transaction_hash,{retryInterval:100})).events;if(u){const l=await KU(e,u);await QU(l)}}catch(s){console.error(s)}}}}async function QU(t){const e=t.filter(r=>r.type==="Game");for(const r of e)rSe(r.component,r.entityIndex,r.componentValues);await sAe(1e3)}function nAe(t){if(t.length===1)return parseInt(t[0].toString());const e=tAe([BigInt(t.length),...t]);return parseInt(e.toString())}function iAe(t){let e="";for(let r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function sAe(t){return new Promise(e=>setTimeout(e,t))}function oAe(t,e){console.log("handlePlayerEvent",t,e);const r=parseInt(e[0],16)-25,n=parseInt(e[1],16)-25;return{type:"Player",orientation:0,id:t[0],x:r,y:n}}async function KU(t,e){const r=[];for(const n of e){const i=iAe(n.data[0]),s=parseInt(n.data[1]),o=n.data.slice(2,2+s).map(y=>BigInt(y));let a=2+s+1;const u=parseInt(n.data[a++]),l=n.data.slice(a,a+u),c=t[i],f=Object.keys(c.schema).reduce((y,g,b)=>{const _=l[b];return y[g]=Number(_),y},{}),p=nAe(o),m={component:c,componentValues:f,entityIndex:p};switch(i){case"Player":r.push({...oAe(o,l),...m});break}}return r}var aAe=class{constructor(t){Jn(this,"worldAddress");this.worldAddress=t}getWorldAddress(){return this.worldAddress}},uAe=(t=>(t.get="entity",t.set="set_entity",t.entities="entities",t.execute="execute",t.register_system="register_system",t.register_component="register_component",t.component="component",t.system="system",t))(uAe||{}),lAe="http://127.0.0.1:5050",cAe=[{type:"function",name:"component",inputs:[{name:"name",type:"core::felt252"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"register_component",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"},{type:"function",name:"system",inputs:[{name:"name",type:"core::felt252"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"register_system",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"},{type:"function",name:"uuid",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"emit",inputs:[{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"view"},{type:"function",name:"execute",inputs:[{name:"system",type:"core::felt252"},{name:"calldata",type:"core::array::Array::<core::felt252>"}],outputs:[{type:"core::array::Array::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"entity",inputs:[{name:"component",type:"core::felt252"},{name:"query",type:"dojo::database::query::Query"},{name:"offset",type:"core::integer::u8"},{name:"length",type:"core::integer::u32"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_entity",inputs:[{name:"component",type:"core::felt252"},{name:"query",type:"dojo::database::query::Query"},{name:"offset",type:"core::integer::u8"},{name:"value",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"external"},{type:"function",name:"entities",inputs:[{name:"component",type:"core::felt252"},{name:"partition",type:"core::felt252"},{name:"length",type:"core::integer::u32"}],outputs:[{type:"(core::array::Span::<core::felt252>, core::array::Span::<core::array::Span::<core::felt252>>)"}],state_mutability:"view"},{type:"function",name:"set_executor",inputs:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"executor",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{type:"function",name:"delete_entity",inputs:[{name:"component",type:"core::felt252"},{name:"query",type:"dojo::database::query::Query"}],outputs:[],state_mutability:"external"},{type:"function",name:"origin",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{type:"function",name:"is_owner",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"},{name:"target",type:"core::felt252"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_owner",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"},{name:"target",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_owner",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"},{name:"target",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_writer",inputs:[{name:"component",type:"core::felt252"},{name:"system",type:"core::felt252"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_writer",inputs:[{name:"component",type:"core::felt252"},{name:"system",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_writer",inputs:[{name:"component",type:"core::felt252"},{name:"system",type:"core::felt252"}],outputs:[],state_mutability:"external"}],hAe=(t,e)=>{var r;return((r=t.contracts.find(n=>n.name===e))==null?void 0:r.address)||""},dAe=class extends aAe{constructor(e,r,n=lAe){super(e);Jn(this,"provider");Jn(this,"contract");Jn(this,"manifest");this.provider=new gf({nodeUrl:n}),this.contract=new vae(cAe,this.getWorldAddress(),this.provider),this.manifest=r}async entity(e,r,n=0,i=0){try{return await this.contract.call("entity",[Sb.encodeShortString(e),r.keys.length,...r.keys,n,i])}catch(s){throw s}}async entities(e,r){try{return await this.contract.call("entities",[Sb.encodeShortString(e),r])}catch(n){throw n}}async component(e){try{return await this.contract.call("component",[Sb.encodeShortString(e)])}catch(r){throw r}}async execute(e,r,n,i,s){try{let o=await(e==null?void 0:e.getNonce());return await(e==null?void 0:e.execute({contractAddress:hAe(this.manifest,r),entrypoint:n,calldata:i},void 0,{maxFee:0,...s,nonce:o}))}catch(o){throw o}}async executeMulti(e,r,n){try{let i=await(e==null?void 0:e.getNonce());return await(e==null?void 0:e.execute(r,void 0,{maxFee:0,...n,nonce:i}))}catch(i){throw i}}async uuid(){try{let{result:e}=await this.provider.callContract({contractAddress:this.getWorldAddress(),entrypoint:"uuid",calldata:[]});if(e&&e.length===1)return parseInt(e[0]);throw new Error("Contract did not return expected uuid")}catch(e){throw new Error(`Failed to fetch uuid: ${e}`)}}};function fAe(t){return{Player:(()=>TU(t,{id:Lo.BigInt,x:Lo.Number,y:Lo.Number,orientation:Lo.Number},{metadata:{name:"Player",types:["contractaddress","u16","u16","u8"],customTypes:[]}}))(),Tile:(()=>TU(t,{game_id:Lo.Number,id:Lo.Number,x:Lo.Number,y:Lo.Number,_type:Lo.Number},{metadata:{name:"Tile",types:["u32","u8","u8","u8","u8"],customTypes:[]}}))()}}const pAe={name:"world",address:"0x4e1fde3268e5fd9d18b89d6f08ce42a8ae7098e44af596bad689ceb50ad29ba",class_hash:"0x5179c281a8d3cca6cfb820201fa7a81150b56f9db492405a29e9564222370b8",abi:[{type:"impl",name:"World",interface_name:"dojo::world::IWorld"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"enum",name:"core::option::Option::<core::felt252>",variants:[{name:"Some",type:"core::felt252"},{name:"None",type:"()"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"enum",name:"core::bool",variants:[{name:"False",type:"()"},{name:"True",type:"()"}]},{type:"interface",name:"dojo::world::IWorld",items:[{type:"function",name:"metadata_uri",inputs:[{name:"resource",type:"core::felt252"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_metadata_uri",inputs:[{name:"resource",type:"core::felt252"},{name:"uri",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"external"},{type:"function",name:"model",inputs:[{name:"name",type:"core::felt252"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"register_model",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"},{type:"function",name:"deploy_contract",inputs:[{name:"salt",type:"core::felt252"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"external"},{type:"function",name:"upgrade_contract",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"external"},{type:"function",name:"uuid",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"external"},{type:"function",name:"emit",inputs:[{name:"keys",type:"core::array::Array::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"view"},{type:"function",name:"entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"offset",type:"core::integer::u8"},{name:"length",type:"core::integer::u32"},{name:"layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"offset",type:"core::integer::u8"},{name:"values",type:"core::array::Span::<core::felt252>"},{name:"layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[],state_mutability:"external"},{type:"function",name:"entities",inputs:[{name:"model",type:"core::felt252"},{name:"index",type:"core::option::Option::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"},{name:"values_length",type:"core::integer::u32"},{name:"values_layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[{type:"(core::array::Span::<core::felt252>, core::array::Span::<core::array::Span::<core::felt252>>)"}],state_mutability:"view"},{type:"function",name:"entity_ids",inputs:[{name:"model",type:"core::felt252"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_executor",inputs:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"executor",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{type:"function",name:"base",inputs:[],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"delete_entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"}]},{type:"constructor",name:"constructor",inputs:[{name:"executor",type:"core::starknet::contract_address::ContractAddress"},{name:"contract_base",type:"core::starknet::class_hash::ClassHash"}]},{type:"event",name:"dojo::world::world::WorldSpawned",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"creator",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::ContractDeployed",kind:"struct",members:[{name:"salt",type:"core::felt252",kind:"data"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::ContractUpgraded",kind:"struct",members:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::MetadataUpdate",kind:"struct",members:[{name:"resource",type:"core::felt252",kind:"data"},{name:"uri",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::ModelRegistered",kind:"struct",members:[{name:"name",type:"core::felt252",kind:"data"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"prev_class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"}]},{type:"event",name:"dojo::world::world::StoreSetRecord",kind:"struct",members:[{name:"table",type:"core::felt252",kind:"data"},{name:"keys",type:"core::array::Span::<core::felt252>",kind:"data"},{name:"offset",type:"core::integer::u8",kind:"data"},{name:"values",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::StoreDelRecord",kind:"struct",members:[{name:"table",type:"core::felt252",kind:"data"},{name:"keys",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::WriterUpdated",kind:"struct",members:[{name:"model",type:"core::felt252",kind:"data"},{name:"system",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"value",type:"core::bool",kind:"data"}]},{type:"event",name:"dojo::world::world::OwnerUpdated",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"resource",type:"core::felt252",kind:"data"},{name:"value",type:"core::bool",kind:"data"}]},{type:"event",name:"dojo::world::world::ExecutorUpdated",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"prev_address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::Event",kind:"enum",variants:[{name:"WorldSpawned",type:"dojo::world::world::WorldSpawned",kind:"nested"},{name:"ContractDeployed",type:"dojo::world::world::ContractDeployed",kind:"nested"},{name:"ContractUpgraded",type:"dojo::world::world::ContractUpgraded",kind:"nested"},{name:"MetadataUpdate",type:"dojo::world::world::MetadataUpdate",kind:"nested"},{name:"ModelRegistered",type:"dojo::world::world::ModelRegistered",kind:"nested"},{name:"StoreSetRecord",type:"dojo::world::world::StoreSetRecord",kind:"nested"},{name:"StoreDelRecord",type:"dojo::world::world::StoreDelRecord",kind:"nested"},{name:"WriterUpdated",type:"dojo::world::world::WriterUpdated",kind:"nested"},{name:"OwnerUpdated",type:"dojo::world::world::OwnerUpdated",kind:"nested"},{name:"ExecutorUpdated",type:"dojo::world::world::ExecutorUpdated",kind:"nested"}]}]},mAe={name:"executor",address:null,class_hash:"0x2b35dd4816731188ed1ad16caa73bde76075c9d9cb8cbfa3e447d3ab9b1ab33",abi:[{type:"impl",name:"Executor",interface_name:"dojo::executor::IExecutor"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"interface",name:"dojo::executor::IExecutor",items:[{type:"function",name:"call",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"},{name:"entrypoint",type:"core::felt252"},{name:"calldata",type:"core::array::Span::<core::felt252>"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"}]},{type:"event",name:"dojo::executor::executor::Event",kind:"enum",variants:[]}]},yAe={name:"base",class_hash:"0x7aec2b7d7064c1294a339cd90060331ff704ab573e4ee9a1b699be2215c11c9",abi:[{type:"impl",name:"Upgradeable",interface_name:"dojo::upgradable::IUpgradeable"},{type:"interface",name:"dojo::upgradable::IUpgradeable",items:[{type:"function",name:"upgrade",inputs:[{name:"new_class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"}]},{type:"constructor",name:"constructor",inputs:[]},{type:"struct",name:"dojo::world::IWorldDispatcher",members:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}]},{type:"function",name:"world",inputs:[],outputs:[{type:"dojo::world::IWorldDispatcher"}],state_mutability:"view"},{type:"event",name:"dojo::base::base::Event",kind:"enum",variants:[]}]},gAe=[{name:"actions",address:"0x3ac779eaa96b9b01ddee5e88a066437116be4d38f323cf5e542101c8da6aec2",class_hash:"0x2c37bea73021a11145a36dcd7443a4db46385b781a8190ce8bb1e92ce714c36",abi:[{type:"impl",name:"Actions",interface_name:"zdefender::systems::player::IActions"},{type:"struct",name:"dojo::world::IWorldDispatcher",members:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}]},{type:"interface",name:"zdefender::systems::player::IActions",items:[{type:"function",name:"create",inputs:[{name:"world",type:"dojo::world::IWorldDispatcher"},{name:"account",type:"core::felt252"},{name:"seed",type:"core::felt252"},{name:"name",type:"core::felt252"}],outputs:[],state_mutability:"view"}]},{type:"event",name:"zdefender::systems::player::actions::Event",kind:"enum",variants:[]}]}],vAe=[{name:"Game",members:[{name:"key",type:"felt252",key:!0},{name:"id",type:"u32",key:!1},{name:"name",type:"felt252",key:!1},{name:"seed",type:"felt252",key:!1},{name:"over",type:"bool",key:!1},{name:"tower_count",type:"u8",key:!1},{name:"mob_count",type:"u16",key:!1},{name:"mob_remaining",type:"u16",key:!1},{name:"wave",type:"u8",key:!1},{name:"gold",type:"u16",key:!1}],class_hash:"0x1c6cb40c473a04fa241976bf91ac247e17b30bcf68a514c50834b959f089a93",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::schema::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::schema::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::schema::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::schema::Struct"},{name:"Enum",type:"dojo::database::schema::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::schema::Ty"}],state_mutability:"view"},{type:"event",name:"zdefender::models::game::game::Event",kind:"enum",variants:[]}]},{name:"Mob",members:[{name:"game_id",type:"u32",key:!0},{name:"id",type:"u32",key:!0},{name:"index",type:"u32",key:!1},{name:"health",type:"u32",key:!1},{name:"speed",type:"u32",key:!1},{name:"defence",type:"u32",key:!1}],class_hash:"0x2ebadc124e18cf7b7e94b25d64695362796a702f512610c6fb874ff752de150",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::schema::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::schema::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::schema::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::schema::Struct"},{name:"Enum",type:"dojo::database::schema::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::schema::Ty"}],state_mutability:"view"},{type:"event",name:"zdefender::models::mob::mob::Event",kind:"enum",variants:[]}]},{name:"Tile",members:[{name:"game_id",type:"u32",key:!0},{name:"index",type:"u32",key:!0},{name:"category",type:"u8",key:!1}],class_hash:"0x33348b2e425766489009ee4c8806187376ce40087e5037d25fcc9805771040d",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::schema::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::schema::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::schema::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::schema::Struct"},{name:"Enum",type:"dojo::database::schema::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::schema::Ty"}],state_mutability:"view"},{type:"event",name:"zdefender::models::tile::tile::Event",kind:"enum",variants:[]}]}],_Ae={world:pAe,executor:mAe,base:yAe,contracts:gAe,models:vAe},JU=aSe();async function bAe(){const{VITE_PUBLIC_WORLD_ADDRESS:t,VITE_PUBLIC_NODE_URL:e,VITE_PUBLIC_TORII:r}={VITE_PUBLIC_ETH_CONTRACT_ADDRESS:"0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",VITE_PUBLIC_ACCOUNT_CLASS_HASH:"0x04d07e40e93398ed3c76981e72dd1fd22557a78ce36c0515f679e27f0bb5bc5f",VITE_PUBLIC_ACTIONS_ADDRESS:"0x2ca8dbe9c89ee5a3fd917f790d34032faa623b0466f40c0e8e93cac1e92b0f0",VITE_PUBLIC_MASTER_ADDRESS:"0x517ececd29116499f4a1b64b094da79ba08dfd54a3edaa316134c41f8160973",VITE_PUBLIC_MASTER_PRIVATE_KEY:"0x1800000000300000180000000000030000000000003006001800006600",VITE_PUBLIC_WORLD_ADDRESS:"0x691f741c8fd33d557daced16f586c44f3f64633f4a227485b8cd0a8718d9bd4",VITE_PUBLIC_NODE_URL:"http://localhost:5050",VITE_PUBLIC_TORII:"http://localhost:8080",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},n=new dAe(t,_Ae,e);return{provider:n,world:JU,contractComponents:fAe(JU),execute:async(i,s)=>{const o=Array.isArray(s)?s:[s];return n.executeMulti(i,o)},entity:async(i,s)=>n.entity(i,s),entities:async(i,s)=>n.entities(i,s)}}async function wAe(){const t=await bAe(),e=uSe(t),r=rAe(t,e);return{network:t,components:e,systemCalls:r}}async function EAe(){const t=document.getElementById("root");if(!t)throw new Error("React root not found");const e=NC.createRoot(t),r=await wAe();e.render(Or.jsx(Yo.StrictMode,{children:Or.jsx(hpe,{value:r,children:Or.jsx(Mxe,{})})}))}EAe()});export default xAe();
