var hY=Object.defineProperty;var dY=(t,e,r)=>e in t?hY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var fY=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ei=(t,e,r)=>(dY(t,typeof e!="symbol"?e+"":e,r),r);var RAe=fY((cTe,nx)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ol(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fa(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var r5={exports:{}},Mw={},n5={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=Symbol.for("react.element"),pY=Symbol.for("react.portal"),mY=Symbol.for("react.fragment"),yY=Symbol.for("react.strict_mode"),gY=Symbol.for("react.profiler"),vY=Symbol.for("react.provider"),_Y=Symbol.for("react.context"),bY=Symbol.for("react.forward_ref"),wY=Symbol.for("react.suspense"),EY=Symbol.for("react.memo"),xY=Symbol.for("react.lazy"),kB=Symbol.iterator;function SY(t){return t===null||typeof t!="object"?null:(t=kB&&t[kB]||t["@@iterator"],typeof t=="function"?t:null)}var i5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s5=Object.assign,o5={};function pp(t,e,r){this.props=t,this.context=e,this.refs=o5,this.updater=r||i5}pp.prototype.isReactComponent={};pp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a5(){}a5.prototype=pp.prototype;function rR(t,e,r){this.props=t,this.context=e,this.refs=o5,this.updater=r||i5}var nR=rR.prototype=new a5;nR.constructor=rR;s5(nR,pp.prototype);nR.isPureReactComponent=!0;var NB=Array.isArray,u5=Object.prototype.hasOwnProperty,iR={current:null},l5={key:!0,ref:!0,__self:!0,__source:!0};function c5(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)u5.call(e,n)&&!l5.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:qg,type:t,key:s,ref:o,props:i,_owner:iR.current}}function AY(t,e){return{$$typeof:qg,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sR(t){return typeof t=="object"&&t!==null&&t.$$typeof===qg}function TY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var MB=/\/+/g;function cA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TY(""+t.key):e.toString(36)}function mb(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case qg:case pY:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+cA(o,0):n,NB(i)?(r="",t!=null&&(r=t.replace(MB,"$&/")+"/"),mb(i,e,r,"",function(l){return l})):i!=null&&(sR(i)&&(i=AY(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(MB,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",NB(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+cA(s,a);o+=mb(s,e,r,u,i)}else if(u=SY(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+cA(s,a++),o+=mb(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function W_(t,e,r){if(t==null)return t;var n=[],i=0;return mb(t,n,"","",function(s){return e.call(r,s,i++)}),n}function CY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zn={current:null},yb={transition:null},IY={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:yb,ReactCurrentOwner:iR};lt.Children={map:W_,forEach:function(t,e,r){W_(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return W_(t,function(){e++}),e},toArray:function(t){return W_(t,function(e){return e})||[]},only:function(t){if(!sR(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=pp;lt.Fragment=mY;lt.Profiler=gY;lt.PureComponent=rR;lt.StrictMode=yY;lt.Suspense=wY;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IY;lt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=s5({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iR.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)u5.call(e,u)&&!l5.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:qg,type:t.type,key:i,ref:s,props:n,_owner:o}};lt.createContext=function(t){return t={$$typeof:_Y,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vY,_context:t},t.Consumer=t};lt.createElement=c5;lt.createFactory=function(t){var e=c5.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:bY,render:t}};lt.isValidElement=sR;lt.lazy=function(t){return{$$typeof:xY,_payload:{_status:-1,_result:t},_init:CY}};lt.memo=function(t,e){return{$$typeof:EY,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=yb.transition;yb.transition={};try{t()}finally{yb.transition=e}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(t,e){return Zn.current.useCallback(t,e)};lt.useContext=function(t){return Zn.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return Zn.current.useDeferredValue(t)};lt.useEffect=function(t,e){return Zn.current.useEffect(t,e)};lt.useId=function(){return Zn.current.useId()};lt.useImperativeHandle=function(t,e,r){return Zn.current.useImperativeHandle(t,e,r)};lt.useInsertionEffect=function(t,e){return Zn.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return Zn.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return Zn.current.useMemo(t,e)};lt.useReducer=function(t,e,r){return Zn.current.useReducer(t,e,r)};lt.useRef=function(t){return Zn.current.useRef(t)};lt.useState=function(t){return Zn.current.useState(t)};lt.useSyncExternalStore=function(t,e,r){return Zn.current.useSyncExternalStore(t,e,r)};lt.useTransition=function(){return Zn.current.useTransition()};lt.version="18.2.0";n5.exports=lt;var we=n5.exports;const Ws=Ol(we);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OY=we,RY=Symbol.for("react.element"),PY=Symbol.for("react.fragment"),kY=Object.prototype.hasOwnProperty,NY=OY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MY={key:!0,ref:!0,__self:!0,__source:!0};function h5(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)kY.call(e,n)&&!MY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:RY,type:t,key:s,ref:o,props:i,_owner:NY.current}}Mw.Fragment=PY;Mw.jsx=h5;Mw.jsxs=h5;r5.exports=Mw;var Yt=r5.exports,BC={},d5={exports:{}},Bi={},f5={exports:{}},p5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,U){var $=P.length;P.push(U);e:for(;0<$;){var z=$-1>>>1,q=P[z];if(0<i(q,U))P[z]=U,P[$]=q,$=z;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var U=P[0],$=P.pop();if($!==U){P[0]=$;e:for(var z=0,q=P.length,ne=q>>>1;z<ne;){var re=2*(z+1)-1,ae=P[re],oe=re+1,ve=P[oe];if(0>i(ae,$))oe<q&&0>i(ve,ae)?(P[z]=ve,P[oe]=$,z=oe):(P[z]=ae,P[re]=$,z=re);else if(oe<q&&0>i(ve,$))P[z]=ve,P[oe]=$,z=oe;else break e}}return U}function i(P,U){var $=P.sortIndex-U.sortIndex;return $!==0?$:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,p=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(P){for(var U=r(l);U!==null;){if(U.callback===null)n(l);else if(U.startTime<=P)n(l),U.sortIndex=U.expirationTime,e(u,U);else break;U=r(l)}}function x(P){if(g=!1,E(P),!y)if(r(u)!==null)y=!0,k(N);else{var U=r(l);U!==null&&O(x,U.startTime-P)}}function N(P,U){y=!1,g&&(g=!1,b(D),D=-1),m=!0;var $=p;try{for(E(U),f=r(u);f!==null&&(!(f.expirationTime>U)||P&&!F());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var q=z(f.expirationTime<=U);U=t.unstable_now(),typeof q=="function"?f.callback=q:f===r(u)&&n(u),E(U)}else n(u);f=r(u)}if(f!==null)var ne=!0;else{var re=r(l);re!==null&&O(x,re.startTime-U),ne=!1}return ne}finally{f=null,p=$,m=!1}}var M=!1,R=null,D=-1,W=5,G=-1;function F(){return!(t.unstable_now()-G<W)}function X(){if(R!==null){var P=t.unstable_now();G=P;var U=!0;try{U=R(!0,P)}finally{U?B():(M=!1,R=null)}}else M=!1}var B;if(typeof _=="function")B=function(){_(X)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,C=j.port2;j.port1.onmessage=X,B=function(){C.postMessage(null)}}else B=function(){w(X,0)};function k(P){R=P,M||(M=!0,B())}function O(P,U){D=w(function(){P(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,k(N))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var $=p;p=U;try{return P()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=p;p=P;try{return U()}finally{p=$}},t.unstable_scheduleCallback=function(P,U,$){var z=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,P={id:c++,callback:U,priorityLevel:P,startTime:$,expirationTime:q,sortIndex:-1},$>z?(P.sortIndex=$,e(l,P),r(u)===null&&P===r(l)&&(g?(b(D),D=-1):g=!0,O(x,$-z))):(P.sortIndex=q,e(u,P),y||m||(y=!0,k(N))),P},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(P){var U=p;return function(){var $=p;p=U;try{return P.apply(this,arguments)}finally{p=$}}}})(p5);f5.exports=p5;var DY=f5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m5=we,Mi=DY;function me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y5=new Set,Dy={};function Sh(t,e){Pf(t,e),Pf(t+"Capture",e)}function Pf(t,e){for(Dy[t]=e,t=0;t<e.length;t++)y5.add(e[t])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LC=Object.prototype.hasOwnProperty,BY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DB={},BB={};function LY(t){return LC.call(BB,t)?!0:LC.call(DB,t)?!1:BY.test(t)?BB[t]=!0:(DB[t]=!0,!1)}function $Y(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UY(t,e,r,n){if(e===null||typeof e>"u"||$Y(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var oR=/[\-:]([a-z])/g;function aR(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oR,aR);un[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oR,aR);un[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oR,aR);un[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function uR(t,e,r,n){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UY(e,r,i,n)&&(r=null),n||i===null?LY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ou=m5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q_=Symbol.for("react.element"),Ud=Symbol.for("react.portal"),Fd=Symbol.for("react.fragment"),lR=Symbol.for("react.strict_mode"),$C=Symbol.for("react.profiler"),g5=Symbol.for("react.provider"),v5=Symbol.for("react.context"),cR=Symbol.for("react.forward_ref"),UC=Symbol.for("react.suspense"),FC=Symbol.for("react.suspense_list"),hR=Symbol.for("react.memo"),Cu=Symbol.for("react.lazy"),_5=Symbol.for("react.offscreen"),LB=Symbol.iterator;function _m(t){return t===null||typeof t!="object"?null:(t=LB&&t[LB]||t["@@iterator"],typeof t=="function"?t:null)}var sr=Object.assign,hA;function Gm(t){if(hA===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);hA=e&&e[1]||""}return`
`+hA+t}var dA=!1;function fA(t,e){if(!t||dA)return"";dA=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{dA=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gm(t):""}function FY(t){switch(t.tag){case 5:return Gm(t.type);case 16:return Gm("Lazy");case 13:return Gm("Suspense");case 19:return Gm("SuspenseList");case 0:case 2:case 15:return t=fA(t.type,!1),t;case 11:return t=fA(t.type.render,!1),t;case 1:return t=fA(t.type,!0),t;default:return""}}function jC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fd:return"Fragment";case Ud:return"Portal";case $C:return"Profiler";case lR:return"StrictMode";case UC:return"Suspense";case FC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v5:return(t.displayName||"Context")+".Consumer";case g5:return(t._context.displayName||"Context")+".Provider";case cR:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hR:return e=t.displayName||null,e!==null?e:jC(t.type)||"Memo";case Cu:e=t._payload,t=t._init;try{return jC(t(e))}catch{}}return null}function jY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jC(e);case 8:return e===lR?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ll(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zY(t){var e=b5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Z_(t){t._valueTracker||(t._valueTracker=zY(t))}function w5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=b5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zC(t,e){var r=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $B(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ll(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E5(t,e){e=e.checked,e!=null&&uR(t,"checked",e,!1)}function HC(t,e){E5(t,e);var r=ll(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?VC(t,e.type,r):e.hasOwnProperty("defaultValue")&&VC(t,e.type,ll(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UB(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function VC(t,e,r){(e!=="number"||Zb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Wm=Array.isArray;function df(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ll(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function GC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(me(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FB(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(me(92));if(Wm(r)){if(1<r.length)throw Error(me(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ll(r)}}function x5(t,e){var r=ll(e.value),n=ll(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jB(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function S5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?S5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var X_,A5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(X_=X_||document.createElement("div"),X_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=X_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function By(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var dy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HY=["Webkit","ms","Moz","O"];Object.keys(dy).forEach(function(t){HY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dy[e]=dy[t]})});function T5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||dy.hasOwnProperty(t)&&dy[t]?(""+e).trim():e+"px"}function C5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=T5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var VY=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qC(t,e){if(e){if(VY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(me(62))}}function ZC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var XC=null;function dR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var YC=null,ff=null,pf=null;function zB(t){if(t=Yg(t)){if(typeof YC!="function")throw Error(me(280));var e=t.stateNode;e&&(e=Uw(e),YC(t.stateNode,t.type,e))}}function I5(t){ff?pf?pf.push(t):pf=[t]:ff=t}function O5(){if(ff){var t=ff,e=pf;if(pf=ff=null,zB(t),e)for(t=0;t<e.length;t++)zB(e[t])}}function R5(t,e){return t(e)}function P5(){}var pA=!1;function k5(t,e,r){if(pA)return t(e,r);pA=!0;try{return R5(t,e,r)}finally{pA=!1,(ff!==null||pf!==null)&&(P5(),O5())}}function Ly(t,e){var r=t.stateNode;if(r===null)return null;var n=Uw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(me(231,e,typeof r));return r}var QC=!1;if(Xa)try{var bm={};Object.defineProperty(bm,"passive",{get:function(){QC=!0}}),window.addEventListener("test",bm,bm),window.removeEventListener("test",bm,bm)}catch{QC=!1}function GY(t,e,r,n,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var fy=!1,Xb=null,Yb=!1,KC=null,WY={onError:function(t){fy=!0,Xb=t}};function qY(t,e,r,n,i,s,o,a,u){fy=!1,Xb=null,GY.apply(WY,arguments)}function ZY(t,e,r,n,i,s,o,a,u){if(qY.apply(this,arguments),fy){if(fy){var l=Xb;fy=!1,Xb=null}else throw Error(me(198));Yb||(Yb=!0,KC=l)}}function Ah(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function N5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HB(t){if(Ah(t)!==t)throw Error(me(188))}function XY(t){var e=t.alternate;if(!e){if(e=Ah(t),e===null)throw Error(me(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return HB(i),t;if(s===n)return HB(i),e;s=s.sibling}throw Error(me(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(me(189))}}if(r.alternate!==n)throw Error(me(190))}if(r.tag!==3)throw Error(me(188));return r.stateNode.current===r?t:e}function M5(t){return t=XY(t),t!==null?D5(t):null}function D5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D5(t);if(e!==null)return e;t=t.sibling}return null}var B5=Mi.unstable_scheduleCallback,VB=Mi.unstable_cancelCallback,YY=Mi.unstable_shouldYield,QY=Mi.unstable_requestPaint,mr=Mi.unstable_now,KY=Mi.unstable_getCurrentPriorityLevel,fR=Mi.unstable_ImmediatePriority,L5=Mi.unstable_UserBlockingPriority,Qb=Mi.unstable_NormalPriority,JY=Mi.unstable_LowPriority,$5=Mi.unstable_IdlePriority,Dw=null,Ko=null;function eQ(t){if(Ko&&typeof Ko.onCommitFiberRoot=="function")try{Ko.onCommitFiberRoot(Dw,t,void 0,(t.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:nQ,tQ=Math.log,rQ=Math.LN2;function nQ(t){return t>>>=0,t===0?32:31-(tQ(t)/rQ|0)|0}var Y_=64,Q_=4194304;function qm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=qm(a):(s&=o,s!==0&&(n=qm(s)))}else o=r&~i,o!==0?n=qm(o):s!==0&&(n=qm(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-qs(e),i=1<<r,n|=t[r],e&=~i;return n}function iQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qs(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=iQ(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function JC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U5(){var t=Y_;return Y_<<=1,!(Y_&4194240)&&(Y_=64),t}function mA(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Zg(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qs(e),t[e]=r}function oQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-qs(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function pR(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-qs(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Tt=0;function F5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j5,mR,z5,H5,V5,eI=!1,K_=[],Zu=null,Xu=null,Yu=null,$y=new Map,Uy=new Map,Nu=[],aQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GB(t,e){switch(t){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":Yu=null;break;case"pointerover":case"pointerout":$y.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uy.delete(e.pointerId)}}function wm(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Yg(e),e!==null&&mR(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function uQ(t,e,r,n,i){switch(e){case"focusin":return Zu=wm(Zu,t,e,r,n,i),!0;case"dragenter":return Xu=wm(Xu,t,e,r,n,i),!0;case"mouseover":return Yu=wm(Yu,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return $y.set(s,wm($y.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Uy.set(s,wm(Uy.get(s)||null,t,e,r,n,i)),!0}return!1}function G5(t){var e=Tc(t.target);if(e!==null){var r=Ah(e);if(r!==null){if(e=r.tag,e===13){if(e=N5(r),e!==null){t.blockedOn=e,V5(t.priority,function(){z5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tI(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);XC=n,r.target.dispatchEvent(n),XC=null}else return e=Yg(r),e!==null&&mR(e),t.blockedOn=r,!1;e.shift()}return!0}function WB(t,e,r){gb(t)&&r.delete(e)}function lQ(){eI=!1,Zu!==null&&gb(Zu)&&(Zu=null),Xu!==null&&gb(Xu)&&(Xu=null),Yu!==null&&gb(Yu)&&(Yu=null),$y.forEach(WB),Uy.forEach(WB)}function Em(t,e){t.blockedOn===e&&(t.blockedOn=null,eI||(eI=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,lQ)))}function Fy(t){function e(i){return Em(i,t)}if(0<K_.length){Em(K_[0],t);for(var r=1;r<K_.length;r++){var n=K_[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zu!==null&&Em(Zu,t),Xu!==null&&Em(Xu,t),Yu!==null&&Em(Yu,t),$y.forEach(e),Uy.forEach(e),r=0;r<Nu.length;r++)n=Nu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Nu.length&&(r=Nu[0],r.blockedOn===null);)G5(r),r.blockedOn===null&&Nu.shift()}var mf=ou.ReactCurrentBatchConfig,Jb=!0;function cQ(t,e,r,n){var i=Tt,s=mf.transition;mf.transition=null;try{Tt=1,yR(t,e,r,n)}finally{Tt=i,mf.transition=s}}function hQ(t,e,r,n){var i=Tt,s=mf.transition;mf.transition=null;try{Tt=4,yR(t,e,r,n)}finally{Tt=i,mf.transition=s}}function yR(t,e,r,n){if(Jb){var i=tI(t,e,r,n);if(i===null)AA(t,e,n,e1,r),GB(t,n);else if(uQ(i,t,e,r,n))n.stopPropagation();else if(GB(t,n),e&4&&-1<aQ.indexOf(t)){for(;i!==null;){var s=Yg(i);if(s!==null&&j5(s),s=tI(t,e,r,n),s===null&&AA(t,e,n,e1,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else AA(t,e,n,null,r)}}var e1=null;function tI(t,e,r,n){if(e1=null,t=dR(n),t=Tc(t),t!==null)if(e=Ah(t),e===null)t=null;else if(r=e.tag,r===13){if(t=N5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return e1=t,null}function W5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KY()){case fR:return 1;case L5:return 4;case Qb:case JY:return 16;case $5:return 536870912;default:return 16}default:return 16}}var Lu=null,gR=null,vb=null;function q5(){if(vb)return vb;var t,e=gR,r=e.length,n,i="value"in Lu?Lu.value:Lu.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return vb=i.slice(t,1<n?1-n:void 0)}function _b(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function J_(){return!0}function qB(){return!1}function Li(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?J_:qB,this.isPropagationStopped=qB,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=J_)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=J_)},persist:function(){},isPersistent:J_}),e}var mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vR=Li(mp),Xg=sr({},mp,{view:0,detail:0}),dQ=Li(Xg),yA,gA,xm,Bw=sr({},Xg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_R,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xm&&(xm&&t.type==="mousemove"?(yA=t.screenX-xm.screenX,gA=t.screenY-xm.screenY):gA=yA=0,xm=t),yA)},movementY:function(t){return"movementY"in t?t.movementY:gA}}),ZB=Li(Bw),fQ=sr({},Bw,{dataTransfer:0}),pQ=Li(fQ),mQ=sr({},Xg,{relatedTarget:0}),vA=Li(mQ),yQ=sr({},mp,{animationName:0,elapsedTime:0,pseudoElement:0}),gQ=Li(yQ),vQ=sr({},mp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_Q=Li(vQ),bQ=sr({},mp,{data:0}),XB=Li(bQ),wQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xQ[t])?!!e[t]:!1}function _R(){return SQ}var AQ=sr({},Xg,{key:function(t){if(t.key){var e=wQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_b(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_R,charCode:function(t){return t.type==="keypress"?_b(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_b(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TQ=Li(AQ),CQ=sr({},Bw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YB=Li(CQ),IQ=sr({},Xg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_R}),OQ=Li(IQ),RQ=sr({},mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),PQ=Li(RQ),kQ=sr({},Bw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NQ=Li(kQ),MQ=[9,13,27,32],bR=Xa&&"CompositionEvent"in window,py=null;Xa&&"documentMode"in document&&(py=document.documentMode);var DQ=Xa&&"TextEvent"in window&&!py,Z5=Xa&&(!bR||py&&8<py&&11>=py),QB=String.fromCharCode(32),KB=!1;function X5(t,e){switch(t){case"keyup":return MQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jd=!1;function BQ(t,e){switch(t){case"compositionend":return Y5(e);case"keypress":return e.which!==32?null:(KB=!0,QB);case"textInput":return t=e.data,t===QB&&KB?null:t;default:return null}}function LQ(t,e){if(jd)return t==="compositionend"||!bR&&X5(t,e)?(t=q5(),vb=gR=Lu=null,jd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z5&&e.locale!=="ko"?null:e.data;default:return null}}var $Q={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$Q[t.type]:e==="textarea"}function Q5(t,e,r,n){I5(n),e=t1(e,"onChange"),0<e.length&&(r=new vR("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var my=null,jy=null;function UQ(t){u6(t,0)}function Lw(t){var e=Vd(t);if(w5(e))return t}function FQ(t,e){if(t==="change")return e}var K5=!1;if(Xa){var _A;if(Xa){var bA="oninput"in document;if(!bA){var e3=document.createElement("div");e3.setAttribute("oninput","return;"),bA=typeof e3.oninput=="function"}_A=bA}else _A=!1;K5=_A&&(!document.documentMode||9<document.documentMode)}function t3(){my&&(my.detachEvent("onpropertychange",J5),jy=my=null)}function J5(t){if(t.propertyName==="value"&&Lw(jy)){var e=[];Q5(e,jy,t,dR(t)),k5(UQ,e)}}function jQ(t,e,r){t==="focusin"?(t3(),my=e,jy=r,my.attachEvent("onpropertychange",J5)):t==="focusout"&&t3()}function zQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lw(jy)}function HQ(t,e){if(t==="click")return Lw(e)}function VQ(t,e){if(t==="input"||t==="change")return Lw(e)}function GQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ro=typeof Object.is=="function"?Object.is:GQ;function zy(t,e){if(ro(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!LC.call(e,i)||!ro(t[i],e[i]))return!1}return!0}function r3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n3(t,e){var r=r3(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=r3(r)}}function e6(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e6(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t6(){for(var t=window,e=Zb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zb(t.document)}return e}function wR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WQ(t){var e=t6(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&e6(r.ownerDocument.documentElement,r)){if(n!==null&&wR(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=n3(r,s);var o=n3(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qQ=Xa&&"documentMode"in document&&11>=document.documentMode,zd=null,rI=null,yy=null,nI=!1;function i3(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nI||zd==null||zd!==Zb(n)||(n=zd,"selectionStart"in n&&wR(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yy&&zy(yy,n)||(yy=n,n=t1(rI,"onSelect"),0<n.length&&(e=new vR("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zd)))}function e0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Hd={animationend:e0("Animation","AnimationEnd"),animationiteration:e0("Animation","AnimationIteration"),animationstart:e0("Animation","AnimationStart"),transitionend:e0("Transition","TransitionEnd")},wA={},r6={};Xa&&(r6=document.createElement("div").style,"AnimationEvent"in window||(delete Hd.animationend.animation,delete Hd.animationiteration.animation,delete Hd.animationstart.animation),"TransitionEvent"in window||delete Hd.transitionend.transition);function $w(t){if(wA[t])return wA[t];if(!Hd[t])return t;var e=Hd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in r6)return wA[t]=e[r];return t}var n6=$w("animationend"),i6=$w("animationiteration"),s6=$w("animationstart"),o6=$w("transitionend"),a6=new Map,s3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(t,e){a6.set(t,e),Sh(e,[t])}for(var EA=0;EA<s3.length;EA++){var xA=s3[EA],ZQ=xA.toLowerCase(),XQ=xA[0].toUpperCase()+xA.slice(1);Rl(ZQ,"on"+XQ)}Rl(n6,"onAnimationEnd");Rl(i6,"onAnimationIteration");Rl(s6,"onAnimationStart");Rl("dblclick","onDoubleClick");Rl("focusin","onFocus");Rl("focusout","onBlur");Rl(o6,"onTransitionEnd");Pf("onMouseEnter",["mouseout","mouseover"]);Pf("onMouseLeave",["mouseout","mouseover"]);Pf("onPointerEnter",["pointerout","pointerover"]);Pf("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zm));function o3(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ZY(n,e,void 0,t),t.currentTarget=null}function u6(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;o3(i,a,l),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;o3(i,a,l),s=u}}}if(Yb)throw t=KC,Yb=!1,KC=null,t}function $t(t,e){var r=e[uI];r===void 0&&(r=e[uI]=new Set);var n=t+"__bubble";r.has(n)||(l6(e,t,2,!1),r.add(n))}function SA(t,e,r){var n=0;e&&(n|=4),l6(r,t,n,e)}var t0="_reactListening"+Math.random().toString(36).slice(2);function Hy(t){if(!t[t0]){t[t0]=!0,y5.forEach(function(r){r!=="selectionchange"&&(YQ.has(r)||SA(r,!1,t),SA(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[t0]||(e[t0]=!0,SA("selectionchange",!1,e))}}function l6(t,e,r,n){switch(W5(e)){case 1:var i=cQ;break;case 4:i=hQ;break;default:i=yR}r=i.bind(null,e,r,t),i=void 0,!QC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function AA(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Tc(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}k5(function(){var l=s,c=dR(r),f=[];e:{var p=a6.get(t);if(p!==void 0){var m=vR,y=t;switch(t){case"keypress":if(_b(r)===0)break e;case"keydown":case"keyup":m=TQ;break;case"focusin":y="focus",m=vA;break;case"focusout":y="blur",m=vA;break;case"beforeblur":case"afterblur":m=vA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ZB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OQ;break;case n6:case i6:case s6:m=gQ;break;case o6:m=PQ;break;case"scroll":m=dQ;break;case"wheel":m=NQ;break;case"copy":case"cut":case"paste":m=_Q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=YB}var g=(e&4)!==0,w=!g&&t==="scroll",b=g?p!==null?p+"Capture":null:p;g=[];for(var _=l,E;_!==null;){E=_;var x=E.stateNode;if(E.tag===5&&x!==null&&(E=x,b!==null&&(x=Ly(_,b),x!=null&&g.push(Vy(_,x,E)))),w)break;_=_.return}0<g.length&&(p=new m(p,y,null,r,c),f.push({event:p,listeners:g}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==XC&&(y=r.relatedTarget||r.fromElement)&&(Tc(y)||y[Ya]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=l,y=y?Tc(y):null,y!==null&&(w=Ah(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=l),m!==y)){if(g=ZB,x="onMouseLeave",b="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=YB,x="onPointerLeave",b="onPointerEnter",_="pointer"),w=m==null?p:Vd(m),E=y==null?p:Vd(y),p=new g(x,_+"leave",m,r,c),p.target=w,p.relatedTarget=E,x=null,Tc(c)===l&&(g=new g(b,_+"enter",y,r,c),g.target=E,g.relatedTarget=w,x=g),w=x,m&&y)t:{for(g=m,b=y,_=0,E=g;E;E=cd(E))_++;for(E=0,x=b;x;x=cd(x))E++;for(;0<_-E;)g=cd(g),_--;for(;0<E-_;)b=cd(b),E--;for(;_--;){if(g===b||b!==null&&g===b.alternate)break t;g=cd(g),b=cd(b)}g=null}else g=null;m!==null&&a3(f,p,m,g,!1),y!==null&&w!==null&&a3(f,w,y,g,!0)}}e:{if(p=l?Vd(l):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=FQ;else if(JB(p))if(K5)N=VQ;else{N=zQ;var M=jQ}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=HQ);if(N&&(N=N(t,l))){Q5(f,N,r,c);break e}M&&M(t,p,l),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&VC(p,"number",p.value)}switch(M=l?Vd(l):window,t){case"focusin":(JB(M)||M.contentEditable==="true")&&(zd=M,rI=l,yy=null);break;case"focusout":yy=rI=zd=null;break;case"mousedown":nI=!0;break;case"contextmenu":case"mouseup":case"dragend":nI=!1,i3(f,r,c);break;case"selectionchange":if(qQ)break;case"keydown":case"keyup":i3(f,r,c)}var R;if(bR)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else jd?X5(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(Z5&&r.locale!=="ko"&&(jd||D!=="onCompositionStart"?D==="onCompositionEnd"&&jd&&(R=q5()):(Lu=c,gR="value"in Lu?Lu.value:Lu.textContent,jd=!0)),M=t1(l,D),0<M.length&&(D=new XB(D,t,null,r,c),f.push({event:D,listeners:M}),R?D.data=R:(R=Y5(r),R!==null&&(D.data=R)))),(R=DQ?BQ(t,r):LQ(t,r))&&(l=t1(l,"onBeforeInput"),0<l.length&&(c=new XB("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=R))}u6(f,e)})}function Vy(t,e,r){return{instance:t,listener:e,currentTarget:r}}function t1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ly(t,r),s!=null&&n.unshift(Vy(t,s,i)),s=Ly(t,e),s!=null&&n.push(Vy(t,s,i))),t=t.return}return n}function cd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a3(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=Ly(r,s),u!=null&&o.unshift(Vy(r,u,a))):i||(u=Ly(r,s),u!=null&&o.push(Vy(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var QQ=/\r\n?/g,KQ=/\u0000|\uFFFD/g;function u3(t){return(typeof t=="string"?t:""+t).replace(QQ,`
`).replace(KQ,"")}function r0(t,e,r){if(e=u3(e),u3(t)!==e&&r)throw Error(me(425))}function r1(){}var iI=null,sI=null;function oI(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aI=typeof setTimeout=="function"?setTimeout:void 0,JQ=typeof clearTimeout=="function"?clearTimeout:void 0,l3=typeof Promise=="function"?Promise:void 0,eK=typeof queueMicrotask=="function"?queueMicrotask:typeof l3<"u"?function(t){return l3.resolve(null).then(t).catch(tK)}:aI;function tK(t){setTimeout(function(){throw t})}function TA(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fy(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fy(e)}function Qu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yp=Math.random().toString(36).slice(2),Wo="__reactFiber$"+yp,Gy="__reactProps$"+yp,Ya="__reactContainer$"+yp,uI="__reactEvents$"+yp,rK="__reactListeners$"+yp,nK="__reactHandles$"+yp;function Tc(t){var e=t[Wo];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ya]||r[Wo]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=c3(t);t!==null;){if(r=t[Wo])return r;t=c3(t)}return e}t=r,r=t.parentNode}return null}function Yg(t){return t=t[Wo]||t[Ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(me(33))}function Uw(t){return t[Gy]||null}var lI=[],Gd=-1;function Pl(t){return{current:t}}function zt(t){0>Gd||(t.current=lI[Gd],lI[Gd]=null,Gd--)}function Nt(t,e){Gd++,lI[Gd]=t.current,t.current=e}var cl={},wn=Pl(cl),ci=Pl(!1),Qc=cl;function kf(t,e){var r=t.type.contextTypes;if(!r)return cl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hi(t){return t=t.childContextTypes,t!=null}function n1(){zt(ci),zt(wn)}function h3(t,e,r){if(wn.current!==cl)throw Error(me(168));Nt(wn,e),Nt(ci,r)}function c6(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(me(108,jY(t)||"Unknown",i));return sr({},r,n)}function i1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cl,Qc=wn.current,Nt(wn,t),Nt(ci,ci.current),!0}function d3(t,e,r){var n=t.stateNode;if(!n)throw Error(me(169));r?(t=c6(t,e,Qc),n.__reactInternalMemoizedMergedChildContext=t,zt(ci),zt(wn),Nt(wn,t)):zt(ci),Nt(ci,r)}var Ra=null,Fw=!1,CA=!1;function h6(t){Ra===null?Ra=[t]:Ra.push(t)}function iK(t){Fw=!0,h6(t)}function kl(){if(!CA&&Ra!==null){CA=!0;var t=0,e=Tt;try{var r=Ra;for(Tt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ra=null,Fw=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(t+1)),B5(fR,kl),i}finally{Tt=e,CA=!1}}return null}var Wd=[],qd=0,s1=null,o1=0,es=[],ts=0,Kc=null,Fa=1,ja="";function lc(t,e){Wd[qd++]=o1,Wd[qd++]=s1,s1=t,o1=e}function d6(t,e,r){es[ts++]=Fa,es[ts++]=ja,es[ts++]=Kc,Kc=t;var n=Fa;t=ja;var i=32-qs(n)-1;n&=~(1<<i),r+=1;var s=32-qs(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Fa=1<<32-qs(e)+i|r<<i|n,ja=s+t}else Fa=1<<s|r<<i|n,ja=t}function ER(t){t.return!==null&&(lc(t,1),d6(t,1,0))}function xR(t){for(;t===s1;)s1=Wd[--qd],Wd[qd]=null,o1=Wd[--qd],Wd[qd]=null;for(;t===Kc;)Kc=es[--ts],es[ts]=null,ja=es[--ts],es[ts]=null,Fa=es[--ts],es[ts]=null}var Ri=null,Ci=null,Qt=!1,Fs=null;function f6(t,e){var r=ss(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function f3(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ri=t,Ci=Qu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ri=t,Ci=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Kc!==null?{id:Fa,overflow:ja}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ss(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ri=t,Ci=null,!0):!1;default:return!1}}function cI(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hI(t){if(Qt){var e=Ci;if(e){var r=e;if(!f3(t,e)){if(cI(t))throw Error(me(418));e=Qu(r.nextSibling);var n=Ri;e&&f3(t,e)?f6(n,r):(t.flags=t.flags&-4097|2,Qt=!1,Ri=t)}}else{if(cI(t))throw Error(me(418));t.flags=t.flags&-4097|2,Qt=!1,Ri=t}}}function p3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ri=t}function n0(t){if(t!==Ri)return!1;if(!Qt)return p3(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oI(t.type,t.memoizedProps)),e&&(e=Ci)){if(cI(t))throw p6(),Error(me(418));for(;e;)f6(t,e),e=Qu(e.nextSibling)}if(p3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ci=Qu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ci=null}}else Ci=Ri?Qu(t.stateNode.nextSibling):null;return!0}function p6(){for(var t=Ci;t;)t=Qu(t.nextSibling)}function Nf(){Ci=Ri=null,Qt=!1}function SR(t){Fs===null?Fs=[t]:Fs.push(t)}var sK=ou.ReactCurrentBatchConfig;function Bs(t,e){if(t&&t.defaultProps){e=sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var a1=Pl(null),u1=null,Zd=null,AR=null;function TR(){AR=Zd=u1=null}function CR(t){var e=a1.current;zt(a1),t._currentValue=e}function dI(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yf(t,e){u1=t,AR=Zd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(si=!0),t.firstContext=null)}function ps(t){var e=t._currentValue;if(AR!==t)if(t={context:t,memoizedValue:e,next:null},Zd===null){if(u1===null)throw Error(me(308));Zd=t,u1.dependencies={lanes:0,firstContext:t}}else Zd=Zd.next=t;return e}var Cc=null;function IR(t){Cc===null?Cc=[t]:Cc.push(t)}function m6(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,IR(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qa(t,n)}function Qa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Iu=!1;function OR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y6(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Va(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ku(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,gt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qa(t,r)}return i=n.interleaved,i===null?(e.next=e,IR(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qa(t,r)}function bb(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pR(t,r)}}function m3(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function l1(t,e,r,n){var i=t.updateQueue;Iu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,c=l=u=null,a=s;do{var p=a.lane,m=a.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(p=e,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=sr({},f,p);break e;case 2:Iu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=m,u=f):c=c.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);eh|=o,t.lanes=o,t.memoizedState=f}}function y3(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(me(191,i));i.call(n)}}}var g6=new m5.Component().refs;function fI(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jw={isMounted:function(t){return(t=t._reactInternals)?Ah(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zn(),i=el(t),s=Va(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ku(t,s,i),e!==null&&(Zs(e,t,i,n),bb(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zn(),i=el(t),s=Va(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ku(t,s,i),e!==null&&(Zs(e,t,i,n),bb(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zn(),n=el(t),i=Va(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ku(t,i,n),e!==null&&(Zs(e,t,n,r),bb(e,t,n))}};function g3(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!zy(r,n)||!zy(i,s):!0}function v6(t,e,r){var n=!1,i=cl,s=e.contextType;return typeof s=="object"&&s!==null?s=ps(s):(i=hi(e)?Qc:wn.current,n=e.contextTypes,s=(n=n!=null)?kf(t,i):cl),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v3(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jw.enqueueReplaceState(e,e.state,null)}function pI(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=g6,OR(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ps(s):(s=hi(e)?Qc:wn.current,i.context=kf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fI(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jw.enqueueReplaceState(i,i.state,null),l1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sm(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(me(309));var n=r.stateNode}if(!n)throw Error(me(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===g6&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(me(284));if(!r._owner)throw Error(me(290,t))}return t}function i0(t,e){throw t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _3(t){var e=t._init;return e(t._payload)}function _6(t){function e(b,_){if(t){var E=b.deletions;E===null?(b.deletions=[_],b.flags|=16):E.push(_)}}function r(b,_){if(!t)return null;for(;_!==null;)e(b,_),_=_.sibling;return null}function n(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=tl(b,_),b.index=0,b.sibling=null,b}function s(b,_,E){return b.index=E,t?(E=b.alternate,E!==null?(E=E.index,E<_?(b.flags|=2,_):E):(b.flags|=2,_)):(b.flags|=1048576,_)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,_,E,x){return _===null||_.tag!==6?(_=MA(E,b.mode,x),_.return=b,_):(_=i(_,E),_.return=b,_)}function u(b,_,E,x){var N=E.type;return N===Fd?c(b,_,E.props.children,x,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cu&&_3(N)===_.type)?(x=i(_,E.props),x.ref=Sm(b,_,E),x.return=b,x):(x=Tb(E.type,E.key,E.props,null,b.mode,x),x.ref=Sm(b,_,E),x.return=b,x)}function l(b,_,E,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=DA(E,b.mode,x),_.return=b,_):(_=i(_,E.children||[]),_.return=b,_)}function c(b,_,E,x,N){return _===null||_.tag!==7?(_=Fc(E,b.mode,x,N),_.return=b,_):(_=i(_,E),_.return=b,_)}function f(b,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=MA(""+_,b.mode,E),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case q_:return E=Tb(_.type,_.key,_.props,null,b.mode,E),E.ref=Sm(b,null,_),E.return=b,E;case Ud:return _=DA(_,b.mode,E),_.return=b,_;case Cu:var x=_._init;return f(b,x(_._payload),E)}if(Wm(_)||_m(_))return _=Fc(_,b.mode,E,null),_.return=b,_;i0(b,_)}return null}function p(b,_,E,x){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(b,_,""+E,x);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case q_:return E.key===N?u(b,_,E,x):null;case Ud:return E.key===N?l(b,_,E,x):null;case Cu:return N=E._init,p(b,_,N(E._payload),x)}if(Wm(E)||_m(E))return N!==null?null:c(b,_,E,x,null);i0(b,E)}return null}function m(b,_,E,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(E)||null,a(_,b,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case q_:return b=b.get(x.key===null?E:x.key)||null,u(_,b,x,N);case Ud:return b=b.get(x.key===null?E:x.key)||null,l(_,b,x,N);case Cu:var M=x._init;return m(b,_,E,M(x._payload),N)}if(Wm(x)||_m(x))return b=b.get(E)||null,c(_,b,x,N,null);i0(_,x)}return null}function y(b,_,E,x){for(var N=null,M=null,R=_,D=_=0,W=null;R!==null&&D<E.length;D++){R.index>D?(W=R,R=null):W=R.sibling;var G=p(b,R,E[D],x);if(G===null){R===null&&(R=W);break}t&&R&&G.alternate===null&&e(b,R),_=s(G,_,D),M===null?N=G:M.sibling=G,M=G,R=W}if(D===E.length)return r(b,R),Qt&&lc(b,D),N;if(R===null){for(;D<E.length;D++)R=f(b,E[D],x),R!==null&&(_=s(R,_,D),M===null?N=R:M.sibling=R,M=R);return Qt&&lc(b,D),N}for(R=n(b,R);D<E.length;D++)W=m(R,b,D,E[D],x),W!==null&&(t&&W.alternate!==null&&R.delete(W.key===null?D:W.key),_=s(W,_,D),M===null?N=W:M.sibling=W,M=W);return t&&R.forEach(function(F){return e(b,F)}),Qt&&lc(b,D),N}function g(b,_,E,x){var N=_m(E);if(typeof N!="function")throw Error(me(150));if(E=N.call(E),E==null)throw Error(me(151));for(var M=N=null,R=_,D=_=0,W=null,G=E.next();R!==null&&!G.done;D++,G=E.next()){R.index>D?(W=R,R=null):W=R.sibling;var F=p(b,R,G.value,x);if(F===null){R===null&&(R=W);break}t&&R&&F.alternate===null&&e(b,R),_=s(F,_,D),M===null?N=F:M.sibling=F,M=F,R=W}if(G.done)return r(b,R),Qt&&lc(b,D),N;if(R===null){for(;!G.done;D++,G=E.next())G=f(b,G.value,x),G!==null&&(_=s(G,_,D),M===null?N=G:M.sibling=G,M=G);return Qt&&lc(b,D),N}for(R=n(b,R);!G.done;D++,G=E.next())G=m(R,b,D,G.value,x),G!==null&&(t&&G.alternate!==null&&R.delete(G.key===null?D:G.key),_=s(G,_,D),M===null?N=G:M.sibling=G,M=G);return t&&R.forEach(function(X){return e(b,X)}),Qt&&lc(b,D),N}function w(b,_,E,x){if(typeof E=="object"&&E!==null&&E.type===Fd&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case q_:e:{for(var N=E.key,M=_;M!==null;){if(M.key===N){if(N=E.type,N===Fd){if(M.tag===7){r(b,M.sibling),_=i(M,E.props.children),_.return=b,b=_;break e}}else if(M.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cu&&_3(N)===M.type){r(b,M.sibling),_=i(M,E.props),_.ref=Sm(b,M,E),_.return=b,b=_;break e}r(b,M);break}else e(b,M);M=M.sibling}E.type===Fd?(_=Fc(E.props.children,b.mode,x,E.key),_.return=b,b=_):(x=Tb(E.type,E.key,E.props,null,b.mode,x),x.ref=Sm(b,_,E),x.return=b,b=x)}return o(b);case Ud:e:{for(M=E.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){r(b,_.sibling),_=i(_,E.children||[]),_.return=b,b=_;break e}else{r(b,_);break}else e(b,_);_=_.sibling}_=DA(E,b.mode,x),_.return=b,b=_}return o(b);case Cu:return M=E._init,w(b,_,M(E._payload),x)}if(Wm(E))return y(b,_,E,x);if(_m(E))return g(b,_,E,x);i0(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(r(b,_.sibling),_=i(_,E),_.return=b,b=_):(r(b,_),_=MA(E,b.mode,x),_.return=b,b=_),o(b)):r(b,_)}return w}var Mf=_6(!0),b6=_6(!1),Qg={},Jo=Pl(Qg),Wy=Pl(Qg),qy=Pl(Qg);function Ic(t){if(t===Qg)throw Error(me(174));return t}function RR(t,e){switch(Nt(qy,e),Nt(Wy,t),Nt(Jo,Qg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:WC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=WC(e,t)}zt(Jo),Nt(Jo,e)}function Df(){zt(Jo),zt(Wy),zt(qy)}function w6(t){Ic(qy.current);var e=Ic(Jo.current),r=WC(e,t.type);e!==r&&(Nt(Wy,t),Nt(Jo,r))}function PR(t){Wy.current===t&&(zt(Jo),zt(Wy))}var rr=Pl(0);function c1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var IA=[];function kR(){for(var t=0;t<IA.length;t++)IA[t]._workInProgressVersionPrimary=null;IA.length=0}var wb=ou.ReactCurrentDispatcher,OA=ou.ReactCurrentBatchConfig,Jc=0,ir=null,Ir=null,zr=null,h1=!1,gy=!1,Zy=0,oK=0;function pn(){throw Error(me(321))}function NR(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ro(t[r],e[r]))return!1;return!0}function MR(t,e,r,n,i,s){if(Jc=s,ir=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wb.current=t===null||t.memoizedState===null?cK:hK,t=r(n,i),gy){s=0;do{if(gy=!1,Zy=0,25<=s)throw Error(me(301));s+=1,zr=Ir=null,e.updateQueue=null,wb.current=dK,t=r(n,i)}while(gy)}if(wb.current=d1,e=Ir!==null&&Ir.next!==null,Jc=0,zr=Ir=ir=null,h1=!1,e)throw Error(me(300));return t}function DR(){var t=Zy!==0;return Zy=0,t}function jo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?ir.memoizedState=zr=t:zr=zr.next=t,zr}function ms(){if(Ir===null){var t=ir.alternate;t=t!==null?t.memoizedState:null}else t=Ir.next;var e=zr===null?ir.memoizedState:zr.next;if(e!==null)zr=e,Ir=t;else{if(t===null)throw Error(me(310));Ir=t,t={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},zr===null?ir.memoizedState=zr=t:zr=zr.next=t}return zr}function Xy(t,e){return typeof e=="function"?e(t):e}function RA(t){var e=ms(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=Ir,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Jc&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,o=n):u=u.next=f,ir.lanes|=c,eh|=c}l=l.next}while(l!==null&&l!==s);u===null?o=n:u.next=a,ro(n,e.memoizedState)||(si=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ir.lanes|=s,eh|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function PA(t){var e=ms(),r=e.queue;if(r===null)throw Error(me(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ro(s,e.memoizedState)||(si=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function E6(){}function x6(t,e){var r=ir,n=ms(),i=e(),s=!ro(n.memoizedState,i);if(s&&(n.memoizedState=i,si=!0),n=n.queue,BR(T6.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Yy(9,A6.bind(null,r,n,i,e),void 0,null),Zr===null)throw Error(me(349));Jc&30||S6(r,e,i)}return i}function S6(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function A6(t,e,r,n){e.value=r,e.getSnapshot=n,C6(e)&&I6(t)}function T6(t,e,r){return r(function(){C6(e)&&I6(t)})}function C6(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ro(t,r)}catch{return!0}}function I6(t){var e=Qa(t,1);e!==null&&Zs(e,t,1,-1)}function b3(t){var e=jo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:t},e.queue=t,t=t.dispatch=lK.bind(null,ir,t),[e.memoizedState,t]}function Yy(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function O6(){return ms().memoizedState}function Eb(t,e,r,n){var i=jo();ir.flags|=t,i.memoizedState=Yy(1|e,r,void 0,n===void 0?null:n)}function zw(t,e,r,n){var i=ms();n=n===void 0?null:n;var s=void 0;if(Ir!==null){var o=Ir.memoizedState;if(s=o.destroy,n!==null&&NR(n,o.deps)){i.memoizedState=Yy(e,r,s,n);return}}ir.flags|=t,i.memoizedState=Yy(1|e,r,s,n)}function w3(t,e){return Eb(8390656,8,t,e)}function BR(t,e){return zw(2048,8,t,e)}function R6(t,e){return zw(4,2,t,e)}function P6(t,e){return zw(4,4,t,e)}function k6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function N6(t,e,r){return r=r!=null?r.concat([t]):null,zw(4,4,k6.bind(null,e,t),r)}function LR(){}function M6(t,e){var r=ms();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&NR(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function D6(t,e){var r=ms();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&NR(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function B6(t,e,r){return Jc&21?(ro(r,e)||(r=U5(),ir.lanes|=r,eh|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,si=!0),t.memoizedState=r)}function aK(t,e){var r=Tt;Tt=r!==0&&4>r?r:4,t(!0);var n=OA.transition;OA.transition={};try{t(!1),e()}finally{Tt=r,OA.transition=n}}function L6(){return ms().memoizedState}function uK(t,e,r){var n=el(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$6(t))U6(e,r);else if(r=m6(t,e,r,n),r!==null){var i=zn();Zs(r,t,n,i),F6(r,e,n)}}function lK(t,e,r){var n=el(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($6(t))U6(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ro(a,o)){var u=e.interleaved;u===null?(i.next=i,IR(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=m6(t,e,i,n),r!==null&&(i=zn(),Zs(r,t,n,i),F6(r,e,n))}}function $6(t){var e=t.alternate;return t===ir||e!==null&&e===ir}function U6(t,e){gy=h1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function F6(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pR(t,r)}}var d1={readContext:ps,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},cK={readContext:ps,useCallback:function(t,e){return jo().memoizedState=[t,e===void 0?null:e],t},useContext:ps,useEffect:w3,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Eb(4194308,4,k6.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Eb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eb(4,2,t,e)},useMemo:function(t,e){var r=jo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uK.bind(null,ir,t),[n.memoizedState,t]},useRef:function(t){var e=jo();return t={current:t},e.memoizedState=t},useState:b3,useDebugValue:LR,useDeferredValue:function(t){return jo().memoizedState=t},useTransition:function(){var t=b3(!1),e=t[0];return t=aK.bind(null,t[1]),jo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ir,i=jo();if(Qt){if(r===void 0)throw Error(me(407));r=r()}else{if(r=e(),Zr===null)throw Error(me(349));Jc&30||S6(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,w3(T6.bind(null,n,s,t),[t]),n.flags|=2048,Yy(9,A6.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=jo(),e=Zr.identifierPrefix;if(Qt){var r=ja,n=Fa;r=(n&~(1<<32-qs(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zy++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=oK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hK={readContext:ps,useCallback:M6,useContext:ps,useEffect:BR,useImperativeHandle:N6,useInsertionEffect:R6,useLayoutEffect:P6,useMemo:D6,useReducer:RA,useRef:O6,useState:function(){return RA(Xy)},useDebugValue:LR,useDeferredValue:function(t){var e=ms();return B6(e,Ir.memoizedState,t)},useTransition:function(){var t=RA(Xy)[0],e=ms().memoizedState;return[t,e]},useMutableSource:E6,useSyncExternalStore:x6,useId:L6,unstable_isNewReconciler:!1},dK={readContext:ps,useCallback:M6,useContext:ps,useEffect:BR,useImperativeHandle:N6,useInsertionEffect:R6,useLayoutEffect:P6,useMemo:D6,useReducer:PA,useRef:O6,useState:function(){return PA(Xy)},useDebugValue:LR,useDeferredValue:function(t){var e=ms();return Ir===null?e.memoizedState=t:B6(e,Ir.memoizedState,t)},useTransition:function(){var t=PA(Xy)[0],e=ms().memoizedState;return[t,e]},useMutableSource:E6,useSyncExternalStore:x6,useId:L6,unstable_isNewReconciler:!1};function Bf(t,e){try{var r="",n=e;do r+=FY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function kA(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mI(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var fK=typeof WeakMap=="function"?WeakMap:Map;function j6(t,e,r){r=Va(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){p1||(p1=!0,AI=n),mI(t,e)},r}function z6(t,e,r){r=Va(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){mI(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mI(t,e),typeof n!="function"&&(Ju===null?Ju=new Set([this]):Ju.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function E3(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new fK;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=CK.bind(null,t,e,r),e.then(t,t))}function x3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S3(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Va(-1,1),e.tag=2,Ku(r,e,1))),r.lanes|=1),t)}var pK=ou.ReactCurrentOwner,si=!1;function Nn(t,e,r,n){e.child=t===null?b6(e,null,r,n):Mf(e,t.child,r,n)}function A3(t,e,r,n,i){r=r.render;var s=e.ref;return yf(e,i),n=MR(t,e,r,n,s,i),r=DR(),t!==null&&!si?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i)):(Qt&&r&&ER(e),e.flags|=1,Nn(t,e,n,i),e.child)}function T3(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!GR(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,H6(t,e,s,n,i)):(t=Tb(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:zy,r(o,n)&&t.ref===e.ref)return Ka(t,e,i)}return e.flags|=1,t=tl(s,n),t.ref=e.ref,t.return=e,e.child=t}function H6(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(zy(s,n)&&t.ref===e.ref)if(si=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(si=!0);else return e.lanes=t.lanes,Ka(t,e,i)}return yI(t,e,r,n,i)}function V6(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Yd,Ei),Ei|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Nt(Yd,Ei),Ei|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Nt(Yd,Ei),Ei|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Nt(Yd,Ei),Ei|=n;return Nn(t,e,i,r),e.child}function G6(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function yI(t,e,r,n,i){var s=hi(r)?Qc:wn.current;return s=kf(e,s),yf(e,i),r=MR(t,e,r,n,s,i),n=DR(),t!==null&&!si?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ka(t,e,i)):(Qt&&n&&ER(e),e.flags|=1,Nn(t,e,r,i),e.child)}function C3(t,e,r,n,i){if(hi(r)){var s=!0;i1(e)}else s=!1;if(yf(e,i),e.stateNode===null)xb(t,e),v6(e,r,n),pI(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=ps(l):(l=hi(r)?Qc:wn.current,l=kf(e,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==l)&&v3(e,o,n,l),Iu=!1;var p=e.memoizedState;o.state=p,l1(e,n,o,i),u=e.memoizedState,a!==n||p!==u||ci.current||Iu?(typeof c=="function"&&(fI(e,r,c,n),u=e.memoizedState),(a=Iu||g3(e,r,a,n,p,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,y6(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Bs(e.type,a),o.props=l,f=e.pendingProps,p=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=ps(u):(u=hi(r)?Qc:wn.current,u=kf(e,u));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&v3(e,o,n,u),Iu=!1,p=e.memoizedState,o.state=p,l1(e,n,o,i);var y=e.memoizedState;a!==f||p!==y||ci.current||Iu?(typeof m=="function"&&(fI(e,r,m,n),y=e.memoizedState),(l=Iu||g3(e,r,l,n,p,y,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return gI(t,e,r,n,s,i)}function gI(t,e,r,n,i,s){G6(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&d3(e,r,!1),Ka(t,e,s);n=e.stateNode,pK.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Mf(e,t.child,null,s),e.child=Mf(e,null,a,s)):Nn(t,e,a,s),e.memoizedState=n.state,i&&d3(e,r,!0),e.child}function W6(t){var e=t.stateNode;e.pendingContext?h3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h3(t,e.context,!1),RR(t,e.containerInfo)}function I3(t,e,r,n,i){return Nf(),SR(i),e.flags|=256,Nn(t,e,r,n),e.child}var vI={dehydrated:null,treeContext:null,retryLane:0};function _I(t){return{baseLanes:t,cachePool:null,transitions:null}}function q6(t,e,r){var n=e.pendingProps,i=rr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Nt(rr,i&1),t===null)return hI(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gw(o,n,0,null),t=Fc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_I(r),e.memoizedState=vI,t):$R(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mK(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=tl(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=tl(a,s):(s=Fc(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?_I(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=vI,n}return s=t.child,t=s.sibling,n=tl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $R(t,e){return e=Gw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function s0(t,e,r,n){return n!==null&&SR(n),Mf(e,t.child,null,r),t=$R(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mK(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=kA(Error(me(422))),s0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Gw({mode:"visible",children:n.children},i,0,null),s=Fc(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Mf(e,t.child,null,o),e.child.memoizedState=_I(o),e.memoizedState=vI,s);if(!(e.mode&1))return s0(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(me(419)),n=kA(s,n,void 0),s0(t,e,o,n)}if(a=(o&t.childLanes)!==0,si||a){if(n=Zr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qa(t,i),Zs(n,t,i,-1))}return VR(),n=kA(Error(me(421))),s0(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=IK.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ci=Qu(i.nextSibling),Ri=e,Qt=!0,Fs=null,t!==null&&(es[ts++]=Fa,es[ts++]=ja,es[ts++]=Kc,Fa=t.id,ja=t.overflow,Kc=e),e=$R(e,n.children),e.flags|=4096,e)}function O3(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),dI(t.return,e,r)}function NA(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Z6(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Nn(t,e,n.children,r),n=rr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O3(t,r,e);else if(t.tag===19)O3(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Nt(rr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&c1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),NA(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&c1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}NA(e,!0,r,null,s);break;case"together":NA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ka(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),eh|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,r=tl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=tl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function yK(t,e,r){switch(e.tag){case 3:W6(e),Nf();break;case 5:w6(e);break;case 1:hi(e.type)&&i1(e);break;case 4:RR(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Nt(a1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Nt(rr,rr.current&1),e.flags|=128,null):r&e.child.childLanes?q6(t,e,r):(Nt(rr,rr.current&1),t=Ka(t,e,r),t!==null?t.sibling:null);Nt(rr,rr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Z6(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Nt(rr,rr.current),n)break;return null;case 22:case 23:return e.lanes=0,V6(t,e,r)}return Ka(t,e,r)}var X6,bI,Y6,Q6;X6=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bI=function(){};Y6=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ic(Jo.current);var s=null;switch(r){case"input":i=zC(t,i),n=zC(t,n),s=[];break;case"select":i=sr({},i,{value:void 0}),n=sr({},n,{value:void 0}),s=[];break;case"textarea":i=GC(t,i),n=GC(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=r1)}qC(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Dy.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var u=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Dy.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&$t("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};Q6=function(t,e,r,n){r!==n&&(e.flags|=4)};function Am(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function gK(t,e,r){var n=e.pendingProps;switch(xR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return hi(e.type)&&n1(),mn(e),null;case 3:return n=e.stateNode,Df(),zt(ci),zt(wn),kR(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(n0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fs!==null&&(II(Fs),Fs=null))),bI(t,e),mn(e),null;case 5:PR(e);var i=Ic(qy.current);if(r=e.type,t!==null&&e.stateNode!=null)Y6(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(me(166));return mn(e),null}if(t=Ic(Jo.current),n0(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Wo]=e,n[Gy]=s,t=(e.mode&1)!==0,r){case"dialog":$t("cancel",n),$t("close",n);break;case"iframe":case"object":case"embed":$t("load",n);break;case"video":case"audio":for(i=0;i<Zm.length;i++)$t(Zm[i],n);break;case"source":$t("error",n);break;case"img":case"image":case"link":$t("error",n),$t("load",n);break;case"details":$t("toggle",n);break;case"input":$B(n,s),$t("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},$t("invalid",n);break;case"textarea":FB(n,s),$t("invalid",n)}qC(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&r0(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&r0(n.textContent,a,t),i=["children",""+a]):Dy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$t("scroll",n)}switch(r){case"input":Z_(n),UB(n,s,!0);break;case"textarea":Z_(n),jB(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=r1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=S5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Wo]=e,t[Gy]=n,X6(t,e,!1,!1),e.stateNode=t;e:{switch(o=ZC(r,n),r){case"dialog":$t("cancel",t),$t("close",t),i=n;break;case"iframe":case"object":case"embed":$t("load",t),i=n;break;case"video":case"audio":for(i=0;i<Zm.length;i++)$t(Zm[i],t);i=n;break;case"source":$t("error",t),i=n;break;case"img":case"image":case"link":$t("error",t),$t("load",t),i=n;break;case"details":$t("toggle",t),i=n;break;case"input":$B(t,n),i=zC(t,n),$t("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=sr({},n,{value:void 0}),$t("invalid",t);break;case"textarea":FB(t,n),i=GC(t,n),$t("invalid",t);break;default:i=n}qC(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?C5(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&A5(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&By(t,u):typeof u=="number"&&By(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Dy.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$t("scroll",t):u!=null&&uR(t,s,u,o))}switch(r){case"input":Z_(t),UB(t,n,!1);break;case"textarea":Z_(t),jB(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ll(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?df(t,!!n.multiple,s,!1):n.defaultValue!=null&&df(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=r1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)Q6(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(me(166));if(r=Ic(qy.current),Ic(Jo.current),n0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Wo]=e,(s=n.nodeValue!==r)&&(t=Ri,t!==null))switch(t.tag){case 3:r0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&r0(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wo]=e,e.stateNode=n}return mn(e),null;case 13:if(zt(rr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Ci!==null&&e.mode&1&&!(e.flags&128))p6(),Nf(),e.flags|=98560,s=!1;else if(s=n0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(me(317));s[Wo]=e}else Nf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),s=!1}else Fs!==null&&(II(Fs),Fs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rr.current&1?Or===0&&(Or=3):VR())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return Df(),bI(t,e),t===null&&Hy(e.stateNode.containerInfo),mn(e),null;case 10:return CR(e.type._context),mn(e),null;case 17:return hi(e.type)&&n1(),mn(e),null;case 19:if(zt(rr),s=e.memoizedState,s===null)return mn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Am(s,!1);else{if(Or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=c1(t),o!==null){for(e.flags|=128,Am(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Nt(rr,rr.current&1|2),e.child}t=t.sibling}s.tail!==null&&mr()>Lf&&(e.flags|=128,n=!0,Am(s,!1),e.lanes=4194304)}else{if(!n)if(t=c1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Am(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qt)return mn(e),null}else 2*mr()-s.renderingStartTime>Lf&&r!==1073741824&&(e.flags|=128,n=!0,Am(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mr(),e.sibling=null,r=rr.current,Nt(rr,n?r&1|2:r&1),e):(mn(e),null);case 22:case 23:return HR(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ei&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(me(156,e.tag))}function vK(t,e){switch(xR(e),e.tag){case 1:return hi(e.type)&&n1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Df(),zt(ci),zt(wn),kR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return PR(e),null;case 13:if(zt(rr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));Nf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(rr),null;case 4:return Df(),null;case 10:return CR(e.type._context),null;case 22:case 23:return HR(),null;case 24:return null;default:return null}}var o0=!1,bn=!1,_K=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Xd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(t,e,n)}else r.current=null}function wI(t,e,r){try{r()}catch(n){ur(t,e,n)}}var R3=!1;function bK(t,e){if(iI=Jb,t=t6(),wR(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===r&&++l===i&&(a=o),p===s&&++c===n&&(u=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(sI={focusedElem:t,selectionRange:r},Jb=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,b=e.stateNode,_=b.getSnapshotBeforeUpdate(e.elementType===e.type?g:Bs(e.type,g),w);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(me(163))}}catch(x){ur(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return y=R3,R3=!1,y}function vy(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wI(e,r,s)}i=i.next}while(i!==n)}}function Hw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function EI(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function K6(t){var e=t.alternate;e!==null&&(t.alternate=null,K6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wo],delete e[Gy],delete e[uI],delete e[rK],delete e[nK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J6(t){return t.tag===5||t.tag===3||t.tag===4}function P3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xI(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=r1));else if(n!==4&&(t=t.child,t!==null))for(xI(t,e,r),t=t.sibling;t!==null;)xI(t,e,r),t=t.sibling}function SI(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(SI(t,e,r),t=t.sibling;t!==null;)SI(t,e,r),t=t.sibling}var Kr=null,Us=!1;function bu(t,e,r){for(r=r.child;r!==null;)e8(t,e,r),r=r.sibling}function e8(t,e,r){if(Ko&&typeof Ko.onCommitFiberUnmount=="function")try{Ko.onCommitFiberUnmount(Dw,r)}catch{}switch(r.tag){case 5:bn||Xd(r,e);case 6:var n=Kr,i=Us;Kr=null,bu(t,e,r),Kr=n,Us=i,Kr!==null&&(Us?(t=Kr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Kr.removeChild(r.stateNode));break;case 18:Kr!==null&&(Us?(t=Kr,r=r.stateNode,t.nodeType===8?TA(t.parentNode,r):t.nodeType===1&&TA(t,r),Fy(t)):TA(Kr,r.stateNode));break;case 4:n=Kr,i=Us,Kr=r.stateNode.containerInfo,Us=!0,bu(t,e,r),Kr=n,Us=i;break;case 0:case 11:case 14:case 15:if(!bn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wI(r,e,o),i=i.next}while(i!==n)}bu(t,e,r);break;case 1:if(!bn&&(Xd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ur(r,e,a)}bu(t,e,r);break;case 21:bu(t,e,r);break;case 22:r.mode&1?(bn=(n=bn)||r.memoizedState!==null,bu(t,e,r),bn=n):bu(t,e,r);break;default:bu(t,e,r)}}function k3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _K),e.forEach(function(n){var i=OK.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Rs(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kr=a.stateNode,Us=!1;break e;case 3:Kr=a.stateNode.containerInfo,Us=!0;break e;case 4:Kr=a.stateNode.containerInfo,Us=!0;break e}a=a.return}if(Kr===null)throw Error(me(160));e8(s,o,i),Kr=null,Us=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ur(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t8(e,t),e=e.sibling}function t8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rs(e,t),ko(t),n&4){try{vy(3,t,t.return),Hw(3,t)}catch(g){ur(t,t.return,g)}try{vy(5,t,t.return)}catch(g){ur(t,t.return,g)}}break;case 1:Rs(e,t),ko(t),n&512&&r!==null&&Xd(r,r.return);break;case 5:if(Rs(e,t),ko(t),n&512&&r!==null&&Xd(r,r.return),t.flags&32){var i=t.stateNode;try{By(i,"")}catch(g){ur(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&E5(i,s),ZC(a,o);var l=ZC(a,s);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?C5(i,f):c==="dangerouslySetInnerHTML"?A5(i,f):c==="children"?By(i,f):uR(i,c,f,l)}switch(a){case"input":HC(i,s);break;case"textarea":x5(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?df(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?df(i,!!s.multiple,s.defaultValue,!0):df(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gy]=s}catch(g){ur(t,t.return,g)}}break;case 6:if(Rs(e,t),ko(t),n&4){if(t.stateNode===null)throw Error(me(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){ur(t,t.return,g)}}break;case 3:if(Rs(e,t),ko(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fy(e.containerInfo)}catch(g){ur(t,t.return,g)}break;case 4:Rs(e,t),ko(t);break;case 13:Rs(e,t),ko(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jR=mr())),n&4&&k3(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(bn=(l=bn)||c,Rs(e,t),bn=l):Rs(e,t),ko(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(Pe=t,c=t.child;c!==null;){for(f=Pe=c;Pe!==null;){switch(p=Pe,m=p.child,p.tag){case 0:case 11:case 14:case 15:vy(4,p,p.return);break;case 1:Xd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){ur(n,r,g)}}break;case 5:Xd(p,p.return);break;case 22:if(p.memoizedState!==null){M3(f);continue}}m!==null?(m.return=p,Pe=m):M3(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=T5("display",o))}catch(g){ur(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){ur(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rs(e,t),ko(t),n&4&&k3(t);break;case 21:break;default:Rs(e,t),ko(t)}}function ko(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(J6(r)){var n=r;break e}r=r.return}throw Error(me(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(By(i,""),n.flags&=-33);var s=P3(t);SI(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=P3(t);xI(t,a,o);break;default:throw Error(me(161))}}catch(u){ur(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wK(t,e,r){Pe=t,r8(t)}function r8(t,e,r){for(var n=(t.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||o0;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||bn;a=o0;var l=bn;if(o0=o,(bn=u)&&!l)for(Pe=i;Pe!==null;)o=Pe,u=o.child,o.tag===22&&o.memoizedState!==null?D3(i):u!==null?(u.return=o,Pe=u):D3(i);for(;s!==null;)Pe=s,r8(s),s=s.sibling;Pe=i,o0=a,bn=l}N3(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):N3(t)}}function N3(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||Hw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!bn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Bs(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&y3(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}y3(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Fy(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(me(163))}bn||e.flags&512&&EI(e)}catch(p){ur(e,e.return,p)}}if(e===t){Pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function M3(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function D3(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hw(4,e)}catch(u){ur(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){ur(e,i,u)}}var s=e.return;try{EI(e)}catch(u){ur(e,s,u)}break;case 5:var o=e.return;try{EI(e)}catch(u){ur(e,o,u)}}}catch(u){ur(e,e.return,u)}if(e===t){Pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Pe=a;break}Pe=e.return}}var EK=Math.ceil,f1=ou.ReactCurrentDispatcher,UR=ou.ReactCurrentOwner,ds=ou.ReactCurrentBatchConfig,gt=0,Zr=null,br=null,sn=0,Ei=0,Yd=Pl(0),Or=0,Qy=null,eh=0,Vw=0,FR=0,_y=null,ii=null,jR=0,Lf=1/0,Oa=null,p1=!1,AI=null,Ju=null,a0=!1,$u=null,m1=0,by=0,TI=null,Sb=-1,Ab=0;function zn(){return gt&6?mr():Sb!==-1?Sb:Sb=mr()}function el(t){return t.mode&1?gt&2&&sn!==0?sn&-sn:sK.transition!==null?(Ab===0&&(Ab=U5()),Ab):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:W5(t.type)),t):1}function Zs(t,e,r,n){if(50<by)throw by=0,TI=null,Error(me(185));Zg(t,r,n),(!(gt&2)||t!==Zr)&&(t===Zr&&(!(gt&2)&&(Vw|=r),Or===4&&Mu(t,sn)),di(t,n),r===1&&gt===0&&!(e.mode&1)&&(Lf=mr()+500,Fw&&kl()))}function di(t,e){var r=t.callbackNode;sQ(t,e);var n=Kb(t,t===Zr?sn:0);if(n===0)r!==null&&VB(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&VB(r),e===1)t.tag===0?iK(B3.bind(null,t)):h6(B3.bind(null,t)),eK(function(){!(gt&6)&&kl()}),r=null;else{switch(F5(n)){case 1:r=fR;break;case 4:r=L5;break;case 16:r=Qb;break;case 536870912:r=$5;break;default:r=Qb}r=c8(r,n8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function n8(t,e){if(Sb=-1,Ab=0,gt&6)throw Error(me(327));var r=t.callbackNode;if(gf()&&t.callbackNode!==r)return null;var n=Kb(t,t===Zr?sn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=y1(t,n);else{e=n;var i=gt;gt|=2;var s=s8();(Zr!==t||sn!==e)&&(Oa=null,Lf=mr()+500,Uc(t,e));do try{AK();break}catch(a){i8(t,a)}while(1);TR(),f1.current=s,gt=i,br!==null?e=0:(Zr=null,sn=0,e=Or)}if(e!==0){if(e===2&&(i=JC(t),i!==0&&(n=i,e=CI(t,i))),e===1)throw r=Qy,Uc(t,0),Mu(t,n),di(t,mr()),r;if(e===6)Mu(t,n);else{if(i=t.current.alternate,!(n&30)&&!xK(i)&&(e=y1(t,n),e===2&&(s=JC(t),s!==0&&(n=s,e=CI(t,s))),e===1))throw r=Qy,Uc(t,0),Mu(t,n),di(t,mr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(me(345));case 2:cc(t,ii,Oa);break;case 3:if(Mu(t,n),(n&130023424)===n&&(e=jR+500-mr(),10<e)){if(Kb(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aI(cc.bind(null,t,ii,Oa),e);break}cc(t,ii,Oa);break;case 4:if(Mu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-qs(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=mr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EK(n/1960))-n,10<n){t.timeoutHandle=aI(cc.bind(null,t,ii,Oa),n);break}cc(t,ii,Oa);break;case 5:cc(t,ii,Oa);break;default:throw Error(me(329))}}}return di(t,mr()),t.callbackNode===r?n8.bind(null,t):null}function CI(t,e){var r=_y;return t.current.memoizedState.isDehydrated&&(Uc(t,e).flags|=256),t=y1(t,e),t!==2&&(e=ii,ii=r,e!==null&&II(e)),t}function II(t){ii===null?ii=t:ii.push.apply(ii,t)}function xK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ro(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mu(t,e){for(e&=~FR,e&=~Vw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-qs(e),n=1<<r;t[r]=-1,e&=~n}}function B3(t){if(gt&6)throw Error(me(327));gf();var e=Kb(t,0);if(!(e&1))return di(t,mr()),null;var r=y1(t,e);if(t.tag!==0&&r===2){var n=JC(t);n!==0&&(e=n,r=CI(t,n))}if(r===1)throw r=Qy,Uc(t,0),Mu(t,e),di(t,mr()),r;if(r===6)throw Error(me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cc(t,ii,Oa),di(t,mr()),null}function zR(t,e){var r=gt;gt|=1;try{return t(e)}finally{gt=r,gt===0&&(Lf=mr()+500,Fw&&kl())}}function th(t){$u!==null&&$u.tag===0&&!(gt&6)&&gf();var e=gt;gt|=1;var r=ds.transition,n=Tt;try{if(ds.transition=null,Tt=1,t)return t()}finally{Tt=n,ds.transition=r,gt=e,!(gt&6)&&kl()}}function HR(){Ei=Yd.current,zt(Yd)}function Uc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,JQ(r)),br!==null)for(r=br.return;r!==null;){var n=r;switch(xR(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&n1();break;case 3:Df(),zt(ci),zt(wn),kR();break;case 5:PR(n);break;case 4:Df();break;case 13:zt(rr);break;case 19:zt(rr);break;case 10:CR(n.type._context);break;case 22:case 23:HR()}r=r.return}if(Zr=t,br=t=tl(t.current,null),sn=Ei=e,Or=0,Qy=null,FR=Vw=eh=0,ii=_y=null,Cc!==null){for(e=0;e<Cc.length;e++)if(r=Cc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Cc=null}return t}function i8(t,e){do{var r=br;try{if(TR(),wb.current=d1,h1){for(var n=ir.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}h1=!1}if(Jc=0,zr=Ir=ir=null,gy=!1,Zy=0,UR.current=null,r===null||r.return===null){Or=1,Qy=e,br=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=sn,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=x3(o);if(m!==null){m.flags&=-257,S3(m,o,a,s,e),m.mode&1&&E3(s,l,e),e=m,u=l;var y=e.updateQueue;if(y===null){var g=new Set;g.add(u),e.updateQueue=g}else y.add(u);break e}else{if(!(e&1)){E3(s,l,e),VR();break e}u=Error(me(426))}}else if(Qt&&a.mode&1){var w=x3(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),S3(w,o,a,s,e),SR(Bf(u,a));break e}}s=u=Bf(u,a),Or!==4&&(Or=2),_y===null?_y=[s]:_y.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=j6(s,u,e);m3(s,b);break e;case 1:a=u;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ju===null||!Ju.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=z6(s,a,e);m3(s,x);break e}}s=s.return}while(s!==null)}a8(r)}catch(N){e=N,br===r&&r!==null&&(br=r=r.return);continue}break}while(1)}function s8(){var t=f1.current;return f1.current=d1,t===null?d1:t}function VR(){(Or===0||Or===3||Or===2)&&(Or=4),Zr===null||!(eh&268435455)&&!(Vw&268435455)||Mu(Zr,sn)}function y1(t,e){var r=gt;gt|=2;var n=s8();(Zr!==t||sn!==e)&&(Oa=null,Uc(t,e));do try{SK();break}catch(i){i8(t,i)}while(1);if(TR(),gt=r,f1.current=n,br!==null)throw Error(me(261));return Zr=null,sn=0,Or}function SK(){for(;br!==null;)o8(br)}function AK(){for(;br!==null&&!YY();)o8(br)}function o8(t){var e=l8(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?a8(t):br=e,UR.current=null}function a8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=vK(r,e),r!==null){r.flags&=32767,br=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Or=6,br=null;return}}else if(r=gK(r,e,Ei),r!==null){br=r;return}if(e=e.sibling,e!==null){br=e;return}br=e=t}while(e!==null);Or===0&&(Or=5)}function cc(t,e,r){var n=Tt,i=ds.transition;try{ds.transition=null,Tt=1,TK(t,e,r,n)}finally{ds.transition=i,Tt=n}return null}function TK(t,e,r,n){do gf();while($u!==null);if(gt&6)throw Error(me(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(me(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(oQ(t,s),t===Zr&&(br=Zr=null,sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||a0||(a0=!0,c8(Qb,function(){return gf(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ds.transition,ds.transition=null;var o=Tt;Tt=1;var a=gt;gt|=4,UR.current=null,bK(t,r),t8(r,t),WQ(sI),Jb=!!iI,sI=iI=null,t.current=r,wK(r),QY(),gt=a,Tt=o,ds.transition=s}else t.current=r;if(a0&&(a0=!1,$u=t,m1=i),s=t.pendingLanes,s===0&&(Ju=null),eQ(r.stateNode),di(t,mr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(p1)throw p1=!1,t=AI,AI=null,t;return m1&1&&t.tag!==0&&gf(),s=t.pendingLanes,s&1?t===TI?by++:(by=0,TI=t):by=0,kl(),null}function gf(){if($u!==null){var t=F5(m1),e=ds.transition,r=Tt;try{if(ds.transition=null,Tt=16>t?16:t,$u===null)var n=!1;else{if(t=$u,$u=null,m1=0,gt&6)throw Error(me(331));var i=gt;for(gt|=4,Pe=t.current;Pe!==null;){var s=Pe,o=s.child;if(Pe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Pe=l;Pe!==null;){var c=Pe;switch(c.tag){case 0:case 11:case 15:vy(8,c,s)}var f=c.child;if(f!==null)f.return=c,Pe=f;else for(;Pe!==null;){c=Pe;var p=c.sibling,m=c.return;if(K6(c),c===l){Pe=null;break}if(p!==null){p.return=m,Pe=p;break}Pe=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Pe=o;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vy(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Pe=b;break e}Pe=s.return}}var _=t.current;for(Pe=_;Pe!==null;){o=Pe;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,Pe=E;else e:for(o=_;Pe!==null;){if(a=Pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hw(9,a)}}catch(N){ur(a,a.return,N)}if(a===o){Pe=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Pe=x;break e}Pe=a.return}}if(gt=i,kl(),Ko&&typeof Ko.onPostCommitFiberRoot=="function")try{Ko.onPostCommitFiberRoot(Dw,t)}catch{}n=!0}return n}finally{Tt=r,ds.transition=e}}return!1}function L3(t,e,r){e=Bf(r,e),e=j6(t,e,1),t=Ku(t,e,1),e=zn(),t!==null&&(Zg(t,1,e),di(t,e))}function ur(t,e,r){if(t.tag===3)L3(t,t,r);else for(;e!==null;){if(e.tag===3){L3(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ju===null||!Ju.has(n))){t=Bf(r,t),t=z6(e,t,1),e=Ku(e,t,1),t=zn(),e!==null&&(Zg(e,1,t),di(e,t));break}}e=e.return}}function CK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zn(),t.pingedLanes|=t.suspendedLanes&r,Zr===t&&(sn&r)===r&&(Or===4||Or===3&&(sn&130023424)===sn&&500>mr()-jR?Uc(t,0):FR|=r),di(t,e)}function u8(t,e){e===0&&(t.mode&1?(e=Q_,Q_<<=1,!(Q_&130023424)&&(Q_=4194304)):e=1);var r=zn();t=Qa(t,e),t!==null&&(Zg(t,e,r),di(t,r))}function IK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),u8(t,r)}function OK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(me(314))}n!==null&&n.delete(e),u8(t,r)}var l8;l8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ci.current)si=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return si=!1,yK(t,e,r);si=!!(t.flags&131072)}else si=!1,Qt&&e.flags&1048576&&d6(e,o1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;xb(t,e),t=e.pendingProps;var i=kf(e,wn.current);yf(e,r),i=MR(null,e,n,t,i,r);var s=DR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(n)?(s=!0,i1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OR(e),i.updater=jw,e.stateNode=i,i._reactInternals=e,pI(e,n,t,r),e=gI(null,e,n,!0,s,r)):(e.tag=0,Qt&&s&&ER(e),Nn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(xb(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=PK(n),t=Bs(n,t),i){case 0:e=yI(null,e,n,t,r);break e;case 1:e=C3(null,e,n,t,r);break e;case 11:e=A3(null,e,n,t,r);break e;case 14:e=T3(null,e,n,Bs(n.type,t),r);break e}throw Error(me(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bs(n,i),yI(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bs(n,i),C3(t,e,n,i,r);case 3:e:{if(W6(e),t===null)throw Error(me(387));n=e.pendingProps,s=e.memoizedState,i=s.element,y6(t,e),l1(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bf(Error(me(423)),e),e=I3(t,e,n,r,i);break e}else if(n!==i){i=Bf(Error(me(424)),e),e=I3(t,e,n,r,i);break e}else for(Ci=Qu(e.stateNode.containerInfo.firstChild),Ri=e,Qt=!0,Fs=null,r=b6(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nf(),n===i){e=Ka(t,e,r);break e}Nn(t,e,n,r)}e=e.child}return e;case 5:return w6(e),t===null&&hI(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,oI(n,i)?o=null:s!==null&&oI(n,s)&&(e.flags|=32),G6(t,e),Nn(t,e,o,r),e.child;case 6:return t===null&&hI(e),null;case 13:return q6(t,e,r);case 4:return RR(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Mf(e,null,n,r):Nn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bs(n,i),A3(t,e,n,i,r);case 7:return Nn(t,e,e.pendingProps,r),e.child;case 8:return Nn(t,e,e.pendingProps.children,r),e.child;case 12:return Nn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Nt(a1,n._currentValue),n._currentValue=o,s!==null)if(ro(s.value,o)){if(s.children===i.children&&!ci.current){e=Ka(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Va(-1,r&-r),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),dI(s.return,r,e),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(me(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),dI(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,yf(e,r),i=ps(i),n=n(i),e.flags|=1,Nn(t,e,n,r),e.child;case 14:return n=e.type,i=Bs(n,e.pendingProps),i=Bs(n.type,i),T3(t,e,n,i,r);case 15:return H6(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bs(n,i),xb(t,e),e.tag=1,hi(n)?(t=!0,i1(e)):t=!1,yf(e,r),v6(e,n,i),pI(e,n,i,r),gI(null,e,n,!0,t,r);case 19:return Z6(t,e,r);case 22:return V6(t,e,r)}throw Error(me(156,e.tag))};function c8(t,e){return B5(t,e)}function RK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,e,r,n){return new RK(t,e,r,n)}function GR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PK(t){if(typeof t=="function")return GR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cR)return 11;if(t===hR)return 14}return 2}function tl(t,e){var r=t.alternate;return r===null?(r=ss(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Tb(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")GR(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fd:return Fc(r.children,i,s,e);case lR:o=8,i|=8;break;case $C:return t=ss(12,r,e,i|2),t.elementType=$C,t.lanes=s,t;case UC:return t=ss(13,r,e,i),t.elementType=UC,t.lanes=s,t;case FC:return t=ss(19,r,e,i),t.elementType=FC,t.lanes=s,t;case _5:return Gw(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g5:o=10;break e;case v5:o=9;break e;case cR:o=11;break e;case hR:o=14;break e;case Cu:o=16,n=null;break e}throw Error(me(130,t==null?t:typeof t,""))}return e=ss(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Fc(t,e,r,n){return t=ss(7,t,n,e),t.lanes=r,t}function Gw(t,e,r,n){return t=ss(22,t,n,e),t.elementType=_5,t.lanes=r,t.stateNode={isHidden:!1},t}function MA(t,e,r){return t=ss(6,t,null,e),t.lanes=r,t}function DA(t,e,r){return e=ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kK(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mA(0),this.expirationTimes=mA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mA(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function WR(t,e,r,n,i,s,o,a,u){return t=new kK(t,e,r,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ss(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},OR(s),t}function NK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ud,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function h8(t){if(!t)return cl;t=t._reactInternals;e:{if(Ah(t)!==t||t.tag!==1)throw Error(me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(me(171))}if(t.tag===1){var r=t.type;if(hi(r))return c6(t,r,e)}return e}function d8(t,e,r,n,i,s,o,a,u){return t=WR(r,n,!0,t,i,s,o,a,u),t.context=h8(null),r=t.current,n=zn(),i=el(r),s=Va(n,i),s.callback=e??null,Ku(r,s,i),t.current.lanes=i,Zg(t,i,n),di(t,n),t}function Ww(t,e,r,n){var i=e.current,s=zn(),o=el(i);return r=h8(r),e.context===null?e.context=r:e.pendingContext=r,e=Va(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ku(i,e,o),t!==null&&(Zs(t,i,o,s),bb(t,i,o)),o}function g1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function qR(t,e){$3(t,e),(t=t.alternate)&&$3(t,e)}function MK(){return null}var f8=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZR(t){this._internalRoot=t}qw.prototype.render=ZR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));Ww(t,e,null,null)};qw.prototype.unmount=ZR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;th(function(){Ww(null,t,null,null)}),e[Ya]=null}};function qw(t){this._internalRoot=t}qw.prototype.unstable_scheduleHydration=function(t){if(t){var e=H5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Nu.length&&e!==0&&e<Nu[r].priority;r++);Nu.splice(r,0,t),r===0&&G5(t)}};function XR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function U3(){}function DK(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=g1(o);s.call(l)}}var o=d8(e,n,t,0,null,!1,!1,"",U3);return t._reactRootContainer=o,t[Ya]=o.current,Hy(t.nodeType===8?t.parentNode:t),th(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=g1(u);a.call(l)}}var u=WR(t,0,!1,null,null,!1,!1,"",U3);return t._reactRootContainer=u,t[Ya]=u.current,Hy(t.nodeType===8?t.parentNode:t),th(function(){Ww(e,u,r,n)}),u}function Xw(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=g1(o);a.call(u)}}Ww(e,o,t,i)}else o=DK(r,e,t,i,n);return g1(o)}j5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=qm(e.pendingLanes);r!==0&&(pR(e,r|1),di(e,mr()),!(gt&6)&&(Lf=mr()+500,kl()))}break;case 13:th(function(){var n=Qa(t,1);if(n!==null){var i=zn();Zs(n,t,1,i)}}),qR(t,1)}};mR=function(t){if(t.tag===13){var e=Qa(t,134217728);if(e!==null){var r=zn();Zs(e,t,134217728,r)}qR(t,134217728)}};z5=function(t){if(t.tag===13){var e=el(t),r=Qa(t,e);if(r!==null){var n=zn();Zs(r,t,e,n)}qR(t,e)}};H5=function(){return Tt};V5=function(t,e){var r=Tt;try{return Tt=t,e()}finally{Tt=r}};YC=function(t,e,r){switch(e){case"input":if(HC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Uw(n);if(!i)throw Error(me(90));w5(n),HC(n,i)}}}break;case"textarea":x5(t,r);break;case"select":e=r.value,e!=null&&df(t,!!r.multiple,e,!1)}};R5=zR;P5=th;var BK={usingClientEntryPoint:!1,Events:[Yg,Vd,Uw,I5,O5,zR]},Tm={findFiberByHostInstance:Tc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LK={bundleType:Tm.bundleType,version:Tm.version,rendererPackageName:Tm.rendererPackageName,rendererConfig:Tm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ou.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M5(t),t===null?null:t.stateNode},findFiberByHostInstance:Tm.findFiberByHostInstance||MK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{Dw=u0.inject(LK),Ko=u0}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BK;Bi.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XR(e))throw Error(me(200));return NK(t,e,null,r)};Bi.createRoot=function(t,e){if(!XR(t))throw Error(me(299));var r=!1,n="",i=f8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=WR(t,1,!1,null,null,r,!1,n,i),t[Ya]=e.current,Hy(t.nodeType===8?t.parentNode:t),new ZR(e)};Bi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=M5(e),t=t===null?null:t.stateNode,t};Bi.flushSync=function(t){return th(t)};Bi.hydrate=function(t,e,r){if(!Zw(e))throw Error(me(200));return Xw(null,t,e,!0,r)};Bi.hydrateRoot=function(t,e,r){if(!XR(t))throw Error(me(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=f8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=d8(e,null,t,1,r??null,i,!1,s,o),t[Ya]=e.current,Hy(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qw(e)};Bi.render=function(t,e,r){if(!Zw(e))throw Error(me(200));return Xw(null,t,e,!1,r)};Bi.unmountComponentAtNode=function(t){if(!Zw(t))throw Error(me(40));return t._reactRootContainer?(th(function(){Xw(null,null,t,!1,function(){t._reactRootContainer=null,t[Ya]=null})}),!0):!1};Bi.unstable_batchedUpdates=zR;Bi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Zw(r))throw Error(me(200));if(t==null||t._reactInternals===void 0)throw Error(me(38));return Xw(t,e,r,!1,n)};Bi.version="18.2.0-next-9e3b772b8-20220608";function p8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p8)}catch(t){console.error(t)}}p8(),d5.exports=Bi;var m8=d5.exports,F3=m8;BC.createRoot=F3.createRoot,BC.hydrateRoot=F3.hydrateRoot;var OI={exports:{}},rh={},y8={exports:{}},$K="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UK=$K,FK=UK;function g8(){}function v8(){}v8.resetWarningCache=g8;var jK=function(){function t(n,i,s,o,a,u){if(u!==FK){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:v8,resetWarningCache:g8};return r.PropTypes=r,r};y8.exports=jK();var YR=y8.exports;const Ut=Ol(YR);var RI={exports:{}},oo={},PI={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",n="contents",i=/input|select|textarea|button|object|iframe/;function s(f,p){return p.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function o(f){var p=f.offsetWidth<=0&&f.offsetHeight<=0;if(p&&!f.innerHTML)return!0;try{var m=window.getComputedStyle(f),y=m.getPropertyValue("display");return p?y!==n&&s(f,m):y===r}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var p=f,m=f.getRootNode&&f.getRootNode();p&&p!==document.body;){if(m&&p===m&&(p=m.host.parentNode),o(p))return!1;p=p.parentNode}return!0}function u(f,p){var m=f.nodeName.toLowerCase(),y=i.test(m)&&!f.disabled||m==="a"&&f.href||p;return y&&a(f)}function l(f){var p=f.getAttribute("tabindex");p===null&&(p=void 0);var m=isNaN(p);return(m||p>=0)&&u(f,!m)}function c(f){var p=[].slice.call(f.querySelectorAll("*"),0).reduce(function(m,y){return m.concat(y.shadowRoot?c(y.shadowRoot):[y])},[]);return p.filter(l)}t.exports=e.default})(PI,PI.exports);var _8=PI.exports;Object.defineProperty(oo,"__esModule",{value:!0});oo.resetState=GK;oo.log=WK;oo.handleBlur=Ky;oo.handleFocus=Jy;oo.markForFocusLater=qK;oo.returnFocus=ZK;oo.popWithoutFocus=XK;oo.setupScopedFocus=YK;oo.teardownScopedFocus=QK;var zK=_8,HK=VK(zK);function VK(t){return t&&t.__esModule?t:{default:t}}var $f=[],Qd=null,kI=!1;function GK(){$f=[]}function WK(){}function Ky(){kI=!0}function Jy(){if(kI){if(kI=!1,!Qd)return;setTimeout(function(){if(!Qd.contains(document.activeElement)){var t=(0,HK.default)(Qd)[0]||Qd;t.focus()}},0)}}function qK(){$f.push(document.activeElement)}function ZK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{$f.length!==0&&(e=$f.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function XK(){$f.length>0&&$f.pop()}function YK(t){Qd=t,window.addEventListener?(window.addEventListener("blur",Ky,!1),document.addEventListener("focus",Jy,!0)):(window.attachEvent("onBlur",Ky),document.attachEvent("onFocus",Jy))}function QK(){Qd=null,window.addEventListener?(window.removeEventListener("blur",Ky),document.removeEventListener("focus",Jy)):(window.detachEvent("onBlur",Ky),document.detachEvent("onFocus",Jy))}var NI={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=_8,n=i(r);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var l=(0,n.default)(a);if(!l.length){u.preventDefault();return}var c=void 0,f=u.shiftKey,p=l[0],m=l[l.length-1],y=s();if(a===y){if(!f)return;c=m}if(m===y&&!f&&(c=p),p===y&&f&&(c=m),c){u.preventDefault(),c.focus();return}var g=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),w=g!=null&&g[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(w){var b=l.indexOf(y);if(b>-1&&(b+=f?-1:1),c=l[b],typeof c>"u"){u.preventDefault(),c=f?m:p,c.focus();return}u.preventDefault(),c.focus()}}t.exports=e.default})(NI,NI.exports);var KK=NI.exports,ao={},JK=function(){},eJ=JK,Xs={},b8={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()})(b8);var tJ=b8.exports;Object.defineProperty(Xs,"__esModule",{value:!0});Xs.canUseDOM=Xs.SafeNodeList=Xs.SafeHTMLCollection=void 0;var rJ=tJ,nJ=iJ(rJ);function iJ(t){return t&&t.__esModule?t:{default:t}}var Yw=nJ.default,sJ=Yw.canUseDOM?window.HTMLElement:{};Xs.SafeHTMLCollection=Yw.canUseDOM?window.HTMLCollection:{};Xs.SafeNodeList=Yw.canUseDOM?window.NodeList:{};Xs.canUseDOM=Yw.canUseDOM;Xs.default=sJ;Object.defineProperty(ao,"__esModule",{value:!0});ao.resetState=cJ;ao.log=hJ;ao.assertNodeList=w8;ao.setElement=dJ;ao.validateElement=QR;ao.hide=fJ;ao.show=pJ;ao.documentNotReadyOrSSRTesting=mJ;var oJ=eJ,aJ=lJ(oJ),uJ=Xs;function lJ(t){return t&&t.__esModule?t:{default:t}}var Ji=null;function cJ(){Ji&&(Ji.removeAttribute?Ji.removeAttribute("aria-hidden"):Ji.length!=null?Ji.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Ji).forEach(function(t){return t.removeAttribute("aria-hidden")})),Ji=null}function hJ(){}function w8(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function dJ(t){var e=t;if(typeof e=="string"&&uJ.canUseDOM){var r=document.querySelectorAll(e);w8(r,e),e=r}return Ji=e||Ji,Ji}function QR(t){var e=t||Ji;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,aJ.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function fJ(t){var e=!0,r=!1,n=void 0;try{for(var i=QR(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){r=!0,n=a}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}function pJ(t){var e=!0,r=!1,n=void 0;try{for(var i=QR(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){r=!0,n=a}finally{try{!e&&i.return&&i.return()}finally{if(r)throw n}}}function mJ(){Ji=null}var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.resetState=yJ;gp.log=gJ;var wy={},Ey={};function j3(t,e){t.classList.remove(e)}function yJ(){var t=document.getElementsByTagName("html")[0];for(var e in wy)j3(t,wy[e]);var r=document.body;for(var n in Ey)j3(r,Ey[n]);wy={},Ey={}}function gJ(){}var vJ=function(e,r){return e[r]||(e[r]=0),e[r]+=1,r},_J=function(e,r){return e[r]&&(e[r]-=1),r},bJ=function(e,r,n){n.forEach(function(i){vJ(r,i),e.add(i)})},wJ=function(e,r,n){n.forEach(function(i){_J(r,i),r[i]===0&&e.remove(i)})};gp.add=function(e,r){return bJ(e.classList,e.nodeName.toLowerCase()=="html"?wy:Ey,r.split(" "))};gp.remove=function(e,r){return wJ(e.classList,e.nodeName.toLowerCase()=="html"?wy:Ey,r.split(" "))};var vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.log=xJ;vp.resetState=SJ;function EJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var E8=function t(){var e=this;EJ(this,t),this.register=function(r){e.openInstances.indexOf(r)===-1&&(e.openInstances.push(r),e.emit("register"))},this.deregister=function(r){var n=e.openInstances.indexOf(r);n!==-1&&(e.openInstances.splice(n,1),e.emit("deregister"))},this.subscribe=function(r){e.subscribers.push(r)},this.emit=function(r){e.subscribers.forEach(function(n){return n(r,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},v1=new E8;function xJ(){console.log("portalOpenInstances ----------"),console.log(v1.openInstances.length),v1.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function SJ(){v1=new E8}vp.default=v1;var KR={};Object.defineProperty(KR,"__esModule",{value:!0});KR.resetState=IJ;KR.log=OJ;var AJ=vp,TJ=CJ(AJ);function CJ(t){return t&&t.__esModule?t:{default:t}}var vn=void 0,Ls=void 0,jc=[];function IJ(){for(var t=[vn,Ls],e=0;e<t.length;e++){var r=t[e];r&&r.parentNode&&r.parentNode.removeChild(r)}vn=Ls=null,jc=[]}function OJ(){console.log("bodyTrap ----------"),console.log(jc.length);for(var t=[vn,Ls],e=0;e<t.length;e++){var r=t[e],n=r||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function z3(){jc.length!==0&&jc[jc.length-1].focusContent()}function RJ(t,e){!vn&&!Ls&&(vn=document.createElement("div"),vn.setAttribute("data-react-modal-body-trap",""),vn.style.position="absolute",vn.style.opacity="0",vn.setAttribute("tabindex","0"),vn.addEventListener("focus",z3),Ls=vn.cloneNode(),Ls.addEventListener("focus",z3)),jc=e,jc.length>0?(document.body.firstChild!==vn&&document.body.insertBefore(vn,document.body.firstChild),document.body.lastChild!==Ls&&document.body.appendChild(Ls)):(vn.parentElement&&vn.parentElement.removeChild(vn),Ls.parentElement&&Ls.parentElement.removeChild(Ls))}TJ.default.subscribe(RJ);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(j){for(var C=1;C<arguments.length;C++){var k=arguments[C];for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&(j[O]=k[O])}return j},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},i=function(){function j(C,k){for(var O=0;O<k.length;O++){var P=k[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,k,O){return k&&j(C.prototype,k),O&&j(C,O),C}}(),s=we,o=YR,a=N(o),u=oo,l=x(u),c=KK,f=N(c),p=ao,m=x(p),y=gp,g=x(y),w=Xs,b=N(w),_=vp,E=N(_);function x(j){if(j&&j.__esModule)return j;var C={};if(j!=null)for(var k in j)Object.prototype.hasOwnProperty.call(j,k)&&(C[k]=j[k]);return C.default=j,C}function N(j){return j&&j.__esModule?j:{default:j}}function M(j,C){if(!(j instanceof C))throw new TypeError("Cannot call a class as a function")}function R(j,C){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:j}function D(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);j.prototype=Object.create(C&&C.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(j,C):j.__proto__=C)}var W={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},G=function(C){return C.code==="Tab"||C.keyCode===9},F=function(C){return C.code==="Escape"||C.keyCode===27},X=0,B=function(j){D(C,j);function C(k){M(this,C);var O=R(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,k));return O.setOverlayRef=function(P){O.overlay=P,O.props.overlayRef&&O.props.overlayRef(P)},O.setContentRef=function(P){O.content=P,O.props.contentRef&&O.props.contentRef(P)},O.afterClose=function(){var P=O.props,U=P.appElement,$=P.ariaHideApp,z=P.htmlOpenClassName,q=P.bodyOpenClassName,ne=P.parentSelector,re=ne&&ne().ownerDocument||document;q&&g.remove(re.body,q),z&&g.remove(re.getElementsByTagName("html")[0],z),$&&X>0&&(X-=1,X===0&&m.show(U)),O.props.shouldFocusAfterRender&&(O.props.shouldReturnFocusAfterClose?(l.returnFocus(O.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),O.props.onAfterClose&&O.props.onAfterClose(),E.default.deregister(O)},O.open=function(){O.beforeOpen(),O.state.afterOpen&&O.state.beforeClose?(clearTimeout(O.closeTimer),O.setState({beforeClose:!1})):(O.props.shouldFocusAfterRender&&(l.setupScopedFocus(O.node),l.markForFocusLater()),O.setState({isOpen:!0},function(){O.openAnimationFrame=requestAnimationFrame(function(){O.setState({afterOpen:!0}),O.props.isOpen&&O.props.onAfterOpen&&O.props.onAfterOpen({overlayEl:O.overlay,contentEl:O.content})})}))},O.close=function(){O.props.closeTimeoutMS>0?O.closeWithTimeout():O.closeWithoutTimeout()},O.focusContent=function(){return O.content&&!O.contentHasFocus()&&O.content.focus({preventScroll:!0})},O.closeWithTimeout=function(){var P=Date.now()+O.props.closeTimeoutMS;O.setState({beforeClose:!0,closesAt:P},function(){O.closeTimer=setTimeout(O.closeWithoutTimeout,O.state.closesAt-Date.now())})},O.closeWithoutTimeout=function(){O.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},O.afterClose)},O.handleKeyDown=function(P){G(P)&&(0,f.default)(O.content,P),O.props.shouldCloseOnEsc&&F(P)&&(P.stopPropagation(),O.requestClose(P))},O.handleOverlayOnClick=function(P){O.shouldClose===null&&(O.shouldClose=!0),O.shouldClose&&O.props.shouldCloseOnOverlayClick&&(O.ownerHandlesClose()?O.requestClose(P):O.focusContent()),O.shouldClose=null},O.handleContentOnMouseUp=function(){O.shouldClose=!1},O.handleOverlayOnMouseDown=function(P){!O.props.shouldCloseOnOverlayClick&&P.target==O.overlay&&P.preventDefault()},O.handleContentOnClick=function(){O.shouldClose=!1},O.handleContentOnMouseDown=function(){O.shouldClose=!1},O.requestClose=function(P){return O.ownerHandlesClose()&&O.props.onRequestClose(P)},O.ownerHandlesClose=function(){return O.props.onRequestClose},O.shouldBeClosed=function(){return!O.state.isOpen&&!O.state.beforeClose},O.contentHasFocus=function(){return document.activeElement===O.content||O.content.contains(document.activeElement)},O.buildClassName=function(P,U){var $=(typeof U>"u"?"undefined":n(U))==="object"?U:{base:W[P],afterOpen:W[P]+"--after-open",beforeClose:W[P]+"--before-close"},z=$.base;return O.state.afterOpen&&(z=z+" "+$.afterOpen),O.state.beforeClose&&(z=z+" "+$.beforeClose),typeof U=="string"&&U?z+" "+U:z},O.attributesFromObject=function(P,U){return Object.keys(U).reduce(function($,z){return $[P+"-"+z]=U[z],$},{})},O.state={afterOpen:!1,beforeClose:!1},O.shouldClose=null,O.moveFromContentToOverlay=null,O}return i(C,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(O,P){this.props.isOpen&&!O.isOpen?this.open():!this.props.isOpen&&O.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!P.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var O=this.props,P=O.appElement,U=O.ariaHideApp,$=O.htmlOpenClassName,z=O.bodyOpenClassName,q=O.parentSelector,ne=q&&q().ownerDocument||document;z&&g.add(ne.body,z),$&&g.add(ne.getElementsByTagName("html")[0],$),U&&(X+=1,m.hide(P)),E.default.register(this)}},{key:"render",value:function(){var O=this.props,P=O.id,U=O.className,$=O.overlayClassName,z=O.defaultStyles,q=O.children,ne=U?{}:z.content,re=$?{}:z.overlay;if(this.shouldBeClosed())return null;var ae={ref:this.setOverlayRef,className:this.buildClassName("overlay",$),style:r({},re,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},oe=r({id:P,ref:this.setContentRef,style:r({},ne,this.props.style.content),className:this.buildClassName("content",U),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ve=this.props.contentElement(oe,q);return this.props.overlayElement(ae,ve)}}]),C}(s.Component);B.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},B.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(b.default),a.default.instanceOf(w.SafeHTMLCollection),a.default.instanceOf(w.SafeNodeList),a.default.arrayOf(a.default.instanceOf(b.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=B,t.exports=e.default})(RI,RI.exports);var PJ=RI.exports;function x8(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function S8(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function A8(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}x8.__suppressDeprecationWarning=!0;S8.__suppressDeprecationWarning=!0;A8.__suppressDeprecationWarning=!0;function kJ(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||n!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=x8,e.componentWillReceiveProps=S8),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=A8;var a=e.componentDidUpdate;e.componentDidUpdate=function(l,c,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,l,c,p)}}return t}const NJ=Object.freeze(Object.defineProperty({__proto__:null,polyfill:kJ},Symbol.toStringTag,{value:"Module"})),MJ=fa(NJ);Object.defineProperty(rh,"__esModule",{value:!0});rh.bodyOpenClassName=rh.portalClassName=void 0;var H3=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DJ=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),T8=we,_1=Kg(T8),BJ=m8,b1=Kg(BJ),LJ=YR,Ye=Kg(LJ),$J=PJ,V3=Kg($J),UJ=ao,FJ=zJ(UJ),Uu=Xs,G3=Kg(Uu),jJ=MJ;function zJ(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Kg(t){return t&&t.__esModule?t:{default:t}}function HJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W3(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function VJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var GJ=rh.portalClassName="ReactModalPortal",WJ=rh.bodyOpenClassName="ReactModal__Body--open",hc=Uu.canUseDOM&&b1.default.createPortal!==void 0,q3=function(e){return document.createElement(e)},Z3=function(){return hc?b1.default.createPortal:b1.default.unstable_renderSubtreeIntoContainer};function l0(t){return t()}var Jg=function(t){VJ(e,t);function e(){var r,n,i,s;HJ(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(n=(i=W3(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(a))),i),i.removePortal=function(){!hc&&b1.default.unmountComponentAtNode(i.node);var l=l0(i.props.parentSelector);l&&l.contains(i.node)?l.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(l){i.portal=l},i.renderPortal=function(l){var c=Z3(),f=c(i,_1.default.createElement(V3.default,H3({defaultStyles:e.defaultStyles},l)),i.node);i.portalRef(f)},n),W3(i,s)}return DJ(e,[{key:"componentDidMount",value:function(){if(Uu.canUseDOM){hc||(this.node=q3("div")),this.node.className=this.props.portalClassName;var n=l0(this.props.parentSelector);n.appendChild(this.node),!hc&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var i=l0(n.parentSelector),s=l0(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(n,i,s){if(Uu.canUseDOM){var o=this.props,a=o.isOpen,u=o.portalClassName;n.portalClassName!==u&&(this.node.className=u);var l=s.prevParent,c=s.nextParent;c!==l&&(l.removeChild(this.node),c.appendChild(this.node)),!(!n.isOpen&&!a)&&!hc&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Uu.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,i=Date.now(),s=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||i+this.props.closeTimeoutMS);s?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!Uu.canUseDOM||!hc)return null;!this.node&&hc&&(this.node=q3("div"));var n=Z3();return n(_1.default.createElement(V3.default,H3({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){FJ.setElement(n)}}]),e}(T8.Component);Jg.propTypes={isOpen:Ye.default.bool.isRequired,style:Ye.default.shape({content:Ye.default.object,overlay:Ye.default.object}),portalClassName:Ye.default.string,bodyOpenClassName:Ye.default.string,htmlOpenClassName:Ye.default.string,className:Ye.default.oneOfType([Ye.default.string,Ye.default.shape({base:Ye.default.string.isRequired,afterOpen:Ye.default.string.isRequired,beforeClose:Ye.default.string.isRequired})]),overlayClassName:Ye.default.oneOfType([Ye.default.string,Ye.default.shape({base:Ye.default.string.isRequired,afterOpen:Ye.default.string.isRequired,beforeClose:Ye.default.string.isRequired})]),appElement:Ye.default.oneOfType([Ye.default.instanceOf(G3.default),Ye.default.instanceOf(Uu.SafeHTMLCollection),Ye.default.instanceOf(Uu.SafeNodeList),Ye.default.arrayOf(Ye.default.instanceOf(G3.default))]),onAfterOpen:Ye.default.func,onRequestClose:Ye.default.func,closeTimeoutMS:Ye.default.number,ariaHideApp:Ye.default.bool,shouldFocusAfterRender:Ye.default.bool,shouldCloseOnOverlayClick:Ye.default.bool,shouldReturnFocusAfterClose:Ye.default.bool,preventScroll:Ye.default.bool,parentSelector:Ye.default.func,aria:Ye.default.object,data:Ye.default.object,role:Ye.default.string,contentLabel:Ye.default.string,shouldCloseOnEsc:Ye.default.bool,overlayRef:Ye.default.func,contentRef:Ye.default.func,id:Ye.default.string,overlayElement:Ye.default.func,contentElement:Ye.default.func};Jg.defaultProps={isOpen:!1,portalClassName:GJ,bodyOpenClassName:WJ,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,r){return _1.default.createElement("div",e,r)},contentElement:function(e,r){return _1.default.createElement("div",e,r)}};Jg.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,jJ.polyfill)(Jg);rh.default=Jg;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=rh,n=i(r);function i(s){return s&&s.__esModule?s:{default:s}}e.default=n.default,t.exports=e.default})(OI,OI.exports);var qJ=OI.exports;const ZJ=Ol(qJ);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XJ(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function eg(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function _s(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function uo(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function lo(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function ev(t,e="="){if(typeof e!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function C8(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function MI(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0;const i=[],s=Array.from(t);for(s.forEach(o=>{if(o<0||o>=e)throw new Error(`Wrong integer: ${o}`)});;){let o=0,a=!0;for(let u=n;u<s.length;u++){const l=s[u],c=e*o+l;if(!Number.isSafeInteger(c)||e*o/e!==o||c-l!==e*o)throw new Error("convertRadix: carry overflow");o=c%r;const f=Math.floor(c/r);if(s[u]=f,!Number.isSafeInteger(f)||f*r+o!==c)throw new Error("convertRadix: carry overflow");if(a)f?a=!1:n=u;else continue}if(i.push(o),a)break}for(let o=0;o<t.length-1&&t[o]===0;o++)i.push(0);return i.reverse()}const I8=(t,e)=>e?I8(e,t%e):t,w1=(t,e)=>t+(e-I8(t,e));function E1(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(w1(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${w1(e,r)}`);let i=0,s=0;const o=2**r-1,a=[];for(const u of t){if(u>=2**e)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)a.push((i>>s-r&o)>>>0);i&=2**s-1}if(i=i<<r-s&o,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&a.push(i>>>0),a}function O8(t){return{encode:e=>{if(!eg(e))throw new Error("radix.encode input should be Uint8Array");return MI(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(MI(e,t,2**8))}}}function pa(t,e=!1){if(t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(w1(8,t)>32||w1(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!eg(r))throw new Error("radix2.encode input should be Uint8Array");return E1(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(E1(r,t,8,e))}}}function X3(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function R8(t,e){if(typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!eg(r))throw new Error("checksum.encode: input should be Uint8Array");const n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!eg(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let o=0;o<t;o++)if(i[o]!==s[o])throw new Error("Invalid checksum");return n}}}const YJ={alphabet:uo,chain:_s,checksum:R8,convertRadix:MI,convertRadix2:E1,radix:O8,radix2:pa,join:lo,padding:ev},P8=_s(pa(4),uo("0123456789ABCDEF"),lo("")),k8=_s(pa(5),uo("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ev(5),lo("")),QJ=_s(pa(5),uo("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ev(5),lo("")),KJ=_s(pa(5),uo("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),lo(""),C8(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),Qw=_s(pa(6),uo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ev(6),lo("")),N8=_s(pa(6),uo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ev(6),lo("")),JJ=_s(pa(6),uo("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),lo("")),JR=t=>_s(O8(58),uo(t),lo("")),tg=JR("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),eee=JR("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),tee=JR("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Y3=[0,2,3,5,6,7,9,10,11],M8={encode(t){let e="";for(let r=0;r<t.length;r+=8){const n=t.subarray(r,r+8);e+=tg.encode(n).padStart(Y3[n.length],"1")}return e},decode(t){let e=[];for(let r=0;r<t.length;r+=11){const n=t.slice(r,r+11),i=Y3.indexOf(n.length),s=tg.decode(n);for(let o=0;o<s.length-i;o++)if(s[o]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(e)}},D8=t=>_s(R8(4,e=>t(t(e))),tg),ree=D8,DI=_s(uo("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),lo("")),Q3=[996825010,642813549,513874426,1027748829,705979059];function Cm(t){const e=t>>25;let r=(t&33554431)<<5;for(let n=0;n<Q3.length;n++)(e>>n&1)===1&&(r^=Q3[n]);return r}function K3(t,e,r=1){const n=t.length;let i=1;for(let s=0;s<n;s++){const o=t.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${t})`);i=Cm(i)^o>>5}i=Cm(i);for(let s=0;s<n;s++)i=Cm(i)^t.charCodeAt(s)&31;for(let s of e)i=Cm(i)^s;for(let s=0;s<6;s++)i=Cm(i);return i^=r,DI.encode(E1([i%2**30],30,5,!1))}function B8(t){const e=t==="bech32"?1:734539939,r=pa(5),n=r.decode,i=r.encode,s=X3(n);function o(c,f,p=90){if(typeof c!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof c}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);const m=c.length+7+f.length;if(p!==!1&&m>p)throw new TypeError(`Length ${m} exceeds limit ${p}`);const y=c.toLowerCase(),g=K3(y,f,e);return`${y}1${DI.encode(f)}${g}`}function a(c,f=90){if(typeof c!="string")throw new Error(`bech32.decode input should be string, not ${typeof c}`);if(c.length<8||f!==!1&&c.length>f)throw new TypeError(`Wrong string length: ${c.length} (${c}). Expected (8..${f})`);const p=c.toLowerCase();if(c!==p&&c!==c.toUpperCase())throw new Error("String must be lowercase or uppercase");c=p;const m=c.lastIndexOf("1");if(m===0||m===-1)throw new Error('Letter "1" must be present between prefix and data only');const y=c.slice(0,m),g=c.slice(m+1);if(g.length<6)throw new Error("Data must be at least 6 characters long");const w=DI.decode(g).slice(0,-6),b=K3(y,w,e);if(!g.endsWith(b))throw new Error(`Invalid checksum in ${c}: expected "${b}"`);return{prefix:y,words:w}}const u=X3(a);function l(c){const{prefix:f,words:p}=a(c,!1);return{prefix:f,words:p,bytes:n(p)}}return{encode:o,decode:a,decodeToBytes:l,decodeUnsafe:u,fromWords:n,fromWordsUnsafe:s,toWords:i}}const nee=B8("bech32"),iee=B8("bech32m"),L8={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)},$8=_s(pa(4),uo("0123456789abcdef"),lo(""),C8(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),x1={utf8:L8,hex:$8,base16:P8,base32:k8,base64:Qw,base64url:N8,base58:tg,base58xmr:M8},U8="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",F8=(t,e)=>{if(typeof t!="string"||!x1.hasOwnProperty(t))throw new TypeError(U8);if(!eg(e))throw new TypeError("bytesToString() expects Uint8Array");return x1[t].encode(e)},see=F8,j8=(t,e)=>{if(!x1.hasOwnProperty(t))throw new TypeError(U8);if(typeof e!="string")throw new TypeError("stringToBytes() expects string");return x1[t].decode(e)},oee=j8,aee=Object.freeze(Object.defineProperty({__proto__:null,assertNumber:XJ,base16:P8,base32:k8,base32crockford:KJ,base32hex:QJ,base58:tg,base58check:ree,base58flickr:eee,base58xmr:M8,base58xrp:tee,base64:Qw,base64url:N8,base64urlnopad:JJ,bech32:nee,bech32m:iee,bytes:oee,bytesToString:F8,createBase58check:D8,hex:$8,str:see,stringToBytes:j8,utf8:L8,utils:YJ},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z8=BigInt(0),Kw=BigInt(1),uee=BigInt(2),Jw=t=>t instanceof Uint8Array,lee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Uf(t){if(!Jw(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=lee[t[r]];return e}function H8(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function eP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function nh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function vf(t){return eP(Uf(t))}function V8(t){if(!Jw(t))throw new Error("Uint8Array expected");return eP(Uf(Uint8Array.from(t).reverse()))}function rg(t,e){return nh(t.toString(16).padStart(e*2,"0"))}function G8(t,e){return rg(t,e).reverse()}function cee(t){return nh(H8(t))}function $s(t,e,r){let n;if(typeof e=="string")try{n=nh(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Jw(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function ng(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!Jw(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function hee(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function dee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function fee(t){let e;for(e=0;t>z8;t>>=Kw,e+=1);return e}function pee(t,e){return t>>BigInt(e)&Kw}const mee=(t,e,r)=>t|(r?Kw:z8)<<BigInt(e),W8=t=>(uee<<BigInt(t-1))-Kw,BA=t=>new Uint8Array(t),J3=t=>Uint8Array.from(t);function q8(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=BA(t),i=BA(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=BA())=>{i=a(J3([0]),f),n=a(),f.length!==0&&(i=a(J3([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){n=a();const m=n.slice();p.push(m),f+=n.length}return ng(...p)};return(f,p)=>{o(),u(f);let m;for(;!(m=p(l()));)u();return o(),m}}const yee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function tv(t,e,r={}){const n=(i,s,o)=>{const a=yee[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const gee=Object.freeze(Object.defineProperty({__proto__:null,bitGet:pee,bitLen:fee,bitMask:W8,bitSet:mee,bytesToHex:Uf,bytesToNumberBE:vf,bytesToNumberLE:V8,concatBytes:ng,createHmacDrbg:q8,ensureBytes:$s,equalBytes:hee,hexToBytes:nh,hexToNumber:eP,numberToBytesBE:rg,numberToBytesLE:G8,numberToHexUnpadded:H8,numberToVarBytesBE:cee,utf8ToBytes:dee,validateObject:tv},Symbol.toStringTag,{value:"Module"}));function eL(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function vee(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Z8(t,...e){if(!vee(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function S1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function X8(t,e){Z8(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const c0=BigInt(2**32-1),tL=BigInt(32);function _ee(t,e=!1){return e?{h:Number(t&c0),l:Number(t>>tL&c0)}:{h:Number(t>>tL&c0)|0,l:Number(t&c0)|0}}function bee(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=_ee(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const wee=(t,e,r)=>t<<r|e>>>32-r,Eee=(t,e,r)=>e<<r|t>>>32-r,xee=(t,e,r)=>e<<r-32|t>>>64-r,See=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Aee=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));function Tee(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}const LA=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),No=(t,e)=>t<<32-e|t>>>e,Cee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Cee)throw new Error("Non little-endian hardware is not supported");function tP(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function rP(t){if(typeof t=="string"&&(t=tP(t)),!Tee(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}let Y8=class{clone(){return this._cloneInto()}};function Q8(t){const e=n=>t().update(rP(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const[K8,J8,ej]=[[],[],[]],Iee=BigInt(0),Im=BigInt(1),Oee=BigInt(2),Ree=BigInt(7),Pee=BigInt(256),kee=BigInt(113);for(let t=0,e=Im,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],K8.push(2*(5*n+r)),J8.push((t+1)*(t+2)/2%64);let i=Iee;for(let s=0;s<7;s++)e=(e<<Im^(e>>Ree)*kee)%Pee,e&Oee&&(i^=Im<<(Im<<BigInt(s))-Im);ej.push(i)}const[Nee,Mee]=bee(ej,!0),rL=(t,e,r)=>r>32?xee(t,e,r):wee(t,e,r),nL=(t,e,r)=>r>32?See(t,e,r):Eee(t,e,r);function Dee(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,u=(o+2)%10,l=r[u],c=r[u+1],f=rL(l,c,1)^r[a],p=nL(l,c,1)^r[a+1];for(let m=0;m<50;m+=10)t[o+m]^=f,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=J8[o],u=rL(i,s,a),l=nL(i,s,a),c=K8[o];i=t[c],s=t[c+1],t[c]=u,t[c+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Nee[n],t[1]^=Mee[n]}r.fill(0)}class nP extends Y8{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,eL(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Aee(this.state)}keccak(){Dee(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){S1(this);const{blockLen:r,state:n}=this;e=rP(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){S1(this,!1),Z8(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return eL(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(X8(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new nP(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Bee=(t,e,r)=>Q8(()=>new nP(e,t,r)),Lee=Bee(1,136,256/8);function $ee(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,l=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+l,a,n)}class Uee extends Y8{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=LA(this.buffer)}update(e){S1(this);const{view:r,buffer:n,blockLen:i}=this;e=rP(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const u=LA(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){S1(this),X8(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;$ee(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=LA(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,c[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const Fee=(t,e,r)=>t&e^~t&r,jee=(t,e,r)=>t&e^t&r^e&r,zee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Eu=new Uint32Array(64);class Hee extends Uee{constructor(){super(64,32,8,!1),this.A=wu[0]|0,this.B=wu[1]|0,this.C=wu[2]|0,this.D=wu[3]|0,this.E=wu[4]|0,this.F=wu[5]|0,this.G=wu[6]|0,this.H=wu[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)Eu[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const p=Eu[f-15],m=Eu[f-2],y=No(p,7)^No(p,18)^p>>>3,g=No(m,17)^No(m,19)^m>>>10;Eu[f]=g+Eu[f-7]+y+Eu[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:l,H:c}=this;for(let f=0;f<64;f++){const p=No(a,6)^No(a,11)^No(a,25),m=c+p+Fee(a,u,l)+zee[f]+Eu[f]|0,g=(No(n,2)^No(n,13)^No(n,22))+jee(n,i,s)|0;c=l,l=u,u=a,a=o+m|0,o=s,s=i,i=n,n=m+g|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,i,s,o,a,u,l,c)}roundClean(){Eu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const rv=Q8(()=>new Hee);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tj=BigInt(0),eE=BigInt(1),Vee=BigInt(2),tE=t=>t instanceof Uint8Array,Gee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hl(t){if(!tE(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Gee[t[r]];return e}function rj(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function rE(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ih(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function Hn(t){return rE(hl(t))}function iP(t){if(!tE(t))throw new Error("Uint8Array expected");return rE(hl(Uint8Array.from(t).reverse()))}function Ff(t,e){return ih(t.toString(16).padStart(e*2,"0"))}function sP(t,e){return Ff(t,e).reverse()}function oP(t){return ih(rj(t))}function Zi(t,e,r){let n;if(typeof e=="string")try{n=ih(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(tE(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function jf(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!tE(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Wee(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function qee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Zee(t){let e;for(e=0;t>tj;t>>=eE,e+=1);return e}function Xee(t,e){return t>>BigInt(e)&eE}const Yee=(t,e,r)=>t|(r?eE:tj)<<BigInt(e),nE=t=>(Vee<<BigInt(t-1))-eE,$A=t=>new Uint8Array(t),iL=t=>Uint8Array.from(t);function nj(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=$A(t),i=$A(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=$A())=>{i=a(iL([0]),f),n=a(),f.length!==0&&(i=a(iL([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){n=a();const m=n.slice();p.push(m),f+=n.length}return jf(...p)};return(f,p)=>{o(),u(f);let m;for(;!(m=p(l()));)u();return o(),m}}const Qee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function nv(t,e,r={}){const n=(i,s,o)=>{const a=Qee[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const Kee=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Xee,bitLen:Zee,bitMask:nE,bitSet:Yee,bytesToHex:hl,bytesToNumberBE:Hn,bytesToNumberLE:iP,concatBytes:jf,createHmacDrbg:nj,ensureBytes:Zi,equalBytes:Wee,hexToBytes:ih,hexToNumber:rE,numberToBytesBE:Ff,numberToBytesLE:sP,numberToHexUnpadded:rj,numberToVarBytesBE:oP,utf8ToBytes:qee,validateObject:nv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rn=BigInt(0),yr=BigInt(1),vc=BigInt(2),Jee=BigInt(3),BI=BigInt(4),sL=BigInt(5),oL=BigInt(8);BigInt(9);BigInt(16);function Mn(t,e){const r=t%e;return r>=rn?r:e+r}function ete(t,e,r){if(r<=rn||e<rn)throw new Error("Expected power/modulo > 0");if(r===yr)return rn;let n=yr;for(;e>rn;)e&yr&&(n=n*t%r),t=t*t%r,e>>=yr;return n}function A1(t,e){if(t===rn||e<=rn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Mn(t,e),n=e,i=rn,s=yr;for(;r!==rn;){const a=n/r,u=n%r,l=i-s*a;n=r,r=u,i=s,s=l}if(n!==yr)throw new Error("invert: does not exist");return Mn(i,e)}function tte(t){const e=(t-yr)/vc;let r,n,i;for(r=t-yr,n=0;r%vc===rn;r/=vc,n++);for(i=vc;i<t&&ete(i,e,t)!==t-yr;i++);if(n===1){const o=(t+yr)/BI;return function(u,l){const c=u.pow(l,o);if(!u.eql(u.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+yr)/vc;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,c=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(p);m<l&&!a.eql(g,a.ONE);m++)g=a.sqr(g);const y=a.pow(c,yr<<BigInt(l-m-1));c=a.sqr(y),f=a.mul(f,y),p=a.mul(p,c),l=m}return f}}function rte(t){if(t%BI===Jee){const e=(t+yr)/BI;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%oL===sL){const e=(t-sL)/oL;return function(n,i){const s=n.mul(i,vc),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,vc),o),l=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return tte(t)}const nte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aP(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=nte.reduce((n,i)=>(n[i]="function",n),e);return nv(t,r)}function ij(t,e,r){if(r<rn)throw new Error("Expected power > 0");if(r===rn)return t.ONE;if(r===yr)return e;let n=t.ONE,i=e;for(;r>rn;)r&yr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=yr;return n}function ite(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function sj(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function oj(t,e,r=!1,n={}){if(t<=rn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=sj(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=rte(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:nE(i),ZERO:rn,ONE:yr,create:u=>Mn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return rn<=u&&u<t},is0:u=>u===rn,isOdd:u=>(u&yr)===yr,neg:u=>Mn(-u,t),eql:(u,l)=>u===l,sqr:u=>Mn(u*u,t),add:(u,l)=>Mn(u+l,t),sub:(u,l)=>Mn(u-l,t),mul:(u,l)=>Mn(u*l,t),pow:(u,l)=>ij(a,u,l),div:(u,l)=>Mn(u*A1(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>A1(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>ite(a,u),cmov:(u,l,c)=>c?l:u,toBytes:u=>r?sP(u,s):Ff(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?iP(u):Hn(u)}});return Object.freeze(a)}function aj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function uj(t){const e=aj(t);return e+Math.ceil(e/2)}function ste(t,e,r=!1){const n=t.length,i=aj(e),s=uj(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?Hn(t):iP(t),a=Mn(o,e-yr)+yr;return r?sP(a,i):Ff(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ote(t){const{Fp:e,mds:r,reversePartialPowIdx:n,roundConstants:i}=t,{roundsFull:s,roundsPartial:o,sboxPower:a,t:u}=t;aP(e);for(const y of["t","roundsFull","roundsPartial"])if(typeof t[y]!="number"||!Number.isSafeInteger(t[y]))throw new Error(`Poseidon: invalid param ${y}=${t[y]} (${typeof t[y]})`);if(!Array.isArray(r)||r.length!==u)throw new Error("Poseidon: wrong MDS matrix");const l=r.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon MDS matrix row: ${y}`);return y.map(g=>{if(typeof g!="bigint")throw new Error(`Poseidon MDS matrix value=${g}`);return e.create(g)})});if(n!==void 0&&typeof n!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${n}`);if(s%2!==0)throw new Error(`Poseidon roundsFull is not even: ${s}`);const c=s+o;if(!Array.isArray(i)||i.length!==c)throw new Error("Poseidon: wrong round constants");const f=i.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon wrong round constants: ${y}`);return y.map(g=>{if(typeof g!="bigint"||!e.isValid(g))throw new Error(`Poseidon wrong round constant=${g}`);return e.create(g)})});if(!a||![3,5,7].includes(a))throw new Error(`Poseidon wrong sboxPower=${a}`);const p=BigInt(a);let m=y=>ij(e,y,p);return a===3?m=y=>e.mul(e.sqrN(y),y):a===5&&(m=y=>e.mul(e.sqrN(e.sqrN(y)),y)),Object.freeze({...t,rounds:c,sboxFn:m,roundConstants:f,mds:l})}function ate(t){const e=ote(t),{Fp:r,mds:n,roundConstants:i,rounds:s,roundsPartial:o,sboxFn:a,t:u}=e,l=e.roundsFull/2,c=e.reversePartialPowIdx?u-1:0,f=(m,y,g)=>(m=m.map((w,b)=>r.add(w,i[g][b])),y?m=m.map(w=>a(w)):m[c]=a(m[c]),m=n.map(w=>w.reduce((b,_,E)=>r.add(b,r.mulN(_,m[E])),r.ZERO)),m),p=function(y){if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${u})`);y=y.map(w=>{if(typeof w!="bigint")throw new Error(`Poseidon: wrong value=${w} (${typeof w})`);return r.create(w)});let g=0;for(let w=0;w<l;w++)y=f(y,!0,g++);for(let w=0;w<o;w++)y=f(y,!1,g++);for(let w=0;w<l;w++)y=f(y,!0,g++);if(g!==s)throw new Error(`Poseidon: wrong number of rounds: last round=${g}, total=${s}`);return y};return p.roundConstants=i,p}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ute=BigInt(0),UA=BigInt(1);function lte(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>ute;)s&UA&&(o=o.add(a)),a=a.double(),s>>=UA;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,c=l;for(let f=0;f<o;f++){c=l,u.push(c);for(let p=1;p<a;p++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const g=y*u;let w=Number(o&f);o>>=m,w>u&&(w-=p,o+=UA);const b=g,_=g+Math.abs(w)-1,E=y%2!==0,x=w<0;w===0?c=c.add(r(E,s[b])):l=l.add(r(x,s[_]))}return{p:l,f:c}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function lj(t){return aP(t.Fp),nv(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sj(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cte(t){const e=lj(t);nv(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:hte,hexToBytes:dte}=Kee,Fu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Fu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:hte(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Fu,r=typeof t=="string"?dte(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Fu._parseInt(r.subarray(2)),{d:o,l:a}=Fu._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Ma=BigInt(0),Xi=BigInt(1);BigInt(2);const aL=BigInt(3);BigInt(4);function fte(t){const e=cte(t),{Fp:r}=e,n=e.toBytes||((y,g,w)=>{const b=g.toAffine();return jf(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),w=r.fromBytes(g.subarray(0,r.BYTES)),b=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:w,y:b}});function s(y){const{a:g,b:w}=e,b=r.sqr(y),_=r.mul(b,y);return r.add(r.add(_,r.mul(y,g)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Ma<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:g,nByteLength:w,wrapPrivateKey:b,n:_}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=hl(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let E;try{E=typeof y=="bigint"?y:Hn(Zi("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return b&&(E=Mn(E,_)),a(E),E}const l=new Map;function c(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,w,b){if(this.px=g,this.py=w,this.pz=b,g==null||!r.isValid(g))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required")}static fromAffine(g){const{x:w,y:b}=g||{};if(!g||!r.isValid(w)||!r.isValid(b))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const _=E=>r.eql(E,r.ZERO);return _(w)&&_(b)?f.ZERO:new f(w,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const w=r.invertBatch(g.map(b=>b.pz));return g.map((b,_)=>b.toAffine(w[_])).map(f.fromAffine)}static fromHex(g){const w=f.fromAffine(i(Zi("pointHex",g)));return w.assertValidity(),w}static fromPrivateKey(g){return f.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:w}=this.toAffine();if(!r.isValid(g)||!r.isValid(w))throw new Error("bad point: x or y not FE");const b=r.sqr(w),_=s(g);if(!r.eql(b,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:w,py:b,pz:_}=this,{px:E,py:x,pz:N}=g,M=r.eql(r.mul(w,N),r.mul(E,_)),R=r.eql(r.mul(b,N),r.mul(x,_));return M&&R}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b:w}=e,b=r.mul(w,aL),{px:_,py:E,pz:x}=this;let N=r.ZERO,M=r.ZERO,R=r.ZERO,D=r.mul(_,_),W=r.mul(E,E),G=r.mul(x,x),F=r.mul(_,E);return F=r.add(F,F),R=r.mul(_,x),R=r.add(R,R),N=r.mul(g,R),M=r.mul(b,G),M=r.add(N,M),N=r.sub(W,M),M=r.add(W,M),M=r.mul(N,M),N=r.mul(F,N),R=r.mul(b,R),G=r.mul(g,G),F=r.sub(D,G),F=r.mul(g,F),F=r.add(F,R),R=r.add(D,D),D=r.add(R,D),D=r.add(D,G),D=r.mul(D,F),M=r.add(M,D),G=r.mul(E,x),G=r.add(G,G),D=r.mul(G,F),N=r.sub(N,D),R=r.mul(G,W),R=r.add(R,R),R=r.add(R,R),new f(N,M,R)}add(g){c(g);const{px:w,py:b,pz:_}=this,{px:E,py:x,pz:N}=g;let M=r.ZERO,R=r.ZERO,D=r.ZERO;const W=e.a,G=r.mul(e.b,aL);let F=r.mul(w,E),X=r.mul(b,x),B=r.mul(_,N),j=r.add(w,b),C=r.add(E,x);j=r.mul(j,C),C=r.add(F,X),j=r.sub(j,C),C=r.add(w,_);let k=r.add(E,N);return C=r.mul(C,k),k=r.add(F,B),C=r.sub(C,k),k=r.add(b,_),M=r.add(x,N),k=r.mul(k,M),M=r.add(X,B),k=r.sub(k,M),D=r.mul(W,C),M=r.mul(G,B),D=r.add(M,D),M=r.sub(X,D),D=r.add(X,D),R=r.mul(M,D),X=r.add(F,F),X=r.add(X,F),B=r.mul(W,B),C=r.mul(G,C),X=r.add(X,B),B=r.sub(F,B),B=r.mul(W,B),C=r.add(C,B),F=r.mul(X,C),R=r.add(R,F),F=r.mul(k,C),M=r.mul(j,M),M=r.sub(M,F),F=r.mul(j,X),D=r.mul(k,D),D=r.add(D,F),new f(M,R,D)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,w=>{const b=r.invertBatch(w.map(_=>_.pz));return w.map((_,E)=>_.toAffine(b[E])).map(f.fromAffine)})}multiplyUnsafe(g){const w=f.ZERO;if(g===Ma)return w;if(a(g),g===Xi)return this;const{endo:b}=e;if(!b)return m.unsafeLadder(this,g);let{k1neg:_,k1:E,k2neg:x,k2:N}=b.splitScalar(g),M=w,R=w,D=this;for(;E>Ma||N>Ma;)E&Xi&&(M=M.add(D)),N&Xi&&(R=R.add(D)),D=D.double(),E>>=Xi,N>>=Xi;return _&&(M=M.negate()),x&&(R=R.negate()),R=new f(r.mul(R.px,b.beta),R.py,R.pz),M.add(R)}multiply(g){a(g);let w=g,b,_;const{endo:E}=e;if(E){const{k1neg:x,k1:N,k2neg:M,k2:R}=E.splitScalar(w);let{p:D,f:W}=this.wNAF(N),{p:G,f:F}=this.wNAF(R);D=m.constTimeNegate(x,D),G=m.constTimeNegate(M,G),G=new f(r.mul(G.px,E.beta),G.py,G.pz),b=D.add(G),_=W.add(F)}else{const{p:x,f:N}=this.wNAF(w);b=x,_=N}return f.normalizeZ([b,_])[0]}multiplyAndAddUnsafe(g,w,b){const _=f.BASE,E=(N,M)=>M===Ma||M===Xi||!N.equals(_)?N.multiplyUnsafe(M):N.multiply(M),x=E(this,w).add(E(g,b));return x.is0()?void 0:x}toAffine(g){const{px:w,py:b,pz:_}=this,E=this.is0();g==null&&(g=E?r.ONE:r.inv(_));const x=r.mul(w,g),N=r.mul(b,g),M=r.mul(_,g);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x,y:N}}isTorsionFree(){const{h:g,isTorsionFree:w}=e;if(g===Xi)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:w}=e;return g===Xi?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(f,this,g)}toHex(g=!0){return hl(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,m=lte(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function pte(t){const e=lj(t);return nv(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function mte(t){const e=pte(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(C){return Ma<C&&C<r.ORDER}function a(C){return Mn(C,n)}function u(C){return A1(C,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=fte({...e,toBytes(C,k,O){const P=k.toAffine(),U=r.toBytes(P.x),$=jf;return O?$(Uint8Array.from([k.hasEvenY()?2:3]),U):$(Uint8Array.from([4]),U,r.toBytes(P.y))},fromBytes(C){const k=C.length,O=C[0],P=C.subarray(1);if(k===i&&(O===2||O===3)){const U=Hn(P);if(!o(U))throw new Error("Point is not on curve");const $=f(U);let z=r.sqrt($);const q=(z&Xi)===Xi;return(O&1)===1!==q&&(z=r.neg(z)),{x:U,y:z}}else if(k===s&&O===4){const U=r.fromBytes(P.subarray(0,r.BYTES)),$=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:U,y:$}}else throw new Error(`Point of length ${k} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=C=>hl(Ff(C,e.nByteLength));function y(C){const k=n>>Xi;return C>k}function g(C){return y(C)?a(-C):C}const w=(C,k,O)=>Hn(C.slice(k,O));class b{constructor(k,O,P){this.r=k,this.s=O,this.recovery=P,this.assertValidity()}static fromCompact(k){const O=e.nByteLength;return k=Zi("compactSignature",k,O*2),new b(w(k,0,O),w(k,O,2*O))}static fromDER(k){const{r:O,s:P}=Fu.toSig(Zi("DER",k));return new b(O,P)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new b(this.r,this.s,k)}recoverPublicKey(k){const{r:O,s:P,recovery:U}=this,$=R(Zi("msgHash",k));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const z=U===2||U===3?O+e.n:O;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=U&1?"03":"02",ne=l.fromHex(q+m(z)),re=u(z),ae=a(-$*re),oe=a(P*re),ve=l.BASE.multiplyAndAddUnsafe(ne,ae,oe);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ih(this.toDERHex())}toDERHex(){return Fu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ih(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const _={isValidPrivateKey(C){try{return c(C),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const C=uj(e.n);return ste(e.randomBytes(C),e.n)},precompute(C=8,k=l.BASE){return k._setWindowSize(C),k.multiply(BigInt(3)),k}};function E(C,k=!0){return l.fromPrivateKey(C).toRawBytes(k)}function x(C){const k=C instanceof Uint8Array,O=typeof C=="string",P=(k||O)&&C.length;return k?P===i||P===s:O?P===2*i||P===2*s:C instanceof l}function N(C,k,O=!0){if(x(C))throw new Error("first arg must be private key");if(!x(k))throw new Error("second arg must be public key");return l.fromHex(k).multiply(c(C)).toRawBytes(O)}const M=e.bits2int||function(C){const k=Hn(C),O=C.length*8-e.nBitLength;return O>0?k>>BigInt(O):k},R=e.bits2int_modN||function(C){return a(M(C))},D=nE(e.nBitLength);function W(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ma<=C&&C<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ff(C,e.nByteLength)}function G(C,k,O=F){if(["recovered","canonical"].some(_e=>_e in O))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:U}=e;let{lowS:$,prehash:z,extraEntropy:q}=O;$==null&&($=!0),C=Zi("msgHash",C),z&&(C=Zi("prehashed msgHash",P(C)));const ne=R(C),re=c(k),ae=[W(re),W(ne)];if(q!=null){const _e=q===!0?U(r.BYTES):q;ae.push(Zi("extraEntropy",_e))}const oe=jf(...ae),ve=ne;function Ne(_e){const Me=M(_e);if(!p(Me))return;const Ie=u(Me),De=l.BASE.multiply(Me).toAffine(),te=a(De.x);if(te===Ma)return;const de=a(Ie*a(ve+te*re));if(de===Ma)return;let ke=(De.x===te?0:2)|Number(De.y&Xi),We=de;return $&&y(de)&&(We=g(de),ke^=1),new b(te,We,ke)}return{seed:oe,k2sig:Ne}}const F={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function B(C,k,O=F){const{seed:P,k2sig:U}=G(C,k,O),$=e;return nj($.hash.outputLen,$.nByteLength,$.hmac)(P,U)}l.BASE._setWindowSize(8);function j(C,k,O,P=X){var De;const U=C;if(k=Zi("msgHash",k),O=Zi("publicKey",O),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:z}=P;let q,ne;try{if(typeof U=="string"||U instanceof Uint8Array)try{q=b.fromDER(U)}catch(te){if(!(te instanceof Fu.Err))throw te;q=b.fromCompact(U)}else if(typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint"){const{r:te,s:de}=U;q=new b(te,de)}else throw new Error("PARSE");ne=l.fromHex(O)}catch(te){if(te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&q.hasHighS())return!1;z&&(k=e.hash(k));const{r:re,s:ae}=q,oe=R(k),ve=u(ae),Ne=a(oe*ve),_e=a(re*ve),Me=(De=l.BASE.multiplyAndAddUnsafe(ne,Ne,_e))==null?void 0:De.toAffine();return Me?a(Me.x)===re:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:N,sign:B,verify:j,ProjectivePoint:l,Signature:b,utils:_}}function uL(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function yte(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function gte(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");uL(t.outputLen),uL(t.blockLen)}function lL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}const FA=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cj=t=>t instanceof Uint8Array,vte=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vte)throw new Error("Non little-endian hardware is not supported");function _te(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bte(t){if(typeof t=="string"&&(t=_te(t)),!cj(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function wte(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!cj(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let Ete=class{clone(){return this._cloneInto()}};function xte(t=32){if(FA&&typeof FA.getRandomValues=="function")return FA.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let hj=class extends Ete{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,gte(e);const n=bte(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return lL(this),this.iHash.update(e),this}digestInto(e){lL(this),yte(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const dj=(t,e,r)=>new hj(t,e).update(r).digest();dj.create=(t,e)=>new hj(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ste(t){return{hash:t,hmac:(e,...r)=>dj(t,e,wte(...r)),randomBytes:xte}}const ig=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),Oc=BigInt("0x800000000000000000000000000000000000000000000000000000000000000"),fj=252;function cL(t){for(;t[0]===0;)t=t.subarray(1);const e=t.length*8-fj,r=Hn(t);return e>0?r>>BigInt(e):r}function pj(t){return typeof t=="string"&&(t=cP(t),t.length&1&&(t="0"+t)),ih(t)}const Th=mte({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:oj(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:ig,nBitLength:fj,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...Ste(rv),bits2int:cL,bits2int_modN:t=>{const e=Hn(t).toString(16);return e.length===63&&(t=pj(e+"0")),Mn(cL(t),ig)}}),Ate=Th;function zf(t){return Zi("",typeof t=="string"?pj(t):t)}function uP(t){return hl(zf(t)).padStart(64,"0")}function mj(t,e=!1){return Th.getPublicKey(uP(t),e)}function Tte(t,e){return Th.getSharedSecret(uP(t),e)}function yj(t){const{r:e,s:r}=t;if(e<0n||e>=Oc)throw new Error(`Signature.r should be [1, ${Oc})`);const n=A1(r,ig);if(n<0n||n>=Oc)throw new Error(`inv(Signature.s) should be [1, ${Oc})`)}function gj(t){const e=zf(t);if(Hn(e)>=Oc)throw new Error(`msgHash should be [0, ${Oc})`);return e}function Xm(t,e,r){const n=Th.sign(gj(t),uP(e),r);return yj(n),n}function Cte(t,e,r){if(!(t instanceof Cb)){const n=zf(t);try{t=Cb.fromDER(n)}catch(i){if(!(i instanceof Fu.Err))throw i;t=Cb.fromCompact(n)}}return yj(t),Th.verify(t,gj(e),zf(r))}const{CURVE:Ite,ProjectivePoint:Ad,Signature:Cb,utils:lP}=Th;function vj(t){return`0x${hl(t.subarray(1)).replace(/^0+/gm,"")}`}function cP(t){return t.replace(/^0x/i,"")}function _j(t){const e=zf(t),r=2n**256n,n=r-Mn(r,ig);for(let i=0;;i++){const s=LI(jf(e,oP(BigInt(i))));if(s<n)return Mn(s,ig).toString(16);if(i===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function hP(t){return vj(mj(t,!0))}function Ote(t){if(t=cP(t),t.length!==130)throw new Error("Wrong ethereum signature");return _j(t.substring(0,64))}const Rte=2n**31n-1n,h0=t=>Number(t&Rte);function Pte(t,e,r,n){const i=h0(LI(t)),s=h0(LI(e)),o=rE(cP(r));return`m/2645'/${i}'/${s}'/${h0(o)}'/${h0(o>>31n)}'/${n}`}const sg=[new Ad(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new Ad(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new Ad(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new Ad(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new Ad(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function bj(t,e){const r=[];let n=t;for(let i=0;i<248;i++)r.push(n),n=n.double();n=e;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}const kte=bj(sg[1],sg[2]),Nte=bj(sg[3],sg[4]);function Mte(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"){if(!Number.isSafeInteger(t))throw new Error(`Invalid pedersenArg: ${t}`);e=BigInt(t)}else e=Hn(zf(t));if(!(0n<=e&&e<Th.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${e}`);return e}function hL(t,e,r){let n=Mte(e);for(let i=0;i<252;i++){const s=r[i];if(s.equals(t))throw new Error("Same point");(n&1n)!==0n&&(t=t.add(s)),n>>=1n}return t}function iv(t,e){let r=sg[0];return r=hL(r,t,kte),r=hL(r,e,Nte),vj(r.toRawBytes(!0))}const Dte=(t,e=iv)=>[0,...t,t.length].reduce((r,n)=>e(r,n)),Bte=nE(250),_p=t=>Hn(Lee(t))&Bte,LI=t=>Hn(rv(t)),wj=oj(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function $I(t,e,r){const n=t.fromBytes(rv(tP(`${e}${r}`)));return t.create(n)}function Ej(t,e,r,n=0){const i=[],s=[];for(let o=0;o<r;o++)i.push($I(t,`${e}x`,n*r+o)),s.push($I(t,`${e}y`,n*r+o));if(new Set([...i,...s]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map(o=>s.map(a=>t.inv(t.sub(o,a))))}const Lte=[[3,1,1],[1,-1,1],[1,1,-2]].map(t=>t.map(BigInt));function dP(t,e){if(aP(t.Fp),!Number.isSafeInteger(t.rate)||!Number.isSafeInteger(t.capacity))throw new Error(`Wrong poseidon opts: ${t}`);const r=t.rate+t.capacity,n=t.roundsFull+t.roundsPartial,i=[];for(let o=0;o<n;o++){const a=[];for(let u=0;u<r;u++)a.push($I(t.Fp,"Hades",r*o+u));i.push(a)}const s=ate({...t,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:e,roundConstants:i});return s.m=r,s.rate=t.rate,s.capacity=t.capacity,s}function $te(t,e=0){const r=t.rate+t.capacity;if(!Number.isSafeInteger(e))throw new Error(`Wrong mdsAttempt=${e}`);return dP(t,Ej(t.Fp,"HadesMDS",r,e))}const sv=dP({Fp:wj,rate:2,capacity:1,roundsFull:8,roundsPartial:83},Lte);function xj(t,e,r=sv){return r([t,e,2n])[0]}function Ute(t,e,r=sv){return oP(xj(Hn(t),Hn(e),r))}function Fte(t,e=sv){return e([t,0n,1n])[0]}function dl(t,e=sv){const{m:r,rate:n}=e;if(!Array.isArray(t))throw new Error("bigint array expected in values");const i=Array.from(t);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let a=0;a<n;a++)s[a]+=i[o+a];s=e(s)}return s[0]}const Sj=Object.freeze(Object.defineProperty({__proto__:null,CURVE:Ite,Fp251:wj,MAX_VALUE:Oc,ProjectivePoint:Ad,Signature:Cb,_poseidonMDS:Ej,_starkCurve:Ate,computeHashOnElements:Dte,ethSigToPrivate:Ote,getAccountPath:Pte,getPublicKey:mj,getSharedSecret:Tte,getStarkKey:hP,grindKey:_j,keccak:_p,pedersen:iv,poseidonBasic:dP,poseidonCreate:$te,poseidonHash:xj,poseidonHashFunc:Ute,poseidonHashMany:dl,poseidonHashSingle:Fte,poseidonSmall:sv,sign:Xm,utils:lP,verify:Cte},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ju=BigInt(0),zc=BigInt(1);BigInt(2);BigInt(3);BigInt(4);BigInt(5);BigInt(8);BigInt(9);BigInt(16);function og(t,e){const r=t%e;return r>=ju?r:e+r}function jte(t,e){if(t===ju||e<=ju)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=og(t,e),n=e,i=ju,s=zc;for(;r!==ju;){const a=n/r,u=n%r,l=i-s*a;n=r,r=u,i=s,s=l}if(n!==zc)throw new Error("invert: does not exist");return og(i,e)}const zte=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fP(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=zte.reduce((n,i)=>(n[i]="function",n),e);return tv(t,r)}function Hte(t,e,r){if(r<ju)throw new Error("Expected power > 0");if(r===ju)return t.ONE;if(r===zc)return e;let n=t.ONE,i=e;for(;r>ju;)r&zc&&(n=t.mul(n,i)),i=t.sqr(i),r>>=zc;return n}function Vte(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Aj(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Tj(t){const e=Aj(t);return e+Math.ceil(e/2)}function Gte(t,e,r=!1){const n=t.length,i=Aj(e),s=Tj(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?vf(t):V8(t),a=og(o,e-zc)+zc;return r?G8(a,i):rg(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wte=BigInt(0),jA=BigInt(1);function qte(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>Wte;)s&jA&&(o=o.add(a)),a=a.double(),s>>=jA;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,c=l;for(let f=0;f<o;f++){c=l,u.push(c);for(let p=1;p<a;p++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const g=y*u;let w=Number(o&f);o>>=m,w>u&&(w-=p,o+=jA);const b=g,_=g+Math.abs(w)-1,E=y%2!==0,x=w<0;w===0?c=c.add(r(E,s[b])):l=l.add(r(x,s[_]))}return{p:l,f:c}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function Cj(t){return fP(t.Fp),tv(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vte(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Zte(t){const e=Cj(t);tv(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Xte,hexToBytes:Yte}=gee,zu={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=zu;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Xte(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=zu,r=typeof t=="string"?Yte(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=zu._parseInt(r.subarray(2)),{d:o,l:a}=zu._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},js=BigInt(0),ar=BigInt(1),xu=BigInt(2),T1=BigInt(3),dL=BigInt(4);function Ij(t){const e=Zte(t),{Fp:r}=e,n=e.toBytes||((y,g,w)=>{const b=g.toAffine();return ng(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),w=r.fromBytes(g.subarray(0,r.BYTES)),b=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:w,y:b}});function s(y){const{a:g,b:w}=e,b=r.sqr(y),_=r.mul(b,y);return r.add(r.add(_,r.mul(y,g)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&js<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:g,nByteLength:w,wrapPrivateKey:b,n:_}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=Uf(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let E;try{E=typeof y=="bigint"?y:vf($s("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return b&&(E=og(E,_)),a(E),E}const l=new Map;function c(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,w,b){if(this.px=g,this.py=w,this.pz=b,g==null||!r.isValid(g))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required")}static fromAffine(g){const{x:w,y:b}=g||{};if(!g||!r.isValid(w)||!r.isValid(b))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const _=E=>r.eql(E,r.ZERO);return _(w)&&_(b)?f.ZERO:new f(w,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const w=r.invertBatch(g.map(b=>b.pz));return g.map((b,_)=>b.toAffine(w[_])).map(f.fromAffine)}static fromHex(g){const w=f.fromAffine(i($s("pointHex",g)));return w.assertValidity(),w}static fromPrivateKey(g){return f.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:w}=this.toAffine();if(!r.isValid(g)||!r.isValid(w))throw new Error("bad point: x or y not FE");const b=r.sqr(w),_=s(g);if(!r.eql(b,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:w,py:b,pz:_}=this,{px:E,py:x,pz:N}=g,M=r.eql(r.mul(w,N),r.mul(E,_)),R=r.eql(r.mul(b,N),r.mul(x,_));return M&&R}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b:w}=e,b=r.mul(w,T1),{px:_,py:E,pz:x}=this;let N=r.ZERO,M=r.ZERO,R=r.ZERO,D=r.mul(_,_),W=r.mul(E,E),G=r.mul(x,x),F=r.mul(_,E);return F=r.add(F,F),R=r.mul(_,x),R=r.add(R,R),N=r.mul(g,R),M=r.mul(b,G),M=r.add(N,M),N=r.sub(W,M),M=r.add(W,M),M=r.mul(N,M),N=r.mul(F,N),R=r.mul(b,R),G=r.mul(g,G),F=r.sub(D,G),F=r.mul(g,F),F=r.add(F,R),R=r.add(D,D),D=r.add(R,D),D=r.add(D,G),D=r.mul(D,F),M=r.add(M,D),G=r.mul(E,x),G=r.add(G,G),D=r.mul(G,F),N=r.sub(N,D),R=r.mul(G,W),R=r.add(R,R),R=r.add(R,R),new f(N,M,R)}add(g){c(g);const{px:w,py:b,pz:_}=this,{px:E,py:x,pz:N}=g;let M=r.ZERO,R=r.ZERO,D=r.ZERO;const W=e.a,G=r.mul(e.b,T1);let F=r.mul(w,E),X=r.mul(b,x),B=r.mul(_,N),j=r.add(w,b),C=r.add(E,x);j=r.mul(j,C),C=r.add(F,X),j=r.sub(j,C),C=r.add(w,_);let k=r.add(E,N);return C=r.mul(C,k),k=r.add(F,B),C=r.sub(C,k),k=r.add(b,_),M=r.add(x,N),k=r.mul(k,M),M=r.add(X,B),k=r.sub(k,M),D=r.mul(W,C),M=r.mul(G,B),D=r.add(M,D),M=r.sub(X,D),D=r.add(X,D),R=r.mul(M,D),X=r.add(F,F),X=r.add(X,F),B=r.mul(W,B),C=r.mul(G,C),X=r.add(X,B),B=r.sub(F,B),B=r.mul(W,B),C=r.add(C,B),F=r.mul(X,C),R=r.add(R,F),F=r.mul(k,C),M=r.mul(j,M),M=r.sub(M,F),F=r.mul(j,X),D=r.mul(k,D),D=r.add(D,F),new f(M,R,D)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,w=>{const b=r.invertBatch(w.map(_=>_.pz));return w.map((_,E)=>_.toAffine(b[E])).map(f.fromAffine)})}multiplyUnsafe(g){const w=f.ZERO;if(g===js)return w;if(a(g),g===ar)return this;const{endo:b}=e;if(!b)return m.unsafeLadder(this,g);let{k1neg:_,k1:E,k2neg:x,k2:N}=b.splitScalar(g),M=w,R=w,D=this;for(;E>js||N>js;)E&ar&&(M=M.add(D)),N&ar&&(R=R.add(D)),D=D.double(),E>>=ar,N>>=ar;return _&&(M=M.negate()),x&&(R=R.negate()),R=new f(r.mul(R.px,b.beta),R.py,R.pz),M.add(R)}multiply(g){a(g);let w=g,b,_;const{endo:E}=e;if(E){const{k1neg:x,k1:N,k2neg:M,k2:R}=E.splitScalar(w);let{p:D,f:W}=this.wNAF(N),{p:G,f:F}=this.wNAF(R);D=m.constTimeNegate(x,D),G=m.constTimeNegate(M,G),G=new f(r.mul(G.px,E.beta),G.py,G.pz),b=D.add(G),_=W.add(F)}else{const{p:x,f:N}=this.wNAF(w);b=x,_=N}return f.normalizeZ([b,_])[0]}multiplyAndAddUnsafe(g,w,b){const _=f.BASE,E=(N,M)=>M===js||M===ar||!N.equals(_)?N.multiplyUnsafe(M):N.multiply(M),x=E(this,w).add(E(g,b));return x.is0()?void 0:x}toAffine(g){const{px:w,py:b,pz:_}=this,E=this.is0();g==null&&(g=E?r.ONE:r.inv(_));const x=r.mul(w,g),N=r.mul(b,g),M=r.mul(_,g);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x,y:N}}isTorsionFree(){const{h:g,isTorsionFree:w}=e;if(g===ar)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:w}=e;return g===ar?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(f,this,g)}toHex(g=!0){return Uf(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,m=qte(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function Qte(t){const e=Cj(t);return tv(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Kte(t){const e=Qte(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(C){return js<C&&C<r.ORDER}function a(C){return og(C,n)}function u(C){return jte(C,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=Ij({...e,toBytes(C,k,O){const P=k.toAffine(),U=r.toBytes(P.x),$=ng;return O?$(Uint8Array.from([k.hasEvenY()?2:3]),U):$(Uint8Array.from([4]),U,r.toBytes(P.y))},fromBytes(C){const k=C.length,O=C[0],P=C.subarray(1);if(k===i&&(O===2||O===3)){const U=vf(P);if(!o(U))throw new Error("Point is not on curve");const $=f(U);let z=r.sqrt($);const q=(z&ar)===ar;return(O&1)===1!==q&&(z=r.neg(z)),{x:U,y:z}}else if(k===s&&O===4){const U=r.fromBytes(P.subarray(0,r.BYTES)),$=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:U,y:$}}else throw new Error(`Point of length ${k} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=C=>Uf(rg(C,e.nByteLength));function y(C){const k=n>>ar;return C>k}function g(C){return y(C)?a(-C):C}const w=(C,k,O)=>vf(C.slice(k,O));class b{constructor(k,O,P){this.r=k,this.s=O,this.recovery=P,this.assertValidity()}static fromCompact(k){const O=e.nByteLength;return k=$s("compactSignature",k,O*2),new b(w(k,0,O),w(k,O,2*O))}static fromDER(k){const{r:O,s:P}=zu.toSig($s("DER",k));return new b(O,P)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new b(this.r,this.s,k)}recoverPublicKey(k){const{r:O,s:P,recovery:U}=this,$=R($s("msgHash",k));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const z=U===2||U===3?O+e.n:O;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=U&1?"03":"02",ne=l.fromHex(q+m(z)),re=u(z),ae=a(-$*re),oe=a(P*re),ve=l.BASE.multiplyAndAddUnsafe(ne,ae,oe);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return nh(this.toDERHex())}toDERHex(){return zu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return nh(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const _={isValidPrivateKey(C){try{return c(C),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const C=Tj(e.n);return Gte(e.randomBytes(C),e.n)},precompute(C=8,k=l.BASE){return k._setWindowSize(C),k.multiply(BigInt(3)),k}};function E(C,k=!0){return l.fromPrivateKey(C).toRawBytes(k)}function x(C){const k=C instanceof Uint8Array,O=typeof C=="string",P=(k||O)&&C.length;return k?P===i||P===s:O?P===2*i||P===2*s:C instanceof l}function N(C,k,O=!0){if(x(C))throw new Error("first arg must be private key");if(!x(k))throw new Error("second arg must be public key");return l.fromHex(k).multiply(c(C)).toRawBytes(O)}const M=e.bits2int||function(C){const k=vf(C),O=C.length*8-e.nBitLength;return O>0?k>>BigInt(O):k},R=e.bits2int_modN||function(C){return a(M(C))},D=W8(e.nBitLength);function W(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(js<=C&&C<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return rg(C,e.nByteLength)}function G(C,k,O=F){if(["recovered","canonical"].some(_e=>_e in O))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:U}=e;let{lowS:$,prehash:z,extraEntropy:q}=O;$==null&&($=!0),C=$s("msgHash",C),z&&(C=$s("prehashed msgHash",P(C)));const ne=R(C),re=c(k),ae=[W(re),W(ne)];if(q!=null){const _e=q===!0?U(r.BYTES):q;ae.push($s("extraEntropy",_e))}const oe=ng(...ae),ve=ne;function Ne(_e){const Me=M(_e);if(!p(Me))return;const Ie=u(Me),De=l.BASE.multiply(Me).toAffine(),te=a(De.x);if(te===js)return;const de=a(Ie*a(ve+te*re));if(de===js)return;let ke=(De.x===te?0:2)|Number(De.y&ar),We=de;return $&&y(de)&&(We=g(de),ke^=1),new b(te,We,ke)}return{seed:oe,k2sig:Ne}}const F={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function B(C,k,O=F){const{seed:P,k2sig:U}=G(C,k,O),$=e;return q8($.hash.outputLen,$.nByteLength,$.hmac)(P,U)}l.BASE._setWindowSize(8);function j(C,k,O,P=X){var De;const U=C;if(k=$s("msgHash",k),O=$s("publicKey",O),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:z}=P;let q,ne;try{if(typeof U=="string"||U instanceof Uint8Array)try{q=b.fromDER(U)}catch(te){if(!(te instanceof zu.Err))throw te;q=b.fromCompact(U)}else if(typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint"){const{r:te,s:de}=U;q=new b(te,de)}else throw new Error("PARSE");ne=l.fromHex(O)}catch(te){if(te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&q.hasHighS())return!1;z&&(k=e.hash(k));const{r:re,s:ae}=q,oe=R(k),ve=u(ae),Ne=a(oe*ve),_e=a(re*ve),Me=(De=l.BASE.multiplyAndAddUnsafe(ne,Ne,_e))==null?void 0:De.toAffine();return Me?a(Me.x)===re:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:N,sign:B,verify:j,ProjectivePoint:l,Signature:b,utils:_}}function Oj(t,e){const r=t.ORDER;let n=js;for(let y=r-ar;y%xu===js;y/=xu)n+=ar;const i=n,s=xu<<i-ar-ar,o=s*xu,a=(r-ar)/o,u=(a-ar)/xu,l=o-ar,c=s,f=t.pow(e,a),p=t.pow(e,(a+ar)/xu);let m=(y,g)=>{let w=f,b=t.pow(g,l),_=t.sqr(b);_=t.mul(_,g);let E=t.mul(y,_);E=t.pow(E,u),E=t.mul(E,b),b=t.mul(E,g),_=t.mul(E,y);let x=t.mul(_,b);E=t.pow(x,c);let N=t.eql(E,t.ONE);b=t.mul(_,p),E=t.mul(x,w),_=t.cmov(b,_,N),x=t.cmov(E,x,N);for(let M=i;M>ar;M--){let R=M-xu;R=xu<<R-ar;let D=t.pow(x,R);const W=t.eql(D,t.ONE);b=t.mul(_,w),w=t.mul(w,w),D=t.mul(x,w),_=t.cmov(b,_,W),x=t.cmov(D,x,W)}return{isValid:N,value:_}};if(t.ORDER%dL===T1){const y=(t.ORDER-T1)/dL,g=t.sqrt(t.neg(e));m=(w,b)=>{let _=t.sqr(b);const E=t.mul(w,b);_=t.mul(_,E);let x=t.pow(_,y);x=t.mul(x,E);const N=t.mul(x,g),M=t.mul(t.sqr(x),b),R=t.eql(M,w);let D=t.cmov(N,x,R);return{isValid:R,value:D}}}return m}function Jte(t,e){if(fP(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=Oj(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,l,c,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),l=t.sqr(a),u=t.mul(l,e.A),s=t.add(s,u),s=t.mul(s,o),l=t.mul(l,a),u=t.mul(l,e.B),s=t.add(s,u),c=t.mul(i,o);const{isValid:p,value:m}=r(s,l);f=t.mul(i,n),f=t.mul(f,m),c=t.cmov(c,o,p),f=t.cmov(f,m,p);const y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),c=t.div(c,a),{x:c,y:f}}}const ere=Object.freeze(Object.defineProperty({__proto__:null,DER:zu,SWUFpSqrtRatio:Oj,mapToCurveSimpleSWU:Jte,weierstrass:Kte,weierstrassPoints:Ij},Symbol.toStringTag,{value:"Module"}));function tre(t){throw new Error("config is deprecated, support for circularRefs is removed from the library. If you encounter circular references in your data structures, please rethink your datastructures: better prevent circular references in the first place.")}function bp(t){return rre.test(t)}var rre=/^-?[0-9]+$/;function pP(t){return nre.test(t)}var nre=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function Rj(t,e){var r=parseFloat(t),n=String(r),i=UI(t),s=UI(n);if(i===s)return!0;if((e==null?void 0:e.approx)===!0){var o=14;if(!bp(t)&&s.length>=o&&i.startsWith(s.substring(0,o)))return!0}return!1}var Rc=function(t){return t.underflow="underflow",t.overflow="overflow",t.truncate_integer="truncate_integer",t.truncate_float="truncate_float",t}({});function mP(t){if(!Rj(t,{approx:!1})){if(bp(t))return Rc.truncate_integer;var e=parseFloat(t);return isFinite(e)?e===0?Rc.underflow:Rc.truncate_float:Rc.overflow}}function ire(t,e){var r=parseFloat(t),n=mP(t);if((e==null?void 0:e.approx)===!0?n&&n!==Rc.truncate_float:n){var i=n.replace(/_\w+$/,"");throw new Error("Cannot safely convert to number: "+"the value '".concat(t,"' would ").concat(i," and become ").concat(r))}return r}function UI(t){return t.replace(sre,"").replace(are,"").replace(ure,"").replace(ore,"")}var sre=/[eE][+-]?\d+$/,ore=/^-?(0*)?/,are=/\./,ure=/0+$/;function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function lre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pj(n.key),n)}}function cre(t,e,r){return e&&fL(t.prototype,e),r&&fL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hre(t,e,r){return e=Pj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pj(t){var e=dre(t,"string");return Hf(e)==="symbol"?e:String(e)}function dre(t,e){if(Hf(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Hf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yP=function(){function t(e){if(lre(this,t),hre(this,"isLosslessNumber",!0),!pP(e))throw new Error('Invalid number (value: "'+e+'")');this.value=e}return cre(t,[{key:"valueOf",value:function(){var r=mP(this.value);if(r===void 0||r===Rc.truncate_float)return parseFloat(this.value);if(bp(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(r," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),t}();function kj(t){return t&&Hf(t)==="object"&&t.isLosslessNumber===!0||!1}function fre(t){if(UI(t+"").length>15)throw new Error("Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself "+"(value: ".concat(t,")"));if(isNaN(t))throw new Error("Invalid number: NaN");if(!isFinite(t))throw new Error("Invalid number: "+t);return new yP(String(t))}function Nj(t){return new yP(t)}function Mj(t){return bp(t)?BigInt(t):parseFloat(t)}function FI(t){"@babel/helpers - typeof";return FI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FI(t)}function pre(t,e){return gP({"":t},"",t,e)}function gP(t,e,r,n){return Array.isArray(r)?n.call(t,e,yre(r,n)):r&&FI(r)==="object"&&!kj(r)?n.call(t,e,mre(r,n)):n.call(t,e,r)}function mre(t,e){return Object.keys(t).forEach(function(r){var n=gP(t,r,t[r],e);n!==void 0?t[r]=n:delete t[r]}),t}function yre(t,e){for(var r=0;r<t.length;r++)t[r]=gP(t,r+"",t[r],e);return t}function jI(t){"@babel/helpers - typeof";return jI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jI(t)}function zA(t){return bre(t)||_re(t)||vre(t)||gre()}function gre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vre(t,e){if(t){if(typeof t=="string")return zI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zI(t,e)}}function _re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bre(t){if(Array.isArray(t))return zI(t)}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nj,n=0,i=a();return y(i),w(),e?pre(i,e):i;function s(){if(t.charCodeAt(n)===Tre){n++,l();for(var j={},C=!0;n<t.length&&t.charCodeAt(n)!==mL;){C?C=!1:(p(),l());var k=n,O=c();O===void 0&&E(),l(),m();var P=a();P===void 0&&W(),Object.prototype.hasOwnProperty.call(j,O)&&!HI(P,j[O])&&x(O,k+1),j[O]=P}return t.charCodeAt(n)!==mL&&N(),n++,j}}function o(){if(t.charCodeAt(n)===Cre){n++,l();for(var j=[],C=!0;n<t.length&&t.charCodeAt(n)!==yL;){C?C=!1:p();var k=a();g(k),j.push(k)}return t.charCodeAt(n)!==yL&&M(),n++,j}}function a(){var j,C,k,O,P,U;l();var $=(j=(C=(k=(O=(P=(U=c())!==null&&U!==void 0?U:f())!==null&&P!==void 0?P:s())!==null&&O!==void 0?O:o())!==null&&k!==void 0?k:u("true",!0))!==null&&C!==void 0?C:u("false",!1))!==null&&j!==void 0?j:u("null",null);return l(),$}function u(j,C){if(t.slice(n,n+j.length)===j)return n+=j.length,C}function l(){for(;wre(t.charCodeAt(n));)n++}function c(){if(t.charCodeAt(n)===HA){n++;for(var j="";n<t.length&&t.charCodeAt(n)!==HA;){if(t.charCodeAt(n)===Are){var C=t[n+1],k=Sre[C];k!==void 0?(j+=k,n++):C==="u"?d0(t.charCodeAt(n+2))&&d0(t.charCodeAt(n+3))&&d0(t.charCodeAt(n+4))&&d0(t.charCodeAt(n+5))?(j+=String.fromCharCode(parseInt(t.slice(n+2,n+6),16)),n+=5):G(n):D(n)}else xre(t.charCodeAt(n))?j+=t[n]:R(t[n]);n++}return _(),n++,j}}function f(){var j=n;if(t.charCodeAt(n)===gL&&(n++,b(j)),t.charCodeAt(n)===_P)n++;else if(Ere(t.charCodeAt(n)))for(n++;f0(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===Dre)for(n++,b(j);f0(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===Fre||t.charCodeAt(n)===Ure)for(n++,(t.charCodeAt(n)===gL||t.charCodeAt(n)===kre)&&n++,b(j);f0(t.charCodeAt(n));)n++;if(n>j)return r(t.slice(j,n))}function p(){if(t.charCodeAt(n)!==Mre)throw new SyntaxError("Comma ',' expected after value ".concat(B()));n++}function m(){if(t.charCodeAt(n)!==Bre)throw new SyntaxError("Colon ':' expected after property name ".concat(B()));n++}function y(j){if(j===void 0)throw new SyntaxError("JSON value expected ".concat(B()))}function g(j){if(j===void 0)throw new SyntaxError("Array item expected ".concat(B()))}function w(){if(n<t.length)throw new SyntaxError("Expected end of input ".concat(B()))}function b(j){if(!f0(t.charCodeAt(n))){var C=t.slice(j,n);throw new SyntaxError("Invalid number '".concat(C,"', expecting a digit ").concat(B()))}}function _(){if(t.charCodeAt(n)!==HA)throw new SyntaxError(`End of string '"' expected `.concat(B()))}function E(){throw new SyntaxError("Quoted object key expected ".concat(B()))}function x(j,C){throw new SyntaxError("Duplicate key '".concat(j,"' encountered at position ").concat(C))}function N(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(B()))}function M(){throw new SyntaxError("Array item or end of array ']' expected ".concat(B()))}function R(j){throw new SyntaxError("Invalid character '".concat(j,"' ").concat(F()))}function D(j){var C=t.slice(j,j+2);throw new SyntaxError("Invalid escape character '".concat(C,"' ").concat(F()))}function W(){throw new SyntaxError("Object value expected after ':' ".concat(F()))}function G(j){for(var C=j+2;/\w/.test(t[C]);)C++;var k=t.slice(j,C);throw new SyntaxError("Invalid unicode character '".concat(k,"' ").concat(F()))}function F(){return"at position ".concat(n)}function X(){return n<t.length?"but got '".concat(t[n],"'"):"but reached end of input"}function B(){return X()+" "+F()}}function wre(t){return t===Ire||t===Ore||t===Rre||t===Pre}function d0(t){return t>=_P&&t<=bP||t>=Lre&&t<=jre||t>=$re&&t<=zre}function f0(t){return t>=_P&&t<=bP}function Ere(t){return t>=Nre&&t<=bP}function xre(t){return t>=32&&t<=1114111}function HI(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e))return t.length===e.length&&t.every(function(n,i){return HI(n,e[i])});if(pL(t)&&pL(e)){var r=zA(new Set([].concat(zA(Object.keys(t)),zA(Object.keys(e)))));return r.every(function(n){return HI(t[n],e[n])})}return!1}function pL(t){return jI(t)==="object"&&t!==null}var Sre={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Are=92,Tre=123,mL=125,Cre=91,yL=93,Ire=32,Ore=10,Rre=9,Pre=13,HA=34,kre=43,gL=45,_P=48,Nre=49,bP=57,Mre=44,Dre=46,Bre=58,Lre=65,$re=97,Ure=69,Fre=101,jre=70,zre=102;function C1(t){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(t)}function wP(t,e,r,n){var i=Hre(r),s=typeof e=="function"?e.call({"":t},"",t):t;return o(s,"");function o(c,f){if(Array.isArray(n)){var p=n.find(function(y){return y.test(c)});if(p){var m=p.stringify(c);if(typeof m!="string"||!pP(m))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(m,")"));return m}}if(typeof c=="boolean"||typeof c=="number"||typeof c=="string"||c===null||c instanceof Date||c instanceof Boolean||c instanceof Number||c instanceof String)return JSON.stringify(c);if(c&&c.isLosslessNumber||typeof c=="bigint")return c.toString();if(Array.isArray(c))return a(c,f);if(c&&C1(c)==="object")return u(c,f)}function a(c,f){if(c.length===0)return"[]";for(var p=i?f+i:void 0,m=i?`[
`:"[",y=0;y<c.length;y++){var g=typeof e=="function"?e.call(c,String(y),c[y]):c[y];i&&(m+=p),typeof g<"u"&&typeof g!="function"?m+=o(g,p):m+="null",y<c.length-1&&(m+=i?`,
`:",")}return m+=i?`
`+f+"]":"]",m}function u(c,f){if(typeof c.toJSON=="function")return wP(c.toJSON(),e,r,void 0);var p=Array.isArray(e)?e.map(String):Object.keys(c);if(p.length===0)return"{}";var m=i?f+i:void 0,y=!0,g=i?`{
`:"{";return p.forEach(function(w){var b=typeof e=="function"?e.call(c,w,c[w]):c[w];if(l(w,b)){y?y=!1:g+=i?`,
`:",";var _=JSON.stringify(w);g+=i?m+_+": ":_+":",g+=o(b,m)}}),g+=i?`
`+f+"}":"}",g}function l(c,f){return typeof f<"u"&&typeof f!="function"&&C1(f)!=="symbol"}}function Hre(t){if(typeof t=="number")return" ".repeat(t);if(typeof t=="string"&&t!=="")return t}function Vre(t,e){return typeof e=="string"&&Gre.test(e)?new Date(e):e}var Gre=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/;const Wre=Object.freeze(Object.defineProperty({__proto__:null,LosslessNumber:yP,UnsafeNumberReason:Rc,config:tre,getUnsafeNumberReason:mP,isInteger:bp,isLosslessNumber:kj,isNumber:pP,isSafeNumber:Rj,parse:vP,parseLosslessNumber:Nj,parseNumberAndBigInt:Mj,reviveDate:Vre,stringify:wP,toLosslessNumber:fre,toSafeNumberOrThrow:ire},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Dj(t){const{Fp:e,mds:r,reversePartialPowIdx:n,roundConstants:i}=t,{roundsFull:s,roundsPartial:o,sboxPower:a,t:u}=t;fP(e);for(const y of["t","roundsFull","roundsPartial"])if(typeof t[y]!="number"||!Number.isSafeInteger(t[y]))throw new Error(`Poseidon: invalid param ${y}=${t[y]} (${typeof t[y]})`);if(!Array.isArray(r)||r.length!==u)throw new Error("Poseidon: wrong MDS matrix");const l=r.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon MDS matrix row: ${y}`);return y.map(g=>{if(typeof g!="bigint")throw new Error(`Poseidon MDS matrix value=${g}`);return e.create(g)})});if(n!==void 0&&typeof n!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${n}`);if(s%2!==0)throw new Error(`Poseidon roundsFull is not even: ${s}`);const c=s+o;if(!Array.isArray(i)||i.length!==c)throw new Error("Poseidon: wrong round constants");const f=i.map(y=>{if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon wrong round constants: ${y}`);return y.map(g=>{if(typeof g!="bigint"||!e.isValid(g))throw new Error(`Poseidon wrong round constant=${g}`);return e.create(g)})});if(!a||![3,5,7].includes(a))throw new Error(`Poseidon wrong sboxPower=${a}`);const p=BigInt(a);let m=y=>Hte(e,y,p);return a===3?m=y=>e.mul(e.sqrN(y),y):a===5&&(m=y=>e.mul(e.sqrN(e.sqrN(y)),y)),Object.freeze({...t,rounds:c,sboxFn:m,roundConstants:f,mds:l})}function qre(t,e){if(typeof e!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(t)||t.length%e)throw new Error("poseidonSplitConstants: wrong rc");const r=[];let n=[];for(let i=0;i<t.length;i++)n.push(t[i]),n.length===e&&(r.push(n),n=[]);return r}function Zre(t){const e=Dj(t),{Fp:r,mds:n,roundConstants:i,rounds:s,roundsPartial:o,sboxFn:a,t:u}=e,l=e.roundsFull/2,c=e.reversePartialPowIdx?u-1:0,f=(m,y,g)=>(m=m.map((w,b)=>r.add(w,i[g][b])),y?m=m.map(w=>a(w)):m[c]=a(m[c]),m=n.map(w=>w.reduce((b,_,E)=>r.add(b,r.mulN(_,m[E])),r.ZERO)),m),p=function(y){if(!Array.isArray(y)||y.length!==u)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${u})`);y=y.map(w=>{if(typeof w!="bigint")throw new Error(`Poseidon: wrong value=${w} (${typeof w})`);return r.create(w)});let g=0;for(let w=0;w<l;w++)y=f(y,!0,g++);for(let w=0;w<o;w++)y=f(y,!1,g++);for(let w=0;w<l;w++)y=f(y,!0,g++);if(g!==s)throw new Error(`Poseidon: wrong number of rounds: last round=${g}, total=${s}`);return y};return p.roundConstants=i,p}const Xre=Object.freeze(Object.defineProperty({__proto__:null,poseidon:Zre,splitConstants:qre,validateOpts:Dj},Symbol.toStringTag,{value:"Module"}));/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Yre=4,vL=0,_L=1,Qre=2;function wp(t){let e=t.length;for(;--e>=0;)t[e]=0}const Kre=0,Bj=1,Jre=2,ene=3,tne=258,EP=29,ov=256,ag=ov+1+EP,_f=30,xP=19,Lj=2*ag+1,Pc=15,VA=16,rne=7,SP=256,$j=16,Uj=17,Fj=18,VI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ib=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nne=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),jj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ine=512,Pa=new Array((ag+2)*2);wp(Pa);const xy=new Array(_f*2);wp(xy);const ug=new Array(ine);wp(ug);const lg=new Array(tne-ene+1);wp(lg);const AP=new Array(EP);wp(AP);const I1=new Array(_f);wp(I1);function GA(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let zj,Hj,Vj;function WA(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Gj=t=>t<256?ug[t]:ug[256+(t>>>7)],cg=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},oi=(t,e,r)=>{t.bi_valid>VA-r?(t.bi_buf|=e<<t.bi_valid&65535,cg(t,t.bi_buf),t.bi_buf=e>>VA-t.bi_valid,t.bi_valid+=r-VA):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},qo=(t,e,r)=>{oi(t,r[e*2],r[e*2+1])},Wj=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},sne=t=>{t.bi_valid===16?(cg(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},one=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,c,f,p,m,y,g=0;for(p=0;p<=Pc;p++)t.bl_count[p]=0;for(r[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<Lj;l++)c=t.heap[l],p=r[r[c*2+1]*2+1]+1,p>u&&(p=u,g++),r[c*2+1]=p,!(c>n)&&(t.bl_count[p]++,m=0,c>=a&&(m=o[c-a]),y=r[c*2],t.opt_len+=y*(p+m),s&&(t.static_len+=y*(i[c*2+1]+m)));if(g!==0){do{for(p=u-1;t.bl_count[p]===0;)p--;t.bl_count[p]--,t.bl_count[p+1]+=2,t.bl_count[u]--,g-=2}while(g>0);for(p=u;p!==0;p--)for(c=t.bl_count[p];c!==0;)f=t.heap[--l],!(f>n)&&(r[f*2+1]!==p&&(t.opt_len+=(p-r[f*2+1])*r[f*2],r[f*2+1]=p),c--)}},qj=(t,e,r)=>{const n=new Array(Pc+1);let i=0,s,o;for(s=1;s<=Pc;s++)i=i+r[s-1]<<1,n[s]=i;for(o=0;o<=e;o++){let a=t[o*2+1];a!==0&&(t[o*2]=Wj(n[a]++,a))}},ane=()=>{let t,e,r,n,i;const s=new Array(Pc+1);for(r=0,n=0;n<EP-1;n++)for(AP[n]=r,t=0;t<1<<VI[n];t++)lg[r++]=n;for(lg[r-1]=n,i=0,n=0;n<16;n++)for(I1[n]=i,t=0;t<1<<Ib[n];t++)ug[i++]=n;for(i>>=7;n<_f;n++)for(I1[n]=i<<7,t=0;t<1<<Ib[n]-7;t++)ug[256+i++]=n;for(e=0;e<=Pc;e++)s[e]=0;for(t=0;t<=143;)Pa[t*2+1]=8,t++,s[8]++;for(;t<=255;)Pa[t*2+1]=9,t++,s[9]++;for(;t<=279;)Pa[t*2+1]=7,t++,s[7]++;for(;t<=287;)Pa[t*2+1]=8,t++,s[8]++;for(qj(Pa,ag+1,s),t=0;t<_f;t++)xy[t*2+1]=5,xy[t*2]=Wj(t,5);zj=new GA(Pa,VI,ov+1,ag,Pc),Hj=new GA(xy,Ib,0,_f,Pc),Vj=new GA(new Array(0),nne,0,xP,rne)},Zj=t=>{let e;for(e=0;e<ag;e++)t.dyn_ltree[e*2]=0;for(e=0;e<_f;e++)t.dyn_dtree[e*2]=0;for(e=0;e<xP;e++)t.bl_tree[e*2]=0;t.dyn_ltree[SP*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Xj=t=>{t.bi_valid>8?cg(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},bL=(t,e,r,n)=>{const i=e*2,s=r*2;return t[i]<t[s]||t[i]===t[s]&&n[e]<=n[r]},qA=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&bL(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!bL(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},wL=(t,e,r)=>{let n,i,s=0,o,a;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+s++]&255,n+=(t.pending_buf[t.sym_buf+s++]&255)<<8,i=t.pending_buf[t.sym_buf+s++],n===0?qo(t,i,e):(o=lg[i],qo(t,o+ov+1,e),a=VI[o],a!==0&&(i-=AP[o],oi(t,i,a)),n--,o=Gj(n),qo(t,o,r),a=Ib[o],a!==0&&(n-=I1[o],oi(t,n,a)));while(s<t.sym_next);qo(t,SP,e)},GI=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,u=-1,l;for(t.heap_len=0,t.heap_max=Lj,o=0;o<s;o++)r[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,r[l*2]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[l*2+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)qA(t,r,o);l=s;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],qA(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,r[l*2]=r[o*2]+r[a*2],t.depth[l]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,r[o*2+1]=r[a*2+1]=l,t.heap[1]=l++,qA(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],one(t,e),qj(r,u,t.bl_count)},EL=(t,e,r)=>{let n,i=-1,s,o=e[0*2+1],a=0,u=7,l=4;for(o===0&&(u=138,l=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)s=o,o=e[(n+1)*2+1],!(++a<u&&s===o)&&(a<l?t.bl_tree[s*2]+=a:s!==0?(s!==i&&t.bl_tree[s*2]++,t.bl_tree[$j*2]++):a<=10?t.bl_tree[Uj*2]++:t.bl_tree[Fj*2]++,a=0,i=s,o===0?(u=138,l=3):s===o?(u=6,l=3):(u=7,l=4))},xL=(t,e,r)=>{let n,i=-1,s,o=e[0*2+1],a=0,u=7,l=4;for(o===0&&(u=138,l=3),n=0;n<=r;n++)if(s=o,o=e[(n+1)*2+1],!(++a<u&&s===o)){if(a<l)do qo(t,s,t.bl_tree);while(--a!==0);else s!==0?(s!==i&&(qo(t,s,t.bl_tree),a--),qo(t,$j,t.bl_tree),oi(t,a-3,2)):a<=10?(qo(t,Uj,t.bl_tree),oi(t,a-3,3)):(qo(t,Fj,t.bl_tree),oi(t,a-11,7));a=0,i=s,o===0?(u=138,l=3):s===o?(u=6,l=3):(u=7,l=4)}},une=t=>{let e;for(EL(t,t.dyn_ltree,t.l_desc.max_code),EL(t,t.dyn_dtree,t.d_desc.max_code),GI(t,t.bl_desc),e=xP-1;e>=3&&t.bl_tree[jj[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},lne=(t,e,r,n)=>{let i;for(oi(t,e-257,5),oi(t,r-1,5),oi(t,n-4,4),i=0;i<n;i++)oi(t,t.bl_tree[jj[i]*2+1],3);xL(t,t.dyn_ltree,e-1),xL(t,t.dyn_dtree,r-1)},cne=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return vL;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return _L;for(r=32;r<ov;r++)if(t.dyn_ltree[r*2]!==0)return _L;return vL};let SL=!1;const hne=t=>{SL||(ane(),SL=!0),t.l_desc=new WA(t.dyn_ltree,zj),t.d_desc=new WA(t.dyn_dtree,Hj),t.bl_desc=new WA(t.bl_tree,Vj),t.bi_buf=0,t.bi_valid=0,Zj(t)},Yj=(t,e,r,n)=>{oi(t,(Kre<<1)+(n?1:0),3),Xj(t),cg(t,r),cg(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},dne=t=>{oi(t,Bj<<1,3),qo(t,SP,Pa),sne(t)},fne=(t,e,r,n)=>{let i,s,o=0;t.level>0?(t.strm.data_type===Qre&&(t.strm.data_type=cne(t)),GI(t,t.l_desc),GI(t,t.d_desc),o=une(t),i=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&e!==-1?Yj(t,e,r,n):t.strategy===Yre||s===i?(oi(t,(Bj<<1)+(n?1:0),3),wL(t,Pa,xy)):(oi(t,(Jre<<1)+(n?1:0),3),lne(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),wL(t,t.dyn_ltree,t.dyn_dtree)),Zj(t),n&&Xj(t)},pne=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(lg[r]+ov+1)*2]++,t.dyn_dtree[Gj(e)*2]++),t.sym_next===t.sym_end);var mne=hne,yne=Yj,gne=fne,vne=pne,_ne=dne,bne={_tr_init:mne,_tr_stored_block:yne,_tr_flush_block:gne,_tr_tally:vne,_tr_align:_ne};const wne=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var hg=wne;const Ene=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},xne=new Uint32Array(Ene()),Sne=(t,e,r,n)=>{const i=xne,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var jr=Sne,sh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ch={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ane,_tr_stored_block:WI,_tr_flush_block:Tne,_tr_tally:rl,_tr_align:Cne}=bne,{Z_NO_FLUSH:nl,Z_PARTIAL_FLUSH:Ine,Z_FULL_FLUSH:One,Z_FINISH:rs,Z_BLOCK:AL,Z_OK:Jr,Z_STREAM_END:TL,Z_STREAM_ERROR:ea,Z_DATA_ERROR:Rne,Z_BUF_ERROR:ZA,Z_DEFAULT_COMPRESSION:Pne,Z_FILTERED:kne,Z_HUFFMAN_ONLY:p0,Z_RLE:Nne,Z_FIXED:Mne,Z_DEFAULT_STRATEGY:Dne,Z_UNKNOWN:Bne,Z_DEFLATED:iE}=Ch,Lne=9,$ne=15,Une=8,Fne=29,jne=256,qI=jne+1+Fne,zne=30,Hne=19,Vne=2*qI+1,Gne=15,ft=3,Hu=258,ta=Hu+ft+1,Wne=32,Vf=42,TP=57,ZI=69,XI=73,YI=91,QI=103,kc=113,Ym=666,Un=1,Ep=2,oh=3,xp=4,qne=3,Nc=(t,e)=>(t.msg=sh[e],e),CL=t=>t*2-(t>4?9:0),Du=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Zne=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let Xne=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,il=Xne;const bi=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},Ii=(t,e)=>{Tne(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,bi(t.strm)},xt=(t,e)=>{t.pending_buf[t.pending++]=e},Om=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},KI=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=hg(t.adler,e,i,r):t.state.wrap===2&&(t.adler=jr(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},Qj=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,s,o=t.prev_length,a=t.nice_match;const u=t.strstart>t.w_size-ta?t.strstart-(t.w_size-ta):0,l=t.window,c=t.w_mask,f=t.prev,p=t.strstart+Hu;let m=l[n+o-1],y=l[n+o];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,!(l[i+o]!==y||l[i+o-1]!==m||l[i]!==l[n]||l[++i]!==l[n+1])){n+=2,i++;do;while(l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&n<p);if(s=Hu-(p-n),n=p-Hu,s>o){if(t.match_start=e,o=s,s>=a)break;m=l[n+o-1],y=l[n+o]}}while((e=f[e&c])>u&&--r!==0);return o<=t.lookahead?o:t.lookahead},Gf=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ta)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Zne(t),n+=e),t.strm.avail_in===0)break;if(r=KI(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=ft)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=il(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=il(t,t.ins_h,t.window[i+ft-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<ft)););}while(t.lookahead<ta&&t.strm.avail_in!==0)},Kj=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,s,o=0,a=t.strm.avail_in;do{if(n=65535,s=t.bi_valid+42>>3,t.strm.avail_out<s||(s=t.strm.avail_out-s,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&e!==rs||e===nl||n!==i+t.strm.avail_in)))break;o=e===rs&&n===i+t.strm.avail_in?1:0,WI(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,bi(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(KI(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(o===0);return a-=t.strm.avail_in,a&&(a>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=a&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-a,t.strm.next_in),t.strstart),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?xp:e!==nl&&e!==rs&&t.strm.avail_in===0&&t.strstart===t.block_start?Ep:(s=t.window_size-t.strstart,t.strm.avail_in>s&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,s+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),s>t.strm.avail_in&&(s=t.strm.avail_in),s&&(KI(t.strm,t.window,t.strstart,s),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.high_water<t.strstart&&(t.high_water=t.strstart),s=t.bi_valid+42>>3,s=t.pending_buf_size-s>65535?65535:t.pending_buf_size-s,r=s>t.w_size?t.w_size:s,i=t.strstart-t.block_start,(i>=r||(i||e===rs)&&e!==nl&&t.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,o=e===rs&&t.strm.avail_in===0&&n===i?1:0,WI(t,t.block_start,n,o),t.block_start+=n,bi(t.strm)),o?oh:Un)},XA=(t,e)=>{let r,n;for(;;){if(t.lookahead<ta){if(Gf(t),t.lookahead<ta&&e===nl)return Un;if(t.lookahead===0)break}if(r=0,t.lookahead>=ft&&(t.ins_h=il(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-ta&&(t.match_length=Qj(t,r)),t.match_length>=ft)if(n=rl(t,t.strstart-t.match_start,t.match_length-ft),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ft){t.match_length--;do t.strstart++,t.ins_h=il(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=il(t,t.ins_h,t.window[t.strstart+1]);else n=rl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ii(t,!1),t.strm.avail_out===0))return Un}return t.insert=t.strstart<ft-1?t.strstart:ft-1,e===rs?(Ii(t,!0),t.strm.avail_out===0?oh:xp):t.sym_next&&(Ii(t,!1),t.strm.avail_out===0)?Un:Ep},hd=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<ta){if(Gf(t),t.lookahead<ta&&e===nl)return Un;if(t.lookahead===0)break}if(r=0,t.lookahead>=ft&&(t.ins_h=il(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ft-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ta&&(t.match_length=Qj(t,r),t.match_length<=5&&(t.strategy===kne||t.match_length===ft&&t.strstart-t.match_start>4096)&&(t.match_length=ft-1)),t.prev_length>=ft&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ft,n=rl(t,t.strstart-1-t.prev_match,t.prev_length-ft),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=il(t,t.ins_h,t.window[t.strstart+ft-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=ft-1,t.strstart++,n&&(Ii(t,!1),t.strm.avail_out===0))return Un}else if(t.match_available){if(n=rl(t,0,t.window[t.strstart-1]),n&&Ii(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Un}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=rl(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ft-1?t.strstart:ft-1,e===rs?(Ii(t,!0),t.strm.avail_out===0?oh:xp):t.sym_next&&(Ii(t,!1),t.strm.avail_out===0)?Un:Ep},Yne=(t,e)=>{let r,n,i,s;const o=t.window;for(;;){if(t.lookahead<=Hu){if(Gf(t),t.lookahead<=Hu&&e===nl)return Un;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=ft&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=t.strstart+Hu;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);t.match_length=Hu-(s-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ft?(r=rl(t,1,t.match_length-ft),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=rl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Ii(t,!1),t.strm.avail_out===0))return Un}return t.insert=0,e===rs?(Ii(t,!0),t.strm.avail_out===0?oh:xp):t.sym_next&&(Ii(t,!1),t.strm.avail_out===0)?Un:Ep},Qne=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(Gf(t),t.lookahead===0)){if(e===nl)return Un;break}if(t.match_length=0,r=rl(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Ii(t,!1),t.strm.avail_out===0))return Un}return t.insert=0,e===rs?(Ii(t,!0),t.strm.avail_out===0?oh:xp):t.sym_next&&(Ii(t,!1),t.strm.avail_out===0)?Un:Ep};function Mo(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Qm=[new Mo(0,0,0,0,Kj),new Mo(4,4,8,4,XA),new Mo(4,5,16,8,XA),new Mo(4,6,32,32,XA),new Mo(4,4,16,16,hd),new Mo(8,16,32,32,hd),new Mo(8,16,128,128,hd),new Mo(8,32,128,256,hd),new Mo(32,128,258,1024,hd),new Mo(32,258,258,4096,hd)],Kne=t=>{t.window_size=2*t.w_size,Du(t.head),t.max_lazy_match=Qm[t.level].max_lazy,t.good_match=Qm[t.level].good_length,t.nice_match=Qm[t.level].nice_length,t.max_chain_length=Qm[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ft-1,t.match_available=0,t.ins_h=0};function Jne(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=iE,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Vne*2),this.dyn_dtree=new Uint16Array((2*zne+1)*2),this.bl_tree=new Uint16Array((2*Hne+1)*2),Du(this.dyn_ltree),Du(this.dyn_dtree),Du(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Gne+1),this.heap=new Uint16Array(2*qI+1),Du(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*qI+1),Du(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const av=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Vf&&e.status!==TP&&e.status!==ZI&&e.status!==XI&&e.status!==YI&&e.status!==QI&&e.status!==kc&&e.status!==Ym?1:0},Jj=t=>{if(av(t))return Nc(t,ea);t.total_in=t.total_out=0,t.data_type=Bne;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?TP:e.wrap?Vf:kc,t.adler=e.wrap===2?0:1,e.last_flush=-2,Ane(e),Jr},ez=t=>{const e=Jj(t);return e===Jr&&Kne(t.state),e},eie=(t,e)=>av(t)||t.state.wrap!==2?ea:(t.state.gzhead=e,Jr),tz=(t,e,r,n,i,s)=>{if(!t)return ea;let o=1;if(e===Pne&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>Lne||r!==iE||n<8||n>15||e<0||e>9||s<0||s>Mne||n===8&&o!==1)return Nc(t,ea);n===8&&(n=9);const a=new Jne;return t.state=a,a.strm=t,a.status=Vf,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+ft-1)/ft),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=r,ez(t)},tie=(t,e)=>tz(t,e,iE,$ne,Une,Dne),rie=(t,e)=>{if(av(t)||e>AL||e<0)return t?Nc(t,ea):ea;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===Ym&&e!==rs)return Nc(t,t.avail_out===0?ZA:ea);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(bi(t),t.avail_out===0)return r.last_flush=-1,Jr}else if(t.avail_in===0&&CL(e)<=CL(n)&&e!==rs)return Nc(t,ZA);if(r.status===Ym&&t.avail_in!==0)return Nc(t,ZA);if(r.status===Vf&&r.wrap===0&&(r.status=kc),r.status===Vf){let i=iE+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=p0||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=Wne),i+=31-i%31,Om(r,i),r.strstart!==0&&(Om(r,t.adler>>>16),Om(r,t.adler&65535)),t.adler=1,r.status=kc,bi(t),r.pending!==0)return r.last_flush=-1,Jr}if(r.status===TP){if(t.adler=0,xt(r,31),xt(r,139),xt(r,8),r.gzhead)xt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xt(r,r.gzhead.time&255),xt(r,r.gzhead.time>>8&255),xt(r,r.gzhead.time>>16&255),xt(r,r.gzhead.time>>24&255),xt(r,r.level===9?2:r.strategy>=p0||r.level<2?4:0),xt(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(xt(r,r.gzhead.extra.length&255),xt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=jr(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=ZI;else if(xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,r.level===9?2:r.strategy>=p0||r.level<2?4:0),xt(r,qne),r.status=kc,bi(t),r.pending!==0)return r.last_flush=-1,Jr}if(r.status===ZI){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let a=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=a,bi(t),r.pending!==0)return r.last_flush=-1,Jr;i=0,s-=a}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=XI}if(r.status===XI){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),bi(t),r.pending!==0)return r.last_flush=-1,Jr;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,xt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=YI}if(r.status===YI){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i)),bi(t),r.pending!==0)return r.last_flush=-1,Jr;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,xt(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=jr(t.adler,r.pending_buf,r.pending-i,i))}r.status=QI}if(r.status===QI){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(bi(t),r.pending!==0))return r.last_flush=-1,Jr;xt(r,t.adler&255),xt(r,t.adler>>8&255),t.adler=0}if(r.status=kc,bi(t),r.pending!==0)return r.last_flush=-1,Jr}if(t.avail_in!==0||r.lookahead!==0||e!==nl&&r.status!==Ym){let i=r.level===0?Kj(r,e):r.strategy===p0?Qne(r,e):r.strategy===Nne?Yne(r,e):Qm[r.level].func(r,e);if((i===oh||i===xp)&&(r.status=Ym),i===Un||i===oh)return t.avail_out===0&&(r.last_flush=-1),Jr;if(i===Ep&&(e===Ine?Cne(r):e!==AL&&(WI(r,0,0,!1),e===One&&(Du(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),bi(t),t.avail_out===0))return r.last_flush=-1,Jr}return e!==rs?Jr:r.wrap<=0?TL:(r.wrap===2?(xt(r,t.adler&255),xt(r,t.adler>>8&255),xt(r,t.adler>>16&255),xt(r,t.adler>>24&255),xt(r,t.total_in&255),xt(r,t.total_in>>8&255),xt(r,t.total_in>>16&255),xt(r,t.total_in>>24&255)):(Om(r,t.adler>>>16),Om(r,t.adler&65535)),bi(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Jr:TL)},nie=t=>{if(av(t))return ea;const e=t.state.status;return t.state=null,e===kc?Nc(t,Rne):Jr},iie=(t,e)=>{let r=e.length;if(av(t))return ea;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==Vf||n.lookahead)return ea;if(i===1&&(t.adler=hg(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(Du(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(e.subarray(r-n.w_size,r),0),e=u,r=n.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Gf(n);n.lookahead>=ft;){let u=n.strstart,l=n.lookahead-(ft-1);do n.ins_h=il(n,n.ins_h,n.window[u+ft-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=ft-1,Gf(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ft-1,n.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,n.wrap=i,Jr};var sie=tie,oie=tz,aie=ez,uie=Jj,lie=eie,cie=rie,hie=nie,die=iie,fie="pako deflate (from Nodeca project)",Sy={deflateInit:sie,deflateInit2:oie,deflateReset:aie,deflateResetKeep:uie,deflateSetHeader:lie,deflate:cie,deflateEnd:hie,deflateSetDictionary:die,deflateInfo:fie};const pie=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var mie=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)pie(r,n)&&(t[n]=r[n])}}return t},yie=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let o=t[n];r.set(o,i),i+=o.length}return r},sE={assign:mie,flattenChunks:yie};let rz=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{rz=!1}const dg=new Uint8Array(256);for(let t=0;t<256;t++)dg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;dg[254]=dg[254]=1;var gie=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,o=t.length,a=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const vie=(t,e)=>{if(e<65534&&t.subarray&&rz)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var _ie=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){s[i++]=o;continue}let a=dg[o];if(a>4){s[i++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return vie(s,i)},bie=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+dg[t[r]]>e?r:e},fg={string2buf:gie,buf2string:_ie,utf8border:bie};function wie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var nz=wie;const iz=Object.prototype.toString,{Z_NO_FLUSH:Eie,Z_SYNC_FLUSH:xie,Z_FULL_FLUSH:Sie,Z_FINISH:Aie,Z_OK:O1,Z_STREAM_END:Tie,Z_DEFAULT_COMPRESSION:Cie,Z_DEFAULT_STRATEGY:Iie,Z_DEFLATED:Oie}=Ch;function uv(t){this.options=sE.assign({level:Cie,method:Oie,chunkSize:16384,windowBits:15,memLevel:8,strategy:Iie},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nz,this.strm.avail_out=0;let r=Sy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==O1)throw new Error(sh[r]);if(e.header&&Sy.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=fg.string2buf(e.dictionary):iz.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=Sy.deflateSetDictionary(this.strm,n),r!==O1)throw new Error(sh[r]);this._dict_set=!0}}uv.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Aie:Eie,typeof t=="string"?r.input=fg.string2buf(t):iz.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===xie||s===Sie)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Sy.deflate(r,s),i===Tie)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Sy.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===O1;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};uv.prototype.onData=function(t){this.chunks.push(t)};uv.prototype.onEnd=function(t){t===O1&&(this.result=sE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function CP(t,e){const r=new uv(e);if(r.push(t,!0),r.err)throw r.msg||sh[r.err];return r.result}function Rie(t,e){return e=e||{},e.raw=!0,CP(t,e)}function Pie(t,e){return e=e||{},e.gzip=!0,CP(t,e)}var kie=uv,Nie=CP,Mie=Rie,Die=Pie,Bie=Ch,Lie={Deflate:kie,deflate:Nie,deflateRaw:Mie,gzip:Die,constants:Bie};const m0=16209,$ie=16191;var Uie=function(e,r){let n,i,s,o,a,u,l,c,f,p,m,y,g,w,b,_,E,x,N,M,R,D,W,G;const F=e.state;n=e.next_in,W=e.input,i=n+(e.avail_in-5),s=e.next_out,G=e.output,o=s-(r-e.avail_out),a=s+(e.avail_out-257),u=F.dmax,l=F.wsize,c=F.whave,f=F.wnext,p=F.window,m=F.hold,y=F.bits,g=F.lencode,w=F.distcode,b=(1<<F.lenbits)-1,_=(1<<F.distbits)-1;e:do{y<15&&(m+=W[n++]<<y,y+=8,m+=W[n++]<<y,y+=8),E=g[m&b];t:for(;;){if(x=E>>>24,m>>>=x,y-=x,x=E>>>16&255,x===0)G[s++]=E&65535;else if(x&16){N=E&65535,x&=15,x&&(y<x&&(m+=W[n++]<<y,y+=8),N+=m&(1<<x)-1,m>>>=x,y-=x),y<15&&(m+=W[n++]<<y,y+=8,m+=W[n++]<<y,y+=8),E=w[m&_];r:for(;;){if(x=E>>>24,m>>>=x,y-=x,x=E>>>16&255,x&16){if(M=E&65535,x&=15,y<x&&(m+=W[n++]<<y,y+=8,y<x&&(m+=W[n++]<<y,y+=8)),M+=m&(1<<x)-1,M>u){e.msg="invalid distance too far back",F.mode=m0;break e}if(m>>>=x,y-=x,x=s-o,M>x){if(x=M-x,x>c&&F.sane){e.msg="invalid distance too far back",F.mode=m0;break e}if(R=0,D=p,f===0){if(R+=l-x,x<N){N-=x;do G[s++]=p[R++];while(--x);R=s-M,D=G}}else if(f<x){if(R+=l+f-x,x-=f,x<N){N-=x;do G[s++]=p[R++];while(--x);if(R=0,f<N){x=f,N-=x;do G[s++]=p[R++];while(--x);R=s-M,D=G}}}else if(R+=f-x,x<N){N-=x;do G[s++]=p[R++];while(--x);R=s-M,D=G}for(;N>2;)G[s++]=D[R++],G[s++]=D[R++],G[s++]=D[R++],N-=3;N&&(G[s++]=D[R++],N>1&&(G[s++]=D[R++]))}else{R=s-M;do G[s++]=G[R++],G[s++]=G[R++],G[s++]=G[R++],N-=3;while(N>2);N&&(G[s++]=G[R++],N>1&&(G[s++]=G[R++]))}}else if(x&64){e.msg="invalid distance code",F.mode=m0;break e}else{E=w[(E&65535)+(m&(1<<x)-1)];continue r}break}}else if(x&64)if(x&32){F.mode=$ie;break e}else{e.msg="invalid literal/length code",F.mode=m0;break e}else{E=g[(E&65535)+(m&(1<<x)-1)];continue t}break}}while(n<i&&s<a);N=y>>3,n-=N,y-=N<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<a?257+(a-s):257-(s-a),F.hold=m,F.bits=y};const dd=15,IL=852,OL=592,RL=0,YA=1,PL=2,Fie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Hie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Vie=(t,e,r,n,i,s,o,a)=>{const u=a.bits;let l=0,c=0,f=0,p=0,m=0,y=0,g=0,w=0,b=0,_=0,E,x,N,M,R,D=null,W;const G=new Uint16Array(dd+1),F=new Uint16Array(dd+1);let X=null,B,j,C;for(l=0;l<=dd;l++)G[l]=0;for(c=0;c<n;c++)G[e[r+c]]++;for(m=u,p=dd;p>=1&&G[p]===0;p--);if(m>p&&(m=p),p===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&G[f]===0;f++);for(m<f&&(m=f),w=1,l=1;l<=dd;l++)if(w<<=1,w-=G[l],w<0)return-1;if(w>0&&(t===RL||p!==1))return-1;for(F[1]=0,l=1;l<dd;l++)F[l+1]=F[l]+G[l];for(c=0;c<n;c++)e[r+c]!==0&&(o[F[e[r+c]]++]=c);if(t===RL?(D=X=o,W=20):t===YA?(D=Fie,X=jie,W=257):(D=zie,X=Hie,W=0),_=0,c=0,l=f,R=s,y=m,g=0,N=-1,b=1<<m,M=b-1,t===YA&&b>IL||t===PL&&b>OL)return 1;for(;;){B=l-g,o[c]+1<W?(j=0,C=o[c]):o[c]>=W?(j=X[o[c]-W],C=D[o[c]-W]):(j=32+64,C=0),E=1<<l-g,x=1<<y,f=x;do x-=E,i[R+(_>>g)+x]=B<<24|j<<16|C|0;while(x!==0);for(E=1<<l-1;_&E;)E>>=1;if(E!==0?(_&=E-1,_+=E):_=0,c++,--G[l]===0){if(l===p)break;l=e[r+o[c]]}if(l>m&&(_&M)!==N){for(g===0&&(g=m),R+=f,y=l-g,w=1<<y;y+g<p&&(w-=G[y+g],!(w<=0));)y++,w<<=1;if(b+=1<<y,t===YA&&b>IL||t===PL&&b>OL)return 1;N=_&M,i[N]=m<<24|y<<16|R-s|0}}return _!==0&&(i[R+_]=l-g<<24|64<<16|0),a.bits=m,0};var Ay=Vie;const Gie=0,sz=1,oz=2,{Z_FINISH:kL,Z_BLOCK:Wie,Z_TREES:y0,Z_OK:ah,Z_STREAM_END:qie,Z_NEED_DICT:Zie,Z_STREAM_ERROR:ys,Z_DATA_ERROR:az,Z_MEM_ERROR:uz,Z_BUF_ERROR:Xie,Z_DEFLATED:NL}=Ch,oE=16180,ML=16181,DL=16182,BL=16183,LL=16184,$L=16185,UL=16186,FL=16187,jL=16188,zL=16189,R1=16190,xa=16191,QA=16192,HL=16193,KA=16194,VL=16195,GL=16196,WL=16197,qL=16198,g0=16199,v0=16200,ZL=16201,XL=16202,YL=16203,QL=16204,KL=16205,JA=16206,JL=16207,e4=16208,Xt=16209,lz=16210,cz=16211,Yie=852,Qie=592,Kie=15,Jie=Kie,t4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ese(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ih=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<oE||e.mode>cz?1:0},hz=t=>{if(Ih(t))return ys;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=oE,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Yie),e.distcode=e.distdyn=new Int32Array(Qie),e.sane=1,e.back=-1,ah},dz=t=>{if(Ih(t))return ys;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,hz(t)},fz=(t,e)=>{let r;if(Ih(t))return ys;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ys:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,dz(t))},pz=(t,e)=>{if(!t)return ys;const r=new ese;t.state=r,r.strm=t,r.window=null,r.mode=oE;const n=fz(t,e);return n!==ah&&(t.state=null),n},tse=t=>pz(t,Jie);let r4=!0,eT,tT;const rse=t=>{if(r4){eT=new Int32Array(512),tT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ay(sz,t.lens,0,288,eT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ay(oz,t.lens,0,32,tT,0,t.work,{bits:5}),r4=!1}t.lencode=eT,t.lenbits=9,t.distcode=tT,t.distbits=5},mz=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},nse=(t,e)=>{let r,n,i,s,o,a,u,l,c,f,p,m,y,g,w=0,b,_,E,x,N,M,R,D;const W=new Uint8Array(4);let G,F;const X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ih(t)||!t.output||!t.input&&t.avail_in!==0)return ys;r=t.state,r.mode===xa&&(r.mode=QA),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,c=r.bits,f=a,p=u,D=ah;e:for(;;)switch(r.mode){case oE:if(r.wrap===0){r.mode=QA;break}for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0),l=0,c=0,r.mode=ML;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=Xt;break}if((l&15)!==NL){t.msg="unknown compression method",r.mode=Xt;break}if(l>>>=4,c-=4,R=(l&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=Xt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?zL:xa,l=0,c=0;break;case ML:for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.flags=l,(r.flags&255)!==NL){t.msg="unknown compression method",r.mode=Xt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Xt;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0)),l=0,c=0,r.mode=DL;case DL:for(;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,W[2]=l>>>16&255,W[3]=l>>>24&255,r.check=jr(r.check,W,4,0)),l=0,c=0,r.mode=BL;case BL:for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0)),l=0,c=0,r.mode=LL;case LL:if(r.flags&1024){for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(W[0]=l&255,W[1]=l>>>8&255,r.check=jr(r.check,W,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=$L;case $L:if(r.flags&1024&&(m=r.length,m>a&&(m=a),m&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+m),R)),r.flags&512&&r.wrap&4&&(r.check=jr(r.check,n,m,s)),a-=m,s+=m,r.length-=m),r.length))break e;r.length=0,r.mode=UL;case UL:if(r.flags&2048){if(a===0)break e;m=0;do R=n[s+m++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&m<a);if(r.flags&512&&r.wrap&4&&(r.check=jr(r.check,n,m,s)),a-=m,s+=m,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=FL;case FL:if(r.flags&4096){if(a===0)break e;m=0;do R=n[s+m++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&m<a);if(r.flags&512&&r.wrap&4&&(r.check=jr(r.check,n,m,s)),a-=m,s+=m,R)break e}else r.head&&(r.head.comment=null);r.mode=jL;case jL:if(r.flags&512){for(;c<16;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Xt;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=xa;break;case zL:for(;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}t.adler=r.check=t4(l),l=0,c=0,r.mode=R1;case R1:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,Zie;t.adler=r.check=1,r.mode=xa;case xa:if(e===Wie||e===y0)break e;case QA:if(r.last){l>>>=c&7,c-=c&7,r.mode=JA;break}for(;c<3;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}switch(r.last=l&1,l>>>=1,c-=1,l&3){case 0:r.mode=HL;break;case 1:if(rse(r),r.mode=g0,e===y0){l>>>=2,c-=2;break e}break;case 2:r.mode=GL;break;case 3:t.msg="invalid block type",r.mode=Xt}l>>>=2,c-=2;break;case HL:for(l>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Xt;break}if(r.length=l&65535,l=0,c=0,r.mode=KA,e===y0)break e;case KA:r.mode=VL;case VL:if(m=r.length,m){if(m>a&&(m=a),m>u&&(m=u),m===0)break e;i.set(n.subarray(s,s+m),o),a-=m,s+=m,u-=m,o+=m,r.length-=m;break}r.mode=xa;break;case GL:for(;c<14;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.nlen=(l&31)+257,l>>>=5,c-=5,r.ndist=(l&31)+1,l>>>=5,c-=5,r.ncode=(l&15)+4,l>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Xt;break}r.have=0,r.mode=WL;case WL:for(;r.have<r.ncode;){for(;c<3;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.lens[X[r.have++]]=l&7,l>>>=3,c-=3}for(;r.have<19;)r.lens[X[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},D=Ay(Gie,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid code lengths set",r.mode=Xt;break}r.have=0,r.mode=qL;case qL:for(;r.have<r.nlen+r.ndist;){for(;w=r.lencode[l&(1<<r.lenbits)-1],b=w>>>24,_=w>>>16&255,E=w&65535,!(b<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(E<16)l>>>=b,c-=b,r.lens[r.have++]=E;else{if(E===16){for(F=b+2;c<F;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(l>>>=b,c-=b,r.have===0){t.msg="invalid bit length repeat",r.mode=Xt;break}R=r.lens[r.have-1],m=3+(l&3),l>>>=2,c-=2}else if(E===17){for(F=b+3;c<F;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=b,c-=b,R=0,m=3+(l&7),l>>>=3,c-=3}else{for(F=b+7;c<F;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=b,c-=b,R=0,m=11+(l&127),l>>>=7,c-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Xt;break}for(;m--;)r.lens[r.have++]=R}}if(r.mode===Xt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Xt;break}if(r.lenbits=9,G={bits:r.lenbits},D=Ay(sz,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,D){t.msg="invalid literal/lengths set",r.mode=Xt;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},D=Ay(oz,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,D){t.msg="invalid distances set",r.mode=Xt;break}if(r.mode=g0,e===y0)break e;case g0:r.mode=v0;case v0:if(a>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,Uie(t,p),o=t.next_out,i=t.output,u=t.avail_out,s=t.next_in,n=t.input,a=t.avail_in,l=r.hold,c=r.bits,r.mode===xa&&(r.back=-1);break}for(r.back=0;w=r.lencode[l&(1<<r.lenbits)-1],b=w>>>24,_=w>>>16&255,E=w&65535,!(b<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(_&&!(_&240)){for(x=b,N=_,M=E;w=r.lencode[M+((l&(1<<x+N)-1)>>x)],b=w>>>24,_=w>>>16&255,E=w&65535,!(x+b<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=x,c-=x,r.back+=x}if(l>>>=b,c-=b,r.back+=b,r.length=E,_===0){r.mode=KL;break}if(_&32){r.back=-1,r.mode=xa;break}if(_&64){t.msg="invalid literal/length code",r.mode=Xt;break}r.extra=_&15,r.mode=ZL;case ZL:if(r.extra){for(F=r.extra;c<F;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=XL;case XL:for(;w=r.distcode[l&(1<<r.distbits)-1],b=w>>>24,_=w>>>16&255,E=w&65535,!(b<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(!(_&240)){for(x=b,N=_,M=E;w=r.distcode[M+((l&(1<<x+N)-1)>>x)],b=w>>>24,_=w>>>16&255,E=w&65535,!(x+b<=c);){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}l>>>=x,c-=x,r.back+=x}if(l>>>=b,c-=b,r.back+=b,_&64){t.msg="invalid distance code",r.mode=Xt;break}r.offset=E,r.extra=_&15,r.mode=YL;case YL:if(r.extra){for(F=r.extra;c<F;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Xt;break}r.mode=QL;case QL:if(u===0)break e;if(m=p-u,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Xt;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),g=r.window}else g=i,y=o-r.offset,m=r.length;m>u&&(m=u),u-=m,r.length-=m;do i[o++]=g[y++];while(--m);r.length===0&&(r.mode=v0);break;case KL:if(u===0)break e;i[o++]=r.length,u--,r.mode=v0;break;case JA:if(r.wrap){for(;c<32;){if(a===0)break e;a--,l|=n[s++]<<c,c+=8}if(p-=u,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?jr(r.check,i,p,o-p):hg(r.check,i,p,o-p)),p=u,r.wrap&4&&(r.flags?l:t4(l))!==r.check){t.msg="incorrect data check",r.mode=Xt;break}l=0,c=0}r.mode=JL;case JL:if(r.wrap&&r.flags){for(;c<32;){if(a===0)break e;a--,l+=n[s++]<<c,c+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Xt;break}l=0,c=0}r.mode=e4;case e4:D=qie;break e;case Xt:D=az;break e;case lz:return uz;case cz:default:return ys}return t.next_out=o,t.avail_out=u,t.next_in=s,t.avail_in=a,r.hold=l,r.bits=c,(r.wsize||p!==t.avail_out&&r.mode<Xt&&(r.mode<JA||e!==kL))&&mz(t,t.output,t.next_out,p-t.avail_out),f-=t.avail_in,p-=t.avail_out,t.total_in+=f,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?jr(r.check,i,p,t.next_out-p):hg(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===xa?128:0)+(r.mode===g0||r.mode===KA?256:0),(f===0&&p===0||e===kL)&&D===ah&&(D=Xie),D},ise=t=>{if(Ih(t))return ys;let e=t.state;return e.window&&(e.window=null),t.state=null,ah},sse=(t,e)=>{if(Ih(t))return ys;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,ah):ys},ose=(t,e)=>{const r=e.length;let n,i,s;return Ih(t)||(n=t.state,n.wrap!==0&&n.mode!==R1)?ys:n.mode===R1&&(i=1,i=hg(i,e,r,0),i!==n.check)?az:(s=mz(t,e,r,r),s?(n.mode=lz,uz):(n.havedict=1,ah))};var ase=dz,use=fz,lse=hz,cse=tse,hse=pz,dse=nse,fse=ise,pse=sse,mse=ose,yse="pako inflate (from Nodeca project)",ka={inflateReset:ase,inflateReset2:use,inflateResetKeep:lse,inflateInit:cse,inflateInit2:hse,inflate:dse,inflateEnd:fse,inflateGetHeader:pse,inflateSetDictionary:mse,inflateInfo:yse};function gse(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vse=gse;const yz=Object.prototype.toString,{Z_NO_FLUSH:_se,Z_FINISH:bse,Z_OK:pg,Z_STREAM_END:rT,Z_NEED_DICT:nT,Z_STREAM_ERROR:wse,Z_DATA_ERROR:n4,Z_MEM_ERROR:Ese}=Ch;function lv(t){this.options=sE.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nz,this.strm.avail_out=0;let r=ka.inflateInit2(this.strm,e.windowBits);if(r!==pg)throw new Error(sh[r]);if(this.header=new vse,ka.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=fg.string2buf(e.dictionary):yz.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ka.inflateSetDictionary(this.strm,e.dictionary),r!==pg)))throw new Error(sh[r])}lv.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?bse:_se,yz.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ka.inflate(r,o),s===nT&&i&&(s=ka.inflateSetDictionary(r,i),s===pg?s=ka.inflate(r,o):s===n4&&(s=nT));r.avail_in>0&&s===rT&&r.state.wrap>0&&t[r.next_in]!==0;)ka.inflateReset(r),s=ka.inflate(r,o);switch(s){case wse:case n4:case nT:case Ese:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||s===rT))if(this.options.to==="string"){let u=fg.utf8border(r.output,r.next_out),l=r.next_out-u,c=fg.buf2string(r.output,u);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(u,u+l),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===pg&&a===0)){if(s===rT)return s=ka.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};lv.prototype.onData=function(t){this.chunks.push(t)};lv.prototype.onEnd=function(t){t===pg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sE.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function IP(t,e){const r=new lv(e);if(r.push(t),r.err)throw r.msg||sh[r.err];return r.result}function xse(t,e){return e=e||{},e.raw=!0,IP(t,e)}var Sse=lv,Ase=IP,Tse=xse,Cse=IP,Ise=Ch,Ose={Inflate:Sse,inflate:Ase,inflateRaw:Tse,ungzip:Cse,constants:Ise};const{Deflate:Rse,deflate:Pse,deflateRaw:kse,gzip:Nse}=Lie,{Inflate:Mse,inflate:Dse,inflateRaw:Bse,ungzip:Lse}=Ose;var gz=Rse,vz=Pse,_z=kse,OP=Nse,bz=Mse,wz=Dse,Ez=Bse,RP=Lse,xz=Ch,$se={Deflate:gz,deflate:vz,deflateRaw:_z,gzip:OP,Inflate:bz,inflate:wz,inflateRaw:Ez,ungzip:RP,constants:xz};const Use=Object.freeze(Object.defineProperty({__proto__:null,Deflate:gz,Inflate:bz,constants:xz,default:$se,deflate:vz,deflateRaw:_z,gzip:OP,inflate:wz,inflateRaw:Ez,ungzip:RP},Symbol.toStringTag,{value:"Module"}));var en=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},kn={searchParams:"URLSearchParams"in en,iterable:"Symbol"in en&&"iterator"in Symbol,blob:"FileReader"in en&&"Blob"in en&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in en,arrayBuffer:"ArrayBuffer"in en};function Fse(t){return t&&DataView.prototype.isPrototypeOf(t)}if(kn.arrayBuffer)var jse=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],zse=ArrayBuffer.isView||function(t){return t&&jse.indexOf(Object.prototype.toString.call(t))>-1};function Sp(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function PP(t){return typeof t!="string"&&(t=String(t)),t}function kP(t){var e={next:function(){var r=t.shift();return{done:r===void 0,value:r}}};return kn.iterable&&(e[Symbol.iterator]=function(){return e}),e}function kr(t){this.map={},t instanceof kr?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}kr.prototype.append=function(t,e){t=Sp(t),e=PP(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};kr.prototype.delete=function(t){delete this.map[Sp(t)]};kr.prototype.get=function(t){return t=Sp(t),this.has(t)?this.map[t]:null};kr.prototype.has=function(t){return this.map.hasOwnProperty(Sp(t))};kr.prototype.set=function(t,e){this.map[Sp(t)]=PP(e)};kr.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};kr.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),kP(t)};kr.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),kP(t)};kr.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),kP(t)};kn.iterable&&(kr.prototype[Symbol.iterator]=kr.prototype.entries);function iT(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Sz(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function Hse(t){var e=new FileReader,r=Sz(e);return e.readAsArrayBuffer(t),r}function Vse(t){var e=new FileReader,r=Sz(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),i=n?n[1]:"utf-8";return e.readAsText(t,i),r}function Gse(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function i4(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Az(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:kn.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:kn.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:kn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():kn.arrayBuffer&&kn.blob&&Fse(t)?(this._bodyArrayBuffer=i4(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):kn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||zse(t))?this._bodyArrayBuffer=i4(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):kn.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},kn.blob&&(this.blob=function(){var t=iT(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=iT(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(kn.blob)return this.blob().then(Hse);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=iT(this);if(t)return t;if(this._bodyBlob)return Vse(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Gse(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},kn.formData&&(this.formData=function(){return this.text().then(Zse)}),this.json=function(){return this.text().then(JSON.parse)},this}var Wse=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function qse(t){var e=t.toUpperCase();return Wse.indexOf(e)>-1?e:t}function uh(t,e){if(!(this instanceof uh))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof uh){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new kr(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new kr(e.headers)),this.method=qse(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in en){var s=new AbortController;return s.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}uh.prototype.clone=function(){return new uh(this,{body:this._bodyInit})};function Zse(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(s))}}),e}function Xse(t){var e=new kr,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var i=n.split(":"),s=i.shift().trim();if(s){var o=i.join(":").trim();try{e.append(s,o)}catch(a){console.warn("Response "+a.message)}}}),e}Az.call(uh.prototype);function la(t,e){if(!(this instanceof la))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new kr(e.headers),this.url=e.url||"",this._initBody(t)}Az.call(la.prototype);la.prototype.clone=function(){return new la(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new kr(this.headers),url:this.url})};la.error=function(){var t=new la(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Yse=[301,302,303,307,308];la.redirect=function(t,e){if(Yse.indexOf(e)===-1)throw new RangeError("Invalid status code");return new la(null,{status:e,headers:{location:t}})};var _c=en.DOMException;try{new _c}catch{_c=function(e,r){this.message=e,this.name=r;var n=Error(e);this.stack=n.stack},_c.prototype=Object.create(Error.prototype),_c.prototype.constructor=_c}function Tz(t,e){return new Promise(function(r,n){var i=new uh(t,e);if(i.signal&&i.signal.aborted)return n(new _c("Aborted","AbortError"));var s=new XMLHttpRequest;function o(){s.abort()}s.onload=function(){var l={statusText:s.statusText,headers:Xse(s.getAllResponseHeaders()||"")};i.url.indexOf("file://")===0&&(s.status<200||s.status>599)?l.status=200:l.status=s.status,l.url="responseURL"in s?s.responseURL:l.headers.get("X-Request-URL");var c="response"in s?s.response:s.responseText;setTimeout(function(){r(new la(c,l))},0)},s.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},s.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},s.onabort=function(){setTimeout(function(){n(new _c("Aborted","AbortError"))},0)};function a(l){try{return l===""&&en.location.href?en.location.href:l}catch{return l}}if(s.open(i.method,a(i.url),!0),i.credentials==="include"?s.withCredentials=!0:i.credentials==="omit"&&(s.withCredentials=!1),"responseType"in s&&(kn.blob?s.responseType="blob":kn.arrayBuffer&&(s.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof kr||en.Headers&&e.headers instanceof en.Headers)){var u=[];Object.getOwnPropertyNames(e.headers).forEach(function(l){u.push(Sp(l)),s.setRequestHeader(l,PP(e.headers[l]))}),i.headers.forEach(function(l,c){u.indexOf(c)===-1&&s.setRequestHeader(c,l)})}else i.headers.forEach(function(l,c){s.setRequestHeader(c,l)});i.signal&&(i.signal.addEventListener("abort",o),s.onreadystatechange=function(){s.readyState===4&&i.signal.removeEventListener("abort",o)}),s.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}Tz.polyfill=!0;en.fetch||(en.fetch=Tz,en.Headers=kr,en.Request=uh,en.Response=la);var Cz=self.fetch.bind(self);const Qse=Ol(Cz);var Iz={exports:{}};(function(t){(function(e,r,n){t.exports?t.exports=n():r[e]=n()})("urljoin",at,function(){function e(r){var n=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var i=r.shift();r[0]=i+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var s=0;s<r.length;s++){var o=r[s];if(typeof o!="string")throw new TypeError("Url must be a string. Received "+o);o!==""&&(s>0&&(o=o.replace(/^[\/]+/,"")),s<r.length-1?o=o.replace(/[\/]+$/,""):o=o.replace(/[\/]+$/,"/"),n.push(o))}var a=n.join("/");a=a.replace(/\/(\?|&|#[^!])/g,"$1");var u=a.split("?");return a=u.shift()+(u.length>0?"?":"")+u.join("&"),a}return function(){var r;return typeof arguments[0]=="object"?r=arguments[0]:r=[].slice.call(arguments),e(r)}})})(Iz);var NP=Iz.exports;const Oz=Ol(NP);var Kse=Object.defineProperty,Nr=(t,e)=>{for(var r in e)Kse(t,r,{get:e[r],enumerable:!0})},Jse={};Nr(Jse,{API_VERSION:()=>Hz,BN_FEE_TRANSACTION_VERSION_1:()=>Fz,BN_FEE_TRANSACTION_VERSION_2:()=>jz,BN_TRANSACTION_VERSION_1:()=>BP,BN_TRANSACTION_VERSION_2:()=>LP,BaseUrl:()=>Vz,HEX_STR_TRANSACTION_VERSION_1:()=>$z,HEX_STR_TRANSACTION_VERSION_2:()=>Uz,IS_BROWSER:()=>Rz,MASK_250:()=>zz,MASK_251:()=>soe,NetworkName:()=>$P,RPC_GOERLI_NODES:()=>qz,RPC_MAINNET_NODES:()=>Zz,StarknetChainId:()=>Gz,TEXT_TO_FELT_MAX_LEN:()=>DP,TransactionHashPrefix:()=>Wz,UDC:()=>bc,ZERO:()=>xi});var eoe={};Nr(eoe,{IS_BROWSER:()=>Rz,addHexPrefix:()=>Vn,arrayBufferToString:()=>Pz,atobUniversal:()=>kz,btoaUniversal:()=>Nz,buf2hex:()=>Mz,calcByteLength:()=>Bz,padLeft:()=>Dz,pascalToSnake:()=>ioe,removeHexPrefix:()=>Tp,sanitizeBytes:()=>Lz,sanitizeHex:()=>noe,stringToArrayBuffer:()=>toe,utf8ToArray:()=>Ap});var Rz=typeof window<"u",MP="0";function Pz(t){return new Uint8Array(t).reduce((e,r)=>e+String.fromCharCode(r),"")}function Ap(t){return new TextEncoder().encode(t)}function toe(t){return Ap(t)}function kz(t){return Qw.decode(t)}function Nz(t){return Qw.encode(new Uint8Array(t))}function Mz(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function Tp(t){return t.replace(/^0x/i,"")}function Vn(t){return`0x${Tp(t)}`}function roe(t,e,r,n=MP){const i=e-t.length;let s=t;if(i>0){const o=n.repeat(i);s=r?o+t:t+o}return s}function Dz(t,e,r=MP){return roe(t,e,!0,r)}function Bz(t,e=8){const{length:r}=t,n=r%e;return n?(r-n)/e*e+e:r}function Lz(t,e=8,r=MP){return Dz(t,Bz(t,e),r)}function noe(t){return t=Tp(t),t=Lz(t,2),t&&(t=Vn(t)),t}var ioe=t=>/[a-z]/.test(t)?t.split(/(?=[A-Z])/).join("_").toUpperCase():t,DP=31,$z="0x1",Uz="0x2",BP=1n,LP=2n,Fz=2n**128n+BP,jz=2n**128n+LP,xi=0n,zz=2n**250n-1n,soe=2n**251n,Hz=xi,Vz=(t=>(t.SN_MAIN="https://alpha-mainnet.starknet.io",t.SN_GOERLI="https://alpha4.starknet.io",t))(Vz||{}),$P=(t=>(t.SN_MAIN="SN_MAIN",t.SN_GOERLI="SN_GOERLI",t))($P||{}),Gz=(t=>(t.SN_MAIN="0x534e5f4d41494e",t.SN_GOERLI="0x534e5f474f45524c49",t))(Gz||{}),Wz=(t=>(t.DECLARE="0x6465636c617265",t.DEPLOY="0x6465706c6f79",t.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",t.INVOKE="0x696e766f6b65",t.L1_HANDLER="0x6c315f68616e646c6572",t))(Wz||{}),bc={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},qz=["https://starknet-testnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/goerli-juno/v0_5"],Zz=["https://starknet-mainnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/mainnet-juno/v0_5"],ooe={};Nr(ooe,{BlockStatus:()=>tH,BlockTag:()=>zP,EntryPointType:()=>Qz,Litteral:()=>FP,RPC:()=>ti,SIMULATION_FLAG:()=>Xz,Sequencer:()=>coe,TransactionExecutionStatus:()=>eH,TransactionFinalityStatus:()=>jP,TransactionStatus:()=>Jz,TransactionType:()=>Kz,Uint:()=>UP,ValidateType:()=>Yz});var Xz=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_EXECUTE="SKIP_EXECUTE",t))(Xz||{}),Yz=(t=>(t.DEPLOY="DEPLOY",t.CALL="CALL",t.INVOKE="INVOKE",t))(Yz||{}),UP=(t=>(t.u8="core::integer::u8",t.u16="core::integer::u16",t.u32="core::integer::u32",t.u64="core::integer::u64",t.u128="core::integer::u128",t.u256="core::integer::u256",t))(UP||{}),FP=(t=>(t.ClassHash="core::starknet::class_hash::ClassHash",t.ContractAddress="core::starknet::contract_address::ContractAddress",t))(FP||{}),Qz=(t=>(t.EXTERNAL="EXTERNAL",t.L1_HANDLER="L1_HANDLER",t.CONSTRUCTOR="CONSTRUCTOR",t))(Qz||{}),Kz=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE_FUNCTION",t))(Kz||{}),Jz=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.REJECTED="REJECTED",t.REVERTED="REVERTED",t))(Jz||{}),jP=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(jP||{}),eH=(t=>(t.REJECTED="REJECTED",t.REVERTED="REVERTED",t.SUCCEEDED="SUCCEEDED",t))(eH||{}),tH=(t=>(t.PENDING="PENDING",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.REJECTED="REJECTED",t))(tH||{}),zP=(t=>(t.pending="pending",t.latest="latest",t))(zP||{}),ti={};Nr(ti,{EBlockTag:()=>aH,EDataAvailabilityMode:()=>uH,ESimulationFlag:()=>nH,ETransactionExecutionStatus:()=>oH,ETransactionFinalityStatus:()=>sH,ETransactionStatus:()=>iH,ETransactionType:()=>rH,Errors:()=>uoe,JRPC:()=>aoe,SPEC:()=>loe});var aoe={},uoe={},loe={},rH=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE",t.L1_HANDLER="L1_HANDLER",t))(rH||{}),nH=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",t))(nH||{}),iH=(t=>(t.RECEIVED="RECEIVED",t.REJECTED="REJECTED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(iH||{}),sH=(t=>(t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(sH||{}),oH=(t=>(t.SUCCEEDED="SUCCEEDED",t.REVERTED="REVERTED",t))(oH||{}),aH=(t=>(t.LATEST="latest",t.PENDING="pending",t))(aH||{}),uH=(t=>(t.L1="L1",t.L2="L2",t))(uH||{}),coe={};function Ft(t,e){if(!t)throw new Error(e||"Assertion failure")}var hoe={};Nr(hoe,{assertInRange:()=>doe,bigNumberishArrayToDecimalStringArray:()=>hH,bigNumberishArrayToHexadecimalStringArray:()=>dH,cleanHex:()=>mg,getDecimalString:()=>fH,getHexString:()=>VP,getHexStringArray:()=>GP,hexToBytes:()=>pH,hexToDecimalString:()=>cH,isBigInt:()=>aE,isHex:()=>co,isStringWholeNumber:()=>Cp,toBigInt:()=>qe,toCairoBool:()=>JI,toHex:()=>Te,toHexString:()=>HP,toStorageKey:()=>lH});function co(t){return/^0x[0-9a-f]*$/i.test(t)}function qe(t){return BigInt(t)}function aE(t){return typeof t=="bigint"}function Te(t){return Vn(qe(t).toString(16))}var HP=Te;function lH(t){return Vn(qe(t).toString(16).padStart(64,"0"))}function cH(t){return BigInt(Vn(t)).toString(10)}var mg=t=>t.toLowerCase().replace(/^(0x)0+/,"$1");function doe(t,e,r,n=""){const i=n===""?"invalid length":`invalid ${n} length`,s=BigInt(t),o=BigInt(e),a=BigInt(r);Ft(s>=o&&s<=a,`Message not signable, ${i}.`)}function hH(t){return t.map(e=>qe(e).toString(10))}function dH(t){return t.map(e=>Te(e))}var Cp=t=>/^\d+$/.test(t);function fH(t){if(co(t))return cH(t);if(Cp(t))return t;throw new Error(`${t} need to be hex-string or whole-number-string`)}function VP(t){if(co(t))return t;if(Cp(t))return HP(t);throw new Error(`${t} need to be hex-string or whole-number-string`)}function GP(t){return t.map(e=>VP(e))}var JI=t=>(+t).toString();function pH(t){if(!co(t))throw new Error(`${t} need to be a hex-string`);let e=Tp(t);return e.length%2!==0&&(e=`0${e}`),nh(e)}var foe={};Nr(foe,{getSelector:()=>uE,getSelectorFromName:()=>ho,keccakBn:()=>mH,starknetKeccak:()=>WP});function mH(t){const e=Tp(Te(BigInt(t))),r=e.length%2===0?e:`0${e}`;return Vn(_p(pH(Vn(r))).toString(16))}function poe(t){return Vn(_p(Ap(t)).toString(16))}function WP(t){return BigInt(poe(t))&zz}function ho(t){return Te(WP(t))}function uE(t){return co(t)?t:Cp(t)?HP(t):ho(t)}var Hc={};Nr(Hc,{decodeShortString:()=>YP,encodeShortString:()=>Nl,isASCII:()=>qP,isDecimalString:()=>yH,isLongText:()=>ZP,isShortString:()=>cv,isShortText:()=>moe,isText:()=>hv,splitLongString:()=>XP});function qP(t){return/^[\x00-\x7F]*$/.test(t)}function cv(t){return t.length<=DP}function yH(t){return/^[0-9]*$/i.test(t)}function hv(t){return typeof t=="string"&&!co(t)&&!Cp(t)}var moe=t=>hv(t)&&cv(t),ZP=t=>hv(t)&&!cv(t);function XP(t){const e=RegExp(`[^]{1,${DP}}`,"g");return t.match(e)||[]}function Nl(t){if(!qP(t))throw new Error(`${t} is not an ASCII string`);if(!cv(t))throw new Error(`${t} is too long`);return Vn(t.replace(/./g,e=>e.charCodeAt(0).toString(16)))}function YP(t){if(!qP(t))throw new Error(`${t} is not an ASCII string`);if(co(t))return Tp(t).replace(/.{2}/g,e=>String.fromCharCode(parseInt(e,16)));if(yH(t))return YP("0X".concat(BigInt(t).toString(16)));throw new Error(`${t} is not Hex or decimal`)}var gH={};Nr(gH,{felt:()=>ai,getAbiContractVersion:()=>fE,getArrayType:()=>Wf,isCairo1Abi:()=>wH,isCairo1Type:()=>ml,isLen:()=>lh,isTypeArray:()=>fl,isTypeBool:()=>dE,isTypeContractAddress:()=>voe,isTypeEnum:()=>Oh,isTypeEthAddress:()=>bH,isTypeFelt:()=>P1,isTypeLitteral:()=>ek,isTypeNamedTuple:()=>_H,isTypeOption:()=>cE,isTypeResult:()=>hE,isTypeStruct:()=>dv,isTypeTuple:()=>Ml,isTypeUint:()=>JP,isTypeUint256:()=>pl,tuple:()=>_oe,uint256:()=>tk});var yoe={};Nr(yoe,{UINT_128_MAX:()=>QP,UINT_256_MAX:()=>vH,bnToUint256:()=>goe,isUint256:()=>KP,uint256ToBN:()=>lE});var QP=(1n<<128n)-1n,vH=(1n<<256n)-1n;function lE(t){return(qe(t.high)<<128n)+qe(t.low)}function KP(t){return qe(t)<=vH}function goe(t){const e=qe(t);if(!KP(e))throw new Error("Number is too large");return{low:Vn((e&QP).toString(16)),high:Vn((e>>128n).toString(16))}}var lh=t=>/_len$/.test(t),P1=t=>t==="felt"||t==="core::felt252",fl=t=>/\*/.test(t)||t.startsWith("core::array::Array::")||t.startsWith("core::array::Span::"),Ml=t=>/^\(.*\)$/i.test(t),_H=t=>/\(.*\)/i.test(t)&&t.includes(":"),dv=(t,e)=>t in e,Oh=(t,e)=>t in e,cE=t=>t.startsWith("core::option::Option::"),hE=t=>t.startsWith("core::result::Result::"),JP=t=>Object.values(UP).includes(t),ek=t=>Object.values(FP).includes(t),pl=t=>t==="core::integer::u256",dE=t=>t==="core::bool",voe=t=>t==="core::starknet::contract_address::ContractAddress",bH=t=>t==="core::starknet::eth_address::EthAddress",ml=t=>t.includes("::"),Wf=t=>ml(t)?t.substring(t.indexOf("<")+1,t.lastIndexOf(">")):t.replace("*","");function wH(t){const{cairo:e}=fE(t);if(e===void 0)throw Error("Unable to determine Cairo version");return e==="1"}function fE(t){if(t.find(n=>n.type==="interface"))return{cairo:"1",compiler:"2"};const e=t.find(n=>n.type==="function"&&(n.inputs.length||n.outputs.length));if(!e)return{cairo:void 0,compiler:void 0};const r=e.inputs.length?e.inputs:e.outputs;return ml(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var tk=t=>{const e=BigInt(t);if(!KP(e))throw new Error("Number is too large");return{low:(e&QP).toString(10),high:(e>>128n).toString(10)}},_oe=(...t)=>({...t});function ai(t){if(aE(t)||typeof t=="number"&&Number.isInteger(t))return t.toString();if(hv(t)){if(!cv(t))throw new Error(`${t} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const e=Nl(t);return BigInt(e).toString()}if(typeof t=="string"&&co(t))return BigInt(t).toString();if(typeof t=="string"&&Cp(t))return t;if(typeof t=="boolean")return`${+t}`;throw new Error(`${t} can't be computed by felt()`)}var EH=class{constructor(e){const r=Object.values(e);if(r.length===0)throw new Error("This Enum must have a least 1 variant");if(r.filter(i=>typeof i<"u").length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){const r=Object.entries(this.variant).find(n=>typeof n[1]<"u");if(!(typeof r>"u"))return r[1]}activeVariant(){const r=Object.entries(this.variant).find(n=>typeof n[1]<"u");return typeof r>"u"?"":r[0]}},xH=(t=>(t[t.Some=0]="Some",t[t.None=1]="None",t))(xH||{}),e2=class{constructor(e,r){if(!(e in xH))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(e===0){if(typeof r>"u")throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=r,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!(typeof this.Some>"u")}isNone(){return this.None===!0}},SH=(t=>(t[t.Ok=0]="Ok",t[t.Err=1]="Err",t))(SH||{}),t2=class{constructor(e,r){if(!(e in SH))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");e===0?(this.Ok=r,this.Err=void 0):(this.Ok=void 0,this.Err=r)}unwrap(){if(typeof this.Ok<"u")return this.Ok;if(typeof this.Err<"u")return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(typeof this.Ok>"u")}isErr(){return!(typeof this.Err>"u")}},sT={isBN:(t,e,r)=>{if(!aE(t[r]))throw new Error(`Data and formatter mismatch on ${r}:${e[r]}, expected response data ${r}:${t[r]} to be BN instead it is ${typeof t[r]}`)},unknown:(t,e,r)=>{throw new Error(`Unhandled formatter type on ${r}:${e[r]} for data ${r}:${t[r]}`)}};function Ob(t,e,r){return Object.entries(t).reduce((n,[i,s])=>{const o=r??e[i];if(!(i in e)&&!r)return n[i]=s,n;if(o==="string"){if(Array.isArray(t[i])){const a=Ob(t[i],t[i].map(u=>o));return n[i]=Object.values(a).join(""),n}return sT.isBN(t,e,i),n[i]=YP(s),n}if(o==="number")return sT.isBN(t,e,i),n[i]=Number(s),n;if(typeof o=="function")return n[i]=o(s),n;if(Array.isArray(o)){const a=Ob(t[i],o,o[0]);return n[i]=Object.values(a),n}return typeof o=="object"?(n[i]=Ob(t[i],o),n):(sT.unknown(t,e,i),n)},{})}var boe=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce((r,n)=>lh(n.name)?r:r+1,0)}getMethod(e){return this.abi.find(r=>r.name===e)}getLegacyFormat(){return this.abi}},woe=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find(n=>n.type==="interface").items.find(n=>n.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>e.type==="interface"?e.items:e)}};function AH(t){const e=Eoe(t);if(e===0||e===1)return new boe(t);if(e===2)return new woe(t);throw Error(`Unsupported ABI version ${e}`)}function Eoe(t){return t.find(e=>e.type==="interface")?2:wH(t)?1:0}function s4(t,e,r){return t==="constructor"&&!r&&!e.length}function xoe(t){const e=t.substring(0,t.indexOf(":")),r=t.substring(e.length+1);return{name:e,type:r}}function TH(t){if(!t.includes("("))return{subTuple:[],result:t};const e=[];let r="",n=0;for(;n<t.length;){if(t[n]==="("){let i=1;const s=n;for(n++;i;)t[n]===")"&&i--,t[n]==="("&&i++,n++;e.push(t.substring(s,n)),r+=" ",n--}else r+=t[n];n++}return{subTuple:e,result:r}}function Soe(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=TH(e);let i=n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s);return _H(t)&&(i=i.reduce((s,o)=>s.concat(xoe(o)),[])),i}function Aoe(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=TH(e);return n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s)}function rk(t){return ml(t)?Aoe(t):Soe(t)}function Toe(t){return Error(`Your object includes the property : ${t}, containing an Uint256 object without the 'low' and 'high' keys.`)}function Coe(t,e,r,n){const i=(c,f)=>{if(fl(f))return o(c,f);if(Oh(f,n)){const p=n[f];return u(c,p)}if(Ml(f))return a(c,f);if(bH(f))return c;if(pl(f)){const p=c;if(typeof p!="object")return p;if(!("low"in p&&"high"in p))throw Toe(f);return{low:p.low,high:p.high}}if(dv(f,r)){const p=r[f].members;return s(c,p)}return c},s=(c,f)=>f.reduce((m,y)=>{const g=w=>Object.defineProperty(m,y.name,{enumerable:!0,value:w??c[y.name]});if(c[y.name]==="undefined"&&(ml(y.type)||!lh(y.name)))throw Error(`Your object needs a property with key : ${y.name} .`);return g(i(c[y.name],y.type)),m},{});function o(c,f){const p=Wf(f);return typeof c=="string"?c:c.map(m=>i(m,p))}function a(c,f){return rk(f).reduce((y,g,w)=>{const b=Object.keys(c),_=x=>Object.defineProperty(y,w.toString(),{enumerable:!0,value:x??c[b[w]]}),E=g!=null&&g.type?g.type:g;return _(i(c[b[w]],E)),y},{})}const u=(c,f)=>{if(hE(f.name)){const g=c,w=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(",")),b=f.name.substring(f.name.indexOf(",")+1,f.name.lastIndexOf(">"));return g.isOk()?new t2(0,i(c.unwrap(),w)):new t2(1,i(c.unwrap(),b))}if(cE(f.name)){const g=c,w=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(">"));return g.isSome()?new e2(0,i(g.unwrap(),w)):new e2(1,{})}const p=c,y=Object.entries(p.variant).map(g=>{if(typeof g[1]>"u")return g;const w=f.type.substring(f.type.lastIndexOf("<")+1,f.type.lastIndexOf(">"));return w==="()"?g:[g[0],i(p.unwrap(),w)]});return new EH(Object.fromEntries(y))};return e.reduce((c,f)=>{const p=m=>Object.defineProperty(c,f.name,{enumerable:!0,value:m});return lh(f.name)&&!ml(f.type)||p(i(t[f.name],f.type)),c},{})}function k1(t,e){switch(!0){case pl(t):const r=tk(e);return[ai(r.low),ai(r.high)];default:return ai(e)}}function Ioe(t,e){const r=rk(e),n=Object.values(t);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((i,s)=>({element:n[s],type:i.type??i}))}function o4(t){if(typeof t=="object"){const{low:r,high:n}=t;return[ai(r),ai(n)]}const e=tk(t);return[ai(e.low),ai(e.high)]}function zo(t,e,r,n){if(t===void 0)throw Error(`Missing parameter for type ${e}`);if(Array.isArray(t)){const i=[];i.push(ai(t.length));const s=Wf(e);return t.reduce((o,a)=>o.concat(zo(a,s,r,n)),i)}if(r[e]&&r[e].members.length){if(pl(e))return o4(t);if(e==="core::starknet::eth_address::EthAddress")return k1(e,t);const{members:i}=r[e],s=t;return i.reduce((o,a)=>o.concat(zo(s[a.name],a.type,r,n)),[])}if(Ml(e))return Ioe(t,e).reduce((s,o)=>{const a=zo(o.element,o.type,r,n);return s.concat(a)},[]);if(pl(e))return o4(t);if(Oh(e,n)){const{variants:i}=n[e];if(cE(e)){const f=t;if(f.isSome()){const p=i.find(g=>g.name==="Some");if(typeof p>"u")throw Error("Error in abi : Option has no 'Some' variant.");const m=p.type;if(m==="()")return 0 .toString();const y=zo(f.unwrap(),m,r,n);return Array.isArray(y)?[0 .toString(),...y]:[0 .toString(),y]}return 1 .toString()}if(hE(e)){const f=t;if(f.isOk()){const g=i.find(_=>_.name==="Ok");if(typeof g>"u")throw Error("Error in abi : Result has no 'Ok' variant.");const w=g.type;if(w==="()")return 0 .toString();const b=zo(f.unwrap(),w,r,n);return Array.isArray(b)?[0 .toString(),...b]:[0 .toString(),b]}const p=i.find(g=>g.name==="Err");if(typeof p>"u")throw Error("Error in abi : Result has no 'Err' variant.");const m=p.type;if(m==="()")return 1 .toString();const y=zo(f.unwrap(),m,r,n);return Array.isArray(y)?[1 .toString(),...y]:[1 .toString(),y]}const s=t,o=s.activeVariant(),a=i.find(f=>f.name===o);if(typeof a>"u")throw Error(`Not find in abi : Enum has no '${o}' variant.`);const u=a.type,l=i.findIndex(f=>f.name===o);if(u==="()")return l.toString();const c=zo(s.unwrap(),u,r,n);return Array.isArray(c)?[l.toString(),...c]:[l.toString(),c]}if(typeof t=="object")throw Error(`Parameter ${t} do not align with abi parameter ${e}`);return k1(e,t)}function Ooe(t,e,r,n){const{name:i,type:s}=e;let{value:o}=t.next();switch(!0){case fl(s):if(!Array.isArray(o)&&!hv(o))throw Error(`ABI expected parameter ${i} to be array or long string, got ${o}`);return typeof o=="string"&&(o=XP(o)),zo(o,e.type,r,n);case s==="core::starknet::eth_address::EthAddress":return k1(s,o);case(dv(s,r)||Ml(s)||pl(s)):return zo(o,s,r,n);case Oh(s,n):return zo(o,s,r,n);default:return k1(s,o)}}function r2(t,e){let r;switch(!0){case dE(t):return r=e.next().value,!!BigInt(r);case pl(t):const n=e.next().value,i=e.next().value;return lE({low:n,high:i});case t==="core::starknet::eth_address::EthAddress":return r=e.next().value,BigInt(r);default:return r=e.next().value,BigInt(r)}}function Da(t,e,r,n){if(e.type==="()")return{};if(pl(e.type)){const i=t.next().value,s=t.next().value;return lE({low:i,high:s})}if(fl(e.type)){const i=[],s={name:"",type:Wf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push(Da(t,s,r,n));return i}if(r&&e.type in r&&r[e.type])return e.type==="core::starknet::eth_address::EthAddress"?r2(e.type,t):r[e.type].members.reduce((i,s)=>(i[s.name]=Da(t,s,r,n),i),{});if(n&&e.type in n&&n[e.type]){const i=Number(t.next().value),s=n[e.type].variants.reduce((a,u,l)=>l===i?(a[u.name]=Da(t,{name:"",type:u.type},r,n),a):(a[u.name]=void 0,a),{});if(e.type.startsWith("core::option::Option")){const a=i===0?s.Some:void 0;return new e2(i,a)}if(e.type.startsWith("core::result::Result")){let a;return i===0?a=s.Ok:a=s.Err,new t2(i,a)}return new EH(s)}if(Ml(e.type))return rk(e.type).reduce((s,o,a)=>{const u=o!=null&&o.name?o.name:a,l=o!=null&&o.type?o.type:o,c={name:u,type:l};return s[u]=Da(t,c,r,n),s},{});if(fl(e.type)){const i=[],s={name:"",type:Wf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push(Da(t,s,r,n));return i}return r2(e.type,t)}function n2(t,e,r,n,i){const{name:s,type:o}=e;let a;switch(!0){case lh(s):return a=t.next().value,BigInt(a);case(r&&o in r||Ml(o)):return Da(t,e,r,n);case(n&&Oh(o,n)):return Da(t,e,r,n);case fl(o):if(ml(o))return Da(t,e,r,n);const u=[];if(i&&i[`${s}_len`]){const l=i[`${s}_len`];for(;u.length<l;)u.push(Da(t,{name:s,type:e.type.replace("*","")},r,n))}return u;default:return r2(o,t)}}var CH=(t,e)=>{if(Ft(typeof t=="string"||typeof t=="number"||typeof t=="bigint",`Validate: arg ${e.name} should be a felt typed as (String, Number or BigInt)`),typeof t=="string"&&!co(t))return;const r=BigInt(t.toString(10));Ft(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`)},nk=(t,e)=>{typeof t=="number"&&Ft(t<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),Ft(typeof t=="string"||typeof t=="number"||typeof t=="bigint"||typeof t=="object"&&"low"in t&&"high"in t,`Validate: arg ${e.name} of cairo type ${e.type} should be type (String, Number or BigInt), but is ${typeof t} ${t}.`);const r=typeof t=="object"?lE(t):qe(t);switch(e.type){case"core::integer::u8":Ft(r>=0n&&r<=255n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0 - 255]`);break;case"core::integer::u16":Ft(r>=0n&&r<=65535n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 65535]`);break;case"core::integer::u32":Ft(r>=0n&&r<=4294967295n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":Ft(r>=0n&&r<=2n**64n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":Ft(r>=0n&&r<=2n**128n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":Ft(r>=0n&&r<=2n**256n-1n,`Validate: arg ${e.name} is ${e.type} 0 - 2^256-1`);break;case"core::starknet::class_hash::ClassHash":Ft(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break;case"core::starknet::contract_address::ContractAddress":Ft(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break}},IH=(t,e)=>{Ft(typeof t=="boolean",`Validate: arg ${e.name} of cairo type ${e.type} should be type (Boolean)`)},OH=(t,e,r)=>{if(e.type==="core::integer::u256"){nk(t,e);return}if(e.type==="core::starknet::eth_address::EthAddress"){Ft(typeof t!="object",`EthAdress type is waiting a BigNumberish. Got ${t}`);const n=BigInt(t.toString(10));Ft(n>=0n&&n<=2n**160n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^160-1]`);return}Ft(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type struct (${e.type}), and should be defined as js object (not array)`),r[e.type].members.forEach(({name:n})=>{Ft(Object.keys(t).includes(n),`Validate: arg ${e.name} should have a property ${n}`)})},RH=(t,e)=>{Ft(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type Enum (${e.type}), and should be defined as js object (not array)`);const r=Object.getOwnPropertyNames(Object.getPrototypeOf(t)),n=[...Object.getOwnPropertyNames(t),...r];if(!(cE(e.type)&&n.includes("isSome")&&n.includes("isNone"))&&!(hE(e.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${e.name}, type ${e.type}, value received ${t}, is not an Enum.`)},PH=(t,e)=>{Ft(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} should be a tuple (defined as object)`)},kH=(t,e,r,n)=>{const i=Wf(e.type);if(!(P1(i)&&ZP(t)))switch(Ft(Array.isArray(t),`Validate: arg ${e.name} should be an Array`),!0){case P1(i):t.forEach(s=>CH(s,e));break;case Ml(i):t.forEach(s=>PH(s,{name:e.name,type:i}));break;case fl(i):t.forEach(s=>kH(s,{name:"",type:i},r,n));break;case dv(i,r):t.forEach(s=>OH(s,{name:e.name,type:i},r));break;case Oh(i,n):t.forEach(s=>RH(s,{name:e.name,type:i}));break;case(JP(i)||ek(i)):t.forEach(s=>nk(s,e));break;case dE(i):t.forEach(s=>IH(s,e));break;default:throw new Error(`Validate Unhandled: argument ${e.name}, type ${e.type}, value ${t}`)}};function a4(t,e,r,n){t.inputs.reduce((i,s)=>{const o=e[i];switch(!0){case lh(s.name):return i;case P1(s.type):CH(o,s);break;case(JP(s.type)||ek(s.type)):nk(o,s);break;case dE(s.type):IH(o,s);break;case fl(s.type):kH(o,s,r,n);break;case dv(s.type,r):OH(o,s,r);break;case Oh(s.type,n):RH(o,s);break;case Ml(s.type):PH(o,s);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${o}`)}return i+1},0)}var pt=class{constructor(e){this.structs=pt.getAbiStruct(e),this.enums=pt.getAbiEnum(e),this.parser=AH(e),this.abi=this.parser.getLegacyFormat()}validate(e,r,n=[]){if(e!=="DEPLOY"){const o=this.abi.filter(a=>{if(a.type!=="function")return!1;const u=a.stateMutability==="view"||a.state_mutability==="view";return e==="INVOKE"?!u:u}).map(a=>a.name);Ft(o.includes(r),`${e==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const i=this.abi.find(o=>e==="DEPLOY"?o.name===r&&o.type==="constructor":o.name===r&&o.type==="function");if(s4(r,n,i))return;const s=this.parser.methodInputsLength(i);if(n.length!==s)throw Error(`Invalid number of arguments, expected ${s} arguments, but got ${n.length}`);a4(i,n,this.structs,this.enums)}compile(e,r){const n=this.abi.find(a=>a.name===e);if(s4(e,r,n))return[];let i;if(Array.isArray(r))i=r;else{const a=Coe(r,n.inputs,this.structs,this.enums);i=Object.values(a),a4(n,i,this.structs,this.enums)}const s=i[Symbol.iterator](),o=n.inputs.reduce((a,u)=>lh(u.name)&&!ml(u.type)?a:a.concat(Ooe(s,u,this.structs,this.enums)),[]);return Object.defineProperty(o,"__compiled__",{enumerable:!1,writable:!1,value:!0}),o}static compile(e){const r=i=>{const s=(a,u=".")=>{const l=Array.isArray(a)?[a.length.toString(),...a]:a;return Object.entries(l).flatMap(([c,f])=>{let p=f;ZP(p)&&(p=XP(p)),c==="entrypoint"&&(p=ho(p));const m=Array.isArray(l)&&c==="0"?"$$len":c;if(aE(p))return[[`${u}${m}`,ai(p)]];if(Object(p)===p){const y=Object.getOwnPropertyNames(Object.getPrototypeOf(p)),g=[...Object.getOwnPropertyNames(p),...y];if(g.includes("isSome")&&g.includes("isNone")){const w=p,b=w.isSome()?0:1;return w.isSome()?s({0:b,1:w.unwrap()},`${u}${m}.`):[[`${u}${m}`,ai(b)]]}if(g.includes("isOk")&&g.includes("isErr")){const w=p,b=w.isOk()?0:1;return s({0:b,1:w.unwrap()},`${u}${m}.`)}if(g.includes("variant")&&g.includes("activeVariant")){const w=p,b=w.activeVariant(),E=Object.keys(w.variant).findIndex(x=>x===b);return typeof w.unwrap()=="object"&&Object.keys(w.unwrap()).length===0?[[`${u}${m}`,ai(E)]]:s({0:E,1:w.unwrap()},`${u}${m}.`)}return s(p,`${u}${m}.`)}return[[`${u}${m}`,ai(p)]]})};return Object.fromEntries(s(i))};let n;if(Array.isArray(e)){const i={...e},s=r(i);n=Object.values(s)}else{const i=r(e);n=Object.values(i)}return Object.defineProperty(n,"__compiled__",{enumerable:!1,writable:!1,value:!0}),n}parse(e,r){const{outputs:n}=this.abi.find(o=>o.name===e),i=r.flat()[Symbol.iterator](),s=n.flat().reduce((o,a,u)=>{const l=a.name??u;return o[l]=n2(i,a,this.structs,this.enums,o),o[l]&&o[`${l}_len`]&&delete o[`${l}_len`],o},{});return Object.keys(s).length===1&&0 in s?s[0]:s}format(e,r,n){const i=this.parse(e,r);return Ob(i,n)}static getAbiStruct(e){return e.filter(r=>r.type==="struct").reduce((r,n)=>({...r,[n.name]:n}),{})}static getAbiEnum(e){const r=e.filter(n=>n.type==="enum").reduce((n,i)=>({...n,[i.name]:i}),{});return delete r["core::bool"],r}static toCalldata(e=[]){return pt.compile(e)}static toHex(e=[]){return pt.compile(e).map(n=>Te(n))}},NH={};Nr(NH,{calculateContractAddressFromHash:()=>Rb,calculateDeclareTransactionHash:()=>BH,calculateDeployAccountTransactionHash:()=>LH,calculateDeployTransactionHash:()=>Noe,calculateTransactionHash:()=>$H,calculateTransactionHashCommon:()=>fv,computeCompiledClassHash:()=>jH,computeContractClassHash:()=>HH,computeHashOnElements:()=>Dn,computeLegacyContractClassHash:()=>FH,computeSierraContractClassHash:()=>zH,default:()=>UH,feeTransactionVersion:()=>Kd,feeTransactionVersion_2:()=>N1,formatSpaces:()=>gg,getSelector:()=>uE,getSelectorFromName:()=>ho,getVersionsByType:()=>ik,keccakBn:()=>mH,poseidon:()=>Xre,starknetKeccak:()=>WP,transactionVersion:()=>Mc,transactionVersion_2:()=>yg});var MH={};Nr(MH,{starkCurve:()=>Sj,weierstrass:()=>ere});var Roe={};Nr(Roe,{parse:()=>yl,parseAlwaysAsBig:()=>DH,stringify:()=>Ys,stringifyAlwaysAsBig:()=>koe});var Poe=t=>{if(!bp(t))return parseFloat(t);const e=parseInt(t,10);return Number.isSafeInteger(e)?e:BigInt(t)},yl=t=>vP(String(t),void 0,Poe),DH=t=>vP(String(t),void 0,Mj),Ys=(t,e,r,n)=>wP(t,e,r,n),koe=Ys,Mc=BP,yg=LP,Kd=Fz,N1=jz;function ik(t){return t==="fee"?{v1:Kd,v2:N1}:{v1:Mc,v2:yg}}function Dn(t){return[...t,t.length].reduce((e,r)=>iv(qe(e),qe(r)),0).toString()}function fv(t,e,r,n,i,s,o,a=[]){const u=Dn(i),l=[t,e,r,n,u,s,o,...a];return Dn(l)}function Noe(t,e,r,n,i="constructor"){return fv("0x6465706c6f79",r,t,ho(i),e,0,n)}function BH(t,e,r,n,i,s,o){return fv("0x6465636c617265",r,e,0,[t],n,i,[s,...o?[o]:[]])}function LH(t,e,r,n,i,s,o,a){const u=[e,n,...r];return fv("0x6465706c6f795f6163636f756e74",i,t,0,u,s,o,[a])}function $H(t,e,r,n,i,s){return fv("0x696e766f6b65",e,t,0,r,n,i,[s])}function Rb(t,e,r,n){const i=pt.compile(r),s=Dn(i),o=ai("0x535441524b4e45545f434f4e54524143545f41444452455353");return Dn([o,n,t,e,s])}function Moe(t,e){return t==="attributes"||t==="accessible_scopes"?Array.isArray(e)&&e.length===0?void 0:e:t==="debug_info"?null:e===null?void 0:e}function gg(t){let e=!1;const r=[];for(const n of t)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(e=!e),e?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}function UH(t){const{abi:e,program:r}=t,i=gg(Ys({abi:e,program:r},Moe));return Vn(_p(Ap(i)).toString(16))}function FH(t){const e=typeof t=="string"?yl(t):t,r=Te(Hz),n=Dn(e.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),i=Dn(e.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),s=Dn(e.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),o=Dn(e.program.builtins.map(l=>Nl(l))),a=UH(e),u=Dn(e.program.data);return Dn([r,n,i,s,o,a,u])}function Doe(t){return dl(t.flatMap(e=>BigInt(Nl(e))))}function oT(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),Doe(r.builtins)]);return dl(e)}function jH(t){const r=BigInt(Nl("COMPILED_CLASS_V1")),n=oT(t.entry_points_by_type.EXTERNAL),i=oT(t.entry_points_by_type.L1_HANDLER),s=oT(t.entry_points_by_type.CONSTRUCTOR),o=dl(t.bytecode.map(a=>BigInt(a)));return Te(dl([r,n,i,s,o]))}function aT(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return dl(e)}function Boe(t){const e=gg(Ys(t.abi,null));return BigInt(Vn(_p(Ap(e)).toString(16)))}function zH(t){const r=BigInt(Nl("CONTRACT_CLASS_V0.1.0")),n=aT(t.entry_points_by_type.EXTERNAL),i=aT(t.entry_points_by_type.L1_HANDLER),s=aT(t.entry_points_by_type.CONSTRUCTOR),o=Boe(t),a=dl(t.sierra_program.map(u=>BigInt(u)));return Te(dl([r,n,i,s,o,a]))}function HH(t){const e=typeof t=="string"?yl(t):t;return"sierra_program"in e?zH(e):FH(e)}var VH={};Nr(VH,{compressProgram:()=>sk,decompressProgram:()=>i2,estimatedFeeToMaxFee:()=>Dc,formatSignature:()=>pE,makeAddress:()=>Loe,randomAddress:()=>ok,signatureToDecimalArray:()=>Td,signatureToHexArray:()=>Cd});function sk(t){const e=typeof t=="string"?t:Ys(t),r=OP(e);return Nz(r)}function i2(t){if(Array.isArray(t))return t;const e=Pz(RP(kz(t)));return yl(e)}function ok(){const t=lP.randomPrivateKey();return hP(t)}function Loe(t){return Vn(t).toLowerCase()}function pE(t){if(!t)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(t))return t.map(e=>Te(e));try{const{r:e,s:r}=t;return[Te(e),Te(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function Td(t){return hH(pE(t))}function Cd(t){return dH(pE(t))}function Dc(t,e=.5){const r=Math.round((1+e)*100);return qe(t)*qe(r)/100n}function fs(t){return"sierra_program"in(typeof t=="string"?yl(t):t)}function uT(t){const e={...t};if(fs(t.contract)&&(!t.compiledClassHash&&t.casm&&(e.compiledClassHash=jH(t.casm)),!e.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(e.classHash=t.classHash??HH(t.contract),!e.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return e}var GH=typeof window<"u"&&window.fetch||typeof global<"u"&&global.fetch||Qse,$oe={};Nr($oe,{createSierraContractClass:()=>WH,parseContract:()=>ak,wait:()=>M1});function M1(t){return new Promise(e=>{setTimeout(e,t)})}function WH(t){const e={...t};return delete e.sierra_program_debug_info,e.abi=gg(Ys(t.abi)),e.sierra_program=gg(Ys(t.sierra_program)),e.sierra_program=sk(e.sierra_program),e}function ak(t){const e=typeof t=="string"?yl(t):t;return fs(t)?WH(e):{...e,..."program"in e&&{program:sk(e.program)}}}var Uoe=class{parseGetBlockResponse(e){return{timestamp:e.timestamp,block_hash:"block_hash"in e?e.block_hash:"",block_number:"block_number"in e?e.block_number:-1,new_root:"new_root"in e?e.new_root:"",parent_hash:e.parent_hash,status:"status"in e?e.status:"PENDING",transactions:e.transactions}}parseGetTransactionResponse(e){return{calldata:"calldata"in e?e.calldata:[],contract_address:"contract_address"in e?e.contract_address:"",sender_address:"sender_address"in e?e.sender_address:"",max_fee:"max_fee"in e?e.max_fee:"",nonce:"nonce"in e?e.nonce:"",signature:"signature"in e?e.signature:[],transaction_hash:e.transaction_hash,version:e.version}}parseFeeEstimateResponse(e){return{overall_fee:qe(e[0].overall_fee),gas_consumed:qe(e[0].gas_consumed),gas_price:qe(e[0].gas_price)}}parseFeeEstimateBulkResponse(e){return e.map(r=>({overall_fee:qe(r.overall_fee),gas_consumed:qe(r.gas_consumed),gas_price:qe(r.gas_price)}))}parseCallContractResponse(e){return{result:e}}parseSimulateTransactionResponse(e){return e.map(r=>({...r,suggestedMaxFee:Dc(BigInt(r.fee_estimation.overall_fee))}))}parseContractClassResponse(e){return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}};function Foe(t,e=t.constructor){const{captureStackTrace:r}=Error;r&&r(t,e)}function joe(t,e){const{setPrototypeOf:r}=Object;r?r(t,e):t.__proto__=e}var zoe=class extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),joe(this,new.target.prototype),Foe(this)}},ch=class extends zoe{},Hoe=class extends ch{constructor(e,r){super(e),this.errorCode=r}},Voe=class extends ch{constructor(e,r){super(e),this.errorCode=r}},Goe={};Nr(Goe,{StarknetIdContract:()=>XH,getStarknetIdContract:()=>uk,useDecoded:()=>qH,useEncoded:()=>ZH});var Xo="abcdefghijklmnopqrstuvwxyz0123456789-",Jd=BigInt(Xo.length+1),Vr="",u4=BigInt(Xo.length),s2=BigInt(Vr.length),l4=BigInt(Vr.length+1);function o2(t){let e=0;for(;t.endsWith(Vr[Vr.length-1]);)t=t.substring(0,t.length-1),e+=1;return[t,e]}function qH(t){let e="";return t.forEach(r=>{for(;r!==xi;){const s=r%Jd;if(r/=Jd,s===BigInt(Xo.length)){const o=r/l4;if(o===xi){const a=r%l4;r=o,a===xi?e+=Xo[0]:e+=Vr[Number(a)-1]}else{const a=r%s2;e+=Vr[Number(a)],r/=s2}}else e+=Xo[Number(s)]}const[n,i]=o2(e);i&&(e=n+(i%2===0?Vr[Vr.length-1].repeat(i/2-1)+Vr[0]+Xo[1]:Vr[Vr.length-1].repeat((i-1)/2+1))),e+="."}),e&&e.concat("stark")}function ZH(t){let e=BigInt(0),r=BigInt(1);if(t.endsWith(Vr[0]+Xo[1])){const[n,i]=o2(t.substring(0,t.length-2));t=n+Vr[Vr.length-1].repeat(2*(i+1))}else{const[n,i]=o2(t);i&&(t=n+Vr[Vr.length-1].repeat(1+2*(i-1)))}for(let n=0;n<t.length;n+=1){const i=t[n],s=Xo.indexOf(i),o=BigInt(Xo.indexOf(i));if(s!==-1)n===t.length-1&&t[n]===Xo[0]?(e+=r*u4,r*=Jd,r*=Jd):(e+=r*o,r*=Jd);else if(Vr.indexOf(i)!==-1){e+=r*u4,r*=Jd;const a=(n===t.length-1?1:0)+Vr.indexOf(i);e+=r*BigInt(a),r*=s2}}return e}var XH=(t=>(t.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",t.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",t))(XH||{});function uk(t){switch(t){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function lk(t,e,r){const n=await t.getChainId(),i=r??uk(n);try{const o=(await t.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:pt.compile({address:e})})).result.map(u=>BigInt(u)).slice(1),a=qH(o);if(!a)throw Error("Starkname not found");return a}catch(s){throw s instanceof Error&&s.message==="Starkname not found"?s:Error("Could not get stark name")}}async function ck(t,e,r){const n=await t.getChainId(),i=r??uk(n);try{return(await t.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:pt.compile({domain:[ZH(e.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var Woe=Object.values(zP),hr=class{constructor(e){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(e)}setIdentifier(e){typeof e=="string"&&co(e)?this.hash=e:typeof e=="bigint"?this.hash=Te(e):typeof e=="number"?this.number=e:typeof e=="string"&&Woe.includes(e)?this.tag=e:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},c4=(t,e=!1)=>{e||console.warn("Using default public node url, please provide nodeUrl in provider options!");const r=t==="SN_MAIN"?Zz:qz,n=Math.floor(Math.random()*r.length);return r[n]},lT={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},bf=class{constructor(e){this.responseParser=new Uoe,this.getBlockHashAndNumber=this.getBlockLatestAccepted,this.getStateUpdate=this.getBlockStateUpdate,this.traceBlockTransactions=this.getBlockTransactionsTraces,this.getTransactionCount=this.getBlockTransactionCount,this.traceTransaction=this.getTransactionTrace,this.getSimulateTransaction=this.simulateTransaction;const{nodeUrl:r,retries:n,headers:i,blockIdentifier:s,chainId:o}=e||{};Object.values($P).includes(r)?this.nodeUrl=c4(r,e==null?void 0:e.default):r?this.nodeUrl=r:this.nodeUrl=c4(void 0,e==null?void 0:e.default),this.retries=n||lT.retries,this.headers={...lT.headers,...i},this.blockIdentifier=s||lT.blockIdentifier,this.chainId=o}fetch(e,r,n=0){const i={id:n,jsonrpc:"2.0",method:e,...r&&{params:r}};return GH(this.nodeUrl,{method:"POST",body:Ys(i),headers:this.headers})}errorHandler(e,r,n,i){if(n){const{code:s,message:o,data:a}=n;throw new ch(`RPC: ${e} with params ${Ys(r)}
 ${s}: ${o}: ${Ys(a)}`)}if(i instanceof ch)throw i;if(i)throw Error(i.message)}async fetchEndpoint(e,r){var n;try{const i=await this.fetch(e,r),{error:s,result:o}=await i.json();return this.errorHandler(e,r,s),o}catch(i){throw this.errorHandler(e,r,(n=i==null?void 0:i.response)==null?void 0:n.data,i),i}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async getNonceForAddress(e,r=this.blockIdentifier){const n=Te(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:n,block_id:i})}async getBlock(e=this.blockIdentifier){return this.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getBlockWithTxHashes(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:r})}async getBlockWithTxs(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:r})}async getBlockStateUpdate(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:r})}async getBlockTransactionsTraces(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:r})}async getBlockTransactionCount(e=this.blockIdentifier){const r=new hr(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:r})}async getPendingTransactions(){const{transactions:e}=await this.getBlock("pending");return Promise.all(e.map(r=>this.getTransactionByHash(r)))}async getTransaction(e){return this.getTransactionByHash(e).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(e){const r=Te(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:r})}async getTransactionByBlockIdAndIndex(e,r){const n=new hr(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:n,index:r})}async getTransactionReceipt(e){const r=Te(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:r})}async getTransactionTrace(e){const r=Te(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:r})}async getTransactionStatus(e){const r=Te(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:r})}async simulateTransaction(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1,skipFeeCharge:i=!0}){const s=new hr(r).identifier,o=[];return n&&o.push(ti.ESimulationFlag.SKIP_VALIDATE),i&&o.push(ti.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:s,transactions:e.map(a=>this.buildTransaction(a)),simulation_flags:o}).then(this.responseParser.parseSimulateTransactionResponse)}async waitForTransaction(e,r){const n=Te(e);let{retries:i}=this,s=!1,o=!1;const a=(r==null?void 0:r.retryInterval)??5e3,u=(r==null?void 0:r.errorStates)??[ti.ETransactionStatus.REJECTED,ti.ETransactionExecutionStatus.REVERTED],l=(r==null?void 0:r.successStates)??[ti.ETransactionExecutionStatus.SUCCEEDED,ti.ETransactionStatus.ACCEPTED_ON_L2,ti.ETransactionStatus.ACCEPTED_ON_L1];let c;for(;!s;){await M1(a);try{c=await this.getTransactionStatus(n);const p=c.execution_status,m=c.finality_status;if(!m)throw new Error("waiting for transaction status");if(l.includes(p)||l.includes(m))s=!0;else if(u.includes(p)||u.includes(m)){const y=`${p}: ${m}`,g=new Error(y);throw g.response=c,o=!0,g}}catch(p){if(p instanceof Error&&o)throw p;if(i<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1}let f=null;for(;f===null;){try{f=await this.getTransactionReceipt(n)}catch{if(i<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}i-=1,await M1(a)}return f}async getStorageAt(e,r,n=this.blockIdentifier){const i=Te(e),s=lH(r),o=new hr(n).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:i,key:s,block_id:o})}async getClassHashAt(e,r=this.blockIdentifier){const n=Te(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:i,contract_address:n})}async getClassByHash(e){return this.getClass(e)}async getClass(e,r=this.blockIdentifier){const n=Te(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:n,block_id:i}).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,r=this.blockIdentifier){const n=Te(e),i=new hr(r).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:i,contract_address:n}).then(this.responseParser.parseContractClassResponse)}async getCode(e,r){throw new Error("RPC does not implement getCode function")}async getContractVersion(e,r,{blockIdentifier:n=this.blockIdentifier,compiler:i=!0}={}){let s;if(e)s=await this.getClassAt(e,n);else if(r)s=await this.getClass(r,n);else throw Error("getContractVersion require contractAddress or classHash");return fs(s)?i?{cairo:"1",compiler:fE(s.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(e,r,n=this.blockIdentifier){return this.getInvokeEstimateFee(e,r,n)}async getInvokeEstimateFee(e,r,n=this.blockIdentifier){const i=new hr(n).identifier,s=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...r},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:i}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,r,n=this.blockIdentifier){const i=new hr(n).identifier,s=this.buildTransaction({type:"DECLARE",...e,...r},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:i}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,r,n=this.blockIdentifier){const i=new hr(n).identifier,s=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...r},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:i}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1}){n&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const i=new hr(r).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:e.map(s=>this.buildTransaction(s,"fee")),block_id:i}).then(this.responseParser.parseFeeEstimateBulkResponse)}async invokeFunction(e,r){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:pt.toHex(e.calldata),type:ti.ETransactionType.INVOKE,max_fee:Te(r.maxFee||0),version:"0x1",signature:Cd(e.signature),nonce:Te(r.nonce)}})}async declareContract({contract:e,signature:r,senderAddress:n,compiledClassHash:i},s){return fs(e)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ti.ETransactionType.DECLARE,contract_class:{sierra_program:i2(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:i||"",version:Uz,max_fee:Te(s.maxFee||0),signature:Cd(r),sender_address:n,nonce:Te(s.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ti.ETransactionType.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:$z,max_fee:Te(s.maxFee||0),signature:Cd(r),sender_address:n,nonce:Te(s.nonce)}})}async deployAccountContract({classHash:e,constructorCalldata:r,addressSalt:n,signature:i},s){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:pt.toHex(r||[]),class_hash:Te(e),contract_address_salt:Te(n||0),type:ti.ETransactionType.DEPLOY_ACCOUNT,max_fee:Te(s.maxFee||0),version:Te(s.version||0),signature:Cd(i),nonce:Te(s.nonce)}})}async callContract(e,r=this.blockIdentifier){const n=new hr(r).identifier,i=await this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:ho(e.entrypoint),calldata:pt.toHex(e.calldata)},block_id:n});return this.responseParser.parseCallContractResponse(i)}async estimateMessageFee(e,r=this.blockIdentifier){const{from_address:n,to_address:i,entry_point_selector:s,payload:o}=e,a={from_address:Te(n),to_address:Te(i),entry_point_selector:uE(s),payload:GP(o)},u=new hr(r).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:a,block_id:u})}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}async getStarkName(e,r){return lk(this,e,r)}async getAddressFromStarkName(e,r){return ck(this,e,r)}buildTransaction(e,r){const n=ik(r),i={signature:Cd(e.signature),nonce:Te(e.nonce),max_fee:Te(e.maxFee||0)};if(e.type==="INVOKE_FUNCTION")return{type:ti.ETransactionType.INVOKE,sender_address:e.contractAddress,calldata:pt.toHex(e.calldata),version:Te(e.version||n.v1),...i};if(e.type==="DECLARE")return fs(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:i2(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:Te(e.version||n.v2),...i}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:Te(e.version||n.v1),...i};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:pt.toHex(e.constructorCalldata||[]),class_hash:Te(e.classHash),contract_address_salt:Te(e.addressSalt||0),version:Te(e.version||n.v1),...i};throw Error("RPC buildTransaction received unknown TransactionType")}},qoe=class{},Zoe=class extends qoe{parseGetBlockResponse(e){return{...e,new_root:e.state_root,parent_hash:e.parent_block_hash,transactions:Object.values(e.transactions).map(r=>"transaction_hash"in r&&r.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(e){if(e.status==="NOT_RECEIVED"&&e.finality_status==="NOT_RECEIVED")throw new ch;return{...e,calldata:"calldata"in e.transaction?e.transaction.calldata:[],contract_class:"contract_class"in e.transaction?e.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in e.transaction?e.transaction.entry_point_selector:void 0,max_fee:"max_fee"in e.transaction?e.transaction.max_fee:void 0,nonce:e.transaction.nonce,sender_address:"sender_address"in e.transaction?e.transaction.sender_address:void 0,signature:"signature"in e.transaction?e.transaction.signature:void 0,transaction_hash:"transaction_hash"in e.transaction?e.transaction.transaction_hash:void 0,version:"version"in e.transaction?e.transaction.version:void 0}}parseGetTransactionReceiptResponse(e){return{...e,messages_sent:e.l2_to_l1_messages,..."revert_error"in e&&{revert_reason:e.revert_error}}}parseFeeEstimateResponse(e){if("overall_fee"in e){let r={};try{r={gas_consumed:qe(e.gas_usage),gas_price:qe(e.gas_price)}}catch{}return{overall_fee:qe(e.overall_fee),...r}}return{overall_fee:qe(e.amount)}}parseFeeEstimateBulkResponse(e){return[].concat(e).map(r=>{if("overall_fee"in r){let n={};try{n={gas_consumed:qe(r.gas_usage),gas_price:qe(r.gas_price)}}catch{}return{overall_fee:qe(r.overall_fee),...n}}return{overall_fee:qe(r.amount)}})}parseSimulateTransactionResponse(e){const r="overall_fee"in e.fee_estimation?e.fee_estimation.overall_fee:e.fee_estimation.amount;return[{transaction_trace:e.trace,fee_estimation:e.fee_estimation,suggestedMaxFee:Dc(BigInt(r))}]}parseCallContractResponse(e){return{result:e.result}}parseInvokeFunctionResponse(e){return{transaction_hash:e.transaction_hash}}parseDeployContractResponse(e){return{transaction_hash:e.transaction_hash,contract_address:e.address}}parseDeclareContractResponse(e){return{transaction_hash:e.transaction_hash,class_hash:e.class_hash}}parseGetStateUpdateResponse(e){const r=Object.entries(e.state_diff.nonces).map(([i,s])=>({contract_address:i,nonce:s})),n=Object.entries(e.state_diff.storage_diffs).map(([i,s])=>({address:i,storage_entries:s}));return{...e,state_diff:{...e.state_diff,storage_diffs:n,nonces:r}}}parseContractClassResponse(e){const r=fs(e)?e:ak(e);return{...r,abi:typeof r.abi=="string"?JSON.parse(r.abi):r.abi}}},Xoe=/^(?:\w+:)?\/\/(\S+)$/,Yoe=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,Qoe=/^[^\s.]+\.\S{2,}$/;function Koe(t){if(!t||typeof t!="string")return!1;const e=t.match(Xoe);if(!e)return!1;const r=e[1];return r?!!(Yoe.test(r)||Qoe.test(r)):!1}function Rm(t,e,r){return Koe(r)?r:Oz(t,r??e)}function Joe(t){return t===void 0||Object.keys(t).length===0||Object.keys(t).length===1&&Object.entries(t).every(([e,r])=>e==="blockIdentifier"&&r===null)}var h4={network:"SN_GOERLI",blockIdentifier:"pending"},D1=class{constructor(e=h4){this.responseParser=new Zoe,"network"in e?(this.baseUrl=D1.getNetworkFromName(e.network),this.feederGatewayUrl=Rm(this.baseUrl,"feeder_gateway"),this.gatewayUrl=Rm(this.baseUrl,"gateway")):(this.baseUrl=e.baseUrl,this.feederGatewayUrl=Rm(this.baseUrl,"feeder_gateway",e.feederGatewayUrl),this.gatewayUrl=Rm(this.baseUrl,"gateway",e.gatewayUrl)),this.chainId=(e==null?void 0:e.chainId)??D1.getChainIdFromBaseUrl(this.baseUrl),this.headers=e.headers,this.blockIdentifier=(e==null?void 0:e.blockIdentifier)||h4.blockIdentifier}static getNetworkFromName(e){switch(e){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(e){try{return new URL(e).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${e}`),"0x534e5f474f45524c49"}}getFetchUrl(e){return["add_transaction"].includes(e)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(e){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(e)?"POST":"GET"}getQueryString(e){return Joe(e)?"":`?${Object.entries(e).map(([n,i])=>n==="blockIdentifier"?`${new hr(i).queryIdentifier}`:`${n}=${i}`).join("&")}`}getHeaders(e){return e==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(e,...[r,n]){const i=this.getFetchUrl(e),s=this.getFetchMethod(e),o=this.getQueryString(r),a=Oz(i,e,o);return this.fetch(a,{method:s,body:n})}async fetch(e,r){const n=Rm(this.baseUrl,"",e),i=(r==null?void 0:r.method)??"GET",s=this.getHeaders(i),o=Ys(r==null?void 0:r.body);try{const a=await GH(n,{method:i,body:o,headers:s}),u=await a.text();if(!a.ok){let c;try{c=yl(u)}catch{throw new Voe(a.statusText,a.status)}throw new Hoe(c.message,c.code)}return(r!=null&&r.parseAlwaysAsBigInt?DH:yl)(u)}catch(a){throw a instanceof Error&&!(a instanceof ch)?Error(`Could not ${i} from endpoint \`${n}\`: ${a.message}`):a}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:e,entrypoint:r,calldata:n=[]},i=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:i},{contract_address:e,entry_point_selector:ho(r),calldata:pt.compile(n)}).then(this.responseParser.parseCallContractResponse)}async getBlock(e=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:e}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(e,r=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:e,blockIdentifier:r})}async getStorageAt(e,r,n=this.blockIdentifier){const i=qe(r).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:n,contractAddress:e,key:i})}async getTransaction(e){const r=Te(e);return this.fetchEndpoint("get_transaction",{transactionHash:r}).then(n=>{if(Object.values(n).length===1)throw new ch(n.status);return this.responseParser.parseGetTransactionResponse(n)})}async getTransactionReceipt(e){const r=Te(e);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:r}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(e,r=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:r,contractAddress:e}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(e,r=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:r,contractAddress:e})}async getClassByHash(e,r=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:e,blockIdentifier:r}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(e,r=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:e,blockIdentifier:r})}async getContractVersion(e,r,{blockIdentifier:n=this.blockIdentifier,compiler:i=!0}={}){let s;if(e)s=await this.getClassAt(e,n);else if(r)s=await this.getClassByHash(r,n);else throw Error("getContractVersion require contractAddress or classHash");return fs(s)?i?{cairo:"1",compiler:fE(s.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async invokeFunction(e,r){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:e.contractAddress,calldata:pt.compile(e.calldata??[]),signature:Td(e.signature),nonce:Te(r.nonce),max_fee:Te(r.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:e,constructorCalldata:r,addressSalt:n,signature:i},s){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:n??ok(),constructor_calldata:pt.compile(r??[]),class_hash:Te(e),max_fee:Te(s.maxFee||0),version:Te(s.version||0),nonce:Te(s.nonce),signature:Td(i)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:e,contract:r,signature:n,compiledClassHash:i},s){return fs(r)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:e,compiled_class_hash:i,contract_class:r,nonce:Te(s.nonce),signature:Td(n),max_fee:Te(s.maxFee||0),version:Te(yg)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:r,nonce:Te(s.nonce),signature:Td(n),sender_address:e,max_fee:Te(s.maxFee||0),version:Te(Mc)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(e,r,n=this.blockIdentifier,i=!1){return this.getInvokeEstimateFee(e,r,n,i)}async getInvokeEstimateFee(e,r,n=this.blockIdentifier,i=!1){const s=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...r},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:i},s).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,r,n=this.blockIdentifier,i=!1){const s=this.buildTransaction({type:"DECLARE",...e,...r},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:i},s).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,r,n=this.blockIdentifier,i=!1){const s=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...r},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:i},s).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1}){const i=e.map(s=>this.buildTransaction(s,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(e,r=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:e,blockIdentifier:r})}async waitForTransaction(e,r){let n,i=!1,s=0;const o=(r==null?void 0:r.retryInterval)??5e3,a=(r==null?void 0:r.errorStates)??["REJECTED","NOT_RECEIVED","REVERTED"],u=(r==null?void 0:r.successStates)??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!i;)if(await M1(o),n=await this.getTransactionStatus(e),n.finality_status==="NOT_RECEIVED"&&s<3)s+=1;else if(u.includes(n.finality_status)||u.includes(n.execution_status))i=!0;else if(a.includes(n.finality_status)||a.includes(n.execution_status)){let c;n.tx_failure_reason?c=`${n.tx_status}: ${n.tx_failure_reason.code}
${n.tx_failure_reason.error_message}`:n.tx_revert_reason?c=`${n.tx_status}: ${n.tx_revert_reason}`:c=n.tx_status;const f=new Error(c);throw f.response=n,f}return await this.getTransactionReceipt(e)}async getTransactionStatus(e){const r=Te(e);return this.fetchEndpoint("get_transaction_status",{transactionHash:r})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(e){const r=Te(e);return this.fetchEndpoint("get_transaction_trace",{transactionHash:r})}async estimateMessageFee({from_address:e,to_address:r,entry_point_selector:n,payload:i},s=this.blockIdentifier){const o={from_address:fH(e),to_address:VP(r),entry_point_selector:uE(n),payload:GP(i)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:s},o)}async getSimulateTransaction(e,{blockIdentifier:r=this.blockIdentifier,skipValidate:n=!1,skipExecute:i=!1}){e.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),i&&console.warn("Sequencer can't skip account __execute__");const s=this.buildTransaction(e[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:r,skipValidate:n??!1},s).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(e=this.blockIdentifier){const r=new hr(e).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...r}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(e=this.blockIdentifier){const r=new hr(e).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...r})}async getStarkName(e,r){return lk(this,e,r)}async getAddressFromStarkName(e,r){return ck(this,e,r)}buildTransaction(e,r){const n=ik(r),i={signature:Td(e.signature),nonce:Te(e.nonce)};if(e.type==="INVOKE_FUNCTION")return{type:e.type,sender_address:e.contractAddress,calldata:pt.compile(e.calldata??[]),version:Te(e.version||n.v1),...i};if(e.type==="DECLARE")return fs(e.contract)?{type:e.type,contract_class:e.contract,compiled_class_hash:e.compiledClassHash,sender_address:e.senderAddress,version:Te(e.version||n.v2),...i}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:Te(e.version||n.v1),...i};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:pt.compile(e.constructorCalldata||[]),class_hash:Te(e.classHash),contract_address_salt:Te(e.addressSalt||0),version:Te(e.version||n.v1),...i};throw Error("Sequencer buildTransaction received unknown TransactionType")}},hk=class{constructor(e){e instanceof hk?this.provider=e.provider:e instanceof bf||e instanceof D1?this.provider=e:e&&"rpc"in e?this.provider=new bf(e.rpc):e&&"sequencer"in e?this.provider=new D1(e.sequencer):this.provider=new bf}async getChainId(){return this.provider.getChainId()}async getBlock(e){return this.provider.getBlock(e)}async getClassAt(e,r){return this.provider.getClassAt(e,r)}async getClassHashAt(e,r){return this.provider.getClassHashAt(e,r)}getClassByHash(e){return this.provider.getClassByHash(e)}async getEstimateFee(e,r,n){return this.provider.getEstimateFee(e,r,n)}async getInvokeEstimateFee(e,r,n,i){return this.provider.getInvokeEstimateFee(e,r,n,i)}async getEstimateFeeBulk(e,r){return this.provider.getEstimateFeeBulk(e,r)}async getNonceForAddress(e,r){return this.provider.getNonceForAddress(e,r)}async getStorageAt(e,r,n){return this.provider.getStorageAt(e,r,n)}async getTransaction(e){return this.provider.getTransaction(e)}async getTransactionReceipt(e){return this.provider.getTransactionReceipt(e)}async callContract(e,r){return this.provider.callContract(e,r)}async invokeFunction(e,r){return this.provider.invokeFunction(e,r)}async deployAccountContract(e,r){return this.provider.deployAccountContract(e,r)}async declareContract(e,r){return this.provider.declareContract(e,r)}async getDeclareEstimateFee(e,r,n,i){return this.provider.getDeclareEstimateFee(e,r,n,i)}getDeployAccountEstimateFee(e,r,n,i){return this.provider.getDeployAccountEstimateFee(e,r,n,i)}async getCode(e,r){return this.provider.getCode(e,r)}async waitForTransaction(e,r){return this.provider.waitForTransaction(e,r)}async getSimulateTransaction(e,r){return this.provider.getSimulateTransaction(e,r)}async getStateUpdate(e){return this.provider.getStateUpdate(e)}async getStarkName(e,r){return lk(this,e,r)}async getAddressFromStarkName(e,r){return ck(this,e,r)}async getContractVersion(e,r,n){return this.provider.getContractVersion(e,r,n)}},eae={};Nr(eae,{fromCallsToExecuteCalldata:()=>dk,fromCallsToExecuteCalldataWithNonce:()=>tae,fromCallsToExecuteCalldata_cairo1:()=>QH,getExecuteCalldata:()=>B1,transformCallsToMulticallArrays:()=>YH,transformCallsToMulticallArrays_cairo1:()=>rae});var YH=t=>{const e=[],r=[];return t.forEach(n=>{const i=pt.compile(n.calldata||[]);e.push({to:qe(n.contractAddress).toString(10),selector:qe(ho(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:i.length.toString()}),r.push(...i)}),{callArray:e,calldata:pt.compile({calldata:r})}},dk=t=>{const{callArray:e,calldata:r}=YH(t);return[...pt.compile({callArray:e}),...r]},tae=(t,e)=>[...dk(t),qe(e).toString()],rae=t=>t.map(r=>({to:qe(r.contractAddress).toString(10),selector:qe(ho(r.entrypoint)).toString(10),calldata:pt.compile(r.calldata||[])})),QH=t=>{const e=t.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:Array.isArray(r.calldata)&&"__compiled__"in r.calldata?r.calldata:pt.compile(r.calldata)}));return pt.compile({orderCalls:e})},B1=(t,e="0")=>e==="1"?QH(t):dk(t),nae={};Nr(nae,{encodeData:()=>nV,encodeType:()=>tV,encodeValue:()=>pk,getDependencies:()=>fk,getMessageHash:()=>mk,getStructHash:()=>vg,getTypeHash:()=>rV,isMerkleTreeType:()=>eV,prepareSelector:()=>JH});var iae={};Nr(iae,{MerkleTree:()=>wf,proofMerklePath:()=>KH});var wf=class{constructor(e){this.branches=[],this.leaves=e,this.root=this.build(e)}build(e){if(e.length===1)return e[0];e.length!==this.leaves.length&&this.branches.push(e);const r=[];for(let n=0;n<e.length;n+=2)n+1===e.length?r.push(wf.hash(e[n],"0x0")):r.push(wf.hash(e[n],e[n+1]));return this.build(r)}static hash(e,r){const[n,i]=[qe(e),qe(r)].sort((s,o)=>s>=o?1:-1);return iv(n,i)}getProof(e,r=this.leaves,n=[]){const i=r.indexOf(e);if(i===-1)throw new Error("leaf not found");if(r.length===1)return n;const s=i%2===0,o=(s?r[i+1]:r[i-1])??"0x0",a=[...n,o],u=this.leaves.length===r.length?-1:this.branches.findIndex(c=>c.length===r.length),l=this.branches[u+1]??[this.root];return this.getProof(wf.hash(s?e:o,s?o:e),l,a)}};function KH(t,e,r){if(r.length===0)return t===e;const[n,...i]=r;return KH(t,wf.hash(e,n),i)}function sae(t){try{return Te(t)}catch{if(typeof t=="string")return Te(Nl(t));throw new Error(`Invalid BigNumberish: ${t}`)}}var oae=t=>{const e=t;return!!(e.types&&e.primaryType&&e.message)};function JH(t){return co(t)?t:ho(t)}function eV(t){return t.type==="merkletree"}var fk=(t,e,r=[])=>(e[e.length-1]==="*"&&(e=e.slice(0,-1)),r.includes(e)||!t[e]?r:[e,...t[e].reduce((n,i)=>[...n,...fk(t,i.type,n).filter(s=>!n.includes(s))],[])]);function aae(t,e){if(e.parent&&e.key){const n=t[e.parent].find(s=>s.name===e.key);if(!eV(n))throw new Error(`${e.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${e.key}`);return n.contains}return"raw"}var tV=(t,e)=>{const[r,...n]=fk(t,e);return(r?[r,...n.sort()]:[]).map(s=>`${s}(${t[s].map(o=>`${o.name}:${o.type}`)})`).join("")},rV=(t,e)=>ho(tV(t,e)),pk=(t,e,r,n={})=>{if(t[e])return[e,vg(t,e,r)];if(Object.keys(t).map(i=>`${i}*`).includes(e)){const i=r.map(s=>vg(t,e.slice(0,-1),s));return[e,Dn(i)]}if(e==="merkletree"){const i=aae(t,n),s=r.map(a=>pk(t,i,a)[1]),{root:o}=new wf(s);return["felt",o]}return e==="felt*"?["felt*",Dn(r)]:e==="selector"?["felt",JH(r)]:[e,sae(r)]},nV=(t,e,r)=>{const[n,i]=t[e].reduce(([s,o],a)=>{if(r[a.name]===void 0||r[a.name]===null)throw new Error(`Cannot encode data: missing data for '${a.name}'`);const u=r[a.name],[l,c]=pk(t,a.type,u,{parent:e,key:a.name});return[[...s,l],[...o,c]]},[["felt"],[rV(t,e)]]);return[n,i]},vg=(t,e,r)=>Dn(nV(t,e,r)[1]),mk=(t,e)=>{if(!oae(t))throw new Error("Typed data does not match JSON schema");const r=[Nl("StarkNet Message"),vg(t.types,"StarkNetDomain",t.domain),e,vg(t.types,t.primaryType,t.message)];return Dn(r)},uae=class{constructor(e=lP.randomPrivateKey()){this.pk=e instanceof Uint8Array?Mz(e):Te(e)}async getPubKey(){return hP(this.pk)}async signMessage(e,r){const n=mk(e,r);return Xm(n,this.pk)}async signTransaction(e,r,n){if(n&&n.length!==e.length)throw new Error("ABI must be provided for each transaction or no transaction");const i=B1(e,r.cairoVersion),s=$H(r.walletAddress,r.version,i,r.maxFee,r.chainId,r.nonce);return Xm(s,this.pk)}async signDeployAccountTransaction({classHash:e,contractAddress:r,constructorCalldata:n,addressSalt:i,maxFee:s,version:o,chainId:a,nonce:u}){const l=LH(r,e,pt.compile(n),i,o,s,a,u);return Xm(l,this.pk)}async signDeclareTransaction({classHash:e,senderAddress:r,chainId:n,maxFee:i,version:s,nonce:o,compiledClassHash:a}){const u=BH(e,r,s,i,n,o,a);return Xm(u,this.pk)}};function lae(t){if(!t.events)throw new Error("UDC emitted event is empty");const e=t.events.find(r=>mg(r.from_address)===mg(bc.ADDRESS))||{data:[]};return{transaction_hash:t.transaction_hash,contract_address:e.data[0],address:e.data[0],deployer:e.data[1],unique:e.data[2],classHash:e.data[3],calldata_len:e.data[4],calldata:e.data.slice(5,5+parseInt(e.data[4],16)),salt:e.data[e.data.length-1]}}var Id=class extends hk{constructor(e,r,n,i){super(e),this.deploySelf=this.deployAccount,this.address=r.toLowerCase(),this.signer=typeof n=="string"||n instanceof Uint8Array?new uae(n):n,i&&(this.cairoVersion=i.toString())}async getNonce(e){return super.getNonceForAddress(this.address,e)}async getNonceSafe(e){try{return qe(e??await this.getNonce())}catch{return 0n}}async getCairoVersion(e){if(!this.cairoVersion){const{cairo:r}=e?await super.getContractVersion(void 0,e):await super.getContractVersion(this.address);this.cairoVersion=r}return this.cairoVersion}async estimateFee(e,r){return this.estimateInvokeFee(e,r)}async estimateInvokeFee(e,{nonce:r,blockIdentifier:n,skipValidate:i}={}){const s=Array.isArray(e)?e:[e],o=qe(r??await this.getNonce()),a=qe(Kd),u=await this.getChainId(),l={walletAddress:this.address,nonce:o,maxFee:xi,version:a,chainId:u,cairoVersion:await this.getCairoVersion()},c=await this.buildInvocation(s,l),f=await super.getInvokeEstimateFee({...c},{version:a,nonce:o},n,i),p=Dc(f.overall_fee);return{...f,suggestedMaxFee:p}}async estimateDeclareFee({contract:e,classHash:r,casm:n,compiledClassHash:i},{blockIdentifier:s,nonce:o,skipValidate:a}={}){const u=qe(o??await this.getNonce()),l=fs(e)?N1:Kd,c=await this.getChainId(),f=await this.buildDeclarePayload({classHash:r,contract:e,casm:n,compiledClassHash:i},{nonce:u,chainId:c,version:l,walletAddress:this.address,maxFee:xi,cairoVersion:void 0}),p=await super.getDeclareEstimateFee(f,{version:l,nonce:u},s,a),m=Dc(p.overall_fee);return{...p,suggestedMaxFee:m}}async estimateAccountDeployFee({classHash:e,addressSalt:r=0,constructorCalldata:n=[],contractAddress:i},{blockIdentifier:s,skipValidate:o}={}){const a=qe(Kd),u=xi,l=await this.getChainId(),c=await this.buildAccountDeployPayload({classHash:e,addressSalt:r,constructorCalldata:n,contractAddress:i},{nonce:u,chainId:l,version:a,walletAddress:this.address,maxFee:xi,cairoVersion:void 0}),f=await super.getDeployAccountEstimateFee({...c},{version:a,nonce:u},s,o),p=Dc(f.overall_fee);return{...f,suggestedMaxFee:p}}async estimateDeployFee(e,r){const n=this.buildUDCContractPayload(e);return this.estimateInvokeFee(n,r)}async estimateFeeBulk(e,{nonce:r,blockIdentifier:n,skipValidate:i}={}){const s=await this.accountInvocationsFactory(e,{versions:[Kd,N1],nonce:r,blockIdentifier:n}),o=await super.getEstimateFeeBulk(s,{blockIdentifier:n,skipValidate:i});return[].concat(o).map(a=>{const u=Dc(a.overall_fee);return{...a,suggestedMaxFee:u}})}async buildInvocation(e,r){const n=B1(e,await this.getCairoVersion()),i=await this.signer.signTransaction(e,r);return{contractAddress:this.address,calldata:n,signature:i}}async execute(e,r=void 0,n={}){const i=Array.isArray(e)?e:[e],s=qe(n.nonce??await this.getNonce()),o=n.maxFee??await this.getSuggestedMaxFee({type:"INVOKE_FUNCTION",payload:e},n),a=qe(Mc),u=await this.getChainId(),l={walletAddress:this.address,nonce:s,maxFee:o,version:a,chainId:u,cairoVersion:await this.getCairoVersion()},c=await this.signer.signTransaction(i,l,r),f=B1(i,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:f,signature:c},{nonce:s,maxFee:o,version:a})}async declareIfNot(e,r={}){const n=uT(e);try{await this.getClassByHash(n.classHash)}catch{return this.declare(e,r)}return{transaction_hash:"",class_hash:n.classHash}}async declare(e,r={}){const n=uT(e),i={};i.nonce=qe(r.nonce??await this.getNonce()),i.maxFee=r.maxFee??await this.getSuggestedMaxFee({type:"DECLARE",payload:n},r),i.version=fs(e.contract)?yg:Mc,i.chainId=await this.getChainId();const s=await this.buildDeclarePayload(n,{...i,walletAddress:this.address,cairoVersion:void 0});return this.declareContract(s,i)}async deploy(e,r){const n=[].concat(e).map(a=>{const{classHash:u,salt:l,unique:c=!0,constructorCalldata:f=[]}=a,p=pt.compile(f),m=l??ok();return{call:{contractAddress:bc.ADDRESS,entrypoint:bc.ENTRYPOINT,calldata:[u,m,JI(c),p.length,...p]},address:Rb(c?iv(this.address,m):m,u,p,c?bc.ADDRESS:0)}}),i=n.map(a=>a.call),s=n.map(a=>a.address);return{...await this.execute(i,void 0,r),contract_address:s}}async deployContract(e,r){const n=await this.deploy(e,r),i=await this.waitForTransaction(n.transaction_hash);return lae(i)}async declareAndDeploy(e,r){const{constructorCalldata:n,salt:i,unique:s}=e;let o=await this.declareIfNot(e,r);if(o.transaction_hash!==""){const u=await this.waitForTransaction(o.transaction_hash);o={...o,...u}}const a=await this.deployContract({classHash:o.class_hash,salt:i,unique:s,constructorCalldata:n},r);return{declare:{...o},deploy:a}}async deployAccount({classHash:e,constructorCalldata:r=[],addressSalt:n=0,contractAddress:i},s={}){const o=qe(Mc),a=xi,u=await this.getChainId(),l=pt.compile(r),c=i??Rb(n,e,l,0),f=s.maxFee??await this.getSuggestedMaxFee({type:"DEPLOY_ACCOUNT",payload:{classHash:e,constructorCalldata:l,addressSalt:n,contractAddress:c}},s),p=await this.signer.signDeployAccountTransaction({classHash:e,constructorCalldata:l,contractAddress:c,addressSalt:n,chainId:u,maxFee:f,version:o,nonce:a});return this.deployAccountContract({classHash:e,addressSalt:n,constructorCalldata:r,signature:p},{nonce:a,maxFee:f,version:o})}async signMessage(e){return this.signer.signMessage(e,this.address)}async hashMessage(e){return mk(e,this.address)}async verifyMessageHash(e,r){try{return await this.callContract({contractAddress:this.address,entrypoint:"isValidSignature",calldata:pt.compile({hash:qe(e).toString(),signature:pE(r)})}),!0}catch{return!1}}async verifyMessage(e,r){const n=await this.hashMessage(e);return this.verifyMessageHash(n,r)}async getSuggestedMaxFee({type:e,payload:r},n){let i;switch(e){case"INVOKE_FUNCTION":i=await this.estimateInvokeFee(r,n);break;case"DECLARE":i=await this.estimateDeclareFee(r,n);break;case"DEPLOY_ACCOUNT":i=await this.estimateAccountDeployFee(r,n);break;case"DEPLOY":i=await this.estimateDeployFee(r,n);break;default:i={suggestedMaxFee:xi,overall_fee:xi};break}return i.suggestedMaxFee}async buildDeclarePayload(e,{nonce:r,chainId:n,version:i,walletAddress:s,maxFee:o}){const{classHash:a,contract:u,compiledClassHash:l}=uT(e),c=ak(u),f=await this.signer.signDeclareTransaction({classHash:a,compiledClassHash:l,senderAddress:s,chainId:n,maxFee:o,version:i,nonce:r});return{senderAddress:s,signature:f,contract:c,compiledClassHash:l}}async buildAccountDeployPayload({classHash:e,addressSalt:r=0,constructorCalldata:n=[],contractAddress:i},{nonce:s,chainId:o,version:a,maxFee:u}){const l=pt.compile(n),c=i??Rb(r,e,l,0),f=await this.signer.signDeployAccountTransaction({classHash:e,contractAddress:c,chainId:o,maxFee:u,version:a,nonce:s,addressSalt:r,constructorCalldata:l});return{classHash:e,addressSalt:r,constructorCalldata:l,signature:f}}buildUDCContractPayload(e){return[].concat(e).map(n=>{const{classHash:i,salt:s="0",unique:o=!0,constructorCalldata:a=[]}=n,u=pt.compile(a);return{contractAddress:bc.ADDRESS,entrypoint:bc.ENTRYPOINT,calldata:[i,s,JI(o),u.length,...u]}})}async simulateTransaction(e,{nonce:r,blockIdentifier:n,skipValidate:i,skipExecute:s}={}){const o=await this.accountInvocationsFactory(e,{versions:[Mc,yg],nonce:r,blockIdentifier:n});return super.getSimulateTransaction(o,{blockIdentifier:n,skipValidate:i,skipExecute:s})}async accountInvocationsFactory(e,{versions:r,nonce:n,blockIdentifier:i}){const s=r[0],o=await this.getNonceSafe(n),a=await this.getChainId(),u="payload"in e[0]?e[0].payload:e[0],l=e[0].type==="DEPLOY_ACCOUNT"?await this.getCairoVersion(u.classHash):await this.getCairoVersion();return Promise.all([].concat(e).map(async(c,f)=>{const p="payload"in c?c.payload:c,m={walletAddress:this.address,nonce:qe(Number(o)+f),maxFee:xi,version:s,chainId:a,cairoVersion:l},y={type:c.type,version:s,nonce:qe(Number(o)+f),blockIdentifier:i};if(c.type==="INVOKE_FUNCTION"){const g=await this.buildInvocation([].concat(p),m);return{...y,...g}}if(c.type==="DECLARE"){m.version=fs(p.contract)?qe(r[1]):qe(r[0]);const g=await this.buildDeclarePayload(p,m);return{...y,...g,version:m.version}}if(c.type==="DEPLOY_ACCOUNT"){const g=await this.buildAccountDeployPayload(p,m);return{...y,...g}}if(c.type==="DEPLOY"){const g=this.buildUDCContractPayload(p),w=await this.buildInvocation(g,m);return{...y,...w,type:"INVOKE_FUNCTION"}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${c}`)}))}async getStarkName(e=this.address,r){return super.getStarkName(e,r)}},cae=new hk({rpc:{default:!0}}),hae={};Nr(hae,{getAbiEvents:()=>iV,parseEvents:()=>sV});function iV(t){return t.filter(e=>e.type==="event"&&(e.size||e.kind!=="enum")).reduce((e,r)=>{const n=r.name.slice(r.name.lastIndexOf(":")+1),i={...r};return i.name=n,{...e,[Vn(_p(Ap(n)).toString(16))]:i}},{})}function sV(t,e,r,n){return t.flat().reduce((s,o)=>{var m,y;const a=e[o.keys[0]];if(!a)return s;const u={};u[a.name]={},o.keys.shift();const l=o.keys[Symbol.iterator](),c=o.data[Symbol.iterator](),f=((m=a.members)==null?void 0:m.filter(g=>g.kind==="key"))||a.keys,p=((y=a.members)==null?void 0:y.filter(g=>g.kind==="data"))||a.data;return f.forEach(g=>{u[a.name][g.name]=n2(l,g,r,n,u[a.name])}),p.forEach(g=>{u[a.name][g.name]=n2(c,g,r,n,u[a.name])}),s.push(u),s},[])}var oV=t=>{const e=["blockIdentifier","parseRequest","parseResponse","formatResponse","maxFee","nonce","signature","addressSalt"],r=t[t.length-1];return typeof r=="object"&&e.some(n=>n in r)?{args:t,options:t.pop()}:{args:t}};function aV(t,e){return async function(...r){const n=oV(r);return t.call(e.name,n.args,{parseRequest:!0,parseResponse:!0,...n.options})}}function dae(t,e){return async function(...r){const n=oV(r);return t.invoke(e.name,n.args,{parseRequest:!0,...n.options})}}function d4(t,e){return e.stateMutability==="view"||e.state_mutability==="view"?aV(t,e):dae(t,e)}function fae(t,e){return function(...r){return t.populate(e.name,r)}}function pae(t,e){return function(...r){return t.estimate(e.name,r)}}function _0(t,e){return Array.isArray(t)&&"__compiled__"in t?t:Array.isArray(t)&&Array.isArray(t[0])&&"__compiled__"in t[0]?t[0]:e()}var mae=class{constructor(e,r,n=cae){this.address=r&&r.toLowerCase(),this.providerOrAccount=n,this.callData=new pt(e),this.structs=pt.getAbiStruct(e),this.events=iV(e);const i=AH(e);this.abi=i.getLegacyFormat();const s={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(o=>{if(o.type!=="function")return;const a=o.name;this[a]||Object.defineProperty(this,a,{...s,value:d4(this,o)}),this.functions[a]||Object.defineProperty(this.functions,a,{...s,value:d4(this,o)}),this.callStatic[a]||Object.defineProperty(this.callStatic,a,{...s,value:aV(this,o)}),this.populateTransaction[a]||Object.defineProperty(this.populateTransaction,a,{...s,value:fae(this,o)}),this.estimateFee[a]||Object.defineProperty(this.estimateFee,a,{...s,value:pae(this,o)})})}attach(e){this.address=e}connect(e){this.providerOrAccount=e}async deployed(){return this.deployTransactionHash&&(await this.providerOrAccount.waitForTransaction(this.deployTransactionHash),this.deployTransactionHash=void 0),this}async call(e,r=[],{parseRequest:n=!0,parseResponse:i=!0,formatResponse:s=void 0,blockIdentifier:o=void 0}={}){Ft(this.address!==null,"contract is not connected to an address");const a=_0(r,()=>n?(this.callData.validate("CALL",e,r),this.callData.compile(e,r)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),r));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:a,entrypoint:e},o).then(u=>i?s?this.callData.format(e,u.result,s):this.callData.parse(e,u.result):u.result)}invoke(e,r=[],{parseRequest:n=!0,maxFee:i,nonce:s,signature:o}={}){Ft(this.address!==null,"contract is not connected to an address");const a=_0(r,()=>n?(this.callData.validate("INVOKE",e,r),this.callData.compile(e,r)):(console.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),r)),u={contractAddress:this.address,calldata:a,entrypoint:e};if("execute"in this.providerOrAccount)return this.providerOrAccount.execute(u,void 0,{maxFee:i,nonce:s});if(!s)throw new Error("Nonce is required when invoking a function without an account");return console.warn(`Invoking ${e} without an account. This will not work on a public node.`),this.providerOrAccount.invokeFunction({...u,signature:o},{nonce:s})}async estimate(e,r=[]){Ft(this.address!==null,"contract is not connected to an address"),_0(r,()=>!1)||this.callData.validate("INVOKE",e,r);const n=this.populate(e,r);if("estimateInvokeFee"in this.providerOrAccount)return this.providerOrAccount.estimateInvokeFee(n);throw Error("Contract must be connected to the account contract to estimate")}populate(e,r=[]){const n=_0(r,()=>this.callData.compile(e,r));return{contractAddress:this.address,entrypoint:e,calldata:n}}parseEvents(e){var r;return sV(((r=e.events)==null?void 0:r.filter(n=>mg(n.from_address)===mg(this.address),[]))||[],this.events,this.structs,pt.getAbiEnum(this.abi))}isCairo1(){return gH.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typed(e){return this}};/*! js-cookie v3.0.5 | MIT */function b0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var yae={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function a2(t,e){function r(i,s,o){if(!(typeof document>"u")){o=b0({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,o[u]!==!0&&(a+="="+o[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var u=s[a].split("="),l=u.slice(1).join("=");try{var c=decodeURIComponent(u[0]);if(o[c]=t.read(l,c),i===c)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",b0({},s,{expires:-1}))},withAttributes:function(i){return a2(this.converter,b0({},this.attributes,i))},withConverter:function(i){return a2(b0({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var fd=a2(yae,{path:"/"}),cT={},fo={},hh={},po={},ct={},au={},Rh={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});class gae{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}uu.Subscribable=gae;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});const vae=typeof window>"u"||"Deno"in window;function _ae(){}function bae(t,e){return typeof t=="function"?t(e):t}function wae(t){return typeof t=="number"&&t>=0&&t!==1/0}function Eae(t,e){return t.filter(r=>!e.includes(r))}function xae(t,e,r){const n=t.slice(0);return n[e]=r,n}function Sae(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Aae(t,e,r){return Ph(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Tae(t,e,r){return Ph(t)?typeof e=="function"?{...r,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function Cae(t,e,r){return Ph(t)?[{...e,queryKey:t},r]:[t||{},e]}function Iae(t,e,r){return Ph(t)?[{...e,mutationKey:t},r]:[t||{},e]}function Oae(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(Ph(o)){if(n){if(e.queryHash!==uV(o,e.options))return!1}else if(!yk(e.queryKey,o))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Rae(t,e){const{exact:r,fetching:n,predicate:i,mutationKey:s}=t;if(Ph(s)){if(!e.options.mutationKey)return!1;if(r){if(L1(e.options.mutationKey)!==L1(s))return!1}else if(!yk(e.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||i&&!i(e))}function uV(t,e){return((e==null?void 0:e.queryKeyHashFn)||L1)(t)}function L1(t){return JSON.stringify(t,(e,r)=>$1(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function yk(t,e){return gk(t,e)}function gk(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!gk(t[r],e[r])):!1}function vk(t,e){if(t===e)return t;const r=u2(t)&&u2(e);if(r||$1(t)&&$1(e)){const n=r?t.length:Object.keys(t).length,i=r?e:Object.keys(e),s=i.length,o=r?[]:{};let a=0;for(let u=0;u<s;u++){const l=r?u:i[u];o[l]=vk(t[l],e[l]),o[l]===t[l]&&a++}return n===s&&a===n?t:o}return e}function Pae(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function u2(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $1(t){if(!f4(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!f4(r)||!r.hasOwnProperty("isPrototypeOf"))}function f4(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ph(t){return Array.isArray(t)}function kae(t){return t instanceof Error}function lV(t){return new Promise(e=>{setTimeout(e,t)})}function Nae(t){lV(0).then(t)}function Mae(){if(typeof AbortController=="function")return new AbortController}function Dae(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?vk(t,e):e}rt.difference=Eae;rt.functionalUpdate=bae;rt.getAbortController=Mae;rt.hashQueryKey=L1;rt.hashQueryKeyByOptions=uV;rt.isError=kae;rt.isPlainArray=u2;rt.isPlainObject=$1;rt.isQueryKey=Ph;rt.isServer=vae;rt.isValidTimeout=wae;rt.matchMutation=Rae;rt.matchQuery=Oae;rt.noop=_ae;rt.parseFilterArgs=Cae;rt.parseMutationArgs=Tae;rt.parseMutationFilterArgs=Iae;rt.parseQueryArgs=Aae;rt.partialDeepEqual=gk;rt.partialMatchKey=yk;rt.replaceAt=xae;rt.replaceData=Dae;rt.replaceEqualDeep=vk;rt.scheduleMicrotask=Nae;rt.shallowEqualObjects=Pae;rt.sleep=lV;rt.timeUntilStale=Sae;Object.defineProperty(Rh,"__esModule",{value:!0});var Bae=uu,Lae=rt;class cV extends Bae.Subscribable{constructor(){super(),this.setup=e=>{if(!Lae.isServer&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const $ae=new cV;Rh.FocusManager=cV;Rh.focusManager=$ae;var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});var Uae=uu,Fae=rt;const p4=["online","offline"];class hV extends Uae.Subscribable{constructor(){super(),this.setup=e=>{if(!Fae.isServer&&window.addEventListener){const r=()=>e();return p4.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{p4.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const jae=new hV;Ip.OnlineManager=hV;Ip.onlineManager=jae;Object.defineProperty(au,"__esModule",{value:!0});var zae=Rh,dV=Ip,Hae=rt;function Vae(t){return Math.min(1e3*2**t,3e4)}function fV(t){return(t??"online")==="online"?dV.onlineManager.isOnline():!0}class _k{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Gae(t){return t instanceof _k}function Wae(t){let e=!1,r=0,n=!1,i,s,o;const a=new Promise((w,b)=>{s=w,o=b}),u=w=>{n||(m(new _k(w)),t.abort==null||t.abort())},l=()=>{e=!0},c=()=>{e=!1},f=()=>!zae.focusManager.isFocused()||t.networkMode!=="always"&&!dV.onlineManager.isOnline(),p=w=>{n||(n=!0,t.onSuccess==null||t.onSuccess(w),i==null||i(),s(w))},m=w=>{n||(n=!0,t.onError==null||t.onError(w),i==null||i(),o(w))},y=()=>new Promise(w=>{i=b=>{const _=n||!f();return _&&w(b),_},t.onPause==null||t.onPause()}).then(()=>{i=void 0,n||t.onContinue==null||t.onContinue()}),g=()=>{if(n)return;let w;try{w=t.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(p).catch(b=>{var _,E;if(n)return;const x=(_=t.retry)!=null?_:3,N=(E=t.retryDelay)!=null?E:Vae,M=typeof N=="function"?N(r,b):N,R=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(e||!R){m(b);return}r++,t.onFail==null||t.onFail(r,b),Hae.sleep(M).then(()=>{if(f())return y()}).then(()=>{e?m(b):g()})})};return fV(t.networkMode)?g():y().then(g),{promise:a,cancel:u,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:l,continueRetry:c}}au.CancelledError=_k;au.canFetch=fV;au.createRetryer=Wae;au.isCancelledError=Gae;var mE={},yE={};const qae=console,Zae=Object.freeze(Object.defineProperty({__proto__:null,defaultLogger:qae},Symbol.toStringTag,{value:"Module"})),bk=fa(Zae);var bs={};Object.defineProperty(bs,"__esModule",{value:!0});var m4=rt;function pV(){let t=[],e=0,r=c=>{c()},n=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},s=c=>{e?t.push(c):m4.scheduleMicrotask(()=>{r(c)})},o=c=>(...f)=>{s(()=>{c(...f)})},a=()=>{const c=t;t=[],c.length&&m4.scheduleMicrotask(()=>{n(()=>{c.forEach(f=>{r(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c}}}const Xae=pV();bs.createNotifyManager=pV;bs.notifyManager=Xae;var gE={};Object.defineProperty(gE,"__esModule",{value:!0});var y4=rt;class Yae{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),y4.isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(y4.isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}gE.Removable=Yae;Object.defineProperty(yE,"__esModule",{value:!0});var Pm=rt,Qae=bk,Kae=bs,km=au,Jae=gE;class eue extends Jae.Removable{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Qae.defaultLogger,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||tue(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=Pm.replaceData(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(Pm.noop).catch(Pm.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Pm.timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const o=Pm.getAbortController(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},u=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};u(a);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(u(c),(n=this.options.behavior)==null||n.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const p=m=>{if(km.isCancelledError(m)&&m.silent||this.dispatch({type:"error",error:m}),!km.isCancelledError(m)){var y,g,w,b;(y=(g=this.cache.config).onError)==null||y.call(g,m,this),(w=(b=this.cache.config).onSettled)==null||w.call(b,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=km.createRetryer({fn:c.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:m=>{var y,g,w,b;if(typeof m>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(y=(g=this.cache.config).onSuccess)==null||y.call(g,m,this),(w=(b=this.cache.config).onSettled)==null||w.call(b,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(m,y)=>{this.dispatch({type:"failed",failureCount:m,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var i,s;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:km.canFetch(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return km.isCancelledError(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Kae.notifyManager.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function tue(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}yE.Query=eue;Object.defineProperty(mE,"__esModule",{value:!0});var Nm=rt,rue=yE,w0=bs,nue=uu;class iue extends nue.Subscribable{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var i;const s=r.queryKey,o=(i=r.queryHash)!=null?i:Nm.hashQueryKeyByOptions(s,r);let a=this.get(o);return a||(a=new rue.Query({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){w0.notifyManager.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=Nm.parseFilterArgs(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(i=>Nm.matchQuery(n,i))}findAll(e,r){const[n]=Nm.parseFilterArgs(e,r);return Object.keys(n).length>0?this.queries.filter(i=>Nm.matchQuery(n,i)):this.queries}notify(e){w0.notifyManager.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){w0.notifyManager.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){w0.notifyManager.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}mE.QueryCache=iue;var wk={},vE={},pv={};Object.defineProperty(pv,"__esModule",{value:!0});var sue=bk,oue=bs,aue=gE,g4=au;class uue extends aue.Removable{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||sue.defaultLogger,this.observers=[],this.state=e.state||mV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var R;return this.retryer=g4.createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(D,W)=>{this.dispatch({type:"failed",failureCount:D,error:W})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(R=this.options.retry)!=null?R:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,i,s,o,a,u,l,c;if(!r){var f,p,m,y;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(p=this.mutationCache.config).onMutate)==null?void 0:f.call(p,this.state.variables,this));const D=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,this.state.variables));D!==this.state.context&&this.dispatch({type:"loading",context:D,variables:this.state.variables})}const R=await e();return await((n=(i=this.mutationCache.config).onSuccess)==null?void 0:n.call(i,R,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,R,this.state.variables,this.state.context)),await((a=(u=this.mutationCache.config).onSettled)==null?void 0:a.call(u,R,null,this.state.variables,this.state.context,this)),await((l=(c=this.options).onSettled)==null?void 0:l.call(c,R,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:R}),R}catch(R){try{var g,w,b,_,E,x,N,M;throw await((g=(w=this.mutationCache.config).onError)==null?void 0:g.call(w,R,this.state.variables,this.state.context,this)),await((b=(_=this.options).onError)==null?void 0:b.call(_,R,this.state.variables,this.state.context)),await((E=(x=this.mutationCache.config).onSettled)==null?void 0:E.call(x,void 0,R,this.state.variables,this.state.context,this)),await((N=(M=this.options).onSettled)==null?void 0:N.call(M,void 0,R,this.state.variables,this.state.context)),R}finally{this.dispatch({type:"error",error:R})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!g4.canFetch(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),oue.notifyManager.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function mV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}pv.Mutation=uue;pv.getDefaultState=mV;Object.defineProperty(vE,"__esModule",{value:!0});var hT=bs,lue=pv,dT=rt,cue=uu;class hue extends cue.Subscribable{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const i=new lue.Mutation({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){hT.notifyManager.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>dT.matchMutation(e,r))}findAll(e){return this.mutations.filter(r=>dT.matchMutation(e,r))}notify(e){hT.notifyManager.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return hT.notifyManager.batch(()=>r.reduce((n,i)=>n.then(()=>i.continue().catch(dT.noop)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}vE.MutationCache=hue;var Dl={};Object.defineProperty(Dl,"__esModule",{value:!0});function due(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,i,s,o;const a=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,u=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,l=u==null?void 0:u.pageParam,c=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",p=((s=t.state.data)==null?void 0:s.pages)||[],m=((o=t.state.data)==null?void 0:o.pageParams)||[];let y=m,g=!1;const w=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>{var R;if((R=t.signal)!=null&&R.aborted)g=!0;else{var D;(D=t.signal)==null||D.addEventListener("abort",()=>{g=!0})}return t.signal}})},b=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),_=(M,R,D,W)=>(y=W?[R,...y]:[...y,R],W?[D,...M]:[...M,D]),E=(M,R,D,W)=>{if(g)return Promise.reject("Cancelled");if(typeof D>"u"&&!R&&M.length)return Promise.resolve(M);const G={queryKey:t.queryKey,pageParam:D,meta:t.options.meta};w(G);const F=b(G);return Promise.resolve(F).then(B=>_(M,D,B,W))};let x;if(!p.length)x=E([]);else if(c){const M=typeof l<"u",R=M?l:U1(t.options,p);x=E(p,M,R)}else if(f){const M=typeof l<"u",R=M?l:Ek(t.options,p);x=E(p,M,R,!0)}else{y=[];const M=typeof t.options.getNextPageParam>"u";x=(a&&p[0]?a(p[0],0,p):!0)?E([],M,m[0]):Promise.resolve(_([],m[0],p[0]));for(let D=1;D<p.length;D++)x=x.then(W=>{if(a&&p[D]?a(p[D],D,p):!0){const F=M?m[D]:U1(t.options,W);return E(W,M,F)}return Promise.resolve(_(W,m[D],p[D]))})}return x.then(M=>({pages:M,pageParams:y}))}}}}function U1(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function Ek(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}function fue(t,e){if(t.getNextPageParam&&Array.isArray(e)){const r=U1(t,e);return typeof r<"u"&&r!==null&&r!==!1}}function pue(t,e){if(t.getPreviousPageParam&&Array.isArray(e)){const r=Ek(t,e);return typeof r<"u"&&r!==null&&r!==!1}}Dl.getNextPageParam=U1;Dl.getPreviousPageParam=Ek;Dl.hasNextPage=fue;Dl.hasPreviousPage=pue;Dl.infiniteQueryBehavior=due;Object.defineProperty(wk,"__esModule",{value:!0});var Pt=rt,mue=mE,yue=vE,v4=Rh,_4=Ip,pd=bs,gue=Dl,vue=bk;class _ue{constructor(e={}){this.queryCache=e.queryCache||new mue.QueryCache,this.mutationCache=e.mutationCache||new yue.MutationCache,this.logger=e.logger||vue.defaultLogger,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=v4.focusManager.subscribe(()=>{v4.focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=_4.onlineManager.subscribe(()=>{_4.onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=Pt.parseFilterArgs(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const i=Pt.parseQueryArgs(e,r,n),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const i=n.data;return[r,i]})}setQueryData(e,r,n){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=Pt.functionalUpdate(r,s);if(typeof o>"u")return;const a=Pt.parseQueryArgs(e),u=this.defaultQueryOptions(a);return this.queryCache.build(this,u).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return pd.notifyManager.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=Pt.parseFilterArgs(e,r),i=this.queryCache;pd.notifyManager.batch(()=>{i.findAll(n).forEach(s=>{i.remove(s)})})}resetQueries(e,r,n){const[i,s]=Pt.parseFilterArgs(e,r,n),o=this.queryCache,a={type:"active",...i};return pd.notifyManager.batch(()=>(o.findAll(i).forEach(u=>{u.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,r,n){const[i,s={}]=Pt.parseFilterArgs(e,r,n);typeof s.revert>"u"&&(s.revert=!0);const o=pd.notifyManager.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Pt.noop).catch(Pt.noop)}invalidateQueries(e,r,n){const[i,s]=Pt.parseFilterArgs(e,r,n);return pd.notifyManager.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(l=>{l.invalidate()}),i.refetchType==="none")return Promise.resolve();const u={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(u,s)})}refetchQueries(e,r,n){const[i,s]=Pt.parseFilterArgs(e,r,n),o=pd.notifyManager.batch(()=>this.queryCache.findAll(i).filter(u=>!u.isDisabled()).map(u=>{var l;return u.fetch(void 0,{...s,cancelRefetch:(l=s==null?void 0:s.cancelRefetch)!=null?l:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Pt.noop);return s!=null&&s.throwOnError||(a=a.catch(Pt.noop)),a}fetchQuery(e,r,n){const i=Pt.parseQueryArgs(e,r,n),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(Pt.noop).catch(Pt.noop)}fetchInfiniteQuery(e,r,n){const i=Pt.parseQueryArgs(e,r,n);return i.behavior=gue.infiniteQueryBehavior(),this.fetchQuery(i)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(Pt.noop).catch(Pt.noop)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(i=>Pt.hashQueryKey(e)===Pt.hashQueryKey(i.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>Pt.partialMatchKey(e,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(i=>Pt.hashQueryKey(e)===Pt.hashQueryKey(i.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>Pt.partialMatchKey(e,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=Pt.hashQueryKeyByOptions(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}wk.QueryClient=_ue;var mv={};Object.defineProperty(mv,"__esModule",{value:!0});var Ns=rt,bue=bs,wue=Rh,Eue=uu,b4=au;class xue extends Eue.Subscribable{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),w4(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return l2(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return l2(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Ns.shallowEqualObjects(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const s=this.hasListeners();s&&E4(this.currentQuery,i,this.options,n)&&this.executeFetch(),this.updateResult(r),s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),n=this.createResult(r,e);return Aue(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Ns.noop)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Ns.isServer||this.currentResult.isStale||!Ns.isValidTimeout(this.options.staleTime))return;const r=Ns.timeUntilStale(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Ns.isServer||this.options.enabled===!1||!Ns.isValidTimeout(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||wue.focusManager.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,u=e!==n,l=u?e.state:this.currentQueryInitialState,c=u?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:p,error:m,errorUpdatedAt:y,fetchStatus:g,status:w}=f,b=!1,_=!1,E;if(r._optimisticResults){const D=this.hasListeners(),W=!D&&w4(e,r),G=D&&E4(e,n,r,i);(W||G)&&(g=b4.canFetch(e.options.networkMode)?"fetching":"paused",p||(w="loading")),r._optimisticResults==="isRestoring"&&(g="idle")}if(r.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&w!=="error")E=c.data,p=c.dataUpdatedAt,w=c.status,b=!0;else if(r.select&&typeof f.data<"u")if(s&&f.data===(o==null?void 0:o.data)&&r.select===this.selectFn)E=this.selectResult;else try{this.selectFn=r.select,E=r.select(f.data),E=Ns.replaceData(s==null?void 0:s.data,E,r),this.selectResult=E,this.selectError=null}catch(D){this.selectError=D}else E=f.data;if(typeof r.placeholderData<"u"&&typeof E>"u"&&w==="loading"){let D;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))D=s.data;else if(D=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof D<"u")try{D=r.select(D),this.selectError=null}catch(W){this.selectError=W}typeof D<"u"&&(w="success",E=Ns.replaceData(s==null?void 0:s.data,D,r),_=!0)}this.selectError&&(m=this.selectError,E=this.selectResult,y=Date.now(),w="error");const x=g==="fetching",N=w==="loading",M=w==="error";return{status:w,fetchStatus:g,isLoading:N,isSuccess:w==="success",isError:M,isInitialLoading:N&&x,data:E,dataUpdatedAt:p,error:m,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:x,isRefetching:x&&!N,isLoadingError:M&&f.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:_,isPreviousData:b,isRefetchError:M&&f.dataUpdatedAt!==0,isStale:xk(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ns.shallowEqualObjects(n,r))return;this.currentResult=n;const i={cache:!0},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!this.trackedProps.size)return!0;const u=new Set(a??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(l=>{const c=l;return this.currentResult[c]!==r[c]&&u.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!b4.isCancelledError(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){bue.notifyManager.batch(()=>{if(e.onSuccess){var r,n,i,s;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,u,l;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(u=(l=this.options).onSettled)==null||u.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Sue(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function w4(t,e){return Sue(t,e)||t.state.dataUpdatedAt>0&&l2(t,e,e.refetchOnMount)}function l2(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&xk(t,e)}return!1}function E4(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&xk(t,r)}function xk(t,e){return t.isStaleByTime(e.staleTime)}function Aue(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:!Ns.shallowEqualObjects(t.getCurrentResult(),e)}mv.QueryObserver=xue;var Sk={};Object.defineProperty(Sk,"__esModule",{value:!0});var fT=rt,x4=bs,Tue=mv,Cue=uu;class Iue extends Cue.Subscribable{constructor(e,r){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},r&&this.setQueries(r)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(r=>{this.onUpdate(e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,r){this.queries=e,x4.notifyManager.batch(()=>{const n=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions,r));const s=i.map(l=>l.observer),o=Object.fromEntries(s.map(l=>[l.options.queryHash,l])),a=s.map(l=>l.getCurrentResult()),u=s.some((l,c)=>l!==n[c]);n.length===s.length&&!u||(this.observers=s,this.observersMap=o,this.result=a,this.hasListeners()&&(fT.difference(n,s).forEach(l=>{l.destroy()}),fT.difference(s,n).forEach(l=>{l.subscribe(c=>{this.onUpdate(l,c)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(r=>r.observer.getOptimisticResult(r.defaultedQueryOptions))}findMatchingObservers(e){const r=this.observers,n=new Map(r.map(m=>[m.options.queryHash,m])),i=e.map(m=>this.client.defaultQueryOptions(m)),s=i.flatMap(m=>{const y=n.get(m.queryHash);return y!=null?[{defaultedQueryOptions:m,observer:y}]:[]}),o=new Set(s.map(m=>m.defaultedQueryOptions.queryHash)),a=i.filter(m=>!o.has(m.queryHash)),u=new Set(s.map(m=>m.observer)),l=r.filter(m=>!u.has(m)),c=m=>{const y=this.client.defaultQueryOptions(m),g=this.observersMap[y.queryHash];return g??new Tue.QueryObserver(this.client,y)},f=a.map((m,y)=>{if(m.keepPreviousData){const g=l[y];if(g!==void 0)return{defaultedQueryOptions:m,observer:g}}return{defaultedQueryOptions:m,observer:c(m)}}),p=(m,y)=>i.indexOf(m.defaultedQueryOptions)-i.indexOf(y.defaultedQueryOptions);return s.concat(f).sort(p)}onUpdate(e,r){const n=this.observers.indexOf(e);n!==-1&&(this.result=fT.replaceAt(this.result,n,r),this.notify())}notify(){x4.notifyManager.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}Sk.QueriesObserver=Iue;var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});var Oue=mv,E0=Dl;class Rue extends Oue.QueryObserver{constructor(e,r){super(e,r)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,r){super.setOptions({...e,behavior:E0.infiniteQueryBehavior()},r)}getOptimisticResult(e){return e.behavior=E0.infiniteQueryBehavior(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...r}={}){return this.fetch({...r,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,r){var n,i,s,o,a,u;const{state:l}=e,c=super.createResult(e,r),{isFetching:f,isRefetching:p}=c,m=f&&((n=l.fetchMeta)==null||(i=n.fetchMore)==null?void 0:i.direction)==="forward",y=f&&((s=l.fetchMeta)==null||(o=s.fetchMore)==null?void 0:o.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:E0.hasNextPage(r,(a=l.data)==null?void 0:a.pages),hasPreviousPage:E0.hasPreviousPage(r,(u=l.data)==null?void 0:u.pages),isFetchingNextPage:m,isFetchingPreviousPage:y,isRefetching:p&&!m&&!y}}}Ak.InfiniteQueryObserver=Rue;var Tk={};Object.defineProperty(Tk,"__esModule",{value:!0});var Pue=pv,kue=bs,Nue=uu,Mue=rt;let Due=class extends Nue.Subscribable{constructor(e,r){super(),this.client=e,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var r;const n=this.options;this.options=this.client.defaultMutationOptions(e),Mue.shallowEqualObjects(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:Pue.getDefaultState(),r={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(e){kue.notifyManager.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var r,n,i,s;(r=(n=this.mutateOptions).onSuccess)==null||r.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(s=this.mutateOptions).onSettled)==null||i.call(s,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var o,a,u,l;(o=(a=this.mutateOptions).onError)==null||o.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(u=(l=this.mutateOptions).onSettled)==null||u.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)})})}};Tk.MutationObserver=Due;var Op={};Object.defineProperty(Op,"__esModule",{value:!0});function Bue(t){return{mutationKey:t.options.mutationKey,state:t.state}}function Lue(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}function yV(t){return t.state.isPaused}function gV(t){return t.state.status==="success"}function $ue(t,e={}){const r=[],n=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||yV;t.getMutationCache().getAll().forEach(s=>{i(s)&&r.push(Bue(s))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||gV;t.getQueryCache().getAll().forEach(s=>{i(s)&&n.push(Lue(s))})}return{mutations:r,queries:n}}function Uue(t,e,r){if(typeof e!="object"||e===null)return;const n=t.getMutationCache(),i=t.getQueryCache(),s=e.mutations||[],o=e.queries||[];s.forEach(a=>{var u;n.build(t,{...r==null||(u=r.defaultOptions)==null?void 0:u.mutations,mutationKey:a.mutationKey},a.state)}),o.forEach(({queryKey:a,state:u,queryHash:l})=>{var c;const f=i.get(l);if(f){if(f.state.dataUpdatedAt<u.dataUpdatedAt){const{fetchStatus:p,...m}=u;f.setState(m)}return}i.build(t,{...r==null||(c=r.defaultOptions)==null?void 0:c.queries,queryKey:a,queryHash:l},{...u,fetchStatus:"idle"})})}Op.defaultShouldDehydrateMutation=yV;Op.defaultShouldDehydrateQuery=gV;Op.dehydrate=$ue;Op.hydrate=Uue;Object.defineProperty(ct,"__esModule",{value:!0});var vV=au,Fue=mE,jue=wk,zue=mv,Hue=Sk,Vue=Ak,Gue=vE,Wue=Tk,que=bs,Zue=Rh,Xue=Ip,lu=rt,_E=Op,Yue=yE;ct.CancelledError=vV.CancelledError;ct.isCancelledError=vV.isCancelledError;ct.QueryCache=Fue.QueryCache;ct.QueryClient=jue.QueryClient;ct.QueryObserver=zue.QueryObserver;ct.QueriesObserver=Hue.QueriesObserver;ct.InfiniteQueryObserver=Vue.InfiniteQueryObserver;ct.MutationCache=Gue.MutationCache;ct.MutationObserver=Wue.MutationObserver;ct.notifyManager=que.notifyManager;ct.focusManager=Zue.focusManager;ct.onlineManager=Xue.onlineManager;ct.hashQueryKey=lu.hashQueryKey;ct.isError=lu.isError;ct.isServer=lu.isServer;ct.matchQuery=lu.matchQuery;ct.parseFilterArgs=lu.parseFilterArgs;ct.parseMutationArgs=lu.parseMutationArgs;ct.parseMutationFilterArgs=lu.parseMutationFilterArgs;ct.parseQueryArgs=lu.parseQueryArgs;ct.replaceEqualDeep=lu.replaceEqualDeep;ct.defaultShouldDehydrateMutation=_E.defaultShouldDehydrateMutation;ct.defaultShouldDehydrateQuery=_E.defaultShouldDehydrateQuery;ct.dehydrate=_E.dehydrate;ct.hydrate=_E.hydrate;ct.Query=Yue.Query;var Ck={},_V={exports:{}},bV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=we;function Que(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kue=typeof Object.is=="function"?Object.is:Que,Jue=qf.useState,ele=qf.useEffect,tle=qf.useLayoutEffect,rle=qf.useDebugValue;function nle(t,e){var r=e(),n=Jue({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return tle(function(){i.value=r,i.getSnapshot=e,pT(i)&&s({inst:i})},[t,r,e]),ele(function(){return pT(i)&&s({inst:i}),t(function(){pT(i)&&s({inst:i})})},[t]),rle(r),r}function pT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kue(t,r)}catch{return!0}}function ile(t,e){return e()}var sle=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ile:nle;bV.useSyncExternalStore=qf.useSyncExternalStore!==void 0?qf.useSyncExternalStore:sle;_V.exports=bV;var wV=_V.exports;const ole=wV.useSyncExternalStore,ale=Object.freeze(Object.defineProperty({__proto__:null,useSyncExternalStore:ole},Symbol.toStringTag,{value:"Module"})),yv=fa(ale);var mo={};Object.defineProperty(mo,"__esModule",{value:!0});var ule=we;function lle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Vc=lle(ule);const c2=Vc.createContext(void 0),EV=Vc.createContext(!1);function xV(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=c2),window.ReactQueryClientContext):c2)}const cle=({context:t}={})=>{const e=Vc.useContext(xV(t,Vc.useContext(EV)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hle=({client:t,children:e,context:r,contextSharing:n=!1})=>{Vc.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const i=xV(r,n);return Vc.createElement(EV.Provider,{value:!r&&n},Vc.createElement(i.Provider,{value:t},e))};mo.QueryClientProvider=hle;mo.defaultContext=c2;mo.useQueryClient=cle;var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});var dle=we;function fle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var SV=fle(dle);const AV=SV.createContext(!1),ple=()=>SV.useContext(AV),mle=AV.Provider;Rp.IsRestoringProvider=mle;Rp.useIsRestoring=ple;var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});var yle=we;function gle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var F1=gle(yle);function TV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const CV=F1.createContext(TV()),vle=()=>F1.useContext(CV),_le=({children:t})=>{const[e]=F1.useState(()=>TV());return F1.createElement(CV.Provider,{value:e},typeof t=="function"?t(e):t)};Pp.QueryErrorResetBoundary=_le;Pp.useQueryErrorResetBoundary=vle;var kp={},bE={};Object.defineProperty(bE,"__esModule",{value:!0});function ble(t,e){return typeof t=="function"?t(...e):!!t}bE.shouldThrowError=ble;Object.defineProperty(kp,"__esModule",{value:!0});var wle=we,Ele=bE;function xle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var Sle=xle(wle);const Ale=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Tle=t=>{Sle.useEffect(()=>{t.clearReset()},[t])},Cle=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&Ele.shouldThrowError(r,[t.error,n]);kp.ensurePreventErrorBoundaryRetry=Ale;kp.getHasError=Cle;kp.useClearResetErrorBoundary=Tle;var kh={};Object.defineProperty(kh,"__esModule",{value:!0});const Ile=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},IV=(t,e)=>t.isLoading&&t.isFetching&&!e,Ole=(t,e,r)=>(t==null?void 0:t.suspense)&&IV(e,r),Rle=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});kh.ensureStaleTime=Ile;kh.fetchOptimistic=Rle;kh.shouldSuspend=Ole;kh.willFetch=IV;Object.defineProperty(Ck,"__esModule",{value:!0});var Ple=we,S4=ct,kle=yv,Nle=mo,Mle=Rp,Dle=Pp,mT=kp,md=kh;function Ble(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var x0=Ble(Ple);function Lle({queries:t,context:e}){const r=Nle.useQueryClient({context:e}),n=Mle.useIsRestoring(),i=Dle.useQueryErrorResetBoundary(),s=x0.useMemo(()=>t.map(p=>{const m=r.defaultQueryOptions(p);return m._optimisticResults=n?"isRestoring":"optimistic",m}),[t,r,n]);s.forEach(p=>{md.ensureStaleTime(p),mT.ensurePreventErrorBoundaryRetry(p,i)}),mT.useClearResetErrorBoundary(i);const[o]=x0.useState(()=>new S4.QueriesObserver(r,s)),a=o.getOptimisticResult(s);kle.useSyncExternalStore(x0.useCallback(p=>n?()=>{}:o.subscribe(S4.notifyManager.batchCalls(p)),[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x0.useEffect(()=>{o.setQueries(s,{listeners:!1})},[s,o]);const l=a.some((p,m)=>md.shouldSuspend(s[m],p,n))?a.flatMap((p,m)=>{const y=s[m],g=o.getObservers()[m];if(y&&g){if(md.shouldSuspend(y,p,n))return md.fetchOptimistic(y,g,i);md.willFetch(p,n)&&md.fetchOptimistic(y,g,i)}return[]}):[];if(l.length>0)throw Promise.all(l);const c=o.getQueries(),f=a.find((p,m)=>{var y,g;return mT.getHasError({result:p,errorResetBoundary:i,useErrorBoundary:(y=(g=s[m])==null?void 0:g.useErrorBoundary)!=null?y:!1,query:c[m]})});if(f!=null&&f.error)throw f.error;return a}Ck.useQueries=Lle;var Ik={},wE={};Object.defineProperty(wE,"__esModule",{value:!0});var $le=we,S0=ct,Ule=yv,Fle=Pp,jle=mo,zle=Rp,yT=kp,gT=kh;function Hle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var vT=Hle($le);function Vle(t,e){const r=jle.useQueryClient({context:t.context}),n=zle.useIsRestoring(),i=Fle.useQueryErrorResetBoundary(),s=r.defaultQueryOptions(t);s._optimisticResults=n?"isRestoring":"optimistic",s.onError&&(s.onError=S0.notifyManager.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=S0.notifyManager.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=S0.notifyManager.batchCalls(s.onSettled)),gT.ensureStaleTime(s),yT.ensurePreventErrorBoundaryRetry(s,i),yT.useClearResetErrorBoundary(i);const[o]=vT.useState(()=>new e(r,s)),a=o.getOptimisticResult(s);if(Ule.useSyncExternalStore(vT.useCallback(u=>{const l=n?()=>{}:o.subscribe(S0.notifyManager.batchCalls(u));return o.updateResult(),l},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),vT.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),gT.shouldSuspend(s,a,n))throw gT.fetchOptimistic(s,o,i);if(yT.getHasError({result:a,errorResetBoundary:i,useErrorBoundary:s.useErrorBoundary,query:o.getCurrentQuery()}))throw a.error;return s.notifyOnChangeProps?a:o.trackResult(a)}wE.useBaseQuery=Vle;Object.defineProperty(Ik,"__esModule",{value:!0});var A4=ct,Gle=wE;function Wle(t,e,r){const n=A4.parseQueryArgs(t,e,r);return Gle.useBaseQuery(n,A4.QueryObserver)}Ik.useQuery=Wle;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});var qle=we,Zle=ct,Xle=mo;function Yle(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var T4=Yle(qle);function OV(t,e={}){const r=Xle.useQueryClient({context:e.context}),n=T4.useRef(e);n.current=e,T4.useMemo(()=>{t&&Zle.hydrate(r,t,n.current)},[r,t])}const Qle=({children:t,options:e,state:r})=>(OV(r,e),t);EE.Hydrate=Qle;EE.useHydrate=OV;var Ok={};Object.defineProperty(Ok,"__esModule",{value:!0});var Kle=we,C4=ct,Jle=yv,ece=mo;function tce(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var rce=tce(Kle);function nce(t,e,r){const[n,i={}]=C4.parseFilterArgs(t,e,r),s=ece.useQueryClient({context:i.context}),o=s.getQueryCache();return Jle.useSyncExternalStore(rce.useCallback(a=>o.subscribe(C4.notifyManager.batchCalls(a)),[o]),()=>s.isFetching(n),()=>s.isFetching(n))}Ok.useIsFetching=nce;var Rk={};Object.defineProperty(Rk,"__esModule",{value:!0});var ice=we,I4=ct,sce=yv,oce=mo;function ace(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var uce=ace(ice);function lce(t,e,r){const[n,i={}]=I4.parseMutationFilterArgs(t,e,r),s=oce.useQueryClient({context:i.context}),o=s.getMutationCache();return sce.useSyncExternalStore(uce.useCallback(a=>o.subscribe(I4.notifyManager.batchCalls(a)),[o]),()=>s.isMutating(n),()=>s.isMutating(n))}Rk.useIsMutating=lce;var Pk={};Object.defineProperty(Pk,"__esModule",{value:!0});var cce=we,_T=ct,hce=yv,dce=mo,fce=bE;function pce(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var A0=pce(cce);function mce(t,e,r){const n=_T.parseMutationArgs(t,e,r),i=dce.useQueryClient({context:n.context}),[s]=A0.useState(()=>new _T.MutationObserver(i,n));A0.useEffect(()=>{s.setOptions(n)},[s,n]);const o=hce.useSyncExternalStore(A0.useCallback(u=>s.subscribe(_T.notifyManager.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=A0.useCallback((u,l)=>{s.mutate(u,l).catch(yce)},[s]);if(o.error&&fce.shouldThrowError(s.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}function yce(){}Pk.useMutation=mce;var kk={};Object.defineProperty(kk,"__esModule",{value:!0});var O4=ct,gce=wE;function vce(t,e,r){const n=O4.parseQueryArgs(t,e,r);return gce.useBaseQuery(n,O4.InfiniteQueryObserver)}kk.useInfiniteQuery=vce;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ct,r=Ck,n=Ik,i=mo,s=EE,o=Pp,a=Ok,u=Rk,l=Pk,c=kk,f=Rp;t.useQueries=r.useQueries,t.useQuery=n.useQuery,t.QueryClientProvider=i.QueryClientProvider,t.defaultContext=i.defaultContext,t.useQueryClient=i.useQueryClient,t.Hydrate=s.Hydrate,t.useHydrate=s.useHydrate,t.QueryErrorResetBoundary=o.QueryErrorResetBoundary,t.useQueryErrorResetBoundary=o.useQueryErrorResetBoundary,t.useIsFetching=a.useIsFetching,t.useIsMutating=u.useIsMutating,t.useMutation=l.useMutation,t.useInfiniteQuery=c.useInfiniteQuery,t.IsRestoringProvider=f.IsRestoringProvider,t.useIsRestoring=f.useIsRestoring,Object.keys(e).forEach(function(p){p!=="default"&&!t.hasOwnProperty(p)&&Object.defineProperty(t,p,{enumerable:!0,get:function(){return e[p]}})})})(po);const _ce=fa(aee);var tt={},R4;function Zf(){if(R4)return tt;R4=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.validateObject=tt.createHmacDrbg=tt.bitMask=tt.bitSet=tt.bitGet=tt.bitLen=tt.utf8ToBytes=tt.equalBytes=tt.concatBytes=tt.ensureBytes=tt.numberToVarBytesBE=tt.numberToBytesLE=tt.numberToBytesBE=tt.bytesToNumberLE=tt.bytesToNumberBE=tt.hexToBytes=tt.hexToNumber=tt.numberToHexUnpadded=tt.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=BigInt(0),e=BigInt(1),r=BigInt(2),n=F=>F instanceof Uint8Array,i=Array.from({length:256},(F,X)=>X.toString(16).padStart(2,"0"));function s(F){if(!n(F))throw new Error("Uint8Array expected");let X="";for(let B=0;B<F.length;B++)X+=i[F[B]];return X}tt.bytesToHex=s;function o(F){const X=F.toString(16);return X.length&1?`0${X}`:X}tt.numberToHexUnpadded=o;function a(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);return BigInt(F===""?"0":`0x${F}`)}tt.hexToNumber=a;function u(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);const X=F.length;if(X%2)throw new Error("padded hex string expected, got unpadded hex of length "+X);const B=new Uint8Array(X/2);for(let j=0;j<B.length;j++){const C=j*2,k=F.slice(C,C+2),O=Number.parseInt(k,16);if(Number.isNaN(O)||O<0)throw new Error("Invalid byte sequence");B[j]=O}return B}tt.hexToBytes=u;function l(F){return a(s(F))}tt.bytesToNumberBE=l;function c(F){if(!n(F))throw new Error("Uint8Array expected");return a(s(Uint8Array.from(F).reverse()))}tt.bytesToNumberLE=c;function f(F,X){return u(F.toString(16).padStart(X*2,"0"))}tt.numberToBytesBE=f;function p(F,X){return f(F,X).reverse()}tt.numberToBytesLE=p;function m(F){return u(o(F))}tt.numberToVarBytesBE=m;function y(F,X,B){let j;if(typeof X=="string")try{j=u(X)}catch(k){throw new Error(`${F} must be valid hex string, got "${X}". Cause: ${k}`)}else if(n(X))j=Uint8Array.from(X);else throw new Error(`${F} must be hex string or Uint8Array`);const C=j.length;if(typeof B=="number"&&C!==B)throw new Error(`${F} expected ${B} bytes, got ${C}`);return j}tt.ensureBytes=y;function g(...F){const X=new Uint8Array(F.reduce((j,C)=>j+C.length,0));let B=0;return F.forEach(j=>{if(!n(j))throw new Error("Uint8Array expected");X.set(j,B),B+=j.length}),X}tt.concatBytes=g;function w(F,X){if(F.length!==X.length)return!1;for(let B=0;B<F.length;B++)if(F[B]!==X[B])return!1;return!0}tt.equalBytes=w;function b(F){if(typeof F!="string")throw new Error(`utf8ToBytes expected string, got ${typeof F}`);return new Uint8Array(new TextEncoder().encode(F))}tt.utf8ToBytes=b;function _(F){let X;for(X=0;F>t;F>>=e,X+=1);return X}tt.bitLen=_;function E(F,X){return F>>BigInt(X)&e}tt.bitGet=E;const x=(F,X,B)=>F|(B?e:t)<<BigInt(X);tt.bitSet=x;const N=F=>(r<<BigInt(F-1))-e;tt.bitMask=N;const M=F=>new Uint8Array(F),R=F=>Uint8Array.from(F);function D(F,X,B){if(typeof F!="number"||F<2)throw new Error("hashLen must be a number");if(typeof X!="number"||X<2)throw new Error("qByteLen must be a number");if(typeof B!="function")throw new Error("hmacFn must be a function");let j=M(F),C=M(F),k=0;const O=()=>{j.fill(1),C.fill(0),k=0},P=(...q)=>B(C,j,...q),U=(q=M())=>{C=P(R([0]),q),j=P(),q.length!==0&&(C=P(R([1]),q),j=P())},$=()=>{if(k++>=1e3)throw new Error("drbg: tried 1000 values");let q=0;const ne=[];for(;q<X;){j=P();const re=j.slice();ne.push(re),q+=j.length}return g(...ne)};return(q,ne)=>{O(),U(q);let re;for(;!(re=ne($()));)U();return O(),re}}tt.createHmacDrbg=D;const W={bigint:F=>typeof F=="bigint",function:F=>typeof F=="function",boolean:F=>typeof F=="boolean",string:F=>typeof F=="string",stringOrUint8Array:F=>typeof F=="string"||F instanceof Uint8Array,isSafeInteger:F=>Number.isSafeInteger(F),array:F=>Array.isArray(F),field:(F,X)=>X.Fp.isValid(F),hash:F=>typeof F=="function"&&Number.isSafeInteger(F.outputLen)};function G(F,X,B={}){const j=(C,k,O)=>{const P=W[k];if(typeof P!="function")throw new Error(`Invalid validator "${k}", expected function`);const U=F[C];if(!(O&&U===void 0)&&!P(U,F))throw new Error(`Invalid param ${String(C)}=${U} (${typeof U}), expected ${k}`)};for(const[C,k]of Object.entries(X))j(C,k,!1);for(const[C,k]of Object.entries(B))j(C,k,!0);return F}return tt.validateObject=G,tt}const xE=fa(Sj);var bT={},Ke={},P4;function Nk(){if(P4)return Ke;P4=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.mapHashToField=Ke.getMinHashLength=Ke.getFieldBytesLength=Ke.hashToPrivateScalar=Ke.FpSqrtEven=Ke.FpSqrtOdd=Ke.Field=Ke.nLength=Ke.FpIsSquare=Ke.FpDiv=Ke.FpInvertBatch=Ke.FpPow=Ke.validateField=Ke.isNegativeLE=Ke.FpSqrt=Ke.tonelliShanks=Ke.invert=Ke.pow2=Ke.pow=Ke.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Zf(),e=BigInt(0),r=BigInt(1),n=BigInt(2),i=BigInt(3),s=BigInt(4),o=BigInt(5),a=BigInt(8);BigInt(9),BigInt(16);function u(B,j){const C=B%j;return C>=e?C:j+C}Ke.mod=u;function l(B,j,C){if(C<=e||j<e)throw new Error("Expected power/modulo > 0");if(C===r)return e;let k=r;for(;j>e;)j&r&&(k=k*B%C),B=B*B%C,j>>=r;return k}Ke.pow=l;function c(B,j,C){let k=B;for(;j-- >e;)k*=k,k%=C;return k}Ke.pow2=c;function f(B,j){if(B===e||j<=e)throw new Error(`invert: expected positive integers, got n=${B} mod=${j}`);let C=u(B,j),k=j,O=e,P=r;for(;C!==e;){const $=k/C,z=k%C,q=O-P*$;k=C,C=z,O=P,P=q}if(k!==r)throw new Error("invert: does not exist");return u(O,j)}Ke.invert=f;function p(B){const j=(B-r)/n;let C,k,O;for(C=B-r,k=0;C%n===e;C/=n,k++);for(O=n;O<B&&l(O,j,B)!==B-r;O++);if(k===1){const U=(B+r)/s;return function(z,q){const ne=z.pow(q,U);if(!z.eql(z.sqr(ne),q))throw new Error("Cannot find square root");return ne}}const P=(C+r)/n;return function($,z){if($.pow(z,j)===$.neg($.ONE))throw new Error("Cannot find square root");let q=k,ne=$.pow($.mul($.ONE,O),C),re=$.pow(z,P),ae=$.pow(z,C);for(;!$.eql(ae,$.ONE);){if($.eql(ae,$.ZERO))return $.ZERO;let oe=1;for(let Ne=$.sqr(ae);oe<q&&!$.eql(Ne,$.ONE);oe++)Ne=$.sqr(Ne);const ve=$.pow(ne,r<<BigInt(q-oe-1));ne=$.sqr(ve),re=$.mul(re,ve),ae=$.mul(ae,ne),q=oe}return re}}Ke.tonelliShanks=p;function m(B){if(B%s===i){const j=(B+r)/s;return function(k,O){const P=k.pow(O,j);if(!k.eql(k.sqr(P),O))throw new Error("Cannot find square root");return P}}if(B%a===o){const j=(B-o)/a;return function(k,O){const P=k.mul(O,n),U=k.pow(P,j),$=k.mul(O,U),z=k.mul(k.mul($,n),U),q=k.mul($,k.sub(z,k.ONE));if(!k.eql(k.sqr(q),O))throw new Error("Cannot find square root");return q}}return p(B)}Ke.FpSqrt=m;const y=(B,j)=>(u(B,j)&r)===r;Ke.isNegativeLE=y;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function w(B){const j={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},C=g.reduce((k,O)=>(k[O]="function",k),j);return(0,t.validateObject)(B,C)}Ke.validateField=w;function b(B,j,C){if(C<e)throw new Error("Expected power > 0");if(C===e)return B.ONE;if(C===r)return j;let k=B.ONE,O=j;for(;C>e;)C&r&&(k=B.mul(k,O)),O=B.sqr(O),C>>=r;return k}Ke.FpPow=b;function _(B,j){const C=new Array(j.length),k=j.reduce((P,U,$)=>B.is0(U)?P:(C[$]=P,B.mul(P,U)),B.ONE),O=B.inv(k);return j.reduceRight((P,U,$)=>B.is0(U)?P:(C[$]=B.mul(P,C[$]),B.mul(P,U)),O),C}Ke.FpInvertBatch=_;function E(B,j,C){return B.mul(j,typeof C=="bigint"?f(C,B.ORDER):B.inv(C))}Ke.FpDiv=E;function x(B){const j=(B.ORDER-r)/n;return C=>{const k=B.pow(C,j);return B.eql(k,B.ZERO)||B.eql(k,B.ONE)}}Ke.FpIsSquare=x;function N(B,j){const C=j!==void 0?j:B.toString(2).length,k=Math.ceil(C/8);return{nBitLength:C,nByteLength:k}}Ke.nLength=N;function M(B,j,C=!1,k={}){if(B<=e)throw new Error(`Expected Field ORDER > 0, got ${B}`);const{nBitLength:O,nByteLength:P}=N(B,j);if(P>2048)throw new Error("Field lengths over 2048 bytes are not supported");const U=m(B),$=Object.freeze({ORDER:B,BITS:O,BYTES:P,MASK:(0,t.bitMask)(O),ZERO:e,ONE:r,create:z=>u(z,B),isValid:z=>{if(typeof z!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof z}`);return e<=z&&z<B},is0:z=>z===e,isOdd:z=>(z&r)===r,neg:z=>u(-z,B),eql:(z,q)=>z===q,sqr:z=>u(z*z,B),add:(z,q)=>u(z+q,B),sub:(z,q)=>u(z-q,B),mul:(z,q)=>u(z*q,B),pow:(z,q)=>b($,z,q),div:(z,q)=>u(z*f(q,B),B),sqrN:z=>z*z,addN:(z,q)=>z+q,subN:(z,q)=>z-q,mulN:(z,q)=>z*q,inv:z=>f(z,B),sqrt:k.sqrt||(z=>U($,z)),invertBatch:z=>_($,z),cmov:(z,q,ne)=>ne?q:z,toBytes:z=>C?(0,t.numberToBytesLE)(z,P):(0,t.numberToBytesBE)(z,P),fromBytes:z=>{if(z.length!==P)throw new Error(`Fp.fromBytes: expected ${P}, got ${z.length}`);return C?(0,t.bytesToNumberLE)(z):(0,t.bytesToNumberBE)(z)}});return Object.freeze($)}Ke.Field=M;function R(B,j){if(!B.isOdd)throw new Error("Field doesn't have isOdd");const C=B.sqrt(j);return B.isOdd(C)?C:B.neg(C)}Ke.FpSqrtOdd=R;function D(B,j){if(!B.isOdd)throw new Error("Field doesn't have isOdd");const C=B.sqrt(j);return B.isOdd(C)?B.neg(C):C}Ke.FpSqrtEven=D;function W(B,j,C=!1){B=(0,t.ensureBytes)("privateHash",B);const k=B.length,O=N(j).nByteLength+8;if(O<24||k<O||k>1024)throw new Error(`hashToPrivateScalar: expected ${O}-1024 bytes of input, got ${k}`);const P=C?(0,t.bytesToNumberLE)(B):(0,t.bytesToNumberBE)(B);return u(P,j-r)+r}Ke.hashToPrivateScalar=W;function G(B){if(typeof B!="bigint")throw new Error("field order must be bigint");const j=B.toString(2).length;return Math.ceil(j/8)}Ke.getFieldBytesLength=G;function F(B){const j=G(B);return j+Math.ceil(j/2)}Ke.getMinHashLength=F;function X(B,j,C=!1){const k=B.length,O=G(j),P=F(j);if(k<16||k<P||k>1024)throw new Error(`expected ${P}-1024 bytes of input, got ${k}`);const U=C?(0,t.bytesToNumberBE)(B):(0,t.bytesToNumberLE)(B),$=u(U,j-r)+r;return C?(0,t.numberToBytesLE)($,O):(0,t.numberToBytesBE)($,O)}return Ke.mapHashToField=X,Ke}var ic={},k4;function bce(){if(k4)return ic;k4=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.validateBasic=ic.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Nk(),e=Zf(),r=BigInt(0),n=BigInt(1);function i(o,a){const u=(c,f)=>{const p=f.negate();return c?p:f},l=c=>{const f=Math.ceil(a/c)+1,p=2**(c-1);return{windows:f,windowSize:p}};return{constTimeNegate:u,unsafeLadder(c,f){let p=o.ZERO,m=c;for(;f>r;)f&n&&(p=p.add(m)),m=m.double(),f>>=n;return p},precomputeWindow(c,f){const{windows:p,windowSize:m}=l(f),y=[];let g=c,w=g;for(let b=0;b<p;b++){w=g,y.push(w);for(let _=1;_<m;_++)w=w.add(g),y.push(w);g=w.double()}return y},wNAF(c,f,p){const{windows:m,windowSize:y}=l(c);let g=o.ZERO,w=o.BASE;const b=BigInt(2**c-1),_=2**c,E=BigInt(c);for(let x=0;x<m;x++){const N=x*y;let M=Number(p&b);p>>=E,M>y&&(M-=_,p+=n);const R=N,D=N+Math.abs(M)-1,W=x%2!==0,G=M<0;M===0?w=w.add(u(W,f[R])):g=g.add(u(G,f[D]))}return{p:g,f:w}},wNAFCached(c,f,p,m){const y=c._WINDOW_SIZE||1;let g=f.get(c);return g||(g=this.precomputeWindow(c,y),y!==1&&f.set(c,m(g))),this.wNAF(y,g,p)}}}ic.wNAF=i;function s(o){return(0,t.validateField)(o.Fp),(0,e.validateObject)(o,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(o.n,o.nBitLength),...o,p:o.Fp.ORDER})}return ic.validateBasic=s,ic}var N4;function wce(){return N4||(N4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Nk(),r=Zf(),n=Zf(),i=bce();function s(_){const E=(0,i.validateBasic)(_);r.validateObject(E,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:x,Fp:N,a:M}=E;if(x){if(!N.eql(M,N.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof x!="object"||typeof x.beta!="bigint"||typeof x.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...E})}const{bytesToNumberBE:o,hexToBytes:a}=r;t.DER={Err:class extends Error{constructor(E=""){super(E)}},_parseInt(_){const{Err:E}=t.DER;if(_.length<2||_[0]!==2)throw new E("Invalid signature integer tag");const x=_[1],N=_.subarray(2,x+2);if(!x||N.length!==x)throw new E("Invalid signature integer: wrong length");if(N[0]&128)throw new E("Invalid signature integer: negative");if(N[0]===0&&!(N[1]&128))throw new E("Invalid signature integer: unnecessary leading zero");return{d:o(N),l:_.subarray(x+2)}},toSig(_){const{Err:E}=t.DER,x=typeof _=="string"?a(_):_;if(!(x instanceof Uint8Array))throw new Error("ui8a expected");let N=x.length;if(N<2||x[0]!=48)throw new E("Invalid signature tag");if(x[1]!==N-2)throw new E("Invalid signature: incorrect length");const{d:M,l:R}=t.DER._parseInt(x.subarray(2)),{d:D,l:W}=t.DER._parseInt(R);if(W.length)throw new E("Invalid signature: left bytes after parsing");return{r:M,s:D}},hexFromSig(_){const E=F=>Number.parseInt(F[0],16)&8?"00"+F:F,x=F=>{const X=F.toString(16);return X.length&1?`0${X}`:X},N=E(x(_.s)),M=E(x(_.r)),R=N.length/2,D=M.length/2,W=x(R),G=x(D);return`30${x(D+R+4)}02${G}${M}02${W}${N}`}};const u=BigInt(0),l=BigInt(1),c=BigInt(2),f=BigInt(3),p=BigInt(4);function m(_){const E=s(_),{Fp:x}=E,N=E.toBytes||((k,O,P)=>{const U=O.toAffine();return r.concatBytes(Uint8Array.from([4]),x.toBytes(U.x),x.toBytes(U.y))}),M=E.fromBytes||(k=>{const O=k.subarray(1),P=x.fromBytes(O.subarray(0,x.BYTES)),U=x.fromBytes(O.subarray(x.BYTES,2*x.BYTES));return{x:P,y:U}});function R(k){const{a:O,b:P}=E,U=x.sqr(k),$=x.mul(U,k);return x.add(x.add($,x.mul(k,O)),P)}if(!x.eql(x.sqr(E.Gy),R(E.Gx)))throw new Error("bad generator point: equation left != right");function D(k){return typeof k=="bigint"&&u<k&&k<E.n}function W(k){if(!D(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function G(k){const{allowedPrivateKeyLengths:O,nByteLength:P,wrapPrivateKey:U,n:$}=E;if(O&&typeof k!="bigint"){if(k instanceof Uint8Array&&(k=r.bytesToHex(k)),typeof k!="string"||!O.includes(k.length))throw new Error("Invalid key");k=k.padStart(P*2,"0")}let z;try{z=typeof k=="bigint"?k:r.bytesToNumberBE((0,n.ensureBytes)("private key",k,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof k}`)}return U&&(z=e.mod(z,$)),W(z),z}const F=new Map;function X(k){if(!(k instanceof B))throw new Error("ProjectivePoint expected")}class B{constructor(O,P,U){if(this.px=O,this.py=P,this.pz=U,O==null||!x.isValid(O))throw new Error("x required");if(P==null||!x.isValid(P))throw new Error("y required");if(U==null||!x.isValid(U))throw new Error("z required")}static fromAffine(O){const{x:P,y:U}=O||{};if(!O||!x.isValid(P)||!x.isValid(U))throw new Error("invalid affine point");if(O instanceof B)throw new Error("projective point not allowed");const $=z=>x.eql(z,x.ZERO);return $(P)&&$(U)?B.ZERO:new B(P,U,x.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const P=x.invertBatch(O.map(U=>U.pz));return O.map((U,$)=>U.toAffine(P[$])).map(B.fromAffine)}static fromHex(O){const P=B.fromAffine(M((0,n.ensureBytes)("pointHex",O)));return P.assertValidity(),P}static fromPrivateKey(O){return B.BASE.multiply(G(O))}_setWindowSize(O){this._WINDOW_SIZE=O,F.delete(this)}assertValidity(){if(this.is0()){if(E.allowInfinityPoint&&!x.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:O,y:P}=this.toAffine();if(!x.isValid(O)||!x.isValid(P))throw new Error("bad point: x or y not FE");const U=x.sqr(P),$=R(O);if(!x.eql(U,$))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(x.isOdd)return!x.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){X(O);const{px:P,py:U,pz:$}=this,{px:z,py:q,pz:ne}=O,re=x.eql(x.mul(P,ne),x.mul(z,$)),ae=x.eql(x.mul(U,ne),x.mul(q,$));return re&&ae}negate(){return new B(this.px,x.neg(this.py),this.pz)}double(){const{a:O,b:P}=E,U=x.mul(P,f),{px:$,py:z,pz:q}=this;let ne=x.ZERO,re=x.ZERO,ae=x.ZERO,oe=x.mul($,$),ve=x.mul(z,z),Ne=x.mul(q,q),_e=x.mul($,z);return _e=x.add(_e,_e),ae=x.mul($,q),ae=x.add(ae,ae),ne=x.mul(O,ae),re=x.mul(U,Ne),re=x.add(ne,re),ne=x.sub(ve,re),re=x.add(ve,re),re=x.mul(ne,re),ne=x.mul(_e,ne),ae=x.mul(U,ae),Ne=x.mul(O,Ne),_e=x.sub(oe,Ne),_e=x.mul(O,_e),_e=x.add(_e,ae),ae=x.add(oe,oe),oe=x.add(ae,oe),oe=x.add(oe,Ne),oe=x.mul(oe,_e),re=x.add(re,oe),Ne=x.mul(z,q),Ne=x.add(Ne,Ne),oe=x.mul(Ne,_e),ne=x.sub(ne,oe),ae=x.mul(Ne,ve),ae=x.add(ae,ae),ae=x.add(ae,ae),new B(ne,re,ae)}add(O){X(O);const{px:P,py:U,pz:$}=this,{px:z,py:q,pz:ne}=O;let re=x.ZERO,ae=x.ZERO,oe=x.ZERO;const ve=E.a,Ne=x.mul(E.b,f);let _e=x.mul(P,z),Me=x.mul(U,q),Ie=x.mul($,ne),De=x.add(P,U),te=x.add(z,q);De=x.mul(De,te),te=x.add(_e,Me),De=x.sub(De,te),te=x.add(P,$);let de=x.add(z,ne);return te=x.mul(te,de),de=x.add(_e,Ie),te=x.sub(te,de),de=x.add(U,$),re=x.add(q,ne),de=x.mul(de,re),re=x.add(Me,Ie),de=x.sub(de,re),oe=x.mul(ve,te),re=x.mul(Ne,Ie),oe=x.add(re,oe),re=x.sub(Me,oe),oe=x.add(Me,oe),ae=x.mul(re,oe),Me=x.add(_e,_e),Me=x.add(Me,_e),Ie=x.mul(ve,Ie),te=x.mul(Ne,te),Me=x.add(Me,Ie),Ie=x.sub(_e,Ie),Ie=x.mul(ve,Ie),te=x.add(te,Ie),_e=x.mul(Me,te),ae=x.add(ae,_e),_e=x.mul(de,te),re=x.mul(De,re),re=x.sub(re,_e),_e=x.mul(De,Me),oe=x.mul(de,oe),oe=x.add(oe,_e),new B(re,ae,oe)}subtract(O){return this.add(O.negate())}is0(){return this.equals(B.ZERO)}wNAF(O){return C.wNAFCached(this,F,O,P=>{const U=x.invertBatch(P.map($=>$.pz));return P.map(($,z)=>$.toAffine(U[z])).map(B.fromAffine)})}multiplyUnsafe(O){const P=B.ZERO;if(O===u)return P;if(W(O),O===l)return this;const{endo:U}=E;if(!U)return C.unsafeLadder(this,O);let{k1neg:$,k1:z,k2neg:q,k2:ne}=U.splitScalar(O),re=P,ae=P,oe=this;for(;z>u||ne>u;)z&l&&(re=re.add(oe)),ne&l&&(ae=ae.add(oe)),oe=oe.double(),z>>=l,ne>>=l;return $&&(re=re.negate()),q&&(ae=ae.negate()),ae=new B(x.mul(ae.px,U.beta),ae.py,ae.pz),re.add(ae)}multiply(O){W(O);let P=O,U,$;const{endo:z}=E;if(z){const{k1neg:q,k1:ne,k2neg:re,k2:ae}=z.splitScalar(P);let{p:oe,f:ve}=this.wNAF(ne),{p:Ne,f:_e}=this.wNAF(ae);oe=C.constTimeNegate(q,oe),Ne=C.constTimeNegate(re,Ne),Ne=new B(x.mul(Ne.px,z.beta),Ne.py,Ne.pz),U=oe.add(Ne),$=ve.add(_e)}else{const{p:q,f:ne}=this.wNAF(P);U=q,$=ne}return B.normalizeZ([U,$])[0]}multiplyAndAddUnsafe(O,P,U){const $=B.BASE,z=(ne,re)=>re===u||re===l||!ne.equals($)?ne.multiplyUnsafe(re):ne.multiply(re),q=z(this,P).add(z(O,U));return q.is0()?void 0:q}toAffine(O){const{px:P,py:U,pz:$}=this,z=this.is0();O==null&&(O=z?x.ONE:x.inv($));const q=x.mul(P,O),ne=x.mul(U,O),re=x.mul($,O);if(z)return{x:x.ZERO,y:x.ZERO};if(!x.eql(re,x.ONE))throw new Error("invZ was invalid");return{x:q,y:ne}}isTorsionFree(){const{h:O,isTorsionFree:P}=E;if(O===l)return!0;if(P)return P(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:P}=E;return O===l?this:P?P(B,this):this.multiplyUnsafe(E.h)}toRawBytes(O=!0){return this.assertValidity(),N(B,this,O)}toHex(O=!0){return r.bytesToHex(this.toRawBytes(O))}}B.BASE=new B(E.Gx,E.Gy,x.ONE),B.ZERO=new B(x.ZERO,x.ONE,x.ZERO);const j=E.nBitLength,C=(0,i.wNAF)(B,E.endo?Math.ceil(j/2):j);return{CURVE:E,ProjectivePoint:B,normPrivateKeyToScalar:G,weierstrassEquation:R,isWithinCurveOrder:D}}t.weierstrassPoints=m;function y(_){const E=(0,i.validateBasic)(_);return r.validateObject(E,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...E})}function g(_){const E=y(_),{Fp:x,n:N}=E,M=x.BYTES+1,R=2*x.BYTES+1;function D(te){return u<te&&te<x.ORDER}function W(te){return e.mod(te,N)}function G(te){return e.invert(te,N)}const{ProjectivePoint:F,normPrivateKeyToScalar:X,weierstrassEquation:B,isWithinCurveOrder:j}=m({...E,toBytes(te,de,ke){const We=de.toAffine(),Qe=x.toBytes(We.x),ht=r.concatBytes;return ke?ht(Uint8Array.from([de.hasEvenY()?2:3]),Qe):ht(Uint8Array.from([4]),Qe,x.toBytes(We.y))},fromBytes(te){const de=te.length,ke=te[0],We=te.subarray(1);if(de===M&&(ke===2||ke===3)){const Qe=r.bytesToNumberBE(We);if(!D(Qe))throw new Error("Point is not on curve");const ht=B(Qe);let Jt=x.sqrt(ht);const Lt=(Jt&l)===l;return(ke&1)===1!==Lt&&(Jt=x.neg(Jt)),{x:Qe,y:Jt}}else if(de===R&&ke===4){const Qe=x.fromBytes(We.subarray(0,x.BYTES)),ht=x.fromBytes(We.subarray(x.BYTES,2*x.BYTES));return{x:Qe,y:ht}}else throw new Error(`Point of length ${de} was invalid. Expected ${M} compressed bytes or ${R} uncompressed bytes`)}}),C=te=>r.bytesToHex(r.numberToBytesBE(te,E.nByteLength));function k(te){const de=N>>l;return te>de}function O(te){return k(te)?W(-te):te}const P=(te,de,ke)=>r.bytesToNumberBE(te.slice(de,ke));class U{constructor(de,ke,We){this.r=de,this.s=ke,this.recovery=We,this.assertValidity()}static fromCompact(de){const ke=E.nByteLength;return de=(0,n.ensureBytes)("compactSignature",de,ke*2),new U(P(de,0,ke),P(de,ke,2*ke))}static fromDER(de){const{r:ke,s:We}=t.DER.toSig((0,n.ensureBytes)("DER",de));return new U(ke,We)}assertValidity(){if(!j(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!j(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(de){return new U(this.r,this.s,de)}recoverPublicKey(de){const{r:ke,s:We,recovery:Qe}=this,ht=ae((0,n.ensureBytes)("msgHash",de));if(Qe==null||![0,1,2,3].includes(Qe))throw new Error("recovery id invalid");const Jt=Qe===2||Qe===3?ke+E.n:ke;if(Jt>=x.ORDER)throw new Error("recovery id 2 or 3 invalid");const Lt=Qe&1?"03":"02",Tn=F.fromHex(Lt+C(Jt)),Cn=G(Jt),xs=W(-ht*Cn),Xr=W(We*Cn),In=F.BASE.multiplyAndAddUnsafe(Tn,xs,Xr);if(!In)throw new Error("point at infinify");return In.assertValidity(),In}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new U(this.r,W(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return C(this.r)+C(this.s)}}const $={isValidPrivateKey(te){try{return X(te),!0}catch{return!1}},normPrivateKeyToScalar:X,randomPrivateKey:()=>{const te=e.getMinHashLength(E.n);return e.mapHashToField(E.randomBytes(te),E.n)},precompute(te=8,de=F.BASE){return de._setWindowSize(te),de.multiply(BigInt(3)),de}};function z(te,de=!0){return F.fromPrivateKey(te).toRawBytes(de)}function q(te){const de=te instanceof Uint8Array,ke=typeof te=="string",We=(de||ke)&&te.length;return de?We===M||We===R:ke?We===2*M||We===2*R:te instanceof F}function ne(te,de,ke=!0){if(q(te))throw new Error("first arg must be private key");if(!q(de))throw new Error("second arg must be public key");return F.fromHex(de).multiply(X(te)).toRawBytes(ke)}const re=E.bits2int||function(te){const de=r.bytesToNumberBE(te),ke=te.length*8-E.nBitLength;return ke>0?de>>BigInt(ke):de},ae=E.bits2int_modN||function(te){return W(re(te))},oe=r.bitMask(E.nBitLength);function ve(te){if(typeof te!="bigint")throw new Error("bigint expected");if(!(u<=te&&te<oe))throw new Error(`bigint expected < 2^${E.nBitLength}`);return r.numberToBytesBE(te,E.nByteLength)}function Ne(te,de,ke=_e){if(["recovered","canonical"].some(je=>je in ke))throw new Error("sign() legacy options not supported");const{hash:We,randomBytes:Qe}=E;let{lowS:ht,prehash:Jt,extraEntropy:Lt}=ke;ht==null&&(ht=!0),te=(0,n.ensureBytes)("msgHash",te),Jt&&(te=(0,n.ensureBytes)("prehashed msgHash",We(te)));const Tn=ae(te),Cn=X(de),xs=[ve(Cn),ve(Tn)];if(Lt!=null){const je=Lt===!0?Qe(x.BYTES):Lt;xs.push((0,n.ensureBytes)("extraEntropy",je))}const Xr=r.concatBytes(...xs),In=Tn;function Wl(je){const bo=re(je);if(!j(bo))return;const ql=G(bo),Ss=F.BASE.multiply(bo).toAffine(),On=W(Ss.x);if(On===u)return;const wo=W(ql*W(In+On*Cn));if(wo===u)return;let Zl=(Ss.x===On?0:2)|Number(Ss.y&l),Zh=wo;return ht&&k(wo)&&(Zh=O(wo),Zl^=1),new U(On,Zh,Zl)}return{seed:Xr,k2sig:Wl}}const _e={lowS:E.lowS,prehash:!1},Me={lowS:E.lowS,prehash:!1};function Ie(te,de,ke=_e){const{seed:We,k2sig:Qe}=Ne(te,de,ke),ht=E;return r.createHmacDrbg(ht.hash.outputLen,ht.nByteLength,ht.hmac)(We,Qe)}F.BASE._setWindowSize(8);function De(te,de,ke,We=Me){var Ss;const Qe=te;if(de=(0,n.ensureBytes)("msgHash",de),ke=(0,n.ensureBytes)("publicKey",ke),"strict"in We)throw new Error("options.strict was renamed to lowS");const{lowS:ht,prehash:Jt}=We;let Lt,Tn;try{if(typeof Qe=="string"||Qe instanceof Uint8Array)try{Lt=U.fromDER(Qe)}catch(On){if(!(On instanceof t.DER.Err))throw On;Lt=U.fromCompact(Qe)}else if(typeof Qe=="object"&&typeof Qe.r=="bigint"&&typeof Qe.s=="bigint"){const{r:On,s:wo}=Qe;Lt=new U(On,wo)}else throw new Error("PARSE");Tn=F.fromHex(ke)}catch(On){if(On.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ht&&Lt.hasHighS())return!1;Jt&&(de=E.hash(de));const{r:Cn,s:xs}=Lt,Xr=ae(de),In=G(xs),Wl=W(Xr*In),je=W(Cn*In),bo=(Ss=F.BASE.multiplyAndAddUnsafe(Tn,Wl,je))==null?void 0:Ss.toAffine();return bo?W(bo.x)===Cn:!1}return{CURVE:E,getPublicKey:z,getSharedSecret:ne,sign:Ie,verify:De,ProjectivePoint:F,Signature:U,utils:$}}t.weierstrass=g;function w(_,E){const x=_.ORDER;let N=u;for(let k=x-l;k%c===u;k/=c)N+=l;const M=N,R=c<<M-l-l,D=R*c,W=(x-l)/D,G=(W-l)/c,F=D-l,X=R,B=_.pow(E,W),j=_.pow(E,(W+l)/c);let C=(k,O)=>{let P=B,U=_.pow(O,F),$=_.sqr(U);$=_.mul($,O);let z=_.mul(k,$);z=_.pow(z,G),z=_.mul(z,U),U=_.mul(z,O),$=_.mul(z,k);let q=_.mul($,U);z=_.pow(q,X);let ne=_.eql(z,_.ONE);U=_.mul($,j),z=_.mul(q,P),$=_.cmov(U,$,ne),q=_.cmov(z,q,ne);for(let re=M;re>l;re--){let ae=re-c;ae=c<<ae-l;let oe=_.pow(q,ae);const ve=_.eql(oe,_.ONE);U=_.mul($,P),P=_.mul(P,P),oe=_.mul(q,P),$=_.cmov(U,$,ve),q=_.cmov(oe,q,ve)}return{isValid:ne,value:$}};if(_.ORDER%p===f){const k=(_.ORDER-f)/p,O=_.sqrt(_.neg(E));C=(P,U)=>{let $=_.sqr(U);const z=_.mul(P,U);$=_.mul($,z);let q=_.pow($,k);q=_.mul(q,z);const ne=_.mul(q,O),re=_.mul(_.sqr(q),U),ae=_.eql(re,P);let oe=_.cmov(ne,q,ae);return{isValid:ae,value:oe}}}return C}t.SWUFpSqrtRatio=w;function b(_,E){if(e.validateField(_),!_.isValid(E.A)||!_.isValid(E.B)||!_.isValid(E.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const x=w(_,E.Z);if(!_.isOdd)throw new Error("Fp.isOdd is not implemented!");return N=>{let M,R,D,W,G,F,X,B;M=_.sqr(N),M=_.mul(M,E.Z),R=_.sqr(M),R=_.add(R,M),D=_.add(R,_.ONE),D=_.mul(D,E.B),W=_.cmov(E.Z,_.neg(R),!_.eql(R,_.ZERO)),W=_.mul(W,E.A),R=_.sqr(D),F=_.sqr(W),G=_.mul(F,E.A),R=_.add(R,G),R=_.mul(R,D),F=_.mul(F,W),G=_.mul(F,E.B),R=_.add(R,G),X=_.mul(M,D);const{isValid:j,value:C}=x(R,F);B=_.mul(M,N),B=_.mul(B,C),X=_.cmov(X,D,j),B=_.cmov(B,C,j);const k=_.isOdd(N)===_.isOdd(B);return B=_.cmov(_.neg(B),B,k),X=_.div(X,W),{x:X,y:B}}}t.mapToCurveSimpleSWU=b}(bT)),bT}const Ece=fa(Wre);var Sa={},M4;function xce(){if(M4)return Sa;M4=1,Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.poseidon=Sa.splitConstants=Sa.validateOpts=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Nk();function e(i){const{Fp:s,mds:o,reversePartialPowIdx:a,roundConstants:u}=i,{roundsFull:l,roundsPartial:c,sboxPower:f,t:p}=i;(0,t.validateField)(s);for(const _ of["t","roundsFull","roundsPartial"])if(typeof i[_]!="number"||!Number.isSafeInteger(i[_]))throw new Error(`Poseidon: invalid param ${_}=${i[_]} (${typeof i[_]})`);if(!Array.isArray(o)||o.length!==p)throw new Error("Poseidon: wrong MDS matrix");const m=o.map(_=>{if(!Array.isArray(_)||_.length!==p)throw new Error(`Poseidon MDS matrix row: ${_}`);return _.map(E=>{if(typeof E!="bigint")throw new Error(`Poseidon MDS matrix value=${E}`);return s.create(E)})});if(a!==void 0&&typeof a!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${a}`);if(l%2!==0)throw new Error(`Poseidon roundsFull is not even: ${l}`);const y=l+c;if(!Array.isArray(u)||u.length!==y)throw new Error("Poseidon: wrong round constants");const g=u.map(_=>{if(!Array.isArray(_)||_.length!==p)throw new Error(`Poseidon wrong round constants: ${_}`);return _.map(E=>{if(typeof E!="bigint"||!s.isValid(E))throw new Error(`Poseidon wrong round constant=${E}`);return s.create(E)})});if(!f||![3,5,7].includes(f))throw new Error(`Poseidon wrong sboxPower=${f}`);const w=BigInt(f);let b=_=>(0,t.FpPow)(s,_,w);return f===3?b=_=>s.mul(s.sqrN(_),_):f===5&&(b=_=>s.mul(s.sqrN(s.sqrN(_)),_)),Object.freeze({...i,rounds:y,sboxFn:b,roundConstants:g,mds:m})}Sa.validateOpts=e;function r(i,s){if(typeof s!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(i)||i.length%s)throw new Error("poseidonSplitConstants: wrong rc");const o=[];let a=[];for(let u=0;u<i.length;u++)a.push(i[u]),a.length===s&&(o.push(a),a=[]);return o}Sa.splitConstants=r;function n(i){const s=e(i),{Fp:o,mds:a,roundConstants:u,rounds:l,roundsPartial:c,sboxFn:f,t:p}=s,m=s.roundsFull/2,y=s.reversePartialPowIdx?p-1:0,g=(b,_,E)=>(b=b.map((x,N)=>o.add(x,u[E][N])),_?b=b.map(x=>f(x)):b[y]=f(b[y]),b=a.map(x=>x.reduce((N,M,R)=>o.add(N,o.mulN(M,b[R])),o.ZERO)),b),w=function(_){if(!Array.isArray(_)||_.length!==p)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${p})`);_=_.map(x=>{if(typeof x!="bigint")throw new Error(`Poseidon: wrong value=${x} (${typeof x})`);return o.create(x)});let E=0;for(let x=0;x<m;x++)_=g(_,!0,E++);for(let x=0;x<c;x++)_=g(_,!1,E++);for(let x=0;x<m;x++)_=g(_,!0,E++);if(E!==l)throw new Error(`Poseidon: wrong number of rounds: last round=${E}, total=${l}`);return _};return w.roundConstants=u,w}return Sa.poseidon=n,Sa}const Sce=fa(Use);var Ace=Object.create,SE=Object.defineProperty,Tce=Object.getOwnPropertyDescriptor,Cce=Object.getOwnPropertyNames,Ice=Object.getPrototypeOf,Oce=Object.prototype.hasOwnProperty,xr=(t,e)=>{for(var r in e)SE(t,r,{get:e[r],enumerable:!0})},RV=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cce(e))!Oce.call(t,i)&&i!==r&&SE(t,i,{get:()=>e[i],enumerable:!(n=Tce(e,i))||n.enumerable});return t},Nh=(t,e,r)=>(r=t!=null?Ace(Ice(t)):{},RV(e||!t||!t.__esModule?SE(r,"default",{value:t,enumerable:!0}):r,t)),Rce=t=>RV(SE({},"__esModule",{value:!0}),t),PV={};xr(PV,{Account:()=>Che,AccountInterface:()=>Ihe,BlockStatus:()=>qk,BlockTag:()=>CE,CairoCustomEnum:()=>cN,CairoOption:()=>z1,CairoOptionVariant:()=>hN,CairoResult:()=>H1,CairoResultVariant:()=>dN,CallData:()=>yt,Contract:()=>g2,ContractFactory:()=>Nhe,ContractInterface:()=>khe,CustomError:()=>J7,EntryPointType:()=>zk,GatewayError:()=>e9,HttpError:()=>t9,LibraryError:()=>wl,Litteral:()=>TE,Provider:()=>BE,ProviderInterface:()=>b9,RPC:()=>ri,RpcProvider:()=>Mb,SIMULATION_FLAG:()=>Fk,Sequencer:()=>l7,SequencerProvider:()=>xg,Signer:()=>v9,SignerInterface:()=>whe,TransactionExecutionStatus:()=>Wk,TransactionFinalityStatus:()=>Gk,TransactionStatus:()=>Vk,TransactionType:()=>Hk,Uint:()=>AE,ValidateType:()=>jk,addAddressPadding:()=>T9,buildUrl:()=>Pd,cairo:()=>iN,constants:()=>kV,contractClassResponseToLegacyCompiledContract:()=>lhe,defaultProvider:()=>w9,ec:()=>D7,encode:()=>NV,events:()=>E9,extractContractHashes:()=>Nb,fixProto:()=>K7,fixStack:()=>Q7,getCalldata:()=>rf,getChecksumAddress:()=>I9,getDefaultNodeUrl:()=>y2,hash:()=>M7,isSierra:()=>fi,isUrl:()=>o9,json:()=>B7,merkle:()=>h9,num:()=>Zk,number:()=>Bhe,parseUDCEvent:()=>_9,provider:()=>X7,selector:()=>g7,shortString:()=>_7,splitArgsAndOptions:()=>LE,stark:()=>W7,starknetId:()=>r9,transaction:()=>a9,typedData:()=>c9,types:()=>t7,uint256:()=>w7,validateAndParseAddress:()=>C9,validateChecksumAddress:()=>Dhe});var Mh=Rce(PV),kV={};xr(kV,{ADDR_BOUND:()=>$k,API_VERSION:()=>ZV,BN_FEE_TRANSACTION_VERSION_1:()=>GV,BN_FEE_TRANSACTION_VERSION_2:()=>WV,BN_TRANSACTION_VERSION_1:()=>Bk,BN_TRANSACTION_VERSION_2:()=>Lk,BaseUrl:()=>YV,HEX_STR_TRANSACTION_VERSION_1:()=>HV,HEX_STR_TRANSACTION_VERSION_2:()=>VV,IS_BROWSER:()=>DV,MASK_250:()=>qV,MAX_STORAGE_ITEM_SIZE:()=>XV,NetworkName:()=>Uk,RPC_GOERLI_NODES:()=>JV,RPC_MAINNET_NODES:()=>e7,StarknetChainId:()=>QV,TEXT_TO_FELT_MAX_LEN:()=>Dk,TransactionHashPrefix:()=>KV,UDC:()=>wc,ZERO:()=>ni});var NV={};xr(NV,{IS_BROWSER:()=>DV,addHexPrefix:()=>ln,arrayBufferToString:()=>BV,atobUniversal:()=>LV,btoaUniversal:()=>$V,buf2hex:()=>UV,calcByteLength:()=>jV,padLeft:()=>FV,pascalToSnake:()=>Mce,removeHexPrefix:()=>Ja,sanitizeBytes:()=>zV,sanitizeHex:()=>Nce,stringToArrayBuffer:()=>Pce,utf8ToArray:()=>Np});var MV=_ce,DV=typeof window<"u",Mk="0";function BV(t){return new Uint8Array(t).reduce((e,r)=>e+String.fromCharCode(r),"")}function Np(t){return new TextEncoder().encode(t)}function Pce(t){return Np(t)}function LV(t){return MV.base64.decode(t)}function $V(t){return MV.base64.encode(new Uint8Array(t))}function UV(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}function Ja(t){return t.replace(/^0x/i,"")}function ln(t){return`0x${Ja(t)}`}function kce(t,e,r,n=Mk){const i=e-t.length;let s=t;if(i>0){const o=n.repeat(i);s=r?o+t:t+o}return s}function FV(t,e,r=Mk){return kce(t,e,!0,r)}function jV(t,e=8){const{length:r}=t,n=r%e;return n?(r-n)/e*e+e:r}function zV(t,e=8,r=Mk){return FV(t,jV(t,e),r)}function Nce(t){return t=Ja(t),t=zV(t,2),t&&(t=ln(t)),t}var Mce=t=>/[a-z]/.test(t)?t.split(/(?=[A-Z])/).join("_").toUpperCase():t,Dk=31,HV="0x1",VV="0x2",Bk=1n,Lk=2n,GV=2n**128n+Bk,WV=2n**128n+Lk,ni=0n,qV=2n**250n-1n,ZV=ni,XV=256n,$k=2n**251n-XV,YV=(t=>(t.SN_MAIN="https://alpha-mainnet.starknet.io",t.SN_GOERLI="https://alpha4.starknet.io",t))(YV||{}),Uk=(t=>(t.SN_MAIN="SN_MAIN",t.SN_GOERLI="SN_GOERLI",t))(Uk||{}),QV=(t=>(t.SN_MAIN="0x534e5f4d41494e",t.SN_GOERLI="0x534e5f474f45524c49",t))(QV||{}),KV=(t=>(t.DECLARE="0x6465636c617265",t.DEPLOY="0x6465706c6f79",t.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",t.INVOKE="0x696e766f6b65",t.L1_HANDLER="0x6c315f68616e646c6572",t))(KV||{}),wc={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},JV=["https://starknet-testnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/goerli-juno/v0_5"],e7=["https://starknet-mainnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/mainnet-juno/v0_5"],t7={};xr(t7,{BlockStatus:()=>qk,BlockTag:()=>CE,EntryPointType:()=>zk,Litteral:()=>TE,RPC:()=>ri,SIMULATION_FLAG:()=>Fk,Sequencer:()=>l7,TransactionExecutionStatus:()=>Wk,TransactionFinalityStatus:()=>Gk,TransactionStatus:()=>Vk,TransactionType:()=>Hk,Uint:()=>AE,ValidateType:()=>jk});var Fk=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_EXECUTE="SKIP_EXECUTE",t))(Fk||{}),jk=(t=>(t.DEPLOY="DEPLOY",t.CALL="CALL",t.INVOKE="INVOKE",t))(jk||{}),AE=(t=>(t.u8="core::integer::u8",t.u16="core::integer::u16",t.u32="core::integer::u32",t.u64="core::integer::u64",t.u128="core::integer::u128",t.u256="core::integer::u256",t))(AE||{}),TE=(t=>(t.ClassHash="core::starknet::class_hash::ClassHash",t.ContractAddress="core::starknet::contract_address::ContractAddress",t))(TE||{}),zk=(t=>(t.EXTERNAL="EXTERNAL",t.L1_HANDLER="L1_HANDLER",t.CONSTRUCTOR="CONSTRUCTOR",t))(zk||{}),Hk=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE_FUNCTION",t))(Hk||{}),Vk=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.REJECTED="REJECTED",t.REVERTED="REVERTED",t))(Vk||{}),Gk=(t=>(t.NOT_RECEIVED="NOT_RECEIVED",t.RECEIVED="RECEIVED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(Gk||{}),Wk=(t=>(t.REJECTED="REJECTED",t.REVERTED="REVERTED",t.SUCCEEDED="SUCCEEDED",t))(Wk||{}),qk=(t=>(t.PENDING="PENDING",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.REJECTED="REJECTED",t))(qk||{}),CE=(t=>(t.pending="pending",t.latest="latest",t))(CE||{}),ri={};xr(ri,{EBlockTag:()=>a7,EDataAvailabilityMode:()=>u7,ESimulationFlag:()=>n7,ETransactionExecutionStatus:()=>o7,ETransactionFinalityStatus:()=>s7,ETransactionStatus:()=>i7,ETransactionType:()=>r7,Errors:()=>Bce,JRPC:()=>Dce,SPEC:()=>Lce});var Dce={},Bce={},Lce={},r7=(t=>(t.DECLARE="DECLARE",t.DEPLOY="DEPLOY",t.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",t.INVOKE="INVOKE",t.L1_HANDLER="L1_HANDLER",t))(r7||{}),n7=(t=>(t.SKIP_VALIDATE="SKIP_VALIDATE",t.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",t))(n7||{}),i7=(t=>(t.RECEIVED="RECEIVED",t.REJECTED="REJECTED",t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(i7||{}),s7=(t=>(t.ACCEPTED_ON_L2="ACCEPTED_ON_L2",t.ACCEPTED_ON_L1="ACCEPTED_ON_L1",t))(s7||{}),o7=(t=>(t.SUCCEEDED="SUCCEEDED",t.REVERTED="REVERTED",t))(o7||{}),a7=(t=>(t.LATEST="latest",t.PENDING="pending",t))(a7||{}),u7=(t=>(t.L1="L1",t.L2="L2",t))(u7||{}),l7={};function kt(t,e){if(!t)throw new Error(e||"Assertion failure")}var Zk={};xr(Zk,{assertInRange:()=>d7,bigNumberishArrayToDecimalStringArray:()=>f7,bigNumberishArrayToHexadecimalStringArray:()=>p7,cleanHex:()=>_g,getDecimalString:()=>m7,getHexString:()=>Yk,getHexStringArray:()=>Qk,hexToBytes:()=>y7,hexToDecimalString:()=>h7,isBigInt:()=>IE,isHex:()=>yo,isStringWholeNumber:()=>Mp,toBigInt:()=>Ze,toCairoBool:()=>h2,toHex:()=>Se,toHexString:()=>Xk,toStorageKey:()=>c7});var $ce=Zf();function yo(t){return/^0x[0-9a-f]*$/i.test(t)}function Ze(t){return BigInt(t)}function IE(t){return typeof t=="bigint"}function Se(t){return ln(Ze(t).toString(16))}var Xk=Se;function c7(t){return ln(Ze(t).toString(16).padStart(64,"0"))}function h7(t){return BigInt(ln(t)).toString(10)}var _g=t=>t.toLowerCase().replace(/^(0x)0+/,"$1");function d7(t,e,r,n=""){const i=n===""?"invalid length":`invalid ${n} length`,s=BigInt(t),o=BigInt(e),a=BigInt(r);kt(s>=o&&s<=a,`Message not signable, ${i}.`)}function f7(t){return t.map(e=>Ze(e).toString(10))}function p7(t){return t.map(e=>Se(e))}var Mp=t=>/^\d+$/.test(t);function m7(t){if(yo(t))return h7(t);if(Mp(t))return t;throw new Error(`${t} need to be hex-string or whole-number-string`)}function Yk(t){if(yo(t))return t;if(Mp(t))return Xk(t);throw new Error(`${t} need to be hex-string or whole-number-string`)}function Qk(t){return t.map(e=>Yk(e))}var h2=t=>(+t).toString();function y7(t){if(!yo(t))throw new Error(`${t} need to be a hex-string`);let e=Ja(t);return e.length%2!==0&&(e=`0${e}`),(0,$ce.hexToBytes)(e)}var g7={};xr(g7,{getSelector:()=>OE,getSelectorFromName:()=>go,keccakBn:()=>Kk,starknetKeccak:()=>Jk});var v7=xE;function Kk(t){const e=Ja(Se(BigInt(t))),r=e.length%2===0?e:`0${e}`;return ln((0,v7.keccak)(y7(ln(r))).toString(16))}function Uce(t){return ln((0,v7.keccak)(Np(t)).toString(16))}function Jk(t){return BigInt(Uce(t))&qV}function go(t){return Se(Jk(t))}function OE(t){return yo(t)?t:Mp(t)?Xk(t):go(t)}var _7={};xr(_7,{decodeShortString:()=>nN,encodeShortString:()=>Bl,isASCII:()=>eN,isDecimalString:()=>b7,isLongText:()=>tN,isShortString:()=>gv,isShortText:()=>Fce,isText:()=>vv,splitLongString:()=>rN});function eN(t){return/^[\x00-\x7F]*$/.test(t)}function gv(t){return t.length<=Dk}function b7(t){return/^[0-9]*$/i.test(t)}function vv(t){return typeof t=="string"&&!yo(t)&&!Mp(t)}var Fce=t=>vv(t)&&gv(t),tN=t=>vv(t)&&!gv(t);function rN(t){const e=RegExp(`[^]{1,${Dk}}`,"g");return t.match(e)||[]}function Bl(t){if(!eN(t))throw new Error(`${t} is not an ASCII string`);if(!gv(t))throw new Error(`${t} is too long`);return ln(t.replace(/./g,e=>e.charCodeAt(0).toString(16)))}function nN(t){if(!eN(t))throw new Error(`${t} is not an ASCII string`);if(yo(t))return Ja(t).replace(/.{2}/g,e=>String.fromCharCode(parseInt(e,16)));if(b7(t))return nN("0X".concat(BigInt(t).toString(16)));throw new Error(`${t} is not Hex or decimal`)}var iN={};xr(iN,{felt:()=>ui,getAbiContractVersion:()=>ME,getArrayType:()=>Xf,isCairo1Abi:()=>A7,isCairo1Type:()=>_l,isLen:()=>dh,isTypeArray:()=>gl,isTypeBool:()=>NE,isTypeContractAddress:()=>zce,isTypeEnum:()=>Dh,isTypeEthAddress:()=>S7,isTypeFelt:()=>j1,isTypeLitteral:()=>uN,isTypeNamedTuple:()=>x7,isTypeOption:()=>PE,isTypeResult:()=>kE,isTypeStruct:()=>_v,isTypeTuple:()=>Ll,isTypeUint:()=>aN,isTypeUint256:()=>vl,tuple:()=>Hce,uint256:()=>lN});var w7={};xr(w7,{UINT_128_MAX:()=>sN,UINT_256_MAX:()=>E7,bnToUint256:()=>jce,isUint256:()=>oN,uint256ToBN:()=>RE});var sN=(1n<<128n)-1n,E7=(1n<<256n)-1n;function RE(t){return(Ze(t.high)<<128n)+Ze(t.low)}function oN(t){return Ze(t)<=E7}function jce(t){const e=Ze(t);if(!oN(e))throw new Error("Number is too large");return{low:ln((e&sN).toString(16)),high:ln((e>>128n).toString(16))}}var dh=t=>/_len$/.test(t),j1=t=>t==="felt"||t==="core::felt252",gl=t=>/\*/.test(t)||t.startsWith("core::array::Array::")||t.startsWith("core::array::Span::"),Ll=t=>/^\(.*\)$/i.test(t),x7=t=>/\(.*\)/i.test(t)&&t.includes(":"),_v=(t,e)=>t in e,Dh=(t,e)=>t in e,PE=t=>t.startsWith("core::option::Option::"),kE=t=>t.startsWith("core::result::Result::"),aN=t=>Object.values(AE).includes(t),uN=t=>Object.values(TE).includes(t),vl=t=>t==="core::integer::u256",NE=t=>t==="core::bool",zce=t=>t==="core::starknet::contract_address::ContractAddress",S7=t=>t==="core::starknet::eth_address::EthAddress",_l=t=>t.includes("::"),Xf=t=>_l(t)?t.substring(t.indexOf("<")+1,t.lastIndexOf(">")):t.replace("*","");function A7(t){const{cairo:e}=ME(t);if(e===void 0)throw Error("Unable to determine Cairo version");return e==="1"}function ME(t){if(t.find(n=>n.type==="interface"))return{cairo:"1",compiler:"2"};const e=t.find(n=>n.type==="function"&&(n.inputs.length||n.outputs.length));if(!e)return{cairo:void 0,compiler:void 0};const r=e.inputs.length?e.inputs:e.outputs;return _l(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var lN=t=>{const e=BigInt(t);if(!oN(e))throw new Error("Number is too large");return{low:(e&sN).toString(10),high:(e>>128n).toString(10)}},Hce=(...t)=>({...t});function ui(t){if(IE(t)||typeof t=="number"&&Number.isInteger(t))return t.toString();if(vv(t)){if(!gv(t))throw new Error(`${t} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const e=Bl(t);return BigInt(e).toString()}if(typeof t=="string"&&yo(t))return BigInt(t).toString();if(typeof t=="string"&&Mp(t))return t;if(typeof t=="boolean")return`${+t}`;throw new Error(`${t} can't be computed by felt()`)}var cN=class{constructor(t){const e=Object.values(t);if(e.length===0)throw new Error("This Enum must have a least 1 variant");if(e.filter(n=>typeof n<"u").length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=t}unwrap(){const e=Object.entries(this.variant).find(r=>typeof r[1]<"u");if(!(typeof e>"u"))return e[1]}activeVariant(){const e=Object.entries(this.variant).find(r=>typeof r[1]<"u");return typeof e>"u"?"":e[0]}},hN=(t=>(t[t.Some=0]="Some",t[t.None=1]="None",t))(hN||{}),z1=class{constructor(t,e){if(!(t in hN))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(t===0){if(typeof e>"u")throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=e,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!(typeof this.Some>"u")}isNone(){return this.None===!0}},dN=(t=>(t[t.Ok=0]="Ok",t[t.Err=1]="Err",t))(dN||{}),H1=class{constructor(t,e){if(!(t in dN))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");t===0?(this.Ok=e,this.Err=void 0):(this.Ok=void 0,this.Err=e)}unwrap(){if(typeof this.Ok<"u")return this.Ok;if(typeof this.Err<"u")return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(typeof this.Ok>"u")}isErr(){return!(typeof this.Err>"u")}},wT={isBN:(t,e,r)=>{if(!IE(t[r]))throw new Error(`Data and formatter mismatch on ${r}:${e[r]}, expected response data ${r}:${t[r]} to be BN instead it is ${typeof t[r]}`)},unknown:(t,e,r)=>{throw new Error(`Unhandled formatter type on ${r}:${e[r]} for data ${r}:${t[r]}`)}};function Pb(t,e,r){return Object.entries(t).reduce((n,[i,s])=>{const o=r??e[i];if(!(i in e)&&!r)return n[i]=s,n;if(o==="string"){if(Array.isArray(t[i])){const a=Pb(t[i],t[i].map(u=>o));return n[i]=Object.values(a).join(""),n}return wT.isBN(t,e,i),n[i]=nN(s),n}if(o==="number")return wT.isBN(t,e,i),n[i]=Number(s),n;if(typeof o=="function")return n[i]=o(s),n;if(Array.isArray(o)){const a=Pb(t[i],o,o[0]);return n[i]=Object.values(a),n}return typeof o=="object"?(n[i]=Pb(t[i],o),n):(wT.unknown(t,e,i),n)},{})}var Vce=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.reduce((e,r)=>dh(r.name)?e:e+1,0)}getMethod(t){return this.abi.find(e=>e.name===t)}getLegacyFormat(){return this.abi}},Gce=class{constructor(t){this.abi=t}methodInputsLength(t){return t.inputs.length}getMethod(t){return this.abi.find(r=>r.type==="interface").items.find(r=>r.name===t)}getLegacyFormat(){return this.abi.flatMap(t=>t.type==="interface"?t.items:t)}};function T7(t){const e=Wce(t);if(e===0||e===1)return new Vce(t);if(e===2)return new Gce(t);throw Error(`Unsupported ABI version ${e}`)}function Wce(t){return t.find(e=>e.type==="interface")?2:A7(t)?1:0}function D4(t,e,r){return t==="constructor"&&!r&&!e.length}function qce(t){const e=t.substring(0,t.indexOf(":")),r=t.substring(e.length+1);return{name:e,type:r}}function C7(t){if(!t.includes("("))return{subTuple:[],result:t};const e=[];let r="",n=0;for(;n<t.length;){if(t[n]==="("){let i=1;const s=n;for(n++;i;)t[n]===")"&&i--,t[n]==="("&&i++,n++;e.push(t.substring(s,n)),r+=" ",n--}else r+=t[n];n++}return{subTuple:e,result:r}}function Zce(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=C7(e);let i=n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s);return x7(t)&&(i=i.reduce((s,o)=>s.concat(qce(o)),[])),i}function Xce(t){const e=t.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=C7(e);return n.split(",").map(s=>r.length?s.replace(" ",r.shift()):s)}function fN(t){return _l(t)?Xce(t):Zce(t)}function Yce(t){return Error(`Your object includes the property : ${t}, containing an Uint256 object without the 'low' and 'high' keys.`)}function Qce(t,e,r,n){const i=(c,f)=>{if(gl(f))return o(c,f);if(Dh(f,n)){const p=n[f];return u(c,p)}if(Ll(f))return a(c,f);if(S7(f))return c;if(vl(f)){const p=c;if(typeof p!="object")return p;if(!("low"in p&&"high"in p))throw Yce(f);return{low:p.low,high:p.high}}if(_v(f,r)){const p=r[f].members;return s(c,p)}return c},s=(c,f)=>f.reduce((m,y)=>{const g=w=>Object.defineProperty(m,y.name,{enumerable:!0,value:w??c[y.name]});if(c[y.name]==="undefined"&&(_l(y.type)||!dh(y.name)))throw Error(`Your object needs a property with key : ${y.name} .`);return g(i(c[y.name],y.type)),m},{});function o(c,f){const p=Xf(f);return typeof c=="string"?c:c.map(m=>i(m,p))}function a(c,f){return fN(f).reduce((y,g,w)=>{const b=Object.keys(c),_=x=>Object.defineProperty(y,w.toString(),{enumerable:!0,value:x??c[b[w]]}),E=g!=null&&g.type?g.type:g;return _(i(c[b[w]],E)),y},{})}const u=(c,f)=>{if(kE(f.name)){const g=c,w=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(",")),b=f.name.substring(f.name.indexOf(",")+1,f.name.lastIndexOf(">"));return g.isOk()?new H1(0,i(c.unwrap(),w)):new H1(1,i(c.unwrap(),b))}if(PE(f.name)){const g=c,w=f.name.substring(f.name.indexOf("<")+1,f.name.lastIndexOf(">"));return g.isSome()?new z1(0,i(g.unwrap(),w)):new z1(1,{})}const p=c,y=Object.entries(p.variant).map(g=>{if(typeof g[1]>"u")return g;const w=f.type.substring(f.type.lastIndexOf("<")+1,f.type.lastIndexOf(">"));return w==="()"?g:[g[0],i(p.unwrap(),w)]});return new cN(Object.fromEntries(y))};return e.reduce((c,f)=>{const p=m=>Object.defineProperty(c,f.name,{enumerable:!0,value:m});return dh(f.name)&&!_l(f.type)||p(i(t[f.name],f.type)),c},{})}function V1(t,e){switch(!0){case vl(t):const r=lN(e);return[ui(r.low),ui(r.high)];default:return ui(e)}}function Kce(t,e){const r=fN(e),n=Object.values(t);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((i,s)=>({element:n[s],type:i.type??i}))}function B4(t){if(typeof t=="object"){const{low:r,high:n}=t;return[ui(r),ui(n)]}const e=lN(t);return[ui(e.low),ui(e.high)]}function Ho(t,e,r,n){if(t===void 0)throw Error(`Missing parameter for type ${e}`);if(Array.isArray(t)){const i=[];i.push(ui(t.length));const s=Xf(e);return t.reduce((o,a)=>o.concat(Ho(a,s,r,n)),i)}if(r[e]&&r[e].members.length){if(vl(e))return B4(t);if(e==="core::starknet::eth_address::EthAddress")return V1(e,t);const{members:i}=r[e],s=t;return i.reduce((o,a)=>o.concat(Ho(s[a.name],a.type,r,n)),[])}if(Ll(e))return Kce(t,e).reduce((s,o)=>{const a=Ho(o.element,o.type,r,n);return s.concat(a)},[]);if(vl(e))return B4(t);if(Dh(e,n)){const{variants:i}=n[e];if(PE(e)){const f=t;if(f.isSome()){const p=i.find(g=>g.name==="Some");if(typeof p>"u")throw Error("Error in abi : Option has no 'Some' variant.");const m=p.type;if(m==="()")return 0 .toString();const y=Ho(f.unwrap(),m,r,n);return Array.isArray(y)?[0 .toString(),...y]:[0 .toString(),y]}return 1 .toString()}if(kE(e)){const f=t;if(f.isOk()){const g=i.find(_=>_.name==="Ok");if(typeof g>"u")throw Error("Error in abi : Result has no 'Ok' variant.");const w=g.type;if(w==="()")return 0 .toString();const b=Ho(f.unwrap(),w,r,n);return Array.isArray(b)?[0 .toString(),...b]:[0 .toString(),b]}const p=i.find(g=>g.name==="Err");if(typeof p>"u")throw Error("Error in abi : Result has no 'Err' variant.");const m=p.type;if(m==="()")return 1 .toString();const y=Ho(f.unwrap(),m,r,n);return Array.isArray(y)?[1 .toString(),...y]:[1 .toString(),y]}const s=t,o=s.activeVariant(),a=i.find(f=>f.name===o);if(typeof a>"u")throw Error(`Not find in abi : Enum has no '${o}' variant.`);const u=a.type,l=i.findIndex(f=>f.name===o);if(u==="()")return l.toString();const c=Ho(s.unwrap(),u,r,n);return Array.isArray(c)?[l.toString(),...c]:[l.toString(),c]}if(typeof t=="object")throw Error(`Parameter ${t} do not align with abi parameter ${e}`);return V1(e,t)}function Jce(t,e,r,n){const{name:i,type:s}=e;let{value:o}=t.next();switch(!0){case gl(s):if(!Array.isArray(o)&&!vv(o))throw Error(`ABI expected parameter ${i} to be array or long string, got ${o}`);return typeof o=="string"&&(o=rN(o)),Ho(o,e.type,r,n);case s==="core::starknet::eth_address::EthAddress":return V1(s,o);case(_v(s,r)||Ll(s)||vl(s)):return Ho(o,s,r,n);case Dh(s,n):return Ho(o,s,r,n);default:return V1(s,o)}}function d2(t,e){let r;switch(!0){case NE(t):return r=e.next().value,!!BigInt(r);case vl(t):const n=e.next().value,i=e.next().value;return RE({low:n,high:i});case t==="core::starknet::eth_address::EthAddress":return r=e.next().value,BigInt(r);default:return r=e.next().value,BigInt(r)}}function Ba(t,e,r,n){if(e.type==="()")return{};if(vl(e.type)){const i=t.next().value,s=t.next().value;return RE({low:i,high:s})}if(gl(e.type)){const i=[],s={name:"",type:Xf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push(Ba(t,s,r,n));return i}if(r&&e.type in r&&r[e.type])return e.type==="core::starknet::eth_address::EthAddress"?d2(e.type,t):r[e.type].members.reduce((i,s)=>(i[s.name]=Ba(t,s,r,n),i),{});if(n&&e.type in n&&n[e.type]){const i=Number(t.next().value),s=n[e.type].variants.reduce((a,u,l)=>l===i?(a[u.name]=Ba(t,{name:"",type:u.type},r,n),a):(a[u.name]=void 0,a),{});if(e.type.startsWith("core::option::Option")){const a=i===0?s.Some:void 0;return new z1(i,a)}if(e.type.startsWith("core::result::Result")){let a;return i===0?a=s.Ok:a=s.Err,new H1(i,a)}return new cN(s)}if(Ll(e.type))return fN(e.type).reduce((s,o,a)=>{const u=o!=null&&o.name?o.name:a,l=o!=null&&o.type?o.type:o,c={name:u,type:l};return s[u]=Ba(t,c,r,n),s},{});if(gl(e.type)){const i=[],s={name:"",type:Xf(e.type)},o=BigInt(t.next().value);for(;i.length<o;)i.push(Ba(t,s,r,n));return i}return d2(e.type,t)}function f2(t,e,r,n,i){const{name:s,type:o}=e;let a;switch(!0){case dh(s):return a=t.next().value,BigInt(a);case(r&&o in r||Ll(o)):return Ba(t,e,r,n);case(n&&Dh(o,n)):return Ba(t,e,r,n);case gl(o):if(_l(o))return Ba(t,e,r,n);const u=[];if(i&&i[`${s}_len`]){const l=i[`${s}_len`];for(;u.length<l;)u.push(Ba(t,{name:s,type:e.type.replace("*","")},r,n))}return u;default:return d2(o,t)}}var I7=(t,e)=>{if(kt(typeof t=="string"||typeof t=="number"||typeof t=="bigint",`Validate: arg ${e.name} should be a felt typed as (String, Number or BigInt)`),typeof t=="string"&&!yo(t))return;const r=BigInt(t.toString(10));kt(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`)},pN=(t,e)=>{typeof t=="number"&&kt(t<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),kt(typeof t=="string"||typeof t=="number"||typeof t=="bigint"||typeof t=="object"&&"low"in t&&"high"in t,`Validate: arg ${e.name} of cairo type ${e.type} should be type (String, Number or BigInt), but is ${typeof t} ${t}.`);const r=typeof t=="object"?RE(t):Ze(t);switch(e.type){case"core::integer::u8":kt(r>=0n&&r<=255n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0 - 255]`);break;case"core::integer::u16":kt(r>=0n&&r<=65535n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 65535]`);break;case"core::integer::u32":kt(r>=0n&&r<=4294967295n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":kt(r>=0n&&r<=2n**64n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":kt(r>=0n&&r<=2n**128n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":kt(r>=0n&&r<=2n**256n-1n,`Validate: arg ${e.name} is ${e.type} 0 - 2^256-1`);break;case"core::starknet::class_hash::ClassHash":kt(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break;case"core::starknet::contract_address::ContractAddress":kt(r>=0n&&r<=2n**252n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^252-1]`);break}},O7=(t,e)=>{kt(typeof t=="boolean",`Validate: arg ${e.name} of cairo type ${e.type} should be type (Boolean)`)},R7=(t,e,r)=>{if(e.type==="core::integer::u256"){pN(t,e);return}if(e.type==="core::starknet::eth_address::EthAddress"){kt(typeof t!="object",`EthAddress type is waiting a BigNumberish. Got ${t}`);const n=BigInt(t.toString(10));kt(n>=0n&&n<=2n**160n-1n,`Validate: arg ${e.name} cairo typed ${e.type} should be in range [0, 2^160-1]`);return}kt(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type struct (${e.type}), and should be defined as js object (not array)`),r[e.type].members.forEach(({name:n})=>{kt(Object.keys(t).includes(n),`Validate: arg ${e.name} should have a property ${n}`)})},P7=(t,e)=>{kt(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} is cairo type Enum (${e.type}), and should be defined as js object (not array)`);const r=Object.getOwnPropertyNames(Object.getPrototypeOf(t)),n=[...Object.getOwnPropertyNames(t),...r];if(!(PE(e.type)&&n.includes("isSome")&&n.includes("isNone"))&&!(kE(e.type)&&n.includes("isOk")&&n.includes("isErr"))&&!(n.includes("variant")&&n.includes("activeVariant")))throw new Error(`Validate Enum: argument ${e.name}, type ${e.type}, value received ${t}, is not an Enum.`)},k7=(t,e)=>{kt(typeof t=="object"&&!Array.isArray(t),`Validate: arg ${e.name} should be a tuple (defined as object)`)},N7=(t,e,r,n)=>{const i=Xf(e.type);if(!(j1(i)&&tN(t)))switch(kt(Array.isArray(t),`Validate: arg ${e.name} should be an Array`),!0){case j1(i):t.forEach(s=>I7(s,e));break;case Ll(i):t.forEach(s=>k7(s,{name:e.name,type:i}));break;case gl(i):t.forEach(s=>N7(s,{name:"",type:i},r,n));break;case _v(i,r):t.forEach(s=>R7(s,{name:e.name,type:i},r));break;case Dh(i,n):t.forEach(s=>P7(s,{name:e.name,type:i}));break;case(aN(i)||uN(i)):t.forEach(s=>pN(s,e));break;case NE(i):t.forEach(s=>O7(s,e));break;default:throw new Error(`Validate Unhandled: argument ${e.name}, type ${e.type}, value ${t}`)}};function L4(t,e,r,n){t.inputs.reduce((i,s)=>{const o=e[i];switch(!0){case dh(s.name):return i;case j1(s.type):I7(o,s);break;case(aN(s.type)||uN(s.type)):pN(o,s);break;case NE(s.type):O7(o,s);break;case gl(s.type):N7(o,s,r,n);break;case _v(s.type,r):R7(o,s,r);break;case Dh(s.type,n):P7(o,s);break;case Ll(s.type):k7(o,s);break;default:throw new Error(`Validate Unhandled: argument ${s.name}, type ${s.type}, value ${o}`)}return i+1},0)}var yt=class{constructor(t){this.structs=yt.getAbiStruct(t),this.enums=yt.getAbiEnum(t),this.parser=T7(t),this.abi=this.parser.getLegacyFormat()}validate(t,e,r=[]){if(t!=="DEPLOY"){const s=this.abi.filter(o=>{if(o.type!=="function")return!1;const a=o.stateMutability==="view"||o.state_mutability==="view";return t==="INVOKE"?!a:a}).map(o=>o.name);kt(s.includes(e),`${t==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const n=this.abi.find(s=>t==="DEPLOY"?s.name===e&&s.type==="constructor":s.name===e&&s.type==="function");if(D4(e,r,n))return;const i=this.parser.methodInputsLength(n);if(r.length!==i)throw Error(`Invalid number of arguments, expected ${i} arguments, but got ${r.length}`);L4(n,r,this.structs,this.enums)}compile(t,e){const r=this.abi.find(o=>o.name===t);if(D4(t,e,r))return[];let n;if(Array.isArray(e))n=e;else{const o=Qce(e,r.inputs,this.structs,this.enums);n=Object.values(o),L4(r,n,this.structs,this.enums)}const i=n[Symbol.iterator](),s=r.inputs.reduce((o,a)=>dh(a.name)&&!_l(a.type)?o:o.concat(Jce(i,a,this.structs,this.enums)),[]);return Object.defineProperty(s,"__compiled__",{enumerable:!1,writable:!1,value:!0}),s}static compile(t){const e=n=>{const i=(o,a=".")=>{const u=Array.isArray(o)?[o.length.toString(),...o]:o;return Object.entries(u).flatMap(([l,c])=>{let f=c;l==="entrypoint"?f=go(f):tN(f)&&(f=rN(f));const p=Array.isArray(u)&&l==="0"?"$$len":l;if(IE(f))return[[`${a}${p}`,ui(f)]];if(Object(f)===f){const m=Object.getOwnPropertyNames(Object.getPrototypeOf(f)),y=[...Object.getOwnPropertyNames(f),...m];if(y.includes("isSome")&&y.includes("isNone")){const g=f,w=g.isSome()?0:1;return g.isSome()?i({0:w,1:g.unwrap()},`${a}${p}.`):[[`${a}${p}`,ui(w)]]}if(y.includes("isOk")&&y.includes("isErr")){const g=f,w=g.isOk()?0:1;return i({0:w,1:g.unwrap()},`${a}${p}.`)}if(y.includes("variant")&&y.includes("activeVariant")){const g=f,w=g.activeVariant(),_=Object.keys(g.variant).findIndex(E=>E===w);return typeof g.unwrap()=="object"&&Object.keys(g.unwrap()).length===0?[[`${a}${p}`,ui(_)]]:i({0:_,1:g.unwrap()},`${a}${p}.`)}return i(f,`${a}${p}.`)}return[[`${a}${p}`,ui(f)]]})};return Object.fromEntries(i(n))};let r;if(Array.isArray(t)){const n={...t},i=e(n);r=Object.values(i)}else{const n=e(t);r=Object.values(n)}return Object.defineProperty(r,"__compiled__",{enumerable:!1,writable:!1,value:!0}),r}parse(t,e){const{outputs:r}=this.abi.find(s=>s.name===t),n=e.flat()[Symbol.iterator](),i=r.flat().reduce((s,o,a)=>{const u=o.name??a;return s[u]=f2(n,o,this.structs,this.enums,s),s[u]&&s[`${u}_len`]&&delete s[`${u}_len`],s},{});return Object.keys(i).length===1&&0 in i?i[0]:i}format(t,e,r){const n=this.parse(t,e);return Pb(n,r)}static getAbiStruct(t){return t.filter(e=>e.type==="struct").reduce((e,r)=>({...e,[r.name]:r}),{})}static getAbiEnum(t){const e=t.filter(r=>r.type==="enum").reduce((r,n)=>({...r,[n.name]:n}),{});return delete e["core::bool"],e}static toCalldata(t=[]){return yt.compile(t)}static toHex(t=[]){return yt.compile(t).map(r=>Se(r))}},M7={};xr(M7,{calculateContractAddressFromHash:()=>kb,calculateDeclareTransactionHash:()=>$7,calculateDeployAccountTransactionHash:()=>U7,calculateDeployTransactionHash:()=>ihe,calculateTransactionHash:()=>F7,calculateTransactionHashCommon:()=>bv,computeCompiledClassHash:()=>H7,computeContractClassHash:()=>G7,computeHashOnElements:()=>Bn,computeLegacyContractClassHash:()=>z7,computeSierraContractClassHash:()=>V7,default:()=>j7,feeTransactionVersion:()=>ef,feeTransactionVersion_2:()=>G1,formatSpaces:()=>Eg,getSelector:()=>OE,getSelectorFromName:()=>go,getVersionsByType:()=>mN,keccakBn:()=>Kk,poseidon:()=>nhe,starknetKeccak:()=>Jk,transactionVersion:()=>Bc,transactionVersion_2:()=>wg});var fh=xE,D7={};xr(D7,{starkCurve:()=>Ai,weierstrass:()=>ehe});var Ai=Nh(xE),ehe=Nh(wce()),B7={};xr(B7,{parse:()=>bl,parseAlwaysAsBig:()=>L7,stringify:()=>Qs,stringifyAlwaysAsBig:()=>rhe});var bg=Nh(Ece),the=t=>{if(!bg.isInteger(t))return parseFloat(t);const e=parseInt(t,10);return Number.isSafeInteger(e)?e:BigInt(t)},bl=t=>bg.parse(String(t),void 0,the),L7=t=>bg.parse(String(t),void 0,bg.parseNumberAndBigInt),Qs=(t,e,r,n)=>bg.stringify(t,e,r,n),rhe=Qs,nhe=Nh(xce()),Bc=Bk,wg=Lk,ef=GV,G1=WV;function mN(t){return t==="fee"?{v1:ef,v2:G1}:{v1:Bc,v2:wg}}function Bn(t){return[...t,t.length].reduce((e,r)=>Ai.pedersen(Ze(e),Ze(r)),0).toString()}function bv(t,e,r,n,i,s,o,a=[]){const u=Bn(i),l=[t,e,r,n,u,s,o,...a];return Bn(l)}function ihe(t,e,r,n,i="constructor"){return bv("0x6465706c6f79",r,t,go(i),e,0,n)}function $7(t,e,r,n,i,s,o){return bv("0x6465636c617265",r,e,0,[t],n,i,[s,...o?[o]:[]])}function U7(t,e,r,n,i,s,o,a){const u=[e,n,...r];return bv("0x6465706c6f795f6163636f756e74",i,t,0,u,s,o,[a])}function F7(t,e,r,n,i,s){return bv("0x696e766f6b65",e,t,0,r,n,i,[s])}function kb(t,e,r,n){const i=yt.compile(r),s=Bn(i),o=ui("0x535441524b4e45545f434f4e54524143545f41444452455353"),a=Bn([o,n,t,e,s]);return Se(BigInt(a)%$k)}function she(t,e){return t==="attributes"||t==="accessible_scopes"?Array.isArray(e)&&e.length===0?void 0:e:t==="debug_info"?null:e===null?void 0:e}function Eg(t){let e=!1;const r=[];for(const n of t)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(e=!e),e?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}function j7(t){const{abi:e,program:r}=t,i=Eg(Qs({abi:e,program:r},she));return ln(Ai.keccak(Np(i)).toString(16))}function z7(t){const e=typeof t=="string"?bl(t):t,r=Se(ZV),n=Bn(e.entry_points_by_type.EXTERNAL.flatMap(l=>[l.selector,l.offset])),i=Bn(e.entry_points_by_type.L1_HANDLER.flatMap(l=>[l.selector,l.offset])),s=Bn(e.entry_points_by_type.CONSTRUCTOR.flatMap(l=>[l.selector,l.offset])),o=Bn(e.program.builtins.map(l=>Bl(l))),a=j7(e),u=Bn(e.program.data);return Bn([r,n,i,s,o,a,u])}function ohe(t){return(0,fh.poseidonHashMany)(t.flatMap(e=>BigInt(Bl(e))))}function ET(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),ohe(r.builtins)]);return(0,fh.poseidonHashMany)(e)}function H7(t){const r=BigInt(Bl("COMPILED_CLASS_V1")),n=ET(t.entry_points_by_type.EXTERNAL),i=ET(t.entry_points_by_type.L1_HANDLER),s=ET(t.entry_points_by_type.CONSTRUCTOR),o=(0,fh.poseidonHashMany)(t.bytecode.map(a=>BigInt(a)));return Se((0,fh.poseidonHashMany)([r,n,i,s,o]))}function xT(t){const e=t.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return(0,fh.poseidonHashMany)(e)}function ahe(t){const e=Eg(Qs(t.abi,null));return BigInt(ln(Ai.keccak(Np(e)).toString(16)))}function V7(t){const r=BigInt(Bl("CONTRACT_CLASS_V0.1.0")),n=xT(t.entry_points_by_type.EXTERNAL),i=xT(t.entry_points_by_type.L1_HANDLER),s=xT(t.entry_points_by_type.CONSTRUCTOR),o=ahe(t),a=(0,fh.poseidonHashMany)(t.sierra_program.map(u=>BigInt(u)));return Se((0,fh.poseidonHashMany)([r,n,i,s,o,a]))}function G7(t){const e=typeof t=="string"?bl(t):t;return"sierra_program"in e?V7(e):z7(e)}var W7={};xr(W7,{compressProgram:()=>yN,decompressProgram:()=>W1,estimatedFeeToMaxFee:()=>Lc,formatSignature:()=>DE,makeAddress:()=>uhe,randomAddress:()=>gN,signatureToDecimalArray:()=>Od,signatureToHexArray:()=>Rd});var $4=xE,q7=Sce;function yN(t){const e=typeof t=="string"?t:Qs(t),r=(0,q7.gzip)(e);return $V(r)}function W1(t){if(Array.isArray(t))return t;const e=BV((0,q7.ungzip)(LV(t)));return bl(e)}function gN(){const t=$4.utils.randomPrivateKey();return(0,$4.getStarkKey)(t)}function uhe(t){return ln(t).toLowerCase()}function DE(t){if(!t)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(t))return t.map(e=>Se(e));try{const{r:e,s:r}=t;return[Se(e),Se(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function Od(t){return f7(DE(t))}function Rd(t){return p7(DE(t))}function Lc(t,e=.5){const r=Math.round((1+e)*100);return Ze(t)*Ze(r)/100n}function fi(t){return"sierra_program"in(typeof t=="string"?bl(t):t)}function Nb(t){const e={...t};if(fi(t.contract)&&(!t.compiledClassHash&&t.casm&&(e.compiledClassHash=H7(t.casm)),!e.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(e.classHash=t.classHash??G7(t.contract),!e.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return e}function lhe(t){if(fi(t))throw Error("ContractClassResponse need to be LegacyContractClass (cairo0 response class)");const e=t;return{...e,program:W1(e.program)}}var che=Nh(Cz),Z7=typeof window<"u"&&window.fetch||typeof at<"u"&&at.fetch||che.default,X7={};xr(X7,{createSierraContractClass:()=>Y7,parseContract:()=>vN,wait:()=>q1});function q1(t){return new Promise(e=>{setTimeout(e,t)})}function Y7(t){const e={...t};return delete e.sierra_program_debug_info,e.abi=Eg(Qs(t.abi)),e.sierra_program=Eg(Qs(t.sierra_program)),e.sierra_program=yN(e.sierra_program),e}function vN(t){const e=typeof t=="string"?bl(t):t;return fi(t)?Y7(e):{...e,..."program"in e&&{program:yN(e.program)}}}var hhe=class{parseGetBlockResponse(t){return{timestamp:t.timestamp,block_hash:"block_hash"in t?t.block_hash:"",block_number:"block_number"in t?t.block_number:-1,new_root:"new_root"in t?t.new_root:"",parent_hash:t.parent_hash,status:"status"in t?t.status:"PENDING",transactions:t.transactions}}parseGetTransactionResponse(t){return{calldata:"calldata"in t?t.calldata:[],contract_address:"contract_address"in t?t.contract_address:"",sender_address:"sender_address"in t?t.sender_address:"",max_fee:"max_fee"in t?t.max_fee:"",nonce:"nonce"in t?t.nonce:"",signature:"signature"in t?t.signature:[],transaction_hash:t.transaction_hash,version:t.version}}parseFeeEstimateResponse(t){return{overall_fee:Ze(t[0].overall_fee),gas_consumed:Ze(t[0].gas_consumed),gas_price:Ze(t[0].gas_price)}}parseFeeEstimateBulkResponse(t){return t.map(e=>({overall_fee:Ze(e.overall_fee),gas_consumed:Ze(e.gas_consumed),gas_price:Ze(e.gas_price)}))}parseCallContractResponse(t){return{result:t}}parseSimulateTransactionResponse(t){return t.map(e=>({...e,suggestedMaxFee:Lc(BigInt(e.fee_estimation.overall_fee))}))}parseContractClassResponse(t){return{...t,abi:typeof t.abi=="string"?JSON.parse(t.abi):t.abi}}};function Q7(t,e=t.constructor){const{captureStackTrace:r}=Error;r&&r(t,e)}function K7(t,e){const{setPrototypeOf:r}=Object;r?r(t,e):t.__proto__=e}var J7=class extends Error{constructor(t){super(t),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),K7(this,new.target.prototype),Q7(this)}},wl=class extends J7{},e9=class extends wl{constructor(t,e){super(t),this.errorCode=e}},t9=class extends wl{constructor(t,e){super(t),this.errorCode=e}},r9={};xr(r9,{StarknetIdContract:()=>s9,getStarknetIdContract:()=>_N,useDecoded:()=>n9,useEncoded:()=>i9});var Yo="abcdefghijklmnopqrstuvwxyz0123456789-",tf=BigInt(Yo.length+1),Gr="",U4=BigInt(Yo.length),p2=BigInt(Gr.length),F4=BigInt(Gr.length+1);function m2(t){let e=0;for(;t.endsWith(Gr[Gr.length-1]);)t=t.substring(0,t.length-1),e+=1;return[t,e]}function n9(t){let e="";return t.forEach(r=>{for(;r!==ni;){const s=r%tf;if(r/=tf,s===BigInt(Yo.length)){const o=r/F4;if(o===ni){const a=r%F4;r=o,a===ni?e+=Yo[0]:e+=Gr[Number(a)-1]}else{const a=r%p2;e+=Gr[Number(a)],r/=p2}}else e+=Yo[Number(s)]}const[n,i]=m2(e);i&&(e=n+(i%2===0?Gr[Gr.length-1].repeat(i/2-1)+Gr[0]+Yo[1]:Gr[Gr.length-1].repeat((i-1)/2+1))),e+="."}),e&&e.concat("stark")}function i9(t){let e=BigInt(0),r=BigInt(1);if(t.endsWith(Gr[0]+Yo[1])){const[n,i]=m2(t.substring(0,t.length-2));t=n+Gr[Gr.length-1].repeat(2*(i+1))}else{const[n,i]=m2(t);i&&(t=n+Gr[Gr.length-1].repeat(1+2*(i-1)))}for(let n=0;n<t.length;n+=1){const i=t[n],s=Yo.indexOf(i),o=BigInt(Yo.indexOf(i));if(s!==-1)n===t.length-1&&t[n]===Yo[0]?(e+=r*U4,r*=tf,r*=tf):(e+=r*o,r*=tf);else if(Gr.indexOf(i)!==-1){e+=r*U4,r*=tf;const a=(n===t.length-1?1:0)+Gr.indexOf(i);e+=r*BigInt(a),r*=p2}}return e}var s9=(t=>(t.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",t.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",t))(s9||{});function _N(t){switch(t){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function bN(t,e,r){const n=await t.getChainId(),i=r??_N(n);try{const o=(await t.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:yt.compile({address:e})})).result.map(u=>BigInt(u)).slice(1),a=n9(o);if(!a)throw Error("Starkname not found");return a}catch(s){throw s instanceof Error&&s.message==="Starkname not found"?s:Error("Could not get stark name")}}async function wN(t,e,r){const n=await t.getChainId(),i=r??_N(n);try{return(await t.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:yt.compile({domain:[i9(e.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var dhe=Object.values(CE),dr=class{constructor(t){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(t)}setIdentifier(t){typeof t=="string"&&yo(t)?this.hash=t:typeof t=="bigint"?this.hash=Se(t):typeof t=="number"?this.number=t:typeof t=="string"&&dhe.includes(t)?this.tag=t:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(t){this.setIdentifier(t)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},y2=(t,e=!1)=>{e||console.warn("Using default public node url, please provide nodeUrl in provider options!");const r=t==="SN_MAIN"?e7:JV,n=Math.floor(Math.random()*r.length);return r[n]},ST={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},Mb=class{constructor(t){this.responseParser=new hhe,this.getBlockHashAndNumber=this.getBlockLatestAccepted,this.getStateUpdate=this.getBlockStateUpdate,this.traceBlockTransactions=this.getBlockTransactionsTraces,this.getTransactionCount=this.getBlockTransactionCount,this.traceTransaction=this.getTransactionTrace,this.getSimulateTransaction=this.simulateTransaction;const{nodeUrl:e,retries:r,headers:n,blockIdentifier:i,chainId:s}=t||{};Object.values(Uk).includes(e)?this.nodeUrl=y2(e,t==null?void 0:t.default):e?this.nodeUrl=e:this.nodeUrl=y2(void 0,t==null?void 0:t.default),this.retries=r||ST.retries,this.headers={...ST.headers,...n},this.blockIdentifier=i||ST.blockIdentifier,this.chainId=s}fetch(t,e,r=0){const n={id:r,jsonrpc:"2.0",method:t,...e&&{params:e}};return Z7(this.nodeUrl,{method:"POST",body:Qs(n),headers:this.headers})}errorHandler(t,e,r,n){if(r){const{code:i,message:s,data:o}=r;throw new wl(`RPC: ${t} with params ${Qs(e)}
 ${i}: ${s}: ${Qs(o)}`)}if(n instanceof wl)throw n;if(n)throw Error(n.message)}async fetchEndpoint(t,e){var r;try{const n=await this.fetch(t,e),{error:i,result:s}=await n.json();return this.errorHandler(t,e,i),s}catch(n){throw this.errorHandler(t,e,(r=n==null?void 0:n.response)==null?void 0:r.data,n),n}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async getNonceForAddress(t,e=this.blockIdentifier){const r=Se(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:r,block_id:n})}async getBlock(t=this.blockIdentifier){return this.getBlockWithTxHashes(t).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getBlockWithTxHashes(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:e})}async getBlockWithTxs(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:e})}async getBlockStateUpdate(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:e})}async getBlockTransactionsTraces(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:e})}async getBlockTransactionCount(t=this.blockIdentifier){const e=new dr(t).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:e})}async getPendingTransactions(){const{transactions:t}=await this.getBlock("pending");return Promise.all(t.map(e=>this.getTransactionByHash(e)))}async getTransaction(t){return this.getTransactionByHash(t).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(t){const e=Se(t);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:e})}async getTransactionByBlockIdAndIndex(t,e){const r=new dr(t).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:e})}async getTransactionReceipt(t){const e=Se(t);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:e})}async getTransactionTrace(t){const e=Se(t);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:e})}async getTransactionStatus(t){const e=Se(t);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:e})}async simulateTransaction(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1,skipFeeCharge:n=!0}){const i=new dr(e).identifier,s=[];return r&&s.push(ri.ESimulationFlag.SKIP_VALIDATE),n&&s.push(ri.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:i,transactions:t.map(o=>this.buildTransaction(o)),simulation_flags:s}).then(this.responseParser.parseSimulateTransactionResponse)}async waitForTransaction(t,e){const r=Se(t);let{retries:n}=this,i=!1,s=!1;const o=(e==null?void 0:e.retryInterval)??5e3,a=(e==null?void 0:e.errorStates)??[ri.ETransactionStatus.REJECTED],u=(e==null?void 0:e.successStates)??[ri.ETransactionExecutionStatus.SUCCEEDED,ri.ETransactionStatus.ACCEPTED_ON_L2,ri.ETransactionStatus.ACCEPTED_ON_L1];let l;for(;!i;){await q1(o);try{l=await this.getTransactionStatus(r);const f=l.execution_status,p=l.finality_status;if(!p)throw new Error("waiting for transaction status");if(a.includes(f)||a.includes(p)){const m=`${f}: ${p}`,y=new Error(m);throw y.response=l,s=!0,y}else(u.includes(f)||u.includes(p))&&(i=!0)}catch(f){if(f instanceof Error&&s)throw f;if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1}let c=null;for(;c===null;){try{c=await this.getTransactionReceipt(r)}catch{if(n<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}n-=1,await q1(o)}return c}async getStorageAt(t,e,r=this.blockIdentifier){const n=Se(t),i=c7(e),s=new dr(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:n,key:i,block_id:s})}async getClassHashAt(t,e=this.blockIdentifier){const r=Se(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:n,contract_address:r})}async getClassByHash(t){return this.getClass(t)}async getClass(t,e=this.blockIdentifier){const r=Se(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:r,block_id:n}).then(this.responseParser.parseContractClassResponse)}async getClassAt(t,e=this.blockIdentifier){const r=Se(t),n=new dr(e).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:n,contract_address:r}).then(this.responseParser.parseContractClassResponse)}async getCode(t,e){throw new Error("RPC does not implement getCode function")}async getContractVersion(t,e,{blockIdentifier:r=this.blockIdentifier,compiler:n=!0}={}){let i;if(t)i=await this.getClassAt(t,r);else if(e)i=await this.getClass(e,r);else throw Error("getContractVersion require contractAddress or classHash");return fi(i)?n?{cairo:"1",compiler:ME(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(t,e,r=this.blockIdentifier){return this.getInvokeEstimateFee(t,e,r)}async getInvokeEstimateFee(t,e,r=this.blockIdentifier){const n=new dr(r).identifier,i=this.buildTransaction({type:"INVOKE_FUNCTION",...t,...e},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(t,e,r=this.blockIdentifier){const n=new dr(r).identifier,i=this.buildTransaction({type:"DECLARE",...t,...e},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(t,e,r=this.blockIdentifier){const n=new dr(r).identifier,i=this.buildTransaction({type:"DEPLOY_ACCOUNT",...t,...e},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[i],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1}){r&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const n=new dr(e).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:t.map(i=>this.buildTransaction(i,"fee")),block_id:n}).then(this.responseParser.parseFeeEstimateBulkResponse)}async invokeFunction(t,e){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:t.contractAddress,calldata:yt.toHex(t.calldata),type:ri.ETransactionType.INVOKE,max_fee:Se(e.maxFee||0),version:"0x1",signature:Rd(t.signature),nonce:Se(e.nonce)}})}async declareContract({contract:t,signature:e,senderAddress:r,compiledClassHash:n},i){return fi(t)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ri.ETransactionType.DECLARE,contract_class:{sierra_program:W1(t.sierra_program),contract_class_version:t.contract_class_version,entry_points_by_type:t.entry_points_by_type,abi:t.abi},compiled_class_hash:n||"",version:VV,max_fee:Se(i.maxFee||0),signature:Rd(e),sender_address:r,nonce:Se(i.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:ri.ETransactionType.DECLARE,contract_class:{program:t.program,entry_points_by_type:t.entry_points_by_type,abi:t.abi},version:HV,max_fee:Se(i.maxFee||0),signature:Rd(e),sender_address:r,nonce:Se(i.nonce)}})}async deployAccountContract({classHash:t,constructorCalldata:e,addressSalt:r,signature:n},i){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:yt.toHex(e||[]),class_hash:Se(t),contract_address_salt:Se(r||0),type:ri.ETransactionType.DEPLOY_ACCOUNT,max_fee:Se(i.maxFee||0),version:Se(i.version||0),signature:Rd(n),nonce:Se(i.nonce)}})}async callContract(t,e=this.blockIdentifier){const r=new dr(e).identifier,n=await this.fetchEndpoint("starknet_call",{request:{contract_address:t.contractAddress,entry_point_selector:go(t.entrypoint),calldata:yt.toHex(t.calldata)},block_id:r});return this.responseParser.parseCallContractResponse(n)}async estimateMessageFee(t,e=this.blockIdentifier){const{from_address:r,to_address:n,entry_point_selector:i,payload:s}=t,o={from_address:Se(r),to_address:Se(n),entry_point_selector:OE(i),payload:Qk(s)},a=new dr(e).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:o,block_id:a})}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(t){return this.fetchEndpoint("starknet_getEvents",{filter:t})}async getStarkName(t,e){return bN(this,t,e)}async getAddressFromStarkName(t,e){return wN(this,t,e)}buildTransaction(t,e){const r=mN(e),n={signature:Rd(t.signature),nonce:Se(t.nonce),max_fee:Se(t.maxFee||0)};if(t.type==="INVOKE_FUNCTION")return{type:ri.ETransactionType.INVOKE,sender_address:t.contractAddress,calldata:yt.toHex(t.calldata),version:Se(t.version||r.v1),...n};if(t.type==="DECLARE")return fi(t.contract)?{type:t.type,contract_class:{...t.contract,sierra_program:W1(t.contract.sierra_program)},compiled_class_hash:t.compiledClassHash||"",sender_address:t.senderAddress,version:Se(t.version||r.v2),...n}:{type:t.type,contract_class:t.contract,sender_address:t.senderAddress,version:Se(t.version||r.v1),...n};if(t.type==="DEPLOY_ACCOUNT")return{type:t.type,constructor_calldata:yt.toHex(t.constructorCalldata||[]),class_hash:Se(t.classHash),contract_address_salt:Se(t.addressSalt||0),version:Se(t.version||r.v1),...n};throw Error("RPC buildTransaction received unknown TransactionType")}},fhe=Nh(NP),phe=class{},mhe=class extends phe{parseGetBlockResponse(t){return{...t,new_root:t.state_root,parent_hash:t.parent_block_hash,transactions:Object.values(t.transactions).map(e=>"transaction_hash"in e&&e.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(t){if(t.status==="NOT_RECEIVED"&&t.finality_status==="NOT_RECEIVED")throw new wl;return{...t,calldata:"calldata"in t.transaction?t.transaction.calldata:[],contract_class:"contract_class"in t.transaction?t.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in t.transaction?t.transaction.entry_point_selector:void 0,max_fee:"max_fee"in t.transaction?t.transaction.max_fee:void 0,nonce:t.transaction.nonce,sender_address:"sender_address"in t.transaction?t.transaction.sender_address:void 0,signature:"signature"in t.transaction?t.transaction.signature:void 0,transaction_hash:"transaction_hash"in t.transaction?t.transaction.transaction_hash:void 0,version:"version"in t.transaction?t.transaction.version:void 0}}parseGetTransactionReceiptResponse(t){return{...t,messages_sent:t.l2_to_l1_messages,..."revert_error"in t&&{revert_reason:t.revert_error}}}parseFeeEstimateResponse(t){if("overall_fee"in t){let e={};try{e={gas_consumed:Ze(t.gas_usage),gas_price:Ze(t.gas_price)}}catch{}return{overall_fee:Ze(t.overall_fee),...e}}return{overall_fee:Ze(t.amount)}}parseFeeEstimateBulkResponse(t){return[].concat(t).map(e=>{if("overall_fee"in e){let r={};try{r={gas_consumed:Ze(e.gas_usage),gas_price:Ze(e.gas_price)}}catch{}return{overall_fee:Ze(e.overall_fee),...r}}return{overall_fee:Ze(e.amount)}})}parseSimulateTransactionResponse(t){const e="overall_fee"in t.fee_estimation?t.fee_estimation.overall_fee:t.fee_estimation.amount;return[{transaction_trace:t.trace,fee_estimation:t.fee_estimation,suggestedMaxFee:Lc(BigInt(e))}]}parseCallContractResponse(t){return{result:t.result}}parseInvokeFunctionResponse(t){return{transaction_hash:t.transaction_hash}}parseDeployContractResponse(t){return{transaction_hash:t.transaction_hash,contract_address:t.address}}parseDeclareContractResponse(t){return{transaction_hash:t.transaction_hash,class_hash:t.class_hash}}parseGetStateUpdateResponse(t){const e=Object.entries(t.state_diff.nonces).map(([n,i])=>({contract_address:n,nonce:i})),r=Object.entries(t.state_diff.storage_diffs).map(([n,i])=>({address:n,storage_entries:i}));return{...t,state_diff:{...t.state_diff,storage_diffs:r,nonces:e}}}parseContractClassResponse(t){const e=fi(t)?t:vN(t);return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}},yhe=Nh(NP),ghe=/^(?:\w+:)?\/\/(\S+)$/,vhe=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,_he=/^[^\s.]+\.\S{2,}$/;function o9(t){if(!t||typeof t!="string")return!1;const e=t.match(ghe);if(!e)return!1;const r=e[1];return r?!!(vhe.test(r)||_he.test(r)):!1}function Pd(t,e,r){return o9(r)?r:(0,yhe.default)(t,r??e)}function bhe(t){return t===void 0||Object.keys(t).length===0||Object.keys(t).length===1&&Object.entries(t).every(([e,r])=>e==="blockIdentifier"&&r===null)}var j4={network:"SN_GOERLI",blockIdentifier:"pending"},xg=class{constructor(t=j4){this.responseParser=new mhe,"network"in t?(this.baseUrl=xg.getNetworkFromName(t.network),this.feederGatewayUrl=Pd(this.baseUrl,"feeder_gateway"),this.gatewayUrl=Pd(this.baseUrl,"gateway")):(this.baseUrl=t.baseUrl,this.feederGatewayUrl=Pd(this.baseUrl,"feeder_gateway",t.feederGatewayUrl),this.gatewayUrl=Pd(this.baseUrl,"gateway",t.gatewayUrl)),this.chainId=(t==null?void 0:t.chainId)??xg.getChainIdFromBaseUrl(this.baseUrl),this.headers=t.headers,this.blockIdentifier=(t==null?void 0:t.blockIdentifier)||j4.blockIdentifier}static getNetworkFromName(t){switch(t){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(t){try{return new URL(t).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${t}`),"0x534e5f474f45524c49"}}getFetchUrl(t){return["add_transaction"].includes(t)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(t){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(t)?"POST":"GET"}getQueryString(t){return bhe(t)?"":`?${Object.entries(t).map(([r,n])=>r==="blockIdentifier"?`${new dr(n).queryIdentifier}`:`${r}=${n}`).join("&")}`}getHeaders(t){return t==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(t,...[e,r]){const n=this.getFetchUrl(t),i=this.getFetchMethod(t),s=this.getQueryString(e),o=(0,fhe.default)(n,t,s);return this.fetch(o,{method:i,body:r})}async fetch(t,e){const r=Pd(this.baseUrl,"",t),n=(e==null?void 0:e.method)??"GET",i=this.getHeaders(n),s=Qs(e==null?void 0:e.body);try{const o=await Z7(r,{method:n,body:s,headers:i}),a=await o.text();if(!o.ok){let l;try{l=bl(a)}catch{throw new t9(o.statusText,o.status)}throw new e9(l.message,l.code)}return(e!=null&&e.parseAlwaysAsBigInt?L7:bl)(a)}catch(o){throw o instanceof Error&&!(o instanceof wl)?Error(`Could not ${n} from endpoint \`${r}\`: ${o.message}`):o}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:t,entrypoint:e,calldata:r=[]},n=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:n},{contract_address:t,entry_point_selector:go(e),calldata:yt.compile(r)}).then(this.responseParser.parseCallContractResponse)}async getBlock(t=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:t}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(t,e=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:t,blockIdentifier:e})}async getStorageAt(t,e,r=this.blockIdentifier){const n=Ze(e).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:r,contractAddress:t,key:n})}async getTransaction(t){const e=Se(t);return this.fetchEndpoint("get_transaction",{transactionHash:e}).then(r=>{if(Object.values(r).length===1)throw new wl(r.status);return this.responseParser.parseGetTransactionResponse(r)})}async getTransactionReceipt(t){const e=Se(t);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:e}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(t,e=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:e,contractAddress:t}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(t,e=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:e,contractAddress:t})}async getClassByHash(t,e=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:t,blockIdentifier:e}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(t,e=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:t,blockIdentifier:e})}async getContractVersion(t,e,{blockIdentifier:r=this.blockIdentifier,compiler:n=!0}={}){let i;if(t)i=await this.getClassAt(t,r);else if(e)i=await this.getClassByHash(e,r);else throw Error("getContractVersion require contractAddress or classHash");return fi(i)?n?{cairo:"1",compiler:ME(i.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async invokeFunction(t,e){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:t.contractAddress,calldata:yt.compile(t.calldata??[]),signature:Od(t.signature),nonce:Se(e.nonce),max_fee:Se(e.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:t,constructorCalldata:e,addressSalt:r,signature:n},i){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:r??gN(),constructor_calldata:yt.compile(e??[]),class_hash:Se(t),max_fee:Se(i.maxFee||0),version:Se(i.version||0),nonce:Se(i.nonce),signature:Od(n)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:t,contract:e,signature:r,compiledClassHash:n},i){return fi(e)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:t,compiled_class_hash:n,contract_class:e,nonce:Se(i.nonce),signature:Od(r),max_fee:Se(i.maxFee||0),version:Se(wg)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:e,nonce:Se(i.nonce),signature:Od(r),sender_address:t,max_fee:Se(i.maxFee||0),version:Se(Bc)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(t,e,r=this.blockIdentifier,n=!1){return this.getInvokeEstimateFee(t,e,r,n)}async getInvokeEstimateFee(t,e,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"INVOKE_FUNCTION",...t,...e},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(t,e,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"DECLARE",...t,...e},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(t,e,r=this.blockIdentifier,n=!1){const i=this.buildTransaction({type:"DEPLOY_ACCOUNT",...t,...e},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},i).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1}){const n=t.map(i=>this.buildTransaction(i,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:e,skipValidate:r},n).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(t,e=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:t,blockIdentifier:e})}async waitForTransaction(t,e){let r,n=!1,i=0;const s=(e==null?void 0:e.retryInterval)??5e3,o=(e==null?void 0:e.errorStates)??["REJECTED","NOT_RECEIVED","REVERTED"],a=(e==null?void 0:e.successStates)??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!n;)if(await q1(s),r=await this.getTransactionStatus(t),r.finality_status==="NOT_RECEIVED"&&i<3)i+=1;else if(a.includes(r.finality_status)||a.includes(r.execution_status))n=!0;else if(o.includes(r.finality_status)||o.includes(r.execution_status)){let l;r.tx_failure_reason?l=`${r.tx_status}: ${r.tx_failure_reason.code}
${r.tx_failure_reason.error_message}`:r.tx_revert_reason?l=`${r.tx_status}: ${r.tx_revert_reason}`:l=r.tx_status;const c=new Error(l);throw c.response=r,c}return await this.getTransactionReceipt(t)}async getTransactionStatus(t){const e=Se(t);return this.fetchEndpoint("get_transaction_status",{transactionHash:e})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(t){const e=Se(t);return this.fetchEndpoint("get_transaction_trace",{transactionHash:e})}async estimateMessageFee({from_address:t,to_address:e,entry_point_selector:r,payload:n},i=this.blockIdentifier){const s={from_address:m7(t),to_address:Yk(e),entry_point_selector:OE(r),payload:Qk(n)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:i},s)}async getSimulateTransaction(t,{blockIdentifier:e=this.blockIdentifier,skipValidate:r=!1,skipExecute:n=!1}){t.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),n&&console.warn("Sequencer can't skip account __execute__");const i=this.buildTransaction(t[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:e,skipValidate:r??!1},i).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(t=this.blockIdentifier){const e=new dr(t).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...e}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(t=this.blockIdentifier){const e=new dr(t).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...e})}async getStarkName(t,e){return bN(this,t,e)}async getAddressFromStarkName(t,e){return wN(this,t,e)}buildTransaction(t,e){const r=mN(e),n={signature:Od(t.signature),nonce:Se(t.nonce)};if(t.type==="INVOKE_FUNCTION")return{type:t.type,sender_address:t.contractAddress,calldata:yt.compile(t.calldata??[]),version:Se(t.version||r.v1),...n};if(t.type==="DECLARE")return fi(t.contract)?{type:t.type,contract_class:t.contract,compiled_class_hash:t.compiledClassHash,sender_address:t.senderAddress,version:Se(t.version||r.v2),...n}:{type:t.type,contract_class:t.contract,sender_address:t.senderAddress,version:Se(t.version||r.v1),...n};if(t.type==="DEPLOY_ACCOUNT")return{type:t.type,constructor_calldata:yt.compile(t.constructorCalldata||[]),class_hash:Se(t.classHash),contract_address_salt:Se(t.addressSalt||0),version:Se(t.version||r.v1),...n};throw Error("Sequencer buildTransaction received unknown TransactionType")}},BE=class{constructor(t){t instanceof BE?this.provider=t.provider:t instanceof Mb||t instanceof xg?this.provider=t:t&&"rpc"in t?this.provider=new Mb(t.rpc):t&&"sequencer"in t?this.provider=new xg(t.sequencer):this.provider=new Mb}async getChainId(){return this.provider.getChainId()}async getBlock(t){return this.provider.getBlock(t)}async getClassAt(t,e){return this.provider.getClassAt(t,e)}async getClassHashAt(t,e){return this.provider.getClassHashAt(t,e)}getClassByHash(t){return this.provider.getClassByHash(t)}async getEstimateFee(t,e,r){return this.provider.getEstimateFee(t,e,r)}async getInvokeEstimateFee(t,e,r,n){return this.provider.getInvokeEstimateFee(t,e,r,n)}async getEstimateFeeBulk(t,e){return this.provider.getEstimateFeeBulk(t,e)}async getNonceForAddress(t,e){return this.provider.getNonceForAddress(t,e)}async getStorageAt(t,e,r){return this.provider.getStorageAt(t,e,r)}async getTransaction(t){return this.provider.getTransaction(t)}async getTransactionReceipt(t){return this.provider.getTransactionReceipt(t)}async callContract(t,e){return this.provider.callContract(t,e)}async invokeFunction(t,e){return this.provider.invokeFunction(t,e)}async deployAccountContract(t,e){return this.provider.deployAccountContract(t,e)}async declareContract(t,e){return this.provider.declareContract(t,e)}async getDeclareEstimateFee(t,e,r,n){return this.provider.getDeclareEstimateFee(t,e,r,n)}getDeployAccountEstimateFee(t,e,r,n){return this.provider.getDeployAccountEstimateFee(t,e,r,n)}async getCode(t,e){return this.provider.getCode(t,e)}async waitForTransaction(t,e){return this.provider.waitForTransaction(t,e)}async getSimulateTransaction(t,e){return this.provider.getSimulateTransaction(t,e)}async getStateUpdate(t){return this.provider.getStateUpdate(t)}async getStarkName(t,e){return bN(this,t,e)}async getAddressFromStarkName(t,e){return wN(this,t,e)}async getContractVersion(t,e,r){return this.provider.getContractVersion(t,e,r)}},whe=class{},a9={};xr(a9,{fromCallsToExecuteCalldata:()=>EN,fromCallsToExecuteCalldataWithNonce:()=>Ehe,fromCallsToExecuteCalldata_cairo1:()=>l9,getExecuteCalldata:()=>Z1,transformCallsToMulticallArrays:()=>u9,transformCallsToMulticallArrays_cairo1:()=>xhe});var u9=t=>{const e=[],r=[];return t.forEach(n=>{const i=yt.compile(n.calldata||[]);e.push({to:Ze(n.contractAddress).toString(10),selector:Ze(go(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:i.length.toString()}),r.push(...i)}),{callArray:e,calldata:yt.compile({calldata:r})}},EN=t=>{const{callArray:e,calldata:r}=u9(t);return[...yt.compile({callArray:e}),...r]},Ehe=(t,e)=>[...EN(t),Ze(e).toString()],xhe=t=>t.map(r=>({to:Ze(r.contractAddress).toString(10),selector:Ze(go(r.entrypoint)).toString(10),calldata:yt.compile(r.calldata||[])})),l9=t=>{const e=t.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:Array.isArray(r.calldata)&&"__compiled__"in r.calldata?r.calldata:yt.compile(r.calldata)}));return yt.compile({orderCalls:e})},Z1=(t,e="0")=>e==="1"?l9(t):EN(t),c9={};xr(c9,{encodeData:()=>g9,encodeType:()=>m9,encodeValue:()=>SN,getDependencies:()=>xN,getMessageHash:()=>AN,getStructHash:()=>Sg,getTypeHash:()=>y9,isMerkleTreeType:()=>p9,prepareSelector:()=>f9});var h9={};xr(h9,{MerkleTree:()=>Ef,proofMerklePath:()=>d9});var Ef=class{constructor(t){this.branches=[],this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);const e=[];for(let r=0;r<t.length;r+=2)r+1===t.length?e.push(Ef.hash(t[r],"0x0")):e.push(Ef.hash(t[r],t[r+1]));return this.build(e)}static hash(t,e){const[r,n]=[Ze(t),Ze(e)].sort((i,s)=>i>=s?1:-1);return Ai.pedersen(r,n)}getProof(t,e=this.leaves,r=[]){const n=e.indexOf(t);if(n===-1)throw new Error("leaf not found");if(e.length===1)return r;const i=n%2===0,s=(i?e[n+1]:e[n-1])??"0x0",o=[...r,s],a=this.leaves.length===e.length?-1:this.branches.findIndex(l=>l.length===e.length),u=this.branches[a+1]??[this.root];return this.getProof(Ef.hash(i?t:s,i?s:t),u,o)}};function d9(t,e,r){if(r.length===0)return t===e;const[n,...i]=r;return d9(t,Ef.hash(e,n),i)}function She(t){try{return Se(t)}catch{if(typeof t=="string")return Se(Bl(t));throw new Error(`Invalid BigNumberish: ${t}`)}}var Ahe=t=>{const e=t;return!!(e.types&&e.primaryType&&e.message)};function f9(t){return yo(t)?t:go(t)}function p9(t){return t.type==="merkletree"}var xN=(t,e,r=[])=>(e[e.length-1]==="*"&&(e=e.slice(0,-1)),r.includes(e)||!t[e]?r:[e,...t[e].reduce((n,i)=>[...n,...xN(t,i.type,n).filter(s=>!n.includes(s))],[])]);function The(t,e){if(e.parent&&e.key){const n=t[e.parent].find(s=>s.name===e.key);if(!p9(n))throw new Error(`${e.key} is not a merkle tree`);if(n.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${e.key}`);return n.contains}return"raw"}var m9=(t,e)=>{const[r,...n]=xN(t,e);return(r?[r,...n.sort()]:[]).map(s=>`${s}(${t[s].map(o=>`${o.name}:${o.type}`)})`).join("")},y9=(t,e)=>go(m9(t,e)),SN=(t,e,r,n={})=>{if(t[e])return[e,Sg(t,e,r)];if(Object.keys(t).map(i=>`${i}*`).includes(e)){const i=r.map(s=>Sg(t,e.slice(0,-1),s));return[e,Bn(i)]}if(e==="merkletree"){const i=The(t,n),s=r.map(a=>SN(t,i,a)[1]),{root:o}=new Ef(s);return["felt",o]}return e==="felt*"?["felt*",Bn(r)]:e==="selector"?["felt",f9(r)]:[e,She(r)]},g9=(t,e,r)=>{const[n,i]=t[e].reduce(([s,o],a)=>{if(r[a.name]===void 0||r[a.name]===null)throw new Error(`Cannot encode data: missing data for '${a.name}'`);const u=r[a.name],[l,c]=SN(t,a.type,u,{parent:e,key:a.name});return[[...s,l],[...o,c]]},[["felt"],[y9(t,e)]]);return[n,i]},Sg=(t,e,r)=>Bn(g9(t,e,r)[1]),AN=(t,e)=>{if(!Ahe(t))throw new Error("Typed data does not match JSON schema");const r=[Bl("StarkNet Message"),Sg(t.types,"StarkNetDomain",t.domain),e,Sg(t.types,t.primaryType,t.message)];return Bn(r)},v9=class{constructor(t=Ai.utils.randomPrivateKey()){this.pk=t instanceof Uint8Array?UV(t):Se(t)}async getPubKey(){return Ai.getStarkKey(this.pk)}async signMessage(t,e){const r=AN(t,e);return Ai.sign(r,this.pk)}async signTransaction(t,e,r){if(r&&r.length!==t.length)throw new Error("ABI must be provided for each transaction or no transaction");const n=Z1(t,e.cairoVersion),i=F7(e.walletAddress,e.version,n,e.maxFee,e.chainId,e.nonce);return Ai.sign(i,this.pk)}async signDeployAccountTransaction({classHash:t,contractAddress:e,constructorCalldata:r,addressSalt:n,maxFee:i,version:s,chainId:o,nonce:a}){const u=U7(e,t,yt.compile(r),n,s,i,o,a);return Ai.sign(u,this.pk)}async signDeclareTransaction({classHash:t,senderAddress:e,chainId:r,maxFee:n,version:i,nonce:s,compiledClassHash:o}){const a=$7(t,e,i,n,r,s,o);return Ai.sign(a,this.pk)}};function _9(t){if(!t.events)throw new Error("UDC emitted event is empty");const e=t.events.find(r=>_g(r.from_address)===_g(wc.ADDRESS))||{data:[]};return{transaction_hash:t.transaction_hash,contract_address:e.data[0],address:e.data[0],deployer:e.data[1],unique:e.data[2],classHash:e.data[3],calldata_len:e.data[4],calldata:e.data.slice(5,5+parseInt(e.data[4],16)),salt:e.data[e.data.length-1]}}var Che=class extends BE{constructor(t,e,r,n){super(t),this.deploySelf=this.deployAccount,this.address=e.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new v9(r):r,n&&(this.cairoVersion=n.toString())}async getNonce(t){return super.getNonceForAddress(this.address,t)}async getNonceSafe(t){try{return Ze(t??await this.getNonce())}catch{return 0n}}async getCairoVersion(t){if(!this.cairoVersion){const{cairo:e}=t?await super.getContractVersion(void 0,t):await super.getContractVersion(this.address);this.cairoVersion=e}return this.cairoVersion}async estimateFee(t,e){return this.estimateInvokeFee(t,e)}async estimateInvokeFee(t,{nonce:e,blockIdentifier:r,skipValidate:n}={}){const i=Array.isArray(t)?t:[t],s=Ze(e??await this.getNonce()),o=Ze(ef),a=await this.getChainId(),u={walletAddress:this.address,nonce:s,maxFee:ni,version:o,chainId:a,cairoVersion:await this.getCairoVersion()},l=await this.buildInvocation(i,u),c=await super.getInvokeEstimateFee({...l},{version:o,nonce:s},r,n),f=Lc(c.overall_fee);return{...c,suggestedMaxFee:f}}async estimateDeclareFee({contract:t,classHash:e,casm:r,compiledClassHash:n},{blockIdentifier:i,nonce:s,skipValidate:o}={}){const a=Ze(s??await this.getNonce()),u=fi(t)?G1:ef,l=await this.getChainId(),c=await this.buildDeclarePayload({classHash:e,contract:t,casm:r,compiledClassHash:n},{nonce:a,chainId:l,version:u,walletAddress:this.address,maxFee:ni,cairoVersion:void 0}),f=await super.getDeclareEstimateFee(c,{version:u,nonce:a},i,o),p=Lc(f.overall_fee);return{...f,suggestedMaxFee:p}}async estimateAccountDeployFee({classHash:t,addressSalt:e=0,constructorCalldata:r=[],contractAddress:n},{blockIdentifier:i,skipValidate:s}={}){const o=Ze(ef),a=ni,u=await this.getChainId(),l=await this.buildAccountDeployPayload({classHash:t,addressSalt:e,constructorCalldata:r,contractAddress:n},{nonce:a,chainId:u,version:o,walletAddress:this.address,maxFee:ni,cairoVersion:void 0}),c=await super.getDeployAccountEstimateFee({...l},{version:o,nonce:a},i,s),f=Lc(c.overall_fee);return{...c,suggestedMaxFee:f}}async estimateDeployFee(t,e){const r=this.buildUDCContractPayload(t);return this.estimateInvokeFee(r,e)}async estimateFeeBulk(t,{nonce:e,blockIdentifier:r,skipValidate:n}={}){const i=await this.accountInvocationsFactory(t,{versions:[ef,G1],nonce:e,blockIdentifier:r}),s=await super.getEstimateFeeBulk(i,{blockIdentifier:r,skipValidate:n});return[].concat(s).map(o=>{const a=Lc(o.overall_fee);return{...o,suggestedMaxFee:a}})}async buildInvocation(t,e){const r=Z1(t,await this.getCairoVersion()),n=await this.signer.signTransaction(t,e);return{contractAddress:this.address,calldata:r,signature:n}}async execute(t,e=void 0,r={}){const n=Array.isArray(t)?t:[t],i=Ze(r.nonce??await this.getNonce()),s=r.maxFee??await this.getSuggestedMaxFee({type:"INVOKE_FUNCTION",payload:t},r),o=Ze(Bc),a=await this.getChainId(),u={walletAddress:this.address,nonce:i,maxFee:s,version:o,chainId:a,cairoVersion:await this.getCairoVersion()},l=await this.signer.signTransaction(n,u,e),c=Z1(n,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:c,signature:l},{nonce:i,maxFee:s,version:o})}async declareIfNot(t,e={}){const r=Nb(t);try{await this.getClassByHash(r.classHash)}catch{return this.declare(t,e)}return{transaction_hash:"",class_hash:r.classHash}}async declare(t,e={}){const r=Nb(t),n={};n.nonce=Ze(e.nonce??await this.getNonce()),n.maxFee=e.maxFee??await this.getSuggestedMaxFee({type:"DECLARE",payload:r},e),n.version=fi(t.contract)?wg:Bc,n.chainId=await this.getChainId();const i=await this.buildDeclarePayload(r,{...n,walletAddress:this.address,cairoVersion:void 0});return this.declareContract(i,n)}async deploy(t,e){const r=[].concat(t).map(o=>{const{classHash:a,salt:u,unique:l=!0,constructorCalldata:c=[]}=o,f=yt.compile(c),p=u??gN();return{call:{contractAddress:wc.ADDRESS,entrypoint:wc.ENTRYPOINT,calldata:[a,p,h2(l),f.length,...f]},address:kb(l?Ai.pedersen(this.address,p):p,a,f,l?wc.ADDRESS:0)}}),n=r.map(o=>o.call),i=r.map(o=>o.address);return{...await this.execute(n,void 0,e),contract_address:i}}async deployContract(t,e){const r=await this.deploy(t,e),n=await this.waitForTransaction(r.transaction_hash);return _9(n)}async declareAndDeploy(t,e){const{constructorCalldata:r,salt:n,unique:i}=t;let s=await this.declareIfNot(t,e);if(s.transaction_hash!==""){const a=await this.waitForTransaction(s.transaction_hash);s={...s,...a}}const o=await this.deployContract({classHash:s.class_hash,salt:n,unique:i,constructorCalldata:r},e);return{declare:{...s},deploy:o}}async deployAccount({classHash:t,constructorCalldata:e=[],addressSalt:r=0,contractAddress:n},i={}){const s=Ze(Bc),o=ni,a=await this.getChainId(),u=yt.compile(e),l=n??kb(r,t,u,0),c=i.maxFee??await this.getSuggestedMaxFee({type:"DEPLOY_ACCOUNT",payload:{classHash:t,constructorCalldata:u,addressSalt:r,contractAddress:l}},i),f=await this.signer.signDeployAccountTransaction({classHash:t,constructorCalldata:u,contractAddress:l,addressSalt:r,chainId:a,maxFee:c,version:s,nonce:o});return this.deployAccountContract({classHash:t,addressSalt:r,constructorCalldata:e,signature:f},{nonce:o,maxFee:c,version:s})}async signMessage(t){return this.signer.signMessage(t,this.address)}async hashMessage(t){return AN(t,this.address)}async verifyMessageHash(t,e){try{return await this.callContract({contractAddress:this.address,entrypoint:"isValidSignature",calldata:yt.compile({hash:Ze(t).toString(),signature:DE(e)})}),!0}catch{return!1}}async verifyMessage(t,e){const r=await this.hashMessage(t);return this.verifyMessageHash(r,e)}async getSuggestedMaxFee({type:t,payload:e},r){let n;switch(t){case"INVOKE_FUNCTION":n=await this.estimateInvokeFee(e,r);break;case"DECLARE":n=await this.estimateDeclareFee(e,r);break;case"DEPLOY_ACCOUNT":n=await this.estimateAccountDeployFee(e,r);break;case"DEPLOY":n=await this.estimateDeployFee(e,r);break;default:n={suggestedMaxFee:ni,overall_fee:ni};break}return n.suggestedMaxFee}async buildDeclarePayload(t,{nonce:e,chainId:r,version:n,walletAddress:i,maxFee:s}){const{classHash:o,contract:a,compiledClassHash:u}=Nb(t),l=vN(a),c=await this.signer.signDeclareTransaction({classHash:o,compiledClassHash:u,senderAddress:i,chainId:r,maxFee:s,version:n,nonce:e});return{senderAddress:i,signature:c,contract:l,compiledClassHash:u}}async buildAccountDeployPayload({classHash:t,addressSalt:e=0,constructorCalldata:r=[],contractAddress:n},{nonce:i,chainId:s,version:o,maxFee:a}){const u=yt.compile(r),l=n??kb(e,t,u,0),c=await this.signer.signDeployAccountTransaction({classHash:t,contractAddress:l,chainId:s,maxFee:a,version:o,nonce:i,addressSalt:e,constructorCalldata:u});return{classHash:t,addressSalt:e,constructorCalldata:u,signature:c}}buildUDCContractPayload(t){return[].concat(t).map(r=>{const{classHash:n,salt:i="0",unique:s=!0,constructorCalldata:o=[]}=r,a=yt.compile(o);return{contractAddress:wc.ADDRESS,entrypoint:wc.ENTRYPOINT,calldata:[n,i,h2(s),a.length,...a]}})}async simulateTransaction(t,{nonce:e,blockIdentifier:r,skipValidate:n,skipExecute:i}={}){const s=await this.accountInvocationsFactory(t,{versions:[Bc,wg],nonce:e,blockIdentifier:r});return super.getSimulateTransaction(s,{blockIdentifier:r,skipValidate:n,skipExecute:i})}async accountInvocationsFactory(t,{versions:e,nonce:r,blockIdentifier:n}){const i=e[0],s=await this.getNonceSafe(r),o=await this.getChainId(),a="payload"in t[0]?t[0].payload:t[0],u=t[0].type==="DEPLOY_ACCOUNT"?await this.getCairoVersion(a.classHash):await this.getCairoVersion();return Promise.all([].concat(t).map(async(l,c)=>{const f="payload"in l?l.payload:l,p={walletAddress:this.address,nonce:Ze(Number(s)+c),maxFee:ni,version:i,chainId:o,cairoVersion:u},m={type:l.type,version:i,nonce:Ze(Number(s)+c),blockIdentifier:n};if(l.type==="INVOKE_FUNCTION"){const y=await this.buildInvocation([].concat(f),p);return{...m,...y}}if(l.type==="DECLARE"){p.version=fi(f.contract)?Ze(e[1]):Ze(e[0]);const y=await this.buildDeclarePayload(f,p);return{...m,...y,version:p.version}}if(l.type==="DEPLOY_ACCOUNT"){const y=await this.buildAccountDeployPayload(f,p);return{...m,...y}}if(l.type==="DEPLOY"){const y=this.buildUDCContractPayload(f),g=await this.buildInvocation(y,p);return{...m,...g,type:"INVOKE_FUNCTION"}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${l}`)}))}async getStarkName(t=this.address,e){return super.getStarkName(t,e)}},b9=class{},w9=new BE({rpc:{default:!0}}),Ihe=class extends b9{},E9={};xr(E9,{getAbiEvents:()=>x9,parseEvents:()=>S9});function x9(t){return t.filter(e=>e.type==="event"&&(e.size||e.kind!=="enum")).reduce((e,r)=>{const n=r.name.slice(r.name.lastIndexOf(":")+1),i={...r};return i.name=n,{...e,[ln(Ai.keccak(Np(n)).toString(16))]:i}},{})}function S9(t,e,r,n){return t.flat().reduce((s,o)=>{var m,y;const a=e[o.keys[0]];if(!a)return s;const u={};u[a.name]={},o.keys.shift();const l=o.keys[Symbol.iterator](),c=o.data[Symbol.iterator](),f=((m=a.members)==null?void 0:m.filter(g=>g.kind==="key"))||a.keys,p=((y=a.members)==null?void 0:y.filter(g=>g.kind==="data"))||a.data;return f.forEach(g=>{u[a.name][g.name]=f2(l,g,r,n,u[a.name])}),p.forEach(g=>{u[a.name][g.name]=f2(c,g,r,n,u[a.name])}),s.push(u),s},[])}var LE=t=>{const e=["blockIdentifier","parseRequest","parseResponse","formatResponse","maxFee","nonce","signature","addressSalt"],r=t[t.length-1];return typeof r=="object"&&e.some(n=>n in r)?{args:t,options:t.pop()}:{args:t}};function A9(t,e){return async function(...r){const n=LE(r);return t.call(e.name,n.args,{parseRequest:!0,parseResponse:!0,...n.options})}}function Ohe(t,e){return async function(...r){const n=LE(r);return t.invoke(e.name,n.args,{parseRequest:!0,...n.options})}}function z4(t,e){return e.stateMutability==="view"||e.state_mutability==="view"?A9(t,e):Ohe(t,e)}function Rhe(t,e){return function(...r){return t.populate(e.name,r)}}function Phe(t,e){return function(...r){return t.estimate(e.name,r)}}function rf(t,e){return Array.isArray(t)&&"__compiled__"in t?t:Array.isArray(t)&&Array.isArray(t[0])&&"__compiled__"in t[0]?t[0]:e()}var g2=class{constructor(t,e,r=w9){this.address=e&&e.toLowerCase(),this.providerOrAccount=r,this.callData=new yt(t),this.structs=yt.getAbiStruct(t),this.events=x9(t);const n=T7(t);this.abi=n.getLegacyFormat();const i={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(s=>{if(s.type!=="function")return;const o=s.name;this[o]||Object.defineProperty(this,o,{...i,value:z4(this,s)}),this.functions[o]||Object.defineProperty(this.functions,o,{...i,value:z4(this,s)}),this.callStatic[o]||Object.defineProperty(this.callStatic,o,{...i,value:A9(this,s)}),this.populateTransaction[o]||Object.defineProperty(this.populateTransaction,o,{...i,value:Rhe(this,s)}),this.estimateFee[o]||Object.defineProperty(this.estimateFee,o,{...i,value:Phe(this,s)})})}attach(t){this.address=t}connect(t){this.providerOrAccount=t}async deployed(){return this.deployTransactionHash&&(await this.providerOrAccount.waitForTransaction(this.deployTransactionHash),this.deployTransactionHash=void 0),this}async call(t,e=[],{parseRequest:r=!0,parseResponse:n=!0,formatResponse:i=void 0,blockIdentifier:s=void 0}={}){kt(this.address!==null,"contract is not connected to an address");const o=rf(e,()=>r?(this.callData.validate("CALL",t,e),this.callData.compile(t,e)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),e));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:o,entrypoint:t},s).then(a=>n?i?this.callData.format(t,a.result,i):this.callData.parse(t,a.result):a.result)}invoke(t,e=[],{parseRequest:r=!0,maxFee:n,nonce:i,signature:s}={}){kt(this.address!==null,"contract is not connected to an address");const o=rf(e,()=>r?(this.callData.validate("INVOKE",t,e),this.callData.compile(t,e)):(console.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),e)),a={contractAddress:this.address,calldata:o,entrypoint:t};if("execute"in this.providerOrAccount)return this.providerOrAccount.execute(a,void 0,{maxFee:n,nonce:i});if(!i)throw new Error("Nonce is required when invoking a function without an account");return console.warn(`Invoking ${t} without an account. This will not work on a public node.`),this.providerOrAccount.invokeFunction({...a,signature:s},{nonce:i})}async estimate(t,e=[]){kt(this.address!==null,"contract is not connected to an address"),rf(e,()=>!1)||this.callData.validate("INVOKE",t,e);const r=this.populate(t,e);if("estimateInvokeFee"in this.providerOrAccount)return this.providerOrAccount.estimateInvokeFee(r);throw Error("Contract must be connected to the account contract to estimate")}populate(t,e=[]){const r=rf(e,()=>this.callData.compile(t,e));return{contractAddress:this.address,entrypoint:t,calldata:r}}parseEvents(t){var e;return S9(((e=t.events)==null?void 0:e.filter(r=>_g(r.from_address)===_g(this.address),[]))||[],this.events,this.structs,yt.getAbiEnum(this.abi))}isCairo1(){return iN.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typed(t){return this}},khe=class{},Nhe=class{constructor(t){this.compiledContract=t.compiledContract,this.account=t.account,this.casm=t.casm,this.abi=t.abi??t.compiledContract.abi,this.classHash=t.classHash,this.compiledClassHash=t.compiledClassHash,this.CallData=new yt(this.abi)}async deploy(...t){const{args:e,options:r={parseRequest:!0}}=LE(t),n=rf(e,()=>r.parseRequest?(this.CallData.validate("DEPLOY","constructor",e),this.CallData.compile("constructor",e)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),e)),{deploy:{contract_address:i,transaction_hash:s}}=await this.account.declareAndDeploy({contract:this.compiledContract,casm:this.casm,classHash:this.classHash,compiledClassHash:this.compiledClassHash,constructorCalldata:n,salt:r.addressSalt});kt(!!i,"Deployment of the contract failed");const o=new g2(this.compiledContract.abi,i,this.account);return o.deployTransactionHash=s,o}connect(t){return this.account=t,this}attach(t){return new g2(this.abi,t,this.account)}},Mhe=Zf();function T9(t){return ln(Ja(Se(t)).padStart(64,"0"))}function C9(t){d7(t,ni,$k-1n,"Starknet Address");const e=T9(t);if(!e.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return e}function I9(t){const e=Ja(C9(t)).toLowerCase().split(""),r=Ja(Kk(t)),n=(0,Mhe.hexToBytes)(r.padStart(64,"0"));for(let i=0;i<e.length;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return ln(e.join(""))}function Dhe(t){return I9(t)===t}var Bhe=Zk,Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.UnsupportedAccountInterfaceError=Ln.UserNotConnectedError=Ln.UserRejectedRequestError=Ln.ConnectorNotFoundError=Ln.ConnectorNotConnectedError=Ln.ConnectorAlreadyConnectedError=void 0;class Lhe extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}}Ln.ConnectorAlreadyConnectedError=Lhe;class $he extends Error{constructor(){super(...arguments),this.name="ConnectorNotConnectedError",this.message="Connector not connected"}}Ln.ConnectorNotConnectedError=$he;class Uhe extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}}Ln.ConnectorNotFoundError=Uhe;class Fhe extends Error{constructor(){super(...arguments),this.name="UserRejectedRequestError",this.message="User rejected request"}}Ln.UserRejectedRequestError=Fhe;class jhe extends Error{constructor(){super(...arguments),this.name="UserNotConnectedError",this.message="User not connected"}}Ln.UserNotConnectedError=jhe;class zhe extends Error{constructor(){super(...arguments),this.name="UnsupportedAccountInterfaceError",this.message="Unsupported account interface. starknet-react v1 only supports the starknet.js v5 account interface"}}Ln.UnsupportedAccountInterfaceError=zhe;Object.defineProperty(hh,"__esModule",{value:!0});hh.StarknetProvider=hh.useStarknet=void 0;const H4=Yt,V4=po,Ou=we,G4=Mh,W4=Ln,X1=new G4.Provider({sequencer:{network:G4.constants.NetworkName.SN_MAIN}}),Hhe={account:void 0,connect:()=>{},disconnect:()=>{},library:X1,connectors:[]},O9=(0,Ou.createContext)(Hhe);function Vhe(){return(0,Ou.useContext)(O9)}hh.useStarknet=Vhe;function Ghe(t,e){switch(e.type){case"set_account":return{...t,account:e.account};case"set_provider":return{...t,library:e.provider??X1};case"set_connector":return{...t,connector:e.connector};case"set_error":return{...t,error:e.error};default:return t}}function Whe({defaultProvider:t,connectors:e,autoConnect:r}){const n=e??[],[i,s]=(0,Ou.useReducer)(Ghe,{library:t||X1,connectors:n}),{account:o,library:a,error:u}=i,l=(0,Ou.useCallback)(p=>{p.connect().then(m=>{s({type:"set_account",account:m.address}),s({type:"set_provider",provider:m}),s({type:"set_connector",connector:p}),r&&localStorage.setItem("lastUsedConnector",p.id)},m=>{console.error(m),s({type:"set_error",error:new W4.ConnectorNotFoundError})})},[r]),c=(0,Ou.useCallback)(()=>{s({type:"set_account",account:void 0}),s({type:"set_provider",provider:t||X1}),s({type:"set_connector",connector:void 0}),r&&localStorage.removeItem("lastUsedConnector"),i.connector&&(i.connector.removeEventListener(f),i.connector.disconnect().catch(p=>{console.error(p),s({type:"set_error",error:new W4.ConnectorNotFoundError})}))},[r,i.connector,t]),f=(0,Ou.useCallback)(()=>{c(),i.connector&&l(i.connector)},[i.connector,l,c]);return(0,Ou.useEffect)(()=>{var p;i.connector&&((p=i.connector)==null||p.initEventListener(f))},[i.connector,f]),(0,Ou.useEffect)(()=>{async function p(m){const y=localStorage.getItem("lastUsedConnector");if(y===null)return;const g=m.find(w=>w.id===y);if(g!==void 0)try{if(!await g.ready())return;l(g)}catch{}}r&&!o&&p(n)},[]),{account:o,connect:l,disconnect:c,connectors:n,library:a,error:u}}function qhe({children:t,defaultProvider:e,connectors:r,autoConnect:n,queryClient:i}){const s=Whe({defaultProvider:e,connectors:r,autoConnect:n});return(0,H4.jsx)(V4.QueryClientProvider,{client:i??new V4.QueryClient,children:(0,H4.jsx)(O9.Provider,{value:s,children:t})})}hh.StarknetProvider=qhe;var v2={},wv="delete",jt=5,os=1<<jt,Fn=os-1,mt={};function _2(){return{value:!1}}function as(t){t&&(t.value=!0)}function TN(){}function Yf(t){return t.size===void 0&&(t.size=t.__iterate(R9)),t.size}function El(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Yf(t)+e:e}function R9(){return!0}function Ev(t,e,r){return(t===0&&!k9(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function Dp(t,e){return P9(t,e,0)}function xv(t,e){return P9(t,e,e)}function P9(t,e,r){return t===void 0?r:k9(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function k9(t){return t<0||t===0&&1/t===-1/0}var N9="@@__IMMUTABLE_ITERABLE__@@";function En(t){return!!(t&&t[N9])}var M9="@@__IMMUTABLE_KEYED__@@";function Ot(t){return!!(t&&t[M9])}var D9="@@__IMMUTABLE_INDEXED__@@";function on(t){return!!(t&&t[D9])}function Bp(t){return Ot(t)||on(t)}var Ht=function(e){return En(e)?e:xn(e)},ws=function(t){function e(r){return Ot(r)?r:Ul(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht),Bh=function(t){function e(r){return on(r)?r:Es(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht),Lp=function(t){function e(r){return En(r)&&!Bp(r)?r:Fp(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ht);Ht.Keyed=ws;Ht.Indexed=Bh;Ht.Set=Lp;var B9="@@__IMMUTABLE_SEQ__@@";function Sv(t){return!!(t&&t[B9])}var L9="@@__IMMUTABLE_RECORD__@@";function $l(t){return!!(t&&t[L9])}function $i(t){return En(t)||$l(t)}var $p="@@__IMMUTABLE_ORDERED__@@";function Pi(t){return!!(t&&t[$p])}var Av=0,no=1,gs=2,b2=typeof Symbol=="function"&&Symbol.iterator,$9="@@iterator",$E=b2||$9,Et=function(e){this.next=e};Et.prototype.toString=function(){return"[Iterator]"};Et.KEYS=Av;Et.VALUES=no;Et.ENTRIES=gs;Et.prototype.inspect=Et.prototype.toSource=function(){return this.toString()};Et.prototype[$E]=function(){return this};function Vt(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Gn(){return{value:void 0,done:!0}}function CN(t){return Array.isArray(t)?!0:!!UE(t)}function q4(t){return t&&typeof t.next=="function"}function w2(t){var e=UE(t);return e&&e.call(t)}function UE(t){var e=t&&(b2&&t[b2]||t[$9]);if(typeof e=="function")return e}function Zhe(t){var e=UE(t);return e&&e===t.entries}function Xhe(t){var e=UE(t);return e&&e===t.keys}var Up=Object.prototype.hasOwnProperty;function IN(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var xn=function(t){function e(r){return r==null?RN():$i(r)?r.toSeq():Qhe(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var s=this._cache;if(s){for(var o=s.length,a=0;a!==o;){var u=s[i?o-++a:a++];if(n(u[1],u[0],this)===!1)break}return a}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var s=this._cache;if(s){var o=s.length,a=0;return new Et(function(){if(a===o)return Gn();var u=s[i?o-++a:a++];return Vt(n,u[0],u[1])})}return this.__iteratorUncached(n,i)},e}(Ht),Ul=function(t){function e(r){return r==null?RN().toKeyedSeq():En(r)?Ot(r)?r.toSeq():r.fromEntrySeq():$l(r)?r.toSeq():PN(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(xn),Es=function(t){function e(r){return r==null?RN():En(r)?Ot(r)?r.entrySeq():r.toIndexedSeq():$l(r)?r.toSeq().entrySeq():U9(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(xn),Fp=function(t){function e(r){return(En(r)&&!Bp(r)?r:Es(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(xn);xn.isSeq=Sv;xn.Keyed=Ul;xn.Set=Fp;xn.Indexed=Es;xn.prototype[B9]=!0;var ph=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[El(this,n)]:i},e.prototype.__iterate=function(n,i){for(var s=this._array,o=s.length,a=0;a!==o;){var u=i?o-++a:a++;if(n(s[u],u,this)===!1)break}return a},e.prototype.__iterator=function(n,i){var s=this._array,o=s.length,a=0;return new Et(function(){if(a===o)return Gn();var u=i?o-++a:a++;return Vt(n,u,s[u])})},e}(Es),ON=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return Up.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var s=this._object,o=this._keys,a=o.length,u=0;u!==a;){var l=o[i?a-++u:u++];if(n(s[l],l,this)===!1)break}return u},e.prototype.__iterator=function(n,i){var s=this._object,o=this._keys,a=o.length,u=0;return new Et(function(){if(u===a)return Gn();var l=o[i?a-++u:u++];return Vt(n,l,s[l])})},e}(Ul);ON.prototype[$p]=!0;var Yhe=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var s=this._collection,o=w2(s),a=0;if(q4(o))for(var u;!(u=o.next()).done&&n(u.value,a++,this)!==!1;);return a},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var s=this._collection,o=w2(s);if(!q4(o))return new Et(Gn);var a=0;return new Et(function(){var u=o.next();return u.done?u:Vt(n,a++,u.value)})},e}(Es),Z4;function RN(){return Z4||(Z4=new ph([]))}function PN(t){var e=kN(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new ON(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function U9(t){var e=kN(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Qhe(t){var e=kN(t);if(e)return Zhe(t)?e.fromEntrySeq():Xhe(t)?e.toSetSeq():e;if(typeof t=="object")return new ON(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function kN(t){return IN(t)?new ph(t):CN(t)?new Yhe(t):void 0}var F9="@@__IMMUTABLE_MAP__@@";function Tv(t){return!!(t&&t[F9])}function FE(t){return Tv(t)&&Pi(t)}function Y1(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function Rr(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(Y1(t)&&Y1(e)&&t.equals(e))}var Mm=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function jE(t){return t>>>1&1073741824|t&3221225471}var Khe=Object.prototype.valueOf;function $n(t){if(t==null)return X4(t);if(typeof t.hashCode=="function")return jE(t.hashCode(t));var e=ide(t);if(e==null)return X4(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return Jhe(e);case"string":return e.length>sde?ede(e):E2(e);case"object":case"function":return rde(e);case"symbol":return tde(e);default:if(typeof e.toString=="function")return E2(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function X4(t){return t===null?1108378658:1108378659}function Jhe(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return jE(e)}function ede(t){var e=CT[t];return e===void 0&&(e=E2(t),TT===ode&&(TT=0,CT={}),TT++,CT[t]=e),e}function E2(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return jE(e)}function tde(t){var e=K4[t];return e!==void 0||(e=j9(),K4[t]=e),e}function rde(t){var e;if(x2&&(e=S2.get(t),e!==void 0)||(e=t[Ec],e!==void 0)||!Q4&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ec],e!==void 0||(e=nde(t),e!==void 0)))return e;if(e=j9(),x2)S2.set(t,e);else{if(Y4!==void 0&&Y4(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Q4)Object.defineProperty(t,Ec,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ec]=e;else if(t.nodeType!==void 0)t[Ec]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Y4=Object.isExtensible,Q4=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function nde(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ide(t){return t.valueOf!==Khe&&typeof t.valueOf=="function"?t.valueOf(t):t}function j9(){var t=++AT;return AT&1073741824&&(AT=0),t}var x2=typeof WeakMap=="function",S2;x2&&(S2=new WeakMap);var K4=Object.create(null),AT=0,Ec="__immutablehash__";typeof Symbol=="function"&&(Ec=Symbol(Ec));var sde=16,ode=255,TT=0,CT={},zE=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=NN(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var s=this,o=W9(this,n,i);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(n,i)}),o},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(o,a){return n(o,a,s)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(Ul);zE.prototype[$p]=!0;var z9=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this,o=0;return i&&Yf(this),this._iter.__iterate(function(a){return n(a,i?s.size-++o:o++,s)},i)},e.prototype.__iterator=function(n,i){var s=this,o=this._iter.__iterator(no,i),a=0;return i&&Yf(this),new Et(function(){var u=o.next();return u.done?u:Vt(n,i?s.size-++a:a++,u.value,u)})},e}(Es),H9=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(o){return n(o,o,s)},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(no,i);return new Et(function(){var o=s.next();return o.done?o:Vt(n,o.value,o.value,o)})},e}(Fp),V9=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var s=this;return this._iter.__iterate(function(o){if(o){e$(o);var a=En(o);return n(a?o.get(1):o[1],a?o.get(0):o[0],s)}},i)},e.prototype.__iterator=function(n,i){var s=this._iter.__iterator(no,i);return new Et(function(){for(;;){var o=s.next();if(o.done)return o;var a=o.value;if(a){e$(a);var u=En(a);return Vt(n,u?a.get(0):a[0],u?a.get(1):a[1],o)}}})},e}(Ul);z9.prototype.cacheResult=zE.prototype.cacheResult=H9.prototype.cacheResult=V9.prototype.cacheResult=BN;function G9(t){var e=ma(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=BN,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(s,o){return r(o,s,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===gs){var i=t.__iterator(r,n);return new Et(function(){var s=i.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(r===no?Av:no,n)},e}function W9(t,e,r){var n=ma(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,s){var o=t.get(i,mt);return o===mt?s:e.call(r,o,i,t)},n.__iterateUncached=function(i,s){var o=this;return t.__iterate(function(a,u,l){return i(e.call(r,a,u,l),u,o)!==!1},s)},n.__iteratorUncached=function(i,s){var o=t.__iterator(gs,s);return new Et(function(){var a=o.next();if(a.done)return a;var u=a.value,l=u[0];return Vt(i,l,e.call(r,u[1],l,t),a)})},n}function NN(t,e){var r=this,n=ma(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=G9(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,s){return t.get(e?i:-1-i,s)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=BN,n.__iterate=function(i,s){var o=this,a=0;return s&&Yf(t),t.__iterate(function(u,l){return i(u,e?l:s?o.size-++a:a++,o)},!s)},n.__iterator=function(i,s){var o=0;s&&Yf(t);var a=t.__iterator(gs,!s);return new Et(function(){var u=a.next();if(u.done)return u;var l=u.value;return Vt(i,e?l[0]:s?r.size-++o:o++,l[1],u)})},n}function q9(t,e,r,n){var i=ma(t);return n&&(i.has=function(s){var o=t.get(s,mt);return o!==mt&&!!e.call(r,o,s,t)},i.get=function(s,o){var a=t.get(s,mt);return a!==mt&&e.call(r,a,s,t)?a:o}),i.__iterateUncached=function(s,o){var a=this,u=0;return t.__iterate(function(l,c,f){if(e.call(r,l,c,f))return u++,s(l,n?c:u-1,a)},o),u},i.__iteratorUncached=function(s,o){var a=t.__iterator(gs,o),u=0;return new Et(function(){for(;;){var l=a.next();if(l.done)return l;var c=l.value,f=c[0],p=c[1];if(e.call(r,p,f,t))return Vt(s,n?f:u++,p,l)}})},i}function ade(t,e,r){var n=jl().asMutable();return t.__iterate(function(i,s){n.update(e.call(r,i,s,t),0,function(o){return o+1})}),n.asImmutable()}function ude(t,e,r){var n=Ot(t),i=(Pi(t)?io():jl()).asMutable();t.__iterate(function(o,a){i.update(e.call(r,o,a,t),function(u){return u=u||[],u.push(n?[a,o]:o),u})});var s=DN(t);return i.map(function(o){return It(t,s(o))}).asImmutable()}function lde(t,e,r){var n=Ot(t),i=[[],[]];t.__iterate(function(o,a){i[e.call(r,o,a,t)?1:0].push(n?[a,o]:o)});var s=DN(t);return i.map(function(o){return It(t,s(o))})}function MN(t,e,r,n){var i=t.size;if(Ev(e,r,i))return t;var s=Dp(e,i),o=xv(r,i);if(s!==s||o!==o)return MN(t.toSeq().cacheResult(),e,r,n);var a=o-s,u;a===a&&(u=a<0?0:a);var l=ma(t);return l.size=u===0?u:t.size&&u||void 0,!n&&Sv(t)&&u>=0&&(l.get=function(c,f){return c=El(this,c),c>=0&&c<u?t.get(c+s,f):f}),l.__iterateUncached=function(c,f){var p=this;if(u===0)return 0;if(f)return this.cacheResult().__iterate(c,f);var m=0,y=!0,g=0;return t.__iterate(function(w,b){if(!(y&&(y=m++<s)))return g++,c(w,n?b:g-1,p)!==!1&&g!==u}),g},l.__iteratorUncached=function(c,f){if(u!==0&&f)return this.cacheResult().__iterator(c,f);if(u===0)return new Et(Gn);var p=t.__iterator(c,f),m=0,y=0;return new Et(function(){for(;m++<s;)p.next();if(++y>u)return Gn();var g=p.next();return n||c===no||g.done?g:c===Av?Vt(c,y-1,void 0,g):Vt(c,y-1,g.value[1],g)})},l}function cde(t,e,r){var n=ma(t);return n.__iterateUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterate(i,s);var a=0;return t.__iterate(function(u,l,c){return e.call(r,u,l,c)&&++a&&i(u,l,o)}),a},n.__iteratorUncached=function(i,s){var o=this;if(s)return this.cacheResult().__iterator(i,s);var a=t.__iterator(gs,s),u=!0;return new Et(function(){if(!u)return Gn();var l=a.next();if(l.done)return l;var c=l.value,f=c[0],p=c[1];return e.call(r,p,f,o)?i===gs?l:Vt(i,f,p,l):(u=!1,Gn())})},n}function Z9(t,e,r,n){var i=ma(t);return i.__iterateUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterate(s,o);var u=!0,l=0;return t.__iterate(function(c,f,p){if(!(u&&(u=e.call(r,c,f,p))))return l++,s(c,n?f:l-1,a)}),l},i.__iteratorUncached=function(s,o){var a=this;if(o)return this.cacheResult().__iterator(s,o);var u=t.__iterator(gs,o),l=!0,c=0;return new Et(function(){var f,p,m;do{if(f=u.next(),f.done)return n||s===no?f:s===Av?Vt(s,c++,void 0,f):Vt(s,c++,f.value[1],f);var y=f.value;p=y[0],m=y[1],l&&(l=e.call(r,m,p,a))}while(l);return s===gs?f:Vt(s,p,m,f)})},i}function hde(t,e){var r=Ot(t),n=[t].concat(e).map(function(o){return En(o)?r&&(o=ws(o)):o=r?PN(o):U9(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&Ot(i)||on(t)&&on(i))return i}var s=new ph(n);return r?s=s.toKeyedSeq():on(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(o,a){if(o!==void 0){var u=a.size;if(u!==void 0)return o+u}},0),s}function X9(t,e,r){var n=ma(t);return n.__iterateUncached=function(i,s){if(s)return this.cacheResult().__iterate(i,s);var o=0,a=!1;function u(l,c){l.__iterate(function(f,p){return(!e||c<e)&&En(f)?u(f,c+1):(o++,i(f,r?p:o-1,n)===!1&&(a=!0)),!a},s)}return u(t,0),o},n.__iteratorUncached=function(i,s){if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(i,s),a=[],u=0;return new Et(function(){for(;o;){var l=o.next();if(l.done!==!1){o=a.pop();continue}var c=l.value;if(i===gs&&(c=c[1]),(!e||a.length<e)&&En(c))a.push(o),o=c.__iterator(i,s);else return r?l:Vt(i,u++,c,l)}return Gn()})},n}function dde(t,e,r){var n=DN(t);return t.toSeq().map(function(i,s){return n(e.call(r,i,s,t))}).flatten(!0)}function fde(t,e){var r=ma(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var s=this,o=0;return t.__iterate(function(a){return(!o||n(e,o++,s)!==!1)&&n(a,o++,s)!==!1},i),o},r.__iteratorUncached=function(n,i){var s=t.__iterator(no,i),o=0,a;return new Et(function(){return(!a||o%2)&&(a=s.next(),a.done)?a:o%2?Vt(n,o++,e):Vt(n,o++,a.value,a)})},r}function Qf(t,e,r){e||(e=Y9);var n=Ot(t),i=0,s=t.toSeq().map(function(o,a){return[a,o,i++,r?r(o,a,t):o]}).valueSeq().toArray();return s.sort(function(o,a){return e(o[3],a[3])||o[2]-a[2]}).forEach(n?function(o,a){s[a].length=2}:function(o,a){s[a]=o[1]}),n?Ul(s):on(t)?Es(s):Fp(s)}function T0(t,e,r){if(e||(e=Y9),r){var n=t.toSeq().map(function(i,s){return[i,r(i,s,t)]}).reduce(function(i,s){return J4(e,i[1],s[1])?s:i});return n&&n[0]}return t.reduce(function(i,s){return J4(e,i,s)?s:i})}function J4(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function C0(t,e,r,n){var i=ma(t),s=new ph(r).map(function(o){return o.size});return i.size=n?s.max():s.min(),i.__iterate=function(o,a){for(var u=this.__iterator(no,a),l,c=0;!(l=u.next()).done&&o(l.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(o,a){var u=r.map(function(f){return f=Ht(f),w2(a?f.reverse():f)}),l=0,c=!1;return new Et(function(){var f;return c||(f=u.map(function(p){return p.next()}),c=n?f.every(function(p){return p.done}):f.some(function(p){return p.done})),c?Gn():Vt(o,l++,e.apply(null,f.map(function(p){return p.value})))})},i}function It(t,e){return t===e?t:Sv(t)?e:t.constructor(e)}function e$(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function DN(t){return Ot(t)?ws:on(t)?Bh:Lp}function ma(t){return Object.create((Ot(t)?Ul:on(t)?Es:Fp).prototype)}function BN(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):xn.prototype.cacheResult.call(this)}function Y9(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Zo(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function LN(t,e){if(!t)throw new Error(e)}function Ti(t){LN(t!==1/0,"Cannot perform this action with an infinite size.")}function Q9(t){if(IN(t)&&typeof t!="string")return t;if(Pi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var pde=Object.prototype.toString;function HE(t){if(!t||typeof t!="object"||pde.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function xl(t){return typeof t=="object"&&($i(t)||Array.isArray(t)||HE(t))}function Ag(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function $N(t,e){return $i(t)?t.has(e):xl(t)&&Up.call(t,e)}function VE(t,e,r){return $i(t)?t.get(e,r):$N(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Q1(t){if(Array.isArray(t))return Zo(t);var e={};for(var r in t)Up.call(t,r)&&(e[r]=t[r]);return e}function UN(t,e){if(!xl(t))throw new TypeError("Cannot update non-data-structure value: "+t);if($i(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Up.call(t,e))return t;var r=Q1(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function FN(t,e,r){if(!xl(t))throw new TypeError("Cannot update non-data-structure value: "+t);if($i(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Up.call(t,e)&&r===t[e])return t;var n=Q1(t);return n[e]=r,n}function Fl(t,e,r,n){n||(n=r,r=void 0);var i=K9($i(t),t,Q9(e),0,r,n);return i===mt?r:i}function K9(t,e,r,n,i,s){var o=e===mt;if(n===r.length){var a=o?i:e,u=s(a);return u===a?e:u}if(!o&&!xl(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(Ag)+"]: "+e);var l=r[n],c=o?mt:VE(e,l,mt),f=K9(c===mt?t:$i(c),c,r,n+1,i,s);return f===c?e:f===mt?UN(e,l):FN(o?t?zs():{}:e,l,f)}function jN(t,e,r){return Fl(t,e,mt,function(){return r})}function zN(t,e){return jN(this,t,e)}function HN(t,e){return Fl(t,e,function(){return mt})}function VN(t){return HN(this,t)}function GE(t,e,r,n){return Fl(t,[e],r,n)}function GN(t,e,r){return arguments.length===1?t(this):GE(this,t,e,r)}function WN(t,e,r){return Fl(this,t,e,r)}function J9(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return tG(this,t)}function eG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return tG(this,e,t)}function tG(t,e,r){for(var n=[],i=0;i<e.length;i++){var s=ws(e[i]);s.size!==0&&n.push(s)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var a=r?function(l,c){GE(o,c,mt,function(f){return f===mt?l:r(f,l,c)})}:function(l,c){o.set(c,l)},u=0;u<n.length;u++)n[u].forEach(a)})}function rG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Iv(t,e)}function nG(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Iv(e,r,t)}function iG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Cv(t,e)}function sG(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Cv(e,r,t)}function Cv(t,e,r){return Iv(t,e,mde(r))}function Iv(t,e,r){if(!xl(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if($i(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,s=n?Bh:ws,o=n?function(u){i===t&&(i=Q1(i)),i.push(u)}:function(u,l){var c=Up.call(i,l),f=c&&r?r(i[l],u,l):u;(!c||f!==i[l])&&(i===t&&(i=Q1(i)),i[l]=f)},a=0;a<e.length;a++)s(e[a]).forEach(o);return i}function mde(t){function e(r,n,i){return xl(r)&&xl(n)&&yde(r,n)?Iv(r,[n],e):t?t(r,n,i):n}return e}function yde(t,e){var r=xn(t),n=xn(e);return on(r)===on(n)&&Ot(r)===Ot(n)}function oG(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Cv(this,t)}function aG(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Cv(this,e,t)}function qN(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Fl(this,t,zs(),function(n){return Iv(n,e)})}function ZN(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Fl(this,t,zs(),function(n){return Cv(n,e)})}function Ov(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Rv(){return this.__ownerID?this:this.__ensureOwner(new TN)}function Pv(){return this.__ensureOwner()}function XN(){return this.__altered}var jl=function(t){function e(r){return r==null?zs():Tv(r)&&!Pi(r)?r:zs().withMutations(function(n){var i=t(r);Ti(i.size),i.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return zs().withMutations(function(s){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);s.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return n$(this,n,i)},e.prototype.remove=function(n){return n$(this,n,mt)},e.prototype.deleteAll=function(n){var i=Ht(n);return i.size===0?this:this.withMutations(function(s){i.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):zs()},e.prototype.sort=function(n){return io(Qf(this,n))},e.prototype.sortBy=function(n,i){return io(Qf(this,i,n))},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(o){o.forEach(function(a,u){o.set(u,n.call(i,a,u,s))})})},e.prototype.__iterator=function(n,i){return new gde(this,n,i)},e.prototype.__iterate=function(n,i){var s=this,o=0;return this._root&&this._root.iterate(function(a){return o++,n(a[1],a[0],s)},i),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?YN(this.size,this._root,n,this.__hash):this.size===0?zs():(this.__ownerID=n,this.__altered=!1,this)},e}(ws);jl.isMap=Tv;var Wt=jl.prototype;Wt[F9]=!0;Wt[wv]=Wt.remove;Wt.removeAll=Wt.deleteAll;Wt.setIn=zN;Wt.removeIn=Wt.deleteIn=VN;Wt.update=GN;Wt.updateIn=WN;Wt.merge=Wt.concat=J9;Wt.mergeWith=eG;Wt.mergeDeep=oG;Wt.mergeDeepWith=aG;Wt.mergeIn=qN;Wt.mergeDeepIn=ZN;Wt.withMutations=Ov;Wt.wasAltered=XN;Wt.asImmutable=Pv;Wt["@@transducer/init"]=Wt.asMutable=Rv;Wt["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Wt["@@transducer/result"]=function(t){return t.asImmutable()};var Tg=function(e,r){this.ownerID=e,this.entries=r};Tg.prototype.get=function(e,r,n,i){for(var s=this.entries,o=0,a=s.length;o<a;o++)if(Rr(n,s[o][0]))return s[o][1];return i};Tg.prototype.update=function(e,r,n,i,s,o,a){for(var u=s===mt,l=this.entries,c=0,f=l.length;c<f&&!Rr(i,l[c][0]);c++);var p=c<f;if(p?l[c][1]===s:u)return this;if(as(a),(u||!p)&&as(o),!(u&&l.length===1)){if(!p&&!u&&l.length>=xde)return vde(e,l,i,s);var m=e&&e===this.ownerID,y=m?l:Zo(l);return p?u?c===f-1?y.pop():y[c]=y.pop():y[c]=[i,s]:y.push([i,s]),m?(this.entries=y,this):new Tg(e,y)}};var Kf=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};Kf.prototype.get=function(e,r,n,i){r===void 0&&(r=$n(n));var s=1<<((e===0?r:r>>>e)&Fn),o=this.bitmap;return o&s?this.nodes[uG(o&s-1)].get(e+jt,r,n,i):i};Kf.prototype.update=function(e,r,n,i,s,o,a){n===void 0&&(n=$n(i));var u=(r===0?n:n>>>r)&Fn,l=1<<u,c=this.bitmap,f=(c&l)!==0;if(!f&&s===mt)return this;var p=uG(c&l-1),m=this.nodes,y=f?m[p]:void 0,g=QN(y,e,r+jt,n,i,s,o,a);if(g===y)return this;if(!f&&g&&m.length>=Sde)return bde(e,m,c,u,g);if(f&&!g&&m.length===2&&i$(m[p^1]))return m[p^1];if(f&&g&&m.length===1&&i$(g))return g;var w=e&&e===this.ownerID,b=f?g?c:c^l:c|l,_=f?g?lG(m,p,g,w):Ede(m,p,w):wde(m,p,g,w);return w?(this.bitmap=b,this.nodes=_,this):new Kf(e,b,_)};var Cg=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};Cg.prototype.get=function(e,r,n,i){r===void 0&&(r=$n(n));var s=(e===0?r:r>>>e)&Fn,o=this.nodes[s];return o?o.get(e+jt,r,n,i):i};Cg.prototype.update=function(e,r,n,i,s,o,a){n===void 0&&(n=$n(i));var u=(r===0?n:n>>>r)&Fn,l=s===mt,c=this.nodes,f=c[u];if(l&&!f)return this;var p=QN(f,e,r+jt,n,i,s,o,a);if(p===f)return this;var m=this.count;if(!f)m++;else if(!p&&(m--,m<Ade))return _de(e,c,m,u);var y=e&&e===this.ownerID,g=lG(c,u,p,y);return y?(this.count=m,this.nodes=g,this):new Cg(e,m,g)};var Jf=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Jf.prototype.get=function(e,r,n,i){for(var s=this.entries,o=0,a=s.length;o<a;o++)if(Rr(n,s[o][0]))return s[o][1];return i};Jf.prototype.update=function(e,r,n,i,s,o,a){n===void 0&&(n=$n(i));var u=s===mt;if(n!==this.keyHash)return u?this:(as(a),as(o),KN(this,e,r,n,[i,s]));for(var l=this.entries,c=0,f=l.length;c<f&&!Rr(i,l[c][0]);c++);var p=c<f;if(p?l[c][1]===s:u)return this;if(as(a),(u||!p)&&as(o),u&&f===2)return new eu(e,this.keyHash,l[c^1]);var m=e&&e===this.ownerID,y=m?l:Zo(l);return p?u?c===f-1?y.pop():y[c]=y.pop():y[c]=[i,s]:y.push([i,s]),m?(this.entries=y,this):new Jf(e,this.keyHash,y)};var eu=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};eu.prototype.get=function(e,r,n,i){return Rr(n,this.entry[0])?this.entry[1]:i};eu.prototype.update=function(e,r,n,i,s,o,a){var u=s===mt,l=Rr(i,this.entry[0]);if(l?s===this.entry[1]:u)return this;if(as(a),u){as(o);return}return l?e&&e===this.ownerID?(this.entry[1]=s,this):new eu(e,this.keyHash,[i,s]):(as(o),KN(this,e,r,$n(i),[i,s]))};Tg.prototype.iterate=Jf.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};Kf.prototype.iterate=Cg.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var s=r[e?i-n:n];if(s&&s.iterate(t,e)===!1)return!1}};eu.prototype.iterate=function(t,e){return t(this.entry)};var gde=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&t$(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var s=i.node,o=i.index++,a=void 0;if(s.entry){if(o===0)return IT(n,s.entry)}else if(s.entries){if(a=s.entries.length-1,o<=a)return IT(n,s.entries[this._reverse?a-o:o])}else if(a=s.nodes.length-1,o<=a){var u=s.nodes[this._reverse?a-o:o];if(u){if(u.entry)return IT(n,u.entry);i=this._stack=t$(u,i)}continue}i=this._stack=this._stack.__prev}return Gn()},e}(Et);function IT(t,e){return Vt(t,e[0],e[1])}function t$(t,e){return{node:t,index:0,__prev:e}}function YN(t,e,r,n){var i=Object.create(Wt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var r$;function zs(){return r$||(r$=YN(0))}function n$(t,e,r){var n,i;if(t._root){var s=_2(),o=_2();if(n=QN(t._root,t.__ownerID,0,void 0,e,r,s,o),!o.value)return t;i=t.size+(s.value?r===mt?-1:1:0)}else{if(r===mt)return t;i=1,n=new Tg(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?YN(i,n):zs()}function QN(t,e,r,n,i,s,o,a){return t?t.update(e,r,n,i,s,o,a):s===mt?t:(as(a),as(o),new eu(e,n,[i,s]))}function i$(t){return t.constructor===eu||t.constructor===Jf}function KN(t,e,r,n,i){if(t.keyHash===n)return new Jf(e,n,[t.entry,i]);var s=(r===0?t.keyHash:t.keyHash>>>r)&Fn,o=(r===0?n:n>>>r)&Fn,a,u=s===o?[KN(t,e,r+jt,n,i)]:(a=new eu(e,n,i),s<o?[t,a]:[a,t]);return new Kf(e,1<<s|1<<o,u)}function vde(t,e,r,n){t||(t=new TN);for(var i=new eu(t,$n(r),[r,n]),s=0;s<e.length;s++){var o=e[s];i=i.update(t,0,void 0,o[0],o[1])}return i}function _de(t,e,r,n){for(var i=0,s=0,o=new Array(r),a=0,u=1,l=e.length;a<l;a++,u<<=1){var c=e[a];c!==void 0&&a!==n&&(i|=u,o[s++]=c)}return new Kf(t,i,o)}function bde(t,e,r,n,i){for(var s=0,o=new Array(os),a=0;r!==0;a++,r>>>=1)o[a]=r&1?e[s++]:void 0;return o[n]=i,new Cg(t,s+1,o)}function uG(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function lG(t,e,r,n){var i=n?t:Zo(t);return i[e]=r,i}function wde(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var s=new Array(i),o=0,a=0;a<i;a++)a===e?(s[a]=r,o=-1):s[a]=t[a+o];return s}function Ede(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),s=0,o=0;o<n;o++)o===e&&(s=1),i[o]=t[o+s];return i}var xde=os/4,Sde=os/2,Ade=os/4,cG="@@__IMMUTABLE_LIST__@@";function WE(t){return!!(t&&t[cG])}var jp=function(t){function e(r){var n=Db();if(r==null)return n;if(WE(r))return r;var i=t(r),s=i.size;return s===0?n:(Ti(s),s>0&&s<os?Ig(0,s,jt,null,new sl(i.toArray())):n.withMutations(function(o){o.setSize(s),i.forEach(function(a,u){return o.set(u,a)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=El(this,n),n>=0&&n<this.size){n+=this._origin;var s=hG(this,n);return s&&s.array[n&Fn]}return i},e.prototype.set=function(n,i){return Tde(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=jt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Db()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(s){Ru(s,0,i+n.length);for(var o=0;o<n.length;o++)s.set(i+o,n[o])})},e.prototype.pop=function(){return Ru(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){Ru(i,-n.length);for(var s=0;s<n.length;s++)i.set(s,n[s])})},e.prototype.shift=function(){return Ru(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++){var o=n[s],a=t(typeof o!="string"&&CN(o)?o:[o]);a.size!==0&&i.push(a)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(u){i.forEach(function(l){return l.forEach(function(c){return u.push(c)})})})},e.prototype.setSize=function(n){return Ru(this,0,n)},e.prototype.map=function(n,i){var s=this;return this.withMutations(function(o){for(var a=0;a<s.size;a++)o.set(a,n.call(i,o.get(a),a,s))})},e.prototype.slice=function(n,i){var s=this.size;return Ev(n,i,s)?this:Ru(this,Dp(n,s),xv(i,s))},e.prototype.__iterator=function(n,i){var s=i?this.size:0,o=s$(this,i);return new Et(function(){var a=o();return a===Ty?Gn():Vt(n,i?--s:s++,a)})},e.prototype.__iterate=function(n,i){for(var s=i?this.size:0,o=s$(this,i),a;(a=o())!==Ty&&n(a,i?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ig(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?Db():(this.__ownerID=n,this.__altered=!1,this)},e}(Bh);jp.isList=WE;var Er=jp.prototype;Er[cG]=!0;Er[wv]=Er.remove;Er.merge=Er.concat;Er.setIn=zN;Er.deleteIn=Er.removeIn=VN;Er.update=GN;Er.updateIn=WN;Er.mergeIn=qN;Er.mergeDeepIn=ZN;Er.withMutations=Ov;Er.wasAltered=XN;Er.asImmutable=Pv;Er["@@transducer/init"]=Er.asMutable=Rv;Er["@@transducer/step"]=function(t,e){return t.push(e)};Er["@@transducer/result"]=function(t){return t.asImmutable()};var sl=function(e,r){this.array=e,this.ownerID=r};sl.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&Fn;if(i>=this.array.length)return new sl([],e);var s=i===0,o;if(r>0){var a=this.array[i];if(o=a&&a.removeBefore(e,r-jt,n),o===a&&s)return this}if(s&&!o)return this;var u=ep(this,e);if(!s)for(var l=0;l<i;l++)u.array[l]=void 0;return o&&(u.array[i]=o),u};sl.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&Fn;if(i>=this.array.length)return this;var s;if(r>0){var o=this.array[i];if(s=o&&o.removeAfter(e,r-jt,n),s===o&&i===this.array.length-1)return this}var a=ep(this,e);return a.array.splice(i+1),s&&(a.array[i]=s),a};var Ty={};function s$(t,e){var r=t._origin,n=t._capacity,i=Og(n),s=t._tail;return o(t._root,t._level,0);function o(l,c,f){return c===0?a(l,f):u(l,c,f)}function a(l,c){var f=c===i?s&&s.array:l&&l.array,p=c>r?0:r-c,m=n-c;return m>os&&(m=os),function(){if(p===m)return Ty;var y=e?--m:p++;return f&&f[y]}}function u(l,c,f){var p,m=l&&l.array,y=f>r?0:r-f>>c,g=(n-f>>c)+1;return g>os&&(g=os),function(){for(;;){if(p){var w=p();if(w!==Ty)return w;p=null}if(y===g)return Ty;var b=e?--g:y++;p=o(m&&m[b],c-jt,f+(b<<c))}}}}function Ig(t,e,r,n,i,s,o){var a=Object.create(Er);return a.size=e-t,a._origin=t,a._capacity=e,a._level=r,a._root=n,a._tail=i,a.__ownerID=s,a.__hash=o,a.__altered=!1,a}var o$;function Db(){return o$||(o$=Ig(0,0,jt))}function Tde(t,e,r){if(e=El(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?Ru(o,e).set(0,r):Ru(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,s=_2();return e>=Og(t._capacity)?n=A2(n,t.__ownerID,0,e,r,s):i=A2(i,t.__ownerID,t._level,e,r,s),s.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Ig(t._origin,t._capacity,t._level,i,n):t}function A2(t,e,r,n,i,s){var o=n>>>r&Fn,a=t&&o<t.array.length;if(!a&&i===void 0)return t;var u;if(r>0){var l=t&&t.array[o],c=A2(l,e,r-jt,n,i,s);return c===l?t:(u=ep(t,e),u.array[o]=c,u)}return a&&t.array[o]===i?t:(s&&as(s),u=ep(t,e),i===void 0&&o===u.array.length-1?u.array.pop():u.array[o]=i,u)}function ep(t,e){return e&&t&&e===t.ownerID?t:new sl(t?t.array.slice():[],e)}function hG(t,e){if(e>=Og(t._capacity))return t._tail;if(e<1<<t._level+jt){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Fn],n-=jt;return r}}function Ru(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new TN,i=t._origin,s=t._capacity,o=i+e,a=r===void 0?s:r<0?s+r:i+r;if(o===i&&a===s)return t;if(o>=a)return t.clear();for(var u=t._level,l=t._root,c=0;o+c<0;)l=new sl(l&&l.array.length?[void 0,l]:[],n),u+=jt,c+=1<<u;c&&(o+=c,i+=c,a+=c,s+=c);for(var f=Og(s),p=Og(a);p>=1<<u+jt;)l=new sl(l&&l.array.length?[l]:[],n),u+=jt;var m=t._tail,y=p<f?hG(t,a-1):p>f?new sl([],n):m;if(m&&p>f&&o<s&&m.array.length){l=ep(l,n);for(var g=l,w=u;w>jt;w-=jt){var b=f>>>w&Fn;g=g.array[b]=ep(g.array[b],n)}g.array[f>>>jt&Fn]=m}if(a<s&&(y=y&&y.removeAfter(n,0,a)),o>=p)o-=p,a-=p,u=jt,l=null,y=y&&y.removeBefore(n,0,o);else if(o>i||p<f){for(c=0;l;){var _=o>>>u&Fn;if(_!==p>>>u&Fn)break;_&&(c+=(1<<u)*_),u-=jt,l=l.array[_]}l&&o>i&&(l=l.removeBefore(n,u,o-c)),l&&p<f&&(l=l.removeAfter(n,u,p-c)),c&&(o-=c,a-=c)}return t.__ownerID?(t.size=a-o,t._origin=o,t._capacity=a,t._level=u,t._root=l,t._tail=y,t.__hash=void 0,t.__altered=!0,t):Ig(o,a,u,l,y)}function Og(t){return t<os?0:t-1>>>jt<<jt}var io=function(t){function e(r){return r==null?Km():FE(r)?r:Km().withMutations(function(n){var i=ws(r);Ti(i.size),i.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Km()},e.prototype.set=function(n,i){return u$(this,n,i)},e.prototype.remove=function(n){return u$(this,n,mt)},e.prototype.__iterate=function(n,i){var s=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],s)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?JN(i,s,n,this.__hash):this.size===0?Km():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=s,this)},e}(jl);io.isOrderedMap=FE;io.prototype[$p]=!0;io.prototype[wv]=io.prototype.remove;function JN(t,e,r,n){var i=Object.create(io.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var a$;function Km(){return a$||(a$=JN(zs(),Db()))}function u$(t,e,r){var n=t._map,i=t._list,s=n.get(e),o=s!==void 0,a,u;if(r===mt){if(!o)return t;i.size>=os&&i.size>=n.size*2?(u=i.filter(function(l,c){return l!==void 0&&s!==c}),a=u.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),t.__ownerID&&(a.__ownerID=u.__ownerID=t.__ownerID)):(a=n.remove(e),u=s===i.size-1?i.pop():i.set(s,void 0))}else if(o){if(r===i.get(s)[1])return t;a=n,u=i.set(s,[e,r])}else a=n.set(e,i.size),u=i.set(i.size,[e,r]);return t.__ownerID?(t.size=a.size,t._map=a,t._list=u,t.__hash=void 0,t.__altered=!0,t):JN(a,u)}var dG="@@__IMMUTABLE_STACK__@@";function Rg(t){return!!(t&&t[dG])}var kv=function(t){function e(r){return r==null?I0():Rg(r)?r:I0().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var s=this._head;for(n=El(this,n);s&&n--;)s=s.next;return s?s.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:n[o],next:s};return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Jm(i,s)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Rg(n))return n;Ti(n.size);var i=this.size,s=this._head;return n.__iterate(function(o){i++,s={value:o,next:s}},!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):Jm(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):I0()},e.prototype.slice=function(n,i){if(Ev(n,i,this.size))return this;var s=Dp(n,this.size),o=xv(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,i);for(var a=this.size-s,u=this._head;s--;)u=u.next;return this.__ownerID?(this.size=a,this._head=u,this.__hash=void 0,this.__altered=!0,this):Jm(a,u)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Jm(this.size,this._head,n,this.__hash):this.size===0?I0():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var s=this;if(i)return new ph(this.toArray()).__iterate(function(u,l){return n(u,l,s)},i);for(var o=0,a=this._head;a&&n(a.value,o++,this)!==!1;)a=a.next;return o},e.prototype.__iterator=function(n,i){if(i)return new ph(this.toArray()).__iterator(n,i);var s=0,o=this._head;return new Et(function(){if(o){var a=o.value;return o=o.next,Vt(n,s++,a)}return Gn()})},e}(Bh);kv.isStack=Rg;var Wn=kv.prototype;Wn[dG]=!0;Wn.shift=Wn.pop;Wn.unshift=Wn.push;Wn.unshiftAll=Wn.pushAll;Wn.withMutations=Ov;Wn.wasAltered=XN;Wn.asImmutable=Pv;Wn["@@transducer/init"]=Wn.asMutable=Rv;Wn["@@transducer/step"]=function(t,e){return t.unshift(e)};Wn["@@transducer/result"]=function(t){return t.asImmutable()};function Jm(t,e,r,n){var i=Object.create(Wn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var l$;function I0(){return l$||(l$=Jm(0))}var fG="@@__IMMUTABLE_SET__@@";function Nv(t){return!!(t&&t[fG])}function qE(t){return Nv(t)&&Pi(t)}function eM(t,e){if(t===e)return!0;if(!En(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||Ot(t)!==Ot(e)||on(t)!==on(e)||Pi(t)!==Pi(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!Bp(t);if(Pi(t)){var n=t.entries();return e.every(function(u,l){var c=n.next().value;return c&&Rr(c[1],u)&&(r||Rr(c[0],l))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var s=t;t=e,e=s}var o=!0,a=e.__iterate(function(u,l){if(r?!t.has(u):i?!Rr(u,t.get(l,mt)):!Rr(t.get(l,mt),u))return o=!1,!1});return o&&t.size===a}function Lh(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function K1(t){if(!t||typeof t!="object")return t;if(!En(t)){if(!xl(t))return t;t=xn(t)}if(Ot(t)){var e={};return t.__iterate(function(n,i){e[i]=K1(n)}),e}var r=[];return t.__iterate(function(n){r.push(K1(n))}),r}var zp=function(t){function e(r){return r==null?ey():Nv(r)&&!Pi(r)?r:ey().withMutations(function(n){var i=t(r);Ti(i.size),i.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ws(n).keySeq())},e.intersect=function(n){return n=Ht(n).toArray(),n.length?an.intersect.apply(e(n.pop()),n):ey()},e.union=function(n){return n=Ht(n).toArray(),n.length?an.union.apply(e(n.pop()),n):ey()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return O0(this,this._map.set(n,n))},e.prototype.remove=function(n){return O0(this,this._map.remove(n))},e.prototype.clear=function(){return O0(this,this._map.clear())},e.prototype.map=function(n,i){var s=this,o=!1,a=O0(this,this._map.mapEntries(function(u){var l=u[1],c=n.call(i,l,l,s);return c!==l&&(o=!0),[c,c]},i));return o?a:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var o=0;o<n.length;o++)typeof n[o]=="string"?s.add(n[o]):t(n[o]).forEach(function(a){return s.add(a)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.every(function(a){return a.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(a){o.remove(a)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.some(function(a){return a.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(a){o.remove(a)})})},e.prototype.sort=function(n){return mh(Qf(this,n))},e.prototype.sortBy=function(n,i){return mh(Qf(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var s=this;return this._map.__iterate(function(o){return n(o,o,s)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Lp);zp.isSet=Nv;var an=zp.prototype;an[fG]=!0;an[wv]=an.remove;an.merge=an.concat=an.union;an.withMutations=Ov;an.asImmutable=Pv;an["@@transducer/init"]=an.asMutable=Rv;an["@@transducer/step"]=function(t,e){return t.add(e)};an["@@transducer/result"]=function(t){return t.asImmutable()};an.__empty=ey;an.__make=pG;function O0(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function pG(t,e){var r=Object.create(an);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var c$;function ey(){return c$||(c$=pG(zs()))}var tM=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(LN(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(OT)return OT;OT=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+El(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Ev(n,i,this.size)?this:(n=Dp(n,this.size),i=xv(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var s=i/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var s=this.size,o=this._step,a=i?this._start+(s-1)*o:this._start,u=0;u!==s&&n(a,i?s-++u:u++,this)!==!1;)a+=i?-o:o;return u},e.prototype.__iterator=function(n,i){var s=this.size,o=this._step,a=i?this._start+(s-1)*o:this._start,u=0;return new Et(function(){if(u===s)return Gn();var l=a;return a+=i?-o:o,Vt(n,i?s-++u:u++,l)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:eM(this,n)},e}(Es),OT;function ZE(t,e,r){for(var n=Q9(e),i=0;i!==n.length;)if(t=VE(t,n[i++],mt),t===mt)return r;return t}function mG(t,e){return ZE(this,t,e)}function rM(t,e){return ZE(t,e,mt)!==mt}function Cde(t){return rM(this,t)}function yG(){Ti(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Ht.isIterable=En;Ht.isKeyed=Ot;Ht.isIndexed=on;Ht.isAssociative=Bp;Ht.isOrdered=Pi;Ht.Iterator=Et;Lh(Ht,{toArray:function(){Ti(this.size);var e=new Array(this.size||0),r=Ot(this),n=0;return this.__iterate(function(i,s){e[n++]=r?[s,i]:i}),e},toIndexedSeq:function(){return new z9(this)},toJS:function(){return K1(this)},toKeyedSeq:function(){return new zE(this,!0)},toMap:function(){return jl(this.toKeyedSeq())},toObject:yG,toOrderedMap:function(){return io(this.toKeyedSeq())},toOrderedSet:function(){return mh(Ot(this)?this.valueSeq():this)},toSet:function(){return zp(Ot(this)?this.valueSeq():this)},toSetSeq:function(){return new H9(this)},toSeq:function(){return on(this)?this.toIndexedSeq():Ot(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return kv(Ot(this)?this.valueSeq():this)},toList:function(){return jp(Ot(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return It(this,hde(this,e))},includes:function(e){return this.some(function(r){return Rr(r,e)})},entries:function(){return this.__iterator(gs)},every:function(e,r){Ti(this.size);var n=!0;return this.__iterate(function(i,s,o){if(!e.call(r,i,s,o))return n=!1,!1}),n},filter:function(e,r){return It(this,q9(this,e,r,!0))},partition:function(e,r){return lde(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Ti(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Ti(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Av)},map:function(e,r){return It(this,W9(this,e,r))},reduce:function(e,r,n){return h$(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return h$(this,e,r,n,arguments.length<2,!0)},reverse:function(){return It(this,NN(this,!0))},slice:function(e,r){return It(this,MN(this,e,r,!0))},some:function(e,r){Ti(this.size);var n=!1;return this.__iterate(function(i,s,o){if(e.call(r,i,s,o))return n=!0,!1}),n},sort:function(e){return It(this,Qf(this,e))},values:function(){return this.__iterator(no)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Yf(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return ade(this,e,r)},equals:function(e){return eM(this,e)},entrySeq:function(){var e=this;if(e._cache)return new ph(e._cache);var r=e.toSeq().map(Ode).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(RT(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(s,o,a){if(e.call(r,s,o,a))return i=[o,s],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(R9,null,e)},flatMap:function(e,r){return It(this,dde(this,e,r))},flatten:function(e){return It(this,X9(this,e,!0))},fromEntrySeq:function(){return new V9(this)},get:function(e,r){return this.find(function(n,i){return Rr(i,e)},void 0,r)},getIn:mG,groupBy:function(e,r){return ude(this,e,r)},has:function(e){return this.get(e,mt)!==mt},hasIn:Cde,isSubset:function(e){return e=typeof e.includes=="function"?e:Ht(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Ht(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return Rr(r,e)})},keySeq:function(){return this.toSeq().map(Ide).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return T0(this,e)},maxBy:function(e,r){return T0(this,r,e)},min:function(e){return T0(this,e?d$(e):p$)},minBy:function(e,r){return T0(this,r?d$(r):p$,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return It(this,Z9(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(RT(e),r)},sortBy:function(e,r){return It(this,Qf(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return It(this,cde(this,e,r))},takeUntil:function(e,r){return this.takeWhile(RT(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Rde(this))}});var Sn=Ht.prototype;Sn[N9]=!0;Sn[$E]=Sn.values;Sn.toJSON=Sn.toArray;Sn.__toStringMapper=Ag;Sn.inspect=Sn.toSource=function(){return this.toString()};Sn.chain=Sn.flatMap;Sn.contains=Sn.includes;Lh(ws,{flip:function(){return It(this,G9(this))},mapEntries:function(e,r){var n=this,i=0;return It(this,this.toSeq().map(function(s,o){return e.call(r,[o,s],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return It(this,this.toSeq().flip().map(function(i,s){return e.call(r,i,s,n)}).flip())}});var Mv=ws.prototype;Mv[M9]=!0;Mv[$E]=Sn.entries;Mv.toJSON=yG;Mv.__toStringMapper=function(t,e){return Ag(e)+": "+Ag(t)};Lh(Bh,{toKeyedSeq:function(){return new zE(this,!1)},filter:function(e,r){return It(this,q9(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return It(this,NN(this,!1))},slice:function(e,r){return It(this,MN(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=Dp(e,e<0?this.count():this.size);var i=this.slice(0,e);return It(this,n===1?i:i.concat(Zo(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return It(this,X9(this,e,!1))},get:function(e,r){return e=El(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=El(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return It(this,fde(this,e))},interleave:function(){var e=[this].concat(Zo(arguments)),r=C0(this.toSeq(),Es.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),It(this,n)},keySeq:function(){return tM(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return It(this,Z9(this,e,r,!1))},zip:function(){var e=[this].concat(Zo(arguments));return It(this,C0(this,f$,e))},zipAll:function(){var e=[this].concat(Zo(arguments));return It(this,C0(this,f$,e,!0))},zipWith:function(e){var r=Zo(arguments);return r[0]=this,It(this,C0(this,e,r))}});var Hp=Bh.prototype;Hp[D9]=!0;Hp[$p]=!0;Lh(Lp,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var tp=Lp.prototype;tp.has=Sn.includes;tp.contains=tp.includes;tp.keys=tp.values;Lh(Ul,Mv);Lh(Es,Hp);Lh(Fp,tp);function h$(t,e,r,n,i,s){return Ti(t.size),t.__iterate(function(o,a,u){i?(i=!1,r=o):r=e.call(n,r,o,a,u)},s),r}function Ide(t,e){return e}function Ode(t,e){return[e,t]}function RT(t){return function(){return!t.apply(this,arguments)}}function d$(t){return function(){return-t.apply(this,arguments)}}function f$(){return Zo(arguments)}function p$(t,e){return t<e?1:t>e?-1:0}function Rde(t){if(t.size===1/0)return 0;var e=Pi(t),r=Ot(t),n=e?1:0,i=t.__iterate(r?e?function(s,o){n=31*n+m$($n(s),$n(o))|0}:function(s,o){n=n+m$($n(s),$n(o))|0}:e?function(s){n=31*n+$n(s)|0}:function(s){n=n+$n(s)|0});return Pde(i,n)}function Pde(t,e){return e=Mm(e,3432918353),e=Mm(e<<15|e>>>-15,461845907),e=Mm(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Mm(e^e>>>16,2246822507),e=Mm(e^e>>>13,3266489909),e=jE(e^e>>>16),e}function m$(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var mh=function(t){function e(r){return r==null?T2():qE(r)?r:T2().withMutations(function(n){var i=Lp(r);Ti(i.size),i.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(ws(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(zp);mh.isOrderedSet=qE;var $h=mh.prototype;$h[$p]=!0;$h.zip=Hp.zip;$h.zipWith=Hp.zipWith;$h.zipAll=Hp.zipAll;$h.__empty=T2;$h.__make=gG;function gG(t,e){var r=Object.create($h);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var y$;function T2(){return y$||(y$=gG(Km()))}var vG={LeftThenRight:-1,RightThenLeft:1};function kde(t){if($l(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if($i(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Sr=function(e,r){var n;kde(e);var i=function(a){var u=this;if(a instanceof i)return a;if(!(this instanceof i))return new i(a);if(!n){n=!0;var l=Object.keys(e),c=s._indices={};s._name=r,s._keys=l,s._defaultValues=e;for(var f=0;f<l.length;f++){var p=l[f];c[p]=f,s[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+iM(this)+' with property "'+p+'" since that property name is part of the Record API.'):Nde(s,p)}}return this.__ownerID=void 0,this._values=jp().withMutations(function(m){m.setSize(u._keys.length),ws(a).forEach(function(y,g){m.set(u._indices[g],y===u._defaultValues[g]?void 0:y)})}),this},s=i.prototype=Object.create(Dt);return s.constructor=i,r&&(i.displayName=r),i};Sr.prototype.toString=function(){for(var e=iM(this)+" { ",r=this._keys,n,i=0,s=r.length;i!==s;i++)n=r[i],e+=(i?", ":"")+n+": "+Ag(this.get(n));return e+" }"};Sr.prototype.equals=function(e){return this===e||$l(e)&&rp(this).equals(rp(e))};Sr.prototype.hashCode=function(){return rp(this).hashCode()};Sr.prototype.has=function(e){return this._indices.hasOwnProperty(e)};Sr.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};Sr.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return nM(this,n)}return this};Sr.prototype.remove=function(e){return this.set(e)};Sr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:nM(this,e)};Sr.prototype.wasAltered=function(){return this._values.wasAltered()};Sr.prototype.toSeq=function(){return rp(this)};Sr.prototype.toJS=function(){return K1(this)};Sr.prototype.entries=function(){return this.__iterator(gs)};Sr.prototype.__iterator=function(e,r){return rp(this).__iterator(e,r)};Sr.prototype.__iterate=function(e,r){return rp(this).__iterate(e,r)};Sr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?nM(this,r,e):(this.__ownerID=e,this._values=r,this)};Sr.isRecord=$l;Sr.getDescriptiveName=iM;var Dt=Sr.prototype;Dt[L9]=!0;Dt[wv]=Dt.remove;Dt.deleteIn=Dt.removeIn=VN;Dt.getIn=mG;Dt.hasIn=Sn.hasIn;Dt.merge=J9;Dt.mergeWith=eG;Dt.mergeIn=qN;Dt.mergeDeep=oG;Dt.mergeDeepWith=aG;Dt.mergeDeepIn=ZN;Dt.setIn=zN;Dt.update=GN;Dt.updateIn=WN;Dt.withMutations=Ov;Dt.asMutable=Rv;Dt.asImmutable=Pv;Dt[$E]=Dt.entries;Dt.toJSON=Dt.toObject=Sn.toObject;Dt.inspect=Dt.toSource=function(){return this.toString()};function nM(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function iM(t){return t.constructor.displayName||t.constructor.name||"Record"}function rp(t){return PN(t._keys.map(function(e){return[e,t.get(e)]}))}function Nde(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){LN(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var _G=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(PT)return PT;PT=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return Rr(this._value,n)},e.prototype.slice=function(n,i){var s=this.size;return Ev(n,i,s)?this:new e(this._value,xv(i,s)-Dp(n,s))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return Rr(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return Rr(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var s=this.size,o=0;o!==s&&n(this._value,i?s-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,i){var s=this,o=this.size,a=0;return new Et(function(){return a===o?Gn():Vt(n,i?o-++a:a++,s._value)})},e.prototype.equals=function(n){return n instanceof e?Rr(this._value,n._value):eM(n)},e}(Es),PT;function bG(t,e){return wG([],e||Mde,t,"",e&&e.length>2?[]:void 0,{"":t})}function wG(t,e,r,n,i,s){if(typeof r!="string"&&!$i(r)&&(IN(r)||CN(r)||HE(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var o=e.call(s,n,xn(r).map(function(a,u){return wG(t,e,a,u,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),o}return r}function Mde(t,e){return on(e)?e.toList():Ot(e)?e.toMap():e.toSet()}var EG="4.3.4",Dde={version:EG,Collection:Ht,Iterable:Ht,Seq:xn,Map:jl,OrderedMap:io,List:jp,Stack:kv,Set:zp,OrderedSet:mh,PairSorting:vG,Record:Sr,Range:tM,Repeat:_G,is:Rr,fromJS:bG,hash:$n,isImmutable:$i,isCollection:En,isKeyed:Ot,isIndexed:on,isAssociative:Bp,isOrdered:Pi,isValueObject:Y1,isPlainObject:HE,isSeq:Sv,isList:WE,isMap:Tv,isOrderedMap:FE,isStack:Rg,isSet:Nv,isOrderedSet:qE,isRecord:$l,get:VE,getIn:ZE,has:$N,hasIn:rM,merge:rG,mergeDeep:iG,mergeWith:nG,mergeDeepWith:sG,remove:UN,removeIn:HN,set:FN,setIn:jN,update:GE,updateIn:Fl},Bde=Ht;const Lde=Object.freeze(Object.defineProperty({__proto__:null,Collection:Ht,Iterable:Bde,List:jp,Map:jl,OrderedMap:io,OrderedSet:mh,PairSorting:vG,Range:tM,Record:Sr,Repeat:_G,Seq:xn,Set:zp,Stack:kv,default:Dde,fromJS:bG,get:VE,getIn:ZE,has:$N,hasIn:rM,hash:$n,is:Rr,isAssociative:Bp,isCollection:En,isImmutable:$i,isIndexed:on,isKeyed:Ot,isList:WE,isMap:Tv,isOrdered:Pi,isOrderedMap:FE,isOrderedSet:qE,isPlainObject:HE,isRecord:$l,isSeq:Sv,isSet:Nv,isStack:Rg,isValueObject:Y1,merge:rG,mergeDeep:iG,mergeDeepWith:sG,mergeWith:nG,remove:UN,removeIn:HN,set:FN,setIn:jN,update:GE,updateIn:Fl,version:EG},Symbol.toStringTag,{value:"Module"})),$de=fa(Lde);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionManagerProvider=t.useTransactionManager=t.TransactionManagerContext=void 0;const e=Yt,r=we,n=$de;t.TransactionManagerContext=(0,r.createContext)({transactions:[],hashes:[],addTransaction:({hash:a,metadata:u})=>{},removeTransaction:({hash:a})=>{}});function i(){const a=(0,r.useContext)(t.TransactionManagerContext);if(!a)throw new Error("useTransactionManager must be used inside TransactionManagerProvider");return a}t.useTransactionManager=i;function s({children:a}){const[u,l]=(0,r.useReducer)(o,{hashes:(0,n.OrderedSet)(),transactions:(0,n.OrderedMap)()}),c=(0,r.useCallback)(({hash:y,metadata:g})=>{l({type:"add_transaction",hash:y,metadata:g})},[l]),f=(0,r.useCallback)(({hash:y})=>{l({type:"remove_transaction",hash:y})},[l]),p=t.TransactionManagerContext.Provider,m=u.transactions;return(0,e.jsx)(p,{value:{transactions:m.valueSeq().toArray(),hashes:m.keySeq().toArray(),addTransaction:c,removeTransaction:f},children:a})}t.TransactionManagerProvider=s;function o(a,u){switch(u.type){case"add_transaction":{const l=a.hashes.add(u.hash),c=a.transactions.set(u.hash,{hash:u.hash,metadata:u.metadata});return{...a,hashes:l,transactions:c}}case"remove_transaction":{const l=a.hashes.remove(u.hash),c=a.transactions.delete(u.hash);return{...a,hashes:l,transactions:c}}default:return a}}})(v2);(function(t){var e=at&&at.__createBinding||(Object.create?function(a,u,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(u,l);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(a,c,f)}:function(a,u,l,c){c===void 0&&(c=l),a[c]=u[l]}),r=at&&at.__exportStar||function(a,u){for(var l in a)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&e(u,a,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.StarknetConfig=void 0;const n=Yt,i=hh,s=v2;r(hh,t),r(v2,t);function o({children:a,...u}){return(0,n.jsx)(i.StarknetProvider,{...u,children:(0,n.jsx)(s.TransactionManagerProvider,{children:a})})}t.StarknetConfig=o})(fo);var kT={},Vp={},Gp={};Object.defineProperty(Gp,"__esModule",{value:!0});Gp.useConnectors=void 0;const R0=we,Ude=fo;function Fde(){const{connectors:t,connect:e,disconnect:r}=(0,Ude.useStarknet)(),[n,i]=(0,R0.useState)([]),[s,o]=(0,R0.useState)(!0);(0,R0.useEffect)(()=>{i(t.filter(u=>u.available())),o(!1)},[t,i]);const a=(0,R0.useCallback)(()=>{i(t.filter(u=>u.available())),o(!1)},[t,i,o]);return{available:n,connectors:t,connect:e,disconnect:r,refresh:a,isLoading:s}}Gp.useConnectors=Fde;Object.defineProperty(Vp,"__esModule",{value:!0});Vp.useAccount=void 0;const NT=we,jde=Gp,zde=fo;function Hde({onConnect:t,onDisconnect:e}={}){const{account:r}=(0,zde.useStarknet)(),{connectors:n}=(0,jde.useConnectors)(),[i,s]=(0,NT.useState)({status:"disconnected"}),o=(0,NT.useCallback)(async()=>{if(!r)return!i.isDisconnected&&e!==void 0&&e(),s({status:"disconnected",isDisconnected:!0,isConnected:!1,isConnecting:!1,isReconnecting:!1});for(const a of n){if(!a.available())continue;const u=await a.account();if(u&&(u==null?void 0:u.address)===r)return i.isDisconnected&&t!==void 0&&t({address:r,connector:a}),s({connector:a,account:u,address:r,status:"connected",isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1})}},[s,r,n,t,e,i.isDisconnected]);return(0,NT.useEffect)(()=>{o()},[o]),i}Vp.useAccount=Hde;var Dm={},Uh={},yh={};Object.defineProperty(yh,"__esModule",{value:!0});yh.useBlockNumber=yh.useBlock=void 0;const xG=po,SG=fo;function Vde({refetchInterval:t,onSuccess:e,blockIdentifier:r="latest"}={}){const{library:n}=(0,SG.useStarknet)(),{data:i,error:s,isStale:o,isLoading:a,isFetching:u,isSuccess:l,isError:c,isFetched:f,isFetchedAfterMount:p,isRefetching:m,refetch:y,status:g}=(0,xG.useQuery)(["block",r],AG({library:n,args:{blockIdentifier:r}}),{refetchInterval:t,useErrorBoundary:!0,onSuccess:w=>{w&&e&&e(w)}});return{data:i,error:s,isIdle:o,isLoading:a,isFetching:u,isSuccess:l,isError:c,isFetched:f,isFetchedAfterMount:p,isRefetching:m,refetch:y,status:g}}yh.useBlock=Vde;function AG({library:t,args:e}){return async()=>await t.getBlock(e.blockIdentifier)}function Gde({refetchInterval:t,onSuccess:e}={}){const{library:r}=(0,SG.useStarknet)(),{data:n,error:i,isStale:s,isLoading:o,isFetching:a,isSuccess:u,isError:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,xG.useQuery)(["block","latest"],AG({library:r,args:{blockIdentifier:"latest"}}),{refetchInterval:t,useErrorBoundary:!0,onSuccess:g=>{g&&e&&e(g.block_number)}});return{data:n==null?void 0:n.block_number,error:i,isIdle:s,isLoading:o,isFetching:a,isSuccess:u,isError:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}yh.useBlockNumber=Gde;Object.defineProperty(Uh,"__esModule",{value:!0});Uh.useInvalidateOnBlock=void 0;const Wde=po,qde=we,Zde=yh;function Xde({enabled:t,queryKey:e}){const r=(0,Wde.useQueryClient)(),[n,i]=(0,qde.useState)(void 0);(0,Zde.useBlock)({refetchInterval:5e3,onSuccess:t?async s=>{s.block_hash!==n&&(await r.invalidateQueries(e,{refetchType:"all"}),i(s.block_hash))}:void 0})}Uh.useInvalidateOnBlock=Xde;var TG={},CG={},C2={},ra={},XE={},Dv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0;var e;(function(n){n.assertEqual=a=>a;function i(a){}n.assertIs=i;function s(a){throw new Error}n.assertNever=s,n.arrayToEnum=a=>{const u={};for(const l of a)u[l]=l;return u},n.getValidEnumValues=a=>{const u=n.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),l={};for(const c of u)l[c]=a[c];return n.objectValues(l)},n.objectValues=a=>n.objectKeys(a).map(function(u){return a[u]}),n.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const u=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&u.push(l);return u},n.find=(a,u)=>{for(const l of a)if(u(l))return l},n.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function o(a,u=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(u)}n.joinValues=o,n.jsonStringifyReplacer=(a,u)=>typeof u=="bigint"?u.toString():u})(e=t.util||(t.util={})),function(n){n.mergeShapes=(i,s)=>({...i,...s})}(t.objectUtil||(t.objectUtil={})),t.ZodParsedType=e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);const r=n=>{switch(typeof n){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(n)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":return Array.isArray(n)?t.ZodParsedType.array:n===null?t.ZodParsedType.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?t.ZodParsedType.promise:typeof Map<"u"&&n instanceof Map?t.ZodParsedType.map:typeof Set<"u"&&n instanceof Set?t.ZodParsedType.set:typeof Date<"u"&&n instanceof Date?t.ZodParsedType.date:t.ZodParsedType.object;default:return t.ZodParsedType.unknown}};t.getParsedType=r})(Dv);var na={};Object.defineProperty(na,"__esModule",{value:!0});na.ZodError=na.quotelessJson=na.ZodIssueCode=void 0;const IG=Dv;na.ZodIssueCode=IG.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);const Yde=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");na.quotelessJson=Yde;class I2 extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){const l=o.path[u];u===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,IG.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}na.ZodError=I2;I2.create=t=>new I2(t);Object.defineProperty(XE,"__esModule",{value:!0});const sc=Dv,yn=na,Qde=(t,e)=>{let r;switch(t.code){case yn.ZodIssueCode.invalid_type:t.received===sc.ZodParsedType.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case yn.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,sc.util.jsonStringifyReplacer)}`;break;case yn.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${sc.util.joinValues(t.keys,", ")}`;break;case yn.ZodIssueCode.invalid_union:r="Invalid input";break;case yn.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${sc.util.joinValues(t.options)}`;break;case yn.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${sc.util.joinValues(t.options)}, received '${t.received}'`;break;case yn.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case yn.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case yn.ZodIssueCode.invalid_date:r="Invalid date";break;case yn.ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:sc.util.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case yn.ZodIssueCode.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case yn.ZodIssueCode.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case yn.ZodIssueCode.custom:r="Invalid input";break;case yn.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case yn.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case yn.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=e.defaultError,sc.util.assertNever(t)}return{message:r}};XE.default=Qde;var Kde=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});ra.getErrorMap=ra.setErrorMap=ra.defaultErrorMap=void 0;const OG=Kde(XE);ra.defaultErrorMap=OG.default;let RG=OG.default;function Jde(t){RG=t}ra.setErrorMap=Jde;function efe(){return RG}ra.getErrorMap=efe;var sM={};(function(t){var e=at&&at.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;const r=ra,n=e(XE),i=m=>{const{data:y,path:g,errorMaps:w,issueData:b}=m,_=[...g,...b.path||[]],E={...b,path:_};let x="";const N=w.filter(M=>!!M).slice().reverse();for(const M of N)x=M(E,{data:y,defaultError:x}).message;return{...b,path:_,message:b.message||x}};t.makeIssue=i,t.EMPTY_PATH=[];function s(m,y){const g=(0,t.makeIssue)({issueData:y,data:m.data,path:m.path,errorMaps:[m.common.contextualErrorMap,m.schemaErrorMap,(0,r.getErrorMap)(),n.default].filter(w=>!!w)});m.common.issues.push(g)}t.addIssueToContext=s;class o{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(y,g){const w=[];for(const b of g){if(b.status==="aborted")return t.INVALID;b.status==="dirty"&&y.dirty(),w.push(b.value)}return{status:y.value,value:w}}static async mergeObjectAsync(y,g){const w=[];for(const b of g)w.push({key:await b.key,value:await b.value});return o.mergeObjectSync(y,w)}static mergeObjectSync(y,g){const w={};for(const b of g){const{key:_,value:E}=b;if(_.status==="aborted"||E.status==="aborted")return t.INVALID;_.status==="dirty"&&y.dirty(),E.status==="dirty"&&y.dirty(),_.value!=="__proto__"&&(typeof E.value<"u"||b.alwaysSet)&&(w[_.value]=E.value)}return{status:y.value,value:w}}}t.ParseStatus=o,t.INVALID=Object.freeze({status:"aborted"});const a=m=>({status:"dirty",value:m});t.DIRTY=a;const u=m=>({status:"valid",value:m});t.OK=u;const l=m=>m.status==="aborted";t.isAborted=l;const c=m=>m.status==="dirty";t.isDirty=c;const f=m=>m.status==="valid";t.isValid=f;const p=m=>typeof Promise<"u"&&m instanceof Promise;t.isAsync=p})(sM);var PG={};Object.defineProperty(PG,"__esModule",{value:!0});var kG={},NG={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,function(e){e.errToObj=r=>typeof r=="string"?{message:r}:r||{},e.toString=r=>typeof r=="string"?r:r==null?void 0:r.message}(t.errorUtil||(t.errorUtil={}))})(NG);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.date=t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=t.discriminatedUnion=void 0;const e=ra,r=NG,n=sM,i=Dv,s=na;class o{constructor(T,L,H,Q){this._cachedPath=[],this.parent=T,this.data=L,this._path=H,this._key=Q}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a=(Z,T)=>{if((0,n.isValid)(T))return{success:!0,data:T.value};if(!Z.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const L=new s.ZodError(Z.common.issues);return this._error=L,this._error}}};function u(Z){if(!Z)return{};const{errorMap:T,invalid_type_error:L,required_error:H,description:Q}=Z;if(T&&(L||H))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return T?{errorMap:T,description:Q}:{errorMap:(fe,le)=>fe.code!=="invalid_type"?{message:le.defaultError}:typeof le.data>"u"?{message:H??le.defaultError}:{message:L??le.defaultError},description:Q}}class l{constructor(T){this.spa=this.safeParseAsync,this._def=T,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(T){return(0,i.getParsedType)(T.data)}_getOrReturnCtx(T,L){return L||{common:T.parent.common,data:T.data,parsedType:(0,i.getParsedType)(T.data),schemaErrorMap:this._def.errorMap,path:T.path,parent:T.parent}}_processInputParams(T){return{status:new n.ParseStatus,ctx:{common:T.parent.common,data:T.data,parsedType:(0,i.getParsedType)(T.data),schemaErrorMap:this._def.errorMap,path:T.path,parent:T.parent}}}_parseSync(T){const L=this._parse(T);if((0,n.isAsync)(L))throw new Error("Synchronous parse encountered promise.");return L}_parseAsync(T){const L=this._parse(T);return Promise.resolve(L)}parse(T,L){const H=this.safeParse(T,L);if(H.success)return H.data;throw H.error}safeParse(T,L){var H;const Q={common:{issues:[],async:(H=L==null?void 0:L.async)!==null&&H!==void 0?H:!1,contextualErrorMap:L==null?void 0:L.errorMap},path:(L==null?void 0:L.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:T,parsedType:(0,i.getParsedType)(T)},Y=this._parseSync({data:T,path:Q.path,parent:Q});return a(Q,Y)}async parseAsync(T,L){const H=await this.safeParseAsync(T,L);if(H.success)return H.data;throw H.error}async safeParseAsync(T,L){const H={common:{issues:[],contextualErrorMap:L==null?void 0:L.errorMap,async:!0},path:(L==null?void 0:L.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:T,parsedType:(0,i.getParsedType)(T)},Q=this._parse({data:T,path:H.path,parent:H}),Y=await((0,n.isAsync)(Q)?Q:Promise.resolve(Q));return a(H,Y)}refine(T,L){const H=Q=>typeof L=="string"||typeof L>"u"?{message:L}:typeof L=="function"?L(Q):L;return this._refinement((Q,Y)=>{const fe=T(Q),le=()=>Y.addIssue({code:s.ZodIssueCode.custom,...H(Q)});return typeof Promise<"u"&&fe instanceof Promise?fe.then(He=>He?!0:(le(),!1)):fe?!0:(le(),!1)})}refinement(T,L){return this._refinement((H,Q)=>T(H)?!0:(Q.addIssue(typeof L=="function"?L(H,Q):L),!1))}_refinement(T){return new Qe({schema:this,typeName:je.ZodEffects,effect:{type:"refinement",refinement:T}})}superRefine(T){return this._refinement(T)}optional(){return ht.create(this,this._def)}nullable(){return Jt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return P.create(this,this._def)}promise(){return We.create(this,this._def)}or(T){return z.create([this,T],this._def)}and(T){return ae.create(this,T,this._def)}transform(T){return new Qe({...u(this._def),schema:this,typeName:je.ZodEffects,effect:{type:"transform",transform:T}})}default(T){const L=typeof T=="function"?T:()=>T;return new Lt({...u(this._def),innerType:this,defaultValue:L,typeName:je.ZodDefault})}brand(){return new xs({typeName:je.ZodBranded,type:this,...u(this._def)})}catch(T){const L=typeof T=="function"?T:()=>T;return new Tn({...u(this._def),innerType:this,catchValue:L,typeName:je.ZodCatch})}describe(T){const L=this.constructor;return new L({...this._def,description:T})}pipe(T){return Xr.create(this,T)}readonly(){return In.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=l,t.Schema=l,t.ZodSchema=l;const c=/^c[^\s-]{8,}$/i,f=/^[a-z][a-z0-9]*$/,p=/^[0-9A-HJKMNP-TV-Z]{26}$/,m=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,g="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let w;const b=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,_=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E=Z=>Z.precision?Z.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${Z.precision}}Z$`):Z.precision===0?Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):Z.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function x(Z,T){return!!((T==="v4"||!T)&&b.test(Z)||(T==="v6"||!T)&&_.test(Z))}class N extends l{_parse(T){if(this._def.coerce&&(T.data=String(T.data)),this._getType(T)!==i.ZodParsedType.string){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.string,received:Y.parsedType}),n.INVALID}const H=new n.ParseStatus;let Q;for(const Y of this._def.checks)if(Y.kind==="min")T.data.length<Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_small,minimum:Y.value,type:"string",inclusive:!0,exact:!1,message:Y.message}),H.dirty());else if(Y.kind==="max")T.data.length>Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_big,maximum:Y.value,type:"string",inclusive:!0,exact:!1,message:Y.message}),H.dirty());else if(Y.kind==="length"){const fe=T.data.length>Y.value,le=T.data.length<Y.value;(fe||le)&&(Q=this._getOrReturnCtx(T,Q),fe?(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_big,maximum:Y.value,type:"string",inclusive:!0,exact:!0,message:Y.message}):le&&(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_small,minimum:Y.value,type:"string",inclusive:!0,exact:!0,message:Y.message}),H.dirty())}else if(Y.kind==="email")y.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"email",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="emoji")w||(w=new RegExp(g,"u")),w.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"emoji",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="uuid")m.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"uuid",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="cuid")c.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"cuid",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="cuid2")f.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"cuid2",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="ulid")p.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"ulid",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty());else if(Y.kind==="url")try{new URL(T.data)}catch{Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"url",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty()}else Y.kind==="regex"?(Y.regex.lastIndex=0,Y.regex.test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"regex",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty())):Y.kind==="trim"?T.data=T.data.trim():Y.kind==="includes"?T.data.includes(Y.value,Y.position)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:{includes:Y.value,position:Y.position},message:Y.message}),H.dirty()):Y.kind==="toLowerCase"?T.data=T.data.toLowerCase():Y.kind==="toUpperCase"?T.data=T.data.toUpperCase():Y.kind==="startsWith"?T.data.startsWith(Y.value)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:{startsWith:Y.value},message:Y.message}),H.dirty()):Y.kind==="endsWith"?T.data.endsWith(Y.value)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:{endsWith:Y.value},message:Y.message}),H.dirty()):Y.kind==="datetime"?E(Y).test(T.data)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.invalid_string,validation:"datetime",message:Y.message}),H.dirty()):Y.kind==="ip"?x(T.data,Y.version)||(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{validation:"ip",code:s.ZodIssueCode.invalid_string,message:Y.message}),H.dirty()):i.util.assertNever(Y);return{status:H.value,value:T.data}}_regex(T,L,H){return this.refinement(Q=>T.test(Q),{validation:L,code:s.ZodIssueCode.invalid_string,...r.errorUtil.errToObj(H)})}_addCheck(T){return new N({...this._def,checks:[...this._def.checks,T]})}email(T){return this._addCheck({kind:"email",...r.errorUtil.errToObj(T)})}url(T){return this._addCheck({kind:"url",...r.errorUtil.errToObj(T)})}emoji(T){return this._addCheck({kind:"emoji",...r.errorUtil.errToObj(T)})}uuid(T){return this._addCheck({kind:"uuid",...r.errorUtil.errToObj(T)})}cuid(T){return this._addCheck({kind:"cuid",...r.errorUtil.errToObj(T)})}cuid2(T){return this._addCheck({kind:"cuid2",...r.errorUtil.errToObj(T)})}ulid(T){return this._addCheck({kind:"ulid",...r.errorUtil.errToObj(T)})}ip(T){return this._addCheck({kind:"ip",...r.errorUtil.errToObj(T)})}datetime(T){var L;return typeof T=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:T}):this._addCheck({kind:"datetime",precision:typeof(T==null?void 0:T.precision)>"u"?null:T==null?void 0:T.precision,offset:(L=T==null?void 0:T.offset)!==null&&L!==void 0?L:!1,...r.errorUtil.errToObj(T==null?void 0:T.message)})}regex(T,L){return this._addCheck({kind:"regex",regex:T,...r.errorUtil.errToObj(L)})}includes(T,L){return this._addCheck({kind:"includes",value:T,position:L==null?void 0:L.position,...r.errorUtil.errToObj(L==null?void 0:L.message)})}startsWith(T,L){return this._addCheck({kind:"startsWith",value:T,...r.errorUtil.errToObj(L)})}endsWith(T,L){return this._addCheck({kind:"endsWith",value:T,...r.errorUtil.errToObj(L)})}min(T,L){return this._addCheck({kind:"min",value:T,...r.errorUtil.errToObj(L)})}max(T,L){return this._addCheck({kind:"max",value:T,...r.errorUtil.errToObj(L)})}length(T,L){return this._addCheck({kind:"length",value:T,...r.errorUtil.errToObj(L)})}nonempty(T){return this.min(1,r.errorUtil.errToObj(T))}trim(){return new N({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new N({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(T=>T.kind==="datetime")}get isEmail(){return!!this._def.checks.find(T=>T.kind==="email")}get isURL(){return!!this._def.checks.find(T=>T.kind==="url")}get isEmoji(){return!!this._def.checks.find(T=>T.kind==="emoji")}get isUUID(){return!!this._def.checks.find(T=>T.kind==="uuid")}get isCUID(){return!!this._def.checks.find(T=>T.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(T=>T.kind==="cuid2")}get isULID(){return!!this._def.checks.find(T=>T.kind==="ulid")}get isIP(){return!!this._def.checks.find(T=>T.kind==="ip")}get minLength(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T}get maxLength(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T}}t.ZodString=N,N.create=Z=>{var T;return new N({checks:[],typeName:je.ZodString,coerce:(T=Z==null?void 0:Z.coerce)!==null&&T!==void 0?T:!1,...u(Z)})};function M(Z,T){const L=(Z.toString().split(".")[1]||"").length,H=(T.toString().split(".")[1]||"").length,Q=L>H?L:H,Y=parseInt(Z.toFixed(Q).replace(".","")),fe=parseInt(T.toFixed(Q).replace(".",""));return Y%fe/Math.pow(10,Q)}class R extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(T){if(this._def.coerce&&(T.data=Number(T.data)),this._getType(T)!==i.ZodParsedType.number){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.number,received:Y.parsedType}),n.INVALID}let H;const Q=new n.ParseStatus;for(const Y of this._def.checks)Y.kind==="int"?i.util.isInteger(T.data)||(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:Y.message}),Q.dirty()):Y.kind==="min"?(Y.inclusive?T.data<Y.value:T.data<=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,minimum:Y.value,type:"number",inclusive:Y.inclusive,exact:!1,message:Y.message}),Q.dirty()):Y.kind==="max"?(Y.inclusive?T.data>Y.value:T.data>=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,maximum:Y.value,type:"number",inclusive:Y.inclusive,exact:!1,message:Y.message}),Q.dirty()):Y.kind==="multipleOf"?M(T.data,Y.value)!==0&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.not_multiple_of,multipleOf:Y.value,message:Y.message}),Q.dirty()):Y.kind==="finite"?Number.isFinite(T.data)||(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.not_finite,message:Y.message}),Q.dirty()):i.util.assertNever(Y);return{status:Q.value,value:T.data}}gte(T,L){return this.setLimit("min",T,!0,r.errorUtil.toString(L))}gt(T,L){return this.setLimit("min",T,!1,r.errorUtil.toString(L))}lte(T,L){return this.setLimit("max",T,!0,r.errorUtil.toString(L))}lt(T,L){return this.setLimit("max",T,!1,r.errorUtil.toString(L))}setLimit(T,L,H,Q){return new R({...this._def,checks:[...this._def.checks,{kind:T,value:L,inclusive:H,message:r.errorUtil.toString(Q)}]})}_addCheck(T){return new R({...this._def,checks:[...this._def.checks,T]})}int(T){return this._addCheck({kind:"int",message:r.errorUtil.toString(T)})}positive(T){return this._addCheck({kind:"min",value:0,inclusive:!1,message:r.errorUtil.toString(T)})}negative(T){return this._addCheck({kind:"max",value:0,inclusive:!1,message:r.errorUtil.toString(T)})}nonpositive(T){return this._addCheck({kind:"max",value:0,inclusive:!0,message:r.errorUtil.toString(T)})}nonnegative(T){return this._addCheck({kind:"min",value:0,inclusive:!0,message:r.errorUtil.toString(T)})}multipleOf(T,L){return this._addCheck({kind:"multipleOf",value:T,message:r.errorUtil.toString(L)})}finite(T){return this._addCheck({kind:"finite",message:r.errorUtil.toString(T)})}safe(T){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:r.errorUtil.toString(T)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:r.errorUtil.toString(T)})}get minValue(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T}get maxValue(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T}get isInt(){return!!this._def.checks.find(T=>T.kind==="int"||T.kind==="multipleOf"&&i.util.isInteger(T.value))}get isFinite(){let T=null,L=null;for(const H of this._def.checks){if(H.kind==="finite"||H.kind==="int"||H.kind==="multipleOf")return!0;H.kind==="min"?(L===null||H.value>L)&&(L=H.value):H.kind==="max"&&(T===null||H.value<T)&&(T=H.value)}return Number.isFinite(L)&&Number.isFinite(T)}}t.ZodNumber=R,R.create=Z=>new R({checks:[],typeName:je.ZodNumber,coerce:(Z==null?void 0:Z.coerce)||!1,...u(Z)});class D extends l{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(T){if(this._def.coerce&&(T.data=BigInt(T.data)),this._getType(T)!==i.ZodParsedType.bigint){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.bigint,received:Y.parsedType}),n.INVALID}let H;const Q=new n.ParseStatus;for(const Y of this._def.checks)Y.kind==="min"?(Y.inclusive?T.data<Y.value:T.data<=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,type:"bigint",minimum:Y.value,inclusive:Y.inclusive,message:Y.message}),Q.dirty()):Y.kind==="max"?(Y.inclusive?T.data>Y.value:T.data>=Y.value)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,type:"bigint",maximum:Y.value,inclusive:Y.inclusive,message:Y.message}),Q.dirty()):Y.kind==="multipleOf"?T.data%Y.value!==BigInt(0)&&(H=this._getOrReturnCtx(T,H),(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.not_multiple_of,multipleOf:Y.value,message:Y.message}),Q.dirty()):i.util.assertNever(Y);return{status:Q.value,value:T.data}}gte(T,L){return this.setLimit("min",T,!0,r.errorUtil.toString(L))}gt(T,L){return this.setLimit("min",T,!1,r.errorUtil.toString(L))}lte(T,L){return this.setLimit("max",T,!0,r.errorUtil.toString(L))}lt(T,L){return this.setLimit("max",T,!1,r.errorUtil.toString(L))}setLimit(T,L,H,Q){return new D({...this._def,checks:[...this._def.checks,{kind:T,value:L,inclusive:H,message:r.errorUtil.toString(Q)}]})}_addCheck(T){return new D({...this._def,checks:[...this._def.checks,T]})}positive(T){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:r.errorUtil.toString(T)})}negative(T){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:r.errorUtil.toString(T)})}nonpositive(T){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:r.errorUtil.toString(T)})}nonnegative(T){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:r.errorUtil.toString(T)})}multipleOf(T,L){return this._addCheck({kind:"multipleOf",value:T,message:r.errorUtil.toString(L)})}get minValue(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T}get maxValue(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T}}t.ZodBigInt=D,D.create=Z=>{var T;return new D({checks:[],typeName:je.ZodBigInt,coerce:(T=Z==null?void 0:Z.coerce)!==null&&T!==void 0?T:!1,...u(Z)})};class W extends l{_parse(T){if(this._def.coerce&&(T.data=!!T.data),this._getType(T)!==i.ZodParsedType.boolean){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.boolean,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodBoolean=W,W.create=Z=>new W({typeName:je.ZodBoolean,coerce:(Z==null?void 0:Z.coerce)||!1,...u(Z)});class G extends l{_parse(T){if(this._def.coerce&&(T.data=new Date(T.data)),this._getType(T)!==i.ZodParsedType.date){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.date,received:Y.parsedType}),n.INVALID}if(isNaN(T.data.getTime())){const Y=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(Y,{code:s.ZodIssueCode.invalid_date}),n.INVALID}const H=new n.ParseStatus;let Q;for(const Y of this._def.checks)Y.kind==="min"?T.data.getTime()<Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_small,message:Y.message,inclusive:!0,exact:!1,minimum:Y.value,type:"date"}),H.dirty()):Y.kind==="max"?T.data.getTime()>Y.value&&(Q=this._getOrReturnCtx(T,Q),(0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.too_big,message:Y.message,inclusive:!0,exact:!1,maximum:Y.value,type:"date"}),H.dirty()):i.util.assertNever(Y);return{status:H.value,value:new Date(T.data.getTime())}}_addCheck(T){return new G({...this._def,checks:[...this._def.checks,T]})}min(T,L){return this._addCheck({kind:"min",value:T.getTime(),message:r.errorUtil.toString(L)})}max(T,L){return this._addCheck({kind:"max",value:T.getTime(),message:r.errorUtil.toString(L)})}get minDate(){let T=null;for(const L of this._def.checks)L.kind==="min"&&(T===null||L.value>T)&&(T=L.value);return T!=null?new Date(T):null}get maxDate(){let T=null;for(const L of this._def.checks)L.kind==="max"&&(T===null||L.value<T)&&(T=L.value);return T!=null?new Date(T):null}}t.ZodDate=G,G.create=Z=>new G({checks:[],coerce:(Z==null?void 0:Z.coerce)||!1,typeName:je.ZodDate,...u(Z)});class F extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.symbol){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.symbol,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodSymbol=F,F.create=Z=>new F({typeName:je.ZodSymbol,...u(Z)});class X extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.undefined){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.undefined,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodUndefined=X,X.create=Z=>new X({typeName:je.ZodUndefined,...u(Z)});class B extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.null){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.null,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodNull=B,B.create=Z=>new B({typeName:je.ZodNull,...u(Z)});class j extends l{constructor(){super(...arguments),this._any=!0}_parse(T){return(0,n.OK)(T.data)}}t.ZodAny=j,j.create=Z=>new j({typeName:je.ZodAny,...u(Z)});class C extends l{constructor(){super(...arguments),this._unknown=!0}_parse(T){return(0,n.OK)(T.data)}}t.ZodUnknown=C,C.create=Z=>new C({typeName:je.ZodUnknown,...u(Z)});class k extends l{_parse(T){const L=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.never,received:L.parsedType}),n.INVALID}}t.ZodNever=k,k.create=Z=>new k({typeName:je.ZodNever,...u(Z)});class O extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.undefined){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.void,received:H.parsedType}),n.INVALID}return(0,n.OK)(T.data)}}t.ZodVoid=O,O.create=Z=>new O({typeName:je.ZodVoid,...u(Z)});class P extends l{_parse(T){const{ctx:L,status:H}=this._processInputParams(T),Q=this._def;if(L.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:L.parsedType}),n.INVALID;if(Q.exactLength!==null){const fe=L.data.length>Q.exactLength.value,le=L.data.length<Q.exactLength.value;(fe||le)&&((0,n.addIssueToContext)(L,{code:fe?s.ZodIssueCode.too_big:s.ZodIssueCode.too_small,minimum:le?Q.exactLength.value:void 0,maximum:fe?Q.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Q.exactLength.message}),H.dirty())}if(Q.minLength!==null&&L.data.length<Q.minLength.value&&((0,n.addIssueToContext)(L,{code:s.ZodIssueCode.too_small,minimum:Q.minLength.value,type:"array",inclusive:!0,exact:!1,message:Q.minLength.message}),H.dirty()),Q.maxLength!==null&&L.data.length>Q.maxLength.value&&((0,n.addIssueToContext)(L,{code:s.ZodIssueCode.too_big,maximum:Q.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Q.maxLength.message}),H.dirty()),L.common.async)return Promise.all([...L.data].map((fe,le)=>Q.type._parseAsync(new o(L,fe,L.path,le)))).then(fe=>n.ParseStatus.mergeArray(H,fe));const Y=[...L.data].map((fe,le)=>Q.type._parseSync(new o(L,fe,L.path,le)));return n.ParseStatus.mergeArray(H,Y)}get element(){return this._def.type}min(T,L){return new P({...this._def,minLength:{value:T,message:r.errorUtil.toString(L)}})}max(T,L){return new P({...this._def,maxLength:{value:T,message:r.errorUtil.toString(L)}})}length(T,L){return new P({...this._def,exactLength:{value:T,message:r.errorUtil.toString(L)}})}nonempty(T){return this.min(1,T)}}t.ZodArray=P,P.create=(Z,T)=>new P({type:Z,minLength:null,maxLength:null,exactLength:null,typeName:je.ZodArray,...u(T)});function U(Z){if(Z instanceof $){const T={};for(const L in Z.shape){const H=Z.shape[L];T[L]=ht.create(U(H))}return new $({...Z._def,shape:()=>T})}else return Z instanceof P?new P({...Z._def,type:U(Z.element)}):Z instanceof ht?ht.create(U(Z.unwrap())):Z instanceof Jt?Jt.create(U(Z.unwrap())):Z instanceof oe?oe.create(Z.items.map(T=>U(T))):Z}class $ extends l{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const T=this._def.shape(),L=i.util.objectKeys(T);return this._cached={shape:T,keys:L}}_parse(T){if(this._getType(T)!==i.ZodParsedType.object){const $e=this._getOrReturnCtx(T);return(0,n.addIssueToContext)($e,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:$e.parsedType}),n.INVALID}const{status:H,ctx:Q}=this._processInputParams(T),{shape:Y,keys:fe}=this._getCached(),le=[];if(!(this._def.catchall instanceof k&&this._def.unknownKeys==="strip"))for(const $e in Q.data)fe.includes($e)||le.push($e);const He=[];for(const $e of fe){const it=Y[$e],Ar=Q.data[$e];He.push({key:{status:"valid",value:$e},value:it._parse(new o(Q,Ar,Q.path,$e)),alwaysSet:$e in Q.data})}if(this._def.catchall instanceof k){const $e=this._def.unknownKeys;if($e==="passthrough")for(const it of le)He.push({key:{status:"valid",value:it},value:{status:"valid",value:Q.data[it]}});else if($e==="strict")le.length>0&&((0,n.addIssueToContext)(Q,{code:s.ZodIssueCode.unrecognized_keys,keys:le}),H.dirty());else if($e!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const $e=this._def.catchall;for(const it of le){const Ar=Q.data[it];He.push({key:{status:"valid",value:it},value:$e._parse(new o(Q,Ar,Q.path,it)),alwaysSet:it in Q.data})}}return Q.common.async?Promise.resolve().then(async()=>{const $e=[];for(const it of He){const Ar=await it.key;$e.push({key:Ar,value:await it.value,alwaysSet:it.alwaysSet})}return $e}).then($e=>n.ParseStatus.mergeObjectSync(H,$e)):n.ParseStatus.mergeObjectSync(H,He)}get shape(){return this._def.shape()}strict(T){return r.errorUtil.errToObj,new $({...this._def,unknownKeys:"strict",...T!==void 0?{errorMap:(L,H)=>{var Q,Y,fe,le;const He=(fe=(Y=(Q=this._def).errorMap)===null||Y===void 0?void 0:Y.call(Q,L,H).message)!==null&&fe!==void 0?fe:H.defaultError;return L.code==="unrecognized_keys"?{message:(le=r.errorUtil.errToObj(T).message)!==null&&le!==void 0?le:He}:{message:He}}}:{}})}strip(){return new $({...this._def,unknownKeys:"strip"})}passthrough(){return new $({...this._def,unknownKeys:"passthrough"})}extend(T){return new $({...this._def,shape:()=>({...this._def.shape(),...T})})}merge(T){return new $({unknownKeys:T._def.unknownKeys,catchall:T._def.catchall,shape:()=>({...this._def.shape(),...T._def.shape()}),typeName:je.ZodObject})}setKey(T,L){return this.augment({[T]:L})}catchall(T){return new $({...this._def,catchall:T})}pick(T){const L={};return i.util.objectKeys(T).forEach(H=>{T[H]&&this.shape[H]&&(L[H]=this.shape[H])}),new $({...this._def,shape:()=>L})}omit(T){const L={};return i.util.objectKeys(this.shape).forEach(H=>{T[H]||(L[H]=this.shape[H])}),new $({...this._def,shape:()=>L})}deepPartial(){return U(this)}partial(T){const L={};return i.util.objectKeys(this.shape).forEach(H=>{const Q=this.shape[H];T&&!T[H]?L[H]=Q:L[H]=Q.optional()}),new $({...this._def,shape:()=>L})}required(T){const L={};return i.util.objectKeys(this.shape).forEach(H=>{if(T&&!T[H])L[H]=this.shape[H];else{let Y=this.shape[H];for(;Y instanceof ht;)Y=Y._def.innerType;L[H]=Y}}),new $({...this._def,shape:()=>L})}keyof(){return te(i.util.objectKeys(this.shape))}}t.ZodObject=$,$.create=(Z,T)=>new $({shape:()=>Z,unknownKeys:"strip",catchall:k.create(),typeName:je.ZodObject,...u(T)}),$.strictCreate=(Z,T)=>new $({shape:()=>Z,unknownKeys:"strict",catchall:k.create(),typeName:je.ZodObject,...u(T)}),$.lazycreate=(Z,T)=>new $({shape:Z,unknownKeys:"strip",catchall:k.create(),typeName:je.ZodObject,...u(T)});class z extends l{_parse(T){const{ctx:L}=this._processInputParams(T),H=this._def.options;function Q(Y){for(const le of Y)if(le.result.status==="valid")return le.result;for(const le of Y)if(le.result.status==="dirty")return L.common.issues.push(...le.ctx.common.issues),le.result;const fe=Y.map(le=>new s.ZodError(le.ctx.common.issues));return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union,unionErrors:fe}),n.INVALID}if(L.common.async)return Promise.all(H.map(async Y=>{const fe={...L,common:{...L.common,issues:[]},parent:null};return{result:await Y._parseAsync({data:L.data,path:L.path,parent:fe}),ctx:fe}})).then(Q);{let Y;const fe=[];for(const He of H){const $e={...L,common:{...L.common,issues:[]},parent:null},it=He._parseSync({data:L.data,path:L.path,parent:$e});if(it.status==="valid")return it;it.status==="dirty"&&!Y&&(Y={result:it,ctx:$e}),$e.common.issues.length&&fe.push($e.common.issues)}if(Y)return L.common.issues.push(...Y.ctx.common.issues),Y.result;const le=fe.map(He=>new s.ZodError(He));return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union,unionErrors:le}),n.INVALID}}get options(){return this._def.options}}t.ZodUnion=z,z.create=(Z,T)=>new z({options:Z,typeName:je.ZodUnion,...u(T)});const q=Z=>Z instanceof Ie?q(Z.schema):Z instanceof Qe?q(Z.innerType()):Z instanceof De?[Z.value]:Z instanceof de?Z.options:Z instanceof ke?Object.keys(Z.enum):Z instanceof Lt?q(Z._def.innerType):Z instanceof X?[void 0]:Z instanceof B?[null]:null;class ne extends l{_parse(T){const{ctx:L}=this._processInputParams(T);if(L.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:L.parsedType}),n.INVALID;const H=this.discriminator,Q=L.data[H],Y=this.optionsMap.get(Q);return Y?L.common.async?Y._parseAsync({data:L.data,path:L.path,parent:L}):Y._parseSync({data:L.data,path:L.path,parent:L}):((0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[H]}),n.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(T,L,H){const Q=new Map;for(const Y of L){const fe=q(Y.shape[T]);if(!fe)throw new Error(`A discriminator value for key \`${T}\` could not be extracted from all schema options`);for(const le of fe){if(Q.has(le))throw new Error(`Discriminator property ${String(T)} has duplicate value ${String(le)}`);Q.set(le,Y)}}return new ne({typeName:je.ZodDiscriminatedUnion,discriminator:T,options:L,optionsMap:Q,...u(H)})}}t.ZodDiscriminatedUnion=ne;function re(Z,T){const L=(0,i.getParsedType)(Z),H=(0,i.getParsedType)(T);if(Z===T)return{valid:!0,data:Z};if(L===i.ZodParsedType.object&&H===i.ZodParsedType.object){const Q=i.util.objectKeys(T),Y=i.util.objectKeys(Z).filter(le=>Q.indexOf(le)!==-1),fe={...Z,...T};for(const le of Y){const He=re(Z[le],T[le]);if(!He.valid)return{valid:!1};fe[le]=He.data}return{valid:!0,data:fe}}else if(L===i.ZodParsedType.array&&H===i.ZodParsedType.array){if(Z.length!==T.length)return{valid:!1};const Q=[];for(let Y=0;Y<Z.length;Y++){const fe=Z[Y],le=T[Y],He=re(fe,le);if(!He.valid)return{valid:!1};Q.push(He.data)}return{valid:!0,data:Q}}else return L===i.ZodParsedType.date&&H===i.ZodParsedType.date&&+Z==+T?{valid:!0,data:Z}:{valid:!1}}class ae extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T),Q=(Y,fe)=>{if((0,n.isAborted)(Y)||(0,n.isAborted)(fe))return n.INVALID;const le=re(Y.value,fe.value);return le.valid?(((0,n.isDirty)(Y)||(0,n.isDirty)(fe))&&L.dirty(),{status:L.value,value:le.data}):((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_intersection_types}),n.INVALID)};return H.common.async?Promise.all([this._def.left._parseAsync({data:H.data,path:H.path,parent:H}),this._def.right._parseAsync({data:H.data,path:H.path,parent:H})]).then(([Y,fe])=>Q(Y,fe)):Q(this._def.left._parseSync({data:H.data,path:H.path,parent:H}),this._def.right._parseSync({data:H.data,path:H.path,parent:H}))}}t.ZodIntersection=ae,ae.create=(Z,T,L)=>new ae({left:Z,right:T,typeName:je.ZodIntersection,...u(L)});class oe extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.array)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.array,received:H.parsedType}),n.INVALID;if(H.data.length<this._def.items.length)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.INVALID;!this._def.rest&&H.data.length>this._def.items.length&&((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L.dirty());const Y=[...H.data].map((fe,le)=>{const He=this._def.items[le]||this._def.rest;return He?He._parse(new o(H,fe,H.path,le)):null}).filter(fe=>!!fe);return H.common.async?Promise.all(Y).then(fe=>n.ParseStatus.mergeArray(L,fe)):n.ParseStatus.mergeArray(L,Y)}get items(){return this._def.items}rest(T){return new oe({...this._def,rest:T})}}t.ZodTuple=oe,oe.create=(Z,T)=>{if(!Array.isArray(Z))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oe({items:Z,typeName:je.ZodTuple,rest:null,...u(T)})};class ve extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.object)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.object,received:H.parsedType}),n.INVALID;const Q=[],Y=this._def.keyType,fe=this._def.valueType;for(const le in H.data)Q.push({key:Y._parse(new o(H,le,H.path,le)),value:fe._parse(new o(H,H.data[le],H.path,le))});return H.common.async?n.ParseStatus.mergeObjectAsync(L,Q):n.ParseStatus.mergeObjectSync(L,Q)}get element(){return this._def.valueType}static create(T,L,H){return L instanceof l?new ve({keyType:T,valueType:L,typeName:je.ZodRecord,...u(H)}):new ve({keyType:N.create(),valueType:T,typeName:je.ZodRecord,...u(L)})}}t.ZodRecord=ve;class Ne extends l{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.map)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.map,received:H.parsedType}),n.INVALID;const Q=this._def.keyType,Y=this._def.valueType,fe=[...H.data.entries()].map(([le,He],$e)=>({key:Q._parse(new o(H,le,H.path,[$e,"key"])),value:Y._parse(new o(H,He,H.path,[$e,"value"]))}));if(H.common.async){const le=new Map;return Promise.resolve().then(async()=>{for(const He of fe){const $e=await He.key,it=await He.value;if($e.status==="aborted"||it.status==="aborted")return n.INVALID;($e.status==="dirty"||it.status==="dirty")&&L.dirty(),le.set($e.value,it.value)}return{status:L.value,value:le}})}else{const le=new Map;for(const He of fe){const $e=He.key,it=He.value;if($e.status==="aborted"||it.status==="aborted")return n.INVALID;($e.status==="dirty"||it.status==="dirty")&&L.dirty(),le.set($e.value,it.value)}return{status:L.value,value:le}}}}t.ZodMap=Ne,Ne.create=(Z,T,L)=>new Ne({valueType:T,keyType:Z,typeName:je.ZodMap,...u(L)});class _e extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.parsedType!==i.ZodParsedType.set)return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.set,received:H.parsedType}),n.INVALID;const Q=this._def;Q.minSize!==null&&H.data.size<Q.minSize.value&&((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_small,minimum:Q.minSize.value,type:"set",inclusive:!0,exact:!1,message:Q.minSize.message}),L.dirty()),Q.maxSize!==null&&H.data.size>Q.maxSize.value&&((0,n.addIssueToContext)(H,{code:s.ZodIssueCode.too_big,maximum:Q.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Q.maxSize.message}),L.dirty());const Y=this._def.valueType;function fe(He){const $e=new Set;for(const it of He){if(it.status==="aborted")return n.INVALID;it.status==="dirty"&&L.dirty(),$e.add(it.value)}return{status:L.value,value:$e}}const le=[...H.data.values()].map((He,$e)=>Y._parse(new o(H,He,H.path,$e)));return H.common.async?Promise.all(le).then(He=>fe(He)):fe(le)}min(T,L){return new _e({...this._def,minSize:{value:T,message:r.errorUtil.toString(L)}})}max(T,L){return new _e({...this._def,maxSize:{value:T,message:r.errorUtil.toString(L)}})}size(T,L){return this.min(T,L).max(T,L)}nonempty(T){return this.min(1,T)}}t.ZodSet=_e,_e.create=(Z,T)=>new _e({valueType:Z,minSize:null,maxSize:null,typeName:je.ZodSet,...u(T)});class Me extends l{constructor(){super(...arguments),this.validate=this.implement}_parse(T){const{ctx:L}=this._processInputParams(T);if(L.parsedType!==i.ZodParsedType.function)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.function,received:L.parsedType}),n.INVALID;function H(le,He){return(0,n.makeIssue)({data:le,path:L.path,errorMaps:[L.common.contextualErrorMap,L.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter($e=>!!$e),issueData:{code:s.ZodIssueCode.invalid_arguments,argumentsError:He}})}function Q(le,He){return(0,n.makeIssue)({data:le,path:L.path,errorMaps:[L.common.contextualErrorMap,L.schemaErrorMap,(0,e.getErrorMap)(),e.defaultErrorMap].filter($e=>!!$e),issueData:{code:s.ZodIssueCode.invalid_return_type,returnTypeError:He}})}const Y={errorMap:L.common.contextualErrorMap},fe=L.data;if(this._def.returns instanceof We){const le=this;return(0,n.OK)(async function(...He){const $e=new s.ZodError([]),it=await le._def.args.parseAsync(He,Y).catch(Ct=>{throw $e.addIssue(H(He,Ct)),$e}),Ar=await Reflect.apply(fe,this,it);return await le._def.returns._def.type.parseAsync(Ar,Y).catch(Ct=>{throw $e.addIssue(Q(Ar,Ct)),$e})})}else{const le=this;return(0,n.OK)(function(...He){const $e=le._def.args.safeParse(He,Y);if(!$e.success)throw new s.ZodError([H(He,$e.error)]);const it=Reflect.apply(fe,this,$e.data),Ar=le._def.returns.safeParse(it,Y);if(!Ar.success)throw new s.ZodError([Q(it,Ar.error)]);return Ar.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...T){return new Me({...this._def,args:oe.create(T).rest(C.create())})}returns(T){return new Me({...this._def,returns:T})}implement(T){return this.parse(T)}strictImplement(T){return this.parse(T)}static create(T,L,H){return new Me({args:T||oe.create([]).rest(C.create()),returns:L||C.create(),typeName:je.ZodFunction,...u(H)})}}t.ZodFunction=Me;class Ie extends l{get schema(){return this._def.getter()}_parse(T){const{ctx:L}=this._processInputParams(T);return this._def.getter()._parse({data:L.data,path:L.path,parent:L})}}t.ZodLazy=Ie,Ie.create=(Z,T)=>new Ie({getter:Z,typeName:je.ZodLazy,...u(T)});class De extends l{_parse(T){if(T.data!==this._def.value){const L=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(L,{received:L.data,code:s.ZodIssueCode.invalid_literal,expected:this._def.value}),n.INVALID}return{status:"valid",value:T.data}}get value(){return this._def.value}}t.ZodLiteral=De,De.create=(Z,T)=>new De({value:Z,typeName:je.ZodLiteral,...u(T)});function te(Z,T){return new de({values:Z,typeName:je.ZodEnum,...u(T)})}class de extends l{_parse(T){if(typeof T.data!="string"){const L=this._getOrReturnCtx(T),H=this._def.values;return(0,n.addIssueToContext)(L,{expected:i.util.joinValues(H),received:L.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(this._def.values.indexOf(T.data)===-1){const L=this._getOrReturnCtx(T),H=this._def.values;return(0,n.addIssueToContext)(L,{received:L.data,code:s.ZodIssueCode.invalid_enum_value,options:H}),n.INVALID}return(0,n.OK)(T.data)}get options(){return this._def.values}get enum(){const T={};for(const L of this._def.values)T[L]=L;return T}get Values(){const T={};for(const L of this._def.values)T[L]=L;return T}get Enum(){const T={};for(const L of this._def.values)T[L]=L;return T}extract(T){return de.create(T)}exclude(T){return de.create(this.options.filter(L=>!T.includes(L)))}}t.ZodEnum=de,de.create=te;class ke extends l{_parse(T){const L=i.util.getValidEnumValues(this._def.values),H=this._getOrReturnCtx(T);if(H.parsedType!==i.ZodParsedType.string&&H.parsedType!==i.ZodParsedType.number){const Q=i.util.objectValues(L);return(0,n.addIssueToContext)(H,{expected:i.util.joinValues(Q),received:H.parsedType,code:s.ZodIssueCode.invalid_type}),n.INVALID}if(L.indexOf(T.data)===-1){const Q=i.util.objectValues(L);return(0,n.addIssueToContext)(H,{received:H.data,code:s.ZodIssueCode.invalid_enum_value,options:Q}),n.INVALID}return(0,n.OK)(T.data)}get enum(){return this._def.values}}t.ZodNativeEnum=ke,ke.create=(Z,T)=>new ke({values:Z,typeName:je.ZodNativeEnum,...u(T)});class We extends l{unwrap(){return this._def.type}_parse(T){const{ctx:L}=this._processInputParams(T);if(L.parsedType!==i.ZodParsedType.promise&&L.common.async===!1)return(0,n.addIssueToContext)(L,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.promise,received:L.parsedType}),n.INVALID;const H=L.parsedType===i.ZodParsedType.promise?L.data:Promise.resolve(L.data);return(0,n.OK)(H.then(Q=>this._def.type.parseAsync(Q,{path:L.path,errorMap:L.common.contextualErrorMap})))}}t.ZodPromise=We,We.create=(Z,T)=>new We({type:Z,typeName:je.ZodPromise,...u(T)});class Qe extends l{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(T){const{status:L,ctx:H}=this._processInputParams(T),Q=this._def.effect||null,Y={addIssue:fe=>{(0,n.addIssueToContext)(H,fe),fe.fatal?L.abort():L.dirty()},get path(){return H.path}};if(Y.addIssue=Y.addIssue.bind(Y),Q.type==="preprocess"){const fe=Q.transform(H.data,Y);return H.common.issues.length?{status:"dirty",value:H.data}:H.common.async?Promise.resolve(fe).then(le=>this._def.schema._parseAsync({data:le,path:H.path,parent:H})):this._def.schema._parseSync({data:fe,path:H.path,parent:H})}if(Q.type==="refinement"){const fe=le=>{const He=Q.refinement(le,Y);if(H.common.async)return Promise.resolve(He);if(He instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return le};if(H.common.async===!1){const le=this._def.schema._parseSync({data:H.data,path:H.path,parent:H});return le.status==="aborted"?n.INVALID:(le.status==="dirty"&&L.dirty(),fe(le.value),{status:L.value,value:le.value})}else return this._def.schema._parseAsync({data:H.data,path:H.path,parent:H}).then(le=>le.status==="aborted"?n.INVALID:(le.status==="dirty"&&L.dirty(),fe(le.value).then(()=>({status:L.value,value:le.value}))))}if(Q.type==="transform")if(H.common.async===!1){const fe=this._def.schema._parseSync({data:H.data,path:H.path,parent:H});if(!(0,n.isValid)(fe))return fe;const le=Q.transform(fe.value,Y);if(le instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:L.value,value:le}}else return this._def.schema._parseAsync({data:H.data,path:H.path,parent:H}).then(fe=>(0,n.isValid)(fe)?Promise.resolve(Q.transform(fe.value,Y)).then(le=>({status:L.value,value:le})):fe);i.util.assertNever(Q)}}t.ZodEffects=Qe,t.ZodTransformer=Qe,Qe.create=(Z,T,L)=>new Qe({schema:Z,typeName:je.ZodEffects,effect:T,...u(L)}),Qe.createWithPreprocess=(Z,T,L)=>new Qe({schema:T,effect:{type:"preprocess",transform:Z},typeName:je.ZodEffects,...u(L)});class ht extends l{_parse(T){return this._getType(T)===i.ZodParsedType.undefined?(0,n.OK)(void 0):this._def.innerType._parse(T)}unwrap(){return this._def.innerType}}t.ZodOptional=ht,ht.create=(Z,T)=>new ht({innerType:Z,typeName:je.ZodOptional,...u(T)});class Jt extends l{_parse(T){return this._getType(T)===i.ZodParsedType.null?(0,n.OK)(null):this._def.innerType._parse(T)}unwrap(){return this._def.innerType}}t.ZodNullable=Jt,Jt.create=(Z,T)=>new Jt({innerType:Z,typeName:je.ZodNullable,...u(T)});class Lt extends l{_parse(T){const{ctx:L}=this._processInputParams(T);let H=L.data;return L.parsedType===i.ZodParsedType.undefined&&(H=this._def.defaultValue()),this._def.innerType._parse({data:H,path:L.path,parent:L})}removeDefault(){return this._def.innerType}}t.ZodDefault=Lt,Lt.create=(Z,T)=>new Lt({innerType:Z,typeName:je.ZodDefault,defaultValue:typeof T.default=="function"?T.default:()=>T.default,...u(T)});class Tn extends l{_parse(T){const{ctx:L}=this._processInputParams(T),H={...L,common:{...L.common,issues:[]}},Q=this._def.innerType._parse({data:H.data,path:H.path,parent:{...H}});return(0,n.isAsync)(Q)?Q.then(Y=>({status:"valid",value:Y.status==="valid"?Y.value:this._def.catchValue({get error(){return new s.ZodError(H.common.issues)},input:H.data})})):{status:"valid",value:Q.status==="valid"?Q.value:this._def.catchValue({get error(){return new s.ZodError(H.common.issues)},input:H.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=Tn,Tn.create=(Z,T)=>new Tn({innerType:Z,typeName:je.ZodCatch,catchValue:typeof T.catch=="function"?T.catch:()=>T.catch,...u(T)});class Cn extends l{_parse(T){if(this._getType(T)!==i.ZodParsedType.nan){const H=this._getOrReturnCtx(T);return(0,n.addIssueToContext)(H,{code:s.ZodIssueCode.invalid_type,expected:i.ZodParsedType.nan,received:H.parsedType}),n.INVALID}return{status:"valid",value:T.data}}}t.ZodNaN=Cn,Cn.create=Z=>new Cn({typeName:je.ZodNaN,...u(Z)}),t.BRAND=Symbol("zod_brand");class xs extends l{_parse(T){const{ctx:L}=this._processInputParams(T),H=L.data;return this._def.type._parse({data:H,path:L.path,parent:L})}unwrap(){return this._def.type}}t.ZodBranded=xs;class Xr extends l{_parse(T){const{status:L,ctx:H}=this._processInputParams(T);if(H.common.async)return(async()=>{const Y=await this._def.in._parseAsync({data:H.data,path:H.path,parent:H});return Y.status==="aborted"?n.INVALID:Y.status==="dirty"?(L.dirty(),(0,n.DIRTY)(Y.value)):this._def.out._parseAsync({data:Y.value,path:H.path,parent:H})})();{const Q=this._def.in._parseSync({data:H.data,path:H.path,parent:H});return Q.status==="aborted"?n.INVALID:Q.status==="dirty"?(L.dirty(),{status:"dirty",value:Q.value}):this._def.out._parseSync({data:Q.value,path:H.path,parent:H})}}static create(T,L){return new Xr({in:T,out:L,typeName:je.ZodPipeline})}}t.ZodPipeline=Xr;class In extends l{_parse(T){const L=this._def.innerType._parse(T);return(0,n.isValid)(L)&&(L.value=Object.freeze(L.value)),L}}t.ZodReadonly=In,In.create=(Z,T)=>new In({innerType:Z,typeName:je.ZodReadonly,...u(T)});const Wl=(Z,T={},L)=>Z?j.create().superRefine((H,Q)=>{var Y,fe;if(!Z(H)){const le=typeof T=="function"?T(H):typeof T=="string"?{message:T}:T,He=(fe=(Y=le.fatal)!==null&&Y!==void 0?Y:L)!==null&&fe!==void 0?fe:!0,$e=typeof le=="string"?{message:le}:le;Q.addIssue({code:"custom",...$e,fatal:He})}}):j.create();t.custom=Wl,t.late={object:$.lazycreate};var je;(function(Z){Z.ZodString="ZodString",Z.ZodNumber="ZodNumber",Z.ZodNaN="ZodNaN",Z.ZodBigInt="ZodBigInt",Z.ZodBoolean="ZodBoolean",Z.ZodDate="ZodDate",Z.ZodSymbol="ZodSymbol",Z.ZodUndefined="ZodUndefined",Z.ZodNull="ZodNull",Z.ZodAny="ZodAny",Z.ZodUnknown="ZodUnknown",Z.ZodNever="ZodNever",Z.ZodVoid="ZodVoid",Z.ZodArray="ZodArray",Z.ZodObject="ZodObject",Z.ZodUnion="ZodUnion",Z.ZodDiscriminatedUnion="ZodDiscriminatedUnion",Z.ZodIntersection="ZodIntersection",Z.ZodTuple="ZodTuple",Z.ZodRecord="ZodRecord",Z.ZodMap="ZodMap",Z.ZodSet="ZodSet",Z.ZodFunction="ZodFunction",Z.ZodLazy="ZodLazy",Z.ZodLiteral="ZodLiteral",Z.ZodEnum="ZodEnum",Z.ZodEffects="ZodEffects",Z.ZodNativeEnum="ZodNativeEnum",Z.ZodOptional="ZodOptional",Z.ZodNullable="ZodNullable",Z.ZodDefault="ZodDefault",Z.ZodCatch="ZodCatch",Z.ZodPromise="ZodPromise",Z.ZodBranded="ZodBranded",Z.ZodPipeline="ZodPipeline",Z.ZodReadonly="ZodReadonly"})(je=t.ZodFirstPartyTypeKind||(t.ZodFirstPartyTypeKind={}));const bo=(Z,T={message:`Input not instance of ${Z.name}`})=>(0,t.custom)(L=>L instanceof Z,T);t.instanceof=bo;const ql=N.create;t.string=ql;const Ss=R.create;t.number=Ss;const On=Cn.create;t.nan=On;const wo=D.create;t.bigint=wo;const Zl=W.create;t.boolean=Zl;const Zh=G.create;t.date=Zh;const Mx=F.create;t.symbol=Mx;const Dx=X.create;t.undefined=Dx;const Qv=B.create;t.null=Qv;const Bx=j.create;t.any=Bx;const Lx=C.create;t.unknown=Lx;const $x=k.create;t.never=$x;const Ux=O.create;t.void=Ux;const Fx=P.create;t.array=Fx;const jx=$.create;t.object=jx;const Kv=$.strictCreate;t.strictObject=Kv;const Jv=z.create;t.union=Jv;const zx=ne.create;t.discriminatedUnion=zx;const Jp=ae.create;t.intersection=Jp;const e_=oe.create;t.tuple=e_;const t_=ve.create;t.record=t_;const Hx=Ne.create;t.map=Hx;const Vx=_e.create;t.set=Vx;const Gx=Me.create;t.function=Gx;const r_=Ie.create;t.lazy=r_;const em=De.create;t.literal=em;const Wx=de.create;t.enum=Wx;const qx=ke.create;t.nativeEnum=qx;const Xh=We.create;t.promise=Xh;const n_=Qe.create;t.effect=n_,t.transformer=n_;const Zx=ht.create;t.optional=Zx;const Xx=Jt.create;t.nullable=Xx;const Yx=Qe.createWithPreprocess;t.preprocess=Yx;const Qx=Xr.create;t.pipeline=Qx;const Kx=()=>ql().optional();t.ostring=Kx;const Jx=()=>Ss().optional();t.onumber=Jx;const eS=()=>Zl().optional();t.oboolean=eS,t.coerce={string:Z=>N.create({...Z,coerce:!0}),number:Z=>R.create({...Z,coerce:!0}),boolean:Z=>W.create({...Z,coerce:!0}),bigint:Z=>D.create({...Z,coerce:!0}),date:Z=>G.create({...Z,coerce:!0})},t.NEVER=n.INVALID})(kG);(function(t){var e=at&&at.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=at&&at.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ra,t),r(sM,t),r(PG,t),r(Dv,t),r(kG,t),r(na,t)})(C2);(function(t){var e=at&&at.__createBinding||(Object.create?function(o,a,u,l){l===void 0&&(l=u),Object.defineProperty(o,l,{enumerable:!0,get:function(){return a[u]}})}:function(o,a,u,l){l===void 0&&(l=u),o[l]=a[u]}),r=at&&at.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),n=at&&at.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var u in o)u!=="default"&&Object.prototype.hasOwnProperty.call(o,u)&&e(a,o,u);return r(a,o),a},i=at&&at.__exportStar||function(o,a){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&e(a,o,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;const s=n(C2);t.z=s,i(C2,t),t.default=s})(CG);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.balanceSchema=t.symbolSchema=t.decimalsSchema=t.uint256Schema=void 0;const e=CG;t.uint256Schema=e.z.object({low:e.z.bigint(),high:e.z.bigint()}),t.decimalsSchema=e.z.object({decimals:e.z.bigint()}),t.symbolSchema=e.z.object({symbol:e.z.bigint()}),t.balanceSchema=e.z.object({balance:t.uint256Schema})})(TG);var g$;function tfe(){if(g$)return Dm;g$=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.useBalance=void 0;const t=Mh,e=we,r=po,n=Uh,i=WG(),s=TG,o="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",a=[{members:[{name:"low",offset:0,type:"felt"},{name:"high",offset:1,type:"felt"}],name:"Uint256",size:2,type:"struct"},{name:"balanceOf",type:"function",inputs:[{name:"account",type:"felt"}],outputs:[{name:"balance",type:"Uint256"}],stateMutability:"view"},{inputs:[],name:"symbol",outputs:[{name:"symbol",type:"felt"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"decimals",type:"felt"}],stateMutability:"view",type:"function"}];function u({token:f=o,address:p,formatUnits:m,watch:y=!1,blockIdentifier:g="pending"}){const{chain:w}=(0,i.useNetwork)(),{contract:b}=(0,i.useContract)({abi:a,address:f}),_=(0,e.useMemo)(()=>c({chain:w,args:{contract:b,address:p,blockIdentifier:g}}),[w,b,p,g]),{data:E,error:x,isStale:N,isLoading:M,isFetching:R,isSuccess:D,isError:W,isFetched:G,isFetchedAfterMount:F,isRefetching:X,refetch:B,status:j}=(0,r.useQuery)(_,l({args:{contract:b,address:p,blockIdentifier:g}}),{enabled:!!p});return(0,n.useInvalidateOnBlock)({enabled:y,queryKey:_}),{data:(0,e.useMemo)(()=>{if(!E)return;const{decimals:{decimals:k},balance:{balance:O},symbol:{symbol:P}}=E,U=Number(k),$=t.uint256.uint256ToBN(O),z=(Number($.toString())/10**(m||U)).toString(),q=t.shortString.decodeShortString(t.num.toHex(P));return{decimals:U,formatted:z,symbol:q,value:$}},[E,m]),error:x??void 0,isIdle:N,isLoading:M,isFetching:R,isSuccess:D,isError:W,isFetched:G,isFetchedAfterMount:F,isRefetching:X,refetch:B,status:j}}Dm.useBalance=u;function l({args:f}){return async()=>{if(!f.address||!f.contract)return null;try{const[p,m,y]=await Promise.all([f.contract.call("balanceOf",[f.address],{parseResponse:!0}),f.contract.call("symbol",[]),f.contract.call("decimals",[])]),g=s.balanceSchema.parse(p),w=s.symbolSchema.parse(m),b=s.decimalsSchema.parse(y);return{balance:g,symbol:w,decimals:b}}catch{return null}}}function c({chain:f,args:p}){const{contract:m,address:y,blockIdentifier:g}=p;return[{entity:"balance",chainId:f==null?void 0:f.id,contract:m==null?void 0:m.address,args:y,blockIdentifier:g}]}return Dm}var YE={},gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.useContractFactory=gh.useContract=void 0;const MG=we,DG=Mh,rfe=fo;function nfe({abi:t,address:e}){const{library:r}=(0,rfe.useStarknet)();return{contract:(0,MG.useMemo)(()=>{if(t&&e&&r)return new DG.Contract(t,e,r)},[t,e,r])}}gh.useContract=nfe;function ife({compiledContract:t,classHash:e,abi:r,account:n}){return{contractFactory:(0,MG.useMemo)(()=>{if(t&&n&&e)return new DG.ContractFactory(t,e,n,r)},[t,e,n,r])}}gh.useContractFactory=ife;var Fh={},Bv={};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.chainById=void 0;const yd=Mh;function sfe(t){return ofe[t]}Bv.chainById=sfe;const ofe={[yd.constants.StarknetChainId.SN_MAIN]:{id:yd.constants.StarknetChainId.SN_MAIN,name:"Starknet Mainnet",testnet:!1},[yd.constants.StarknetChainId.SN_GOERLI]:{id:yd.constants.StarknetChainId.SN_GOERLI,name:"Starknet Grli"},[yd.constants.StarknetChainId.SN_GOERLI2]:{id:yd.constants.StarknetChainId.SN_GOERLI2,name:"Starknet Grli 2"}};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.useNetwork=void 0;const v$=we,afe=fo,ufe=Bv;function lfe(){const{library:t}=(0,afe.useStarknet)(),[e,r]=(0,v$.useState)();return(0,v$.useEffect)(()=>{t?t.getChainId().then(n=>r((0,ufe.chainById)(n))):r(void 0)},[t]),{chain:e}}Fh.useNetwork=lfe;Object.defineProperty(YE,"__esModule",{value:!0});YE.useContractRead=void 0;const cfe=po,hfe=we,dfe=gh,ffe=Uh,pfe=Fh;function mfe({abi:t,address:e,functionName:r,args:n,watch:i=!1,blockIdentifier:s="pending"}){const{chain:o}=(0,pfe.useNetwork)(),{contract:a}=(0,dfe.useContract)({abi:t,address:e}),u=(0,hfe.useMemo)(()=>gfe({chain:o,args:{contract:a,functionName:r,args:n,blockIdentifier:s}}),[o,a,r,n,s]),{data:l,error:c,isStale:f,isLoading:p,isFetching:m,isSuccess:y,isError:g,isFetched:w,isFetchedAfterMount:b,isRefetching:_,refetch:E,status:x}=(0,cfe.useQuery)(u,yfe({args:{contract:a,functionName:r,args:n,blockIdentifier:s}}));return(0,ffe.useInvalidateOnBlock)({enabled:i,queryKey:u}),{data:l,error:c??void 0,isIdle:f,isLoading:p,isFetching:m,isSuccess:y,isError:g,isFetched:w,isFetchedAfterMount:b,isRefetching:_,refetch:E,status:x}}YE.useContractRead=mfe;function yfe({args:t}){return async()=>{if(!t.args||!t.contract||!t.functionName||!(t.contract&&t.functionName))return null;const r=t.contract[t.functionName];if(!r)throw new Error(`Function ${t.functionName} not found on contract`);return await r(...t.args,{blockIdentifier:t.blockIdentifier})}}function gfe({chain:t,args:e}){const{contract:r,functionName:n,args:i,blockIdentifier:s}=e;return[{entity:"readContract",chain:t,contract:r==null?void 0:r.address,functionName:n,args:i,blockIdentifier:s}]}var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.useDeploy=void 0;const vfe=po,_fe=Mh;function bfe({contractFactory:t,constructorCalldata:e,addressSalt:r}){const{data:n,isLoading:i,error:s,reset:o,mutateAsync:a,mutate:u,isError:l,isIdle:c,isSuccess:f,status:p}=(0,vfe.useMutation)(wfe({contractFactory:t,constructorCalldata:e,addressSalt:r}));return{data:n,isLoading:i,error:s??void 0,reset:o,deploy:u,deployAsync:a,isError:l,isIdle:c,isSuccess:f,status:p}}QE.useDeploy=bfe;function wfe({contractFactory:t,constructorCalldata:e,addressSalt:r}){return async()=>{if(t===void 0)throw new Error("No contract factory defined");return await t.deploy(_fe.CallData.toCalldata(e),{addressSalt:r})}}var KE={};Object.defineProperty(KE,"__esModule",{value:!0});KE.useContractWrite=void 0;const Efe=po,xfe=Vp;function Sfe({calls:t,metadata:e}){const{account:r}=(0,xfe.useAccount)(),{data:n,isLoading:i,error:s,reset:o,mutate:a,mutateAsync:u,isIdle:l,isSuccess:c,status:f,isError:p}=(0,Efe.useMutation)(Afe({account:r,args:{calls:t,metadata:e}}));return{data:n,error:s??void 0,reset:o,write:a,writeAsync:u,isError:p,isIdle:l,isLoading:i,isSuccess:c,status:f}}KE.useContractWrite=Sfe;function Afe({account:t,args:e}){return async()=>{const{calls:r,metadata:n}=e;if(t===void 0)throw new Error("No connector connected");if(r===void 0)throw new Error("No calls specified");const i=await t.execute(r);return console.warn("TODO: ignoring metadata",n),i}}var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.useProvider=void 0;const Tfe=fo;function Cfe(){const{library:t}=(0,Tfe.useStarknet)();return{provider:t}}JE.useProvider=Cfe;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.useSignTypedData=void 0;const Ife=Mh,MT=we,Ofe=Vp,Rfe=Gp;function Pfe(t,e){return e.type==="start_signing"?{...t,isLoading:!0}:e.type==="set_signature"?{...t,data:Ife.stark.formatSignature(e.data),isLoading:!1}:e.type==="set_error"?{...t,error:e.error,isLoading:!1}:e.type==="reset"?{...t,data:void 0,error:void 0,isLoading:!1}:t}function kfe(t){const[e,r]=(0,MT.useReducer)(Pfe,{isLoading:!1}),{address:n}=(0,Ofe.useAccount)(),{connectors:i}=(0,Rfe.useConnectors)(),s=(0,MT.useCallback)(()=>{r({type:"reset"})},[r]),{data:o,error:a,isLoading:u}=e,l=(0,MT.useCallback)(async()=>{r({type:"reset"}),r({type:"start_signing"});try{let c=null;const f=i.filter(m=>m.available());for(const m of f){const y=await m.account();if(y&&y.address===n){c=y;break}}if(!c)throw new Error(`No connector for address ${n}`);const p=await c.signMessage(t);return r({type:"set_signature",data:p}),p}catch(c){const f=c instanceof Error?c.message:String(c);r({type:"set_error",error:f}),console.error(c)}},[n,i,t]);return{data:o,error:a,isLoading:u,isError:!!a,signTypedData:l,reset:s}}ex.useSignTypedData=kfe;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.useTransactions=np.useTransaction=void 0;const BG=po,LG=fo,$G=Uh,UG=Fh;function Nfe({hash:t,watch:e=!1}){const{library:r}=(0,LG.useStarknet)(),{chain:n}=(0,UG.useNetwork)(),i=FG({chain:n,hash:t}),{data:s,error:o,isStale:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:w}=(0,BG.useQuery)(i,jG({library:r,hash:t}));return(0,$G.useInvalidateOnBlock)({enabled:e,queryKey:i}),{data:s,error:o??void 0,isIdle:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:w}}np.useTransaction=Nfe;function Mfe({hashes:t,watch:e=!1}){const{library:r}=(0,LG.useStarknet)(),{chain:n}=(0,UG.useNetwork)(),i=(0,BG.useQueries)({queries:t.map(s=>({queryKey:FG({chain:n,hash:s}),queryFn:jG({library:r,hash:s})}))});return(0,$G.useInvalidateOnBlock)({enabled:e,queryKey:[{entity:"transaction",chainId:n==null?void 0:n.id}]}),i.map(({data:s,error:o,isStale:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:w})=>({data:s,error:o??void 0,isIdle:a,isLoading:u,isFetching:l,isSuccess:c,isError:f,isFetched:p,isFetchedAfterMount:m,isRefetching:y,refetch:g,status:w}))}np.useTransactions=Mfe;function FG({chain:t,hash:e}){return[{entity:"transaction",chainId:t==null?void 0:t.id,hash:e}]}function jG({library:t,hash:e}){return async()=>{if(!e)throw new Error("hash is required");return await t.getTransaction(e)}}var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.useWaitForTransaction=void 0;const Dfe=po,Bfe=we,Lfe=fo,$fe=Uh,Ufe=Fh;function Ffe({hash:t,watch:e,onAcceptedOnL1:r,onAcceptedOnL2:n,onNotReceived:i,onPending:s,onReceived:o,onRejected:a}){const{library:u}=(0,Lfe.useStarknet)(),{chain:l}=(0,Ufe.useNetwork)(),c=(0,Bfe.useMemo)(()=>jfe({chain:l,hash:t}),[l,t]),{data:f,error:p,isStale:m,isLoading:y,isFetching:g,isSuccess:w,isError:b,isFetched:_,isFetchedAfterMount:E,isRefetching:x,refetch:N,status:M}=(0,Dfe.useQuery)(c,zfe({library:u,hash:t}),{enabled:!!t,refetchInterval:(R,D)=>e?Hfe(R):!1,onSuccess:R=>{const{status:D}=R;switch(D){case"ACCEPTED_ON_L1":r&&r(R);break;case"ACCEPTED_ON_L2":n&&n(R);break;case"NOT_RECEIVED":i&&i(R);break;case"PENDING":s&&s(R);break;case"RECEIVED":o&&o(R);break;case"REJECTED":a&&a(R);break}}});return(0,$fe.useInvalidateOnBlock)({enabled:e,queryKey:c}),{data:f,error:p??void 0,isIdle:m,isLoading:y,isFetching:g,isSuccess:w,isError:b,isFetched:_,isFetchedAfterMount:E,isRefetching:x,refetch:N,status:M}}tx.useWaitForTransaction=Ffe;function jfe({chain:t,hash:e}){return[{entity:"transactionReceipt",chainId:t==null?void 0:t.id,hash:e}]}function zfe({library:t,hash:e}){return async()=>{if(!e)throw new Error("hash is required");return await t.getTransactionReceipt(e)}}function Hfe(t){if(!t)return!1;const{status:e}=t;switch(e){case"ACCEPTED_ON_L1":return!1;case"ACCEPTED_ON_L2":return 6e4;case"NOT_RECEIVED":return 500;case"PENDING":return 5e3;case"RECEIVED":return 5e3;case"REJECTED":return!1;default:return!1}}var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.useAddressFromStarkName=ip.useStarkName=void 0;const zG=po,HG=Mh,VG=fo;function Vfe({address:t,contract:e}){const{library:r}=(0,VG.useStarknet)(),{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isFetching:u,isStale:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,zG.useQuery)({queryKey:["starkName"],queryFn:async()=>{const g=new HG.Provider(r);console.log("lookup ",t," on ",e);const w=g.getStarkName(t,e);if(console.log("result",w),w instanceof Error)throw new Error(w.message);return w}});return{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isIdle:l,isFetching:u,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}ip.useStarkName=Vfe;function Gfe({name:t,contract:e}){const{library:r}=(0,VG.useStarknet)(),{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isFetching:u,isStale:l,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}=(0,zG.useQuery)({queryKey:["addressFromStarkName"],queryFn:async()=>{const w=new HG.Provider(r).getAddressFromStarkName(t,e);if(w instanceof Error)throw new Error(w.message);return w}});return{data:n,isLoading:i,isSuccess:s,isError:o,error:a,isIdle:l,isFetching:u,isFetched:c,isFetchedAfterMount:f,isRefetching:p,refetch:m,status:y}}ip.useAddressFromStarkName=Gfe;var _$;function Wfe(){return _$||(_$=1,function(t){var e=at&&at.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=at&&at.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vp,t),r(tfe(),t),r(yh,t),r(YE,t),r(Gp,t),r(gh,t),r(QE,t),r(KE,t),r(JE,t),r(Fh,t),r(ex,t),r(np,t),r(tx,t),r(ip,t)}(kT)),kT}var GG={},Lv={};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.Connector=void 0;class qfe{constructor({options:e}){this.options=e}}Lv.Connector=qfe;var rx={},O2={exports:{}};(function(t,e){var r=Object.defineProperty,n=(c,f,p)=>f in c?r(c,f,{enumerable:!0,configurable:!0,writable:!0,value:p}):c[f]=p,i=(c,f,p)=>(n(c,typeof f!="symbol"?f+"":f,p),p),s=(c,f,p)=>{if(!f.has(c))throw TypeError("Cannot "+p)},o=(c,f,p)=>(s(c,f,"read from private field"),p?p.call(c):f.get(c)),a=(c,f,p)=>{if(f.has(c))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(c):f.set(c,p)},u=(c,f,p,m)=>(s(c,f,"write to private field"),m?m.call(c,p):f.set(c,p),p),l=(c,f,p)=>(s(c,f,"access private method"),p);(function(c,f){f(e)})(at,function(c){var f,p,m,y,g,w,b;const _=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc"}}],E=()=>`${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,x=C=>{for(let k=C.length-1;k>0;k--){const O=Math.floor(Math.random()*(k+1));[C[k],C[O]]=[C[O],C[k]]}return C};function N(...C){return k=>C.reduce((O,P)=>O.then(P),Promise.resolve(k))}class M{constructor(k){a(this,y),a(this,w),a(this,f,!1),a(this,p,void 0),a(this,m,void 0),i(this,"value"),u(this,m,k),l(this,w,b).call(this)}set(k){return!o(this,f)&&!l(this,w,b).call(this)?!1:(this.delete(),this.value=k,k&&(u(this,p,`${o(this,m)}-${E()}`),localStorage.setItem(o(this,p),k)),!0)}get(){return l(this,y,g).call(this),this.value}delete(){return!o(this,f)&&!l(this,w,b).call(this)?!1:(this.value=null,o(this,p)&&localStorage.removeItem(o(this,p)),!0)}}f=new WeakMap,p=new WeakMap,m=new WeakMap,y=new WeakSet,g=function(){this.value&&this.set(this.value)},w=new WeakSet,b=function(){try{!o(this,f)&&typeof window<"u"&&(u(this,p,Object.keys(localStorage).find(C=>C.startsWith(o(this,m)))),u(this,f,!0),o(this,p)&&this.set(localStorage.getItem(o(this,p))))}catch(C){console.warn(C)}return o(this,f)};function R(C,k){var O,P;if((O=k==null?void 0:k.include)!=null&&O.length){const U=new Set(k.include);return C.filter($=>U.has($.id))}if((P=k==null?void 0:k.exclude)!=null&&P.length){const U=new Set(k.exclude);return C.filter($=>!U.has($.id))}return C}const D=async C=>{const k=await Promise.all(C.map(O=>O.isPreauthorized().catch(()=>!1)));return C.filter((O,P)=>k[P])},W=C=>{try{return C&&["request","isConnected","provider","enable","isPreauthorized","on","off","version","id","name","icon"].every(k=>k in C)}catch{}return!1};function G(C,k){return Object.values(Object.getOwnPropertyNames(C).reduce((O,P)=>{if(P.startsWith("starknet")){const U=C[P];k(U)&&!O[U.id]&&(O[U.id]=U)}return O},{}))}const F=(C,k)=>{if(k&&Array.isArray(k)){C.sort((P,U)=>k.indexOf(P.id)-k.indexOf(U.id));const O=C.length-k.length;return[...C.slice(O),...x(C.slice(0,O))]}else return x(C)},X={windowObject:typeof window<"u"?window:{},isWalletObject:W,storageFactoryImplementation:C=>new M(C)};function B(C={}){const{storageFactoryImplementation:k,windowObject:O,isWalletObject:P}={...X,...C},U=k("gsw-last");return{getAvailableWallets:async($={})=>{const z=G(O,P);return N(q=>R(q,$),q=>F(q,$.sort))(z)},getPreAuthorizedWallets:async($={})=>{const z=G(O,P);return N(q=>D(q),q=>R(q,$),q=>F(q,$.sort))(z)},getDiscoveryWallets:async($={})=>N(z=>R(z,$),z=>F(z,$.sort))(_),getLastConnectedWallet:async()=>{const $=U.get(),z=G(O,P).find(ne=>ne.id===$),[q]=await D(z?[z]:[]);return q||(U.delete(),null)},enable:async($,z)=>{if(await $.enable(z??{starknetVersion:"v5"}),!$.isConnected)throw new Error("Failed to connect to wallet");return U.set($.id),$},disconnect:async({clearLastWallet:$}={})=>{$&&U.delete()}}}const j=B();c.default=j,c.getStarknet=B,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})})(O2,O2.exports);var Zfe=O2.exports;Object.defineProperty(rx,"__esModule",{value:!0});rx.InjectedConnector=void 0;const Xfe=Lv,Do=Ln,Yfe=Zfe;class Qfe extends Xfe.Connector{constructor({options:e}){super({options:e})}available(){return this.ensureWallet(),this._wallet!==void 0}async ready(){return await this.ensureWallet(),this._wallet?await this._wallet.isPreauthorized():!1}async connect(){if(await this.ensureWallet(),!this._wallet)throw new Do.ConnectorNotFoundError;try{await this._wallet.enable({starknetVersion:"v5"})}catch{throw new Do.UserRejectedRequestError}if(!this._wallet.isConnected)throw new Do.UserRejectedRequestError;return this._wallet.account}async disconnect(){var e;if(await this.ensureWallet(),!this.available())throw new Do.ConnectorNotFoundError;if(!((e=this._wallet)!=null&&e.isConnected))throw new Do.UserNotConnectedError}async account(){if(await this.ensureWallet(),!this._wallet)throw new Do.ConnectorNotConnectedError;return this._wallet.account?this._wallet.account:null}get id(){return this.options.id}get name(){if(this.ensureWallet(),!this._wallet)throw new Do.ConnectorNotConnectedError;return this._wallet.name}get icon(){if(this.ensureWallet(),!this._wallet)throw new Do.ConnectorNotConnectedError;return this._wallet.icon}async initEventListener(e){if(await this.ensureWallet(),!this._wallet)throw new Do.ConnectorNotConnectedError;this._wallet.on("accountsChanged",e)}async removeEventListener(e){if(await this.ensureWallet(),!this._wallet)throw new Do.ConnectorNotConnectedError;this._wallet.off("accountsChanged",e)}async ensureWallet(){const n=(await(0,Yfe.getStarknet)().getAvailableWallets()).filter(i=>i.id===this.options.id)[0];n&&(this._wallet=n)}}rx.InjectedConnector=Qfe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.InjectedConnector=t.Connector=void 0;var e=Lv;Object.defineProperty(t,"Connector",{enumerable:!0,get:function(){return e.Connector}});var r=rx;Object.defineProperty(t,"InjectedConnector",{enumerable:!0,get:function(){return r.InjectedConnector}})})(GG);var b$;function WG(){return b$||(b$=1,function(t){var e=at&&at.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var u=Object.getOwnPropertyDescriptor(s,o);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,u)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),r=at&&at.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.useTransactionManager=t.StarknetConfig=void 0;var n=fo;Object.defineProperty(t,"StarknetConfig",{enumerable:!0,get:function(){return n.StarknetConfig}}),Object.defineProperty(t,"useTransactionManager",{enumerable:!0,get:function(){return n.useTransactionManager}}),r(Wfe(),t),r(GG,t),r(Bv,t)}(cT)),cT}var Kfe=WG(),Jfe=()=>{try{const t="__test__";if(typeof window<"u")return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}return!1},Bm=Jfe(),w$=t=>{try{return t===""?null:JSON.parse(t)}catch(e){return console.error("Error parsing JSON data:",e,"Data:",t),null}},epe={keys:()=>Object.keys(Bm?window.localStorage:fd.get()),get:t=>w$(Bm?window.localStorage.getItem(t)||"":fd.get(t)||""),set:(t,e)=>{const r=JSON.stringify(e);Bm?window.localStorage.setItem(t,r):fd.set(t,r,{secure:!0,sameSite:"strict"})},remove:t=>{Bm?window.localStorage.removeItem(t):fd.remove(t)},clear:()=>{if(Bm)window.localStorage.clear();else{const t=fd.get();Object.keys(t).forEach(e=>fd.remove(e))}}},Lm=epe,tpe=async(t,e,r=spe)=>{try{const n={contractAddress:r,entrypoint:"transfer",calldata:pt.compile([t,ipe,"0x0"])},i=await e.getNonce(),{transaction_hash:s}=await e.execute(n,void 0,{nonce:i,maxFee:0}),o=await e.waitForTransaction(s,{retryInterval:1e3,successStates:[jP.ACCEPTED_ON_L2]});if(!o)throw new Error("Transaction did not complete successfully.");return o}catch(n){throw console.error(n),n}},rpe=class{constructor(t){ei(this,"masterAccount");ei(this,"accountClassHash");ei(this,"provider");ei(this,"account",null);ei(this,"isDeploying",!1);ei(this,"burnerAccounts",[]);ei(this,"setIsDeploying");this.masterAccount=t.masterAccount,this.accountClassHash=t.accountClassHash,this.provider=new bf({nodeUrl:t.nodeUrl||"http://localhost:5050"})}setIsDeployingCallback(t){this.setIsDeploying=t}updateIsDeploying(t){this.isDeploying=t,this.setIsDeploying&&this.setIsDeploying(t)}getBurnerStorage(){return Lm.get("burners")||{}}setActiveBurnerAccount(t){for(let e in t)if(t[e].active){this.account=new Id(this.provider,e,t[e].privateKey);return}}init(){var e;const t=this.getBurnerStorage();if(Object.keys(t).length>0){const r=Object.keys(t)[0];(e=this.masterAccount)==null||e.getTransactionReceipt(t[r].deployTx).then(n=>{if(!n)throw this.account=null,Lm.remove("burners"),new Error("Burners not deployed, chain may have restarted")}).catch(()=>{throw new Error("Error fetching transaction receipt")}),this.setActiveBurnerAccount(t)}}list(){const t=this.getBurnerStorage();return Object.keys(t).map(e=>({address:e,active:t[e].active}))}select(t){const e=this.getBurnerStorage();if(!e[t])throw new Error("burner not found");for(let r in e)e[r].active=!1;e[t].active=!0,Lm.set("burners",e),this.account=new Id(this.provider,t,e[t].privateKey)}get(t){const e=this.getBurnerStorage();if(!e[t])throw new Error("burner not found");return new Id(this.provider,t,e[t].privateKey)}clear(){Lm.clear()}getActiveAccount(){const t=this.getBurnerStorage();for(let e in t)if(t[e].active)return new Id(this.provider,e,t[e].privateKey);return null}async create(){var u;this.updateIsDeploying(!0);const t=VH.randomAddress(),e=MH.starkCurve.getStarkKey(t),r=NH.calculateContractAddressFromHash(e,this.accountClassHash,pt.compile({publicKey:e}),0);if(!this.masterAccount)throw new Error("wallet account not found");try{await tpe(r,this.masterAccount)}catch{this.isDeploying=!1}const n={classHash:this.accountClassHash,constructorCalldata:pt.compile({publicKey:e}),addressSalt:e},i=new Id(this.provider,r,t),s=await((u=this.account)==null?void 0:u.getNonce()),{transaction_hash:o}=await i.deployAccount(n,{nonce:s,maxFee:0}),a=this.getBurnerStorage();for(let l in a)a[l].active=!1;return a[r]={privateKey:t,publicKey:e,deployTx:o,active:!0},this.account=i,this.updateIsDeploying(!1),Lm.set("burners",a),i}},npe=t=>{const e=we.useMemo(()=>new rpe(t),[t]),[r,n]=we.useState(null),[i,s]=we.useState(0),[o,a]=we.useState(!1);we.useEffect(()=>{e.init(),n(e.getActiveAccount())},[]);const u=we.useCallback(()=>e.list(),[t,e.list(),i]),l=we.useCallback(y=>{e.select(y),n(e.getActiveAccount())},[e,t]),c=we.useCallback(y=>e.get(y),[t]),f=we.useCallback(()=>{e.clear(),s(y=>y+1)},[t]),p=we.useCallback(async()=>{e.setIsDeployingCallback(a);const y=await e.create();return n(y),y},[e,t]),m=we.useCallback(()=>u().map(g=>new ope({options:{id:g.address}},c(g.address))),[t,e.isDeploying]);return{get:c,list:u,select:l,create:p,listConnectors:m,clear:f,account:r,isDeploying:o}},ipe="0x2386f26fc10000",spe="0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",ope=class extends Kfe.Connector{constructor(e,r){super({options:e});ei(this,"_account");ei(this,"_name","Burner Connector");this._account=r}available(){return!0}async ready(){return!0}async connect(){if(!this._account)throw new Error("account not found");return Promise.resolve(this._account)}async disconnect(){Promise.resolve(this._account==null)}async initEventListener(){return Promise.resolve()}async removeEventListener(){return Promise.resolve()}async account(){return Promise.resolve(this._account)}get id(){var e;return((e=this._account)==null?void 0:e.address.toString())||"Burner Account"}get name(){return this._name}get icon(){return"my-icon-url"}};const R2=we.createContext(null),ape=({children:t,value:e})=>{if(we.useContext(R2))throw new Error("DojoProvider can only be used once");return Yt.jsx(R2.Provider,{value:e,children:t})},upe=()=>{const t=we.useContext(R2);if(!t)throw new Error("The `useDojo` hook must be used within a `DojoProvider`");console.log("http://localhost:5050");const e=we.useMemo(()=>new bf({nodeUrl:"http://localhost:5050"}),[]),r="0x517ececd29116499f4a1b64b094da79ba08dfd54a3edaa316134c41f8160973",n="0x1800000000300000180000000000030000000000003006001800006600",i=we.useMemo(()=>new Id(e,r,n),[e,r,n]),{create:s,list:o,get:a,account:u,select:l,isDeploying:c}=npe({masterAccount:i,accountClassHash:"0x04d07e40e93398ed3c76981e72dd1fd22557a78ce36c0515f679e27f0bb5bc5f",nodeUrl:"http://localhost:5050"});return{setup:t,account:{create:s,list:o,get:a,select:l,account:u||i,isDeploying:c}}};var nx={exports:{}},jh=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(jh||{}),qG=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(qG||{}),P2=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(P2||{}),Ge=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ge||{}),Vs=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Vs||{}),ge=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ge||{}),xf=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(xf||{}),ze=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ze||{}),Ae=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Ae||{}),Oi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Oi||{}),Ga=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Ga||{}),ca=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ca||{}),li=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(li||{}),Vo=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Vo||{}),oM=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(oM||{}),us=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(us||{}),Cr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Cr||{}),_r=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(_r||{}),ia=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ia||{});const lpe={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},Ce={ADAPTER:lpe,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var DT=/iPhone/i,E$=/iPod/i,x$=/iPad/i,S$=/\biOS-universal(?:.+)Mac\b/i,BT=/\bAndroid(?:.+)Mobile\b/i,A$=/Android/i,gd=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,P0=/Silk/i,Aa=/Windows Phone/i,T$=/\bWindows(?:.+)ARM\b/i,C$=/BlackBerry/i,I$=/BB10/i,O$=/Opera Mini/i,R$=/\b(CriOS|Chrome)(?:.+)Mobile/i,P$=/Mobile(?:.+)Firefox\b/i,k$=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function cpe(t){return function(e){return e.test(t)}}function N$(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=cpe(r),s={apple:{phone:i(DT)&&!i(Aa),ipod:i(E$),tablet:!i(DT)&&(i(x$)||k$(e))&&!i(Aa),universal:i(S$),device:(i(DT)||i(E$)||i(x$)||i(S$)||k$(e))&&!i(Aa)},amazon:{phone:i(gd),tablet:!i(gd)&&i(P0),device:i(gd)||i(P0)},android:{phone:!i(Aa)&&i(gd)||!i(Aa)&&i(BT),tablet:!i(Aa)&&!i(gd)&&!i(BT)&&(i(P0)||i(A$)),device:!i(Aa)&&(i(gd)||i(P0)||i(BT)||i(A$))||i(/\bokhttp\b/i)},windows:{phone:i(Aa),tablet:i(T$),device:i(Aa)||i(T$)},other:{blackberry:i(C$),blackberry10:i(I$),opera:i(O$),firefox:i(P$),chrome:i(R$),device:i(C$)||i(I$)||i(O$)||i(P$)||i(R$)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const hpe=N$.default??N$,za=hpe(globalThis.navigator);Ce.RETINA_PREFIX=/@([0-9\.]+)x/;Ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ZG={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function s(u,l,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||u,p),y=r?r+l:l;return u._events[y]?u._events[y].fn?u._events[y]=[u._events[y],m]:u._events[y].push(m):(u._events[y]=m,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=r?r+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},a.prototype.listenerCount=function(l){var c=r?r+l:l,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,c,f,p,m,y){var g=r?r+l:l;if(!this._events[g])return!1;var w=this._events[g],b=arguments.length,_,E;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,c),!0;case 3:return w.fn.call(w.context,c,f),!0;case 4:return w.fn.call(w.context,c,f,p),!0;case 5:return w.fn.call(w.context,c,f,p,m),!0;case 6:return w.fn.call(w.context,c,f,p,m,y),!0}for(E=1,_=new Array(b-1);E<b;E++)_[E-1]=arguments[E];w.fn.apply(w.context,_)}else{var x=w.length,N;for(E=0;E<x;E++)switch(w[E].once&&this.removeListener(l,w[E].fn,void 0,!0),b){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,c);break;case 3:w[E].fn.call(w[E].context,c,f);break;case 4:w[E].fn.call(w[E].context,c,f,p);break;default:if(!_)for(N=1,_=new Array(b-1);N<b;N++)_[N-1]=arguments[N];w[E].fn.apply(w[E].context,_)}}return!0},a.prototype.on=function(l,c,f){return s(this,l,c,f,!1)},a.prototype.once=function(l,c,f){return s(this,l,c,f,!0)},a.prototype.removeListener=function(l,c,f,p){var m=r?r+l:l;if(!this._events[m])return this;if(!c)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!p||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var g=0,w=[],b=y.length;g<b;g++)(y[g].fn!==c||p&&!y[g].once||f&&y[g].context!==f)&&w.push(y[g]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=r?r+l:l,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(ZG);var dpe=ZG.exports;const $v=Ol(dpe);var aM={exports:{}};aM.exports=ix;aM.exports.default=ix;function ix(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=XG(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,l,c,f,p,m;if(n&&(s=gpe(t,e,s,r)),t.length>80*r){a=l=t[0],u=c=t[1];for(var y=r;y<i;y+=r)f=t[y],p=t[y+1],f<a&&(a=f),p<u&&(u=p),f>l&&(l=f),p>c&&(c=p);m=Math.max(l-a,c-u),m=m!==0?32767/m:0}return Pg(s,o,r,a,u,m,0),o}function XG(t,e,r,n,i){var s,o;if(i===M2(t,e,r,n)>0)for(s=e;s<r;s+=n)o=M$(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=M$(s,t[s],t[s+1],o);return o&&sx(o,o.next)&&(Ng(o),o=o.next),o}function vh(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(sx(r,r.next)||nr(r.prev,r,r.next)===0)){if(Ng(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Pg(t,e,r,n,i,s,o){if(t){!o&&s&&Epe(t,n,i,s);for(var a=t,u,l;t.prev!==t.next;){if(u=t.prev,l=t.next,s?ppe(t,n,i,s):fpe(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(l.i/r|0),Ng(t),t=l.next,a=l.next;continue}if(t=l,t===a){o?o===1?(t=mpe(vh(t),e,r),Pg(t,e,r,n,i,s,2)):o===2&&ype(t,e,r,n,i,s):Pg(vh(t),e,r,n,i,s,1);break}}}}function fpe(t){var e=t.prev,r=t,n=t.next;if(nr(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,l=n.y,c=i<s?i<o?i:o:s<o?s:o,f=a<u?a<l?a:l:u<l?u:l,p=i>s?i>o?i:o:s>o?s:o,m=a>u?a>l?a:l:u>l?u:l,y=n.next;y!==e;){if(y.x>=c&&y.x<=p&&y.y>=f&&y.y<=m&&nf(i,a,s,u,o,l,y.x,y.y)&&nr(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function ppe(t,e,r,n){var i=t.prev,s=t,o=t.next;if(nr(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,l=o.x,c=i.y,f=s.y,p=o.y,m=a<u?a<l?a:l:u<l?u:l,y=c<f?c<p?c:p:f<p?f:p,g=a>u?a>l?a:l:u>l?u:l,w=c>f?c>p?c:p:f>p?f:p,b=k2(m,y,e,r,n),_=k2(g,w,e,r,n),E=t.prevZ,x=t.nextZ;E&&E.z>=b&&x&&x.z<=_;){if(E.x>=m&&E.x<=g&&E.y>=y&&E.y<=w&&E!==i&&E!==o&&nf(a,c,u,f,l,p,E.x,E.y)&&nr(E.prev,E,E.next)>=0||(E=E.prevZ,x.x>=m&&x.x<=g&&x.y>=y&&x.y<=w&&x!==i&&x!==o&&nf(a,c,u,f,l,p,x.x,x.y)&&nr(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;E&&E.z>=b;){if(E.x>=m&&E.x<=g&&E.y>=y&&E.y<=w&&E!==i&&E!==o&&nf(a,c,u,f,l,p,E.x,E.y)&&nr(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;x&&x.z<=_;){if(x.x>=m&&x.x<=g&&x.y>=y&&x.y<=w&&x!==i&&x!==o&&nf(a,c,u,f,l,p,x.x,x.y)&&nr(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function mpe(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!sx(i,s)&&YG(i,n,n.next,s)&&kg(i,s)&&kg(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ng(n),Ng(n.next),n=t=s),n=n.next}while(n!==t);return vh(n)}function ype(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&Ape(o,a)){var u=QG(o,a);o=vh(o,o.next),u=vh(u,u.next),Pg(o,e,r,n,i,s,0),Pg(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function gpe(t,e,r,n){var i=[],s,o,a,u,l;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,l=XG(t,a,u,n,!1),l===l.next&&(l.steiner=!0),i.push(Spe(l));for(i.sort(vpe),s=0;s<i.length;s++)r=_pe(i[s],r);return r}function vpe(t,e){return t.x-e.x}function _pe(t,e){var r=bpe(t,e);if(!r)return e;var n=QG(r,t);return vh(n,n.next),vh(r,r.next)}function bpe(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,l=o.x,c=o.y,f=1/0,p;r=o;do n>=r.x&&r.x>=l&&n!==r.x&&nf(i<c?n:s,i,l,c,i<c?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),kg(r,t)&&(p<f||p===f&&(r.x>o.x||r.x===o.x&&wpe(o,r)))&&(o=r,f=p)),r=r.next;while(r!==u);return o}function wpe(t,e){return nr(t.prev,t,e.prev)<0&&nr(e.next,t,t.next)<0}function Epe(t,e,r,n){var i=t;do i.z===0&&(i.z=k2(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,xpe(i)}function xpe(t){var e,r,n,i,s,o,a,u,l=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ,!!n);e++);for(u=l;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,l*=2}while(o>1);return t}function k2(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Spe(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function nf(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function Ape(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Tpe(t,e)&&(kg(t,e)&&kg(e,t)&&Cpe(t,e)&&(nr(t.prev,t,e.prev)||nr(t,e.prev,e))||sx(t,e)&&nr(t.prev,t,t.next)>0&&nr(e.prev,e,e.next)>0)}function nr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function sx(t,e){return t.x===e.x&&t.y===e.y}function YG(t,e,r,n){var i=N0(nr(t,e,r)),s=N0(nr(t,e,n)),o=N0(nr(r,n,t)),a=N0(nr(r,n,e));return!!(i!==s&&o!==a||i===0&&k0(t,r,e)||s===0&&k0(t,n,e)||o===0&&k0(r,t,n)||a===0&&k0(r,e,n))}function k0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function N0(t){return t>0?1:t<0?-1:0}function Tpe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&YG(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function kg(t,e){return nr(t.prev,t,t.next)<0?nr(t,e,t.next)>=0&&nr(t,t.prev,e)>=0:nr(t,e,t.prev)<0||nr(t,t.next,e)<0}function Cpe(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function QG(t,e){var r=new N2(t.i,t.x,t.y),n=new N2(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function M$(t,e,r,n){var i=new N2(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ng(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function N2(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ix.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(M2(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;o-=Math.abs(M2(t,l,c,r))}var f=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,m=n[a+1]*r,y=n[a+2]*r;f+=Math.abs((t[p]-t[y])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[y+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function M2(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}ix.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Ipe=aM.exports;const Ope=Ol(Ipe);var J1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */J1.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof at=="object"&&at;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,l=1,c=26,f=38,p=700,m=72,y=128,g="-",w=/^xn--/,b=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-l,N=Math.floor,M=String.fromCharCode,R;function D($){throw new RangeError(E[$])}function W($,z){for(var q=$.length,ne=[];q--;)ne[q]=z($[q]);return ne}function G($,z){var q=$.split("@"),ne="";q.length>1&&(ne=q[0]+"@",$=q[1]),$=$.replace(_,".");var re=$.split("."),ae=W(re,z).join(".");return ne+ae}function F($){for(var z=[],q=0,ne=$.length,re,ae;q<ne;)re=$.charCodeAt(q++),re>=55296&&re<=56319&&q<ne?(ae=$.charCodeAt(q++),(ae&64512)==56320?z.push(((re&1023)<<10)+(ae&1023)+65536):(z.push(re),q--)):z.push(re);return z}function X($){return W($,function(z){var q="";return z>65535&&(z-=65536,q+=M(z>>>10&1023|55296),z=56320|z&1023),q+=M(z),q}).join("")}function B($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:u}function j($,z){return $+22+75*($<26)-((z!=0)<<5)}function C($,z,q){var ne=0;for($=q?N($/p):$>>1,$+=N($/z);$>x*c>>1;ne+=u)$=N($/x);return N(ne+(x+1)*$/($+f))}function k($){var z=[],q=$.length,ne,re=0,ae=y,oe=m,ve,Ne,_e,Me,Ie,De,te,de,ke;for(ve=$.lastIndexOf(g),ve<0&&(ve=0),Ne=0;Ne<ve;++Ne)$.charCodeAt(Ne)>=128&&D("not-basic"),z.push($.charCodeAt(Ne));for(_e=ve>0?ve+1:0;_e<q;){for(Me=re,Ie=1,De=u;_e>=q&&D("invalid-input"),te=B($.charCodeAt(_e++)),(te>=u||te>N((a-re)/Ie))&&D("overflow"),re+=te*Ie,de=De<=oe?l:De>=oe+c?c:De-oe,!(te<de);De+=u)ke=u-de,Ie>N(a/ke)&&D("overflow"),Ie*=ke;ne=z.length+1,oe=C(re-Me,ne,Me==0),N(re/ne)>a-ae&&D("overflow"),ae+=N(re/ne),re%=ne,z.splice(re++,0,ae)}return X(z)}function O($){var z,q,ne,re,ae,oe,ve,Ne,_e,Me,Ie,De=[],te,de,ke,We;for($=F($),te=$.length,z=y,q=0,ae=m,oe=0;oe<te;++oe)Ie=$[oe],Ie<128&&De.push(M(Ie));for(ne=re=De.length,re&&De.push(g);ne<te;){for(ve=a,oe=0;oe<te;++oe)Ie=$[oe],Ie>=z&&Ie<ve&&(ve=Ie);for(de=ne+1,ve-z>N((a-q)/de)&&D("overflow"),q+=(ve-z)*de,z=ve,oe=0;oe<te;++oe)if(Ie=$[oe],Ie<z&&++q>a&&D("overflow"),Ie==z){for(Ne=q,_e=u;Me=_e<=ae?l:_e>=ae+c?c:_e-ae,!(Ne<Me);_e+=u)We=Ne-Me,ke=u-Me,De.push(M(j(Me+We%ke,0))),Ne=N(We/ke);De.push(M(j(Ne,0))),ae=C(q,de,ne==re),q=0,++ne}++q,++z}return De.join("")}function P($){return G($,function(z){return w.test(z)?k(z.slice(4).toLowerCase()):z})}function U($){return G($,function(z){return b.test(z)?"xn--"+O(z):z})}if(o={version:"1.4.1",ucs2:{decode:F,encode:X},decode:k,encode:O,toASCII:U,toUnicode:P},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(at)})(J1,J1.exports);var Rpe=J1.exports,Ppe=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},D$=typeof Symbol<"u"&&Symbol,kpe=Ppe,Npe=function(){return typeof D$!="function"||typeof Symbol!="function"||typeof D$("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:kpe()},B$={foo:{}},Mpe=Object,Dpe=function(){return{__proto__:B$}.foo===B$.foo&&!({__proto__:null}instanceof Mpe)},Bpe="Function.prototype.bind called on incompatible ",Lpe=Object.prototype.toString,$pe=Math.max,Upe="[object Function]",L$=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Fpe=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},jpe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},zpe=function(e){var r=this;if(typeof r!="function"||Lpe.apply(r)!==Upe)throw new TypeError(Bpe+r);for(var n=Fpe(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,L$(n,arguments));return Object(c)===c?c:this}return r.apply(e,L$(n,arguments))},o=$pe(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+jpe(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},Hpe=zpe,uM=Function.prototype.bind||Hpe,Vpe=Function.prototype.call,Gpe=Object.prototype.hasOwnProperty,Wpe=uM,qpe=Wpe.call(Vpe,Gpe),ot,sp=SyntaxError,KG=Function,Sf=TypeError,LT=function(t){try{return KG('"use strict"; return ('+t+").constructor;")()}catch{}},Gc=Object.getOwnPropertyDescriptor;if(Gc)try{Gc({},"")}catch{Gc=null}var $T=function(){throw new Sf},Zpe=Gc?function(){try{return arguments.callee,$T}catch{try{return Gc(arguments,"callee").get}catch{return $T}}}():$T,vd=Npe(),Xpe=Dpe(),Fr=Object.getPrototypeOf||(Xpe?function(t){return t.__proto__}:null),kd={},Ype=typeof Uint8Array>"u"||!Fr?ot:Fr(Uint8Array),Wc={"%AggregateError%":typeof AggregateError>"u"?ot:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ot:ArrayBuffer,"%ArrayIteratorPrototype%":vd&&Fr?Fr([][Symbol.iterator]()):ot,"%AsyncFromSyncIteratorPrototype%":ot,"%AsyncFunction%":kd,"%AsyncGenerator%":kd,"%AsyncGeneratorFunction%":kd,"%AsyncIteratorPrototype%":kd,"%Atomics%":typeof Atomics>"u"?ot:Atomics,"%BigInt%":typeof BigInt>"u"?ot:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ot:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ot:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ot:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ot:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ot:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ot:FinalizationRegistry,"%Function%":KG,"%GeneratorFunction%":kd,"%Int8Array%":typeof Int8Array>"u"?ot:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ot:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ot:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":vd&&Fr?Fr(Fr([][Symbol.iterator]())):ot,"%JSON%":typeof JSON=="object"?JSON:ot,"%Map%":typeof Map>"u"?ot:Map,"%MapIteratorPrototype%":typeof Map>"u"||!vd||!Fr?ot:Fr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ot:Promise,"%Proxy%":typeof Proxy>"u"?ot:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ot:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ot:Set,"%SetIteratorPrototype%":typeof Set>"u"||!vd||!Fr?ot:Fr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ot:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":vd&&Fr?Fr(""[Symbol.iterator]()):ot,"%Symbol%":vd?Symbol:ot,"%SyntaxError%":sp,"%ThrowTypeError%":Zpe,"%TypedArray%":Ype,"%TypeError%":Sf,"%Uint8Array%":typeof Uint8Array>"u"?ot:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ot:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ot:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ot:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ot:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ot:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ot:WeakSet};if(Fr)try{null.error}catch(t){var Qpe=Fr(Fr(t));Wc["%Error.prototype%"]=Qpe}var Kpe=function t(e){var r;if(e==="%AsyncFunction%")r=LT("async function () {}");else if(e==="%GeneratorFunction%")r=LT("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=LT("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Fr&&(r=Fr(i.prototype))}return Wc[e]=r,r},$$={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Uv=uM,ew=qpe,Jpe=Uv.call(Function.call,Array.prototype.concat),eme=Uv.call(Function.apply,Array.prototype.splice),U$=Uv.call(Function.call,String.prototype.replace),tw=Uv.call(Function.call,String.prototype.slice),tme=Uv.call(Function.call,RegExp.prototype.exec),rme=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nme=/\\(\\)?/g,ime=function(e){var r=tw(e,0,1),n=tw(e,-1);if(r==="%"&&n!=="%")throw new sp("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new sp("invalid intrinsic syntax, expected opening `%`");var i=[];return U$(e,rme,function(s,o,a,u){i[i.length]=a?U$(u,nme,"$1"):o||s}),i},sme=function(e,r){var n=e,i;if(ew($$,n)&&(i=$$[n],n="%"+i[0]+"%"),ew(Wc,n)){var s=Wc[n];if(s===kd&&(s=Kpe(n)),typeof s>"u"&&!r)throw new Sf("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new sp("intrinsic "+e+" does not exist!")},zh=function(e,r){if(typeof e!="string"||e.length===0)throw new Sf("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Sf('"allowMissing" argument must be a boolean');if(tme(/^%?[^%]*%?$/,e)===null)throw new sp("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ime(e),i=n.length>0?n[0]:"",s=sme("%"+i+"%",r),o=s.name,a=s.value,u=!1,l=s.alias;l&&(i=l[0],eme(n,Jpe([0,1],l)));for(var c=1,f=!0;c<n.length;c+=1){var p=n[c],m=tw(p,0,1),y=tw(p,-1);if((m==='"'||m==="'"||m==="`"||y==='"'||y==="'"||y==="`")&&m!==y)throw new sp("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(u=!0),i+="."+p,o="%"+i+"%",ew(Wc,o))a=Wc[o];else if(a!=null){if(!(p in a)){if(!r)throw new Sf("base intrinsic for "+e+" exists, but the property is not available.");return}if(Gc&&c+1>=n.length){var g=Gc(a,p);f=!!g,f&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[p]}else f=ew(a,p),a=a[p];f&&!u&&(Wc[o]=a)}}return a},JG={exports:{}},ome=zh,D2=ome("%Object.defineProperty%",!0),B2=function(){if(D2)try{return D2({},"a",{value:1}),!0}catch{return!1}return!1};B2.hasArrayLengthDefineBug=function(){if(!B2())return null;try{return D2([],"length",{value:1}).length!==1}catch{return!0}};var eW=B2,ame=zh,Bb=ame("%Object.getOwnPropertyDescriptor%",!0);if(Bb)try{Bb([],"length")}catch{Bb=null}var tW=Bb,ume=eW(),lM=zh,Cy=ume&&lM("%Object.defineProperty%",!0);if(Cy)try{Cy({},"a",{value:1})}catch{Cy=!1}var lme=lM("%SyntaxError%"),_d=lM("%TypeError%"),F$=tW,cme=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new _d("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new _d("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new _d("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new _d("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new _d("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new _d("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!F$&&F$(e,r);if(Cy)Cy(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new lme("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},rW=zh,j$=cme,hme=eW(),z$=tW,H$=rW("%TypeError%"),dme=rW("%Math.floor%"),fme=function(e,r){if(typeof e!="function")throw new H$("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||dme(r)!==r)throw new H$("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&z$){var o=z$(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(hme?j$(e,"length",r,!0,!0):j$(e,"length",r)),e};(function(t){var e=uM,r=zh,n=fme,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),u=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch{u=null}t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var m=a(e,o,arguments);return n(m,1+l(0,p.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};u?u(t.exports,"apply",{value:c}):t.exports.apply=c})(JG);var pme=JG.exports,nW=zh,iW=pme,mme=iW(nW("String.prototype.indexOf")),yme=function(e,r){var n=nW(e,!!r);return typeof n=="function"&&mme(e,".prototype.")>-1?iW(n):n};const gme={},vme=Object.freeze(Object.defineProperty({__proto__:null,default:gme},Symbol.toStringTag,{value:"Module"})),_me=fa(vme);var cM=typeof Map=="function"&&Map.prototype,UT=Object.getOwnPropertyDescriptor&&cM?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rw=cM&&UT&&typeof UT.get=="function"?UT.get:null,V$=cM&&Map.prototype.forEach,hM=typeof Set=="function"&&Set.prototype,FT=Object.getOwnPropertyDescriptor&&hM?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,nw=hM&&FT&&typeof FT.get=="function"?FT.get:null,G$=hM&&Set.prototype.forEach,bme=typeof WeakMap=="function"&&WeakMap.prototype,Iy=bme?WeakMap.prototype.has:null,wme=typeof WeakSet=="function"&&WeakSet.prototype,Oy=wme?WeakSet.prototype.has:null,Eme=typeof WeakRef=="function"&&WeakRef.prototype,W$=Eme?WeakRef.prototype.deref:null,xme=Boolean.prototype.valueOf,Sme=Object.prototype.toString,Ame=Function.prototype.toString,Tme=String.prototype.match,dM=String.prototype.slice,Vu=String.prototype.replace,Cme=String.prototype.toUpperCase,q$=String.prototype.toLowerCase,sW=RegExp.prototype.test,Z$=Array.prototype.concat,Go=Array.prototype.join,Ime=Array.prototype.slice,X$=Math.floor,L2=typeof BigInt=="function"?BigInt.prototype.valueOf:null,jT=Object.getOwnPropertySymbols,$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,op=typeof Symbol=="function"&&typeof Symbol.iterator=="object",An=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===op||"symbol")?Symbol.toStringTag:null,oW=Object.prototype.propertyIsEnumerable,Y$=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Q$(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||sW.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-X$(-t):X$(t);if(n!==t){var i=String(n),s=dM.call(e,i.length+1);return Vu.call(i,r,"$&_")+"."+Vu.call(Vu.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Vu.call(e,r,"$&_")}var U2=_me,K$=U2.custom,J$=uW(K$)?K$:null,Ome=function t(e,r,n,i){var s=r||{};if(Pu(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Pu(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Pu(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Pu(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Pu(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return cW(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?Q$(e,u):u}if(typeof e=="bigint"){var l=String(e)+"n";return a?Q$(e,l):l}var c=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return F2(e)?"[Array]":"[Object]";var f=qme(s,n);if(typeof i>"u")i=[];else if(lW(i,e)>=0)return"[Circular]";function p(B,j,C){if(j&&(i=Ime.call(i),i.push(j)),C){var k={depth:s.depth};return Pu(s,"quoteStyle")&&(k.quoteStyle=s.quoteStyle),t(B,k,n+1,i)}return t(B,s,n+1,i)}if(typeof e=="function"&&!eU(e)){var m=$me(e),y=M0(e,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(y.length>0?" { "+Go.call(y,", ")+" }":"")}if(uW(e)){var g=op?Vu.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$2.call(e);return typeof e=="object"&&!op?$m(g):g}if(Vme(e)){for(var w="<"+q$.call(String(e.nodeName)),b=e.attributes||[],_=0;_<b.length;_++)w+=" "+b[_].name+"="+aW(Rme(b[_].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+q$.call(String(e.nodeName))+">",w}if(F2(e)){if(e.length===0)return"[]";var E=M0(e,p);return f&&!Wme(E)?"["+j2(E,f)+"]":"[ "+Go.call(E,", ")+" ]"}if(kme(e)){var x=M0(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!oW.call(e,"cause")?"{ ["+String(e)+"] "+Go.call(Z$.call("[cause]: "+p(e.cause),x),", ")+" }":x.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Go.call(x,", ")+" }"}if(typeof e=="object"&&o){if(J$&&typeof e[J$]=="function"&&U2)return U2(e,{depth:c-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Ume(e)){var N=[];return V$&&V$.call(e,function(B,j){N.push(p(j,e,!0)+" => "+p(B,e))}),tU("Map",rw.call(e),N,f)}if(zme(e)){var M=[];return G$&&G$.call(e,function(B){M.push(p(B,e))}),tU("Set",nw.call(e),M,f)}if(Fme(e))return zT("WeakMap");if(Hme(e))return zT("WeakSet");if(jme(e))return zT("WeakRef");if(Mme(e))return $m(p(Number(e)));if(Bme(e))return $m(p(L2.call(e)));if(Dme(e))return $m(xme.call(e));if(Nme(e))return $m(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===at)return"{ [object globalThis] }";if(!Pme(e)&&!eU(e)){var R=M0(e,p),D=Y$?Y$(e)===Object.prototype:e instanceof Object||e.constructor===Object,W=e instanceof Object?"":"null prototype",G=!D&&An&&Object(e)===e&&An in e?dM.call(zl(e),8,-1):W?"Object":"",F=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=F+(G||W?"["+Go.call(Z$.call([],G||[],W||[]),": ")+"] ":"");return R.length===0?X+"{}":f?X+"{"+j2(R,f)+"}":X+"{ "+Go.call(R,", ")+" }"}return String(e)};function aW(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Rme(t){return Vu.call(String(t),/"/g,"&quot;")}function F2(t){return zl(t)==="[object Array]"&&(!An||!(typeof t=="object"&&An in t))}function Pme(t){return zl(t)==="[object Date]"&&(!An||!(typeof t=="object"&&An in t))}function eU(t){return zl(t)==="[object RegExp]"&&(!An||!(typeof t=="object"&&An in t))}function kme(t){return zl(t)==="[object Error]"&&(!An||!(typeof t=="object"&&An in t))}function Nme(t){return zl(t)==="[object String]"&&(!An||!(typeof t=="object"&&An in t))}function Mme(t){return zl(t)==="[object Number]"&&(!An||!(typeof t=="object"&&An in t))}function Dme(t){return zl(t)==="[object Boolean]"&&(!An||!(typeof t=="object"&&An in t))}function uW(t){if(op)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$2)return!1;try{return $2.call(t),!0}catch{}return!1}function Bme(t){if(!t||typeof t!="object"||!L2)return!1;try{return L2.call(t),!0}catch{}return!1}var Lme=Object.prototype.hasOwnProperty||function(t){return t in this};function Pu(t,e){return Lme.call(t,e)}function zl(t){return Sme.call(t)}function $me(t){if(t.name)return t.name;var e=Tme.call(Ame.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function lW(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ume(t){if(!rw||!t||typeof t!="object")return!1;try{rw.call(t);try{nw.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Fme(t){if(!Iy||!t||typeof t!="object")return!1;try{Iy.call(t,Iy);try{Oy.call(t,Oy)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function jme(t){if(!W$||!t||typeof t!="object")return!1;try{return W$.call(t),!0}catch{}return!1}function zme(t){if(!nw||!t||typeof t!="object")return!1;try{nw.call(t);try{rw.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Hme(t){if(!Oy||!t||typeof t!="object")return!1;try{Oy.call(t,Oy);try{Iy.call(t,Iy)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Vme(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function cW(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return cW(dM.call(t,0,e.maxStringLength),e)+n}var i=Vu.call(Vu.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Gme);return aW(i,"single",e)}function Gme(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Cme.call(e.toString(16))}function $m(t){return"Object("+t+")"}function zT(t){return t+" { ? }"}function tU(t,e,r,n){var i=n?j2(r,n):Go.call(r,", ");return t+" ("+e+") {"+i+"}"}function Wme(t){for(var e=0;e<t.length;e++)if(lW(t[e],`
`)>=0)return!1;return!0}function qme(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Go.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Go.call(Array(e+1),r)}}function j2(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Go.call(t,","+r)+`
`+e.prev}function M0(t,e){var r=F2(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Pu(t,i)?e(t[i],t):""}var s=typeof jT=="function"?jT(t):[],o;if(op){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)Pu(t,u)&&(r&&String(Number(u))===u&&u<t.length||op&&o["$"+u]instanceof Symbol||(sW.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof jT=="function")for(var l=0;l<s.length;l++)oW.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var fM=zh,Wp=yme,Zme=Ome,Xme=fM("%TypeError%"),D0=fM("%WeakMap%",!0),B0=fM("%Map%",!0),Yme=Wp("WeakMap.prototype.get",!0),Qme=Wp("WeakMap.prototype.set",!0),Kme=Wp("WeakMap.prototype.has",!0),Jme=Wp("Map.prototype.get",!0),eye=Wp("Map.prototype.set",!0),tye=Wp("Map.prototype.has",!0),pM=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},rye=function(t,e){var r=pM(t,e);return r&&r.value},nye=function(t,e,r){var n=pM(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},iye=function(t,e){return!!pM(t,e)},sye=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Xme("Side channel does not contain "+Zme(s))},get:function(s){if(D0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Yme(e,s)}else if(B0){if(r)return Jme(r,s)}else if(n)return rye(n,s)},has:function(s){if(D0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Kme(e,s)}else if(B0){if(r)return tye(r,s)}else if(n)return iye(n,s);return!1},set:function(s,o){D0&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new D0),Qme(e,s,o)):B0?(r||(r=new B0),eye(r,s,o)):(n||(n={key:{},next:null}),nye(n,s,o))}};return i},oye=String.prototype.replace,aye=/%20/g,HT={RFC1738:"RFC1738",RFC3986:"RFC3986"},mM={default:HT.RFC3986,formatters:{RFC1738:function(t){return oye.call(t,aye,"+")},RFC3986:function(t){return String(t)}},RFC1738:HT.RFC1738,RFC3986:HT.RFC3986},uye=mM,VT=Object.prototype.hasOwnProperty,xc=Array.isArray,Bo=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),lye=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(xc(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},hW=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},cye=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(xc(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!VT.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return xc(e)&&!xc(r)&&(i=hW(e,n)),xc(e)&&xc(r)?(r.forEach(function(s,o){if(VT.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return VT.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},hye=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},dye=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},fye=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===uye.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+Bo[l];continue}if(l<2048){a=a+(Bo[192|l>>6]+Bo[128|l&63]);continue}if(l<55296||l>=57344){a=a+(Bo[224|l>>12]+Bo[128|l>>6&63]+Bo[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=Bo[240|l>>18]+Bo[128|l>>12&63]+Bo[128|l>>6&63]+Bo[128|l&63]}return a},pye=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],c=o[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:l}),n.push(c))}return lye(r),e},mye=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},yye=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},gye=function(e,r){return[].concat(e,r)},vye=function(e,r){if(xc(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},dW={arrayToObject:hW,assign:hye,combine:gye,compact:pye,decode:dye,encode:fye,isBuffer:yye,isRegExp:mye,maybeMap:vye,merge:cye},fW=sye,Lb=dW,Ry=mM,_ye=Object.prototype.hasOwnProperty,rU={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Na=Array.isArray,bye=Array.prototype.push,pW=function(t,e){bye.apply(t,Na(e)?e:[e])},wye=Date.prototype.toISOString,nU=Ry.default,_n={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Lb.encode,encodeValuesOnly:!1,format:nU,formatter:Ry.formatters[nU],indices:!1,serializeDate:function(e){return wye.call(e)},skipNulls:!1,strictNullHandling:!1},Eye=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},GT={},xye=function t(e,r,n,i,s,o,a,u,l,c,f,p,m,y,g,w){for(var b=e,_=w,E=0,x=!1;(_=_.get(GT))!==void 0&&!x;){var N=_.get(e);if(E+=1,typeof N<"u"){if(N===E)throw new RangeError("Cyclic object value");x=!0}typeof _.get(GT)>"u"&&(E=0)}if(typeof u=="function"?b=u(r,b):b instanceof Date?b=f(b):n==="comma"&&Na(b)&&(b=Lb.maybeMap(b,function(k){return k instanceof Date?f(k):k})),b===null){if(s)return a&&!y?a(r,_n.encoder,g,"key",p):r;b=""}if(Eye(b)||Lb.isBuffer(b)){if(a){var M=y?r:a(r,_n.encoder,g,"key",p);return[m(M)+"="+m(a(b,_n.encoder,g,"value",p))]}return[m(r)+"="+m(String(b))]}var R=[];if(typeof b>"u")return R;var D;if(n==="comma"&&Na(b))y&&a&&(b=Lb.maybeMap(b,a)),D=[{value:b.length>0?b.join(",")||null:void 0}];else if(Na(u))D=u;else{var W=Object.keys(b);D=l?W.sort(l):W}for(var G=i&&Na(b)&&b.length===1?r+"[]":r,F=0;F<D.length;++F){var X=D[F],B=typeof X=="object"&&typeof X.value<"u"?X.value:b[X];if(!(o&&B===null)){var j=Na(b)?typeof n=="function"?n(G,X):G:G+(c?"."+X:"["+X+"]");w.set(e,E);var C=fW();C.set(GT,w),pW(R,t(B,j,n,i,s,o,n==="comma"&&y&&Na(b)?null:a,u,l,c,f,p,m,y,g,C))}}return R},Sye=function(e){if(!e)return _n;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||_n.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ry.default;if(typeof e.format<"u"){if(!_ye.call(Ry.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ry.formatters[n],s=_n.filter;return(typeof e.filter=="function"||Na(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:_n.addQueryPrefix,allowDots:typeof e.allowDots>"u"?_n.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_n.charsetSentinel,delimiter:typeof e.delimiter>"u"?_n.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:_n.encode,encoder:typeof e.encoder=="function"?e.encoder:_n.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:_n.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:_n.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:_n.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_n.strictNullHandling}},Aye=function(t,e){var r=t,n=Sye(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Na(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in rU?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=rU[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=fW(),f=0;f<i.length;++f){var p=i[f];n.skipNulls&&r[p]===null||pW(o,xye(r[p],p,u,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=o.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),m.length>0?y+m:""},ap=dW,z2=Object.prototype.hasOwnProperty,Tye=Array.isArray,Ur={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ap.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Cye=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},mW=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Iye="utf8=%26%2310003%3B",Oye="utf8=%E2%9C%93",Rye=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===Oye?l="utf-8":o[u]===Iye&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var c=o[u],f=c.indexOf("]="),p=f===-1?c.indexOf("="):f+1,m,y;p===-1?(m=r.decoder(c,Ur.decoder,l,"key"),y=r.strictNullHandling?null:""):(m=r.decoder(c.slice(0,p),Ur.decoder,l,"key"),y=ap.maybeMap(mW(c.slice(p+1),r),function(g){return r.decoder(g,Ur.decoder,l,"value")})),y&&r.interpretNumericEntities&&l==="iso-8859-1"&&(y=Cye(y)),c.indexOf("[]=")>-1&&(y=Tye(y)?[y]:y),z2.call(n,m)?n[m]=ap.combine(n[m],y):n[m]=y}return n},Pye=function(t,e,r,n){for(var i=n?e:mW(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},kye=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,c=[];if(l){if(!n.plainObjects&&z2.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var f=0;n.depth>0&&(u=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&z2.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+s.slice(u.index)+"]"),Pye(c,r,n,i)}},Nye=function(e){if(!e)return Ur;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ur.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ur.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ur.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ur.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ur.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ur.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ur.comma,decoder:typeof e.decoder=="function"?e.decoder:Ur.decoder,delimiter:typeof e.delimiter=="string"||ap.isRegExp(e.delimiter)?e.delimiter:Ur.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ur.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ur.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ur.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ur.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ur.strictNullHandling}},Mye=function(t,e){var r=Nye(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Rye(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=kye(a,n[a],r,typeof t=="string");i=ap.merge(i,u,r)}return r.allowSparse===!0?i:ap.compact(i)},Dye=Aye,Bye=Mye,Lye=mM,$ye={formats:Lye,parse:Bye,stringify:Dye},Uye=Rpe;function Wa(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Fye=/^([a-z0-9.+-]+:)/i,jye=/:[0-9]*$/,zye=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Hye=["<",">",'"',"`"," ","\r",`
`,"	"],Vye=["{","}","|","\\","^","`"].concat(Hye),H2=["'"].concat(Vye),iU=["%","/","?",";","#"].concat(H2),sU=["/","?","#"],Gye=255,oU=/^[+a-z0-9A-Z_-]{0,63}$/,Wye=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qye={javascript:!0,"javascript:":!0},V2={javascript:!0,"javascript:":!0},Af={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},G2=$ye;function Zye(t,e,r){if(t&&typeof t=="object"&&t instanceof Wa)return t;var n=new Wa;return n.parse(t,e,r),n}Wa.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var u=zye.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=G2.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=Fye.exec(a);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(l&&V2[l])&&(a=a.substr(2),this.slashes=!0)}if(!V2[l]&&(f||l&&!Af[l])){for(var p=-1,m=0;m<sU.length;m++){var y=a.indexOf(sU[m]);y!==-1&&(p===-1||y<p)&&(p=y)}var g,w;p===-1?w=a.lastIndexOf("@"):w=a.lastIndexOf("@",p),w!==-1&&(g=a.slice(0,w),a=a.slice(w+1),this.auth=decodeURIComponent(g)),p=-1;for(var m=0;m<iU.length;m++){var y=a.indexOf(iU[m]);y!==-1&&(p===-1||y<p)&&(p=y)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var _=this.hostname.split(/\./),m=0,E=_.length;m<E;m++){var x=_[m];if(x&&!x.match(oU)){for(var N="",M=0,R=x.length;M<R;M++)x.charCodeAt(M)>127?N+="x":N+=x[M];if(!N.match(oU)){var D=_.slice(0,m),W=_.slice(m+1),G=x.match(Wye);G&&(D.push(G[1]),W.unshift(G[2])),W.length&&(a="/"+W.join(".")+a),this.hostname=D.join(".");break}}}this.hostname.length>Gye?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=Uye.toASCII(this.hostname));var F=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+F,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!qye[c])for(var m=0,E=H2.length;m<E;m++){var B=H2[m];if(a.indexOf(B)!==-1){var j=encodeURIComponent(B);j===B&&(j=escape(B)),a=a.split(B).join(j)}}var C=a.indexOf("#");C!==-1&&(this.hash=a.substr(C),a=a.slice(0,C));var k=a.indexOf("?");if(k!==-1?(this.search=a.substr(k),this.query=a.substr(k+1),e&&(this.query=G2.parse(this.query)),a=a.slice(0,k)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Af[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",O=this.search||"";this.path=F+O}return this.href=this.format(),this};Wa.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=G2.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Af[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};Wa.prototype.resolve=function(t){return this.resolveObject(Zye(t,!1,!0)).format()};Wa.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Wa;e.parse(t,!1,!0),t=e}for(var r=new Wa,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return Af[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Af[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var f=l[c];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!V2[t.protocol]){for(var E=(t.pathname||"").split("/");E.length&&!(t.host=E.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),E[0]!==""&&E.unshift(""),E.length<2&&E.unshift(""),r.pathname=E.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",m=r.search||"";r.path=p+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",g=t.host||t.pathname&&t.pathname.charAt(0)==="/",w=g||y||r.host&&t.pathname,b=w,_=r.pathname&&r.pathname.split("/")||[],E=t.pathname&&t.pathname.split("/")||[],x=r.protocol&&!Af[r.protocol];if(x&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(E[0]===""?E[0]=t.host:E.unshift(t.host)),t.host=null),w=w&&(E[0]===""||_[0]==="")),g)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=E;else if(E.length)_||(_=[]),_.pop(),_=_.concat(E),r.search=t.search,r.query=t.query;else if(t.search!=null){if(x){r.host=_.shift(),r.hostname=r.host;var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.hostname=N.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var M=_.slice(-1)[0],R=(r.host||t.host||_.length>1)&&(M==="."||M==="..")||M==="",D=0,W=_.length;W>=0;W--)M=_[W],M==="."?_.splice(W,1):M===".."?(_.splice(W,1),D++):D&&(_.splice(W,1),D--);if(!w&&!b)for(;D--;D)_.unshift("..");w&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),R&&_.join("/").substr(-1)!=="/"&&_.push("");var G=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(x){r.hostname=G?"":_.length?_.shift():"",r.host=r.hostname;var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.hostname=N.shift(),r.host=r.hostname)}return w=w||r.host&&_.length,w&&!G&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Wa.prototype.parseHost=function(){var t=this.host,e=jye.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const aU={};function st(t,e,r=3){if(aU[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),aU[e]=!0}function Ps(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Um(t){return t.split("?")[0].split("#")[0]}function Xye(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yye(t,e,r){return t.replace(new RegExp(Xye(e),"g"),r)}function Qye(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Pr={toPosix(t){return Yye(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Ps(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Ps(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Um(this.toPosix(e??Ce.ADAPTER.getBaseUrl())),i=Um(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Pr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Ps(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Qye(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Ps(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Ps(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Ps(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Ps(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Ps(t),e&&Ps(e),t=Um(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Ps(t),t=Um(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Ps(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Um(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,l=t.length-1,c=0;for(;l>=i;--l){if(r=t.charCodeAt(l),r===47){if(!u){o=l+1;break}continue}a===-1&&(u=!1,a=l+1),r===46?s===-1?s=l:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let WT;async function Kye(){return WT??(WT=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return li.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return li.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?li.PMA:li.UNPACK})()),WT}let qT;function Jye(){return typeof qT>"u"&&(qT=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:Ce.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Ce.ADAPTER.getWebGLRenderingContext())return!1;const r=Ce.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),qT}var ege={grad:.9,turn:360,rad:360/(2*Math.PI)},Ta=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Hr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},ls=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},yW=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},uU=function(t){return{r:ls(t.r,0,255),g:ls(t.g,0,255),b:ls(t.b,0,255),a:ls(t.a)}},ZT=function(t){return{r:Hr(t.r),g:Hr(t.g),b:Hr(t.b),a:Hr(t.a,3)}},tge=/^#([0-9a-f]{3,8})$/i,L0=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},gW=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},vW=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),u=n*(1-(1-e+s)*r),l=s%6;return{r:255*[n,a,o,o,u,n][l],g:255*[u,n,n,a,o,o][l],b:255*[o,o,u,n,n,a][l],a:i}},lU=function(t){return{h:yW(t.h),s:ls(t.s,0,100),l:ls(t.l,0,100),a:ls(t.a)}},cU=function(t){return{h:Hr(t.h),s:Hr(t.s),l:Hr(t.l),a:Hr(t.a,3)}},hU=function(t){return vW((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Py=function(t){return{h:(e=gW(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},rge=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nge=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ige=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sge=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,W2={string:[[function(t){var e=tge.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Hr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Hr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=ige.exec(t)||sge.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:uU({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=rge.exec(t)||nge.exec(t);if(!e)return null;var r,n,i=lU({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(ege[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return hU(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Ta(e)&&Ta(r)&&Ta(n)?uU({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Ta(e)||!Ta(r)||!Ta(n))return null;var o=lU({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return hU(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Ta(e)||!Ta(r)||!Ta(n))return null;var o=function(a){return{h:yW(a.h),s:ls(a.s,0,100),v:ls(a.v,0,100),a:ls(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return vW(o)},"hsv"]]},dU=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},oge=function(t){return typeof t=="string"?dU(t.trim(),W2.string):typeof t=="object"&&t!==null?dU(t,W2.object):[null,void 0]},XT=function(t,e){var r=Py(t);return{h:r.h,s:ls(r.s+100*e,0,100),l:r.l,a:r.a}},YT=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},fU=function(t,e){var r=Py(t);return{h:r.h,s:r.s,l:ls(r.l+100*e,0,100),a:r.a}},q2=function(){function t(e){this.parsed=oge(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Hr(YT(this.rgba),2)},t.prototype.isDark=function(){return YT(this.rgba)<.5},t.prototype.isLight=function(){return YT(this.rgba)>=.5},t.prototype.toHex=function(){return e=ZT(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?L0(Hr(255*s)):"","#"+L0(r)+L0(n)+L0(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return ZT(this.rgba)},t.prototype.toRgbString=function(){return e=ZT(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return cU(Py(this.rgba))},t.prototype.toHslString=function(){return e=cU(Py(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=gW(this.rgba),{h:Hr(e.h),s:Hr(e.s),v:Hr(e.v),a:Hr(e.a,3)};var e},t.prototype.invert=function(){return Lo({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Lo(XT(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Lo(XT(this.rgba,-e))},t.prototype.grayscale=function(){return Lo(XT(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Lo(fU(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Lo(fU(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Lo({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Hr(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Py(this.rgba);return typeof e=="number"?Lo({h:e,s:r.s,l:r.l,a:r.a}):Hr(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Lo(e).toHex()},t}(),Lo=function(t){return t instanceof q2?t:new q2(t)},pU=[],age=function(t){t.forEach(function(e){pU.indexOf(e)<0&&(e(q2,W2),pU.push(e))})};function uge(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,l=n[this.toHex()];if(l)return l;if(o!=null&&o.closest){var c=this.toRgb(),f=1/0,p="black";if(!s.length)for(var m in r)s[m]=new t(r[m]).toRgb();for(var y in r){var g=(a=c,u=s[y],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));g<f&&(f=g,p=y)}return p}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new t(u).toRgb():null},"name"])}age([uge]);const Nd=class $b{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof $b)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=$b.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=$b.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Lo(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Nd.shared=new Nd,Nd.temp=new Nd,Nd.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Mt=Nd;function lge(t){return st("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Mt.shared.setValue(t).toHex()}function cge(t){return st("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Mt.shared.setValue(t).toNumber()}function hge(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Ge.NORMAL_NPM]=Ge.NORMAL,t[Ge.ADD_NPM]=Ge.ADD,t[Ge.SCREEN_NPM]=Ge.SCREEN,e[Ge.NORMAL]=Ge.NORMAL_NPM,e[Ge.ADD]=Ge.ADD_NPM,e[Ge.SCREEN]=Ge.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const _W=hge();function bW(t,e){return _W[e?1:0][t]}function dge(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function wW(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function iw(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function mU(t){return!(t&t-1)&&!!t}function yU(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Tf(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Gu(t){return t===0?0:t<0?-1:1}let fge=0;function _h(){return++fge}const Z2=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Z2.EMPTY=new Z2(0,0,0,0);let gU=Z2;const vU={},$o=Object.create(null),Su=Object.create(null);class pge{constructor(e,r,n){this._canvas=Ce.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||Ce.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function _U(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function bU(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function mge(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,u=r-1;for(;o<r&&_U(i,e,o);)++o;if(o===r)return gU.EMPTY;for(;_U(i,e,u);)--u;for(;bU(i,e,s,o,u);)++s;for(;bU(i,e,a,o,u);)--a;return++a,++u,new gU(s,o,a,u)}function yge(t){const e=mge(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function gge(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function tu(t,e=1){var n;const r=(n=Ce.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var xe=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(xe||{});const X2=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},wU=(t,e)=>X2(t).priority??e,Le={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(X2).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(X2).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>wU(s,r)-wU(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Y2{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const vge=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function _ge(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function bge(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=vge.replace(/%forloop%/gi,_ge(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const QT=0,KT=1,JT=2,eC=3,tC=4,rC=5;class ya{constructor(){this.data=0,this.blendMode=Ge.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<QT)}set blend(e){!!(this.data&1<<QT)!==e&&(this.data^=1<<QT)}get offsets(){return!!(this.data&1<<KT)}set offsets(e){!!(this.data&1<<KT)!==e&&(this.data^=1<<KT)}get culling(){return!!(this.data&1<<JT)}set culling(e){!!(this.data&1<<JT)!==e&&(this.data^=1<<JT)}get depthTest(){return!!(this.data&1<<eC)}set depthTest(e){!!(this.data&1<<eC)!==e&&(this.data^=1<<eC)}get depthMask(){return!!(this.data&1<<rC)}set depthMask(e){!!(this.data&1<<rC)!==e&&(this.data^=1<<rC)}get clockwiseFrontFace(){return!!(this.data&1<<tC)}set clockwiseFrontFace(e){!!(this.data&1<<tC)!==e&&(this.data^=1<<tC)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ge.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new ya;return e.depthTest=!1,e.blend=!0,e}}ya.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Q2=[];function EW(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Q2.length-1;n>=0;--n){const i=Q2[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ks{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:c}=this;this._aliasCount++;for(let f=0,p=c.length;f<p;f++)c[f][l](e,r,n,i,s,o,a,u);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ks.prototype,{dispatch:{value:Ks.prototype.emit},run:{value:Ks.prototype.emit}});class Mg{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ks("setRealSize"),this.onUpdate=new Ks("update"),this.onError=new Ks("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class ox extends Mg{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===li.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const wge={scaleMode:Oi.NEAREST,alphaMode:li.NPM},K2=class Md extends $v{constructor(e=null,r=null){super(),r=Object.assign({},Md.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:u,wrapMode:l,format:c,type:f,target:p,resolution:m,resourceOptions:y}=r;e&&!(e instanceof Mg)&&(e=EW(e,y),e.internal=!0),this.resolution=m||Ce.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=l,this._scaleMode=o,this.format=c,this.type=f,this.target=p,this.alphaMode=n,this.uid=_h(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=mU(this.realWidth)&&mU(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Su[this.cacheId],delete $o[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Md.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=Ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${_h()}`}s=e._pixiId}let o=Su[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Md(e,r),o.cacheId=s,Md.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new ox(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ge.RGBA,a=ze.FLOAT):e instanceof Int32Array?(o=ge.RGBA_INTEGER,a=ze.INT):e instanceof Uint32Array?(o=ge.RGBA_INTEGER,a=ze.UNSIGNED_INT):e instanceof Int16Array?(o=ge.RGBA_INTEGER,a=ze.SHORT):e instanceof Uint16Array?(o=ge.RGBA_INTEGER,a=ze.UNSIGNED_SHORT):e instanceof Int8Array?(o=ge.RGBA,a=ze.BYTE):(o=ge.RGBA,a=ze.UNSIGNED_BYTE),s.internal=!0,new Md(s,Object.assign({},wge,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Su[r]&&Su[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Su[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Su[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Su[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Su[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};K2.defaultOptions={mipmap:ca.POW2,anisotropicLevel:0,scaleMode:Oi.LINEAR,wrapMode:Ga.CLAMP,alphaMode:li.UNPACK,target:xf.TEXTURE_2D,format:ge.RGBA,type:ze.UNSIGNED_BYTE},K2._globalBatch=0;let Je=K2;class J2{constructor(){this.texArray=null,this.blend=0,this.type=Vs.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Ege=0;class pr{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=Ege++,this.disposeRunner=new Ks("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ia.ELEMENT_ARRAY_BUFFER:ia.ARRAY_BUFFER}get index(){return this.type===ia.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new pr(e)}}class sw{constructor(e,r=0,n=!1,i=ze.FLOAT,s,o,a,u=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(e,r,n,i,s){return new sw(e,r,n,i,s)}}const xge={Float32Array,Uint32Array,Int32Array,Uint8Array};function Sge(t,e){let r=0,n=0;const i={};for(let u=0;u<t.length;u++)n+=e[u],r+=t[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<t.length;u++){const l=e[u],c=t[u],f=wW(c);i[f]||(i[f]=new xge[f](s)),o=i[f];for(let p=0;p<c.length;p++){const m=(p/l|0)*n+a,y=p%l;o[m+y]=c[p]}a+=l}return new Float32Array(s)}const EU={5126:4,5123:2,5121:1};let Age=0;const Tge={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Sl{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=Age++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ks("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof pr||(r instanceof Array&&(r=new Float32Array(r)),r=new pr(r));const l=e.split("|");if(l.length>1){for(let f=0;f<l.length;f++)this.addAttribute(l[f],r,n,i,s);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new sw(c,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof pr||(e instanceof Array&&(e=new Uint16Array(e)),e=new pr(e)),e.type=ia.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new pr;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*EU[s.type]/4),s.buffer=0}for(n.data=Sge(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Sl;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new pr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new sw(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ia.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Sl,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new Tge[wW(o.buffers[a].data)](i[a]),r.buffers[a]=new pr(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ia.ELEMENT_ARRAY_BUFFER;let a=0,u=0,l=0,c=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){c=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===c&&(u+=p.size*EU[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)r.indexBuffer.data[m+l]+=a;a+=e[f].buffers[c].data.length/u,l+=p.length}}return r}}class xW extends Sl{constructor(e=!1){super(),this._buffer=new pr(null,e,!1),this._indexBuffer=new pr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ze.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ze.FLOAT).addAttribute("aColor",this._buffer,4,!0,ze.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ze.FLOAT).addIndex(this._indexBuffer)}}const ow=Math.PI*2,Cge=180/Math.PI,Ige=Math.PI/180;var tn=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(tn||{});class ut{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ut(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}ut.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const $0=[new ut,new ut,new ut,new ut];class et{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=tn.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new et(0,0,0,0)}clone(){return new et(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const D=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=D)return!1;const W=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>W}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=$0[0].set(e.left,e.top),u=$0[1].set(e.left,e.bottom),l=$0[2].set(e.right,e.top),c=$0[3].set(e.right,e.bottom);if(l.x<=a.x||u.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(u,u),r.apply(l,l),r.apply(c,c),Math.max(a.x,u.x,l.x,c.x)<=n||Math.min(a.x,u.x,l.x,c.x)>=i||Math.max(a.y,u.y,l.y,c.y)<=s||Math.min(a.y,u.y,l.y,c.y)>=o))return!1;const p=f*(u.y-a.y),m=f*(a.x-u.x),y=p*n+m*s,g=p*i+m*s,w=p*n+m*o,b=p*i+m*o;if(Math.max(y,g,w,b)<=p*a.x+m*a.y||Math.min(y,g,w,b)>=p*c.x+m*c.y)return!1;const _=f*(a.y-l.y),E=f*(l.x-a.x),x=_*n+E*s,N=_*i+E*s,M=_*n+E*o,R=_*i+E*o;return!(Math.max(x,N,M,R)<=_*a.x+E*a.y||Math.min(x,N,M,R)>=_*c.x+E*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}et.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ax{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=tn.CIRC}clone(){return new ax(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new et(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}ax.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class ux{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=tn.ELIP}clone(){return new ux(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new et(this.x-this.width,this.y-this.height,this.width,this.height)}}ux.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class qc{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=tn.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new qc(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],l=this.points[o*2],c=this.points[o*2+1];u>r!=c>r&&e<(l-a)*((r-u)/(c-u))+a&&(n=!n)}return n}}qc.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class lx{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=tn.RREC}clone(){return new lx(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}lx.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Gt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ut;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new ut;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,u,l){return this.a=Math.cos(a+l)*s,this.b=Math.sin(a+l)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),l=Math.abs(a+u);return l<1e-5||Math.abs(ow-l)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Gt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Gt}static get TEMP_MATRIX(){return new Gt}}Gt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const dc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],pc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],mc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],eO=[],SW=[],U0=Math.sign;function Oge(){for(let t=0;t<16;t++){const e=[];eO.push(e);for(let r=0;r<16;r++){const n=U0(dc[t]*dc[r]+pc[t]*fc[r]),i=U0(fc[t]*dc[r]+mc[t]*fc[r]),s=U0(dc[t]*pc[r]+pc[t]*mc[r]),o=U0(fc[t]*pc[r]+mc[t]*mc[r]);for(let a=0;a<16;a++)if(dc[a]===n&&fc[a]===i&&pc[a]===s&&mc[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Gt;e.set(dc[t],fc[t],pc[t],mc[t],0,0),SW.push(e)}}Oge();const tr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>dc[t],uY:t=>fc[t],vX:t=>pc[t],vY:t=>mc[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>eO[t][e],sub:(t,e)=>eO[t][tr.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?tr.S:tr.N:Math.abs(e)*2<=Math.abs(t)?t>0?tr.E:tr.W:e>0?t>0?tr.SE:tr.SW:t>0?tr.NE:tr.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=SW[tr.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Qo{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Qo(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Qo.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const tO=class{constructor(){this.worldTransform=new Gt,this.localTransform=new Gt,this.position=new Qo(this.onChange,this,0,0),this.scale=new Qo(this.onChange,this,1,1),this.pivot=new Qo(this.onChange,this,0,0),this.skew=new Qo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};tO.IDENTITY=new tO;let cx=tO;cx.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Rge=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Pge=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function xU(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function nC(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function AW(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return nC(2*e);case"bvec3":return nC(3*e);case"bvec4":return nC(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Cf=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],kge={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},Nge={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Mge(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<Cf.length;u++)if(Cf[u].test(s,o)){r.push(Cf[u].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?kge:Nge)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const TW={};let bd=TW;function Dge(){if(bd===TW||bd!=null&&bd.isContextLost()){const t=Ce.ADAPTER.createCanvas();let e;Ce.PREFER_ENV>=jh.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),bd=e}return bd}let F0;function Bge(){if(!F0){F0=us.MEDIUM;const t=Dge();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(F0=e.precision?us.HIGH:us.MEDIUM)}}return F0}function SU(t,e){const r=t.getShaderSource(e).split(`
`).map((l,c)=>`${c}: ${l}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(l=>parseFloat(l.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(l=>l&&!s[l]?(s[l]=!0,!0):!1),a=[""];o.forEach(l=>{r[l-1]=`%c${r[l-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function Lge(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||SU(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||SU(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const $ge={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function CW(t){return $ge[t]}let j0=null;const AU={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function IW(t,e){if(!j0){const r=Object.keys(AU);j0={};for(let n=0;n<r.length;++n){const i=r[n];j0[t[i]]=AU[i]}}return j0[e]}function TU(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===us.HIGH&&r!==us.HIGH&&(n=us.MEDIUM),`precision ${n} float;
${t}`}else if(r!==us.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Fm;function Uge(){if(typeof Fm=="boolean")return Fm;try{Fm=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Fm=!1}return Fm}let Fge=0;const z0={},rO=class Dd{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=Fge++,this.vertexSrc=e||Dd.defaultVertexSrc,this.fragmentSrc=r||Dd.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),z0[n]?(z0[n]++,n+=`-${z0[n]}`):z0[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=TU(this.vertexSrc,Dd.defaultVertexPrecision,us.HIGH),this.fragmentSrc=TU(this.fragmentSrc,Dd.defaultFragmentPrecision,Bge())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Pge}static get defaultFragmentSrc(){return Rge}static from(e,r,n){const i=e+r;let s=vU[i];return s||(vU[i]=s=new Dd(e,r,n)),s}};rO.defaultVertexPrecision=us.HIGH,rO.defaultFragmentPrecision=za.apple.device?us.HIGH:us.MEDIUM;let Ha=rO,jge=0;class Js{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=jge++,this.static=!!r,this.ubo=!!n,e instanceof pr?(this.buffer=e,this.buffer.type=ia.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pr(new Float32Array(1)),this.buffer.type=ia.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Js(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Js(e,r,n)}static uboFrom(e,r){return new Js(e,r??!0,!0)}}class sa{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Js?this.uniformGroup=r:this.uniformGroup=new Js(r):this.uniformGroup=new Js({}),this.disposeRunner=new Ks("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Ha.from(e,r);return new sa(i,n)}}class zge{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Js.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ha(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:this.defaultGroupCache[e]};return new sa(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class nO{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function Hge(){return!za.apple.device}function Vge(t){let e=!0;const r=Ce.ADAPTER.getNavigator();if(za.tablet||za.phone){if(za.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(za.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class hx{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var Gge=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,Wge=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const ty=class Ms extends hx{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=xW,this.vertexSize=6,this.state=ya.for2d(),this.size=Ms.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??Vge(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??Hge(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return st("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return Wge}static get defaultFragmentTemplate(){return Gge}setShaderGenerator({vertex:e=Ms.defaultVertexSrc,fragment:r=Ms.defaultFragmentTemplate}={}){this.shaderGenerator=new zge(e,r)}contextChange(){const e=this.renderer.gl;Ce.PREFER_ENV===jh.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Ms.defaultMaxTextures),this.maxTextures=bge(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Ms,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new J2);for(;r.length<i;)r.push(new nO);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Ms._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++Je._globalBatch,u=0,l=n[0],c=0;i.copyBoundTextures(s,r);for(let f=0;f<this._bufferSize;++f){const p=e[f];e[f]=null,p._batchEnabled!==a&&(l.count>=r&&(i.boundArray(l,s,a,r),this.buildDrawCalls(l,c,f),c=f,l=n[++u],++a),p._batchEnabled=a,p.touched=o,l.elements[l.count++]=p)}l.count>0&&(i.boundArray(l,s,a,r),this.buildDrawCalls(l,c,this._bufferSize),++u,++a);for(let f=0;f<s.length;f++)s[f]=null;Je._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,u=Ms._drawCallPool;let l=this._dcIndex,c=this._aIndex,f=this._iIndex,p=u[l];p.start=this._iIndex,p.texArray=e;for(let m=r;m<n;++m){const y=i[m],g=y._texture.baseTexture,w=_W[g.alphaMode?1:0][y.blendMode];i[m]=null,r<m&&p.blend!==w&&(p.size=f-p.start,r=m,p=u[++l],p.texArray=e,p.start=f),this.packInterleavedGeometry(y,s,o,c,f),c+=y.vertexData.length/2*a,f+=y.indices.length,p.blend=w}r<n&&(p.size=f-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=f}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Ms.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Ms._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:u,size:l,start:c,blend:f}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=f,n.set(this.state),r.drawElements(u,l,r.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ms.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=iw(Math.ceil(e/8)),n=yU(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new Y2(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=iw(Math.ceil(e/12)),n=yU(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,u=i/this.vertexSize,l=e.uvs,c=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),y=Mt.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let g=0;g<f.length;g+=2)a[i++]=f[g],a[i++]=f[g+1],a[i++]=l[g],a[i++]=l[g+1],o[i++]=y,a[i++]=p;for(let g=0;g<c.length;g++)n[s++]=u+c[g]}};ty.defaultBatchSize=4096,ty.extension={name:"batch",type:xe.RendererPlugin},ty._drawCallPool=[],ty._textureArrayPool=[];let yc=ty;Le.add(yc);var qge=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Zge=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const iO=class ry extends sa{constructor(e,r,n){const i=Ha.from(e||ry.defaultVertexSrc,r||ry.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=ry.defaultResolution,this.multisample=ry.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ya}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return Zge}static get defaultFragmentSrc(){return qge}};iO.defaultResolution=1,iO.defaultMultisample=_r.NONE;let jn=iO;class aw{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Mt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}aw.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},aw.extension={type:[xe.RendererSystem,xe.CanvasRendererSystem],name:"background"};Le.add(aw);class OW{constructor(e){this.renderer=e,this.emptyRenderer=new hx(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let l=0;l<a;l++){const c=s[l],f=c._batchLocation;if(f>=0&&f<i&&r[f]===c){o[l]=f;continue}for(;u<i;){const p=r[u];if(p&&p._batchEnabled===n&&p._batchLocation===u){u++;continue}o[l]=u,c._batchLocation=u,r[u]=c;break}}}destroy(){this.renderer=null}}OW.extension={type:xe.RendererSystem,name:"batch"};Le.add(OW);let CU=0;class uw{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CU++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CU++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(Ce.PREFER_ENV>=jh.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}uw.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},uw.extension={type:xe.RendererSystem,name:"context"};Le.add(uw);class sO{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ks("disposeFramebuffer"),this.multisample=_r.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Je(null,{scaleMode:Oi.NEAREST,resolution:1,mipmap:ca.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Je(null,{scaleMode:Oi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ca.OFF,format:ge.DEPTH_COMPONENT,type:ze.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class RW extends Je{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=_r.NONE),super(null,e),this.mipmap=ca.OFF,this.valid=!0,this._clear=new Mt([0,0,0,0]),this.framebuffer=new sO(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Al extends Mg{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=gge(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===li.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class PW extends Al{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Al.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??Ce.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===li.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class yM{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,l=e.y/s+a;n=tr.add(n,tr.NW),this.x0=u+o*tr.uX(n),this.y0=l+a*tr.uY(n),n=tr.add(n,2),this.x1=u+o*tr.uX(n),this.y1=l+a*tr.uY(n),n=tr.add(n,2),this.x2=u+o*tr.uX(n),this.y2=l+a*tr.uY(n),n=tr.add(n,2),this.x3=u+o*tr.uX(n),this.y3=l+a*tr.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}yM.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const IU=new yM;function H0(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class be extends $v{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new et(0,0,1,1)),e instanceof be&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=IU,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new ut(o.x,o.y):new ut(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&$o[r.url]&&be.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,be.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new be(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===IU&&(this._uvs=new yM),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=Ce.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Je){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${_h()}`,Je.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${_h()}`}s=e._pixiId}let o=$o[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Je)?(r.resolution||(r.resolution=tu(e)),o=new be(new Je(e,r)),o.baseTexture.cacheId=s,Je.addToCache(o.baseTexture,s),be.addToCache(o,s)):!o&&e instanceof Je&&(o=new be(e),be.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=be.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new be(Je.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Je(e,Object.assign({scaleMode:Je.defaultOptions.scaleMode,resolution:tu(r)},i)),{resource:o}=s;o instanceof PW&&(o.url=r);const a=new be(s);return n||(n=r),Je.addToCache(a.baseTexture,n),be.addToCache(a,n),n!==r&&(Je.addToCache(a.baseTexture,r),be.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),$o[r]&&$o[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),$o[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=$o[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete $o[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)$o[e.textureCacheIds[r]]===e&&delete $o[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",l=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,c=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${l} ${u} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return be._EMPTY||(be._EMPTY=new be(new Je),H0(be._EMPTY),H0(be._EMPTY.baseTexture)),be._EMPTY}static get WHITE(){if(!be._WHITE){const e=Ce.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),be._WHITE=new be(Je.from(e)),H0(be._WHITE),H0(be._WHITE.baseTexture)}return be._WHITE}}class Hh extends be{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Hh(new RW(e))}}class kW{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=_r.NONE){const i=new RW(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Hh(i)}getOptimalTexture(e,r,n=1,i=_r.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=iw(e),r=iw(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||_r.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}kW.SCREEN_KEY=-1;class Xge extends Sl{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class NW extends Sl{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new pr(this.vertices),this.uvBuffer=new pr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class Yge{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=_r.NONE,this.sourceFrame=new et,this.destinationFrame=new et,this.bindingSourceFrame=new et,this.bindingDestinationFrame=new et,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const V0=[new ut,new ut,new ut,new ut],iC=new Gt;class MW{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new kW,this.statePool=[],this.quad=new Xge,this.quadUv=new NW,this.tempRect=new et,this.activeState={},this.globalUniforms=new Js({outputFrame:new et,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Yge,o=n.renderTexture;let a,u;if(o.current){const w=o.current;a=w.resolution,u=w.multisample}else a=n.resolution,u=n.multisample;let l=r[0].resolution||a,c=r[0].multisample??u,f=r[0].padding,p=r[0].autoFit,m=r[0].legacy??!0;for(let w=1;w<r.length;w++){const b=r[w];l=Math.min(l,b.resolution||a),c=Math.min(c,b.multisample??u),f=this.useMaxPadding?Math.max(f,b.padding):f+b.padding,p=p&&b.autoFit,m=m||(b.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=c,s.legacy=m,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);const y=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(iC.copyFrom(n.projection.transform).invert(),y),p?(s.sourceFrame.fit(y),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(y)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const l=i.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,Vo.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let l=r.renderTexture,c=this.getOptimalFilterTexture(l.width,l.height,r.resolution);c.filterFrame=l.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(l.width,l.height,r.resolution),c.filterFrame=l.filterFrame),n[f].apply(this,l,c,Vo.CLEAR,r);const p=l;l=c,c=p}n[f].apply(this,l,u.renderTexture,Vo.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Vo.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Vo.CLEAR||r===Vo.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Vs.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Vs.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Gt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=_r.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||_r.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=V0[0],i=V0[1],s=V0[2],o=V0[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),l=Math.max(n.x,i.x,s.x,o.x),c=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=l-a,r.height=c-u}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:l}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(l)>1e-4))return}s=s?iC.copyFrom(s):iC.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}MW.extension={type:xe.RendererSystem,name:"filter"};Le.add(MW);class Qge{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=_r.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const Kge=new et;class DW{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new sO(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new et,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Ce.PREFER_ENV===jh.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=P2.COLOR|P2.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new Qge(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const l=s[u],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,l.target,c._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let u,l;this.renderer.context.webGLVersion===1?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH_STENCIL):e.depth&&e.stencil?(u=n.DEPTH_STENCIL_ATTACHMENT,l=n.DEPTH24_STENCIL8):e.depth?(u=n.DEPTH_ATTACHMENT,l=n.DEPTH_COMPONENT24):(u=n.STENCIL_ATTACHMENT,l=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,l,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,l,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,u,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=_r.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=_r.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;u.blitFramebuffer||(u.blitFramebuffer=new sO(i.width,i.height),u.blitFramebuffer.addColorTexture(0,c)),e=u.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=Kge,r.width=i.width,r.height=i.height),n||(n=r);const l=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,u;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,u=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,u=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,u,n,i):s.renderbufferStorage(s.RENDERBUFFER,u,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new et}destroy(){this.renderer=null}}DW.extension={type:xe.RendererSystem,name:"framebuffer"};Le.add(DW);const sC={5126:4,5123:2,5121:1};class BW{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Ce.PREFER_ENV===jh.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const u=this.getSignature(e,a),l=e.glVertexArrayObjects[this.CONTEXT_UID];let c=l[u];if(c)return l[a.id]=c,c;const f=e.buffers,p=e.attributes,m={},y={};for(const g in f)m[g]=0,y[g]=0;for(const g in p)!p[g].size&&a.attributeData[g]?p[g].size=a.attributeData[g].size:p[g].size||console.warn(`PIXI Geometry attribute '${g}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[g].buffer]+=p[g].size*sC[p[g].type];for(const g in p){const w=p[g],b=w.size;w.stride===void 0&&(m[w.buffer]===b*sC[w.type]?w.stride=0:w.stride=m[w.buffer]),w.start===void 0&&(w.start=y[w.buffer],y[w.buffer]+=b*sC[w.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let g=0;g<f.length;g++){const w=f[g];o.bind(w),n&&w._glBuffers[s].refCount++}return this.activateVao(e,a),l[a.id]=c,l[u]=c,i.bindVertexArray(null),o.unbind(ia.ARRAY_BUFFER),c}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const l=s[u]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const l=n[u];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const l in a){const c=a[l],f=o[c.buffer],p=f._glBuffers[i];if(r.attributeData[l]){u!==p&&(s.bind(f),u=p);const m=r.attributeData[l].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(m,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}BW.extension={type:xe.RendererSystem,name:"geometry"};Le.add(BW);const OU=new Gt;class gM{constructor(e,r){this._texture=e,this.mapCoord=new Gt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(OU.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(OU));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(r._frame.x+u+l)/o.width,a[1]=(r._frame.y+u+l)/o.height,a[2]=(r._frame.x+r._frame.width-u+l)/o.width,a[3]=(r._frame.y+r._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var Jge=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,eve=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class tve extends jn{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||eve,r||Jge,n),this.maskSprite=i,this.maskMatrix=new Gt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new gM(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class rve{constructor(e=null){this.type=Cr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=jn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Cr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class LW{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new rve;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Cr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Cr.SCISSOR:this.renderer.scissor.push(n);break;case Cr.STENCIL:this.renderer.stencil.push(n);break;case Cr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Cr.COLOR:this.pushColorMask(n);break}n.type===Cr.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Cr.SCISSOR:this.renderer.scissor.pop(r);break;case Cr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Cr.SPRITE:this.popSpriteMask(r);break;case Cr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Cr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Cr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Cr.SCISSOR:e.type=Cr.STENCIL:e.type=Cr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new tve])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}LW.extension={type:xe.RendererSystem,name:"mask"};Le.add(LW);class $W{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const RU=new Gt,PU=[],UW=class Ub extends $W{constructor(e){super(e),this.glConst=Ce.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,PU.pop()??new et);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Ub.isMatrixRotated(r.worldTransform)||Ub.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Ub.isMatrixRotated(s)||(s=s?RU.copyFrom(s):RU.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&PU.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};UW.extension={type:xe.RendererSystem,name:"scissor"};let nve=UW;Le.add(nve);class FW extends $W{constructor(e){super(e),this.glConst=Ce.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}FW.extension={type:xe.RendererSystem,name:"stencil"};Le.add(FW);class jW{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return st("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return st("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return st("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}jW.extension={type:[xe.RendererSystem,xe.CanvasRendererSystem],name:"_plugin"};Le.add(jW);class zW{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Gt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}zW.extension={type:xe.RendererSystem,name:"projection"};Le.add(zW);const ive=new cx,kU=new et;class HW{constructor(e){this.renderer=e,this._tempMatrix=new Gt}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(kU))||e.getLocalBounds(kU,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Hh.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=e.transform;return e.transform=ive,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,a}destroy(){}}HW.extension={type:[xe.RendererSystem,xe.CanvasRendererSystem],name:"textureGenerator"};Le.add(HW);const oc=new et,jm=new et;class VW{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new et,this.destinationFrame=new et,this.viewportFrame=new et}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(oc.width=e.frame.width,oc.height=e.frame.height,r=oc),n||(jm.x=e.frame.x,jm.y=e.frame.y,jm.width=r.width,jm.height=r.height,n=jm),o=s.framebuffer):(a=i.resolution,r||(oc.width=i._view.screen.width,oc.height=i._view.screen.height,r=oc),n||(n=oc,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Mt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:l,width:c,height:f}=this.viewportFrame;u=Math.round(u),l=Math.round(l),c=Math.round(c),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,l,c,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}VW.extension={type:xe.RendererSystem,name:"renderTexture"};Le.add(VW);class sve{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function ove(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=IW(e,s.type),a={type:o,name:s.name,size:CW(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function ave(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=IW(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:AW(u,s.size)}}return r}function uve(t,e){var a;const r=xU(t,t.VERTEX_SHADER,e.vertexSrc),n=xU(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||Lge(t,i,r,n),e.attributeData=ove(i,t),e.uniformData=ave(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((l,c)=>l>c?1:-1);for(let l=0;l<u.length;l++)e.attributeData[u[l]].location=l,t.bindAttribLocation(i,l,u[l]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const l=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:AW(l.type,l.size)}}return new sve(i,o)}function lve(t,e,r,n,i){r.buffer.update(i)}const cve={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GW={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function hve(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=GW[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function dve(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function fve(t,e){if(!t.autoManage)return{size:0,syncFunc:lve};const r=dve(t.uniforms,e),{uboElements:n,size:i}=hve(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=t.uniforms[a.data.name],l=a.data.name;let c=!1;for(let f=0;f<Cf.length;f++){const p=Cf[f];if(p.codeUbo&&p.test(a.data,u)){s.push(`offset = ${a.offset/4};`,Cf[f].codeUbo(a.data.name,u)),c=!0;break}}if(!c)if(a.data.size>1){const f=CW(a.data.type),p=Math.max(GW[a.data.type]/16,1),m=f/p,y=(4-m%4)%4;s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${y};
                }

                `)}else{const f=cve[a.data.type];s.push(`
                cv = ud.${l}.value;
                v = uv.${l};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let pve=0;const G0={textureCount:0,uboCount:0};class WW{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=pve++}systemCheck(){if(!Uge())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(G0.textureCount=0,G0.uboCount=0,this.syncUniformGroup(e.uniformGroup,G0)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=Mge(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,G0,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=fve(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=uve(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}WW.extension={type:xe.RendererSystem,name:"shader"};Le.add(WW);class lw{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}lw.defaultOptions={hello:!1},lw.extension={type:[xe.RendererSystem,xe.CanvasRendererSystem],name:"startup"};Le.add(lw);function mve(t,e=[]){return e[Ge.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.ADD]=[t.ONE,t.ONE],e[Ge.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.NONE]=[0,0],e[Ge.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ge.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ge.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ge.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ge.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ge.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ge.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ge.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ge.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ge.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ge.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const yve=0,gve=1,vve=2,_ve=3,bve=4,wve=5,qW=class oO{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ge.NONE,this._blendEq=!1,this.map=[],this.map[yve]=this.setBlend,this.map[gve]=this.setOffset,this.map[vve]=this.setCullFace,this.map[_ve]=this.setDepthTest,this.map[bve]=this.setFrontFace,this.map[wve]=this.setDepthMask,this.checks=[],this.defaultState=new ya,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=mve(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(oO.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(oO.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};qW.extension={type:xe.RendererSystem,name:"state"};let Eve=qW;Le.add(Eve);class xve extends $v{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ks(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ny=class Fb{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Fb.defaultMaxIdle,this.checkCountMax=Fb.defaultCheckCountMax,this.mode=Fb.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==oM.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};ny.defaultMode=oM.AUTO,ny.defaultMaxIdle=60*60,ny.defaultCheckCountMax=60*10,ny.extension={type:xe.RendererSystem,name:"textureGC"};let gc=ny;Le.add(gc);class oC{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ze.UNSIGNED_BYTE,this.internalFormat=ge.RGBA,this.samplerType=0}}function Sve(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Ae.FLOAT,[t.RGBA]:Ae.FLOAT,[t.ALPHA]:Ae.FLOAT,[t.LUMINANCE]:Ae.FLOAT,[t.LUMINANCE_ALPHA]:Ae.FLOAT,[t.R8]:Ae.FLOAT,[t.R8_SNORM]:Ae.FLOAT,[t.RG8]:Ae.FLOAT,[t.RG8_SNORM]:Ae.FLOAT,[t.RGB8]:Ae.FLOAT,[t.RGB8_SNORM]:Ae.FLOAT,[t.RGB565]:Ae.FLOAT,[t.RGBA4]:Ae.FLOAT,[t.RGB5_A1]:Ae.FLOAT,[t.RGBA8]:Ae.FLOAT,[t.RGBA8_SNORM]:Ae.FLOAT,[t.RGB10_A2]:Ae.FLOAT,[t.RGB10_A2UI]:Ae.FLOAT,[t.SRGB8]:Ae.FLOAT,[t.SRGB8_ALPHA8]:Ae.FLOAT,[t.R16F]:Ae.FLOAT,[t.RG16F]:Ae.FLOAT,[t.RGB16F]:Ae.FLOAT,[t.RGBA16F]:Ae.FLOAT,[t.R32F]:Ae.FLOAT,[t.RG32F]:Ae.FLOAT,[t.RGB32F]:Ae.FLOAT,[t.RGBA32F]:Ae.FLOAT,[t.R11F_G11F_B10F]:Ae.FLOAT,[t.RGB9_E5]:Ae.FLOAT,[t.R8I]:Ae.INT,[t.R8UI]:Ae.UINT,[t.R16I]:Ae.INT,[t.R16UI]:Ae.UINT,[t.R32I]:Ae.INT,[t.R32UI]:Ae.UINT,[t.RG8I]:Ae.INT,[t.RG8UI]:Ae.UINT,[t.RG16I]:Ae.INT,[t.RG16UI]:Ae.UINT,[t.RG32I]:Ae.INT,[t.RG32UI]:Ae.UINT,[t.RGB8I]:Ae.INT,[t.RGB8UI]:Ae.UINT,[t.RGB16I]:Ae.INT,[t.RGB16UI]:Ae.UINT,[t.RGB32I]:Ae.INT,[t.RGB32UI]:Ae.UINT,[t.RGBA8I]:Ae.INT,[t.RGBA8UI]:Ae.UINT,[t.RGBA16I]:Ae.INT,[t.RGBA16UI]:Ae.UINT,[t.RGBA32I]:Ae.INT,[t.RGBA32UI]:Ae.UINT,[t.DEPTH_COMPONENT16]:Ae.FLOAT,[t.DEPTH_COMPONENT24]:Ae.FLOAT,[t.DEPTH_COMPONENT32F]:Ae.FLOAT,[t.DEPTH_STENCIL]:Ae.FLOAT,[t.DEPTH24_STENCIL8]:Ae.FLOAT,[t.DEPTH32F_STENCIL8]:Ae.FLOAT}:e={[t.RGB]:Ae.FLOAT,[t.RGBA]:Ae.FLOAT,[t.ALPHA]:Ae.FLOAT,[t.LUMINANCE]:Ae.FLOAT,[t.LUMINANCE_ALPHA]:Ae.FLOAT,[t.DEPTH_STENCIL]:Ae.FLOAT},e}function Ave(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ze.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA8,[ge.RGB]:t.RGB8,[ge.RG]:t.RG8,[ge.RED]:t.R8,[ge.RGBA_INTEGER]:t.RGBA8UI,[ge.RGB_INTEGER]:t.RGB8UI,[ge.RG_INTEGER]:t.RG8UI,[ge.RED_INTEGER]:t.R8UI,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ze.BYTE]:{[ge.RGBA]:t.RGBA8_SNORM,[ge.RGB]:t.RGB8_SNORM,[ge.RG]:t.RG8_SNORM,[ge.RED]:t.R8_SNORM,[ge.RGBA_INTEGER]:t.RGBA8I,[ge.RGB_INTEGER]:t.RGB8I,[ge.RG_INTEGER]:t.RG8I,[ge.RED_INTEGER]:t.R8I},[ze.UNSIGNED_SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16UI,[ge.RGB_INTEGER]:t.RGB16UI,[ge.RG_INTEGER]:t.RG16UI,[ge.RED_INTEGER]:t.R16UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ze.SHORT]:{[ge.RGBA_INTEGER]:t.RGBA16I,[ge.RGB_INTEGER]:t.RGB16I,[ge.RG_INTEGER]:t.RG16I,[ge.RED_INTEGER]:t.R16I},[ze.UNSIGNED_INT]:{[ge.RGBA_INTEGER]:t.RGBA32UI,[ge.RGB_INTEGER]:t.RGB32UI,[ge.RG_INTEGER]:t.RG32UI,[ge.RED_INTEGER]:t.R32UI,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ze.INT]:{[ge.RGBA_INTEGER]:t.RGBA32I,[ge.RGB_INTEGER]:t.RGB32I,[ge.RG_INTEGER]:t.RG32I,[ge.RED_INTEGER]:t.R32I},[ze.FLOAT]:{[ge.RGBA]:t.RGBA32F,[ge.RGB]:t.RGB32F,[ge.RG]:t.RG32F,[ge.RED]:t.R32F,[ge.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ze.HALF_FLOAT]:{[ge.RGBA]:t.RGBA16F,[ge.RGB]:t.RGB16F,[ge.RG]:t.RG16F,[ge.RED]:t.R16F},[ze.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB565},[ze.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA4},[ze.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGB5_A1},[ze.UNSIGNED_INT_2_10_10_10_REV]:{[ge.RGBA]:t.RGB10_A2,[ge.RGBA_INTEGER]:t.RGB10_A2UI},[ze.UNSIGNED_INT_10F_11F_11F_REV]:{[ge.RGB]:t.R11F_G11F_B10F},[ze.UNSIGNED_INT_5_9_9_9_REV]:{[ge.RGB]:t.RGB9_E5},[ze.UNSIGNED_INT_24_8]:{[ge.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ze.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ge.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ze.UNSIGNED_BYTE]:{[ge.RGBA]:t.RGBA,[ge.RGB]:t.RGB,[ge.ALPHA]:t.ALPHA,[ge.LUMINANCE]:t.LUMINANCE,[ge.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ze.UNSIGNED_SHORT_5_6_5]:{[ge.RGB]:t.RGB},[ze.UNSIGNED_SHORT_4_4_4_4]:{[ge.RGBA]:t.RGBA},[ze.UNSIGNED_SHORT_5_5_5_1]:{[ge.RGBA]:t.RGBA}},e}class ZW{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Je,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Ave(e),this.samplerTypes=Sve(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new oC(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new oC(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Ae.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new oC(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??Ae.FLOAT,this.webGLVersion===2&&e.type===ze.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==Ae.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Tf(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ca.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Ga.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==ca.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Oi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Oi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}ZW.extension={type:xe.RendererSystem,name:"texture"};Le.add(ZW);class XW{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}XW.extension={type:xe.RendererSystem,name:"transformFeedback"};Le.add(XW);class cw{constructor(e){this.renderer=e}init(e){this.screen=new et(0,0,e.width,e.height),this.element=e.view||Ce.ADAPTER.createCanvas(),this.resolution=e.resolution||Ce.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}cw.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},cw.extension={type:[xe.RendererSystem,xe.CanvasRendererSystem],name:"_view"};Le.add(cw);Ce.PREFER_ENV=jh.WEBGL2;Ce.STRICT_TEXTURE_CACHE=!1;Ce.RENDER_OPTIONS={...uw.defaultOptions,...aw.defaultOptions,...cw.defaultOptions,...lw.defaultOptions};Object.defineProperties(Ce,{WRAP_MODE:{get(){return Je.defaultOptions.wrapMode},set(t){st("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Je.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Je.defaultOptions.scaleMode},set(t){st("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Je.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Je.defaultOptions.mipmap},set(t){st("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Je.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Je.defaultOptions.anisotropicLevel},set(t){st("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Je.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return st("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),jn.defaultResolution},set(t){jn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return st("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),jn.defaultMultisample},set(t){jn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return yc.defaultMaxTextures},set(t){st("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),yc.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return yc.defaultBatchSize},set(t){st("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),yc.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return yc.canUploadSameBuffer},set(t){st("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),yc.canUploadSameBuffer=t}},GC_MODE:{get(){return gc.defaultMode},set(t){st("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),gc.defaultMode=t}},GC_MAX_IDLE:{get(){return gc.defaultMaxIdle},set(t){st("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),gc.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return gc.defaultCheckCountMax},set(t){st("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),gc.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Ha.defaultVertexPrecision},set(t){st("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ha.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Ha.defaultFragmentPrecision},set(t){st("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ha.defaultFragmentPrecision=t}}});var Tl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Tl||{});class aC{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const YW=class _i{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new aC(null,null,1/0),this.deltaMS=1/_i.targetFPMS,this.elapsedMS=1/_i.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Tl.NORMAL){return this._addListener(new aC(e,r,n))}addOnce(e,r,n=Tl.NORMAL){return this._addListener(new aC(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*_i.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,_i.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!_i._shared){const e=_i._shared=new _i;e.autoStart=!0,e._protected=!0}return _i._shared}static get system(){if(!_i._system){const e=_i._system=new _i;e.autoStart=!0,e._protected=!0}return _i._system}};YW.targetFPMS=.06;let qr=YW;Object.defineProperties(Ce,{TARGET_FPMS:{get(){return qr.targetFPMS},set(t){st("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),qr.targetFPMS=t}}});class QW{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Tl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?qr.shared:new qr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}QW.extension=xe.Application;Le.add(QW);const KW=[];Le.handleByList(xe.Renderer,KW);function Tve(t){for(const e of KW)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Cve=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Ive=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Ove=Cve,JW=Ive;class eq{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=_r.HIGH?this.multisample=_r.HIGH:r>=_r.MEDIUM?this.multisample=_r.MEDIUM:r>=_r.LOW?this.multisample=_r.LOW:this.multisample=_r.NONE}destroy(){}}eq.extension={type:xe.RendererSystem,name:"_multisample"};Le.add(eq);class Rve{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class tq{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new Rve(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}tq.extension={type:xe.RendererSystem,name:"buffer"};Le.add(tq);class rq{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}rq.extension={type:xe.RendererSystem,name:"objectRenderer"};Le.add(rq);const jb=class aO extends xve{constructor(e){super(),this.type=qG.WEBGL,e=Object.assign({},Ce.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Js({projectionMatrix:new Gt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:aO.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(st("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=aO.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Jye()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return st("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return st("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return st("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return st("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){st("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return st("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){st("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return st("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};jb.extension={type:xe.Renderer,priority:1},jb.__plugins={},jb.__systems={};let vM=jb;Le.handleByMap(xe.RendererPlugin,vM.__plugins);Le.handleByMap(xe.RendererSystem,vM.__systems);Le.add(vM);class nq extends Mg{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Je;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Mg?this.addResourceAt(e[n],n):this.addResourceAt(EW(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class Pve extends nq{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=xf.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const l=o[u];s[u]<l.dirtyId&&(s[u]=l.dirtyId,l.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,r.format,n.type,l.resource.source))}return!0}}class kve extends Al{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const iq=class iy extends nq{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==iy.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<iy.SIDES;a++)this.items[a].target=xf.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=xf.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=xf.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<iy.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===iy.SIDES}};iq.SIDES=6;let Nve=iq;class sf extends Al{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=sf.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await Ce.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===li.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return sf._EMPTY=sf._EMPTY??Ce.ADAPTER.createCanvas(0,0),sf._EMPTY}}const uO=class zb extends Al{constructor(e,r){r=r||{},super(Ce.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},zb.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Al.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${_h()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=zb.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&zb.SVG_XML.test(e)}};uO.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,uO.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let lO=uO;const cO=class hO extends Al{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Al.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:u}=e[s];if(a=a||e[s],a.startsWith("data:"))u=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const l=a.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);u=u||hO.MIME_TYPES[c]||`video/${c}`}o.src=a,u&&(o.type=u),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=qr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(qr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||hO.TYPES.includes(r)}};cO.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],cO.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let sq=cO;Q2.push(sf,PW,kve,sq,lO,ox,Nve,Pve);class hw{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?et.EMPTY:(e=e||new et(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=e,l=n*r.x+s*r.y+a,c=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,u=e.c,l=e.d,c=e.tx,f=e.ty;let p=this.minX,m=this.minY,y=this.maxX,g=this.maxY,w=o*r+u*n+c,b=a*r+l*n+f;p=w<p?w:p,m=b<m?b:m,y=w>y?w:y,g=b>g?b:g,w=o*i+u*n+c,b=a*i+l*n+f,p=w<p?w:p,m=b<m?b:m,y=w>y?w:y,g=b>g?b:g,w=o*r+u*s+c,b=a*r+l*s+f,p=w<p?w:p,m=b<m?b:m,y=w>y?w:y,g=b>g?b:g,w=o*i+u*s+c,b=a*i+l*s+f,p=w<p?w:p,m=b<m?b:m,y=w>y?w:y,g=b>g?b:g,this.minX=p,this.minY=m,this.maxX=y,this.maxY=g}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=r;u<n;u+=2){const l=e[u],c=e[u+1];i=l<i?l:i,s=c<s?c:s,o=l>o?l:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,u=e.b,l=e.c,c=e.d,f=e.tx,p=e.ty;let m=this.minX,y=this.minY,g=this.maxX,w=this.maxY;for(let b=n;b<i;b+=2){const _=r[b],E=r[b+1],x=a*_+l*E+f,N=c*E+u*_+p;m=Math.min(m,x-s),g=Math.max(g,x+s),y=Math.min(y,N-o),w=Math.max(w,N+o)}this.minX=m,this.minY=y,this.maxX=g,this.maxY=w}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>c?o:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,l=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>l?s:l,this.maxY=o>c?o:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Kt extends $v{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new cx,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new hw,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Kt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new et),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new et),e=this._localBoundsRect),this._localBounds||(this._localBounds=new hw);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,u=0,l=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=l,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Mve),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Cge}set angle(e){this.transform.rotation=e*Ige}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class Mve extends Kt{constructor(){super(...arguments),this.sortDirty=null}}Kt.prototype.displayObjectUpdateTransform=Kt.prototype.updateTransform;const Dve=new Gt;function Bve(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const oq=class dO extends Kt{constructor(){super(),this.children=[],this.sortableChildren=dO.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Tf(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Tf(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Tf(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Bve),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==dO.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=Dve.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const u=this.children[o],l=u.cullable;u.cullable=l||!this.cullArea,u.render(e),u.cullable=l}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<r.length;u++)r[u].enabled&&this._enabledFilters.push(r[u])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Cr.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let u=0,l=this.children.length;u<l;++u)this.children[u].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};oq.defaultSortableChildren=!1;let qn=oq;qn.prototype.containerUpdateTransform=qn.prototype.updateTransform;Object.defineProperties(Ce,{SORTABLE_CHILDREN:{get(){return qn.defaultSortableChildren},set(t){st("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),qn.defaultSortableChildren=t}}});var dx=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(dx||{});const zm=new ut,Lve=new Uint16Array([0,1,2,0,2,3]);class ga extends qn{constructor(e){super(),this._anchor=new Qo(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Mt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ge.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||be.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Lve,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Ce.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Gu(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Gu(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,l=this.vertexData,c=e.trim,f=e.orig,p=this._anchor;let m=0,y=0,g=0,w=0;if(c?(y=c.x-p._x*f.width,m=y+c.width,w=c.y-p._y*f.height,g=w+c.height):(y=-p._x*f.width,m=y+f.width,w=-p._y*f.height,g=w+f.height),l[0]=n*y+s*w+a,l[1]=o*w+i*y+u,l[2]=n*m+s*w+a,l[3]=o*w+i*m+u,l[4]=n*m+s*g+a,l[5]=o*g+i*m+u,l[6]=n*y+s*g+a,l[7]=o*g+i*y+u,this._roundPixels){const b=Ce.RESOLUTION;for(let _=0;_<l.length;++_)l[_]=Math.round(l[_]*b)/b}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,l=s.d,c=s.tx,f=s.ty,p=-i._x*n.width,m=p+n.width,y=-i._y*n.height,g=y+n.height;if(r[0]=o*p+u*y+c,r[1]=l*y+a*p+f,r[2]=o*m+u*y+c,r[3]=l*y+a*m+f,r[4]=o*m+u*g+c,r[5]=l*g+a*m+f,r[6]=o*p+u*g+c,r[7]=l*g+a*p+f,this._roundPixels){const w=Ce.RESOLUTION;for(let b=0;b<r.length;++b)r[b]=Math.round(r[b]*w)/w}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new hw),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new et),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,zm);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return zm.x>=i&&zm.x<i+r&&(s=-n*this.anchor.y,zm.y>=s&&zm.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof be?e:be.from(e,r);return new ga(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Gu(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Gu(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||be.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const W0={willReadFrequently:!0},Uo=class Fe{static get experimentalLetterSpacingSupported(){let e=Fe._experimentalLetterSpacingSupported;if(e!==void 0){const r=Ce.ADAPTER.getCanvasRenderingContext2D().prototype;e=Fe._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,u,l){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=l}static measureText(e,r,n,i=Fe._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=Fe.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",W0);a.font=s;const u=(n?Fe.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length);let c=0;for(let y=0;y<u.length;y++){const g=Fe._measureText(u[y],r.letterSpacing,a);l[y]=g,c=Math.max(c,g)}let f=c+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let m=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(u.length-1)*(p+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new Fe(e,r,f,m,u,l,p+r.leading,c,o)}static _measureText(e,r,n){let i=!1;Fe.experimentalLetterSpacingSupported&&(Fe.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(Fe.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=Fe._canvas){const i=n.getContext("2d",W0);let s=0,o="",a="";const u=Object.create(null),{letterSpacing:l,whiteSpace:c}=r,f=Fe.collapseSpaces(c),p=Fe.collapseNewlines(c);let m=!f;const y=r.wordWrapWidth+l,g=Fe.tokenize(e);for(let w=0;w<g.length;w++){let b=g[w];if(Fe.isNewline(b)){if(!p){a+=Fe.addLine(o),m=!f,o="",s=0;continue}b=" "}if(f){const E=Fe.isBreakingSpace(b),x=Fe.isBreakingSpace(o[o.length-1]);if(E&&x)continue}const _=Fe.getFromCache(b,l,u,i);if(_>y)if(o!==""&&(a+=Fe.addLine(o),o="",s=0),Fe.canBreakWords(b,r.breakWords)){const E=Fe.wordWrapSplit(b);for(let x=0;x<E.length;x++){let N=E[x],M=N,R=1;for(;E[x+R];){const W=E[x+R];if(!Fe.canBreakChars(M,W,b,x,r.breakWords))N+=W;else break;M=W,R++}x+=R-1;const D=Fe.getFromCache(N,l,u,i);D+s>y&&(a+=Fe.addLine(o),m=!1,o="",s=0),o+=N,s+=D}}else{o.length>0&&(a+=Fe.addLine(o),o="",s=0);const E=w===g.length-1;a+=Fe.addLine(b,!E),m=!1,o="",s=0}else _+s>y&&(m=!1,a+=Fe.addLine(o),o="",s=0),(o.length>0||!Fe.isBreakingSpace(b)||m)&&(o+=b,s+=_)}return a+=Fe.addLine(o,!1),a}static addLine(e,r=!0){return e=Fe.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=Fe._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!Fe.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Fe._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:Fe._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(Fe.isBreakingSpace(s,o)||Fe.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return Fe.graphemeSegmenter(e)}static measureFont(e){if(Fe._fonts[e])return Fe._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=Fe._canvas,i=Fe._context;i.font=e;const s=Fe.METRICS_STRING+Fe.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(Fe.BASELINE_SYMBOL).width);const u=Math.ceil(Fe.HEIGHT_MULTIPLIER*a);if(a=a*Fe.BASELINE_MULTIPLIER|0,o===0||u===0)return Fe._fonts[e]=r,r;n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const l=i.getImageData(0,0,o,u).data,c=l.length,f=o*4;let p=0,m=0,y=!1;for(p=0;p<a;++p){for(let g=0;g<f;g+=4)if(l[m+g]!==255){y=!0;break}if(!y)m+=f;else break}for(r.ascent=a-p,m=c-f,y=!1,p=u;p>a;--p){for(let g=0;g<f;g+=4)if(l[m+g]!==255){y=!0;break}if(!y)m-=f;else break}return r.descent=p-a,r.fontSize=r.ascent+r.descent,Fe._fonts[e]=r,r}static clearMetrics(e=""){e?delete Fe._fonts[e]:Fe._fonts={}}static get _canvas(){var e;if(!Fe.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",W0))!=null&&e.measureText)return Fe.__canvas=n,n;r=Ce.ADAPTER.createCanvas()}catch{r=Ce.ADAPTER.createCanvas()}r.width=r.height=10,Fe.__canvas=r}return Fe.__canvas}static get _context(){return Fe.__context||(Fe.__context=Fe._canvas.getContext("2d",W0)),Fe.__context}};Uo.METRICS_STRING="|q",Uo.BASELINE_SYMBOL="M",Uo.BASELINE_MULTIPLIER=1.4,Uo.HEIGHT_MULTIPLIER=2,Uo.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Uo.experimentalLetterSpacing=!1,Uo._fonts={},Uo._newlines=[10,13],Uo._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ku=Uo;const $ve=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],aq=class sy{constructor(e){this.styleID=0,this.reset(),lC(this,e,e)}clone(){const e={};return lC(e,this,sy.defaultStyle),new sy(e)}reset(){lC(this,sy.defaultStyle,sy.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=uC(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=uC(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Uve(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=uC(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!$ve.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};aq.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:dx.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let ru=aq;function uC(t){const e=Mt.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function Uve(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function lC(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const Fve={texture:!0,children:!1,baseTexture:!0},uq=class fO extends ga{constructor(e,r,n){let i=!1;n||(n=Ce.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=be.from(n);s.orig=new et,s.trim=new et,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=fO.defaultResolution??Ce.RESOLUTION,this._autoResolution=fO.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return ku.experimentalLetterSpacing}static set experimentalLetterSpacing(e){st("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ku.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=ku.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,u=i.lineHeight,l=i.lineWidths,c=i.maxLineWidth,f=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let p,m;const y=r.dropShadow?2:1;for(let g=0;g<y;++g){const w=r.dropShadow&&g===0,b=w?Math.ceil(Math.max(1,o)+r.padding*2):0,_=b*this._resolution;if(w){n.fillStyle="black",n.strokeStyle="black";const x=r.dropShadowColor,N=r.dropShadowBlur*this._resolution,M=r.dropShadowDistance*this._resolution;n.shadowColor=Mt.shared.setValue(x).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=N,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*M,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*M+_}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let E=(u-f.fontSize)/2;u-f.fontSize<0&&(E=0);for(let x=0;x<a.length;x++)p=r.strokeThickness/2,m=r.strokeThickness/2+x*u+f.ascent+E,r.align==="right"?p+=c-l[x]:r.align==="center"&&(p+=(c-l[x])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[x],p+r.padding,m+r.padding-b,!0),r.fill&&this.drawLetterSpacing(a[x],p+r.padding,m+r.padding-b)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(ku.experimentalLetterSpacingSupported&&(ku.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const u=ku.graphemeSegmenter(e);let l=this.context.measureText(e).width,c=0;for(let f=0;f<u.length;++f){const p=u[f];i?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let y=f+1;y<u.length;++y)m+=u[y];c=this.context.measureText(m).width,a+=l-c+s,l=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=yge(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,u=this.canvas.width/this._resolution-o-a*2,l=this.canvas.height/this._resolution-o-a*2,c=i.slice(),f=e.fillGradientStops.slice();if(!f.length){const p=c.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(c.unshift(i[0]),f.unshift(0),c.push(i[i.length-1]),f.push(1),e.fillGradientType===dx.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,a,u/2,l+a);const p=n.fontProperties.fontSize+e.strokeThickness;for(let m=0;m<r.length;m++){const y=n.lineHeight*(m-1)+p,g=n.lineHeight*m;let w=g;m>0&&y>g&&(w=(g+y)/2);const b=g+p,_=n.lineHeight*(m+1);let E=b;m+1<r.length&&_<b&&(E=(b+_)/2);const x=(E-w)/l;for(let N=0;N<c.length;N++){let M=0;typeof f[N]=="number"?M=f[N]:M=N/c.length;let R=Math.min(1,Math.max(0,w/l+M*x));R=Number(R.toFixed(5)),s.addColorStop(R,c[N])}}}else{s=this.context.createLinearGradient(a,l/2,u+a,l/2);const p=c.length+1;let m=1;for(let y=0;y<c.length;y++){let g;typeof f[y]=="number"?g=f[y]:g=m/p,s.addColorStop(g,c[y]),m++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Fve,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Gu(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Gu(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof ru?this._style=e:this._style=new ru(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};uq.defaultAutoResolution=!0;let _M=uq;class dw{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Hb{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const l in a){const c=a[l].split("="),f=c[0],p=c[1].replace(/"/gm,""),m=parseFloat(p),y=isNaN(m)?p:m;u[f]=y}n[o].push(u)}const i=new dw;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class pO{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new dw,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let l=0;l<n.length;l++)r.info.push({face:n[l].getAttribute("face"),size:parseInt(n[l].getAttribute("size"),10)});for(let l=0;l<i.length;l++)r.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(let l=0;l<s.length;l++)r.page.push({id:parseInt(s[l].getAttribute("id"),10)||0,file:s[l].getAttribute("file")});for(let l=0;l<o.length;l++){const c=o[l];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let l=0;l<a.length;l++)r.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(let l=0;l<u.length;l++)r.distanceField.push({fieldType:u[l].getAttribute("fieldType"),distanceRange:parseInt(u[l].getAttribute("distanceRange"),10)});return r}}class mO{static test(e){return typeof e=="string"&&e.includes("<font>")?pO.test(Ce.ADAPTER.parseXML(e)):!1}static parse(e){return pO.parse(Ce.ADAPTER.parseXML(e))}}const cC=[Hb,pO,mO];function jve(t){for(let e=0;e<cC.length;e++)if(cC[e].test(t))return cC[e];return null}function zve(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,c=t.width/n-u-l*2,f=t.height/n-u-l*2,p=o.slice(),m=r.fillGradientStops.slice();if(!m.length){const y=p.length+1;for(let g=1;g<y;++g)m.push(g/y)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),r.fillGradientType===dx.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,l,c/2,f+l);let y=0;const g=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let w=0;w<i.length;w++){const b=s.lineHeight*w;for(let _=0;_<p.length;_++){let E=0;typeof m[_]=="number"?E=m[_]:E=_/p.length;const x=b/f+E*g;let N=Math.max(y,x);N=Math.min(N,1),a.addColorStop(N,p[_]),y=N}}}else{a=e.createLinearGradient(l,f/2,c+l,f/2);const y=p.length+1;let g=1;for(let w=0;w<p.length;w++){let b;typeof m[w]=="number"?b=m[w]:b=g/y,a.addColorStop(b,p[w]),g++}}return a}function Hve(t,e,r,n,i,s,o){const a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(s,s);const l=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=zve(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=o.dropShadowBlur*s,m=o.dropShadowDistance*s;e.shadowColor=Mt.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,l,c+r.lineHeight-u.descent),o.fill&&e.fillText(a,l,c+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Vb(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function lq(t){return Array.from?Array.from(t):t.split("")}function Vve(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...lq(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Au=class Fo{constructor(e,r,n){var c;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,u=tu(o.file),l={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/u,this.chars={},this.pageTextures=l;for(let f=0;f<e.page.length;f++){const{id:p,file:m}=e.page[f];l[p]=r instanceof Array?r[f]:r[m],a!=null&&a.fieldType&&a.fieldType!=="none"&&(l[p].baseTexture.alphaMode=li.NO_PREMULTIPLIED_ALPHA,l[p].baseTexture.mipmap=ca.OFF)}for(let f=0;f<e.char.length;f++){const{id:p,page:m}=e.char[f];let{x:y,y:g,width:w,height:b,xoffset:_,yoffset:E,xadvance:x}=e.char[f];y/=u,g/=u,w/=u,b/=u,_/=u,E/=u,x/=u;const N=new et(y+l[m].frame.x/u,g+l[m].frame.y/u,w,b);this.chars[p]={xOffset:_,yOffset:E,xAdvance:x,kerning:{},texture:new be(l[m].baseTexture,N),page:m}}for(let f=0;f<e.kerning.length;f++){let{first:p,second:m,amount:y}=e.kerning[f];p/=u,m/=u,y/=u,this.chars[m]&&(this.chars[m].kerning[p]=y)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((c=a==null?void 0:a.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof dw)i=e;else{const o=jve(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof be&&(r=[r]);const s=new Fo(i,r,n);return Fo.available[s.font]=s,s}static uninstall(e){const r=Fo.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Fo.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:u,...l}=Object.assign({},Fo.defaultOptions,n),c=Vve(i),f=r instanceof ru?r:new ru(r),p=a,m=new dw;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let y=0,g=0,w,b,_,E=0;const x=[];for(let M=0;M<c.length;M++){w||(w=Ce.ADAPTER.createCanvas(),w.width=a,w.height=u,b=w.getContext("2d"),_=new Je(w,{resolution:o,...l}),x.push(new be(_)),m.page.push({id:x.length-1,file:""}));const R=c[M],D=ku.measureText(R,f,!1,w),W=D.width,G=Math.ceil(D.height),F=Math.ceil((f.fontStyle==="italic"?2:1)*W);if(g>=u-G*o){if(g===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--M,w=null,b=null,_=null,g=0,y=0,E=0;continue}if(E=Math.max(G+D.fontProperties.descent,E),F*o+y>=p){if(y===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--M,g+=E*o,g=Math.ceil(g),y=0,E=0;continue}Hve(w,b,D,y,g,o,f);const X=Vb(D.text);m.char.push({id:X,page:x.length-1,x:y/o,y:g/o,width:F,height:G,xoffset:0,yoffset:0,xadvance:W-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),y+=(F+2*s)*o,y=Math.ceil(y)}if(!(n!=null&&n.skipKerning))for(let M=0,R=c.length;M<R;M++){const D=c[M];for(let W=0;W<R;W++){const G=c[W],F=b.measureText(D).width,X=b.measureText(G).width,B=b.measureText(D+G).width-(F+X);B&&m.kerning.push({first:Vb(D),second:Vb(G),amount:B})}}const N=new Fo(m,x,!0);return Fo.available[e]!==void 0&&Fo.uninstall(e),Fo.available[e]=N,N}};Au.ALPHA=[["a","z"],["A","Z"]," "],Au.NUMERIC=[["0","9"]],Au.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Au.ASCII=[[" ","~"]],Au.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Au.ALPHANUMERIC},Au.available={};let Tu=Au;class Gve{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const hC=new ut,NU=new qc,cq=class hq extends qn{constructor(e,r,n,i=Vs.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||ya.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Ce.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Vs.TRIANGLES&&r.length<hq.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,u=i.d,l=i.tx,c=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=r[p*2],y=r[p*2+1];f[p*2]=s*m+a*y+l,f[p*2+1]=o*m+u*y+c}if(this._roundPixels){const p=Ce.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Gve(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,hC);const r=this.geometry.getBuffer("aVertexPosition").data,n=NU.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const u=i[a]*2,l=i[a+1]*2,c=i[a+2]*2;if(n[0]=r[u],n[1]=r[u+1],n[2]=r[l],n[3]=r[l+1],n[4]=r[c],n[5]=r[c+1],NU.contains(hC.x,hC.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};cq.BATCHABLE_SIZE=100;let Dg=cq;class fx extends Sl{constructor(e,r,n){super();const i=new pr(e),s=new pr(r,!0),o=new pr(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ze.FLOAT).addAttribute("aTextureCoord",s,2,!1,ze.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Wve=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,qve=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Bg extends sa{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Gt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Ha.from(qve,Wve),n),this._colorDirty=!1,this.uvMatrix=new gM(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Mt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Mt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var Zve=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Xve=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const MU=[],DU=[],BU=[],dq=class fq extends qn{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:u}=Object.assign({},fq.styleDefaults,r);if(!Tu.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Mt(i),this._font=void 0,this._fontName=a,this._fontSize=u,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Qo(()=>{this.dirty=!0},this,0,0),this._roundPixels=Ce.ROUND_PIXELS,this.dirty=!0,this._resolution=Ce.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var F;const e=Tu.available[this._fontName],r=this.fontSize,n=r/e.size,i=new ut,s=[],o=[],a=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=lq(u),c=this._maxWidth*e.size/r,f=e.distanceFieldType==="none"?MU:DU;let p=null,m=0,y=0,g=0,w=-1,b=0,_=0,E=0,x=0;for(let X=0;X<l.length;X++){const B=l[X],j=Vb(B);if(/(?:\s)/.test(B)&&(w=X,b=m,x++),B==="\r"||B===`
`){o.push(m),a.push(-1),y=Math.max(y,m),++g,++_,i.x=0,i.y+=e.lineHeight,p=null,x=0;continue}const C=e.chars[j];if(!C)continue;p&&C.kerning[p]&&(i.x+=C.kerning[p]);const k=BU.pop()||{texture:be.EMPTY,line:0,charCode:0,prevSpaces:0,position:new ut};k.texture=C.texture,k.line=g,k.charCode=j,k.position.x=Math.round(i.x+C.xOffset+this._letterSpacing/2),k.position.y=Math.round(i.y+C.yOffset),k.prevSpaces=x,s.push(k),m=k.position.x+Math.max(C.xAdvance-C.xOffset,C.texture.orig.width),i.x+=C.xAdvance+this._letterSpacing,E=Math.max(E,C.yOffset+C.texture.height),p=j,w!==-1&&c>0&&i.x>c&&(++_,Tf(s,1+w-_,1+X-w),X=w,w=-1,o.push(b),a.push(s.length>0?s[s.length-1].prevSpaces:0),y=Math.max(y,b),g++,i.x=0,i.y+=e.lineHeight,p=null,x=0)}const N=l[l.length-1];N!=="\r"&&N!==`
`&&(/(?:\s)/.test(N)&&(m=b),o.push(m),y=Math.max(y,m),a.push(-1));const M=[];for(let X=0;X<=g;X++){let B=0;this._align==="right"?B=y-o[X]:this._align==="center"?B=(y-o[X])/2:this._align==="justify"&&(B=a[X]<0?0:(y-o[X])/a[X]),M.push(B)}const R=s.length,D={},W=[],G=this._activePagesMeshData;f.push(...G);for(let X=0;X<R;X++){const B=s[X].texture,j=B.baseTexture.uid;if(!D[j]){let C=f.pop();if(!C){const O=new fx;let P,U;e.distanceFieldType==="none"?(P=new Bg(be.EMPTY),U=Ge.NORMAL):(P=new Bg(be.EMPTY,{program:Ha.from(Xve,Zve),uniforms:{uFWidth:0}}),U=Ge.NORMAL_NPM);const $=new Dg(O,P);$.blendMode=U,C={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:$,vertices:null,uvs:null,indices:null}}C.index=0,C.indexCount=0,C.vertexCount=0,C.uvsCount=0,C.total=0;const{_textureCache:k}=this;k[j]=k[j]||new be(B.baseTexture),C.mesh.texture=k[j],C.mesh.tint=this._tintColor.value,W.push(C),D[j]=C}D[j].total++}for(let X=0;X<G.length;X++)W.includes(G[X])||this.removeChild(G[X].mesh);for(let X=0;X<W.length;X++)W[X].mesh.parent!==this&&this.addChild(W[X].mesh);this._activePagesMeshData=W;for(const X in D){const B=D[X],j=B.total;if(!(((F=B.indices)==null?void 0:F.length)>6*j)||B.vertices.length<Dg.BATCHABLE_SIZE*2)B.vertices=new Float32Array(4*2*j),B.uvs=new Float32Array(4*2*j),B.indices=new Uint16Array(6*j);else{const C=B.total,k=B.vertices;for(let O=C*4*2;O<k.length;O++)k[O]=0}B.mesh.size=6*j}for(let X=0;X<R;X++){const B=s[X];let j=B.position.x+M[B.line]*(this._align==="justify"?B.prevSpaces:1);this._roundPixels&&(j=Math.round(j));const C=j*n,k=B.position.y*n,O=B.texture,P=D[O.baseTexture.uid],U=O.frame,$=O._uvs,z=P.index++;P.indices[z*6+0]=0+z*4,P.indices[z*6+1]=1+z*4,P.indices[z*6+2]=2+z*4,P.indices[z*6+3]=0+z*4,P.indices[z*6+4]=2+z*4,P.indices[z*6+5]=3+z*4,P.vertices[z*8+0]=C,P.vertices[z*8+1]=k,P.vertices[z*8+2]=C+U.width*n,P.vertices[z*8+3]=k,P.vertices[z*8+4]=C+U.width*n,P.vertices[z*8+5]=k+U.height*n,P.vertices[z*8+6]=C,P.vertices[z*8+7]=k+U.height*n,P.uvs[z*8+0]=$.x0,P.uvs[z*8+1]=$.y0,P.uvs[z*8+2]=$.x1,P.uvs[z*8+3]=$.y1,P.uvs[z*8+4]=$.x2,P.uvs[z*8+5]=$.y2,P.uvs[z*8+6]=$.x3,P.uvs[z*8+7]=$.y3}this._textWidth=y*n,this._textHeight=(i.y+e.lineHeight)*n;for(const X in D){const B=D[X];if(this.anchor.x!==0||this.anchor.y!==0){let O=0;const P=this._textWidth*this.anchor.x,U=this._textHeight*this.anchor.y;for(let $=0;$<B.total;$++)B.vertices[O++]-=P,B.vertices[O++]-=U,B.vertices[O++]-=P,B.vertices[O++]-=U,B.vertices[O++]-=P,B.vertices[O++]-=U,B.vertices[O++]-=P,B.vertices[O++]-=U}this._maxLineHeight=E*n;const j=B.mesh.geometry.getBuffer("aVertexPosition"),C=B.mesh.geometry.getBuffer("aTextureCoord"),k=B.mesh.geometry.getIndex();j.data=B.vertices,C.data=B.uvs,k.data=B.indices,j.update(),C.update(),k.update()}for(let X=0;X<s.length;X++)BU.push(s[X]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Tu.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:u}=this.worldTransform,l=Math.sqrt(s*s+o*o),c=Math.sqrt(a*a+u*u),f=(Math.abs(l)+Math.abs(c))/2,p=this.fontSize/i,m=e._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=f*r*p*m}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Tu.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Tu.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Tu.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Tu.available[this._fontName].distanceFieldType==="none"?MU:DU;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=be.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};dq.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let Yve=dq;const LU={loader:xe.LoadParser,resolver:xe.ResolveParser,cache:xe.CacheParser,detection:xe.DetectionParser};Le.handle(xe.Asset,t=>{const e=t.ref;Object.entries(LU).filter(([r])=>!!e[r]).forEach(([r,n])=>Le.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(LU).filter(r=>!!e[r]).forEach(r=>Le.remove(e[r]))});class Qve{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function qp(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Hl(t,e){const r=t.split("?")[0],n=Pr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Hs=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),yO=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function pq(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?pq(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function Kve(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),pq(t,i,0,r,n)}else n.push(t);return n}const fw=t=>!Array.isArray(t);class Jve{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Hs(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof be){const a=r;n.forEach(u=>{a.baseTexture!==be.EMPTY.baseTexture&&Je.addToCache(a.baseTexture,u),be.addToCache(a,u)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Sc=new Jve;class e_e{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];if(l.load&&((o=l.test)!=null&&o.call(l,e,r,this))){s=l;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const l=this.parsers[u];l.parse&&l.parse&&await((a=l.testParse)==null?void 0:a.call(l,i,r,this))&&(i=await l.parse(i,r,this)||i,n.parser=l)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=fw(e),o=Hs(e,l=>({alias:[l],src:l})),a=o.length,u=o.map(async l=>{const c=Pr.toAbsolute(l.src);if(!i[l.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,l)),i[l.src]=await this.promiseCache[c].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[c],delete i[l.src],new Error(`[Loader.load] Failed to load ${c}.
${f}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const r=Hs(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Pr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const u=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,u,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var vo=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(vo||{});const t_e=".json",r_e="application/json",n_e={extension:{type:xe.LoadParser,priority:vo.Low},name:"loadJson",test(t){return qp(t,r_e)||Hl(t,t_e)},async load(t){return await(await Ce.ADAPTER.fetch(t)).json()}};Le.add(n_e);const i_e=".txt",s_e="text/plain",o_e={name:"loadTxt",extension:{type:xe.LoadParser,priority:vo.Low},test(t){return qp(t,s_e)||Hl(t,i_e)},async load(t){return await(await Ce.ADAPTER.fetch(t)).text()}};Le.add(o_e);const a_e=["normal","bold","100","200","300","400","500","600","700","800","900"],u_e=[".ttf",".otf",".woff",".woff2"],l_e=["font/ttf","font/otf","font/woff","font/woff2"],c_e=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function h_e(t){const e=Pr.extname(t),r=Pr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(c_e)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const d_e=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function f_e(t){return d_e.test(t)?t:encodeURI(t)}const p_e={extension:{type:xe.LoadParser,priority:vo.Low},name:"loadWebFont",test(t){return qp(t,l_e)||Hl(t,u_e)},async load(t,e){var n,i,s;const r=Ce.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??h_e(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>a_e.includes(c)))??["normal"],l=e.data??{};for(let c=0;c<u.length;c++){const f=u[c],p=new FontFace(a,`url(${f_e(t)})`,{...l,weight:f});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>Ce.ADAPTER.getFontFaceSet().delete(e))}};Le.add(p_e);let $U=0,dC;const m_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",y_e={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${m_e}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},g_e={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let fC;class v_e{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([y_e.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){dC===void 0&&(dC=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<dC&&(fC||(fC=URL.createObjectURL(new Blob([g_e.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(fC),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[$U]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:$U++,id:n})}}const UU=new v_e;function Fv(t,e,r){t.resource.internal=!0;const n=new be(t),i=()=>{delete e.promiseCache[r],Sc.has(r)&&Sc.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const __e=[".jpeg",".jpg",".png",".webp",".avif"],b_e=["image/jpeg","image/png","image/webp","image/avif"];async function w_e(t){const e=await Ce.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const px={name:"loadTextures",extension:{type:xe.LoadParser,priority:vo.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return qp(t,b_e)||Hl(t,__e)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await UU.isImageBitmapSupported()?i=await UU.loadImageBitmap(t):i=await w_e(t):i=await new Promise((u,l)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=t,c.complete?u(c):(c.onload=()=>u(c),c.onerror=f=>l(f))});const s={...e.data};s.resolution??(s.resolution=tu(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new Je(i,s);return o.resource.src=t,Fv(o,r,t)},unload(t){t.destroy(!0)}};Le.add(px);const E_e=".svg",x_e="image/svg+xml",S_e={extension:{type:xe.LoadParser,priority:vo.High},name:"loadSVG",test(t){return qp(t,x_e)||Hl(t,E_e)},async testParse(t){return lO.test(t)},async parse(t,e,r){var s;const n=new lO(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Je(n,{resolution:tu(t),...e==null?void 0:e.data});return i.resource.src=e.src,Fv(i,r,e.src)},async load(t,e){return(await Ce.ADAPTER.fetch(t)).text()},unload:px.unload};Le.add(S_e);const A_e=[".mp4",".m4v",".webm",".ogv"],T_e=["video/mp4","video/webm","video/ogg"],C_e={name:"loadVideo",extension:{type:xe.LoadParser,priority:vo.High},config:{defaultAutoPlay:!0},test(t){return qp(t,T_e)||Hl(t,A_e)},async load(t,e,r){var o;let n;const i=await(await Ce.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},u=new sq(s,a);await u.load();const l=new Je(u,{alphaMode:await Kye(),resolution:tu(t),...e==null?void 0:e.data});l.resource.src=t,n=Fv(l,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};Le.add(C_e);class I_e{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Hs(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const u=this._createBundleAssetId(e,o);n.push(u),a=[o,u]}else{const u=o.map(l=>this._createBundleAssetId(e,l));n.push(...u),a=[...o,...u]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(st("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=u=>{this.hasKey(u)&&console.warn(`[Resolver] already has key: ${u} overwriting`)},Hs(o).forEach(u=>{const{src:l,srcs:c}=u;let{data:f,format:p,loadParser:m}=u;const y=Hs(l||c).map(b=>typeof b=="string"?Kve(b):Array.isArray(b)?b:[b]),g=this.getAlias(u);Array.isArray(g)?g.forEach(a):a(g);const w=[];y.forEach(b=>{b.forEach(_=>{let E={};if(typeof _!="object"){E.src=_;for(let x=0;x<this._parsers.length;x++){const N=this._parsers[x];if(N.test(_)){E=N.parse(_);break}}}else f=_.data??f,p=_.format??p,m=_.loadParser??m,E={...E,..._};if(!g)throw new Error(`[Resolver] alias is undefined for this asset: ${E.src}`);E=this.buildResolvedAsset(E,{aliases:g,data:f,format:p,loadParser:m}),w.push(E)})}),g.forEach(b=>{this._assetMap[b]=w})})}resolveBundle(e){const r=fw(e);e=Hs(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const l=o[u];a[this._extractAssetIdFromBundle(i,u)]=l}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=fw(e);e=Hs(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(u=>{a.params[u].forEach(l=>{const c=s.filter(f=>f[u]?f[u]===l:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Pr.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Pr.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class O_e{constructor(){this._detections=[],this._initialized=!1,this.resolver=new I_e,this.loader=new e_e,this.cache=Sc,this._backgroundLoader=new Qve(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=fw(e),i=Hs(e).map(a=>{if(typeof a!="string"){const u=this.resolver.getAlias(a);return u.some(l=>!this.resolver.hasKey(l))&&this.add(a),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const l=()=>{r==null||r(++a/u)},c=o.map(f=>{const p=i[f];return u+=Object.keys(p).length,this._mapLoadToResolve(p,l).then(m=>{s[f]=m})});return await Promise.all(c),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Sc.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Sc.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const l=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[u]]=l,Sc.set(c,l)}),o}async unload(e){this._initialized||await this.init();const r=Hs(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Hs(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Sc.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return px.config.preferWorkers}set preferWorkers(e){st("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const oy=new O_e;Le.handleByList(xe.LoadParser,oy.loader.parsers).handleByList(xe.ResolveParser,oy.resolver.parsers).handleByList(xe.CacheParser,oy.cache.parsers).handleByList(xe.DetectionParser,oy.detections);const R_e={extension:xe.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof be),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Le.add(R_e);async function mq(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const P_e={extension:{type:xe.DetectionParser,priority:1},test:async()=>mq("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Le.add(P_e);const k_e={extension:{type:xe.DetectionParser,priority:0},test:async()=>mq("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Le.add(k_e);const FU=["png","jpg","jpeg"],N_e={extension:{type:xe.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...FU],remove:async t=>t.filter(e=>!FU.includes(e))};Le.add(N_e);const M_e="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function bM(t){return M_e?!1:document.createElement("video").canPlayType(t)!==""}const D_e={extension:{type:xe.DetectionParser,priority:0},test:async()=>bM("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Le.add(D_e);const B_e={extension:{type:xe.DetectionParser,priority:0},test:async()=>bM("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Le.add(B_e);const L_e={extension:{type:xe.DetectionParser,priority:0},test:async()=>bM("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Le.add(L_e);const $_e={extension:xe.ResolveParser,test:px.test,parse:t=>{var e;return{resolution:parseFloat(((e=Ce.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Pr.extname(t).slice(1),src:t}}};Le.add($_e);const U_e=[".xml",".fnt"],F_e={extension:{type:xe.LoadParser,priority:vo.Normal},name:"loadBitmapFont",test(t){return U_e.includes(Pr.extname(t).toLowerCase())},async testParse(t){return Hb.test(t)||mO.test(t)},async parse(t,e,r){const n=Hb.test(t)?Hb.parse(t):mO.parse(t),{src:i}=e,{page:s}=n,o=[];for(let l=0;l<s.length;++l){const c=s[l].file;let f=Pr.join(Pr.dirname(i),c);f=yO(f,i),o.push(f)}const a=await r.load(o),u=o.map(l=>a[l]);return Tu.install(n,u,!0)},async load(t,e){return(await Ce.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Le.add(F_e);const pw={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===tn.CIRC){const y=t.shape;r=y.x,n=y.y,o=a=y.radius,i=s=0}else if(t.type===tn.ELIP){const y=t.shape;r=y.x,n=y.y,o=y.width,a=y.height,i=s=0}else{const y=t.shape,g=y.width/2,w=y.height/2;r=y.x+g,n=y.y+w,o=a=Math.max(0,Math.min(y.radius,Math.min(g,w))),i=g-o,s=w-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),l=u*8+(i?4:0)+(s?4:0);if(e.length=l,l===0)return;if(u===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let c=0,f=u*4+(i?2:0)+2,p=f,m=l;{const y=i+o,g=s,w=r+y,b=r-y,_=n+g;if(e[c++]=w,e[c++]=_,e[--f]=_,e[--f]=b,s){const E=n-g;e[p++]=b,e[p++]=E,e[--m]=E,e[--m]=w}}for(let y=1;y<u;y++){const g=Math.PI/2*(y/u),w=i+Math.cos(g)*o,b=s+Math.sin(g)*a,_=r+w,E=r-w,x=n+b,N=n-b;e[c++]=_,e[c++]=x,e[--f]=x,e[--f]=E,e[p++]=E,e[p++]=N,e[--m]=N,e[--m]=_}{const y=i,g=s+a,w=r+y,b=r-y,_=n+g,E=n-g;e[c++]=w,e[c++]=_,e[--m]=E,e[--m]=w,i&&(e[c++]=b,e[c++]=_,e[--m]=E,e[--m]=b)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,u;if(t.type!==tn.RREC){const c=t.shape;a=c.x,u=c.y}else{const c=t.shape;a=c.x+c.width/2,u=c.y+c.height/2}const l=t.matrix;n.push(t.matrix?l.a*a+l.c*u+l.tx:a,t.matrix?l.b*a+l.d*u+l.ty:u),s++,n.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function jU(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],u=t[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,u=s,l=s+1;[t[o],t[u]]=[t[u],t[o]],[t[a],t[l]]=[t[l],t[a]]}}}const yq={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){jU(r,!1);const o=[];for(let l=0;l<n.length;l++){const c=n[l];jU(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}const a=Ope(r,o,2);if(!a)return;const u=i.length/2;for(let l=0;l<a.length;l+=3)s.push(a[l]+u),s.push(a[l+1]+u),s.push(a[l+2]+u);for(let l=0;l<r.length;l++)i.push(r[l])}}},j_e={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},z_e={build(t){pw.build(t)},triangulate(t,e){pw.triangulate(t,e)}};var Yi=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Yi||{}),Wu=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Wu||{});const up={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class zU{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,l=a-e,c=i-r,f=n-e,p=Math.abs(u*f-l*c);if(p<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const m=u*u+l*l,y=c*c+f*f,g=u*c+l*f,w=s*Math.sqrt(m)/p,b=s*Math.sqrt(y)/p,_=w*g/m,E=b*g/y,x=w*f+b*l,N=w*c+b*u,M=l*(b+_),R=u*(b+_),D=f*(w+E),W=c*(w+E),G=Math.atan2(R-N,M-x),F=Math.atan2(W-N,D-x);return{cx:x+e,cy:N+r,radius:s,startAngle:G,endAngle:F,anticlockwise:l*c>f*u}}static arc(e,r,n,i,s,o,a,u,l){const c=a-o,f=up._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/ow)*40),p=c/(f*2),m=p*2,y=Math.cos(p),g=Math.sin(p),w=f-1,b=w%1/w;for(let _=0;_<=w;++_){const E=_+b*_,x=p+o+m*E,N=Math.cos(x),M=-Math.sin(x);l.push((y*N+g*M)*s+n,(y*-M+g*N)*s+i)}}}class H_e{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class wM{static curveLength(e,r,n,i,s,o,a,u){let l=0,c=0,f=0,p=0,m=0,y=0,g=0,w=0,b=0,_=0,E=0,x=e,N=r;for(let M=1;M<=10;++M)c=M/10,f=c*c,p=f*c,m=1-c,y=m*m,g=y*m,w=g*e+3*y*c*n+3*m*f*s+p*a,b=g*r+3*y*c*i+3*m*f*o+p*u,_=x-w,E=N-b,x=w,N=b,l+=Math.sqrt(_*_+E*E);return l}static curveTo(e,r,n,i,s,o,a){const u=a[a.length-2],l=a[a.length-1];a.length-=2;const c=up._segmentsCount(wM.curveLength(u,l,e,r,n,i,s,o));let f=0,p=0,m=0,y=0,g=0;a.push(u,l);for(let w=1,b=0;w<=c;++w)b=w/c,f=1-b,p=f*f,m=p*f,y=b*b,g=y*b,a.push(m*u+3*p*b*e+3*f*y*n+g*s,m*l+3*p*b*r+3*f*y*i+g*o)}}function HU(t,e,r,n,i,s,o,a){const u=t-r*i,l=e-n*i,c=t+r*s,f=e+n*s;let p,m;o?(p=n,m=-r):(p=-n,m=r);const y=u+p,g=l+m,w=c+p,b=f+m;return a.push(y,g,w,b),2}function ac(t,e,r,n,i,s,o,a){const u=r-t,l=n-e;let c=Math.atan2(u,l),f=Math.atan2(i-t,s-e);a&&c<f?c+=Math.PI*2:!a&&c>f&&(f+=Math.PI*2);let p=c;const m=f-c,y=Math.abs(m),g=Math.sqrt(u*u+l*l),w=(15*y*Math.sqrt(g)/Math.PI>>0)+1,b=m/w;if(p+=b,a){o.push(t,e,r,n);for(let _=1,E=p;_<w;_++,E+=b)o.push(t,e,t+Math.sin(E)*g,e+Math.cos(E)*g);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let _=1,E=p;_<w;_++,E+=b)o.push(t+Math.sin(E)*g,e+Math.cos(E)*g,t,e);o.push(i,s,t,e)}return w*2}function V_e(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new ut(n[0],n[1]),a=new ut(n[n.length-2],n[n.length-1]),u=r.type!==tn.POLY||r.closeStroke,l=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const O=(o.x+a.x)*.5,P=(a.y+o.y)*.5;n.unshift(O,P),n.push(O,P)}const c=e.points,f=n.length/2;let p=n.length;const m=c.length/2,y=s.width/2,g=y*y,w=s.miterLimit*s.miterLimit;let b=n[0],_=n[1],E=n[2],x=n[3],N=0,M=0,R=-(_-x),D=b-E,W=0,G=0,F=Math.sqrt(R*R+D*D);R/=F,D/=F,R*=y,D*=y;const X=s.alignment,B=(1-X)*2,j=X*2;u||(s.cap===Wu.ROUND?p+=ac(b-R*(B-j)*.5,_-D*(B-j)*.5,b-R*B,_-D*B,b+R*j,_+D*j,c,!0)+2:s.cap===Wu.SQUARE&&(p+=HU(b,_,R,D,B,j,!0,c))),c.push(b-R*B,_-D*B,b+R*j,_+D*j);for(let O=1;O<f-1;++O){b=n[(O-1)*2],_=n[(O-1)*2+1],E=n[O*2],x=n[O*2+1],N=n[(O+1)*2],M=n[(O+1)*2+1],R=-(_-x),D=b-E,F=Math.sqrt(R*R+D*D),R/=F,D/=F,R*=y,D*=y,W=-(x-M),G=E-N,F=Math.sqrt(W*W+G*G),W/=F,G/=F,W*=y,G*=y;const P=E-b,U=_-x,$=E-N,z=M-x,q=P*$+U*z,ne=U*$-z*P,re=ne<0;if(Math.abs(ne)<.001*Math.abs(q)){c.push(E-R*B,x-D*B,E+R*j,x+D*j),q>=0&&(s.join===Yi.ROUND?p+=ac(E,x,E-R*B,x-D*B,E-W*B,x-G*B,c,!1)+4:p+=2,c.push(E-W*j,x-G*j,E+W*B,x+G*B));continue}const ae=(-R+b)*(-D+x)-(-R+E)*(-D+_),oe=(-W+N)*(-G+x)-(-W+E)*(-G+M),ve=(P*oe-$*ae)/ne,Ne=(z*ae-U*oe)/ne,_e=(ve-E)*(ve-E)+(Ne-x)*(Ne-x),Me=E+(ve-E)*B,Ie=x+(Ne-x)*B,De=E-(ve-E)*j,te=x-(Ne-x)*j,de=Math.min(P*P+U*U,$*$+z*z),ke=re?B:j,We=de+ke*ke*g,Qe=_e<=We;let ht=s.join;if(ht===Yi.MITER&&_e/g>w&&(ht=Yi.BEVEL),Qe)switch(ht){case Yi.MITER:{c.push(Me,Ie,De,te);break}case Yi.BEVEL:{re?c.push(Me,Ie,E+R*j,x+D*j,Me,Ie,E+W*j,x+G*j):c.push(E-R*B,x-D*B,De,te,E-W*B,x-G*B,De,te),p+=2;break}case Yi.ROUND:{re?(c.push(Me,Ie,E+R*j,x+D*j),p+=ac(E,x,E+R*j,x+D*j,E+W*j,x+G*j,c,!0)+4,c.push(Me,Ie,E+W*j,x+G*j)):(c.push(E-R*B,x-D*B,De,te),p+=ac(E,x,E-R*B,x-D*B,E-W*B,x-G*B,c,!1)+4,c.push(E-W*B,x-G*B,De,te));break}}else{switch(c.push(E-R*B,x-D*B,E+R*j,x+D*j),ht){case Yi.MITER:{re?c.push(De,te,De,te):c.push(Me,Ie,Me,Ie),p+=2;break}case Yi.ROUND:{re?p+=ac(E,x,E+R*j,x+D*j,E+W*j,x+G*j,c,!0)+2:p+=ac(E,x,E-R*B,x-D*B,E-W*B,x-G*B,c,!1)+2;break}}c.push(E-W*B,x-G*B,E+W*j,x+G*j),p+=2}}b=n[(f-2)*2],_=n[(f-2)*2+1],E=n[(f-1)*2],x=n[(f-1)*2+1],R=-(_-x),D=b-E,F=Math.sqrt(R*R+D*D),R/=F,D/=F,R*=y,D*=y,c.push(E-R*B,x-D*B,E+R*j,x+D*j),u||(s.cap===Wu.ROUND?p+=ac(E-R*(B-j)*.5,x-D*(B-j)*.5,E-R*B,x-D*B,E+R*j,x+D*j,c,!1)+2:s.cap===Wu.SQUARE&&(p+=HU(E,x,R,D,B,j,!1,c)));const C=e.indices,k=up.epsilon*up.epsilon;for(let O=m;O<p+m-2;++O)b=c[O*2],_=c[O*2+1],E=c[(O+1)*2],x=c[(O+1)*2+1],N=c[(O+2)*2],M=c[(O+2)*2+1],!(Math.abs(b*(x-M)+E*(M-_)+N*(_-x))<k)&&C.push(O,O+1,O+2)}function G_e(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==tn.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,u=i.length/2,l=o.length/2;let c=l;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(c,c+1),c++;s&&a.push(c,l)}function VU(t,e){t.lineStyle.native?G_e(t,e):V_e(t,e)}class EM{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,u=r-2*i+o,l=2*n-2*e,c=2*i-2*r,f=4*(a*a+u*u),p=4*(a*l+u*c),m=l*l+c*c,y=2*Math.sqrt(f+p+m),g=Math.sqrt(f),w=2*f*g,b=2*Math.sqrt(m),_=p/g;return(w*y+g*p*(y-b)+(4*m*f-p*p)*Math.log((2*g+_+y)/(_+b)))/(4*w)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=up._segmentsCount(EM.curveLength(o,a,e,r,n,i));let l=0,c=0;for(let f=1;f<=u;++f){const p=f/u;l=o+(e-o)*p,c=a+(r-a)*p,s.push(l+(e+(n-e)*p-l)*p,c+(r+(i-r)*p-c)*p)}}}const pC={[tn.POLY]:yq,[tn.CIRC]:pw,[tn.ELIP]:pw,[tn.RECT]:j_e,[tn.RREC]:z_e},GU=[],q0=[];class mw{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new mw(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const wd=new ut,gq=class vq extends xW{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new hw,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),q0.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),GU.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new mw(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new mw(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,wd):wd.copyFrom(e),i.shape.contains(wd.x,wd.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(wd.x,wd.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let u=this.shapeIndex;u<r.length;u++){this.shapeIndex++;const l=r[u],c=l.fillStyle,f=l.lineStyle;pC[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||f.visible)&&this.processHoles(l.holes);for(let p=0;p<2;p++){const m=p===0?c:f;if(!m.visible)continue;const y=m.texture.baseTexture,g=this.indices.length,w=this.points.length/2;y.wrapMode=Ga.REPEAT,p===0?this.processFill(l):this.processLine(l);const b=this.points.length/2-w;b!==0&&(n&&!this._compareStyles(i,m)&&(n.end(g,w),n=null),n||(n=GU.pop()||new H_e,n.begin(m,g,w),this.batches.push(n),i=m),this.addUvs(this.points,e,m.texture,w,b,m.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<vq.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Je._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),q0.push(this.drawCalls[f]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=q0.pop();i||(i=new J2,i.texArray=new nO),i.texArray.count=0,i.start=0,i.size=0,i.type=Vs.TRIANGLES;let s=0,o=null,a=0,u=!1,l=Vs.TRIANGLES,c=0;this.drawCalls.push(i);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,y=p.style,g=y.texture.baseTexture;u!==!!y.native&&(u=!!y.native,l=u?Vs.LINES:Vs.TRIANGLES,o=null,s=m,e++),o!==g&&(o=g,g._batchEnabled!==e&&(s===m&&(e++,s=0,i.size>0&&(i=q0.pop(),i||(i=new J2,i.texArray=new nO),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),g.touched=1,g._batchEnabled=e,g._batchLocation=s,g.wrapMode=Ga.REPEAT,i.texArray.elements[i.texArray.count++]=g,s++)),i.size+=p.size,c+=p.size,a=g._batchLocation,this.addColors(r,y.color,y.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,a,p.attribSize,p.attribStart)}Je._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let u=0;for(let l=0;l<e.length/2;l++)o[u++]=e[l*2],o[u++]=e[l*2+1],o[u++]=r[l*2],o[u++]=r[l*2+1],a[u++]=n[l],o[u++]=i[l];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?yq.triangulate(e,this):pC[e.type].triangulate(e,this)}processLine(e){VU(e,this);for(let r=0;r<e.holes.length;r++)VU(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];pC[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=Mt.shared.setValue(r).toLittleEndianNumber(),a=Mt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let u=0;u<i;u++)e[s+u]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const u=r.length,l=n.frame;for(;a<s;){let f=e[(i+a)*2],p=e[(i+a)*2+1];if(o){const m=o.a*f+o.c*p+o.tx;p=o.b*f+o.d*p+o.ty,f=m}a++,r.push(f/l.width,p/l.height)}const c=n.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(r,n,u,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,u=r.frame,l=u.width/s.width,c=u.height/s.height;let f=u.x/u.width,p=u.y/u.height,m=Math.floor(e[n]+o),y=Math.floor(e[n+1]+o);for(let g=n+2;g<a;g+=2)m=Math.min(m,Math.floor(e[g]+o)),y=Math.min(y,Math.floor(e[g+1]+o));f-=m,p-=y;for(let g=n;g<a;g+=2)e[g]=(e[g]+f)*l,e[g+1]=(e[g+1]+p)*c}};gq.BATCHABLE_SIZE=100;let W_e=gq;class mx{constructor(){this.color=16777215,this.alpha=1,this.texture=be.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new mx;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=be.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class xM extends mx{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Wu.BUTT,this.join=Yi.MITER,this.miterLimit=10}clone(){const e=new xM;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Wu.BUTT,this.join=Yi.MITER,this.miterLimit=10}}const mC={},gO=class Gb extends qn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new mx,this._lineStyle=new xM,this._matrix=null,this._holeMode=!1,this.state=ya.for2d(),this._geometry=e||new W_e,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Mt(16777215),this.blendMode=Ge.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Gb(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:be.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Wu.BUTT,join:Yi.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new qc,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new qc,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),EM.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),wM.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=zU.curveTo(e,r,n,i,s,o);if(a){const{cx:u,cy:l,radius:c,startAngle:f,endAngle:p,anticlockwise:m}=a;this.arc(u,l,c,f,p,m)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=ow:o&&i<=s&&(i+=ow),s-i===0)return this;const a=e+Math.cos(i)*n,u=r+Math.sin(i)*n,l=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const f=Math.abs(c[c.length-2]-a),p=Math.abs(c[c.length-1]-u);f<l&&p<l||c.push(a,u)}else this.moveTo(a,u),c=this.currentPath.points;return zU.arc(a,u,e,r,n,i,s,o,c),this}beginFill(e=0,r){return this.beginTextureFill({texture:be.WHITE,color:e,alpha:r})}normalizeColor(e){const r=Mt.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:be.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new et(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new lx(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new ax(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new ux(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new qc(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===tn.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),u=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),l=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),c={vertexData:a,blendMode:r,indices:l,uvs:u,_batchRGB:Mt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=c}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Mt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,u=o.length;a<u;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let u=0;u<a;u++)e.texture.bind(n.elements[u],u);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!mC[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=u;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Gt,default:Js.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;mC[n]=new sa(a,o)}r=mC[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Gb._TEMP_POINT),this._geometry.containsPoint(Gb._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Mt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,l=this._geometry.points,c=this.vertexData;let f=0;for(let p=0;p<l.length;p+=2){const m=l[p],y=l[p+1];c[f++]=n*m+s*y+a,c[f++]=o*y+i*m+u}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};gO.curves=up,gO._TEMP_POINT=new ut;let ky=gO;class q_e extends fx{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let c=0;c<e;c++){const f=c%this.segWidth,p=c/this.segWidth|0;r.push(f*a,p*u),n.push(f/s,p/o)}const l=s*o;for(let c=0;c<l;c++){const f=c%s,p=c/s|0,m=p*this.segWidth+f,y=p*this.segWidth+f+1,g=(p+1)*this.segWidth+f,w=(p+1)*this.segWidth+f+1;i.push(m,y,g,y,w,g)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class Z_e extends fx{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const l=this._width*this.textureScale,c=e.length;for(let p=0;p<c;p++){const m=p*4;if(this.textureScale>0){const y=u.x-e[p].x,g=u.y-e[p].y,w=Math.sqrt(y*y+g*g);u=e[p],a+=w/l}else a=p/(c-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<c-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const c=e[l],f=l*4;l<e.length-1?n=e[l+1]:n=c,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=u,s*=u),o[f]=c.x+i,o[f+1]=c.y+s,o[f+2]=c.x-i,o[f+3]=c.y-s,r=c}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class X_e extends Dg{constructor(e,r,n){const i=new q_e(e.width,e.height,r,n),s=new Bg(be.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Z0=10;class Y_e extends X_e{constructor(e,r,n,i,s){var o,a,u,l;super(be.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Z0,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Z0,this._topHeight=n??((u=e.defaultBorders)==null?void 0:u.top)??Z0,this._bottomHeight=s??((l=e.defaultBorders)==null?void 0:l.bottom)??Z0,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class Q_e extends Dg{constructor(e=be.EMPTY,r,n,i,s){const o=new fx(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Bg(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class K_e extends Dg{constructor(e,r,n=0){const i=new Z_e(e.height,r,n),s=new Bg(e);n>0&&(e.baseTexture.wrapMode=Ga.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class J_e extends qn{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ge.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Mt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class WU{constructor(e,r,n){this.geometry=new Sl,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ze.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new pr(dge(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new pr(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new pr(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ze.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ze.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ze.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ze.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var e0e=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,t0e=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class _q extends hx{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Gt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ze.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=sa.from(t0e,e0e,{}),this.state=ya.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const u=r[0]._texture.baseTexture,l=u.alphaMode>0;this.state.blendMode=bW(e.blendMode,l),s.state.set(this.state);const c=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=Mt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,l).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,y=0;m<o;m+=i,y+=1){let g=o-m;g>i&&(g=i),y>=a.length&&a.push(this._generateOneMoreBuffer(e));const w=a[y];w.uploadDynamic(r,m,g);const b=e._bufferUpdateIDs[y]||0;p=p||w._updateID<b,p&&(w._updateID=e._updateID,w.uploadStatic(r,m,g)),s.geometry.bind(w.geometry),c.drawElements(c.TRIANGLES,g*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new WU(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new WU(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,u=0,l=0,c=0;for(let f=0;f<n;++f){const p=e[r+f],m=p._texture,y=p.scale.x,g=p.scale.y,w=m.trim,b=m.orig;w?(u=w.x-p.anchor.x*b.width,a=u+w.width,c=w.y-p.anchor.y*b.height,l=c+w.height):(a=b.width*(1-p.anchor.x),u=b.width*-p.anchor.x,l=b.height*(1-p.anchor.y),c=b.height*-p.anchor.y),i[o]=u*y,i[o+1]=c*g,i[o+s]=a*y,i[o+s+1]=c*g,i[o+s*2]=a*y,i[o+s*2+1]=l*g,i[o+s*3]=u*y,i[o+s*3+1]=l*g,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a],l=Mt.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}_q.extension={name:"particle",type:xe.RendererPlugin};Le.add(_q);class Lg extends ga{constructor(e,r=!0){super(e[0]instanceof be?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(qr.shared.add(this.update,this,Tl.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(be.from(e[n]));return new Lg(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(be.from(e[n]));return new Lg(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof be)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(qr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Hm=new ut;class SM extends ga{constructor(e,r=100,n=100){super(e),this.tileTransform=new cx,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new gM(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new et),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Hm);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Hm.x>=i&&Hm.x<i+r){const s=-n*this.anchor._y;if(Hm.y>=s&&Hm.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof be?e:be.from(e,r);return new SM(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var r0e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,n0e=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,i0e=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,qU=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,s0e=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const X0=new Gt;class bq extends hx{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new NW,this.state=ya.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=sa.from(qU,s0e,r),this.shader=e.context.webGLVersion>1?sa.from(n0e,r0e,r):sa.from(qU,i0e,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,u=a.baseTexture,l=u.alphaMode>0,c=e.tileTransform.localTransform,f=e.uvMatrix;let p=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;p&&(u._glTextures[r.CONTEXT_UID]?p=u.wrapMode!==Ga.CLAMP:u.wrapMode===Ga.CLAMP&&(u.wrapMode=Ga.REPEAT));const m=p?this.simpleShader:this.shader,y=a.width,g=a.height,w=e._width,b=e._height;X0.set(c.a*y/w,c.b*y/b,c.c*g/w,c.d*g/b,c.tx/w,c.ty/b),X0.invert(),p?X0.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=X0.toArray(!0),m.uniforms.uColor=Mt.shared.setValue(e.tint).premultiply(e.worldAlpha,l).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,r.shader.bind(m),r.geometry.bind(n),this.state.blendMode=bW(e.blendMode,l),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}bq.extension={name:"tilingSprite",type:xe.RendererPlugin};Le.add(bq);const wq=class vO{constructor(e){this.stage=new qn,e=Object.assign({forceCanvas:!1},e),this.renderer=Tve(e),vO._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=vO._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};wq._plugins=[];let yx=wq;Le.handleByList(xe.Application,yx._plugins);class Eq{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Eq.extension=xe.Application;Le.add(Eq);function ki(t){return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(t)}function xq(t){var e=function(r,n){if(ki(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(ki(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return ki(e)==="symbol"?e:String(e)}function fr(t,e,r){return(e=xq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nu(t){return function(e){if(Array.isArray(e))return yC(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return yC(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yC(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lr(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var o0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a0e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u0e=function(t){return t==null};function ay(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=nu(t);else{if(t===null||ki(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!u0e(r)&&!isNaN(r)}).map(Number)}function ZU(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function gC(t){return t instanceof ut||t instanceof Qo}var yw=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function vC(t,e,r){if(gC(t[e])&&gC(r))t[e].copyFrom(r);else if(gC(t[e])){var n=ay(r);lr(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),ki(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Ed,Sq=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},Aq=function(t){return function(){return!t.apply(void 0,arguments)}},_O="children",l0e=(fr(Ed={},_O,!0),fr(Ed,"parent",!0),fr(Ed,"worldAlpha",!0),fr(Ed,"worldTransform",!0),fr(Ed,"worldVisible",!0),Ed),bO={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},ha=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,l;a==null||(u=a.__reactpixi)===null||u===void 0||(l=u.root)===null||l===void 0||l.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return lr(u.typeofs.some(function(l){return ki(r[a])===l})||u.instanceofs.some(function(l){return r[a]instanceof l}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return lr(r.texture instanceof be,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,be]});lr(!!s,"".concat(t," could not get texture from props"));var o=be.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},c0e=Aq(Sq([].concat(nu(Object.keys(l0e)),nu(yw))));function da(t,e,r){var n=!1;if(lr(Kt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",ki(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<yw.length;o++){var a=yw[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var u=Object.keys(r||{});if(r.overwriteProps){for(var l=0;l<u.length;l++){var c=u[l];e[c]!==r[c]&&(n=!0,vC(t,c,r[c]))}return n}for(var f=u.filter(c0e),p=0;p<f.length;p++){var m=f[p],y=r[m];r[m]!==e[m]&&(n=!0),y!==void 0?vC(t,m,y):m in bO?(console.warn("setting default value: ".concat(m,", from: ").concat(t[m]," to: ").concat(y," for"),t),n=!0,vC(t,m,bO[m])):console.warn("ignoring prop: ".concat(m,", from ").concat(t[m]," to ").concat(y," for"),t)}return n}var h0e=function(t,e){var r=e.text,n=e.style;return new Yve(r,n)},d0e=function(){return new qn};function Vl(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,l,c={},f=Object.keys(o);for(l=0;l<f.length;l++)u=f[l],a.indexOf(u)>=0||(c[u]=o[u]);return c}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var f0e=["draw","geometry"],p0e=function(t,e){var r=e.geometry;lr(!r||r instanceof ky,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new ky(r.geometry):new ky;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=da(i,s,Vl(o,f0e));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},m0e=["image","texture"],y0e=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,l=u===void 0?10:u,c=ha("NineSlicePlane",t,e),f=new Y_e(c,n,s,a,l);return f.applyProps=function(p,m,y){var g=y.image,w=y.texture,b=da(p,m,Vl(y,m0e));return(g||w)&&(w!==m.texture&&(b=!0),p.texture=ha("NineSlicePlane",t,y)),b},f};function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var g0e=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=Y0(Y0({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),l=Y0(Y0({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),c=new J_e(n,u,s,a);return c.willUnmount=function(f,p,m){f.destroy(l)},c},v0e=["image","texture"],_0e=function(t,e){var r=new ga(ha("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=da(n,i,Vl(s,v0e));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=ha("Sprite",t,s)),u},r},b0e=["textures","isPlaying","initialFrame","images"],w0e=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(l){return l.map(function(c){return lr(c instanceof be||(c==null?void 0:c.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),c})},u=n?Lg.fromImages(n):new Lg(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(l,c,f){var p=f.textures,m=f.isPlaying,y=f.initialFrame,g=f.images,w=da(l,c,Vl(f,b0e));if(g&&c.images!==g){for(var b=[],_=0;_<g.length;++_)b.push(be.from(g[_]));l.textures=b,w=!0}if(p&&c.textures!==p&&(l.textures=a(p),w=!0),m!==c.isPlaying||y!==c.initialFrame){var E=typeof y=="number"?y:u.currentFrame||0;u[m?"gotoAndPlay":"gotoAndStop"](E),w=!0}return w},u},E0e=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new _M(n,s);return o?(a.updateText(),new ga(a.texture)):a},x0e=["tileScale","tilePosition","image","texture"],S0e=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=ha("TilingSprite",t,e),a=new SM(o,n,s);return a.applyProps=function(u,l,c){var f=c.tileScale,p=c.tilePosition,m=c.image,y=c.texture,g=da(u,l,Vl(c,x0e));if(p){var w,b=ay(p);(w=u.tilePosition).set.apply(w,nu(b)),g=!ZU(ay(l.tilePosition),b)||g}if(f){var _,E=ay(f);(_=u.tileScale).set.apply(_,nu(E)),g=!ZU(ay(l.tileScale),E)||g}return(m||y)&&(y!==l.texture&&(g=!0),u.texture=ha("Sprite",t,c)),g},a},A0e=["image","texture"],T0e=function(t,e){var r=ha("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Vs.TRIANGLES:o,u=new Q_e(r,n,i,s,a);return u.applyProps=function(l,c,f){var p=f.image,m=f.texture,y=da(l,c,Vl(f,A0e));return(p||m)&&(m!==c.texture&&(y=!0),l.texture=ha("Mesh",t,f)),y},u},C0e=["image","texture"],I0e=function(t,e){var r=ha("SimpleRope",t,e),n=e.points,i=new K_e(r,n);return i.applyProps=function(s,o,a){var u=a.image,l=a.texture,c=Vl(a,C0e);lr(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var f=da(s,o,c);return(u||l)&&(l!==o.texture&&(f=!0),s.texture=ha("SimpleRope",t,a)),f},i},O0e=Object.freeze({__proto__:null,BitmapText:h0e,Container:d0e,Graphics:p0e,NineSlicePlane:y0e,ParticleContainer:g0e,Sprite:_0e,Text:E0e,TilingSprite:S0e,SimpleMesh:T0e,SimpleRope:I0e,AnimatedSprite:w0e});function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pi={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},R0e=Object.keys(pi).reduce(function(t,e){return QU(QU({},t),{},fr({},e,O0e[e]))},{}),Tq={};function P0e(t,e){return lr(!!t,"Expect type to be defined, got `%s`",t),lr(!pi[t],"Component `%s` could not be created, already exists in default components.",t),Tq[t]=e,t}var KU,JU,eF,tF,wO={},EO={},k0e={get exports(){return EO},set exports(t){EO=t}},rF={};function N0e(){return JU||(JU=1,k0e.exports=(KU||(KU=1,function(t){function e(P,U){var $=P.length;P.push(U);e:for(;0<$;){var z=$-1>>>1,q=P[z];if(!(0<i(q,U)))break e;P[z]=U,P[$]=q,$=z}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var U=P[0],$=P.pop();if($!==U){P[0]=$;e:for(var z=0,q=P.length,ne=q>>>1;z<ne;){var re=2*(z+1)-1,ae=P[re],oe=re+1,ve=P[oe];if(0>i(ae,$))oe<q&&0>i(ve,ae)?(P[z]=ve,P[oe]=$,z=oe):(P[z]=ae,P[re]=$,z=re);else{if(!(oe<q&&0>i(ve,$)))break e;P[z]=ve,P[oe]=$,z=oe}}}return U}function i(P,U){var $=P.sortIndex-U.sortIndex;return $!==0?$:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,f=null,p=3,m=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function E(P){for(var U=r(l);U!==null;){if(U.callback===null)n(l);else{if(!(U.startTime<=P))break;n(l),U.sortIndex=U.expirationTime,e(u,U)}U=r(l)}}function x(P){if(g=!1,E(P),!y)if(r(u)!==null)y=!0,k(N);else{var U=r(l);U!==null&&O(x,U.startTime-P)}}function N(P,U){y=!1,g&&(g=!1,b(W),W=-1),m=!0;var $=p;try{for(E(U),f=r(u);f!==null&&(!(f.expirationTime>U)||P&&!X());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var q=z(f.expirationTime<=U);U=t.unstable_now(),typeof q=="function"?f.callback=q:f===r(u)&&n(u),E(U)}else n(u);f=r(u)}if(f!==null)var ne=!0;else{var re=r(l);re!==null&&O(x,re.startTime-U),ne=!1}return ne}finally{f=null,p=$,m=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var M,R=!1,D=null,W=-1,G=5,F=-1;function X(){return!(t.unstable_now()-F<G)}function B(){if(D!==null){var P=t.unstable_now();F=P;var U=!0;try{U=D(!0,P)}finally{U?M():(R=!1,D=null)}}else R=!1}if(typeof _=="function")M=function(){_(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,C=j.port2;j.port1.onmessage=B,M=function(){C.postMessage(null)}}else M=function(){w(B,0)};function k(P){D=P,R||(R=!0,M())}function O(P,U){W=w(function(){P(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,k(N))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var $=p;p=U;try{return P()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=p;p=P;try{return U()}finally{p=$}},t.unstable_scheduleCallback=function(P,U,$){var z=t.unstable_now();switch($=typeof $=="object"&&$!==null&&typeof($=$.delay)=="number"&&0<$?z+$:z,P){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return P={id:c++,callback:U,priorityLevel:P,startTime:$,expirationTime:q=$+q,sortIndex:-1},$>z?(P.sortIndex=$,e(l,P),r(u)===null&&P===r(l)&&(g?(b(W),W=-1):g=!0,O(x,$-z))):(P.sortIndex=q,e(u,P),y||m||(y=!0,k(N))),P},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(P){var U=p;return function(){var $=p;p=U;try{return P.apply(this,arguments)}finally{p=$}}}}(rF)),rF)),EO}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function M0e(){return tF||(tF=1,eF=function(t){var e={},r=Ws,n=N0e(),i=Object.assign;function s(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),x=Symbol.iterator;function N(h){return h===null||typeof h!="object"?null:typeof(h=x&&h[x]||h["@@iterator"])=="function"?h:null}function M(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case l:return"Fragment";case u:return"Portal";case f:return"Profiler";case c:return"StrictMode";case g:return"Suspense";case w:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case m:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case y:var d=h.render;return(h=h.displayName)||(h=(h=d.displayName||d.name||"")!==""?"ForwardRef("+h+")":"ForwardRef"),h;case b:return(d=h.displayName||null)!==null?d:M(h.type)||"Memo";case _:d=h._payload,h=h._init;try{return M(h(d))}catch{}}return null}function R(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=(h=d.render).displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(d);case 8:return d===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function D(h){var d=h,v=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do 4098&(d=h).flags&&(v=d.return),h=d.return;while(h)}return d.tag===3?v:null}function W(h){if(D(h)!==h)throw Error(s(188))}function G(h){var d=h.alternate;if(!d){if((d=D(h))===null)throw Error(s(188));return d!==h?null:h}for(var v=h,S=d;;){var A=v.return;if(A===null)break;var I=A.alternate;if(I===null){if((S=A.return)!==null){v=S;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===v)return W(A),h;if(I===S)return W(A),d;I=I.sibling}throw Error(s(188))}if(v.return!==S.return)v=A,S=I;else{for(var V=!1,K=A.child;K;){if(K===v){V=!0,v=A,S=I;break}if(K===S){V=!0,S=A,v=I;break}K=K.sibling}if(!V){for(K=I.child;K;){if(K===v){V=!0,v=I,S=A;break}if(K===S){V=!0,S=I,v=A;break}K=K.sibling}if(!V)throw Error(s(189))}}if(v.alternate!==S)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?h:d}function F(h){return(h=G(h))!==null?X(h):null}function X(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=X(h);if(d!==null)return d;h=h.sibling}return null}function B(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var d=B(h);if(d!==null)return d}h=h.sibling}return null}var j,C=Array.isArray,k=t.getPublicInstance,O=t.getRootHostContext,P=t.getChildHostContext,U=t.prepareForCommit,$=t.resetAfterCommit,z=t.createInstance,q=t.appendInitialChild,ne=t.finalizeInitialChildren,re=t.prepareUpdate,ae=t.shouldSetTextContent,oe=t.createTextInstance,ve=t.scheduleTimeout,Ne=t.cancelTimeout,_e=t.noTimeout,Me=t.isPrimaryRenderer,Ie=t.supportsMutation,De=t.supportsPersistence,te=t.supportsHydration,de=t.getInstanceFromNode,ke=t.preparePortalMount,We=t.getCurrentEventPriority,Qe=t.detachDeletedInstance,ht=t.supportsMicrotasks,Jt=t.scheduleMicrotask,Lt=t.supportsTestSelectors,Tn=t.findFiberRoot,Cn=t.getBoundingRect,xs=t.getTextContent,Xr=t.isHiddenSubtree,In=t.matchAccessibilityRole,Wl=t.setFocusIfFocusable,je=t.setupIntersectionObserver,bo=t.appendChild,ql=t.appendChildToContainer,Ss=t.commitTextUpdate,On=t.commitMount,wo=t.commitUpdate,Zl=t.insertBefore,Zh=t.insertInContainerBefore,Mx=t.removeChild,Dx=t.removeChildFromContainer,Qv=t.resetTextContent,Bx=t.hideInstance,Lx=t.hideTextInstance,$x=t.unhideInstance,Ux=t.unhideTextInstance,Fx=t.clearContainer,jx=t.cloneInstance,Kv=t.createContainerChildSet,Jv=t.appendChildToContainerChildSet,zx=t.finalizeContainerChildren,Jp=t.replaceContainerChildren,e_=t.cloneHiddenInstance,t_=t.cloneHiddenTextInstance,Hx=t.canHydrateInstance,Vx=t.canHydrateTextInstance,Gx=t.canHydrateSuspenseInstance,r_=t.isSuspenseInstancePending,em=t.isSuspenseInstanceFallback,Wx=t.getSuspenseInstanceFallbackErrorDetails,qx=t.registerSuspenseInstanceRetry,Xh=t.getNextHydratableSibling,n_=t.getFirstHydratableChild,Zx=t.getFirstHydratableChildWithinContainer,Xx=t.getFirstHydratableChildWithinSuspenseInstance,Yx=t.hydrateInstance,Qx=t.hydrateTextInstance,Kx=t.hydrateSuspenseInstance,Jx=t.getNextHydratableInstanceAfterSuspenseInstance,eS=t.commitHydratedContainer,Z=t.commitHydratedSuspenseInstance,T=t.clearSuspenseBoundary,L=t.clearSuspenseBoundaryFromContainer,H=t.shouldDeleteUnhydratedTailInstances,Q=t.didNotMatchHydratedContainerTextInstance,Y=t.didNotMatchHydratedTextInstance;function fe(h){if(j===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);j=d&&d[1]||""}return`
`+j+h}var le=!1;function He(h,d){if(!h||le)return"";le=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(se){var S=se}Reflect.construct(h,[],d)}else{try{d.call()}catch(se){S=se}h.call(d.prototype)}else{try{throw Error()}catch(se){S=se}h()}}catch(se){if(se&&S&&typeof se.stack=="string"){for(var A=se.stack.split(`
`),I=S.stack.split(`
`),V=A.length-1,K=I.length-1;1<=V&&0<=K&&A[V]!==I[K];)K--;for(;1<=V&&0<=K;V--,K--)if(A[V]!==I[K]){if(V!==1||K!==1)do if(V--,0>--K||A[V]!==I[K]){var ee=`
`+A[V].replace(" at new "," at ");return h.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",h.displayName)),ee}while(1<=V&&0<=K);break}}}finally{le=!1,Error.prepareStackTrace=v}return(h=h?h.displayName||h.name:"")?fe(h):""}var $e=Object.prototype.hasOwnProperty,it=[],Ar=-1;function va(h){return{current:h}}function Ct(h){0>Ar||(h.current=it[Ar],it[Ar]=null,Ar--)}function Rt(h,d){Ar++,it[Ar]=h.current,h.current=d}var cu={},cn=va(cu),Yn=va(!1),Xl=cu;function Yh(h,d){var v=h.type.contextTypes;if(!v)return cu;var S=h.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===d)return S.__reactInternalMemoizedMaskedChildContext;var A,I={};for(A in v)I[A]=d[A];return S&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=I),I}function mi(h){return(h=h.childContextTypes)!=null}function tS(){Ct(Yn),Ct(cn)}function ZM(h,d,v){if(cn.current!==cu)throw Error(s(168));Rt(cn,d),Rt(Yn,v)}function XM(h,d,v){var S=h.stateNode;if(d=d.childContextTypes,typeof S.getChildContext!="function")return v;for(var A in S=S.getChildContext())if(!(A in d))throw Error(s(108,R(h)||"Unknown",A));return i({},v,S)}function i_(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||cu,Xl=cn.current,Rt(cn,h),Rt(Yn,Yn.current),!0}function YM(h,d,v){var S=h.stateNode;if(!S)throw Error(s(169));v?(h=XM(h,d,Xl),S.__reactInternalMemoizedMergedChildContext=h,Ct(Yn),Ct(cn),Rt(cn,h)):Ct(Yn),Rt(Yn,v)}var As=Math.clz32?Math.clz32:function(h){return(h>>>=0)===0?32:31-(kX(h)/NX|0)|0},kX=Math.log,NX=Math.LN2,rS=64,nS=4194304;function tm(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&h;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&h;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function s_(h,d){var v=h.pendingLanes;if(v===0)return 0;var S=0,A=h.suspendedLanes,I=h.pingedLanes,V=268435455&v;if(V!==0){var K=V&~A;K!==0?S=tm(K):(I&=V)!==0&&(S=tm(I))}else(V=v&~A)!==0?S=tm(V):I!==0&&(S=tm(I));if(S===0)return 0;if(d!==0&&d!==S&&!(d&A)&&((A=S&-S)>=(I=d&-d)||A===16&&4194240&I))return d;if(4&S&&(S|=16&v),(d=h.entangledLanes)!==0)for(h=h.entanglements,d&=S;0<d;)A=1<<(v=31-As(d)),S|=h[v],d&=~A;return S}function MX(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;default:return-1}}function iS(h){return(h=-1073741825&h.pendingLanes)!==0?h:1073741824&h?1073741824:0}function QM(){var h=rS;return!(4194240&(rS<<=1))&&(rS=64),h}function sS(h){for(var d=[],v=0;31>v;v++)d.push(h);return d}function rm(h,d,v){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),(h=h.eventTimes)[d=31-As(d)]=v}function oS(h,d){var v=h.entangledLanes|=d;for(h=h.entanglements;v;){var S=31-As(v),A=1<<S;A&d|h[S]&d&&(h[S]|=d),v&=~A}}var vt=0;function KM(h){return 1<(h&=-h)?4<h?268435455&h?16:536870912:4:1}var aS=n.unstable_scheduleCallback,JM=n.unstable_cancelCallback,DX=n.unstable_shouldYield,BX=n.unstable_requestPaint,Mr=n.unstable_now,uS=n.unstable_ImmediatePriority,LX=n.unstable_UserBlockingPriority,eD=n.unstable_NormalPriority,$X=n.unstable_IdlePriority,o_=null,Eo=null,Ts=typeof Object.is=="function"?Object.is:function(h,d){return h===d&&(h!==0||1/h==1/d)||h!=h&&d!=d},_a=null,a_=!1,lS=!1;function tD(h){_a===null?_a=[h]:_a.push(h)}function xo(){if(!lS&&_a!==null){lS=!0;var h=0,d=vt;try{var v=_a;for(vt=1;h<v.length;h++){var S=v[h];do S=S(!0);while(S!==null)}_a=null,a_=!1}catch(A){throw _a!==null&&(_a=_a.slice(h+1)),aS(uS,xo),A}finally{vt=d,lS=!1}}return null}var Qh=[],Kh=0,u_=null,l_=0,Fi=[],ji=0,Yl=null,So=1,ba="";function Ql(h,d){Qh[Kh++]=l_,Qh[Kh++]=u_,u_=h,l_=d}function rD(h,d,v){Fi[ji++]=So,Fi[ji++]=ba,Fi[ji++]=Yl,Yl=h;var S=So;h=ba;var A=32-As(S)-1;S&=~(1<<A),v+=1;var I=32-As(d)+A;if(30<I){var V=A-A%5;I=(S&(1<<V)-1).toString(32),S>>=V,A-=V,So=1<<32-As(d)+A|v<<A|S,ba=I+h}else So=1<<I|v<<A|S,ba=h}function cS(h){h.return!==null&&(Ql(h,1),rD(h,1,0))}function hS(h){for(;h===u_;)u_=Qh[--Kh],Qh[Kh]=null,l_=Qh[--Kh],Qh[Kh]=null;for(;h===Yl;)Yl=Fi[--ji],Fi[ji]=null,ba=Fi[--ji],Fi[ji]=null,So=Fi[--ji],Fi[ji]=null}var yi=null,zi=null,qt=!1,nm=!1,Cs=null;function nD(h,d){var v=qi(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=h,(d=h.deletions)===null?(h.deletions=[v],h.flags|=16):d.push(v)}function iD(h,d){switch(h.tag){case 5:return(d=Hx(d,h.type,h.pendingProps))!==null&&(h.stateNode=d,yi=h,zi=n_(d),!0);case 6:return(d=Vx(d,h.pendingProps))!==null&&(h.stateNode=d,yi=h,zi=null,!0);case 13:if((d=Gx(d))!==null){var v=Yl!==null?{id:So,overflow:ba}:null;return h.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},(v=qi(18,null,null,0)).stateNode=d,v.return=h,h.child=v,yi=h,zi=null,!0}return!1;default:return!1}}function dS(h){return(1&h.mode)!=0&&(128&h.flags)==0}function fS(h){if(qt){var d=zi;if(d){var v=d;if(!iD(h,d)){if(dS(h))throw Error(s(418));d=Xh(v);var S=yi;d&&iD(h,d)?nD(S,v):(h.flags=-4097&h.flags|2,qt=!1,yi=h)}}else{if(dS(h))throw Error(s(418));h.flags=-4097&h.flags|2,qt=!1,yi=h}}}function sD(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;yi=h}function c_(h){if(!te||h!==yi)return!1;if(!qt)return sD(h),qt=!0,!1;if(h.tag!==3&&(h.tag!==5||H(h.type)&&!ae(h.type,h.memoizedProps))){var d=zi;if(d){if(dS(h))throw oD(),Error(s(418));for(;d;)nD(h,d),d=Xh(d)}}if(sD(h),h.tag===13){if(!te)throw Error(s(316));if(!(h=(h=h.memoizedState)!==null?h.dehydrated:null))throw Error(s(317));zi=Jx(h)}else zi=yi?Xh(h.stateNode):null;return!0}function oD(){for(var h=zi;h;)h=Xh(h)}function Jh(){te&&(zi=yi=null,nm=qt=!1)}function pS(h){Cs===null?Cs=[h]:Cs.push(h)}var UX=o.ReactCurrentBatchConfig;function h_(h,d){if(Ts(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var v=Object.keys(h),S=Object.keys(d);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var A=v[S];if(!$e.call(d,A)||!Ts(h[A],d[A]))return!1}return!0}function FX(h){switch(h.tag){case 5:return fe(h.type);case 16:return fe("Lazy");case 13:return fe("Suspense");case 19:return fe("SuspenseList");case 0:case 2:case 15:return h=He(h.type,!1);case 11:return h=He(h.type.render,!1);case 1:return h=He(h.type,!0);default:return""}}function Is(h,d){if(h&&h.defaultProps){for(var v in d=i({},d),h=h.defaultProps)d[v]===void 0&&(d[v]=h[v]);return d}return d}var d_=va(null),f_=null,ed=null,mS=null;function yS(){mS=ed=f_=null}function aD(h,d,v){Me?(Rt(d_,d._currentValue),d._currentValue=v):(Rt(d_,d._currentValue2),d._currentValue2=v)}function gS(h){var d=d_.current;Ct(d_),Me?h._currentValue=d:h._currentValue2=d}function vS(h,d,v){for(;h!==null;){var S=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,S!==null&&(S.childLanes|=d)):S!==null&&(S.childLanes&d)!==d&&(S.childLanes|=d),h===v)break;h=h.return}}function td(h,d){f_=h,mS=ed=null,(h=h.dependencies)!==null&&h.firstContext!==null&&(h.lanes&d&&(Qn=!0),h.firstContext=null)}function Hi(h){var d=Me?h._currentValue:h._currentValue2;if(mS!==h)if(h={context:h,memoizedValue:d,next:null},ed===null){if(f_===null)throw Error(s(308));ed=h,f_.dependencies={lanes:0,firstContext:h}}else ed=ed.next=h;return d}var Kl=null;function _S(h){Kl===null?Kl=[h]:Kl.push(h)}function uD(h,d,v,S){var A=d.interleaved;return A===null?(v.next=v,_S(d)):(v.next=A.next,A.next=v),d.interleaved=v,Ao(h,S)}function Ao(h,d){h.lanes|=d;var v=h.alternate;for(v!==null&&(v.lanes|=d),v=h,h=h.return;h!==null;)h.childLanes|=d,(v=h.alternate)!==null&&(v.childLanes|=d),v=h,h=h.return;return v.tag===3?v.stateNode:null}var hu=!1;function bS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lD(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function wa(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function du(h,d,v){var S=h.updateQueue;if(S===null)return null;if(S=S.shared,(2&dt)!=0){var A=S.pending;return A===null?d.next=d:(d.next=A.next,A.next=d),S.pending=d,Ao(h,v)}return(A=S.interleaved)===null?(d.next=d,_S(S)):(d.next=A.next,A.next=d),S.interleaved=d,Ao(h,v)}function p_(h,d,v){if((d=d.updateQueue)!==null&&(d=d.shared,(4194240&v)!=0)){var S=d.lanes;v|=S&=h.pendingLanes,d.lanes=v,oS(h,v)}}function cD(h,d){var v=h.updateQueue,S=h.alternate;if(S!==null&&v===(S=S.updateQueue)){var A=null,I=null;if((v=v.firstBaseUpdate)!==null){do{var V={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};I===null?A=I=V:I=I.next=V,v=v.next}while(v!==null);I===null?A=I=d:I=I.next=d}else A=I=d;return v={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:S.shared,effects:S.effects},void(h.updateQueue=v)}(h=v.lastBaseUpdate)===null?v.firstBaseUpdate=d:h.next=d,v.lastBaseUpdate=d}function m_(h,d,v,S){var A=h.updateQueue;hu=!1;var I=A.firstBaseUpdate,V=A.lastBaseUpdate,K=A.shared.pending;if(K!==null){A.shared.pending=null;var ee=K,se=ee.next;ee.next=null,V===null?I=se:V.next=se,V=ee;var ce=h.alternate;ce!==null&&(K=(ce=ce.updateQueue).lastBaseUpdate)!==V&&(K===null?ce.firstBaseUpdate=se:K.next=se,ce.lastBaseUpdate=ee)}if(I!==null){var Ee=A.baseState;for(V=0,ce=se=ee=null,K=I;;){var ue=K.lane,ye=K.eventTime;if((S&ue)===ue){ce!==null&&(ce=ce.next={eventTime:ye,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Be=h,nt=K;switch(ue=d,ye=v,nt.tag){case 1:if(typeof(Be=nt.payload)=="function"){Ee=Be.call(ye,Ee,ue);break e}Ee=Be;break e;case 3:Be.flags=-65537&Be.flags|128;case 0:if((ue=typeof(Be=nt.payload)=="function"?Be.call(ye,Ee,ue):Be)==null)break e;Ee=i({},Ee,ue);break e;case 2:hu=!0}}K.callback!==null&&K.lane!==0&&(h.flags|=64,(ue=A.effects)===null?A.effects=[K]:ue.push(K))}else ye={eventTime:ye,lane:ue,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ce===null?(se=ce=ye,ee=Ee):ce=ce.next=ye,V|=ue;if((K=K.next)===null){if((K=A.shared.pending)===null)break;K=(ue=K).next,ue.next=null,A.lastBaseUpdate=ue,A.shared.pending=null}}if(ce===null&&(ee=Ee),A.baseState=ee,A.firstBaseUpdate=se,A.lastBaseUpdate=ce,(d=A.shared.interleaved)!==null){A=d;do V|=A.lane,A=A.next;while(A!==d)}else I===null&&(A.shared.lanes=0);ec|=V,h.lanes=V,h.memoizedState=Ee}}function hD(h,d,v){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var S=h[d],A=S.callback;if(A!==null){if(S.callback=null,S=v,typeof A!="function")throw Error(s(191,A));A.call(S)}}}var dD=new r.Component().refs;function wS(h,d,v,S){v=(v=v(S,d=h.memoizedState))==null?d:i({},d,v),h.memoizedState=v,h.lanes===0&&(h.updateQueue.baseState=v)}var y_={isMounted:function(h){return!!(h=h._reactInternals)&&D(h)===h},enqueueSetState:function(h,d,v){h=h._reactInternals;var S=fn(),A=yu(h),I=wa(S,A);I.payload=d,v!=null&&(I.callback=v),(d=du(h,I,A))!==null&&(Wi(d,h,A,S),p_(d,h,A))},enqueueReplaceState:function(h,d,v){h=h._reactInternals;var S=fn(),A=yu(h),I=wa(S,A);I.tag=1,I.payload=d,v!=null&&(I.callback=v),(d=du(h,I,A))!==null&&(Wi(d,h,A,S),p_(d,h,A))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var v=fn(),S=yu(h),A=wa(v,S);A.tag=2,d!=null&&(A.callback=d),(d=du(h,A,S))!==null&&(Wi(d,h,S,v),p_(d,h,S))}};function fD(h,d,v,S,A,I,V){return typeof(h=h.stateNode).shouldComponentUpdate=="function"?h.shouldComponentUpdate(S,I,V):!d.prototype||!d.prototype.isPureReactComponent||!h_(v,S)||!h_(A,I)}function pD(h,d,v){var S=!1,A=cu,I=d.contextType;return typeof I=="object"&&I!==null?I=Hi(I):(A=mi(d)?Xl:cn.current,I=(S=(S=d.contextTypes)!=null)?Yh(h,A):cu),d=new d(v,I),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=y_,h.stateNode=d,d._reactInternals=h,S&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=A,h.__reactInternalMemoizedMaskedChildContext=I),d}function mD(h,d,v,S){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,S),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,S),d.state!==h&&y_.enqueueReplaceState(d,d.state,null)}function ES(h,d,v,S){var A=h.stateNode;A.props=v,A.state=h.memoizedState,A.refs=dD,bS(h);var I=d.contextType;typeof I=="object"&&I!==null?A.context=Hi(I):(I=mi(d)?Xl:cn.current,A.context=Yh(h,I)),A.state=h.memoizedState,typeof(I=d.getDerivedStateFromProps)=="function"&&(wS(h,d,I,v),A.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(d=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),d!==A.state&&y_.enqueueReplaceState(A,A.state,null),m_(h,v,A,S),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308)}function im(h,d,v){if((h=v.ref)!==null&&typeof h!="function"&&typeof h!="object"){if(v._owner){if(v=v._owner){if(v.tag!==1)throw Error(s(309));var S=v.stateNode}if(!S)throw Error(s(147,h));var A=S,I=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===I?d.ref:(d=function(V){var K=A.refs;K===dD&&(K=A.refs={}),V===null?delete K[I]:K[I]=V},d._stringRef=I,d)}if(typeof h!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,h))}return h}function g_(h,d){throw h=Object.prototype.toString.call(d),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function yD(h){return(0,h._init)(h._payload)}function gD(h){function d(he,J){if(h){var ie=he.deletions;ie===null?(he.deletions=[J],he.flags|=16):ie.push(J)}}function v(he,J){if(!h)return null;for(;J!==null;)d(he,J),J=J.sibling;return null}function S(he,J){for(he=new Map;J!==null;)J.key!==null?he.set(J.key,J):he.set(J.index,J),J=J.sibling;return he}function A(he,J){return(he=vu(he,J)).index=0,he.sibling=null,he}function I(he,J,ie){return he.index=ie,h?(ie=he.alternate)!==null?(ie=ie.index)<J?(he.flags|=2,J):ie:(he.flags|=2,J):(he.flags|=1048576,J)}function V(he){return h&&he.alternate===null&&(he.flags|=2),he}function K(he,J,ie,pe){return J===null||J.tag!==6?((J=uA(ie,he.mode,pe)).return=he,J):((J=A(J,ie)).return=he,J)}function ee(he,J,ie,pe){var Ve=ie.type;return Ve===l?ce(he,J,ie.props.children,pe,ie.key):J!==null&&(J.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===_&&yD(Ve)===J.type)?((pe=A(J,ie.props)).ref=im(he,J,ie),pe.return=he,pe):((pe=H_(ie.type,ie.key,ie.props,null,he.mode,pe)).ref=im(he,J,ie),pe.return=he,pe)}function se(he,J,ie,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ie.containerInfo||J.stateNode.implementation!==ie.implementation?((J=lA(ie,he.mode,pe)).return=he,J):((J=A(J,ie.children||[])).return=he,J)}function ce(he,J,ie,pe,Ve){return J===null||J.tag!==7?((J=nc(ie,he.mode,pe,Ve)).return=he,J):((J=A(J,ie)).return=he,J)}function Ee(he,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number")return(J=uA(""+J,he.mode,ie)).return=he,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case a:return(ie=H_(J.type,J.key,J.props,null,he.mode,ie)).ref=im(he,null,J),ie.return=he,ie;case u:return(J=lA(J,he.mode,ie)).return=he,J;case _:return Ee(he,(0,J._init)(J._payload),ie)}if(C(J)||N(J))return(J=nc(J,he.mode,ie,null)).return=he,J;g_(he,J)}return null}function ue(he,J,ie,pe){var Ve=J!==null?J.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ve!==null?null:K(he,J,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case a:return ie.key===Ve?ee(he,J,ie,pe):null;case u:return ie.key===Ve?se(he,J,ie,pe):null;case _:return ue(he,J,(Ve=ie._init)(ie._payload),pe)}if(C(ie)||N(ie))return Ve!==null?null:ce(he,J,ie,pe,null);g_(he,ie)}return null}function ye(he,J,ie,pe,Ve){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return K(J,he=he.get(ie)||null,""+pe,Ve);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case a:return ee(J,he=he.get(pe.key===null?ie:pe.key)||null,pe,Ve);case u:return se(J,he=he.get(pe.key===null?ie:pe.key)||null,pe,Ve);case _:return ye(he,J,ie,(0,pe._init)(pe._payload),Ve)}if(C(pe)||N(pe))return ce(J,he=he.get(ie)||null,pe,Ve,null);g_(J,pe)}return null}function Be(he,J,ie,pe){for(var Ve=null,St=null,Ue=J,_t=J=0,Qr=null;Ue!==null&&_t<ie.length;_t++){Ue.index>_t?(Qr=Ue,Ue=null):Qr=Ue.sibling;var At=ue(he,Ue,ie[_t],pe);if(At===null){Ue===null&&(Ue=Qr);break}h&&Ue&&At.alternate===null&&d(he,Ue),J=I(At,J,_t),St===null?Ve=At:St.sibling=At,St=At,Ue=Qr}if(_t===ie.length)return v(he,Ue),qt&&Ql(he,_t),Ve;if(Ue===null){for(;_t<ie.length;_t++)(Ue=Ee(he,ie[_t],pe))!==null&&(J=I(Ue,J,_t),St===null?Ve=Ue:St.sibling=Ue,St=Ue);return qt&&Ql(he,_t),Ve}for(Ue=S(he,Ue);_t<ie.length;_t++)(Qr=ye(Ue,he,_t,ie[_t],pe))!==null&&(h&&Qr.alternate!==null&&Ue.delete(Qr.key===null?_t:Qr.key),J=I(Qr,J,_t),St===null?Ve=Qr:St.sibling=Qr,St=Qr);return h&&Ue.forEach(function(_u){return d(he,_u)}),qt&&Ql(he,_t),Ve}function nt(he,J,ie,pe){var Ve=N(ie);if(typeof Ve!="function")throw Error(s(150));if((ie=Ve.call(ie))==null)throw Error(s(151));for(var St=Ve=null,Ue=J,_t=J=0,Qr=null,At=ie.next();Ue!==null&&!At.done;_t++,At=ie.next()){Ue.index>_t?(Qr=Ue,Ue=null):Qr=Ue.sibling;var _u=ue(he,Ue,At.value,pe);if(_u===null){Ue===null&&(Ue=Qr);break}h&&Ue&&_u.alternate===null&&d(he,Ue),J=I(_u,J,_t),St===null?Ve=_u:St.sibling=_u,St=_u,Ue=Qr}if(At.done)return v(he,Ue),qt&&Ql(he,_t),Ve;if(Ue===null){for(;!At.done;_t++,At=ie.next())(At=Ee(he,At.value,pe))!==null&&(J=I(At,J,_t),St===null?Ve=At:St.sibling=At,St=At);return qt&&Ql(he,_t),Ve}for(Ue=S(he,Ue);!At.done;_t++,At=ie.next())(At=ye(Ue,he,_t,At.value,pe))!==null&&(h&&At.alternate!==null&&Ue.delete(At.key===null?_t:At.key),J=I(At,J,_t),St===null?Ve=At:St.sibling=At,St=At);return h&&Ue.forEach(function(cY){return d(he,cY)}),qt&&Ql(he,_t),Ve}return function he(J,ie,pe,Ve){if(typeof pe=="object"&&pe!==null&&pe.type===l&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case a:e:{for(var St=pe.key,Ue=ie;Ue!==null;){if(Ue.key===St){if((St=pe.type)===l){if(Ue.tag===7){v(J,Ue.sibling),(ie=A(Ue,pe.props.children)).return=J,J=ie;break e}}else if(Ue.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===_&&yD(St)===Ue.type){v(J,Ue.sibling),(ie=A(Ue,pe.props)).ref=im(J,Ue,pe),ie.return=J,J=ie;break e}v(J,Ue);break}d(J,Ue),Ue=Ue.sibling}pe.type===l?((ie=nc(pe.props.children,J.mode,Ve,pe.key)).return=J,J=ie):((Ve=H_(pe.type,pe.key,pe.props,null,J.mode,Ve)).ref=im(J,ie,pe),Ve.return=J,J=Ve)}return V(J);case u:e:{for(Ue=pe.key;ie!==null;){if(ie.key===Ue){if(ie.tag===4&&ie.stateNode.containerInfo===pe.containerInfo&&ie.stateNode.implementation===pe.implementation){v(J,ie.sibling),(ie=A(ie,pe.children||[])).return=J,J=ie;break e}v(J,ie);break}d(J,ie),ie=ie.sibling}(ie=lA(pe,J.mode,Ve)).return=J,J=ie}return V(J);case _:return he(J,ie,(Ue=pe._init)(pe._payload),Ve)}if(C(pe))return Be(J,ie,pe,Ve);if(N(pe))return nt(J,ie,pe,Ve);g_(J,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,ie!==null&&ie.tag===6?(v(J,ie.sibling),(ie=A(ie,pe)).return=J,J=ie):(v(J,ie),(ie=uA(pe,J.mode,Ve)).return=J,J=ie),V(J)):v(J,ie)}}var rd=gD(!0),vD=gD(!1),sm={},Vi=va(sm),om=va(sm),nd=va(sm);function To(h){if(h===sm)throw Error(s(174));return h}function xS(h,d){Rt(nd,d),Rt(om,h),Rt(Vi,sm),h=O(d),Ct(Vi),Rt(Vi,h)}function id(){Ct(Vi),Ct(om),Ct(nd)}function _D(h){var d=To(nd.current),v=To(Vi.current);v!==(d=P(v,h.type,d))&&(Rt(om,h),Rt(Vi,d))}function SS(h){om.current===h&&(Ct(Vi),Ct(om))}var or=va(0);function v_(h){for(var d=h;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&((v=v.dehydrated)===null||r_(v)||em(v)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(128&d.flags)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var AS=[];function TS(){for(var h=0;h<AS.length;h++){var d=AS[h];Me?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}AS.length=0}var __=o.ReactCurrentDispatcher,CS=o.ReactCurrentBatchConfig,Jl=0,er=null,Dr=null,Br=null,b_=!1,am=!1,um=0,jX=0;function hn(){throw Error(s(321))}function IS(h,d){if(d===null)return!1;for(var v=0;v<d.length&&v<h.length;v++)if(!Ts(h[v],d[v]))return!1;return!0}function OS(h,d,v,S,A,I){if(Jl=I,er=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,__.current=h===null||h.memoizedState===null?GX:WX,h=v(S,A),am){I=0;do{if(am=!1,um=0,25<=I)throw Error(s(301));I+=1,Br=Dr=null,d.updateQueue=null,__.current=qX,h=v(S,A)}while(am)}if(__.current=x_,d=Dr!==null&&Dr.next!==null,Jl=0,Br=Dr=er=null,b_=!1,d)throw Error(s(300));return h}function RS(){var h=um!==0;return um=0,h}function Co(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?er.memoizedState=Br=h:Br=Br.next=h,Br}function Gi(){if(Dr===null){var h=er.alternate;h=h!==null?h.memoizedState:null}else h=Dr.next;var d=Br===null?er.memoizedState:Br.next;if(d!==null)Br=d,Dr=h;else{if(h===null)throw Error(s(310));h={memoizedState:(Dr=h).memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Br===null?er.memoizedState=Br=h:Br=Br.next=h}return Br}function lm(h,d){return typeof d=="function"?d(h):d}function PS(h){var d=Gi(),v=d.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=h;var S=Dr,A=S.baseQueue,I=v.pending;if(I!==null){if(A!==null){var V=A.next;A.next=I.next,I.next=V}S.baseQueue=A=I,v.pending=null}if(A!==null){I=A.next,S=S.baseState;var K=V=null,ee=null,se=I;do{var ce=se.lane;if((Jl&ce)===ce)ee!==null&&(ee=ee.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),S=se.hasEagerState?se.eagerState:h(S,se.action);else{var Ee={lane:ce,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};ee===null?(K=ee=Ee,V=S):ee=ee.next=Ee,er.lanes|=ce,ec|=ce}se=se.next}while(se!==null&&se!==I);ee===null?V=S:ee.next=K,Ts(S,d.memoizedState)||(Qn=!0),d.memoizedState=S,d.baseState=V,d.baseQueue=ee,v.lastRenderedState=S}if((h=v.interleaved)!==null){A=h;do I=A.lane,er.lanes|=I,ec|=I,A=A.next;while(A!==h)}else A===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function kS(h){var d=Gi(),v=d.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=h;var S=v.dispatch,A=v.pending,I=d.memoizedState;if(A!==null){v.pending=null;var V=A=A.next;do I=h(I,V.action),V=V.next;while(V!==A);Ts(I,d.memoizedState)||(Qn=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),v.lastRenderedState=I}return[I,S]}function bD(){}function wD(h,d){var v=er,S=Gi(),A=d(),I=!Ts(S.memoizedState,A);if(I&&(S.memoizedState=A,Qn=!0),S=S.queue,NS(SD.bind(null,v,S,h),[h]),S.getSnapshot!==d||I||Br!==null&&1&Br.memoizedState.tag){if(v.flags|=2048,cm(9,xD.bind(null,v,S,A,d),void 0,null),Lr===null)throw Error(s(349));30&Jl||ED(v,d,A)}return A}function ED(h,d,v){h.flags|=16384,h={getSnapshot:d,value:v},(d=er.updateQueue)===null?(d={lastEffect:null,stores:null},er.updateQueue=d,d.stores=[h]):(v=d.stores)===null?d.stores=[h]:v.push(h)}function xD(h,d,v,S){d.value=v,d.getSnapshot=S,AD(d)&&TD(h)}function SD(h,d,v){return v(function(){AD(d)&&TD(h)})}function AD(h){var d=h.getSnapshot;h=h.value;try{var v=d();return!Ts(h,v)}catch{return!0}}function TD(h){var d=Ao(h,1);d!==null&&Wi(d,h,1,-1)}function CD(h){var d=Co();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:h},d.queue=h,h=h.dispatch=VX.bind(null,er,h),[d.memoizedState,h]}function cm(h,d,v,S){return h={tag:h,create:d,destroy:v,deps:S,next:null},(d=er.updateQueue)===null?(d={lastEffect:null,stores:null},er.updateQueue=d,d.lastEffect=h.next=h):(v=d.lastEffect)===null?d.lastEffect=h.next=h:(S=v.next,v.next=h,h.next=S,d.lastEffect=h),h}function ID(){return Gi().memoizedState}function w_(h,d,v,S){var A=Co();er.flags|=h,A.memoizedState=cm(1|d,v,void 0,S===void 0?null:S)}function E_(h,d,v,S){var A=Gi();S=S===void 0?null:S;var I=void 0;if(Dr!==null){var V=Dr.memoizedState;if(I=V.destroy,S!==null&&IS(S,V.deps))return void(A.memoizedState=cm(d,v,I,S))}er.flags|=h,A.memoizedState=cm(1|d,v,I,S)}function OD(h,d){return w_(8390656,8,h,d)}function NS(h,d){return E_(2048,8,h,d)}function RD(h,d){return E_(4,2,h,d)}function PD(h,d){return E_(4,4,h,d)}function kD(h,d){return typeof d=="function"?(h=h(),d(h),function(){d(null)}):d!=null?(h=h(),d.current=h,function(){d.current=null}):void 0}function ND(h,d,v){return v=v!=null?v.concat([h]):null,E_(4,4,kD.bind(null,d,h),v)}function MS(){}function MD(h,d){var v=Gi();d=d===void 0?null:d;var S=v.memoizedState;return S!==null&&d!==null&&IS(d,S[1])?S[0]:(v.memoizedState=[h,d],h)}function DD(h,d){var v=Gi();d=d===void 0?null:d;var S=v.memoizedState;return S!==null&&d!==null&&IS(d,S[1])?S[0]:(h=h(),v.memoizedState=[h,d],h)}function BD(h,d,v){return 21&Jl?(Ts(v,d)||(v=QM(),er.lanes|=v,ec|=v,h.baseState=!0),d):(h.baseState&&(h.baseState=!1,Qn=!0),h.memoizedState=v)}function zX(h,d){var v=vt;vt=v!==0&&4>v?v:4,h(!0);var S=CS.transition;CS.transition={};try{h(!1),d()}finally{vt=v,CS.transition=S}}function LD(){return Gi().memoizedState}function HX(h,d,v){var S=yu(h);v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},$D(h)?UD(d,v):(v=uD(h,d,v,S))!==null&&(Wi(v,h,S,fn()),FD(v,d,S))}function VX(h,d,v){var S=yu(h),A={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if($D(h))UD(d,A);else{var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer)!==null)try{var V=d.lastRenderedState,K=I(V,v);if(A.hasEagerState=!0,A.eagerState=K,Ts(K,V)){var ee=d.interleaved;return ee===null?(A.next=A,_S(d)):(A.next=ee.next,ee.next=A),void(d.interleaved=A)}}catch{}(v=uD(h,d,A,S))!==null&&(Wi(v,h,S,A=fn()),FD(v,d,S))}}function $D(h){var d=h.alternate;return h===er||d!==null&&d===er}function UD(h,d){am=b_=!0;var v=h.pending;v===null?d.next=d:(d.next=v.next,v.next=d),h.pending=d}function FD(h,d,v){if(4194240&v){var S=d.lanes;v|=S&=h.pendingLanes,d.lanes=v,oS(h,v)}}var x_={readContext:Hi,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},GX={readContext:Hi,useCallback:function(h,d){return Co().memoizedState=[h,d===void 0?null:d],h},useContext:Hi,useEffect:OD,useImperativeHandle:function(h,d,v){return v=v!=null?v.concat([h]):null,w_(4194308,4,kD.bind(null,d,h),v)},useLayoutEffect:function(h,d){return w_(4194308,4,h,d)},useInsertionEffect:function(h,d){return w_(4,2,h,d)},useMemo:function(h,d){var v=Co();return d=d===void 0?null:d,h=h(),v.memoizedState=[h,d],h},useReducer:function(h,d,v){var S=Co();return d=v!==void 0?v(d):d,S.memoizedState=S.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},S.queue=h,h=h.dispatch=HX.bind(null,er,h),[S.memoizedState,h]},useRef:function(h){return h={current:h},Co().memoizedState=h},useState:CD,useDebugValue:MS,useDeferredValue:function(h){return Co().memoizedState=h},useTransition:function(){var h=CD(!1),d=h[0];return h=zX.bind(null,h[1]),Co().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,v){var S=er,A=Co();if(qt){if(v===void 0)throw Error(s(407));v=v()}else{if(v=d(),Lr===null)throw Error(s(349));30&Jl||ED(S,d,v)}A.memoizedState=v;var I={value:v,getSnapshot:d};return A.queue=I,OD(SD.bind(null,S,I,h),[h]),S.flags|=2048,cm(9,xD.bind(null,S,I,v,d),void 0,null),v},useId:function(){var h=Co(),d=Lr.identifierPrefix;if(qt){var v=ba;d=":"+d+"R"+(v=(So&~(1<<32-As(So)-1)).toString(32)+v),0<(v=um++)&&(d+="H"+v.toString(32)),d+=":"}else d=":"+d+"r"+(v=jX++).toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},WX={readContext:Hi,useCallback:MD,useContext:Hi,useEffect:NS,useImperativeHandle:ND,useInsertionEffect:RD,useLayoutEffect:PD,useMemo:DD,useReducer:PS,useRef:ID,useState:function(){return PS(lm)},useDebugValue:MS,useDeferredValue:function(h){return BD(Gi(),Dr.memoizedState,h)},useTransition:function(){return[PS(lm)[0],Gi().memoizedState]},useMutableSource:bD,useSyncExternalStore:wD,useId:LD,unstable_isNewReconciler:!1},qX={readContext:Hi,useCallback:MD,useContext:Hi,useEffect:NS,useImperativeHandle:ND,useInsertionEffect:RD,useLayoutEffect:PD,useMemo:DD,useReducer:kS,useRef:ID,useState:function(){return kS(lm)},useDebugValue:MS,useDeferredValue:function(h){var d=Gi();return Dr===null?d.memoizedState=h:BD(d,Dr.memoizedState,h)},useTransition:function(){return[kS(lm)[0],Gi().memoizedState]},useMutableSource:bD,useSyncExternalStore:wD,useId:LD,unstable_isNewReconciler:!1};function sd(h,d){try{var v="",S=d;do v+=FX(S),S=S.return;while(S);var A=v}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:d,stack:A,digest:null}}function DS(h,d,v){return{value:h,source:null,stack:v??null,digest:d??null}}function BS(h,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var ZX=typeof WeakMap=="function"?WeakMap:Map;function jD(h,d,v){(v=wa(-1,v)).tag=3,v.payload={element:null};var S=d.value;return v.callback=function(){L_||(L_=!0,tA=S),BS(0,d)},v}function zD(h,d,v){(v=wa(-1,v)).tag=3;var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var A=d.value;v.payload=function(){return S(A)},v.callback=function(){BS(0,d)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(v.callback=function(){BS(0,d),typeof S!="function"&&(pu===null?pu=new Set([this]):pu.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),v}function HD(h,d,v){var S=h.pingCache;if(S===null){S=h.pingCache=new ZX;var A=new Set;S.set(d,A)}else(A=S.get(d))===void 0&&(A=new Set,S.set(d,A));A.has(v)||(A.add(v),h=nY.bind(null,h,d,v),d.then(h,h))}function VD(h){do{var d;if((d=h.tag===13)&&(d=(d=h.memoizedState)===null||d.dehydrated!==null),d)return h;h=h.return}while(h!==null);return null}function GD(h,d,v,S,A){return 1&h.mode?(h.flags|=65536,h.lanes=A,h):(h===d?h.flags|=65536:(h.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:((d=wa(-1,1)).tag=2,du(v,d,1))),v.lanes|=1),h)}var XX=o.ReactCurrentOwner,Qn=!1;function Kn(h,d,v,S){d.child=h===null?vD(d,null,v,S):rd(d,h.child,v,S)}function WD(h,d,v,S,A){v=v.render;var I=d.ref;return td(d,A),S=OS(h,d,v,S,I,A),v=RS(),h===null||Qn?(qt&&v&&cS(d),d.flags|=1,Kn(h,d,S,A),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~A,Ea(h,d,A))}function qD(h,d,v,S,A){if(h===null){var I=v.type;return typeof I!="function"||aA(I)||I.defaultProps!==void 0||v.compare!==null||v.defaultProps!==void 0?((h=H_(v.type,null,S,d,d.mode,A)).ref=d.ref,h.return=d,d.child=h):(d.tag=15,d.type=I,ZD(h,d,I,S,A))}if(I=h.child,(h.lanes&A)==0){var V=I.memoizedProps;if((v=(v=v.compare)!==null?v:h_)(V,S)&&h.ref===d.ref)return Ea(h,d,A)}return d.flags|=1,(h=vu(I,S)).ref=d.ref,h.return=d,d.child=h}function ZD(h,d,v,S,A){if(h!==null){var I=h.memoizedProps;if(h_(I,S)&&h.ref===d.ref){if(Qn=!1,d.pendingProps=S=I,(h.lanes&A)==0)return d.lanes=h.lanes,Ea(h,d,A);131072&h.flags&&(Qn=!0)}}return LS(h,d,v,S,A)}function XD(h,d,v){var S=d.pendingProps,A=S.children,I=h!==null?h.memoizedState:null;if(S.mode==="hidden")if(!(1&d.mode))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(ad,gi),gi|=v;else{if(!(1073741824&v))return h=I!==null?I.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null,transitions:null},d.updateQueue=null,Rt(ad,gi),gi|=h,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=I!==null?I.baseLanes:v,Rt(ad,gi),gi|=S}else I!==null?(S=I.baseLanes|v,d.memoizedState=null):S=v,Rt(ad,gi),gi|=S;return Kn(h,d,A,v),d.child}function YD(h,d){var v=d.ref;(h===null&&v!==null||h!==null&&h.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function LS(h,d,v,S,A){var I=mi(v)?Xl:cn.current;return I=Yh(d,I),td(d,A),v=OS(h,d,v,S,I,A),S=RS(),h===null||Qn?(qt&&S&&cS(d),d.flags|=1,Kn(h,d,v,A),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~A,Ea(h,d,A))}function QD(h,d,v,S,A){if(mi(v)){var I=!0;i_(d)}else I=!1;if(td(d,A),d.stateNode===null)C_(h,d),pD(d,v,S),ES(d,v,S,A),S=!0;else if(h===null){var V=d.stateNode,K=d.memoizedProps;V.props=K;var ee=V.context,se=v.contextType;typeof se=="object"&&se!==null?se=Hi(se):se=Yh(d,se=mi(v)?Xl:cn.current);var ce=v.getDerivedStateFromProps,Ee=typeof ce=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ee||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==S||ee!==se)&&mD(d,V,S,se),hu=!1;var ue=d.memoizedState;V.state=ue,m_(d,S,V,A),ee=d.memoizedState,K!==S||ue!==ee||Yn.current||hu?(typeof ce=="function"&&(wS(d,v,ce,S),ee=d.memoizedState),(K=hu||fD(d,v,K,S,ue,ee,se))?(Ee||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=S,d.memoizedState=ee),V.props=S,V.state=ee,V.context=se,S=K):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),S=!1)}else{V=d.stateNode,lD(h,d),K=d.memoizedProps,se=d.type===d.elementType?K:Is(d.type,K),V.props=se,Ee=d.pendingProps,ue=V.context,typeof(ee=v.contextType)=="object"&&ee!==null?ee=Hi(ee):ee=Yh(d,ee=mi(v)?Xl:cn.current);var ye=v.getDerivedStateFromProps;(ce=typeof ye=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==Ee||ue!==ee)&&mD(d,V,S,ee),hu=!1,ue=d.memoizedState,V.state=ue,m_(d,S,V,A);var Be=d.memoizedState;K!==Ee||ue!==Be||Yn.current||hu?(typeof ye=="function"&&(wS(d,v,ye,S),Be=d.memoizedState),(se=hu||fD(d,v,se,S,ue,Be,ee)||!1)?(ce||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(S,Be,ee),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(S,Be,ee)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=1024),d.memoizedProps=S,d.memoizedState=Be),V.props=S,V.state=Be,V.context=ee,S=se):(typeof V.componentDidUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===h.memoizedProps&&ue===h.memoizedState||(d.flags|=1024),S=!1)}return $S(h,d,v,S,I,A)}function $S(h,d,v,S,A,I){YD(h,d);var V=(128&d.flags)!=0;if(!S&&!V)return A&&YM(d,v,!1),Ea(h,d,I);S=d.stateNode,XX.current=d;var K=V&&typeof v.getDerivedStateFromError!="function"?null:S.render();return d.flags|=1,h!==null&&V?(d.child=rd(d,h.child,null,I),d.child=rd(d,null,K,I)):Kn(h,d,K,I),d.memoizedState=S.state,A&&YM(d,v,!0),d.child}function KD(h){var d=h.stateNode;d.pendingContext?ZM(0,d.pendingContext,d.pendingContext!==d.context):d.context&&ZM(0,d.context,!1),xS(h,d.containerInfo)}function JD(h,d,v,S,A){return Jh(),pS(A),d.flags|=256,Kn(h,d,v,S),d.child}var hm,dm,S_,A_,US={dehydrated:null,treeContext:null,retryLane:0};function FS(h){return{baseLanes:h,cachePool:null,transitions:null}}function eB(h,d,v){var S,A=d.pendingProps,I=or.current,V=!1,K=(128&d.flags)!=0;if((S=K)||(S=(h===null||h.memoizedState!==null)&&(2&I)!=0),S?(V=!0,d.flags&=-129):h!==null&&h.memoizedState===null||(I|=1),Rt(or,1&I),h===null)return fS(d),(h=d.memoizedState)!==null&&(h=h.dehydrated)!==null?(1&d.mode?em(h)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(K=A.children,h=A.fallback,V?(A=d.mode,V=d.child,K={mode:"hidden",children:K},!(1&A)&&V!==null?(V.childLanes=0,V.pendingProps=K):V=V_(K,A,0,null),h=nc(h,A,v,null),V.return=d,h.return=d,V.sibling=h,d.child=V,d.child.memoizedState=FS(v),d.memoizedState=US,h):jS(d,K));if((I=h.memoizedState)!==null&&(S=I.dehydrated)!==null)return function(se,ce,Ee,ue,ye,Be,nt){if(Ee)return 256&ce.flags?(ce.flags&=-257,T_(se,ce,nt,ue=DS(Error(s(422))))):ce.memoizedState!==null?(ce.child=se.child,ce.flags|=128,null):(Be=ue.fallback,ye=ce.mode,ue=V_({mode:"visible",children:ue.children},ye,0,null),(Be=nc(Be,ye,nt,null)).flags|=2,ue.return=ce,Be.return=ce,ue.sibling=Be,ce.child=ue,1&ce.mode&&rd(ce,se.child,null,nt),ce.child.memoizedState=FS(nt),ce.memoizedState=US,Be);if(!(1&ce.mode))return T_(se,ce,nt,null);if(em(ye))return ue=Wx(ye).digest,Be=Error(s(419)),ue=DS(Be,ue,void 0),T_(se,ce,nt,ue);if(Ee=(nt&se.childLanes)!=0,Qn||Ee){if((ue=Lr)!==null){switch(nt&-nt){case 4:ye=2;break;case 16:ye=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ye=32;break;case 536870912:ye=268435456;break;default:ye=0}(ye=ye&(ue.suspendedLanes|nt)?0:ye)!==0&&ye!==Be.retryLane&&(Be.retryLane=ye,Ao(se,ye),Wi(ue,se,ye,-1))}return oA(),T_(se,ce,nt,ue=DS(Error(s(421))))}return r_(ye)?(ce.flags|=128,ce.child=se.child,ce=iY.bind(null,se),qx(ye,ce),null):(se=Be.treeContext,te&&(zi=Xx(ye),yi=ce,qt=!0,Cs=null,nm=!1,se!==null&&(Fi[ji++]=So,Fi[ji++]=ba,Fi[ji++]=Yl,So=se.id,ba=se.overflow,Yl=ce)),ce=jS(ce,ue.children),ce.flags|=4096,ce)}(h,d,K,A,S,I,v);if(V){V=A.fallback,K=d.mode,S=(I=h.child).sibling;var ee={mode:"hidden",children:A.children};return!(1&K)&&d.child!==I?((A=d.child).childLanes=0,A.pendingProps=ee,d.deletions=null):(A=vu(I,ee)).subtreeFlags=14680064&I.subtreeFlags,S!==null?V=vu(S,V):(V=nc(V,K,v,null)).flags|=2,V.return=d,A.return=d,A.sibling=V,d.child=A,A=V,V=d.child,K=(K=h.child.memoizedState)===null?FS(v):{baseLanes:K.baseLanes|v,cachePool:null,transitions:K.transitions},V.memoizedState=K,V.childLanes=h.childLanes&~v,d.memoizedState=US,A}return h=(V=h.child).sibling,A=vu(V,{mode:"visible",children:A.children}),!(1&d.mode)&&(A.lanes=v),A.return=d,A.sibling=null,h!==null&&((v=d.deletions)===null?(d.deletions=[h],d.flags|=16):v.push(h)),d.child=A,d.memoizedState=null,A}function jS(h,d){return(d=V_({mode:"visible",children:d},h.mode,0,null)).return=h,h.child=d}function T_(h,d,v,S){return S!==null&&pS(S),rd(d,h.child,null,v),(h=jS(d,d.pendingProps.children)).flags|=2,d.memoizedState=null,h}function tB(h,d,v){h.lanes|=d;var S=h.alternate;S!==null&&(S.lanes|=d),vS(h.return,d,v)}function zS(h,d,v,S,A){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:A}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=S,I.tail=v,I.tailMode=A)}function rB(h,d,v){var S=d.pendingProps,A=S.revealOrder,I=S.tail;if(Kn(h,d,S.children,v),(2&(S=or.current))!=0)S=1&S|2,d.flags|=128;else{if(h!==null&&128&h.flags)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&tB(h,v,d);else if(h.tag===19)tB(h,v,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}S&=1}if(Rt(or,S),(1&d.mode)==0)d.memoizedState=null;else switch(A){case"forwards":for(v=d.child,A=null;v!==null;)(h=v.alternate)!==null&&v_(h)===null&&(A=v),v=v.sibling;(v=A)===null?(A=d.child,d.child=null):(A=v.sibling,v.sibling=null),zS(d,!1,A,v,I);break;case"backwards":for(v=null,A=d.child,d.child=null;A!==null;){if((h=A.alternate)!==null&&v_(h)===null){d.child=A;break}h=A.sibling,A.sibling=v,v=A,A=h}zS(d,!0,v,null,I);break;case"together":zS(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function C_(h,d){!(1&d.mode)&&h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2)}function Ea(h,d,v){if(h!==null&&(d.dependencies=h.dependencies),ec|=d.lanes,(v&d.childLanes)==0)return null;if(h!==null&&d.child!==h.child)throw Error(s(153));if(d.child!==null){for(v=vu(h=d.child,h.pendingProps),d.child=v,v.return=d;h.sibling!==null;)h=h.sibling,(v=v.sibling=vu(h,h.pendingProps)).return=d;v.sibling=null}return d.child}function Io(h){h.flags|=4}function nB(h,d){if(h!==null&&h.child===d.child)return!0;if(16&d.flags)return!1;for(h=d.child;h!==null;){if(12854&h.flags||12854&h.subtreeFlags)return!1;h=h.sibling}return!0}if(Ie)hm=function(h,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)q(h,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},dm=function(){},S_=function(h,d,v,S,A){if((h=h.memoizedProps)!==S){var I=d.stateNode,V=To(Vi.current);v=re(I,v,h,S,A,V),(d.updateQueue=v)&&Io(d)}},A_=function(h,d,v,S){v!==S&&Io(d)};else if(De){hm=function(h,d,v,S){for(var A=d.child;A!==null;){if(A.tag===5){var I=A.stateNode;v&&S&&(I=e_(I,A.type,A.memoizedProps,A)),q(h,I)}else if(A.tag===6)I=A.stateNode,v&&S&&(I=t_(I,A.memoizedProps,A)),q(h,I);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(I=A.child)!==null&&(I.return=A),hm(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var iB=function(h,d,v,S){for(var A=d.child;A!==null;){if(A.tag===5){var I=A.stateNode;v&&S&&(I=e_(I,A.type,A.memoizedProps,A)),Jv(h,I)}else if(A.tag===6)I=A.stateNode,v&&S&&(I=t_(I,A.memoizedProps,A)),Jv(h,I);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(I=A.child)!==null&&(I.return=A),iB(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===d)break;for(;A.sibling===null;){if(A.return===null||A.return===d)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};dm=function(h,d){var v=d.stateNode;if(!nB(h,d)){h=v.containerInfo;var S=Kv(h);iB(S,d,!1,!1),v.pendingChildren=S,Io(d),zx(h,S)}},S_=function(h,d,v,S,A){var I=h.stateNode,V=h.memoizedProps;if((h=nB(h,d))&&V===S)d.stateNode=I;else{var K=d.stateNode,ee=To(Vi.current),se=null;V!==S&&(se=re(K,v,V,S,A,ee)),h&&se===null?d.stateNode=I:(I=jx(I,se,v,V,S,d,h,K),ne(I,v,S,A,ee)&&Io(d),d.stateNode=I,h?Io(d):hm(I,d,!1,!1))}},A_=function(h,d,v,S){v!==S?(h=To(nd.current),v=To(Vi.current),d.stateNode=oe(S,h,v,d),Io(d)):d.stateNode=h.stateNode}}else dm=function(){},S_=function(){},A_=function(){};function fm(h,d){if(!qt)switch(h.tailMode){case"hidden":d=h.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?h.tail=null:v.sibling=null;break;case"collapsed":v=h.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:S.sibling=null}}function Rn(h){var d=h.alternate!==null&&h.alternate.child===h.child,v=0,S=0;if(d)for(var A=h.child;A!==null;)v|=A.lanes|A.childLanes,S|=14680064&A.subtreeFlags,S|=14680064&A.flags,A.return=h,A=A.sibling;else for(A=h.child;A!==null;)v|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=h,A=A.sibling;return h.subtreeFlags|=S,h.childLanes=v,d}function YX(h,d,v){var S=d.pendingProps;switch(hS(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(d),null;case 1:case 17:return mi(d.type)&&tS(),Rn(d),null;case 3:return v=d.stateNode,id(),Ct(Yn),Ct(cn),TS(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),h!==null&&h.child!==null||(c_(d)?Io(d):h===null||h.memoizedState.isDehydrated&&!(256&d.flags)||(d.flags|=1024,Cs!==null&&(iA(Cs),Cs=null))),dm(h,d),Rn(d),null;case 5:SS(d),v=To(nd.current);var A=d.type;if(h!==null&&d.stateNode!=null)S_(h,d,A,S,v),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!S){if(d.stateNode===null)throw Error(s(166));return Rn(d),null}if(h=To(Vi.current),c_(d)){if(!te)throw Error(s(175));h=Yx(d.stateNode,d.type,d.memoizedProps,v,h,d,!nm),d.updateQueue=h,h!==null&&Io(d)}else{var I=z(A,S,v,h,d);hm(I,d,!1,!1),d.stateNode=I,ne(I,A,S,v,h)&&Io(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Rn(d),null;case 6:if(h&&d.stateNode!=null)A_(h,d,h.memoizedProps,S);else{if(typeof S!="string"&&d.stateNode===null)throw Error(s(166));if(h=To(nd.current),v=To(Vi.current),c_(d)){if(!te)throw Error(s(176));if(h=d.stateNode,v=d.memoizedProps,(S=Qx(h,v,d,!nm))&&(A=yi)!==null)switch(A.tag){case 3:Q(A.stateNode.containerInfo,h,v,(1&A.mode)!=0);break;case 5:Y(A.type,A.memoizedProps,A.stateNode,h,v,(1&A.mode)!=0)}S&&Io(d)}else d.stateNode=oe(S,h,v,d)}return Rn(d),null;case 13:if(Ct(or),S=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(qt&&zi!==null&&1&d.mode&&!(128&d.flags))oD(),Jh(),d.flags|=98560,A=!1;else if(A=c_(d),S!==null&&S.dehydrated!==null){if(h===null){if(!A)throw Error(s(318));if(!te)throw Error(s(344));if(!(A=(A=d.memoizedState)!==null?A.dehydrated:null))throw Error(s(317));Kx(A,d)}else Jh(),!(128&d.flags)&&(d.memoizedState=null),d.flags|=4;Rn(d),A=!1}else Cs!==null&&(iA(Cs),Cs=null),A=!0;if(!A)return 65536&d.flags?d:null}return 128&d.flags?(d.lanes=v,d):((v=S!==null)!=(h!==null&&h.memoizedState!==null)&&v&&(d.child.flags|=8192,1&d.mode&&(h===null||1&or.current?Tr===0&&(Tr=3):oA())),d.updateQueue!==null&&(d.flags|=4),Rn(d),null);case 4:return id(),dm(h,d),h===null&&ke(d.stateNode.containerInfo),Rn(d),null;case 10:return gS(d.type._context),Rn(d),null;case 19:if(Ct(or),(A=d.memoizedState)===null)return Rn(d),null;if(S=(128&d.flags)!=0,(I=A.rendering)===null)if(S)fm(A,!1);else{if(Tr!==0||h!==null&&128&h.flags)for(h=d.child;h!==null;){if((I=v_(h))!==null){for(d.flags|=128,fm(A,!1),(h=I.updateQueue)!==null&&(d.updateQueue=h,d.flags|=4),d.subtreeFlags=0,h=v,v=d.child;v!==null;)A=h,(S=v).flags&=14680066,(I=S.alternate)===null?(S.childLanes=0,S.lanes=A,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,A=I.dependencies,S.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),v=v.sibling;return Rt(or,1&or.current|2),d.child}h=h.sibling}A.tail!==null&&Mr()>eA&&(d.flags|=128,S=!0,fm(A,!1),d.lanes=4194304)}else{if(!S)if((h=v_(I))!==null){if(d.flags|=128,S=!0,(h=h.updateQueue)!==null&&(d.updateQueue=h,d.flags|=4),fm(A,!0),A.tail===null&&A.tailMode==="hidden"&&!I.alternate&&!qt)return Rn(d),null}else 2*Mr()-A.renderingStartTime>eA&&v!==1073741824&&(d.flags|=128,S=!0,fm(A,!1),d.lanes=4194304);A.isBackwards?(I.sibling=d.child,d.child=I):((h=A.last)!==null?h.sibling=I:d.child=I,A.last=I)}return A.tail!==null?(d=A.tail,A.rendering=d,A.tail=d.sibling,A.renderingStartTime=Mr(),d.sibling=null,h=or.current,Rt(or,S?1&h|2:1&h),d):(Rn(d),null);case 22:case 23:return sA(),v=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==v&&(d.flags|=8192),v&&1&d.mode?1073741824&gi&&(Rn(d),Ie&&6&d.subtreeFlags&&(d.flags|=8192)):Rn(d),null;case 24:case 25:return null}throw Error(s(156,d.tag))}function QX(h,d){switch(hS(d),d.tag){case 1:return mi(d.type)&&tS(),65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 3:return id(),Ct(Yn),Ct(cn),TS(),65536&(h=d.flags)&&!(128&h)?(d.flags=-65537&h|128,d):null;case 5:return SS(d),null;case 13:if(Ct(or),(h=d.memoizedState)!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(s(340));Jh()}return 65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 19:return Ct(or),null;case 4:return id(),null;case 10:return gS(d.type._context),null;case 22:case 23:return sA(),null;default:return null}}var I_=!1,dn=!1,KX=typeof WeakSet=="function"?WeakSet:Set,Re=null;function od(h,d){var v=h.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){Zt(h,d,S)}else v.current=null}function sB(h,d,v){try{v()}catch(S){Zt(h,d,S)}}var oB=!1;function pm(h,d,v){var S=d.updateQueue;if((S=S!==null?S.lastEffect:null)!==null){var A=S=S.next;do{if((A.tag&h)===h){var I=A.destroy;A.destroy=void 0,I!==void 0&&sB(d,v,I)}A=A.next}while(A!==S)}}function O_(h,d){if((d=(d=d.updateQueue)!==null?d.lastEffect:null)!==null){var v=d=d.next;do{if((v.tag&h)===h){var S=v.create;v.destroy=S()}v=v.next}while(v!==d)}}function HS(h){var d=h.ref;if(d!==null){var v=h.stateNode;h.tag===5?h=k(v):h=v,typeof d=="function"?d(h):d.current=h}}function aB(h){var d=h.alternate;d!==null&&(h.alternate=null,aB(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode)!==null&&Qe(d),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function uB(h){return h.tag===5||h.tag===3||h.tag===4}function lB(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||uB(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.flags||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(2&h.flags))return h.stateNode}}function VS(h,d,v){var S=h.tag;if(S===5||S===6)h=h.stateNode,d?Zh(v,h,d):ql(v,h);else if(S!==4&&(h=h.child)!==null)for(VS(h,d,v),h=h.sibling;h!==null;)VS(h,d,v),h=h.sibling}function GS(h,d,v){var S=h.tag;if(S===5||S===6)h=h.stateNode,d?Zl(v,h,d):bo(v,h);else if(S!==4&&(h=h.child)!==null)for(GS(h,d,v),h=h.sibling;h!==null;)GS(h,d,v),h=h.sibling}var Pn=null,Oo=!1;function Ro(h,d,v){for(v=v.child;v!==null;)WS(h,d,v),v=v.sibling}function WS(h,d,v){if(Eo&&typeof Eo.onCommitFiberUnmount=="function")try{Eo.onCommitFiberUnmount(o_,v)}catch{}switch(v.tag){case 5:dn||od(v,d);case 6:if(Ie){var S=Pn,A=Oo;Pn=null,Ro(h,d,v),Oo=A,(Pn=S)!==null&&(Oo?Dx(Pn,v.stateNode):Mx(Pn,v.stateNode))}else Ro(h,d,v);break;case 18:Ie&&Pn!==null&&(Oo?L(Pn,v.stateNode):T(Pn,v.stateNode));break;case 4:Ie?(S=Pn,A=Oo,Pn=v.stateNode.containerInfo,Oo=!0,Ro(h,d,v),Pn=S,Oo=A):(De&&(S=v.stateNode.containerInfo,A=Kv(S),Jp(S,A)),Ro(h,d,v));break;case 0:case 11:case 14:case 15:if(!dn&&(S=v.updateQueue)!==null&&(S=S.lastEffect)!==null){A=S=S.next;do{var I=A,V=I.destroy;I=I.tag,V!==void 0&&(2&I||4&I)&&sB(v,d,V),A=A.next}while(A!==S)}Ro(h,d,v);break;case 1:if(!dn&&(od(v,d),typeof(S=v.stateNode).componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(K){Zt(v,d,K)}Ro(h,d,v);break;case 21:Ro(h,d,v);break;case 22:1&v.mode?(dn=(S=dn)||v.memoizedState!==null,Ro(h,d,v),dn=S):Ro(h,d,v);break;default:Ro(h,d,v)}}function cB(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var v=h.stateNode;v===null&&(v=h.stateNode=new KX),d.forEach(function(S){var A=sY.bind(null,h,S);v.has(S)||(v.add(S),S.then(A,A))})}}function Os(h,d){var v=d.deletions;if(v!==null)for(var S=0;S<v.length;S++){var A=v[S];try{var I=h,V=d;if(Ie){var K=V;e:for(;K!==null;){switch(K.tag){case 5:Pn=K.stateNode,Oo=!1;break e;case 3:case 4:Pn=K.stateNode.containerInfo,Oo=!0;break e}K=K.return}if(Pn===null)throw Error(s(160));WS(I,V,A),Pn=null,Oo=!1}else WS(I,V,A);var ee=A.alternate;ee!==null&&(ee.return=null),A.return=null}catch(se){Zt(A,d,se)}}if(12854&d.subtreeFlags)for(d=d.child;d!==null;)hB(d,h),d=d.sibling}function hB(h,d){var v=h.alternate,S=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Os(d,h),Po(h),4&S){try{pm(3,h,h.return),O_(3,h)}catch(ue){Zt(h,h.return,ue)}try{pm(5,h,h.return)}catch(ue){Zt(h,h.return,ue)}}break;case 1:Os(d,h),Po(h),512&S&&v!==null&&od(v,v.return);break;case 5:if(Os(d,h),Po(h),512&S&&v!==null&&od(v,v.return),Ie){if(32&h.flags){var A=h.stateNode;try{Qv(A)}catch(ue){Zt(h,h.return,ue)}}if(4&S&&(A=h.stateNode)!=null){var I=h.memoizedProps;if(v=v!==null?v.memoizedProps:I,S=h.type,d=h.updateQueue,h.updateQueue=null,d!==null)try{wo(A,d,S,v,I,h)}catch(ue){Zt(h,h.return,ue)}}}break;case 6:if(Os(d,h),Po(h),4&S&&Ie){if(h.stateNode===null)throw Error(s(162));A=h.stateNode,I=h.memoizedProps,v=v!==null?v.memoizedProps:I;try{Ss(A,v,I)}catch(ue){Zt(h,h.return,ue)}}break;case 3:if(Os(d,h),Po(h),4&S){if(Ie&&te&&v!==null&&v.memoizedState.isDehydrated)try{eS(d.containerInfo)}catch(ue){Zt(h,h.return,ue)}if(De){A=d.containerInfo,I=d.pendingChildren;try{Jp(A,I)}catch(ue){Zt(h,h.return,ue)}}}break;case 4:if(Os(d,h),Po(h),4&S&&De){A=(I=h.stateNode).containerInfo,I=I.pendingChildren;try{Jp(A,I)}catch(ue){Zt(h,h.return,ue)}}break;case 13:Os(d,h),Po(h),8192&(A=h.child).flags&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(JS=Mr())),4&S&&cB(h);break;case 22:var V=v!==null&&v.memoizedState!==null;if(1&h.mode?(dn=(v=dn)||V,Os(d,h),dn=v):Os(d,h),Po(h),8192&S){if(v=h.memoizedState!==null,(h.stateNode.isHidden=v)&&!V&&(1&h.mode)!=0)for(Re=h,S=h.child;S!==null;){for(d=Re=S;Re!==null;){var K=(V=Re).child;switch(V.tag){case 0:case 11:case 14:case 15:pm(4,V,V.return);break;case 1:od(V,V.return);var ee=V.stateNode;if(typeof ee.componentWillUnmount=="function"){var se=V,ce=V.return;try{var Ee=se;ee.props=Ee.memoizedProps,ee.state=Ee.memoizedState,ee.componentWillUnmount()}catch(ue){Zt(se,ce,ue)}}break;case 5:od(V,V.return);break;case 22:if(V.memoizedState!==null){pB(d);continue}}K!==null?(K.return=V,Re=K):pB(d)}S=S.sibling}if(Ie){e:if(S=null,Ie)for(d=h;;){if(d.tag===5){if(S===null){S=d;try{A=d.stateNode,v?Bx(A):$x(d.stateNode,d.memoizedProps)}catch(ue){Zt(h,h.return,ue)}}}else if(d.tag===6){if(S===null)try{I=d.stateNode,v?Lx(I):Ux(I,d.memoizedProps)}catch(ue){Zt(h,h.return,ue)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===h)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;S===d&&(S=null),d=d.return}S===d&&(S=null),d.sibling.return=d.return,d=d.sibling}}}break;case 19:Os(d,h),Po(h),4&S&&cB(h);break;case 21:break;default:Os(d,h),Po(h)}}function Po(h){var d=h.flags;if(2&d){try{if(Ie){e:{for(var v=h.return;v!==null;){if(uB(v)){var S=v;break e}v=v.return}throw Error(s(160))}switch(S.tag){case 5:var A=S.stateNode;32&S.flags&&(Qv(A),S.flags&=-33),GS(h,lB(h),A);break;case 3:case 4:var I=S.stateNode.containerInfo;VS(h,lB(h),I);break;default:throw Error(s(161))}}}catch(V){Zt(h,h.return,V)}h.flags&=-3}4096&d&&(h.flags&=-4097)}function JX(h,d,v){Re=h,dB(h)}function dB(h,d,v){for(var S=(1&h.mode)!=0;Re!==null;){var A=Re,I=A.child;if(A.tag===22&&S){var V=A.memoizedState!==null||I_;if(!V){var K=A.alternate,ee=K!==null&&K.memoizedState!==null||dn;K=I_;var se=dn;if(I_=V,(dn=ee)&&!se)for(Re=A;Re!==null;)ee=(V=Re).child,V.tag===22&&V.memoizedState!==null?mB(A):ee!==null?(ee.return=V,Re=ee):mB(A);for(;I!==null;)Re=I,dB(I),I=I.sibling;Re=A,I_=K,dn=se}fB(h)}else 8772&A.subtreeFlags&&I!==null?(I.return=A,Re=I):fB(h)}}function fB(h){for(;Re!==null;){var d=Re;if(8772&d.flags){var v=d.alternate;try{if(8772&d.flags)switch(d.tag){case 0:case 11:case 15:dn||O_(5,d);break;case 1:var S=d.stateNode;if(4&d.flags&&!dn)if(v===null)S.componentDidMount();else{var A=d.elementType===d.type?v.memoizedProps:Is(d.type,v.memoizedProps);S.componentDidUpdate(A,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var I=d.updateQueue;I!==null&&hD(d,I,S);break;case 3:var V=d.updateQueue;if(V!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=k(d.child.stateNode);break;case 1:v=d.child.stateNode}hD(d,V,v)}break;case 5:var K=d.stateNode;v===null&&4&d.flags&&On(K,d.type,d.memoizedProps,d);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(te&&d.memoizedState===null){var ee=d.alternate;if(ee!==null){var se=ee.memoizedState;if(se!==null){var ce=se.dehydrated;ce!==null&&Z(ce)}}}break;default:throw Error(s(163))}dn||512&d.flags&&HS(d)}catch(Ee){Zt(d,d.return,Ee)}}if(d===h){Re=null;break}if((v=d.sibling)!==null){v.return=d.return,Re=v;break}Re=d.return}}function pB(h){for(;Re!==null;){var d=Re;if(d===h){Re=null;break}var v=d.sibling;if(v!==null){v.return=d.return,Re=v;break}Re=d.return}}function mB(h){for(;Re!==null;){var d=Re;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{O_(4,d)}catch(ee){Zt(d,v,ee)}break;case 1:var S=d.stateNode;if(typeof S.componentDidMount=="function"){var A=d.return;try{S.componentDidMount()}catch(ee){Zt(d,A,ee)}}var I=d.return;try{HS(d)}catch(ee){Zt(d,I,ee)}break;case 5:var V=d.return;try{HS(d)}catch(ee){Zt(d,V,ee)}}}catch(ee){Zt(d,d.return,ee)}if(d===h){Re=null;break}var K=d.sibling;if(K!==null){K.return=d.return,Re=K;break}Re=d.return}}var R_=0,P_=1,k_=2,N_=3,M_=4;if(typeof Symbol=="function"&&Symbol.for){var mm=Symbol.for;R_=mm("selector.component"),P_=mm("selector.has_pseudo_class"),k_=mm("selector.role"),N_=mm("selector.test_id"),M_=mm("selector.text")}function qS(h){var d=de(h);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(s(364));return d}if((h=Tn(h))===null)throw Error(s(362));return h.stateNode.current}function ZS(h,d){switch(d.$$typeof){case R_:if(h.type===d.value)return!0;break;case P_:e:{d=d.value,h=[h,0];for(var v=0;v<h.length;){var S=h[v++],A=h[v++],I=d[A];if(S.tag!==5||!Xr(S)){for(;I!=null&&ZS(S,I);)I=d[++A];if(A===d.length){d=!0;break e}for(S=S.child;S!==null;)h.push(S,A),S=S.sibling}}d=!1}return d;case k_:if(h.tag===5&&In(h.stateNode,d.value))return!0;break;case M_:if((h.tag===5||h.tag===6)&&(h=xs(h))!==null&&0<=h.indexOf(d.value))return!0;break;case N_:if(h.tag===5&&typeof(h=h.memoizedProps["data-testname"])=="string"&&h.toLowerCase()===d.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function XS(h){switch(h.$$typeof){case R_:return"<"+(M(h.value)||"Unknown")+">";case P_:return":has("+(XS(h)||"")+")";case k_:return'[role="'+h.value+'"]';case M_:return'"'+h.value+'"';case N_:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function yB(h,d){var v=[];h=[h,0];for(var S=0;S<h.length;){var A=h[S++],I=h[S++],V=d[I];if(A.tag!==5||!Xr(A)){for(;V!=null&&ZS(A,V);)V=d[++I];if(I===d.length)v.push(A);else for(A=A.child;A!==null;)h.push(A,I),A=A.sibling}}return v}function YS(h,d){if(!Lt)throw Error(s(363));h=yB(h=qS(h),d),d=[],h=Array.from(h);for(var v=0;v<h.length;){var S=h[v++];if(S.tag===5)Xr(S)||d.push(S.stateNode);else for(S=S.child;S!==null;)h.push(S),S=S.sibling}return d}var eY=Math.ceil,D_=o.ReactCurrentDispatcher,QS=o.ReactCurrentOwner,cr=o.ReactCurrentBatchConfig,dt=0,Lr=null,vr=null,Yr=0,gi=0,ad=va(0),Tr=0,ym=null,ec=0,B_=0,KS=0,gm=null,vi=null,JS=0,eA=1/0,fu=null;function ud(){eA=Mr()+500}var gB,L_=!1,tA=null,pu=null,$_=!1,mu=null,U_=0,vm=0,rA=null,F_=-1,j_=0;function fn(){return 6&dt?Mr():F_!==-1?F_:F_=Mr()}function yu(h){return 1&h.mode?2&dt&&Yr!==0?Yr&-Yr:UX.transition!==null?(j_===0&&(j_=QM()),j_):(h=vt)!==0?h:We():1}function Wi(h,d,v,S){if(50<vm)throw vm=0,rA=null,Error(s(185));rm(h,v,S),2&dt&&h===Lr||(h===Lr&&(!(2&dt)&&(B_|=v),Tr===4&&gu(h,Yr)),Jn(h,S),v===1&&dt===0&&!(1&d.mode)&&(ud(),a_&&xo()))}function Jn(h,d){var v=h.callbackNode;(function(A,I){for(var V=A.suspendedLanes,K=A.pingedLanes,ee=A.expirationTimes,se=A.pendingLanes;0<se;){var ce=31-As(se),Ee=1<<ce,ue=ee[ce];ue===-1?Ee&V&&!(Ee&K)||(ee[ce]=MX(Ee,I)):ue<=I&&(A.expiredLanes|=Ee),se&=~Ee}})(h,d);var S=s_(h,h===Lr?Yr:0);if(S===0)v!==null&&JM(v),h.callbackNode=null,h.callbackPriority=0;else if(d=S&-S,h.callbackPriority!==d){if(v!=null&&JM(v),d===1)h.tag===0?function(A){a_=!0,tD(A)}(_B.bind(null,h)):tD(_B.bind(null,h)),ht?Jt(function(){!(6&dt)&&xo()}):aS(uS,xo),v=null;else{switch(KM(S)){case 1:v=uS;break;case 4:v=LX;break;case 16:default:v=eD;break;case 536870912:v=$X}v=CB(v,vB.bind(null,h))}h.callbackPriority=d,h.callbackNode=v}}function vB(h,d){if(F_=-1,j_=0,(6&dt)!=0)throw Error(s(327));var v=h.callbackNode;if(rc()&&h.callbackNode!==v)return null;var S=s_(h,h===Lr?Yr:0);if(S===0)return null;if(30&S||S&h.expiredLanes||d)d=z_(h,S);else{d=S;var A=dt;dt|=2;var I=EB();for(Lr===h&&Yr===d||(fu=null,ud(),tc(h,d));;)try{rY();break}catch(K){wB(h,K)}yS(),D_.current=I,dt=A,vr!==null?d=0:(Lr=null,Yr=0,d=Tr)}if(d!==0){if(d===2&&(A=iS(h))!==0&&(S=A,d=nA(h,A)),d===1)throw v=ym,tc(h,0),gu(h,S),Jn(h,Mr()),v;if(d===6)gu(h,S);else{if(A=h.current.alternate,(30&S)==0&&!function(K){for(var ee=K;;){if(16384&ee.flags){var se=ee.updateQueue;if(se!==null&&(se=se.stores)!==null)for(var ce=0;ce<se.length;ce++){var Ee=se[ce],ue=Ee.getSnapshot;Ee=Ee.value;try{if(!Ts(ue(),Ee))return!1}catch{return!1}}}if(se=ee.child,16384&ee.subtreeFlags&&se!==null)se.return=ee,ee=se;else{if(ee===K)break;for(;ee.sibling===null;){if(ee.return===null||ee.return===K)return!0;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}}return!0}(A)&&((d=z_(h,S))===2&&(I=iS(h))!==0&&(S=I,d=nA(h,I)),d===1))throw v=ym,tc(h,0),gu(h,S),Jn(h,Mr()),v;switch(h.finishedWork=A,h.finishedLanes=S,d){case 0:case 1:throw Error(s(345));case 2:case 5:ld(h,vi,fu);break;case 3:if(gu(h,S),(130023424&S)===S&&10<(d=JS+500-Mr())){if(s_(h,0)!==0)break;if(((A=h.suspendedLanes)&S)!==S){fn(),h.pingedLanes|=h.suspendedLanes&A;break}h.timeoutHandle=ve(ld.bind(null,h,vi,fu),d);break}ld(h,vi,fu);break;case 4:if(gu(h,S),(4194240&S)===S)break;for(d=h.eventTimes,A=-1;0<S;){var V=31-As(S);I=1<<V,(V=d[V])>A&&(A=V),S&=~I}if(S=A,10<(S=(120>(S=Mr()-S)?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*eY(S/1960))-S)){h.timeoutHandle=ve(ld.bind(null,h,vi,fu),S);break}ld(h,vi,fu);break;default:throw Error(s(329))}}}return Jn(h,Mr()),h.callbackNode===v?vB.bind(null,h):null}function nA(h,d){var v=gm;return h.current.memoizedState.isDehydrated&&(tc(h,d).flags|=256),(h=z_(h,d))!==2&&(d=vi,vi=v,d!==null&&iA(d)),h}function iA(h){vi===null?vi=h:vi.push.apply(vi,h)}function gu(h,d){for(d&=~KS,d&=~B_,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var v=31-As(d),S=1<<v;h[v]=-1,d&=~S}}function _B(h){if(6&dt)throw Error(s(327));rc();var d=s_(h,0);if(!(1&d))return Jn(h,Mr()),null;var v=z_(h,d);if(h.tag!==0&&v===2){var S=iS(h);S!==0&&(d=S,v=nA(h,S))}if(v===1)throw v=ym,tc(h,0),gu(h,d),Jn(h,Mr()),v;if(v===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,ld(h,vi,fu),Jn(h,Mr()),null}function bB(h){mu!==null&&mu.tag===0&&!(6&dt)&&rc();var d=dt;dt|=1;var v=cr.transition,S=vt;try{if(cr.transition=null,vt=1,h)return h()}finally{vt=S,cr.transition=v,!(6&(dt=d))&&xo()}}function sA(){gi=ad.current,Ct(ad)}function tc(h,d){h.finishedWork=null,h.finishedLanes=0;var v=h.timeoutHandle;if(v!==_e&&(h.timeoutHandle=_e,Ne(v)),vr!==null)for(v=vr.return;v!==null;){var S=v;switch(hS(S),S.tag){case 1:(S=S.type.childContextTypes)!=null&&tS();break;case 3:id(),Ct(Yn),Ct(cn),TS();break;case 5:SS(S);break;case 4:id();break;case 13:case 19:Ct(or);break;case 10:gS(S.type._context);break;case 22:case 23:sA()}v=v.return}if(Lr=h,vr=h=vu(h.current,null),Yr=gi=d,Tr=0,ym=null,KS=B_=ec=0,vi=gm=null,Kl!==null){for(d=0;d<Kl.length;d++)if((S=(v=Kl[d]).interleaved)!==null){v.interleaved=null;var A=S.next,I=v.pending;if(I!==null){var V=I.next;I.next=A,S.next=V}v.pending=S}Kl=null}return h}function wB(h,d){for(;;){var v=vr;try{if(yS(),__.current=x_,b_){for(var S=er.memoizedState;S!==null;){var A=S.queue;A!==null&&(A.pending=null),S=S.next}b_=!1}if(Jl=0,Br=Dr=er=null,am=!1,um=0,QS.current=null,v===null||v.return===null){Tr=1,ym=d,vr=null;break}e:{var I=h,V=v.return,K=v,ee=d;if(d=Yr,K.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var se=ee,ce=K,Ee=ce.tag;if(!(1&ce.mode)&&(Ee===0||Ee===11||Ee===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ye=VD(V);if(ye!==null){ye.flags&=-257,GD(ye,V,K,0,d),1&ye.mode&&HD(I,se,d),ee=se;var Be=(d=ye).updateQueue;if(Be===null){var nt=new Set;nt.add(ee),d.updateQueue=nt}else Be.add(ee);break e}if(!(1&d)){HD(I,se,d),oA();break e}ee=Error(s(426))}else if(qt&&1&K.mode){var he=VD(V);if(he!==null){!(65536&he.flags)&&(he.flags|=256),GD(he,V,K,0,d),pS(sd(ee,K));break e}}I=ee=sd(ee,K),Tr!==4&&(Tr=2),gm===null?gm=[I]:gm.push(I),I=V;do{switch(I.tag){case 3:I.flags|=65536,d&=-d,I.lanes|=d,cD(I,jD(0,ee,d));break e;case 1:K=ee;var J=I.type,ie=I.stateNode;if(!(128&I.flags)&&(typeof J.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(pu===null||!pu.has(ie)))){I.flags|=65536,d&=-d,I.lanes|=d,cD(I,zD(I,K,d));break e}}I=I.return}while(I!==null)}SB(v)}catch(pe){d=pe,vr===v&&v!==null&&(vr=v=v.return);continue}break}}function EB(){var h=D_.current;return D_.current=x_,h===null?x_:h}function oA(){Tr!==0&&Tr!==3&&Tr!==2||(Tr=4),Lr===null||!(268435455&ec)&&!(268435455&B_)||gu(Lr,Yr)}function z_(h,d){var v=dt;dt|=2;var S=EB();for(Lr===h&&Yr===d||(fu=null,tc(h,d));;)try{tY();break}catch(A){wB(h,A)}if(yS(),dt=v,D_.current=S,vr!==null)throw Error(s(261));return Lr=null,Yr=0,Tr}function tY(){for(;vr!==null;)xB(vr)}function rY(){for(;vr!==null&&!DX();)xB(vr)}function xB(h){var d=gB(h.alternate,h,gi);h.memoizedProps=h.pendingProps,d===null?SB(h):vr=d,QS.current=null}function SB(h){var d=h;do{var v=d.alternate;if(h=d.return,(32768&d.flags)==0){if((v=YX(v,d,gi))!==null)return void(vr=v)}else{if((v=QX(v,d))!==null)return v.flags&=32767,void(vr=v);if(h===null)return Tr=6,void(vr=null);h.flags|=32768,h.subtreeFlags=0,h.deletions=null}if((d=d.sibling)!==null)return void(vr=d);vr=d=h}while(d!==null);Tr===0&&(Tr=5)}function ld(h,d,v){var S=vt,A=cr.transition;try{cr.transition=null,vt=1,function(I,V,K,ee){do rc();while(mu!==null);if(6&dt)throw Error(s(327));K=I.finishedWork;var se=I.finishedLanes;if(K===null)return null;if(I.finishedWork=null,I.finishedLanes=0,K===I.current)throw Error(s(177));I.callbackNode=null,I.callbackPriority=0;var ce=K.lanes|K.childLanes;if(function(ye,Be){var nt=ye.pendingLanes&~Be;ye.pendingLanes=Be,ye.suspendedLanes=0,ye.pingedLanes=0,ye.expiredLanes&=Be,ye.mutableReadLanes&=Be,ye.entangledLanes&=Be,Be=ye.entanglements;var he=ye.eventTimes;for(ye=ye.expirationTimes;0<nt;){var J=31-As(nt),ie=1<<J;Be[J]=0,he[J]=-1,ye[J]=-1,nt&=~ie}}(I,ce),I===Lr&&(vr=Lr=null,Yr=0),!(2064&K.subtreeFlags)&&!(2064&K.flags)||$_||($_=!0,CB(eD,function(){return rc(),null})),ce=(15990&K.flags)!=0,(15990&K.subtreeFlags)!=0||ce){ce=cr.transition,cr.transition=null;var Ee=vt;vt=1;var ue=dt;dt|=4,QS.current=null,function(ye,Be){for(U(ye.containerInfo),Re=Be;Re!==null;)if(Be=(ye=Re).child,(1028&ye.subtreeFlags)!=0&&Be!==null)Be.return=ye,Re=Be;else for(;Re!==null;){ye=Re;try{var nt=ye.alternate;if(1024&ye.flags)switch(ye.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(nt!==null){var he=nt.memoizedProps,J=nt.memoizedState,ie=ye.stateNode,pe=ie.getSnapshotBeforeUpdate(ye.elementType===ye.type?he:Is(ye.type,he),J);ie.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:Ie&&Fx(ye.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ve){Zt(ye,ye.return,Ve)}if((Be=ye.sibling)!==null){Be.return=ye.return,Re=Be;break}Re=ye.return}nt=oB,oB=!1}(I,K),hB(K,I),$(I.containerInfo),I.current=K,JX(K),BX(),dt=ue,vt=Ee,cr.transition=ce}else I.current=K;if($_&&($_=!1,mu=I,U_=se),ce=I.pendingLanes,ce===0&&(pu=null),function(ye){if(Eo&&typeof Eo.onCommitFiberRoot=="function")try{Eo.onCommitFiberRoot(o_,ye,void 0,(128&ye.current.flags)==128)}catch{}}(K.stateNode),Jn(I,Mr()),V!==null)for(ee=I.onRecoverableError,K=0;K<V.length;K++)se=V[K],ee(se.value,{componentStack:se.stack,digest:se.digest});if(L_)throw L_=!1,I=tA,tA=null,I;1&U_&&I.tag!==0&&rc(),ce=I.pendingLanes,1&ce?I===rA?vm++:(vm=0,rA=I):vm=0,xo()}(h,d,v,S)}finally{cr.transition=A,vt=S}return null}function rc(){if(mu!==null){var h=KM(U_),d=cr.transition,v=vt;try{if(cr.transition=null,vt=16>h?16:h,mu===null)var S=!1;else{if(h=mu,mu=null,U_=0,(6&dt)!=0)throw Error(s(331));var A=dt;for(dt|=4,Re=h.current;Re!==null;){var I=Re,V=I.child;if(16&Re.flags){var K=I.deletions;if(K!==null){for(var ee=0;ee<K.length;ee++){var se=K[ee];for(Re=se;Re!==null;){var ce=Re;switch(ce.tag){case 0:case 11:case 15:pm(8,ce,I)}var Ee=ce.child;if(Ee!==null)Ee.return=ce,Re=Ee;else for(;Re!==null;){var ue=(ce=Re).sibling,ye=ce.return;if(aB(ce),ce===se){Re=null;break}if(ue!==null){ue.return=ye,Re=ue;break}Re=ye}}}var Be=I.alternate;if(Be!==null){var nt=Be.child;if(nt!==null){Be.child=null;do{var he=nt.sibling;nt.sibling=null,nt=he}while(nt!==null)}}Re=I}}if(2064&I.subtreeFlags&&V!==null)V.return=I,Re=V;else e:for(;Re!==null;){if(2048&(I=Re).flags)switch(I.tag){case 0:case 11:case 15:pm(9,I,I.return)}var J=I.sibling;if(J!==null){J.return=I.return,Re=J;break e}Re=I.return}}var ie=h.current;for(Re=ie;Re!==null;){var pe=(V=Re).child;if(2064&V.subtreeFlags&&pe!==null)pe.return=V,Re=pe;else e:for(V=ie;Re!==null;){if(2048&(K=Re).flags)try{switch(K.tag){case 0:case 11:case 15:O_(9,K)}}catch(St){Zt(K,K.return,St)}if(K===V){Re=null;break e}var Ve=K.sibling;if(Ve!==null){Ve.return=K.return,Re=Ve;break e}Re=K.return}}if(dt=A,xo(),Eo&&typeof Eo.onPostCommitFiberRoot=="function")try{Eo.onPostCommitFiberRoot(o_,h)}catch{}S=!0}return S}finally{vt=v,cr.transition=d}}return!1}function AB(h,d,v){h=du(h,d=jD(0,d=sd(v,d),1),1),d=fn(),h!==null&&(rm(h,1,d),Jn(h,d))}function Zt(h,d,v){if(h.tag===3)AB(h,h,v);else for(;d!==null;){if(d.tag===3){AB(d,h,v);break}if(d.tag===1){var S=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(pu===null||!pu.has(S))){d=du(d,h=zD(d,h=sd(v,h),1),1),h=fn(),d!==null&&(rm(d,1,h),Jn(d,h));break}}d=d.return}}function nY(h,d,v){var S=h.pingCache;S!==null&&S.delete(d),d=fn(),h.pingedLanes|=h.suspendedLanes&v,Lr===h&&(Yr&v)===v&&(Tr===4||Tr===3&&(130023424&Yr)===Yr&&500>Mr()-JS?tc(h,0):KS|=v),Jn(h,d)}function TB(h,d){d===0&&(1&h.mode?(d=nS,!(130023424&(nS<<=1))&&(nS=4194304)):d=1);var v=fn();(h=Ao(h,d))!==null&&(rm(h,d,v),Jn(h,v))}function iY(h){var d=h.memoizedState,v=0;d!==null&&(v=d.retryLane),TB(h,v)}function sY(h,d){var v=0;switch(h.tag){case 13:var S=h.stateNode,A=h.memoizedState;A!==null&&(v=A.retryLane);break;case 19:S=h.stateNode;break;default:throw Error(s(314))}S!==null&&S.delete(d),TB(h,v)}function CB(h,d){return aS(h,d)}function oY(h,d,v,S){this.tag=h,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qi(h,d,v,S){return new oY(h,d,v,S)}function aA(h){return!(!(h=h.prototype)||!h.isReactComponent)}function vu(h,d){var v=h.alternate;return v===null?((v=qi(h.tag,d,h.key,h.mode)).elementType=h.elementType,v.type=h.type,v.stateNode=h.stateNode,v.alternate=h,h.alternate=v):(v.pendingProps=d,v.type=h.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=14680064&h.flags,v.childLanes=h.childLanes,v.lanes=h.lanes,v.child=h.child,v.memoizedProps=h.memoizedProps,v.memoizedState=h.memoizedState,v.updateQueue=h.updateQueue,d=h.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=h.sibling,v.index=h.index,v.ref=h.ref,v}function H_(h,d,v,S,A,I){var V=2;if(S=h,typeof h=="function")aA(h)&&(V=1);else if(typeof h=="string")V=5;else e:switch(h){case l:return nc(v.children,A,I,d);case c:V=8,A|=8;break;case f:return(h=qi(12,v,d,2|A)).elementType=f,h.lanes=I,h;case g:return(h=qi(13,v,d,A)).elementType=g,h.lanes=I,h;case w:return(h=qi(19,v,d,A)).elementType=w,h.lanes=I,h;case E:return V_(v,A,I,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:V=10;break e;case m:V=9;break e;case y:V=11;break e;case b:V=14;break e;case _:V=16,S=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return(d=qi(V,v,d,A)).elementType=h,d.type=S,d.lanes=I,d}function nc(h,d,v,S){return(h=qi(7,h,S,d)).lanes=v,h}function V_(h,d,v,S){return(h=qi(22,h,S,d)).elementType=E,h.lanes=v,h.stateNode={isHidden:!1},h}function uA(h,d,v){return(h=qi(6,h,null,d)).lanes=v,h}function lA(h,d,v){return(d=qi(4,h.children!==null?h.children:[],h.key,d)).lanes=v,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function aY(h,d,v,S,A){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=_e,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sS(0),this.expirationTimes=sS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sS(0),this.identifierPrefix=S,this.onRecoverableError=A,te&&(this.mutableSourceEagerHydrationData=null)}function IB(h,d,v,S,A,I,V,K,ee){return h=new aY(h,d,v,K,ee),d===1?(d=1,I===!0&&(d|=8)):d=0,I=qi(3,null,null,d),h.current=I,I.stateNode=h,I.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},bS(I),h}function OB(h){if(!h)return cu;e:{if(D(h=h._reactInternals)!==h||h.tag!==1)throw Error(s(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(mi(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(s(171))}if(h.tag===1){var v=h.type;if(mi(v))return XM(h,v,d)}return d}function RB(h){var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return(h=F(d))===null?null:h.stateNode}function PB(h,d){if((h=h.memoizedState)!==null&&h.dehydrated!==null){var v=h.retryLane;h.retryLane=v!==0&&v<d?v:d}}function G_(h,d){PB(h,d),(h=h.alternate)&&PB(h,d)}function uY(h){return(h=F(h))===null?null:h.stateNode}function lY(){return null}return gB=function(h,d,v){if(h!==null)if(h.memoizedProps!==d.pendingProps||Yn.current)Qn=!0;else{if(!(h.lanes&v)&&!(128&d.flags))return Qn=!1,function(Ee,ue,ye){switch(ue.tag){case 3:KD(ue),Jh();break;case 5:_D(ue);break;case 1:mi(ue.type)&&i_(ue);break;case 4:xS(ue,ue.stateNode.containerInfo);break;case 10:aD(0,ue.type._context,ue.memoizedProps.value);break;case 13:var Be=ue.memoizedState;if(Be!==null)return Be.dehydrated!==null?(Rt(or,1&or.current),ue.flags|=128,null):ye&ue.child.childLanes?eB(Ee,ue,ye):(Rt(or,1&or.current),(Ee=Ea(Ee,ue,ye))!==null?Ee.sibling:null);Rt(or,1&or.current);break;case 19:if(Be=(ye&ue.childLanes)!=0,(128&Ee.flags)!=0){if(Be)return rB(Ee,ue,ye);ue.flags|=128}var nt=ue.memoizedState;if(nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),Rt(or,or.current),Be)break;return null;case 22:case 23:return ue.lanes=0,XD(Ee,ue,ye)}return Ea(Ee,ue,ye)}(h,d,v);Qn=(131072&h.flags)!=0}else Qn=!1,qt&&1048576&d.flags&&rD(d,l_,d.index);switch(d.lanes=0,d.tag){case 2:var S=d.type;C_(h,d),h=d.pendingProps;var A=Yh(d,cn.current);td(d,v),A=OS(null,d,S,h,A,v);var I=RS();return d.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,mi(S)?(I=!0,i_(d)):I=!1,d.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,bS(d),A.updater=y_,d.stateNode=A,A._reactInternals=d,ES(d,S,h,v),d=$S(null,d,S,!0,I,v)):(d.tag=0,qt&&I&&cS(d),Kn(null,d,A,v),d=d.child),d;case 16:S=d.elementType;e:{switch(C_(h,d),h=d.pendingProps,S=(A=S._init)(S._payload),d.type=S,A=d.tag=function(Ee){if(typeof Ee=="function")return aA(Ee)?1:0;if(Ee!=null){if((Ee=Ee.$$typeof)===y)return 11;if(Ee===b)return 14}return 2}(S),h=Is(S,h),A){case 0:d=LS(null,d,S,h,v);break e;case 1:d=QD(null,d,S,h,v);break e;case 11:d=WD(null,d,S,h,v);break e;case 14:d=qD(null,d,S,Is(S.type,h),v);break e}throw Error(s(306,S,""))}return d;case 0:return S=d.type,A=d.pendingProps,LS(h,d,S,A=d.elementType===S?A:Is(S,A),v);case 1:return S=d.type,A=d.pendingProps,QD(h,d,S,A=d.elementType===S?A:Is(S,A),v);case 3:e:{if(KD(d),h===null)throw Error(s(387));S=d.pendingProps,A=(I=d.memoizedState).element,lD(h,d),m_(d,S,null,v);var V=d.memoizedState;if(S=V.element,te&&I.isDehydrated){if(I={element:S,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},d.updateQueue.baseState=I,d.memoizedState=I,256&d.flags){d=JD(h,d,S,v,A=sd(Error(s(423)),d));break e}if(S!==A){d=JD(h,d,S,v,A=sd(Error(s(424)),d));break e}for(te&&(zi=Zx(d.stateNode.containerInfo),yi=d,qt=!0,Cs=null,nm=!1),v=vD(d,null,S,v),d.child=v;v;)v.flags=-3&v.flags|4096,v=v.sibling}else{if(Jh(),S===A){d=Ea(h,d,v);break e}Kn(h,d,S,v)}d=d.child}return d;case 5:return _D(d),h===null&&fS(d),S=d.type,A=d.pendingProps,I=h!==null?h.memoizedProps:null,V=A.children,ae(S,A)?V=null:I!==null&&ae(S,I)&&(d.flags|=32),YD(h,d),Kn(h,d,V,v),d.child;case 6:return h===null&&fS(d),null;case 13:return eB(h,d,v);case 4:return xS(d,d.stateNode.containerInfo),S=d.pendingProps,h===null?d.child=rd(d,null,S,v):Kn(h,d,S,v),d.child;case 11:return S=d.type,A=d.pendingProps,WD(h,d,S,A=d.elementType===S?A:Is(S,A),v);case 7:return Kn(h,d,d.pendingProps,v),d.child;case 8:case 12:return Kn(h,d,d.pendingProps.children,v),d.child;case 10:e:{if(S=d.type._context,A=d.pendingProps,I=d.memoizedProps,aD(0,S,V=A.value),I!==null)if(Ts(I.value,V)){if(I.children===A.children&&!Yn.current){d=Ea(h,d,v);break e}}else for((I=d.child)!==null&&(I.return=d);I!==null;){var K=I.dependencies;if(K!==null){V=I.child;for(var ee=K.firstContext;ee!==null;){if(ee.context===S){if(I.tag===1){(ee=wa(-1,v&-v)).tag=2;var se=I.updateQueue;if(se!==null){var ce=(se=se.shared).pending;ce===null?ee.next=ee:(ee.next=ce.next,ce.next=ee),se.pending=ee}}I.lanes|=v,(ee=I.alternate)!==null&&(ee.lanes|=v),vS(I.return,v,d),K.lanes|=v;break}ee=ee.next}}else if(I.tag===10)V=I.type===d.type?null:I.child;else if(I.tag===18){if((V=I.return)===null)throw Error(s(341));V.lanes|=v,(K=V.alternate)!==null&&(K.lanes|=v),vS(V,v,d),V=I.sibling}else V=I.child;if(V!==null)V.return=I;else for(V=I;V!==null;){if(V===d){V=null;break}if((I=V.sibling)!==null){I.return=V.return,V=I;break}V=V.return}I=V}Kn(h,d,A.children,v),d=d.child}return d;case 9:return A=d.type,S=d.pendingProps.children,td(d,v),S=S(A=Hi(A)),d.flags|=1,Kn(h,d,S,v),d.child;case 14:return A=Is(S=d.type,d.pendingProps),qD(h,d,S,A=Is(S.type,A),v);case 15:return ZD(h,d,d.type,d.pendingProps,v);case 17:return S=d.type,A=d.pendingProps,A=d.elementType===S?A:Is(S,A),C_(h,d),d.tag=1,mi(S)?(h=!0,i_(d)):h=!1,td(d,v),pD(d,S,A),ES(d,S,A,v),$S(null,d,S,!0,h,v);case 19:return rB(h,d,v);case 22:return XD(h,d,v)}throw Error(s(156,d.tag))},e.attemptContinuousHydration=function(h){if(h.tag===13){var d=Ao(h,134217728);d!==null&&Wi(d,h,134217728,fn()),G_(h,134217728)}},e.attemptDiscreteHydration=function(h){if(h.tag===13){var d=Ao(h,1);d!==null&&Wi(d,h,1,fn()),G_(h,1)}},e.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var d=yu(h),v=Ao(h,d);v!==null&&Wi(v,h,d,fn()),G_(h,d)}},e.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var v=tm(d.pendingLanes);v!==0&&(oS(d,1|v),Jn(d,Mr()),!(6&dt)&&(ud(),xo()))}break;case 13:bB(function(){var S=Ao(h,1);if(S!==null){var A=fn();Wi(S,h,1,A)}}),G_(h,1)}},e.batchedUpdates=function(h,d){var v=dt;dt|=1;try{return h(d)}finally{(dt=v)===0&&(ud(),a_&&xo())}},e.createComponentSelector=function(h){return{$$typeof:R_,value:h}},e.createContainer=function(h,d,v,S,A,I,V){return IB(h,d,!1,null,0,S,0,I,V)},e.createHasPseudoClassSelector=function(h){return{$$typeof:P_,value:h}},e.createHydrationContainer=function(h,d,v,S,A,I,V,K,ee){return(h=IB(v,S,!0,h,0,I,0,K,ee)).context=OB(null),v=h.current,(I=wa(S=fn(),A=yu(v))).callback=d??null,du(v,I,A),h.current.lanes=A,rm(h,A,S),Jn(h,S),h},e.createPortal=function(h,d,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:h,containerInfo:d,implementation:v}},e.createRoleSelector=function(h){return{$$typeof:k_,value:h}},e.createTestNameSelector=function(h){return{$$typeof:N_,value:h}},e.createTextSelector=function(h){return{$$typeof:M_,value:h}},e.deferredUpdates=function(h){var d=vt,v=cr.transition;try{return cr.transition=null,vt=16,h()}finally{vt=d,cr.transition=v}},e.discreteUpdates=function(h,d,v,S,A){var I=vt,V=cr.transition;try{return cr.transition=null,vt=1,h(d,v,S,A)}finally{vt=I,cr.transition=V,dt===0&&ud()}},e.findAllNodes=YS,e.findBoundingRects=function(h,d){if(!Lt)throw Error(s(363));d=YS(h,d),h=[];for(var v=0;v<d.length;v++)h.push(Cn(d[v]));for(d=h.length-1;0<d;d--)for(var S=(v=h[d]).x,A=S+v.width,I=v.y,V=I+v.height,K=d-1;0<=K;K--)if(d!==K){var ee=h[K],se=ee.x,ce=se+ee.width,Ee=ee.y,ue=Ee+ee.height;if(S>=se&&I>=Ee&&A<=ce&&V<=ue){h.splice(d,1);break}if(!(S!==se||v.width!==ee.width||ue<I||Ee>V)){Ee>I&&(ee.height+=Ee-I,ee.y=I),ue<V&&(ee.height=V-Ee),h.splice(d,1);break}if(!(I!==Ee||v.height!==ee.height||ce<S||se>A)){se>S&&(ee.width+=se-S,ee.x=S),ce<A&&(ee.width=A-se),h.splice(d,1);break}}return h},e.findHostInstance=RB,e.findHostInstanceWithNoPortals=function(h){return(h=(h=G(h))!==null?B(h):null)===null?null:h.stateNode},e.findHostInstanceWithWarning=function(h){return RB(h)},e.flushControlled=function(h){var d=dt;dt|=1;var v=cr.transition,S=vt;try{cr.transition=null,vt=1,h()}finally{vt=S,cr.transition=v,(dt=d)===0&&(ud(),xo())}},e.flushPassiveEffects=rc,e.flushSync=bB,e.focusWithin=function(h,d){if(!Lt)throw Error(s(363));for(d=yB(h=qS(h),d),d=Array.from(d),h=0;h<d.length;){var v=d[h++];if(!Xr(v)){if(v.tag===5&&Wl(v.stateNode))return!0;for(v=v.child;v!==null;)d.push(v),v=v.sibling}}return!1},e.getCurrentUpdatePriority=function(){return vt},e.getFindAllNodesFailureDescription=function(h,d){if(!Lt)throw Error(s(363));var v=0,S=[];h=[qS(h),0];for(var A=0;A<h.length;){var I=h[A++],V=h[A++],K=d[V];if((I.tag!==5||!Xr(I))&&(ZS(I,K)&&(S.push(XS(K)),++V>v&&(v=V)),V<d.length))for(I=I.child;I!==null;)h.push(I,V),I=I.sibling}if(v<d.length){for(h=[];v<d.length;v++)h.push(XS(d[v]));return`findAllNodes was able to match part of the selector:
  `+S.join(" > ")+`

No matching component was found for:
  `+h.join(" > ")}return null},e.getPublicRootInstance=function(h){return(h=h.current).child?h.child.tag===5?k(h.child.stateNode):h.child.stateNode:null},e.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:uY,findFiberByHostInstance:h.findFiberByHostInstance||lY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)h=!0;else{try{o_=d.inject(h),Eo=d}catch{}h=!!d.checkDCE}}return h},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(h,d,v,S){if(!Lt)throw Error(s(363));h=YS(h,d);var A=je(h,v,S).disconnect;return{disconnect:function(){A()}}},e.registerMutableSourceForHydration=function(h,d){var v=d._getVersion;v=v(d._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[d,v]:h.mutableSourceEagerHydrationData.push(d,v)},e.runWithPriority=function(h,d){var v=vt;try{return vt=h,d()}finally{vt=v}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(h,d,v,S){var A=d.current,I=fn(),V=yu(A);return v=OB(v),d.context===null?d.context=v:d.pendingContext=v,(d=wa(I,V)).payload={element:h},(S=S===void 0?null:S)!==null&&(d.callback=S),(h=du(A,d,V))!==null&&(Wi(h,A,V,I),p_(h,A,V)),V},e}),eF}({get exports(){return wO},set exports(t){wO=t}}).exports=M0e();var D0e=a0e(wO),Cq={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},xO={},Q0={get exports(){return xO},set exports(t){xO=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Q0.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Q0.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Q0.exports=function(){return Date.now()-r},r=Date.now()):(Q0.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(o0e);var nF,of={},uc={};({get exports(){return of},set exports(t){of=t}}).exports=(nF||(nF=1,uc.ConcurrentRoot=1,uc.ContinuousEventPriority=4,uc.DefaultEventPriority=16,uc.DiscreteEventPriority=1,uc.IdleEventPriority=536870912,uc.LegacyRoot=0),uc);var B0e={};function _C(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function Iq(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&nu(t.children).forEach(function(s){Iq(s,t)})}function iF(t,e){var r;Iq(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,l=u!==void 0&&u,c=n.destroyBaseTexture,f=c!==void 0&&c;s&&e.destroy({children:a,texture:l,baseTexture:f})}function sF(t,e,r){lr(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var oF=null,Gs=D0e({getRootHostContext:function(){return B0e},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return of.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return of.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return of.ContinuousEventPriority;default:return of.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=R0e[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=Tq[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:da)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return oF=function(o,a,u,l){var c=null;for(var f in u)!l.hasOwnProperty(f)&&u.hasOwnProperty(f)&&u[f]!==null&&(f===_O||(c||(c=[]),c.push(f,null)));for(var p in l){var m=l[p],y=u!==null?u[p]:void 0;!l.hasOwnProperty(p)||m===y||m===null&&y===null||p===_O||(c||(c=[]),c.push(p,m))}return c}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){lr(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:xO,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_C.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_C.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_C.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=iF.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=iF.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:sF,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=sF.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=da),(a(t,n,i)||oF)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),L0e=Cq.dependencies["react-dom"].replace(/[^0-9.]/g,""),$0e=Cq.name;Gs.injectIntoDevTools({bundleType:0,version:L0e,rendererPackageName:$0e,findHostInstanceByFiber:Gs.findHostInstance});var ol=new Map;function Oq(t){if(lr(qn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),ol.has(t)){var e=ol.get(t).pixiFiberContainer;Gs.updateContainer(null,e,void 0,function(){ol.delete(t)})}}function Rq(t){lr(qn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=ol.get(t);if(lr(!e,"Pixi React: createRoot should only be called once"),!e){var r=Gs.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Gs.updateContainer(n,r,void 0),Gs.getPublicRootInstance(r)},unmount:function(){Oq(t),ol.delete(t)}}},ol.set(t,e)}return e.reactRoot}function U0e(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ol.has(e)?n=ol.get(e).reactRoot:n=Rq(e),n.render(t)}function F0e(t){Oq(t)}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$g.apply(this,arguments)}function j0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xq(n.key),n)}}function Ca(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},gw(t,e)}function H0e(t,e){if(e&&(ki(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ca(t)}function vw(t){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vw(t)}var gx=Ws.createContext(null),Pq=gx.Provider,kq=gx.Consumer,V0e=function(t){var e=Ws.forwardRef(function(r,n){return Ws.createElement(kq,null,function(i){return Ws.createElement(t,$g({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function G0e(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=vw(t);if(e){var i=vw(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return H0e(this,r)}}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uF=function(){},Nq={width:Ut.number,height:Ut.number,onMount:Ut.func,onUnmount:Ut.func,raf:Ut.bool,renderOnComponentChange:Ut.bool,children:Ut.node,options:Ut.shape({autoStart:Ut.bool,width:Ut.number,height:Ut.number,useContextAlpha:Ut.bool,backgroundAlpha:Ut.number,autoDensity:Ut.bool,antialias:Ut.bool,preserveDrawingBuffer:Ut.bool,resolution:Ut.number,forceCanvas:Ut.bool,backgroundColor:Ut.number,clearBeforeRender:Ut.bool,powerPreference:Ut.string,sharedTicker:Ut.bool,sharedLoader:Ut.bool,resizeTo:function(t,e){var r=t[e];r&&lr(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ki(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&lr(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ki(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},W0e={width:800,height:600,onMount:uF,onUnmount:uF,raf:!0,renderOnComponentChange:!0},SO=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&gw(s,o)})(i,Ws.Component);var e,r,n=G0e(i);function i(){var s;j0e(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return fr(Ca(s=n.call.apply(n,[this].concat(a))),"_canvas",null),fr(Ca(s),"_mediaQuery",null),fr(Ca(s),"_ticker",null),fr(Ca(s),"_needsUpdate",!0),fr(Ca(s),"app",null),fr(Ca(s),"updateSize",function(){var l=s.props,c=l.width,f=l.height,p=l.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(c,f)}),fr(Ca(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),fr(Ca(s),"renderStage",function(){var l=s.props,c=l.renderOnComponentChange;!l.raf&&c&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,l=s.options,c=s.raf,f=s.renderOnComponentChange;this.app=new yx(K0(K0({width:a,height:u,view:this._canvas},l),{},{autoDensity:(l==null?void 0:l.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[c?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Gs.createContainer(this.app.stage),Gs.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),l!=null&&l.autoDensity&&window.matchMedia&&(l==null?void 0:l.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!c&&(this._ticker=new qr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,l=this.props,c=l.width,f=l.height,p=l.raf,m=l.renderOnComponentChange,y=l.options;(y==null?void 0:y.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(y==null?void 0:y.resolution)&&(this.app.renderer.resolution=y.resolution,this.resetInteractionManager()),s.height===f&&s.width===c&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(y==null?void 0:y.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),Gs.updateContainer(this.getChildren(),this.mountNode,this),s.width===c&&s.height===f&&s.raf===p&&s.renderOnComponentChange===m&&s.options===y||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Ws.createElement(Pq,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Gs.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(lr(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Ws.createElement("canvas",$g({},(s=this.props,o=[].concat(nu(Object.keys(Nq)),nu(Object.keys(bO))),Object.keys(s).filter(function(l){return!o.includes(l)}).reduce(function(l,c){return K0(K0({},l),{},fr({},c,s[c]))},{})),{ref:function(l){return a._canvas=l}}))}}])&&z0e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();SO.propTypes=Nq,SO.defaultProps=W0e;var q0e=SO;function Mq(){var t=we.useContext(gx);return lr(t instanceof yx,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function Z0e(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=Mq();lr(typeof t=="function","`useTick` needs a callback function."),lr(r instanceof yx,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=we.useRef(null);we.useEffect(function(){n.current=t},[t]),we.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function X0e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AO(t,e,r){return AO=X0e()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&gw(a,s.prototype),a},AO.apply(null,arguments)}var Y0e=["children","apply"];function lF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Q0e=function(t,e){lr(ki(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Vl(i,Y0e),u=we.useRef(we.useMemo(function(){return r.map(function(f){var p,m=(a==null||(p=a[f])===null||p===void 0?void 0:p.construct)||[];return AO(e[f],nu(m))})},[r])),l=we.useMemo(function(){return r.reduce(function(f,p,m){return J0(J0({},f),{},fr({},p,u.current[m]))},{})},[r]),c=we.useMemo(function(){return Object.keys(a).filter(Aq(Sq(r))).reduce(function(f,p){return J0(J0({},f),{},fr({},p,a[p]))},{})},[a,r]);return r.forEach(function(f,p){return Object.assign(u.current[p],a[f])}),o&&function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return p.every(function(y){return typeof y=="function"})}(o)&&o.call(t,l),Ws.createElement(t,$g({},c,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ut.node,apply:Ut.func},n},K0e=pi.BitmapText,J0e=pi.Container,ebe=pi.Graphics,tbe=pi.NineSlicePlane,rbe=pi.ParticleContainer,nbe=pi.Sprite,ibe=pi.AnimatedSprite,sbe=pi.Text,obe=pi.TilingSprite,abe=pi.SimpleMesh,ube=pi.SimpleRope;const lbe=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:ibe,AppConsumer:kq,AppContext:gx,AppProvider:Pq,BitmapText:K0e,Container:J0e,Graphics:ebe,NineSlicePlane:tbe,ParticleContainer:rbe,PixiComponent:P0e,PixiFiber:Gs,SimpleMesh:abe,SimpleRope:ube,Sprite:nbe,Stage:q0e,TYPES:pi,Text:sbe,TilingSprite:obe,applyDefaultProps:da,createRoot:Rq,eventHandlers:yw,render:U0e,unmountComponentAtNode:F0e,useApp:Mq,useTick:Z0e,withFilters:Q0e,withPixiApp:V0e},Symbol.toStringTag,{value:"Module"})),cbe=fa(lbe);nx.exports=cbe;var La=nx.exports;const Dq=new Gt;Kt.prototype._cacheAsBitmap=!1;Kt.prototype._cacheData=null;Kt.prototype._cacheAsBitmapResolution=null;Kt.prototype._cacheAsBitmapMultisample=null;class hbe{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Kt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new hbe),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Kt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Kt.prototype._initCachedDisplayObject=function(t){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new et,!0);if((m=this.filters)!=null&&m.length){const y=this.filters[0].padding;r.pad(y)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,u=Hh.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),l=`cacheAsBitmap_${_h()}`;this._cacheData.textureCacheId=l,Je.addToCache(u.baseTexture,l),be.addToCache(u,l);const c=this.transform.localTransform.copyTo(Dq).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new ga(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Kt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Kt.prototype._initCachedDisplayObjectCanvas=function(t){var c;if((c=this._cacheData)!=null&&c.sprite)return;const e=this.getLocalBounds(new et,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=Hh.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${_h()}`;this._cacheData.textureCacheId=a,Je.addToCache(o.baseTexture,a),be.addToCache(o,a);const u=Dq;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const l=new ga(o);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(e.x/e.width),l.anchor.y=-(e.y/e.height),l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)};Kt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Kt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Kt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Je.removeFromCache(this._cacheData.textureCacheId),be.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Kt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Kt.prototype.name=null;qn.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};Kt.prototype.getGlobalPosition=function(t=new ut,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var dbe=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class fbe extends jn{constructor(e=1){super(Ove,dbe,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const pbe={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},mbe=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function ybe(t){const e=pbe[t],r=e.length;let n=mbe,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const gbe=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function vbe(t,e){const r=Math.ceil(t/2);let n=gbe,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class TO extends jn{constructor(e,r=8,n=4,i=jn.defaultResolution,s=5){const o=vbe(s,e),a=ybe(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,u=s;this.state.blend=!1,e.applyFilter(this,a,u,Vo.CLEAR);for(let l=1;l<this.passes-1;l++){e.bindAndClear(a,Vo.BLIT),this.uniforms.uSampler=u;const c=u;u=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class _be extends jn{constructor(e=8,r=4,n=jn.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new TO(!0,e,r,n,i),this.blurYFilter=new TO(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Vo.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var bbe=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class CO extends jn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(JW,bbe,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Mt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,l=o*(1-n)-a*i,c=o*(1-n)+a*i,f=o*(1-n)+a*i,p=n+o*(1-n),m=o*(1-n)-a*i,y=o*(1-n)-a*i,g=o*(1-n)+a*i,w=n+o*(1-n),b=[u,l,c,0,0,f,p,m,0,0,y,g,w,0,0,0,0,0,1,0];this._loadMatrix(b,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Mt.shared,[a,u,l]=o.setValue(n).toArray(),[c,f,p]=o.setValue(i).toArray(),m=[.3,.59,.11,0,0,a,u,l,e,0,c,f,p,r,0,a-c,u-f,l-p,0,0];this._loadMatrix(m,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}CO.prototype.grayscale=CO.prototype.greyscale;var wbe=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Ebe=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class xbe extends jn{constructor(e,r){const n=new Gt;e.renderable=!1,super(Ebe,wbe,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new ut(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var Sbe=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Abe=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class Tbe extends jn{constructor(){super(Abe,Sbe)}}var Cbe=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class Ibe extends jn{constructor(e=.5,r=Math.random()){super(JW,Cbe,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const cF={AlphaFilter:fbe,BlurFilter:_be,BlurFilterPass:TO,ColorMatrixFilter:CO,DisplacementFilter:xbe,FXAAFilter:Tbe,NoiseFilter:Ibe};Object.entries(cF).forEach(([t,e])=>{Object.defineProperty(cF,t,{get(){return st("7.1.0",`filters.${t} has moved to ${t}`),e}})});class Obe{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(qr.system.add(this.tickerUpdate,this,Tl.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(qr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Bu=new Obe;class jv{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=jv.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ut,this.page=new ut,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class _w extends jv{constructor(){super(...arguments),this.client=new ut,this.movement=new ut,this.offset=new ut,this.global=new ut,this.screen=new ut}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,u,l,c,f,p,m,y,g){throw new Error("Method not implemented.")}}class Ds extends _w{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class If extends _w{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}If.DOM_DELTA_PIXEL=0,If.DOM_DELTA_LINE=1,If.DOM_DELTA_PAGE=2;const Rbe=2048,Pbe=new ut,bC=new ut;class kbe{constructor(e){this.dispatch=new $v,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Bu.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,Pbe.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<Rbe&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Bu.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let f=c.length-1;f>=0;f--){const p=c[f],m=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(e,n));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const y=e.isInteractive();(m.length>0||y)&&(y&&this._allInteractiveElements.push(e),m.push(e)),this._hitElements.length===0&&(this._hitElements=m),a=!0}}}const u=this._isInteractive(r),l=e.isInteractive();return u&&l&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?l?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Bu.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let l=u.length-1;l>=0;l--){const c=u[l],f=this.hitTestRecursive(c,this._isInteractive(r)?r:c.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();return(f.length>0||p)&&f.push(e),f}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,bC),!e.hitArea.contains(bC.x,bC.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Ds)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var u,l;if(!(e instanceof Ds)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,c,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,c);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const m=this.clonePointerEvent(r,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Ds)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Ds)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ds)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[e.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const l=a.button===2;this.dispatchEvent(a,l?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Ds)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof If)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Ds);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(If);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Ds);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Ds&&r instanceof Ds&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof _w&&r instanceof _w&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const Nbe=1,Mbe={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},IO=class OO{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new kbe(null),Bu.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ds(null),this.rootWheelEvent=new If(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...OO.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,OO._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Bu.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Bu.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Bu.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Bu.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=Nbe),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Mbe[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};IO.extension={name:"events",type:[xe.RendererSystem,xe.CanvasRendererSystem]},IO.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let RO=IO;Le.add(RO);function hF(t){return t==="dynamic"||t==="static"}const Dbe={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??hF(RO.defaultEventMode)},set interactive(t){st("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??RO.defaultEventMode},set eventMode(t){this._internalInteractive=hF(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof jv))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Kt.mixin(Dbe);const Bbe={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Kt.mixin(Bbe);const Lbe=9,eb=100,$be=0,Ube=0,dF=2,fF=1,Fbe=-1e3,jbe=-1e3,zbe=2;class Bq{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(za.tablet||za.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${eb}px`,r.style.height=`${eb}px`,r.style.position="absolute",r.style.top=`${$be}px`,r.style.left=`${Ube}px`,r.style.zIndex=dF.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${fF}px`,e.style.height=`${fF}px`,e.style.position="absolute",e.style.top=`${Fbe}px`,e.style.left=`${jbe}px`,e.style.zIndex=zbe.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(za.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,l=i/o*u,c=s/a*u;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,Tf(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let y=m.hitArea;const g=m.worldTransform;m.hitArea?(f.style.left=`${(g.tx+y.x*g.a)*l}px`,f.style.top=`${(g.ty+y.y*g.d)*c}px`,f.style.width=`${y.width*g.a*l}px`,f.style.height=`${y.height*g.d*c}px`):(y=m.getBounds(),this.capHitArea(y),f.style.left=`${y.x*l}px`,f.style.top=`${y.y*c}px`,f.style.width=`${y.width*l}px`,f.style.height=`${y.height*c}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${eb}px`,r.style.height=`${eb}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=dF.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new jv(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Lbe&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Bq.extension={name:"accessibility",type:[xe.RendererPlugin,xe.CanvasRendererPlugin]};Le.add(Bq);var wi=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(wi||{});const bw={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ia,Bd;function pF(){Bd={s3tc:Ia.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ia.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ia.getExtension("WEBGL_compressed_texture_etc"),etc1:Ia.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ia.getExtension("WEBGL_compressed_texture_pvrtc")||Ia.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ia.getExtension("WEBGL_compressed_texture_atc"),astc:Ia.getExtension("WEBGL_compressed_texture_astc")}}const Hbe={extension:{type:xe.DetectionParser,priority:2},test:async()=>{const t=Ce.ADAPTER.createCanvas().getContext("webgl");return t?(Ia=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Bd||pF();const e=[];for(const r in Bd)Bd[r]&&e.push(r);return[...e,...t]},remove:async t=>(Bd||pF(),t.filter(e=>!(e in Bd)))};Le.add(Hbe);class Vbe extends ox{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Y2(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Y2(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Zc extends Vbe{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Zc._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Zc._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:u,levelHeight:l,levelBuffer:c}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,u,l,0,c)}return!0}onBlobLoaded(){this._levelBuffers=Zc._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const u=new Array(n);let l=e.byteOffset,c=o,f=a,p=c+i-1&~(i-1),m=f+s-1&~(s-1),y=p*m*bw[r];for(let g=0;g<n;g++)u[g]={levelID:g,levelWidth:n>1?c:p,levelHeight:n>1?f:m,levelBuffer:new Uint8Array(e.buffer,l,y)},l+=y,c=c>>1||1,f=f>>1||1,p=c+i-1&~(i-1),m=f+s-1&~(s-1),y=p*m*bw[r];return u}}const wC=4,tb=124,Gbe=32,mF=20,Wbe=542327876,rb={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},qbe={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},nb={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Zbe=1,Xbe=2,Ybe=4,Qbe=64,Kbe=512,Jbe=131072,e1e=827611204,t1e=861165636,r1e=894720068,n1e=808540228,i1e=4,s1e={[e1e]:wi.COMPRESSED_RGBA_S3TC_DXT1_EXT,[t1e]:wi.COMPRESSED_RGBA_S3TC_DXT3_EXT,[r1e]:wi.COMPRESSED_RGBA_S3TC_DXT5_EXT},o1e={70:wi.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:wi.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:wi.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:wi.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:wi.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:wi.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:wi.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:wi.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:wi.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function a1e(t){const e=new Uint32Array(t);if(e[0]!==Wbe)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,tb/Uint32Array.BYTES_PER_ELEMENT),n=r[rb.HEIGHT],i=r[rb.WIDTH],s=r[rb.MIPMAP_COUNT],o=new Uint32Array(t,rb.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Gbe/Uint32Array.BYTES_PER_ELEMENT),a=o[Zbe];if(a&Ybe){const u=o[qbe.FOURCC];if(u!==n1e){const _=s1e[u],E=wC+tb,x=new Uint8Array(t,E);return[new Zc(x,{format:_,width:i,height:n,levels:s})]}const l=wC+tb,c=new Uint32Array(e.buffer,l,mF/Uint32Array.BYTES_PER_ELEMENT),f=c[nb.DXGI_FORMAT],p=c[nb.RESOURCE_DIMENSION],m=c[nb.MISC_FLAG],y=c[nb.ARRAY_SIZE],g=o1e[f];if(g===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(m===i1e)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const w=new Array,b=wC+tb+mF;if(y===1)w.push(new Uint8Array(t,b));else{const _=bw[g];let E=0,x=i,N=n;for(let R=0;R<s;R++){const D=Math.max(1,x+3&-4),W=Math.max(1,N+3&-4),G=D*W*_;E+=G,x=x>>>1,N=N>>>1}let M=b;for(let R=0;R<y;R++)w.push(new Uint8Array(t,M,E)),M+=E}return w.map(_=>new Zc(_,{format:g,width:i,height:n,levels:s}))}throw a&Qbe?new Error("DDSParser does not support uncompressed texture data."):a&Kbe?new Error("DDSParser does not supported YUV uncompressed texture data."):a&Jbe?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&Xbe?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const yF=[171,75,84,88,32,49,49,187,13,10,26,10],u1e=67305985,ks={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},PO=64,gF={[ze.UNSIGNED_BYTE]:1,[ze.UNSIGNED_SHORT]:2,[ze.INT]:4,[ze.UNSIGNED_INT]:4,[ze.FLOAT]:4,[ze.HALF_FLOAT]:8},l1e={[ge.RGBA]:4,[ge.RGB]:3,[ge.RG]:2,[ge.RED]:1,[ge.LUMINANCE]:1,[ge.LUMINANCE_ALPHA]:2,[ge.ALPHA]:1},c1e={[ze.UNSIGNED_SHORT_4_4_4_4]:2,[ze.UNSIGNED_SHORT_5_5_5_1]:2,[ze.UNSIGNED_SHORT_5_6_5]:2};function h1e(t,e,r=!1){const n=new DataView(e);if(!d1e(t,n))return null;const i=n.getUint32(ks.ENDIANNESS,!0)===u1e,s=n.getUint32(ks.GL_TYPE,i),o=n.getUint32(ks.GL_FORMAT,i),a=n.getUint32(ks.GL_INTERNAL_FORMAT,i),u=n.getUint32(ks.PIXEL_WIDTH,i),l=n.getUint32(ks.PIXEL_HEIGHT,i)||1,c=n.getUint32(ks.PIXEL_DEPTH,i)||1,f=n.getUint32(ks.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(ks.NUMBER_OF_FACES,i),m=n.getUint32(ks.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(ks.BYTES_OF_KEY_VALUE_DATA,i);if(l===0||c!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const g=4,w=4,b=u+3&-4,_=l+3&-4,E=new Array(f);let x=u*l;s===0&&(x=b*_);let N;if(s!==0?gF[s]?N=gF[s]*l1e[o]:N=c1e[s]:N=bw[a],N===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const M=r?p1e(n,y,i):null;let R=x*N,D=u,W=l,G=b,F=_,X=PO+y;for(let B=0;B<m;B++){const j=n.getUint32(X,i);let C=X+4;for(let k=0;k<f;k++){let O=E[k];O||(O=E[k]=new Array(m)),O[B]={levelID:B,levelWidth:m>1||s!==0?D:G,levelHeight:m>1||s!==0?W:F,levelBuffer:new Uint8Array(e,C,R)},C+=R}X+=j+4,X=X%4!==0?X+4-X%4:X,D=D>>1||1,W=W>>1||1,G=D+g-1&~(g-1),F=W+w-1&~(w-1),R=G*F*N}return s!==0?{uncompressed:E.map(B=>{let j=B[0].levelBuffer,C=!1;return s===ze.FLOAT?j=new Float32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4):s===ze.UNSIGNED_INT?(C=!0,j=new Uint32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)):s===ze.INT&&(C=!0,j=new Int32Array(B[0].levelBuffer.buffer,B[0].levelBuffer.byteOffset,B[0].levelBuffer.byteLength/4)),{resource:new ox(j,{width:B[0].levelWidth,height:B[0].levelHeight}),type:s,format:C?f1e(o):o}}),kvData:M}:{compressed:E.map(B=>new Zc(null,{format:a,width:u,height:l,levels:m,levelBuffers:B})),kvData:M}}function d1e(t,e){for(let r=0;r<yF.length;r++)if(e.getUint8(r)!==yF[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function f1e(t){switch(t){case ge.RGBA:return ge.RGBA_INTEGER;case ge.RGB:return ge.RGB_INTEGER;case ge.RG:return ge.RG_INTEGER;case ge.RED:return ge.RED_INTEGER;default:return t}}function p1e(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(PO+i,r),o=PO+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const l=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),c=new DataView(t.buffer,o+u+1,s-u-1);n.set(l,c),i+=4+s+a}return n}const m1e={extension:{type:xe.LoadParser,priority:vo.High},name:"loadDDS",test(t){return Hl(t,".dds")},async load(t,e,r){const n=await(await Ce.ADAPTER.fetch(t)).arrayBuffer(),i=a1e(n).map(s=>{const o=new Je(s,{mipmap:ca.OFF,alphaMode:li.NO_PREMULTIPLIED_ALPHA,resolution:tu(t),...e.data});return Fv(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Le.add(m1e);const y1e={extension:{type:xe.LoadParser,priority:vo.High},name:"loadKTX",test(t){return Hl(t,".ktx")},async load(t,e,r){const n=await(await Ce.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=h1e(t,n),a=i??s,u={mipmap:ca.OFF,alphaMode:li.NO_PREMULTIPLIED_ALPHA,resolution:tu(t),...e.data},l=a.map(c=>{a===s&&Object.assign(u,{type:c.type,format:c.format});const f=c.resource??c,p=new Je(f,u);return p.ktxKeyValueData=o,Fv(p,r,t)});return l.length===1?l[0]:l},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Le.add(y1e);const g1e={extension:xe.ResolveParser,test:t=>{const e=Pr.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=Pr.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=Ce.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=Ce.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};Le.add(g1e);const ib=new et,v1e=4,Lq=class uy{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(u=>{if(!u){a(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>o(l.result),l.onerror=a,l.readAsDataURL(u)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,u)=>{const l=new FileReader;l.onload=()=>a(l.result),l.onerror=u,l.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&uy._flipY(n,i,s),a&&uy._unpremultiplyAlpha(n);const u=new pge(i,s,1),l=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return u.context.putImageData(l,0,0),u.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&uy._flipY(n,i,s),a&&uy._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,u=!1;e&&(e instanceof Hh?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),u=!0,r&&(ib.width=r.width,ib.height=r.height,r=ib)));const l=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ge.RGBA,!u){n.renderTexture.bind(a);const m=a.framebuffer.glFramebuffers[n.CONTEXT_UID];m.blitFramebuffer&&n.framebuffer.bind(m.blitFramebuffer)}}else i=n.resolution,r||(r=ib,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const c=Math.max(Math.round(r.width*i),1),f=Math.max(Math.round(r.height*i),1),p=new Uint8Array(v1e*c*f);return l.readPixels(Math.round(r.x*i),Math.round(r.y*i),c,f,l.RGBA,l.UNSIGNED_BYTE,p),u&&(a==null||a.destroy(!0)),{pixels:p,width:c,height:f,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const u=a*i,l=(n-a-1)*i;o.set(e.subarray(u,u+i)),e.copyWithin(u,l,l+i),e.set(o,l)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};Lq.extension={name:"extract",type:xe.RendererSystem};let _1e=Lq;Le.add(_1e);class b1e{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function w1e(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof be){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function E1e(t,e){if(t.baseTexture instanceof Je){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function x1e(t,e){if(t._texture&&t._texture instanceof be){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function S1e(t,e){return e instanceof _M?(e.updateText(!0),!0):!1}function A1e(t,e){if(e instanceof ru){const r=e.toFontString();return ku.measureFont(r),!0}return!1}function T1e(t,e){if(t instanceof _M){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function C1e(t,e){return t instanceof ru?(e.includes(t)||e.push(t),!0):!1}const $q=class Uq{constructor(e){this.limiter=new b1e(Uq.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(T1e),this.registerFindHook(C1e),this.registerFindHook(w1e),this.registerFindHook(E1e),this.registerFindHook(x1e),this.registerUploadHook(S1e),this.registerUploadHook(A1e)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,qr.system.addOnce(this.tick,this,Tl.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)qr.system.addOnce(this.tick,this,Tl.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof qn)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&qr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};$q.uploadsPerFrame=4;let kO=$q;Object.defineProperties(Ce,{UPLOADS_PER_FRAME:{get(){return kO.uploadsPerFrame},set(t){st("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),kO.uploadsPerFrame=t}}});function Fq(t,e){return e instanceof Je?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function I1e(t,e){if(!(e instanceof ky))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&Fq(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function O1e(t,e){return t instanceof ky?(e.push(t),!0):!1}class jq extends kO{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(O1e),this.registerUploadHook(Fq),this.registerUploadHook(I1e)}}jq.extension={name:"prepare",type:xe.RendererSystem};Le.add(jq);const zq=class ly{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof be?e:null,this.baseTexture=e instanceof Je?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=tu(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=ly.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=ly.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,u=null;const l=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new et(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s.rotated?a=new et(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new et(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new et(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new be(this.baseTexture,a,c,u,s.rotated?2:0,s.anchor,s.borders),be.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ly.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ly.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};zq.BATCH_SIZE=1e3;let vF=zq;const R1e=["jpg","png","jpeg","avif","webp"];function Hq(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Pr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=Hq([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const P1e={extension:xe.Asset,cache:{test:t=>t instanceof vF,getCacheableAssets:(t,e)=>Hq(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&R1e.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=Ce.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:xe.LoadParser,priority:vo.Normal},async testParse(t,e){return Pr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,l;let n=Pr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=yO(i,e.src);const s=(await r.load([i]))[i],o=new vF(s.baseTexture,t,e.src);await o.parse();const a=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(a)){const c=[];for(const p of a){if(typeof p!="string")continue;let m=n+p;(l=e.data)!=null&&l.ignoreMultiPack||(m=yO(m,e.src),c.push(r.load({src:m,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(c);o.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[o].concat(o.linkedSheets.filter(m=>m!==p))})}return o},unload(t){t.destroy(!0)}}};Le.add(P1e);const NO=class Ld extends ru{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Ld(Object.keys(Ld.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Ld.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Ld;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return Ce.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),u=new FileReader;u.onload=()=>s([a,u.result]),u.onerror=o,u.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Pr.basename(e,Pr.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=cge(e)),typeof e=="number"?lge(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Ld.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=Ce.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};NO.availableFonts={},NO.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let EC=NO;const sb=class $d extends ga{constructor(e="",r={}){super(be.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=be.from(n,{scaleMode:Ce.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new et,i.trim=new et,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),u=document.createElementNS(s,"foreignObject"),l=document.createElementNS(o,"div"),c=document.createElementNS(o,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",a.appendChild(u),this.maxWidth=$d.defaultMaxWidth,this.maxHeight=$d.defaultMaxHeight,this._domElement=l,this._styleElement=c,this._svgRoot=a,this._foreignObject=u,this._foreignObject.appendChild(c),this._foreignObject.appendChild(l),this._image=n,this._loadImage=new Image,this._autoResolution=$d.defaultAutoResolution,this._resolution=$d.defaultResolution??Ce.RESOLUTION,this.text=e,this.style=r}measureText(e){var c,f;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(o)),l=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",l.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(c=this._style)==null?void 0:c.toCSS(i)}),this._styleElement.textContent=(f=this._style)==null?void 0:f.toGlobalCSS()),{width:u+n.padding*2,height:l+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(u=>{i.onload=async()=>{if(a<this._updateID){u();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),u()};const l=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},$d.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Gu(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Gu(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof EC?(this.ownsStyle=!1,this._style=e):e instanceof ru?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=EC.from(e)):(this.ownsStyle=!0,this._style=new EC(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};sb.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},sb.defaultMaxWidth=2024,sb.defaultMaxHeight=2024,sb.defaultAutoResolution=!0;const _F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAQoAMABAAAAAEAAAAQAAAAACaIX+wAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+Chle4QcAAADBSURBVDgRpZIxDsIwEARN3hBRUNDR0vEBXsLTeEk+QEdLR5GCRwAaS3s6jsOJyEqWfbe361WcUhZi5fVD37+o792+nB7DLK6TgcSqz+tjNaP23PZ5LZ6rt/gBGZBCQOQhjpSWgIHNYVcXZ4m008tgBogjpsTMm0EU/6oVX7wZjJdb7WnXwNRuT5V9yCj2t+uZLUEcnltbAgStFNntaD4MMhMvhFd0zuDLgKb/06iFKKafGkBEk0zMXBOYRKOm4B/yDe59Q/jk/UciAAAAAElFTkSuQmCC",bF="/assets/skull-67b63016.png";function wt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var k1e={};function Vq(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:k1e}var Gq=Object.assign,ww=Object.getOwnPropertyDescriptor,oa=Object.defineProperty,vx=Object.prototype,MO=[];Object.freeze(MO);var Wq={};Object.freeze(Wq);var N1e=typeof Proxy<"u",M1e=Object.toString();function qq(){N1e||wt("Proxy not available")}function Zq(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var af=function(){};function so(t){return typeof t=="function"}function bh(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function _x(t){return t!==null&&typeof t=="object"}function Cl(t){if(!_x(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===M1e}function Xq(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function AM(t,e,r){oa(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function Yq(t,e,r){oa(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function Vh(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return _x(n)&&n[r]===!0}}function Zp(t){return t instanceof Map}function zv(t){return t instanceof Set}var Qq=typeof Object.getOwnPropertySymbols<"u";function D1e(t){var e=Object.keys(t);if(!Qq)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return vx.propertyIsEnumerable.call(t,n)})):e}var TM=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Qq?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function Kq(t){return t===null?null:typeof t=="object"?""+t:t}function al(t,e){return vx.hasOwnProperty.call(t,e)}var B1e=Object.getOwnPropertyDescriptors||function(e){var r={};return TM(e).forEach(function(n){r[n]=ww(e,n)}),r};function wF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U1e(n.key),n)}}function CM(t,e,r){return e&&wF(t.prototype,e),r&&wF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lp.apply(this,arguments)}function Jq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,DO(t,e)}function DO(t,e){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DO(t,e)}function xC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L1e(t,e){if(t){if(typeof t=="string")return EF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uf(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=L1e(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $1e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function U1e(t){var e=$1e(t,"string");return typeof e=="symbol"?e:String(e)}var lf=Symbol("mobx-stored-annotations");function aa(t){function e(r,n){if(Hv(n))return t.decorate_20223_(r,n);Xp(r,n,t)}return Object.assign(e,t)}function Xp(t,e,r){al(t,lf)||AM(t,lf,lp({},t[lf])),q1e(r)||(t[lf][e]=r)}function Hv(t){return typeof t=="object"&&typeof t.kind=="string"}var Xe=Symbol("mobx administration"),Vv=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=bt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return yZ(this)},e.reportChanged=function(){cs(),gZ(this),hs()},e.toString=function(){return this.name_},t}(),IM=Vh("Atom",Vv);function eZ(t,e,r){e===void 0&&(e=af),r===void 0&&(r=af);var n=new Vv(t);return e!==af&&Ywe(n,e),r!==af&&EZ(n,r),n}function F1e(t,e){return t===e}function j1e(t,e){return DM(t,e)}function z1e(t,e){return DM(t,e,1)}function H1e(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ew={identity:F1e,structural:j1e,default:H1e,shallow:z1e};function wh(t,e,r){return AZ(t)?t:Array.isArray(t)?Wr.array(t,{name:r}):Cl(t)?Wr.object(t,void 0,{name:r}):Zp(t)?Wr.map(t,{name:r}):zv(t)?Wr.set(t,{name:r}):typeof t=="function"&&!Sx(t)&&!Fg(t)?Xq(t)?hp(t):Ug(r,t):t}function V1e(t,e,r){if(t==null||jg(t)||Ax(t)||Wh(t)||Yp(t))return t;if(Array.isArray(t))return Wr.array(t,{name:r,deep:!1});if(Cl(t))return Wr.object(t,void 0,{name:r,deep:!1});if(Zp(t))return Wr.map(t,{name:r,deep:!1});if(zv(t))return Wr.set(t,{name:r,deep:!1})}function bx(t){return t}function G1e(t,e){return DM(t,e)?e:t}var W1e="override";function q1e(t){return t.annotationType_===W1e}function Gv(t,e){return{annotationType_:t,options_:e,make_:Z1e,extend_:X1e,decorate_20223_:Y1e}}function Z1e(t,e,r,n){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(Sx(r.value))return 1;var s=tZ(t,this,e,r,!1);return oa(n,e,s),2}function X1e(t,e,r,n){var i=tZ(t,this,e,r);return t.defineProperty_(e,i,n)}function Y1e(t,e){var r=e.kind,n=e.name,i=e.addInitializer,s=this,o=function(l){var c,f,p,m;return Eh((c=(f=s.options_)==null?void 0:f.name)!=null?c:n.toString(),l,(p=(m=s.options_)==null?void 0:m.autoAction)!=null?p:!1)};if(r=="field"){i(function(){Xp(this,n,s)});return}if(r=="method"){var a;return Sx(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&i(function(){var u=this,l=u[n].bind(u);l.isMobxAction=!0,u[n]=l}),t}wt("Cannot apply '"+s.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function Q1e(t,e,r,n){e.annotationType_,n.value}function tZ(t,e,r,n,i){var s,o,a,u,l,c,f;i===void 0&&(i=Oe.safeDescriptors),Q1e(t,e,r,n);var p=n.value;if((s=e.options_)!=null&&s.bound){var m;p=p.bind((m=t.proxy_)!=null?m:t.target_)}return{value:Eh((o=(a=e.options_)==null?void 0:a.name)!=null?o:r.toString(),p,(u=(l=e.options_)==null?void 0:l.autoAction)!=null?u:!1,(c=e.options_)!=null&&c.bound?(f=t.proxy_)!=null?f:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function rZ(t,e){return{annotationType_:t,options_:e,make_:K1e,extend_:J1e,decorate_20223_:ewe}}function K1e(t,e,r,n){var i;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!al(t.target_,e)||!Fg(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if(Fg(r.value))return 1;var s=nZ(t,this,e,r,!1,!1);return oa(n,e,s),2}function J1e(t,e,r,n){var i,s=nZ(t,this,e,r,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,n)}function ewe(t,e){var r,n=e.name,i=e.addInitializer;return Fg(t)||(t=hp(t)),(r=this.options_)!=null&&r.bound&&i(function(){var s=this,o=s[n].bind(s);o.isMobXFlow=!0,s[n]=o}),t}function twe(t,e,r,n){e.annotationType_,n.value}function nZ(t,e,r,n,i,s){s===void 0&&(s=Oe.safeDescriptors),twe(t,e,r,n);var o=n.value;if(Fg(o)||(o=hp(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function OM(t,e){return{annotationType_:t,options_:e,make_:rwe,extend_:nwe,decorate_20223_:iwe}}function rwe(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function nwe(t,e,r,n){return swe(t,this,e,r),t.defineComputedProperty_(e,lp({},this.options_,{get:r.get,set:r.set}),n)}function iwe(t,e){var r=this,n=e.name,i=e.addInitializer;return i(function(){var s=Zv(this)[Xe],o=lp({},r.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+n.toString()),s.values_.set(n,new cp(o))}),function(){return this[Xe].getObservablePropValue_(n)}}function swe(t,e,r,n){e.annotationType_,n.get}function wx(t,e){return{annotationType_:t,options_:e,make_:owe,extend_:awe,decorate_20223_:uwe}}function owe(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function awe(t,e,r,n){var i,s;return lwe(t,this),t.defineObservableProperty_(e,r.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:wh,n)}function uwe(t,e){var r=this,n=e.kind,i=e.name,s=new WeakSet;function o(a,u){var l,c,f=Zv(a)[Xe],p=new Xc(u,(l=(c=r.options_)==null?void 0:c.enhancer)!=null?l:wh,"ObservableObject."+i.toString(),!1);f.values_.set(i,p),s.add(a)}if(n=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[Xe].getObservablePropValue_(i)},set:function(u){return s.has(this)||o(this,u),this[Xe].setObservablePropValue_(i,u)},init:function(u){return s.has(this)||o(this,u),u}}}function lwe(t,e,r,n){e.annotationType_}var cwe="true",hwe=iZ();function iZ(t){return{annotationType_:cwe,options_:t,make_:dwe,extend_:fwe,decorate_20223_:pwe}}function dwe(t,e,r,n){var i,s;if(r.get)return Ex.make_(t,e,r,n);if(r.set){var o=Eh(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:Oe.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(oa(n,e,{configurable:!0,set:o}),2)}if(n!==t.target_&&typeof r.value=="function"){var a;if(Xq(r.value)){var u,l=(u=this.options_)!=null&&u.autoBind?hp.bound:hp;return l.make_(t,e,r,n)}var c=(a=this.options_)!=null&&a.autoBind?Ug.bound:Ug;return c.make_(t,e,r,n)}var f=((i=this.options_)==null?void 0:i.deep)===!1?Wr.ref:Wr;if(typeof r.value=="function"&&(s=this.options_)!=null&&s.autoBind){var p;r.value=r.value.bind((p=t.proxy_)!=null?p:t.target_)}return f.make_(t,e,r,n)}function fwe(t,e,r,n){var i,s;if(r.get)return Ex.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:Oe.safeDescriptors?t.isPlainObject_:!0,set:Eh(e.toString(),r.set)},n);if(typeof r.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;r.value=r.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?Wr.ref:Wr;return a.extend_(t,e,r,n)}function pwe(t,e){wt("'"+this.annotationType_+"' cannot be used as a decorator")}var mwe="observable",ywe="observable.ref",gwe="observable.shallow",vwe="observable.struct",sZ={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(sZ);function ob(t){return t||sZ}var BO=wx(mwe),_we=wx(ywe,{enhancer:bx}),bwe=wx(gwe,{enhancer:V1e}),wwe=wx(vwe,{enhancer:G1e}),oZ=aa(BO);function ab(t){return t.deep===!0?wh:t.deep===!1?bx:xwe(t.defaultDecorator)}function Ewe(t){var e;return t?(e=t.defaultDecorator)!=null?e:iZ(t):void 0}function xwe(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:wh}function aZ(t,e,r){if(Hv(e))return BO.decorate_20223_(t,e);if(bh(e)){Xp(t,e,BO);return}return AZ(t)?t:Cl(t)?Wr.object(t,e,r):Array.isArray(t)?Wr.array(t,e):Zp(t)?Wr.map(t,e):zv(t)?Wr.set(t,e):typeof t=="object"&&t!==null?t:Wr.box(t,e)}Gq(aZ,oZ);var Swe={box:function(e,r){var n=ob(r);return new Xc(e,ab(n),n.name,!0,n.equals)},array:function(e,r){var n=ob(r);return(Oe.useProxies===!1||n.proxy===!1?mEe:sEe)(e,ab(n),n.name)},map:function(e,r){var n=ob(r);return new OZ(e,ab(n),n.name)},set:function(e,r){var n=ob(r);return new kZ(e,ab(n),n.name)},object:function(e,r,n){return Qp(function(){return Qwe(Oe.useProxies===!1||(n==null?void 0:n.proxy)===!1?Zv({},n):rEe({},n),e,r)})},ref:aa(_we),shallow:aa(bwe),deep:oZ,struct:aa(wwe)},Wr=Gq(aZ,Swe),uZ="computed",Awe="computed.struct",LO=OM(uZ),Twe=OM(Awe,{equals:Ew.structural}),Ex=function(e,r){if(Hv(r))return LO.decorate_20223_(e,r);if(bh(r))return Xp(e,r,LO);if(Cl(e))return aa(OM(uZ,e));var n=Cl(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new cp(n)};Object.assign(Ex,LO);Ex.struct=aa(Twe);var xF,SF,xw=0,Cwe=1,Iwe=(xF=(SF=ww(function(){},"name"))==null?void 0:SF.configurable)!=null?xF:!1,AF={value:"action",configurable:!0,writable:!1,enumerable:!1};function Eh(t,e,r,n){r===void 0&&(r=!1);function i(){return Owe(t,r,e,n||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},Iwe&&(AF.value=t,oa(i,"name",AF)),i}function Owe(t,e,r,n,i){var s=Rwe(t,e);try{return r.apply(n,i)}catch(o){throw s.error_=o,o}finally{Pwe(s)}}function Rwe(t,e,r,n){var i=!1,s=0,o=Oe.trackingDerivation,a=!e||!o;cs();var u=Oe.allowStateChanges;a&&(Gh(),u=RM(!0));var l=kM(!0),c={runAsAction_:a,prevDerivation_:o,prevAllowStateChanges_:u,prevAllowStateReads_:l,notifySpy_:i,startTime_:s,actionId_:Cwe++,parentActionId_:xw};return xw=c.actionId_,c}function Pwe(t){xw!==t.actionId_&&wt(30),xw=t.parentActionId_,t.error_!==void 0&&(Oe.suppressReactionErrors=!0),PM(t.prevAllowStateChanges_),Ny(t.prevAllowStateReads_),hs(),t.runAsAction_&&qa(t.prevDerivation_),Oe.suppressReactionErrors=!1}function RM(t){var e=Oe.allowStateChanges;return Oe.allowStateChanges=t,e}function PM(t){Oe.allowStateChanges=t}var lZ;lZ=Symbol.toPrimitive;var Xc=function(t){Jq(e,t);function e(n,i,s,o,a){var u;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=Ew.default),u=t.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=s,u.equals=a,u.value_=i(n,void 0,s),u}var r=e.prototype;return r.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},r.set=function(i){this.value_,i=this.prepareNewValue_(i),i!==Oe.UNCHANGED&&this.setNewValue_(i)},r.prepareNewValue_=function(i){if(ns(this)){var s=is(this,{object:this,type:ua,newValue:i});if(!s)return Oe.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?Oe.UNCHANGED:i},r.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),eo(this)&&to(this,{type:ua,object:this,newValue:i,oldValue:s})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(i){return Wv(this,i)},r.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:ua,newValue:this.value_,oldValue:void 0}),qv(this,i)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return Kq(this.get())},r[lZ]=function(){return this.valueOf()},e}(Vv),cZ;cZ=Symbol.toPrimitive;var cp=function(){function t(r){this.dependenciesState_=bt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=bt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Aw(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Sw.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||wt(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=Eh("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?Ew.structural:Ew.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){Dwe(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing_&&wt(32,this.name_,this.derivation),Oe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)$O(this)&&(this.warnAboutUntrackedRead_(),cs(),this.value_=this.computeValue_(!1),hs());else if(yZ(this),$O(this)){var n=Oe.trackingContext;this.keepAlive_&&!n&&(Oe.trackingContext=this),this.trackAndCompute()&&Mwe(this),Oe.trackingContext=n}var i=this.value_;if(Wb(i))throw i.cause;return i},e.set=function(n){if(this.setter_){this.isRunningSetter_&&wt(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter_=!1}}else wt(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,i=this.dependenciesState_===bt.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Wb(n)||Wb(s)||!this.equals_(n,s);return o&&(this.value_=s),o},e.computeValue_=function(n){this.isComputing_=!0;var i=RM(!1),s;if(n)s=hZ(this,this.derivation,this.scope_);else if(Oe.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Aw(o)}return PM(i),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(UO(this),this.value_=void 0)},e.observe_=function(n,i){var s=this,o=!0,a=void 0;return Gwe(function(){var u=s.get();if(!o||i){var l=Gh();n({observableKind:"computed",debugObjectName:s.name_,type:ua,object:s,newValue:u,oldValue:a}),qa(l)}o=!1,a=u})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return Kq(this.get())},e[cZ]=function(){return this.valueOf()},t}(),xx=Vh("ComputedValue",cp),bt;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(bt||(bt={}));var Sw;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(Sw||(Sw={}));var Aw=function(e){this.cause=void 0,this.cause=e};function Wb(t){return t instanceof Aw}function $O(t){switch(t.dependenciesState_){case bt.UP_TO_DATE_:return!1;case bt.NOT_TRACKING_:case bt.STALE_:return!0;case bt.POSSIBLY_STALE_:{for(var e=kM(!0),r=Gh(),n=t.observing_,i=n.length,s=0;s<i;s++){var o=n[s];if(xx(o)){if(Oe.disableErrorBoundaries)o.get();else try{o.get()}catch{return qa(r),Ny(e),!0}if(t.dependenciesState_===bt.STALE_)return qa(r),Ny(e),!0}}return fZ(t),qa(r),Ny(e),!1}}}function hZ(t,e,r){var n=kM(!0);fZ(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++Oe.runId;var i=Oe.trackingDerivation;Oe.trackingDerivation=t,Oe.inBatch++;var s;if(Oe.disableErrorBoundaries===!0)s=e.call(r);else try{s=e.call(r)}catch(o){s=new Aw(o)}return Oe.inBatch--,Oe.trackingDerivation=i,kwe(t),Ny(n),s}function kwe(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=bt.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=r[o];a.diffValue_===0&&(a.diffValue_=1,i!==o&&(r[i]=a),i++),a.dependenciesState_>n&&(n=a.dependenciesState_)}for(r.length=i,t.newObserving_=null,s=e.length;s--;){var u=e[s];u.diffValue_===0&&pZ(u,t),u.diffValue_=0}for(;i--;){var l=r[i];l.diffValue_===1&&(l.diffValue_=0,Nwe(l,t))}n!==bt.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function UO(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)pZ(e[r],t);t.dependenciesState_=bt.NOT_TRACKING_}function dZ(t){var e=Gh();try{return t()}finally{qa(e)}}function Gh(){var t=Oe.trackingDerivation;return Oe.trackingDerivation=null,t}function qa(t){Oe.trackingDerivation=t}function kM(t){var e=Oe.allowStateReads;return Oe.allowStateReads=t,e}function Ny(t){Oe.allowStateReads=t}function fZ(t){if(t.dependenciesState_!==bt.UP_TO_DATE_){t.dependenciesState_=bt.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=bt.UP_TO_DATE_}}var SC=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},AC=!0,Oe=function(){var t=Vq();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(AC=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new SC().version&&(AC=!1),AC?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new SC):(setTimeout(function(){wt(35)},1),new SC)}();function Nwe(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function pZ(t,e){t.observers_.delete(e),t.observers_.size===0&&mZ(t)}function mZ(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,Oe.pendingUnobservations.push(t))}function cs(){Oe.inBatch++}function hs(){if(--Oe.inBatch===0){vZ();for(var t=Oe.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,r.observers_.size===0&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof cp&&r.suspend_())}Oe.pendingUnobservations=[]}}function yZ(t){var e=Oe.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&Oe.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&Oe.inBatch>0&&mZ(t),!1)}function gZ(t){t.lowestObserverState_!==bt.STALE_&&(t.lowestObserverState_=bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=bt.STALE_}))}function Mwe(t){t.lowestObserverState_!==bt.STALE_&&(t.lowestObserverState_=bt.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.POSSIBLY_STALE_?e.dependenciesState_=bt.STALE_:e.dependenciesState_===bt.UP_TO_DATE_&&(t.lowestObserverState_=bt.UP_TO_DATE_)}))}function Dwe(t){t.lowestObserverState_===bt.UP_TO_DATE_&&(t.lowestObserverState_=bt.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===bt.UP_TO_DATE_&&(e.dependenciesState_=bt.POSSIBLY_STALE_,e.onBecomeStale_())}))}var FO=function(){function t(r,n,i,s){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=bt.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Sw.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Oe.pendingReactions.push(this),vZ())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){cs(),this.isScheduled_=!1;var n=Oe.trackingContext;if(Oe.trackingContext=this,$O(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}Oe.trackingContext=n,hs()}},e.track=function(n){if(!this.isDisposed_){cs(),this.isRunning_=!0;var i=Oe.trackingContext;Oe.trackingContext=this;var s=hZ(this,n,void 0);Oe.trackingContext=i,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&UO(this),Wb(s)&&this.reportExceptionInDerivation_(s.cause),hs()}},e.reportExceptionInDerivation_=function(n){var i=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(Oe.disableErrorBoundaries)throw n;var s="[mobx] uncaught error in '"+this+"'";Oe.suppressReactionErrors||console.error(s,n),Oe.globalReactionErrorHandlers.forEach(function(o){return o(n,i)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(cs(),UO(this),hs()))},e.getDisposer_=function(n){var i=this,s=function o(){i.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",o)};return n==null||n.addEventListener==null||n.addEventListener("abort",s),s[Xe]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){},t}(),Bwe=100,Lwe=function(e){return e()};function vZ(){Oe.inBatch>0||Oe.isRunningReactions||Lwe($we)}function $we(){Oe.isRunningReactions=!0;for(var t=Oe.pendingReactions,e=0;t.length>0;){++e===Bwe&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,i=r.length;n<i;n++)r[n].runReaction_()}Oe.isRunningReactions=!1}var Tw=Vh("Reaction",FO);function My(){return!1}function Uwe(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var _Z="action",Fwe="action.bound",bZ="autoAction",jwe="autoAction.bound",zwe="<unnamed action>",jO=Gv(_Z),Hwe=Gv(Fwe,{bound:!0}),zO=Gv(bZ,{autoAction:!0}),Vwe=Gv(jwe,{autoAction:!0,bound:!0});function wZ(t){var e=function(n,i){if(so(n))return Eh(n.name||zwe,n,t);if(so(i))return Eh(n,i,t);if(Hv(i))return(t?zO:jO).decorate_20223_(n,i);if(bh(i))return Xp(n,i,t?zO:jO);if(bh(n))return aa(Gv(t?bZ:_Z,{name:n,autoAction:t}))};return e}var cf=wZ(!1);Object.assign(cf,jO);var Ug=wZ(!0);Object.assign(Ug,zO);cf.bound=aa(Hwe);Ug.bound=aa(Vwe);function Sx(t){return so(t)&&t.isMobxAction===!0}function Gwe(t,e){var r,n,i,s,o;e===void 0&&(e=Wq);var a=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",u=!e.scheduler&&!e.delay,l;if(u)l=new FO(a,function(){this.track(p)},e.onError,e.requiresObservable);else{var c=qwe(e),f=!1;l=new FO(a,function(){f||(f=!0,c(function(){f=!1,l.isDisposed_||l.track(p)}))},e.onError,e.requiresObservable)}function p(){t(l)}return(i=e)!=null&&(s=i.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((o=e)==null?void 0:o.signal)}var Wwe=function(e){return e()};function qwe(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:Wwe}var Zwe="onBO",Xwe="onBUO";function Ywe(t,e,r){return xZ(Zwe,t,e,r)}function EZ(t,e,r){return xZ(Xwe,t,e,r)}function xZ(t,e,r,n){var i=typeof n=="function"?zg(e,r):zg(e),s=so(n)?n:r,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}function Qwe(t,e,r,n){var i=B1e(e);return Qp(function(){var s=Zv(t,n)[Xe];TM(i).forEach(function(o){s.extend_(o,i[o],r&&o in r?r[o]:!0)})}),t}var Kwe=0;function SZ(){this.message="FLOW_CANCELLED"}SZ.prototype=Object.create(Error.prototype);var TC=rZ("flow"),Jwe=rZ("flow.bound",{bound:!0}),hp=Object.assign(function(e,r){if(Hv(r))return TC.decorate_20223_(e,r);if(bh(r))return Xp(e,r,TC);var n=e,i=n.name||"<unnamed flow>",s=function(){var a=this,u=arguments,l=++Kwe,c=cf(i+" - runid: "+l+" - init",n).apply(a,u),f,p=void 0,m=new Promise(function(y,g){var w=0;f=g;function b(x){p=void 0;var N;try{N=cf(i+" - runid: "+l+" - yield "+w++,c.next).call(c,x)}catch(M){return g(M)}E(N)}function _(x){p=void 0;var N;try{N=cf(i+" - runid: "+l+" - yield "+w++,c.throw).call(c,x)}catch(M){return g(M)}E(N)}function E(x){if(so(x==null?void 0:x.then)){x.then(E,g);return}return x.done?y(x.value):(p=Promise.resolve(x.value),p.then(b,_))}b(void 0)});return m.cancel=cf(i+" - runid: "+l+" - cancel",function(){try{p&&TF(p);var y=c.return(void 0),g=Promise.resolve(y.value);g.then(af,af),TF(g),f(new SZ)}catch(w){f(w)}}),m};return s.isMobXFlow=!0,s},TC);hp.bound=aa(Jwe);function TF(t){so(t.cancel)&&t.cancel()}function Fg(t){return(t==null?void 0:t.isMobXFlow)===!0}function eEe(t,e){return t?e!==void 0?jg(t)?t[Xe].values_.has(e):!1:jg(t)||!!t[Xe]||IM(t)||Tw(t)||xx(t):!1}function AZ(t){return eEe(t)}function $a(t,e){e===void 0&&(e=void 0),cs();try{return t.apply(e)}finally{hs()}}function xd(t){return t[Xe]}var tEe={has:function(e,r){return xd(e).has_(r)},get:function(e,r){return xd(e).get_(r)},set:function(e,r,n){var i;return bh(r)?(i=xd(e).set_(r,n,!0))!=null?i:!0:!1},deleteProperty:function(e,r){var n;return bh(r)?(n=xd(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function(e,r,n){var i;return(i=xd(e).defineProperty_(r,n))!=null?i:!0},ownKeys:function(e){return xd(e).ownKeys_()},preventExtensions:function(e){wt(13)}};function rEe(t,e){var r,n;return qq(),t=Zv(t,e),(n=(r=t[Xe]).proxy_)!=null?n:r.proxy_=new Proxy(t,tEe)}function ns(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function Wv(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),Zq(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function is(t,e){var r=Gh();try{for(var n=[].concat(t.interceptors_||[]),i=0,s=n.length;i<s&&(e=n[i](e),e&&!e.type&&wt(14),!!e);i++);return e}finally{qa(r)}}function eo(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function qv(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),Zq(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function to(t,e){var r=Gh(),n=t.changeListeners_;if(n){n=n.slice();for(var i=0,s=n.length;i<s;i++)n[i](e);qa(r)}}var CF="splice",ua="update",nEe=1e4,iEe={get:function(e,r){var n=e[Xe];return r===Xe?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):al(Cw,r)?Cw[r]:e[r]},set:function(e,r,n){var i=e[Xe];return r==="length"&&i.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:i.set_(parseInt(r),n),!0},preventExtensions:function(){wt(15)}},NM=function(){function t(r,n,i,s){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new Vv(r),this.enhancer_=function(o,a){return n(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return Wv(this,n)},e.observe_=function(n,i){return i===void 0&&(i=!1),i&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),qv(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&wt("Out of range: "+n);var i=this.values_.length;if(n!==i)if(n>i){for(var s=new Array(n-i),o=0;o<n-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(n,i-n)},e.updateArrayLength_=function(n,i){n!==this.lastKnownLength_&&wt(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&BZ(n+i+1)},e.spliceWithArray_=function(n,i,s){var o=this;this.atom_;var a=this.values_.length;if(n===void 0?n=0:n>a?n=a:n<0&&(n=Math.max(0,a+n)),arguments.length===1?i=a-n:i==null?i=0:i=Math.max(0,Math.min(i,a-n)),s===void 0&&(s=MO),ns(this)){var u=is(this,{object:this.proxy_,type:CF,index:n,removedCount:i,added:s});if(!u)return MO;i=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(f){return o.enhancer_(f,void 0)}),this.legacyMode_){var l=s.length-i;this.updateArrayLength_(a,l)}var c=this.spliceItemsIntoValues_(n,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(n,s,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(n,i,s){if(s.length<nEe){var o;return(o=this.values_).splice.apply(o,[n,i].concat(s))}else{var a=this.values_.slice(n,n+i),u=this.values_.slice(n+i);this.values_.length+=s.length-i;for(var l=0;l<s.length;l++)this.values_[n+l]=s[l];for(var c=0;c<u.length;c++)this.values_[n+s.length+c]=u[c];return a}},e.notifyArrayChildUpdate_=function(n,i,s){var o=!this.owned_&&My(),a=eo(this),u=a||o?{observableKind:"array",object:this.proxy_,type:ua,debugObjectName:this.atom_.name_,index:n,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&to(this,u)},e.notifyArraySplice_=function(n,i,s){var o=!this.owned_&&My(),a=eo(this),u=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:CF,index:n,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&to(this,u)},e.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},e.set_=function(n,i){var s=this.values_;if(this.legacyMode_&&n>s.length&&wt(17,n,s.length),n<s.length){this.atom_;var o=s[n];if(ns(this)){var a=is(this,{type:ua,object:this.proxy_,index:n,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var u=i!==o;u&&(s[n]=i,this.notifyArrayChildUpdate_(n,i,o))}else{for(var l=new Array(n+1-s.length),c=0;c<l.length-1;c++)l[c]=void 0;l[l.length-1]=i,this.spliceWithArray_(s.length,0,l)}},t}();function sEe(t,e,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),qq(),Qp(function(){var i=new NM(r,e,n,!1);Yq(i.values_,Xe,i);var s=new Proxy(i.values_,iEe);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var Cw={clear:function(){return this.splice(0)},replace:function(e){var r=this[Xe];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var o=this[Xe];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,r)}return o.spliceWithArray_(e,r,i)},spliceWithArray:function(e,r,n){return this[Xe].spliceWithArray_(e,r,n)},push:function(){for(var e=this[Xe],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[Xe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[Xe],r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return Oe.trackingDerivation&&wt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Oe.trackingDerivation&&wt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var r=this[Xe],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};Bt("at",Ui);Bt("concat",Ui);Bt("flat",Ui);Bt("includes",Ui);Bt("indexOf",Ui);Bt("join",Ui);Bt("lastIndexOf",Ui);Bt("slice",Ui);Bt("toString",Ui);Bt("toLocaleString",Ui);Bt("toSorted",Ui);Bt("toSpliced",Ui);Bt("with",Ui);Bt("every",_o);Bt("filter",_o);Bt("find",_o);Bt("findIndex",_o);Bt("findLast",_o);Bt("findLastIndex",_o);Bt("flatMap",_o);Bt("forEach",_o);Bt("map",_o);Bt("some",_o);Bt("toReversed",_o);Bt("reduce",TZ);Bt("reduceRight",TZ);function Bt(t,e){typeof Array.prototype[t]=="function"&&(Cw[t]=e(t))}function Ui(t){return function(){var e=this[Xe];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function _o(t){return function(e,r){var n=this,i=this[Xe];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(r,o,a,n)})}}function TZ(t){return function(){var e=this,r=this[Xe];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},n[t].apply(n,arguments)}}var oEe=Vh("ObservableArrayAdministration",NM);function Ax(t){return _x(t)&&oEe(t[Xe])}var CZ,IZ,aEe={},qu="add",Iw="delete";CZ=Symbol.iterator;IZ=Symbol.toStringTag;var OZ=function(){function t(r,n,i){var s=this;n===void 0&&(n=wh),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Xe]=aEe,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=i,so(Map)||wt(18),Qp(function(){s.keysAtom_=eZ("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,r&&s.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var i=this;if(!Oe.trackingDerivation)return this.has_(n);var s=this.hasMap_.get(n);if(!s){var o=s=new Xc(this.has_(n),bx,"ObservableMap.key?",!1);this.hasMap_.set(n,o),EZ(o,function(){return i.hasMap_.delete(n)})}return s.get()},e.set=function(n,i){var s=this.has_(n);if(ns(this)){var o=is(this,{type:s?ua:qu,object:this,newValue:i,name:n});if(!o)return this;i=o.newValue}return s?this.updateValue_(n,i):this.addValue_(n,i),this},e.delete=function(n){var i=this;if(this.keysAtom_,ns(this)){var s=is(this,{type:Iw,object:this,name:n});if(!s)return!1}if(this.has_(n)){var o=My(),a=eo(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:Iw,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return $a(function(){var l;i.keysAtom_.reportChanged(),(l=i.hasMap_.get(n))==null||l.setNewValue_(!1);var c=i.data_.get(n);c.setNewValue_(void 0),i.data_.delete(n)}),a&&to(this,u),!0}return!1},e.updateValue_=function(n,i){var s=this.data_.get(n);if(i=s.prepareNewValue_(i),i!==Oe.UNCHANGED){var o=My(),a=eo(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:ua,object:this,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&to(this,u)}},e.addValue_=function(n,i){var s=this;this.keysAtom_,$a(function(){var l,c=new Xc(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(n,c),i=c.value_,(l=s.hasMap_.get(n))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=My(),a=eo(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:qu,object:this,name:n,newValue:i}:null;a&&to(this,u)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,i=this.keys();return Hg({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:n.get(u)}}})},e.entries=function(){var n=this,i=this.keys();return Hg({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:[u,n.get(u)]}}})},e[CZ]=function(){return this.entries()},e.forEach=function(n,i){for(var s=uf(this),o;!(o=s()).done;){var a=o.value,u=a[0],l=a[1];n.call(i,l,u,this)}},e.merge=function(n){var i=this;return Wh(n)&&(n=new Map(n)),$a(function(){Cl(n)?D1e(n).forEach(function(s){return i.set(s,n[s])}):Array.isArray(n)?n.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):Zp(n)?(n.constructor!==Map&&wt(19,n),n.forEach(function(s,o){return i.set(o,s)})):n!=null&&wt(20,n)}),this},e.clear=function(){var n=this;$a(function(){dZ(function(){for(var i=uf(n.keys()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.replace=function(n){var i=this;return $a(function(){for(var s=uEe(n),o=new Map,a=!1,u=uf(i.data_.keys()),l;!(l=u()).done;){var c=l.value;if(!s.has(c)){var f=i.delete(c);if(f)a=!0;else{var p=i.data_.get(c);o.set(c,p)}}}for(var m=uf(s.entries()),y;!(y=m()).done;){var g=y.value,w=g[0],b=g[1],_=i.data_.has(w);if(i.set(w,b),i.data_.has(w)){var E=i.data_.get(w);o.set(w,E),_||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var x=i.data_.keys(),N=o.keys(),M=x.next(),R=N.next();!M.done;){if(M.value!==R.value){i.keysAtom_.reportChanged();break}M=x.next(),R=N.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,i){return qv(this,n)},e.intercept_=function(n){return Wv(this,n)},CM(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:IZ,get:function(){return"Map"}}]),t}(),Wh=Vh("ObservableMap",OZ);function uEe(t){if(Zp(t)||Wh(t))return t;if(Array.isArray(t))return new Map(t);if(Cl(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return wt(21,t)}var RZ,PZ,lEe={};RZ=Symbol.iterator;PZ=Symbol.toStringTag;var kZ=function(){function t(r,n,i){var s=this;n===void 0&&(n=wh),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[Xe]=lEe,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,so(Set)||wt(22),this.enhancer_=function(o,a){return n(o,a,i)},Qp(function(){s.atom_=eZ(s.name_),r&&s.replace(r)})}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;$a(function(){dZ(function(){for(var i=uf(n.data_.values()),s;!(s=i()).done;){var o=s.value;n.delete(o)}})})},e.forEach=function(n,i){for(var s=uf(this),o;!(o=s()).done;){var a=o.value;n.call(i,a,a,this)}},e.add=function(n){var i=this;if(this.atom_,ns(this)){var s=is(this,{type:qu,object:this,newValue:n});if(!s)return this}if(!this.has(n)){$a(function(){i.data_.add(i.enhancer_(n,void 0)),i.atom_.reportChanged()});var o=!1,a=eo(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:qu,object:this,newValue:n}:null;a&&to(this,u)}return this},e.delete=function(n){var i=this;if(ns(this)){var s=is(this,{type:Iw,object:this,oldValue:n});if(!s)return!1}if(this.has(n)){var o=!1,a=eo(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:Iw,object:this,oldValue:n}:null;return $a(function(){i.atom_.reportChanged(),i.data_.delete(n)}),a&&to(this,u),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,i=Array.from(this.keys()),s=Array.from(this.values());return Hg({next:function(){var a=n;return n+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,i=0,s=Array.from(this.data_.values());return Hg({next:function(){return i<s.length?{value:n.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.replace=function(n){var i=this;return Yp(n)&&(n=new Set(n)),$a(function(){Array.isArray(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):zv(n)?(i.clear(),n.forEach(function(s){return i.add(s)})):n!=null&&wt("Cannot initialize set from "+n)}),this},e.observe_=function(n,i){return qv(this,n)},e.intercept_=function(n){return Wv(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[RZ]=function(){return this.values()},CM(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:PZ,get:function(){return"Set"}}]),t}(),Yp=Vh("ObservableSet",kZ),IF=Object.create(null),OF="remove",NZ=function(){function t(r,n,i,s){n===void 0&&(n=new Map),s===void 0&&(s=hwe),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new Vv("ObservableObject.keys"),this.isPlainObject_=Cl(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,i){var s=this.values_.get(n);if(s instanceof cp)return s.set(i),!0;if(ns(this)){var o=is(this,{type:ua,object:this.proxy_||this.target_,name:n,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==Oe.UNCHANGED){var a=eo(this),u=!1,l=a||u?{type:ua,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:n,newValue:i}:null;s.setNewValue_(i),a&&to(this,l)}return!0},e.get_=function(n){return Oe.trackingDerivation&&!al(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,i,s){return s===void 0&&(s=!1),al(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,i):s?Reflect.set(this.target_,n,i):(this.target_[n]=i,!0):this.extend_(n,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(n){if(!Oe.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(n);return i||(i=new Xc(n in this.target_,bx,"ObservableObject.key?",!1),this.pendingKeys_.set(n,i)),i.get()},e.make_=function(n,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(!(n in this.target_)){var s;if((s=this.target_[lf])!=null&&s[n])return;wt(1,i.annotationType_,this.name_+"."+n.toString())}for(var o=this.target_;o&&o!==vx;){var a=ww(o,n);if(a){var u=i.make_(this,n,a,o);if(u===0)return;if(u===1)break}o=Object.getPrototypeOf(o)}PF(this,i,n)}},e.extend_=function(n,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(n,i,o);var a=s.extend_(this,n,i,o);return a&&PF(this,s,n),a},e.defineProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{cs();var o=this.delete_(n);if(!o)return o;if(ns(this)){var a=is(this,{object:this.proxy_||this.target_,name:n,type:qu,newValue:i.value});if(!a)return null;var u=a.newValue;i.value!==u&&(i=lp({},i,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,n,i))return!1}else oa(this.target_,n,i);this.notifyPropertyAddition_(n,i.value)}finally{hs()}return!0},e.defineObservableProperty_=function(n,i,s,o){o===void 0&&(o=!1),this.keysAtom_;try{cs();var a=this.delete_(n);if(!a)return a;if(ns(this)){var u=is(this,{object:this.proxy_||this.target_,name:n,type:qu,newValue:i});if(!u)return null;i=u.newValue}var l=RF(n),c={configurable:Oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,n,c))return!1}else oa(this.target_,n,c);var f=new Xc(i,s,"ObservableObject.key",!1);this.values_.set(n,f),this.notifyPropertyAddition_(n,f.value_)}finally{hs()}return!0},e.defineComputedProperty_=function(n,i,s){s===void 0&&(s=!1),this.keysAtom_;try{cs();var o=this.delete_(n);if(!o)return o;if(ns(this)){var a=is(this,{object:this.proxy_||this.target_,name:n,type:qu,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var u=RF(n),l={configurable:Oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,n,l))return!1}else oa(this.target_,n,l);this.values_.set(n,new cp(i)),this.notifyPropertyAddition_(n,void 0)}finally{hs()}return!0},e.delete_=function(n,i){if(i===void 0&&(i=!1),this.keysAtom_,!al(this.target_,n))return!0;if(ns(this)){var s=is(this,{object:this.proxy_||this.target_,name:n,type:OF});if(!s)return null}try{var o,a;cs();var u=eo(this),l=!1,c=this.values_.get(n),f=void 0;if(!c&&(u||l)){var p;f=(p=ww(this.target_,n))==null?void 0:p.value}if(i){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(c&&(this.values_.delete(n),c instanceof Xc&&(f=c.value_),gZ(c)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(a=o.get(n))==null||a.set(n in this.target_),u||l){var m={type:OF,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:n};u&&to(this,m)}}finally{hs()}return!0},e.observe_=function(n,i){return qv(this,n)},e.intercept_=function(n){return Wv(this,n)},e.notifyPropertyAddition_=function(n,i){var s,o,a=eo(this),u=!1;if(a||u){var l=a||u?{type:qu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:i}:null;a&&to(this,l)}(s=this.pendingKeys_)==null||(o=s.get(n))==null||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),TM(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Zv(t,e){var r;if(al(t,Xe))return t;var n=(r=e==null?void 0:e.name)!=null?r:"ObservableObject",i=new NZ(t,new Map,String(n),Ewe(e));return AM(t,Xe,i),t}var cEe=Vh("ObservableObjectAdministration",NZ);function RF(t){return IF[t]||(IF[t]={get:function(){return this[Xe].getObservablePropValue_(t)},set:function(r){return this[Xe].setObservablePropValue_(t,r)}})}function jg(t){return _x(t)?cEe(t[Xe]):!1}function PF(t,e,r){var n;(n=t.target_[lf])==null||delete n[r]}var hEe=DZ(0),dEe=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),CC=0,MZ=function(){};function fEe(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}fEe(MZ,Array.prototype);var MM=function(t,e,r){Jq(n,t);function n(s,o,a,u){var l;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),l=t.call(this)||this,Qp(function(){var c=new NM(a,o,u,!0);c.proxy_=xC(l),Yq(xC(l),Xe,c),s&&s.length&&l.spliceWithArray(0,0,s),dEe&&Object.defineProperty(xC(l),"0",hEe)}),l}var i=n.prototype;return i.concat=function(){this[Xe].atom_.reportObserved();for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(l){return Ax(l)?l.slice():l}))},i[r]=function(){var s=this,o=0;return Hg({next:function(){return o<s.length?{value:s[o++],done:!1}:{done:!0,value:void 0}}})},CM(n,[{key:"length",get:function(){return this[Xe].getArrayLength_()},set:function(o){this[Xe].setArrayLength_(o)}},{key:e,get:function(){return"Array"}}]),n}(MZ,Symbol.toStringTag,Symbol.iterator);Object.entries(Cw).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&AM(MM.prototype,e,r)});function DZ(t){return{enumerable:!1,configurable:!0,get:function(){return this[Xe].get_(t)},set:function(r){this[Xe].set_(t,r)}}}function pEe(t){oa(MM.prototype,""+t,DZ(t))}function BZ(t){if(t>CC){for(var e=CC;e<t+100;e++)pEe(e);CC=t}}BZ(1e3);function mEe(t,e,r){return new MM(t,e,r)}function zg(t,e){if(typeof t=="object"&&t!==null){if(Ax(t))return e!==void 0&&wt(23),t[Xe].atom_;if(Yp(t))return t.atom_;if(Wh(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||wt(25,e,HO(t)),r}if(jg(t)){if(!e)return wt(26);var n=t[Xe].values_.get(e);return n||wt(27,e,HO(t)),n}if(IM(t)||xx(t)||Tw(t))return t}else if(so(t)&&Tw(t[Xe]))return t[Xe];wt(28)}function LZ(t,e){if(t||wt(29),e!==void 0)return LZ(zg(t,e));if(IM(t)||xx(t)||Tw(t)||Wh(t)||Yp(t))return t;if(t[Xe])return t[Xe];wt(24,t)}function HO(t,e){var r;if(e!==void 0)r=zg(t,e);else{if(Sx(t))return t.name;jg(t)||Wh(t)||Yp(t)?r=LZ(t):r=zg(t)}return r.name_}function Qp(t){var e=Gh(),r=RM(!0);cs();try{return t()}finally{hs(),PM(r),qa(e)}}var kF=vx.toString;function DM(t,e,r){return r===void 0&&(r=-1),VO(t,e,r)}function VO(t,e,r,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=kF.call(t);if(o!==kF.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=NF(t),e=NF(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var u=t.constructor,l=e.constructor;if(u!==l&&!(so(u)&&u instanceof u&&so(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),a){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!VO(t[c],e[c],r-1,n,i))return!1}else{var f=Object.keys(t),p;if(c=f.length,Object.keys(e).length!==c)return!1;for(;c--;)if(p=f[c],!(al(e,p)&&VO(t[p],e[p],r-1,n,i)))return!1}return n.pop(),i.pop(),!0}function NF(t){return Ax(t)?t.slice():Zp(t)||Wh(t)||zv(t)||Yp(t)?Array.from(t.entries()):t}function Hg(t){return t[Symbol.iterator]=yEe,t}function yEe(){return this}["Symbol","Map","Set"].forEach(function(t){var e=Vq();typeof e[t]>"u"&&wt("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Uwe,extras:{getDebugName:HO},$mobx:Xe});var GO=function(t,e){return GO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},GO(t,e)};function Gl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");GO(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function gEe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(t,e||[])).next())})}function $Z(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(c){l=[6,c],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Il(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function iu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function su(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Of(t){return this instanceof Of?(this.v=t,this):new Of(t)}function vEe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(y,g){s.push([p,m,y,g])>1||a(p,m)})})}function a(p,m){try{u(n[p](m))}catch(y){f(s[0][3],y)}}function u(p){p.value instanceof Of?Promise.resolve(p.value.v).then(l,c):f(s[0][2],p)}function l(p){a("next",p)}function c(p){a("throw",p)}function f(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _Ee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Il=="function"?Il(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}function Yc(t){return typeof t=="function"}function bEe(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var IC=bEe(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function MF(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var BM=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Il(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(Yc(c))try{c()}catch(g){s=g instanceof IC?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Il(f),m=p.next();!m.done;m=p.next()){var y=m.value;try{DF(y)}catch(g){s=s??[],g instanceof IC?s=su(su([],iu(s)),iu(g.errors)):s.push(g)}}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(s)throw new IC(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)DF(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&MF(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&MF(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();BM.EMPTY;function wEe(t){return t instanceof BM||t&&"closed"in t&&Yc(t.remove)&&Yc(t.add)&&Yc(t.unsubscribe)}function DF(t){Yc(t)?t():t.unsubscribe()}var EEe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},WO={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=WO.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,su([t,e],iu(r))):setTimeout.apply(void 0,su([t,e],iu(r)))},clearTimeout:function(t){var e=WO.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function xEe(t){WO.setTimeout(function(){throw t})}function BF(){}var UZ=function(t){Gl(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,wEe(r)&&r.add(n)):n.destination=IEe,n}return e.create=function(r,n,i){return new TEe(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(BM),SEe=Function.prototype.bind;function OC(t,e){return SEe.call(t,e)}var AEe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){ub(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){ub(n)}else ub(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){ub(r)}},t}(),TEe=function(t){Gl(e,t);function e(r,n,i){var s=t.call(this)||this,o;if(Yc(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&EEe.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&OC(r.next,a),error:r.error&&OC(r.error,a),complete:r.complete&&OC(r.complete,a)}):o=r}return s.destination=new AEe(o),s}return e}(UZ);function ub(t){xEe(t)}function CEe(t){throw t}var IEe={closed:!0,next:BF,error:CEe,complete:BF};function OEe(t){return t}function REe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return PEe(t)}function PEe(t){return t.length===0?OEe:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}function kEe(t){return Yc(t==null?void 0:t.lift)}function NEe(t){return function(e){if(kEe(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function MEe(t,e,r,n,i){return new DEe(t,e,r,n,i)}var DEe=function(t){Gl(e,t);function e(r,n,i,s,o,a){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(l){try{n(l)}catch(c){r.error(c)}}:t.prototype._next,u._error=s?function(l){try{s(l)}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(UZ);function BEe(t,e){return NEe(function(r,n){var i=0;r.subscribe(MEe(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}function LEe(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function $Ee(){return REe(BEe(t=>t!=null))}var UEe=function(){let t=FEe,e=jEe;return e(t(32),8)+"-"+e(t(16),4)+"-"+e(16384|t(12),4)+"-"+e(32768|t(14),4)+"-"+e(t(48),12)},FEe=function(t){if(t<0||t>53)return NaN;let e=0|Math.random()*1073741824;return t>30?e+(0|Math.random()*(1<<t-30))*1073741824:e>>>30-t},jEe=function(t,e){let r=t.toString(16),n=e-r.length,i="0";for(;n>0;n>>>=1,i+=i)n&1&&(r=i+r);return r};function zEe(t){return{...t,[Symbol.iterator](){return this}}}function LM(t,e){return zEe({next(){let{done:r,value:n}=t.next();return{done:r,value:r?n:e(n)}}})}function HEe(t){if(t<2)throw new Error("Minimum size is 2");if(t>64)throw new Error("Maximum size is 64");let e=2**(t-1)-1,r=-e-1;return n=>{if(n=n<<0,n>e||n<r)throw console.log("value",n,e,r,n>e,n<r),new Error(`Int${t} overflow`);return n<0?2**t+n:n}}HEe(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/function wr(t){return typeof t=="function"}function FZ(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var RC=FZ(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function qO(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Tx=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Il(o),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(g){e={error:g}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(wr(c))try{c()}catch(g){s=g instanceof RC?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=Il(f),m=p.next();!m.done;m=p.next()){var y=m.value;try{LF(y)}catch(g){s=s??[],g instanceof RC?s=su(su([],iu(s)),iu(g.errors)):s.push(g)}}}catch(g){n={error:g}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(n)throw n.error}}}if(s)throw new RC(s)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)LF(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&qO(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&qO(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),jZ=Tx.EMPTY;function zZ(t){return t instanceof Tx||t&&"closed"in t&&wr(t.remove)&&wr(t.add)&&wr(t.unsubscribe)}function LF(t){wr(t)?t():t.unsubscribe()}var HZ={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ZO={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=ZO.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,su([t,e],iu(r))):setTimeout.apply(void 0,su([t,e],iu(r)))},clearTimeout:function(t){var e=ZO.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function VZ(t){ZO.setTimeout(function(){throw t})}function $F(){}function qb(t){t()}var $M=function(t){Gl(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,zZ(r)&&r.add(n)):n.destination=qEe,n}return e.create=function(r,n,i){return new Ow(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Tx),VEe=Function.prototype.bind;function PC(t,e){return VEe.call(t,e)}var GEe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){lb(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){lb(n)}else lb(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){lb(r)}},t}(),Ow=function(t){Gl(e,t);function e(r,n,i){var s=t.call(this)||this,o;if(wr(r)||!r)o={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;s&&HZ.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return s.unsubscribe()},o={next:r.next&&PC(r.next,a),error:r.error&&PC(r.error,a),complete:r.complete&&PC(r.complete,a)}):o=r}return s.destination=new GEe(o),s}return e}($M);function lb(t){VZ(t)}function WEe(t){throw t}var qEe={closed:!0,next:$F,error:WEe,complete:$F},UM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function GZ(t){return t}function ZEe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return WZ(t)}function WZ(t){return t.length===0?GZ:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var vs=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,s=YEe(e)?e:new Ow(e,r,n);return qb(function(){var o=i,a=o.operator,u=o.source;s.add(a?a.call(s,u):u?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=UF(r),new r(function(i,s){var o=new Ow({next:function(a){try{e(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[UM]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return WZ(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=UF(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function UF(t){var e;return(e=t??HZ.Promise)!==null&&e!==void 0?e:Promise}function XEe(t){return t&&wr(t.next)&&wr(t.error)&&wr(t.complete)}function YEe(t){return t&&t instanceof $M||XEe(t)&&zZ(t)}function QEe(t){return wr(t==null?void 0:t.lift)}function qh(t){return function(e){if(QEe(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function dp(t,e,r,n,i){return new KEe(t,e,r,n,i)}var KEe=function(t){Gl(e,t);function e(r,n,i,s,o,a){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=a,u._next=n?function(l){try{n(l)}catch(c){r.error(c)}}:t.prototype._next,u._error=s?function(l){try{s(l)}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=i?function(){try{i()}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}($M),JEe=FZ(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Cx=function(t){Gl(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new FF(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new JEe},e.prototype.next=function(r){var n=this;qb(function(){var i,s;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=Il(n.currentObservers),a=o.next();!a.done;a=o.next()){var u=a.value;u.next(r)}}catch(l){i={error:l}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;qb(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;qb(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?jZ:(this.currentObservers=null,a.push(r),new Tx(function(){n.currentObservers=null,qO(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,s=n.thrownError,o=n.isStopped;i?r.error(s):o&&r.complete()},e.prototype.asObservable=function(){var r=new vs;return r.source=this,r},e.create=function(r,n){return new FF(r,n)},e}(vs),FF=function(t){Gl(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:jZ},e}(Cx),qZ=new vs(function(t){return t.complete()});function exe(t){return t&&wr(t.schedule)}function ZZ(t){return t[t.length-1]}function FM(t){return exe(ZZ(t))?t.pop():void 0}function txe(t,e){return typeof ZZ(t)=="number"?t.pop():e}var XZ=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function YZ(t){return wr(t==null?void 0:t.then)}function QZ(t){return wr(t[UM])}function KZ(t){return Symbol.asyncIterator&&wr(t==null?void 0:t[Symbol.asyncIterator])}function JZ(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function rxe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var eX=rxe();function tX(t){return wr(t==null?void 0:t[eX])}function rX(t){return vEe(this,arguments,function(){var r,n,i,s;return $Z(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Of(r.read())];case 3:return n=o.sent(),i=n.value,s=n.done,s?[4,Of(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Of(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function nX(t){return wr(t==null?void 0:t.getReader)}function Kp(t){if(t instanceof vs)return t;if(t!=null){if(QZ(t))return nxe(t);if(XZ(t))return ixe(t);if(YZ(t))return sxe(t);if(KZ(t))return iX(t);if(tX(t))return oxe(t);if(nX(t))return axe(t)}throw JZ(t)}function nxe(t){return new vs(function(e){var r=t[UM]();if(wr(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ixe(t){return new vs(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function sxe(t){return new vs(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,VZ)})}function oxe(t){return new vs(function(e){var r,n;try{for(var i=Il(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function iX(t){return new vs(function(e){uxe(t,e).catch(function(r){return e.error(r)})})}function axe(t){return iX(rX(t))}function uxe(t,e){var r,n,i,s;return gEe(this,void 0,void 0,function(){var o,a;return $Z(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=_Ee(t),u.label=1;case 1:return[4,r.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ul(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function sX(t,e){return e===void 0&&(e=0),qh(function(r,n){r.subscribe(dp(n,function(i){return ul(n,t,function(){return n.next(i)},e)},function(){return ul(n,t,function(){return n.complete()},e)},function(i){return ul(n,t,function(){return n.error(i)},e)}))})}function oX(t,e){return e===void 0&&(e=0),qh(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function lxe(t,e){return Kp(t).pipe(oX(e),sX(e))}function cxe(t,e){return Kp(t).pipe(oX(e),sX(e))}function hxe(t,e){return new vs(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function dxe(t,e){return new vs(function(r){var n;return ul(r,e,function(){n=t[eX](),ul(r,e,function(){var i,s,o;try{i=n.next(),s=i.value,o=i.done}catch(a){r.error(a);return}o?r.complete():r.next(s)},0,!0)}),function(){return wr(n==null?void 0:n.return)&&n.return()}})}function aX(t,e){if(!t)throw new Error("Iterable cannot be null");return new vs(function(r){ul(r,e,function(){var n=t[Symbol.asyncIterator]();ul(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function fxe(t,e){return aX(rX(t),e)}function pxe(t,e){if(t!=null){if(QZ(t))return lxe(t,e);if(XZ(t))return hxe(t,e);if(YZ(t))return cxe(t,e);if(KZ(t))return aX(t,e);if(tX(t))return dxe(t,e);if(nX(t))return fxe(t,e)}throw JZ(t)}function Xv(t,e){return e?pxe(t,e):Kp(t)}function mxe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=FM(t);return Xv(t,r)}function Ix(t,e){return qh(function(r,n){var i=0;r.subscribe(dp(n,function(s){n.next(t.call(e,s,i++))}))})}function yxe(t,e,r,n,i,s,o,a){var u=[],l=0,c=0,f=!1,p=function(){f&&!u.length&&!l&&e.complete()},m=function(g){return l<n?y(g):u.push(g)},y=function(g){s&&e.next(g),l++;var w=!1;Kp(r(g,c++)).subscribe(dp(e,function(b){i==null||i(b),s?m(b):e.next(b)},function(){w=!0},void 0,function(){if(w)try{l--;for(var b=function(){var _=u.shift();o?ul(e,o,function(){return y(_)}):y(_)};u.length&&l<n;)b();p()}catch(_){e.error(_)}}))};return t.subscribe(dp(e,m,function(){f=!0,p()})),function(){a==null||a()}}function Rw(t,e,r){return r===void 0&&(r=1/0),wr(e)?Rw(function(n,i){return Ix(function(s,o){return e(n,s,i,o)})(Kp(t(n,i)))},r):(typeof e=="number"&&(r=e),qh(function(n,i){return yxe(n,i,t,r)}))}function uX(t){return t===void 0&&(t=1/0),Rw(GZ,t)}function gxe(){return uX(1)}function vxe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return gxe()(Xv(t,FM(t)))}function _xe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=FM(t),n=txe(t,1/0),i=t;return i.length?i.length===1?Kp(i[0]):uX(n)(Xv(i,r)):qZ}function bxe(t,e){return qh(function(r,n){var i=0;r.subscribe(dp(n,function(s){return t.call(e,s,i++)&&n.next(s)}))})}function wxe(t,e){return wr(e)?Rw(t,e,1):Rw(t,1)}function Exe(t){return t<=0?function(){return qZ}:qh(function(e,r){var n=0;e.subscribe(dp(r,function(i){++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function xxe(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Cx}:e,n=t.resetOnError,i=n===void 0?!0:n,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,u=a===void 0?!0:a;return function(l){var c=null,f=null,p=null,m=0,y=!1,g=!1,w=function(){f==null||f.unsubscribe(),f=null},b=function(){w(),c=p=null,y=g=!1},_=function(){var E=c;b(),E==null||E.unsubscribe()};return qh(function(E,x){m++,!g&&!y&&w();var N=p=p??r();x.add(function(){m--,m===0&&!g&&!y&&(f=kC(_,u))}),N.subscribe(x),c||(c=new Ow({next:function(M){return N.next(M)},error:function(M){g=!0,w(),f=kC(b,i,M),N.error(M)},complete:function(){y=!0,w(),f=kC(b,o),N.complete()}}),Xv(E).subscribe(c))})(l)}}function kC(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return e===!0?(t(),null):e===!1?null:e.apply(void 0,su([],iu(r))).pipe(Exe(1)).subscribe(function(){return t()})}var $r=(t=>(t[t.Boolean=0]="Boolean",t[t.Number=1]="Number",t[t.OptionalNumber=2]="OptionalNumber",t[t.BigInt=3]="BigInt",t[t.OptionalBigInt=4]="OptionalBigInt",t[t.String=5]="String",t[t.OptionalString=6]="OptionalString",t[t.NumberArray=7]="NumberArray",t[t.OptionalNumberArray=8]="OptionalNumberArray",t[t.BigIntArray=9]="BigIntArray",t[t.OptionalBigIntArray=10]="OptionalBigIntArray",t[t.StringArray=11]="StringArray",t[t.OptionalStringArray=12]="OptionalStringArray",t[t.Entity=13]="Entity",t[t.OptionalEntity=14]="OptionalEntity",t[t.EntityArray=15]="EntityArray",t[t.OptionalEntityArray=16]="OptionalEntityArray",t[t.T=17]="T",t[t.OptionalT=18]="OptionalT",t))($r||{}),Sxe=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t[t.Update=2]="Update",t[t.Noop=3]="Noop",t))(Sxe||{}),Axe=[14,16,2,8,4,10,6,12,18];function Txe(t){let e=new Map;function r(a){let u=e.get(n(a));return u?new Set([...u].map(Ox)):new Set}function n(a){return Object.values(a).join("/")}function i(a,u){if(!u)return;let l=n(u),c=e.get(l);c||(c=new Set,e.set(l,c)),c.add(a)}function s(a,u){if(!u)return;let l=n(u),c=e.get(l);c&&c.delete(a)}for(let a of jM(t)){let u=Di(t,a);i(Ni(a),u)}let o=t.update$.subscribe(({entity:a,value:u})=>{s(Ni(a),u[1]),i(Ni(a),u[0])});return t.world.registerDisposer(()=>o==null?void 0:o.unsubscribe()),{...t,getEntitiesWithValue:r}}function Cxe(t,e){return t.component===e}function Ixe(t,e){let r=Di(e,t);return{entity:t,component:e,value:[r,void 0],type:r==null?3:0}}function Oxe(t){return ZEe(Ix(e=>Ixe(e,t)))}function Rxe(t){return"getEntitiesWithValue"in t}function Pxe(t,e){return Object.keys(t.schema).every(r=>r in e)}function kxe(t){var e,r,n,i;return((e=t.metadata)==null?void 0:e.componentName)??((r=t.metadata)==null?void 0:r.tableName)??((n=t.metadata)==null?void 0:n.tableId)??((i=t.metadata)==null?void 0:i.contractId)??t.id}function Sd(t,e,r){if(Object.keys(e).length===0)throw new Error("Component schema must have at least one key");let n=(r==null?void 0:r.id)??UEe(),i=LEe(e,()=>new Map),s=new Cx,o=r==null?void 0:r.metadata,a={values:i,schema:e,id:n,update$:s,metadata:o,entities:()=>LM(Object.values(i)[0].keys(),Ox),world:t};return r!=null&&r.indexed&&(a=Txe(a)),t.registerComponent(a),a}function Nxe(t,e,r){var s;let n=Ni(e),i=Di(t,e);for(let[o,a]of Object.entries(r))t.values[o]?t.values[o].set(n,a):(s=t.metadata)!=null&&s.tableId&&/^\d+$/.test(o)||console.warn("Component definition for",kxe(t),"is missing key",o,", ignoring value",a,"for entity",e,". Existing keys: ",Object.keys(t.values));t.update$.next({entity:e,value:[r,i],component:t})}function Mxe(t,e){let r=Ni(e),n=Di(t,e);for(let i of Object.keys(t.values))t.values[i].delete(r);t.update$.next({entity:e,value:[void 0,n],component:t})}function XO(t,e){let r=Ni(e);return Object.values(t.values)[0].has(r)}function Di(t,e){let r={},n=Ni(e),i=Object.keys(t.schema);for(let s of i){let o=t.values[s].get(n);if(o===void 0&&!Axe.includes(t.schema[s]))return;r[s]=o}return r}function YO(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;let r=!0;for(let n of Object.keys(t))if(r=t[n]===e[n],!r)return!1;return r}function lX(t,e){if(Rxe(t)&&Pxe(t,e))return t.getEntitiesWithValue(e);let r=new Set;for(let n of jM(t)){let i=Di(t,n);YO(e,i)&&r.add(n)}return r}function jM(t){return t.entities()}function cb(t){let e=0,r=new Map,n=new Map,i=new Cx;function s(m,y){r.set(m,{update:y,nonce:e++}),p(y.entity,y.value)}function o(m){var w;let y=(w=r.get(m))==null?void 0:w.update.entity;if(r.delete(m),y==null)return;let g=[...r.values()].filter(b=>b.update.entity===y).sort((b,_)=>b.nonce<_.nonce?-1:1);if(g.length>0){let b=g[g.length-1];p(y,b.update.value)}else p(y,void 0)}function a(m){let y=Di(t,m),g=Ni(m),w=n.get(g);return(y||w)&&w!==null?{...y,...w}:void 0}let u=m=>({get(y,g){return g==="get"?w=>{let b=y.get(w),_=n.get(w);return _&&_[m]!=null?_[m]:b}:g==="has"?w=>y.has(w)||n.has(w):g==="keys"?()=>new Set([...y.keys(),...n.keys()]).values():Reflect.get(y,g,y)}}),l={};for(let m of Object.keys(t.values))l[m]=new Proxy(t.values[m],u(m));let c=l,f=new Proxy(t,{get(m,y){return y==="addOverride"?s:y==="removeOverride"?o:y==="values"?c:y==="update$"?i:y==="entities"?()=>new Set([...LM(n.keys(),Ox),...m.entities()]).values():Reflect.get(m,y)},has(m,y){return y==="addOverride"||y==="removeOverride"?!0:y in m}});function p(m,y){let g=Ni(m),w=a(m);y!==void 0?n.set(g,y):n.delete(g),i.next({entity:m,value:[a(m),w],component:f})}return t.update$.pipe(bxe(m=>!n.get(Ni(m.entity))),Ix(m=>({...m,component:f}))).subscribe(i),f}function Ni(t){return Symbol.for(t)}function Ox(t){return Symbol.keyFor(t)}var Dxe=(t=>(t[t.Has=0]="Has",t[t.HasValue=1]="HasValue",t[t.Not=2]="Not",t[t.NotValue=3]="NotValue",t[t.ProxyRead=4]="ProxyRead",t[t.ProxyExpand=5]="ProxyExpand",t))(Dxe||{});function Bxe(t){return{type:0,component:t}}function Vg(t,e){if(e.type===0)return XO(e.component,t);if(e.type===1)return YO(e.value,Di(e.component,t));if(e.type===2)return!XO(e.component,t);if(e.type===3)return!YO(e.value,Di(e.component,t));throw new Error("Unknown query fragment")}function Lxe(t){return t.type===0||t.type==1}function cX(t){return t.type===2||t.type==3}function $xe(t){return t.type===5||t.type==4}function hX(t,e){return t&&Lxe(e)||!t&&cX(e)}function jF(t,e,r){let n=t,i=!1;for(let s=0;s<r.depth;s++){let o=Di(r.component,n);if(!o)return null;let a=o.value;if(!a)return null;if(n=a,i=Vg(n,e),hX(i,e))return i}return i}function QO(t,e,r){if(r===0)return new Set;let n=lX(e,{value:t});if(r===1)return n;let i=[...n].map(s=>[...QO(s,e,r-1)]).flat();return new Set([...n,...i])}function zF(t,e){let r=e?new Set([...e]):void 0,n,i;for(let s=0;s<t.length;s++){let o=t[s];if($xe(o))o.type===4&&(n=o),o.type===5&&(i=o);else if(r)for(let a of[...r]){let u=Vg(a,o);if(n&&n.depth>0&&!hX(u,o)&&(u=jF(a,o,n)??u),u||r.delete(a),i&&i.depth>0){let l=QO(a,i.component,i.depth);for(let c of l)(Vg(c,o)||n&&n.depth>0&&jF(c,o,n))&&r.add(c)}}else{if(cX(o))throw new Error("First EntityQueryFragment must be Has or HasValue");if(r=o.type===0?new Set([...jM(o.component)]):lX(o.component,o.value),i&&i.depth>0)for(let a of[...r])for(let u of QO(a,i.component,i.depth))r.add(u)}}return r??new Set}function Uxe(t,e){let r=e!=null&&e.runOnInit||e!=null&&e.initialSet?zF(t,e.initialSet):new Set,n=Wr(r),i=Xv(n).pipe(Oxe(t[0].component)),s=t.findIndex(a=>[5,4].includes(a.type))!==-1,o=_xe(...t.map(a=>a.component.update$)).pipe(s?wxe(a=>{let u=zF(t,e==null?void 0:e.initialSet),l=[];for(let c of n)u.has(c)||(n.delete(c),l.push({entity:c,type:1,component:a.component,value:[void 0,void 0]}));for(let c of u)n.has(c)?l.push({entity:c,type:2,component:a.component,value:[Di(a.component,c),void 0]}):(n.add(c),l.push({entity:c,type:0,component:a.component,value:[Di(a.component,c),void 0]}));return mxe(...l)}):Ix(a=>{if(n.has(a.entity))return t.filter(u=>u.component.id===a.component.id).every(u=>Vg(a.entity,u))?{...a,type:2}:(n.delete(a.entity),{...a,type:1});if(t.every(u=>Vg(a.entity,u)))return n.add(a.entity),{...a,type:0}}),$Ee());return{matching:n,update$:vxe(i,o).pipe(xxe())}}function Fxe(){let t=new Set,e=[],r=[];function n({id:c,idSuffix:f}={}){let p=c||t.size+(f?"-"+f:""),m=Ni(p);return t.add(m),p}function i(){return LM(t.values(),Ox)}function s(c){e.push(c)}function o(c){for(let[,f]of r.filter(p=>!c||p[0]===c))f();r=r.filter(f=>c&&f[0]!==c)}function a(c,f=""){r.push([f,c])}function u(c){let f=Ni(c);return t.has(f)}function l(c){for(let f of e)XO(f,c)&&Mxe(f,c);t.delete(Ni(c))}return{registerEntity:n,components:e,registerComponent:s,dispose:o,registerDisposer:a,hasEntity:u,getEntities:i,entitySymbols:t,deleteEntity:l}}function hb(t,e,r){const[n,i]=we.useState(e!=null?Di(t,e):void 0);return we.useEffect(()=>{if(i(e!=null?Di(t,e):void 0),e==null)return;const o=Uxe([Bxe(t)],{runOnInit:!1}).update$.subscribe(a=>{if(Cxe(a,t)&&a.entity===e){const[u]=a.value;i(u)}});return()=>o.unsubscribe()},[t,e]),n??r}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dX=BigInt(0),Rx=BigInt(1),jxe=BigInt(2),Px=t=>t instanceof Uint8Array,zxe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fp(t){if(!Px(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=zxe[t[r]];return e}function fX(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function zM(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function xh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Za(t){return zM(fp(t))}function HM(t){if(!Px(t))throw new Error("Uint8Array expected");return zM(fp(Uint8Array.from(t).reverse()))}const Rf=(t,e)=>xh(t.toString(16).padStart(e*2,"0")),pX=(t,e)=>Rf(t,e).reverse(),Hxe=t=>xh(fX(t));function Qi(t,e,r){let n;if(typeof e=="string")try{n=xh(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Px(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function Gg(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!Px(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function Vxe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Gxe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Wxe(t){let e;for(e=0;t>dX;t>>=Rx,e+=1);return e}const qxe=(t,e)=>t>>BigInt(e)&Rx,Zxe=(t,e,r)=>t|(r?Rx:dX)<<BigInt(e),kx=t=>(jxe<<BigInt(t-1))-Rx,NC=t=>new Uint8Array(t),HF=t=>Uint8Array.from(t);function mX(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=NC(t),i=NC(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=NC())=>{i=a(HF([0]),f),n=a(),f.length!==0&&(i=a(HF([1]),f),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){n=a();const m=n.slice();p.push(m),f+=n.length}return Gg(...p)};return(f,p)=>{o(),u(f);let m;for(;!(m=p(l()));)u();return o(),m}}const Xxe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Yv(t,e,r={}){const n=(i,s,o)=>{const a=Xxe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const Yxe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:qxe,bitLen:Wxe,bitMask:kx,bitSet:Zxe,bytesToHex:fp,bytesToNumberBE:Za,bytesToNumberLE:HM,concatBytes:Gg,createHmacDrbg:mX,ensureBytes:Qi,equalBytes:Vxe,hexToBytes:xh,hexToNumber:zM,numberToBytesBE:Rf,numberToBytesLE:pX,numberToHexUnpadded:fX,numberToVarBytesBE:Hxe,utf8ToBytes:Gxe,validateObject:Yv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nn=BigInt(0),gr=BigInt(1),Ac=BigInt(2),Qxe=BigInt(3),KO=BigInt(4),VF=BigInt(5),GF=BigInt(8);BigInt(9);BigInt(16);function Si(t,e){const r=t%e;return r>=nn?r:e+r}function Kxe(t,e,r){if(r<=nn||e<nn)throw new Error("Expected power/modulo > 0");if(r===gr)return nn;let n=gr;for(;e>nn;)e&gr&&(n=n*t%r),t=t*t%r,e>>=gr;return n}function JO(t,e){if(t===nn||e<=nn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Si(t,e),n=e,i=nn,s=gr;for(;r!==nn;){const a=n/r,u=n%r,l=i-s*a;n=r,r=u,i=s,s=l}if(n!==gr)throw new Error("invert: does not exist");return Si(i,e)}function Jxe(t){const e=(t-gr)/Ac;let r,n,i;for(r=t-gr,n=0;r%Ac===nn;r/=Ac,n++);for(i=Ac;i<t&&Kxe(i,e,t)!==t-gr;i++);if(n===1){const o=(t+gr)/KO;return function(u,l){const c=u.pow(l,o);if(!u.eql(u.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+gr)/Ac;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,c=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),p=a.pow(u,r);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let g=a.sqr(p);m<l&&!a.eql(g,a.ONE);m++)g=a.sqr(g);const y=a.pow(c,gr<<BigInt(l-m-1));c=a.sqr(y),f=a.mul(f,y),p=a.mul(p,c),l=m}return f}}function eSe(t){if(t%KO===Qxe){const e=(t+gr)/KO;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%GF===VF){const e=(t-VF)/GF;return function(n,i){const s=n.mul(i,Ac),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,Ac),o),l=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return Jxe(t)}const tSe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VM(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=tSe.reduce((n,i)=>(n[i]="function",n),e);return Yv(t,r)}function yX(t,e,r){if(r<nn)throw new Error("Expected power > 0");if(r===nn)return t.ONE;if(r===gr)return e;let n=t.ONE,i=e;for(;r>nn;)r&gr&&(n=t.mul(n,i)),i=t.sqr(i),r>>=gr;return n}function rSe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function GM(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function WM(t,e,r=!1,n={}){if(t<=nn)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=GM(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=eSe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:kx(i),ZERO:nn,ONE:gr,create:u=>Si(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return nn<=u&&u<t},is0:u=>u===nn,isOdd:u=>(u&gr)===gr,neg:u=>Si(-u,t),eql:(u,l)=>u===l,sqr:u=>Si(u*u,t),add:(u,l)=>Si(u+l,t),sub:(u,l)=>Si(u-l,t),mul:(u,l)=>Si(u*l,t),pow:(u,l)=>yX(a,u,l),div:(u,l)=>Si(u*JO(l,t),t),sqrN:u=>u*u,addN:(u,l)=>u+l,subN:(u,l)=>u-l,mulN:(u,l)=>u*l,inv:u=>JO(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>rSe(a,u),cmov:(u,l,c)=>c?l:u,toBytes:u=>r?pX(u,s):Rf(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?HM(u):Za(u)}});return Object.freeze(a)}function nSe(t,e,r=!1){t=Qi("privateHash",t);const n=t.length,i=GM(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const s=r?HM(t):Za(t);return Si(s,e-gr)+gr}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function iSe(t){const{Fp:e}=t;VM(e);for(const u of["t","roundsFull","roundsPartial"])if(typeof t[u]!="number"||!Number.isSafeInteger(t[u]))throw new Error(`Poseidon: invalid param ${u}=${t[u]} (${typeof t[u]})`);if(t.reversePartialPowIdx!==void 0&&typeof t.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${t.reversePartialPowIdx}`);let r=t.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);const n=BigInt(r);let i=u=>yX(e,u,n);if(r===3?i=u=>e.mul(e.sqrN(u),u):r===5&&(i=u=>e.mul(e.sqrN(e.sqrN(u)),u)),t.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${t.roundsFull}`);const s=t.roundsFull+t.roundsPartial;if(!Array.isArray(t.roundConstants)||t.roundConstants.length!==s)throw new Error("Poseidon: wrong round constants");const o=t.roundConstants.map(u=>{if(!Array.isArray(u)||u.length!==t.t)throw new Error(`Poseidon wrong round constants: ${u}`);return u.map(l=>{if(typeof l!="bigint"||!e.isValid(l))throw new Error(`Poseidon wrong round constant=${l}`);return e.create(l)})});if(!Array.isArray(t.mds)||t.mds.length!==t.t)throw new Error("Poseidon: wrong MDS matrix");const a=t.mds.map(u=>{if(!Array.isArray(u)||u.length!==t.t)throw new Error(`Poseidon MDS matrix row: ${u}`);return u.map(l=>{if(typeof l!="bigint")throw new Error(`Poseidon MDS matrix value=${l}`);return e.create(l)})});return Object.freeze({...t,rounds:s,sboxFn:i,roundConstants:o,mds:a})}function sSe(t){const{t:e,Fp:r,rounds:n,sboxFn:i,reversePartialPowIdx:s}=iSe(t),o=Math.floor(t.roundsFull/2),a=s?e-1:0,u=(c,f,p)=>(c=c.map((m,y)=>r.add(m,t.roundConstants[p][y])),f?c=c.map(m=>i(m)):c[a]=i(c[a]),c=t.mds.map(m=>m.reduce((y,g,w)=>r.add(y,r.mulN(g,c[w])),r.ZERO)),c),l=function(f){if(!Array.isArray(f)||f.length!==e)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${e})`);f=f.map(m=>{if(typeof m!="bigint")throw new Error(`Poseidon: wrong value=${m} (${typeof m})`);return r.create(m)});let p=0;for(let m=0;m<o;m++)f=u(f,!0,p++);for(let m=0;m<t.roundsPartial;m++)f=u(f,!1,p++);for(let m=0;m<o;m++)f=u(f,!0,p++);if(p!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${p}, total=${n}`);return f};return l.roundConstants=t.roundConstants,l}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const oSe=BigInt(0),MC=BigInt(1);function aSe(t,e){const r=(i,s)=>{const o=s.negate();return i?o:s},n=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>oSe;)s&MC&&(o=o.add(a)),a=a.double(),s>>=MC;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=n(s),u=[];let l=i,c=l;for(let f=0;f<o;f++){c=l,u.push(c);for(let p=1;p<a;p++)c=c.add(l),u.push(c);l=c.double()}return u},wNAF(i,s,o){const{windows:a,windowSize:u}=n(i);let l=t.ZERO,c=t.BASE;const f=BigInt(2**i-1),p=2**i,m=BigInt(i);for(let y=0;y<a;y++){const g=y*u;let w=Number(o&f);o>>=m,w>u&&(w-=p,o+=MC);const b=g,_=g+Math.abs(w)-1,E=y%2!==0,x=w<0;w===0?c=c.add(r(E,s[b])):l=l.add(r(x,s[_]))}return{p:l,f:c}},wNAFCached(i,s,o,a){const u=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,u),u!==1&&s.set(i,a(l))),this.wNAF(u,l,o)}}}function gX(t){return VM(t.Fp),Yv(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...GM(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uSe(t){const e=gX(t);Yv(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:lSe,hexToBytes:cSe}=Yxe,$c={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=$c;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:lSe(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=$c,r=typeof t=="string"?cSe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=$c._parseInt(r.subarray(2)),{d:o,l:a}=$c._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,r=l=>{const c=l.toString(16);return c.length&1?`0${c}`:c},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Ua=BigInt(0),Ki=BigInt(1);BigInt(2);const WF=BigInt(3);BigInt(4);function hSe(t){const e=uSe(t),{Fp:r}=e,n=e.toBytes||((y,g,w)=>{const b=g.toAffine();return Gg(Uint8Array.from([4]),r.toBytes(b.x),r.toBytes(b.y))}),i=e.fromBytes||(y=>{const g=y.subarray(1),w=r.fromBytes(g.subarray(0,r.BYTES)),b=r.fromBytes(g.subarray(r.BYTES,2*r.BYTES));return{x:w,y:b}});function s(y){const{a:g,b:w}=e,b=r.sqr(y),_=r.mul(b,y);return r.add(r.add(_,r.mul(y,g)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&Ua<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){const{allowedPrivateKeyLengths:g,nByteLength:w,wrapPrivateKey:b,n:_}=e;if(g&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=fp(y)),typeof y!="string"||!g.includes(y.length))throw new Error("Invalid key");y=y.padStart(w*2,"0")}let E;try{E=typeof y=="bigint"?y:Za(Qi("private key",y,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof y}`)}return b&&(E=Si(E,_)),a(E),E}const l=new Map;function c(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(g,w,b){if(this.px=g,this.py=w,this.pz=b,g==null||!r.isValid(g))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(b==null||!r.isValid(b))throw new Error("z required")}static fromAffine(g){const{x:w,y:b}=g||{};if(!g||!r.isValid(w)||!r.isValid(b))throw new Error("invalid affine point");if(g instanceof f)throw new Error("projective point not allowed");const _=E=>r.eql(E,r.ZERO);return _(w)&&_(b)?f.ZERO:new f(w,b,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const w=r.invertBatch(g.map(b=>b.pz));return g.map((b,_)=>b.toAffine(w[_])).map(f.fromAffine)}static fromHex(g){const w=f.fromAffine(i(Qi("pointHex",g)));return w.assertValidity(),w}static fromPrivateKey(g){return f.BASE.multiply(u(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:g,y:w}=this.toAffine();if(!r.isValid(g)||!r.isValid(w))throw new Error("bad point: x or y not FE");const b=r.sqr(w),_=s(g);if(!r.eql(b,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(r.isOdd)return!r.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){c(g);const{px:w,py:b,pz:_}=this,{px:E,py:x,pz:N}=g,M=r.eql(r.mul(w,N),r.mul(E,_)),R=r.eql(r.mul(b,N),r.mul(x,_));return M&&R}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:g,b:w}=e,b=r.mul(w,WF),{px:_,py:E,pz:x}=this;let N=r.ZERO,M=r.ZERO,R=r.ZERO,D=r.mul(_,_),W=r.mul(E,E),G=r.mul(x,x),F=r.mul(_,E);return F=r.add(F,F),R=r.mul(_,x),R=r.add(R,R),N=r.mul(g,R),M=r.mul(b,G),M=r.add(N,M),N=r.sub(W,M),M=r.add(W,M),M=r.mul(N,M),N=r.mul(F,N),R=r.mul(b,R),G=r.mul(g,G),F=r.sub(D,G),F=r.mul(g,F),F=r.add(F,R),R=r.add(D,D),D=r.add(R,D),D=r.add(D,G),D=r.mul(D,F),M=r.add(M,D),G=r.mul(E,x),G=r.add(G,G),D=r.mul(G,F),N=r.sub(N,D),R=r.mul(G,W),R=r.add(R,R),R=r.add(R,R),new f(N,M,R)}add(g){c(g);const{px:w,py:b,pz:_}=this,{px:E,py:x,pz:N}=g;let M=r.ZERO,R=r.ZERO,D=r.ZERO;const W=e.a,G=r.mul(e.b,WF);let F=r.mul(w,E),X=r.mul(b,x),B=r.mul(_,N),j=r.add(w,b),C=r.add(E,x);j=r.mul(j,C),C=r.add(F,X),j=r.sub(j,C),C=r.add(w,_);let k=r.add(E,N);return C=r.mul(C,k),k=r.add(F,B),C=r.sub(C,k),k=r.add(b,_),M=r.add(x,N),k=r.mul(k,M),M=r.add(X,B),k=r.sub(k,M),D=r.mul(W,C),M=r.mul(G,B),D=r.add(M,D),M=r.sub(X,D),D=r.add(X,D),R=r.mul(M,D),X=r.add(F,F),X=r.add(X,F),B=r.mul(W,B),C=r.mul(G,C),X=r.add(X,B),B=r.sub(F,B),B=r.mul(W,B),C=r.add(C,B),F=r.mul(X,C),R=r.add(R,F),F=r.mul(k,C),M=r.mul(j,M),M=r.sub(M,F),F=r.mul(j,X),D=r.mul(k,D),D=r.add(D,F),new f(M,R,D)}subtract(g){return this.add(g.negate())}is0(){return this.equals(f.ZERO)}wNAF(g){return m.wNAFCached(this,l,g,w=>{const b=r.invertBatch(w.map(_=>_.pz));return w.map((_,E)=>_.toAffine(b[E])).map(f.fromAffine)})}multiplyUnsafe(g){const w=f.ZERO;if(g===Ua)return w;if(a(g),g===Ki)return this;const{endo:b}=e;if(!b)return m.unsafeLadder(this,g);let{k1neg:_,k1:E,k2neg:x,k2:N}=b.splitScalar(g),M=w,R=w,D=this;for(;E>Ua||N>Ua;)E&Ki&&(M=M.add(D)),N&Ki&&(R=R.add(D)),D=D.double(),E>>=Ki,N>>=Ki;return _&&(M=M.negate()),x&&(R=R.negate()),R=new f(r.mul(R.px,b.beta),R.py,R.pz),M.add(R)}multiply(g){a(g);let w=g,b,_;const{endo:E}=e;if(E){const{k1neg:x,k1:N,k2neg:M,k2:R}=E.splitScalar(w);let{p:D,f:W}=this.wNAF(N),{p:G,f:F}=this.wNAF(R);D=m.constTimeNegate(x,D),G=m.constTimeNegate(M,G),G=new f(r.mul(G.px,E.beta),G.py,G.pz),b=D.add(G),_=W.add(F)}else{const{p:x,f:N}=this.wNAF(w);b=x,_=N}return f.normalizeZ([b,_])[0]}multiplyAndAddUnsafe(g,w,b){const _=f.BASE,E=(N,M)=>M===Ua||M===Ki||!N.equals(_)?N.multiplyUnsafe(M):N.multiply(M),x=E(this,w).add(E(g,b));return x.is0()?void 0:x}toAffine(g){const{px:w,py:b,pz:_}=this,E=this.is0();g==null&&(g=E?r.ONE:r.inv(_));const x=r.mul(w,g),N=r.mul(b,g),M=r.mul(_,g);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(M,r.ONE))throw new Error("invZ was invalid");return{x,y:N}}isTorsionFree(){const{h:g,isTorsionFree:w}=e;if(g===Ki)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:w}=e;return g===Ki?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),n(f,this,g)}toHex(g=!0){return fp(this.toRawBytes(g))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const p=e.nBitLength,m=aSe(f,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function dSe(t){const e=gX(t);return Yv(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function fSe(t){const e=dSe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(C){return Ua<C&&C<r.ORDER}function a(C){return Si(C,n)}function u(C){return JO(C,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:p}=hSe({...e,toBytes(C,k,O){const P=k.toAffine(),U=r.toBytes(P.x),$=Gg;return O?$(Uint8Array.from([k.hasEvenY()?2:3]),U):$(Uint8Array.from([4]),U,r.toBytes(P.y))},fromBytes(C){const k=C.length,O=C[0],P=C.subarray(1);if(k===i&&(O===2||O===3)){const U=Za(P);if(!o(U))throw new Error("Point is not on curve");const $=f(U);let z=r.sqrt($);const q=(z&Ki)===Ki;return(O&1)===1!==q&&(z=r.neg(z)),{x:U,y:z}}else if(k===s&&O===4){const U=r.fromBytes(P.subarray(0,r.BYTES)),$=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:U,y:$}}else throw new Error(`Point of length ${k} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=C=>fp(Rf(C,e.nByteLength));function y(C){const k=n>>Ki;return C>k}function g(C){return y(C)?a(-C):C}const w=(C,k,O)=>Za(C.slice(k,O));class b{constructor(k,O,P){this.r=k,this.s=O,this.recovery=P,this.assertValidity()}static fromCompact(k){const O=e.nByteLength;return k=Qi("compactSignature",k,O*2),new b(w(k,0,O),w(k,O,2*O))}static fromDER(k){const{r:O,s:P}=$c.toSig(Qi("DER",k));return new b(O,P)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new b(this.r,this.s,k)}recoverPublicKey(k){const{r:O,s:P,recovery:U}=this,$=R(Qi("msgHash",k));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");const z=U===2||U===3?O+e.n:O;if(z>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=U&1?"03":"02",ne=l.fromHex(q+m(z)),re=u(z),ae=a(-$*re),oe=a(P*re),ve=l.BASE.multiplyAndAddUnsafe(ne,ae,oe);if(!ve)throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return xh(this.toDERHex())}toDERHex(){return $c.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xh(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const _={isValidPrivateKey(C){try{return c(C),!0}catch{return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const C=e.randomBytes(r.BYTES+8),k=nSe(C,n);return Rf(k,e.nByteLength)},precompute(C=8,k=l.BASE){return k._setWindowSize(C),k.multiply(BigInt(3)),k}};function E(C,k=!0){return l.fromPrivateKey(C).toRawBytes(k)}function x(C){const k=C instanceof Uint8Array,O=typeof C=="string",P=(k||O)&&C.length;return k?P===i||P===s:O?P===2*i||P===2*s:C instanceof l}function N(C,k,O=!0){if(x(C))throw new Error("first arg must be private key");if(!x(k))throw new Error("second arg must be public key");return l.fromHex(k).multiply(c(C)).toRawBytes(O)}const M=e.bits2int||function(C){const k=Za(C),O=C.length*8-e.nBitLength;return O>0?k>>BigInt(O):k},R=e.bits2int_modN||function(C){return a(M(C))},D=kx(e.nBitLength);function W(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(Ua<=C&&C<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Rf(C,e.nByteLength)}function G(C,k,O=F){if(["recovered","canonical"].some(_e=>_e in O))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:U}=e;let{lowS:$,prehash:z,extraEntropy:q}=O;$==null&&($=!0),C=Qi("msgHash",C),z&&(C=Qi("prehashed msgHash",P(C)));const ne=R(C),re=c(k),ae=[W(re),W(ne)];if(q!=null){const _e=q===!0?U(r.BYTES):q;ae.push(Qi("extraEntropy",_e,r.BYTES))}const oe=Gg(...ae),ve=ne;function Ne(_e){const Me=M(_e);if(!p(Me))return;const Ie=u(Me),De=l.BASE.multiply(Me).toAffine(),te=a(De.x);if(te===Ua)return;const de=a(Ie*a(ve+te*re));if(de===Ua)return;let ke=(De.x===te?0:2)|Number(De.y&Ki),We=de;return $&&y(de)&&(We=g(de),ke^=1),new b(te,We,ke)}return{seed:oe,k2sig:Ne}}const F={lowS:e.lowS,prehash:!1},X={lowS:e.lowS,prehash:!1};function B(C,k,O=F){const{seed:P,k2sig:U}=G(C,k,O);return mX(e.hash.outputLen,e.nByteLength,e.hmac)(P,U)}l.BASE._setWindowSize(8);function j(C,k,O,P=X){var De;const U=C;if(k=Qi("msgHash",k),O=Qi("publicKey",O),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:$,prehash:z}=P;let q,ne;try{if(typeof U=="string"||U instanceof Uint8Array)try{q=b.fromDER(U)}catch(te){if(!(te instanceof $c.Err))throw te;q=b.fromCompact(U)}else if(typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint"){const{r:te,s:de}=U;q=new b(te,de)}else throw new Error("PARSE");ne=l.fromHex(O)}catch(te){if(te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&q.hasHighS())return!1;z&&(k=e.hash(k));const{r:re,s:ae}=q,oe=R(k),ve=u(ae),Ne=a(oe*ve),_e=a(re*ve),Me=(De=l.BASE.multiplyAndAddUnsafe(ne,Ne,_e))==null?void 0:De.toAffine();return Me?a(Me.x)===re:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:N,sign:B,verify:j,ProjectivePoint:l,Signature:b,utils:_}}function eR(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function pSe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function vX(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function mSe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");eR(t.outputLen),eR(t.blockLen)}function ySe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gSe(t,e){vX(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const db={number:eR,bool:pSe,bytes:vX,hash:mSe,exists:ySe,output:gSe},DC=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vSe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!vSe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function _Se(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function bSe(t){if(typeof t=="string"&&(t=_Se(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function wSe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class ESe{clone(){return this._cloneInto()}}function xSe(t=32){if(DC&&typeof DC.getRandomValues=="function")return DC.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class _X extends ESe{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,db.hash(e);const n=bSe(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return db.exists(this),this.iHash.update(e),this}digestInto(e){db.exists(this),db.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bX=(t,e,r)=>new _X(t,e).update(r).digest();bX.create=(t,e)=>new _X(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function SSe(t){return{hash:t,hmac:(e,...r)=>bX(t,e,wSe(...r)),randomBytes:xSe}}const qF=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),wX=252;function ZF(t){for(;t[0]===0;)t=t.subarray(1);const e=t.length*8-wX,r=Za(t);return e>0?r>>BigInt(e):r}function ASe(t){return typeof t=="string"&&(t=CSe(t),t.length&1&&(t="0"+t)),xh(t)}const TSe=fSe({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:WM(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:qF,nBitLength:wX,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...SSe(rv),bits2int:ZF,bits2int_modN:t=>{const e=Za(t).toString(16);return e.length===63&&(t=ASe(e+"0")),Si(ZF(t),qF)}}),{CURVE:aTe,ProjectivePoint:Vm,Signature:uTe,utils:lTe}=TSe;function CSe(t){return t.replace(/^0x/i,"")}const Pw=[new Vm(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new Vm(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new Vm(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new Vm(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new Vm(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function EX(t,e){const r=[];let n=t;for(let i=0;i<248;i++)r.push(n),n=n.double();n=e;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}EX(Pw[1],Pw[2]);EX(Pw[3],Pw[4]);kx(250);WM(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681"));const ISe=WM(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function OSe(t,e,r){const n=t.fromBytes(rv(tP(`${e}${r}`)));return t.create(n)}const RSe=[[3,1,1],[1,-1,1],[1,1,-2]].map(t=>t.map(BigInt));function PSe(t,e){if(VM(t.Fp),!Number.isSafeInteger(t.rate)||!Number.isSafeInteger(t.capacity))throw new Error(`Wrong poseidon opts: ${t}`);const r=t.rate+t.capacity,n=t.roundsFull+t.roundsPartial,i=[];for(let o=0;o<n;o++){const a=[];for(let u=0;u<r;u++)a.push(OSe(t.Fp,"Hades",r*o+u));i.push(a)}const s=sSe({...t,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:e,roundConstants:i});return s.m=r,s.rate=t.rate,s.capacity=t.capacity,s}const kSe=PSe({Fp:ISe,rate:2,capacity:1,roundsFull:8,roundsPartial:83},RSe);function NSe(t,e=kSe){const{m:r,rate:n}=e;if(!Array.isArray(t))throw new Error("bigint array expected in values");const i=Array.from(t);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let a=0;a<n;a++)s[a]+=i[o+a];s=e(s)}return s[0]}function MSe({execute:t,contractComponents:e}){return{create:async(i,s,o,a)=>{try{const l=await t(i,[{contractAddress:"0x2ca8dbe9c89ee5a3fd917f790d34032faa623b0466f40c0e8e93cac1e92b0f0",entrypoint:"create",calldata:["0x33ac2f528bb97cc7b79148fd1756dc368be0e95d391d8c6d6473ecb60b4560e",s,o,a]}]),f=(await i.waitForTransaction(l.transaction_hash,{retryInterval:100})).events;if(f){const p=await YF(e,f);await XF(p)}}catch(u){console.log(u)}finally{console.log("")}},spawn:async(i,s)=>{try{const a=await t(i,[{contractAddress:"0x2ca8dbe9c89ee5a3fd917f790d34032faa623b0466f40c0e8e93cac1e92b0f0",entrypoint:"spawn",calldata:["0x33ac2f528bb97cc7b79148fd1756dc368be0e95d391d8c6d6473ecb60b4560e",s]}]),l=(await i.waitForTransaction(a.transaction_hash,{retryInterval:100})).events;if(l){const c=await YF(e,l);await XF(c)}}catch(o){console.log(o)}finally{console.log("")}}}}async function XF(t){const e=t.filter(r=>r.type==="Game");for(const r of e)Nxe(r.component,r.entityIndex,r.componentValues);await BSe(1e3)}function tR(t){if(t.length===1)return parseInt(t[0].toString());const e=NSe([BigInt(t.length),...t]);return parseInt(e.toString())}function DSe(t){let e="";for(let r=2;r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function BSe(t){return new Promise(e=>setTimeout(e,t))}function LSe(t,e){const[r]=t,[n,i,s,o,a,u]=e;return console.log(`[Map: KEYS: (game_id: ${r}) - VALUES: (level: ${n}, size: ${i}, spawn: ${s}, score: ${Number(o)}), over: ${!!Number(a)}, name: ${Hc.decodeShortString(u)}]`),{type:"Map",game_id:Number(r),level:Number(n),size:Number(i),spawn:Number(s),score:Number(o),over:!!a,name:Hc.decodeShortString(u)}}function $Se(t,e){const[r]=t.map(o=>Number(o)),[n,i,s]=e.map(o=>Number(o));return console.log(`[Game: KEYS: (player_id: ${r}) - VALUES: (game_id: ${n}, over: ${!!i}, seed: ${s}, )]`),{type:"Game",player_id:r,game_id:n,over:!!i,seed:s}}function USe(t,e){const[r,n]=t.map(a=>Number(a)),[i,s,o]=e.map(a=>Number(a));return{type:"Character",game_id:r,_type:n,health:i,index:s,hit:o}}function FSe(t,e){const[r,n,i]=t.map(u=>Number(u)),[s,o,a]=e.map(u=>Number(u));return{type:"Tile",game_id:r,map_id:n,index:i,_type:s,x:o,y:a}}async function YF(t,e){const r=[];for(const n of e){const i=DSe(n.data[0]),s=parseInt(n.data[1]),o=n.data.slice(2,2+s).map(y=>BigInt(y));let a=2+s+1;const u=parseInt(n.data[a++]),l=n.data.slice(a,a+u),c=t[i],f=Object.keys(c.schema).reduce((y,g,w)=>{const b=l[w];return y[g]=Number(b),y},{}),p=tR(o),m={component:c,componentValues:f,entityIndex:p};switch(i){case"Map":r.push({...LSe(o,l),...m});break;case"Game":r.push({...$Se(o,l),...m});break;case"Tile":r.push({...FSe(o,l),...m});break;case"Character":r.push({...USe(o,l),...m});break}}return r}const QF=t=>{let e;const r=new Set,n=(u,l)=>{const c=typeof u=="function"?u(e):u;if(!Object.is(c,e)){const f=e;e=l??(typeof c!="object"||c===null)?c:Object.assign({},e,c),r.forEach(p=>p(e,f))}},i=()=>e,a={setState:n,getState:i,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{r.clear()}};return e=t(n,i,a),a},jSe=t=>t?QF(t):QF;var xX={exports:{}},SX={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=we,zSe=wV;function HSe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VSe=typeof Object.is=="function"?Object.is:HSe,GSe=zSe.useSyncExternalStore,WSe=Nx.useRef,qSe=Nx.useEffect,ZSe=Nx.useMemo,XSe=Nx.useDebugValue;SX.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=WSe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=ZSe(function(){function u(m){if(!l){if(l=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return f=y}return f=m}if(y=f,VSe(c,m))return y;var g=n(m);return i!==void 0&&i(y,g)?y:(c=m,f=g)}var l=!1,c,f,p=r===void 0?null:r;return[function(){return u(e())},p===null?void 0:function(){return u(p())}]},[e,r,n,i]);var a=GSe(t,s[0],s[1]);return qSe(function(){o.hasValue=!0,o.value=a},[a]),XSe(a),a};xX.exports=SX;var YSe=xX.exports;const QSe=Ol(YSe),{useDebugValue:KSe}=Ws,{useSyncExternalStoreWithSelector:JSe}=QSe;function eAe(t,e=t.getState,r){const n=JSe(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return KSe(n),n}const KF=t=>{const e=typeof t=="function"?jSe(t):t,r=(n,i)=>eAe(e,n,i);return Object.assign(r,e),r},tAe=t=>t?KF(t):KF,AX=tAe(t=>({ip:void 0,map:{size:0,holes:[]},set_ip:e=>t(()=>({ip:e}))})),rAe=(t,e)=>({health:t,position:e}),nAe=(t,e,r,n)=>{const{ip:i}=AX(p=>p),o=hb(e,i);we.useEffect(()=>{console.log("game",o)},[o]);const a=o==null?void 0:o.game_id,u=hb(r,a),l=hb(t,tR([o!=null&&o.game_id?BigInt(o==null?void 0:o.game_id):BigInt(0),BigInt(2)]));let c=0;o&&o.game_id!==void 0&&u&&u.level!==void 0&&l&&l.index!==void 0&&(c=tR([o!=null&&o.game_id?BigInt(o==null?void 0:o.game_id):BigInt(0),BigInt(u==null?void 0:u.level),BigInt(l==null?void 0:l.index)]));const f=hb(n,c);return{game:{id:o==null?void 0:o.game_id,over:o==null?void 0:o.over,seed:o==null?void 0:o.seed},map:{level:u==null?void 0:u.level,size:u==null?void 0:u.size,spawn:u==null?void 0:u.spawn,score:u==null?void 0:u.score,over:u==null?void 0:u.over,name:u==null?void 0:u.name},knight:rAe(l==null?void 0:l.health,f)}},iAe=()=>{const[t,e]=we.useState(0),[r,n]=we.useState(!0),[i,s]=we.useState(null);return we.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(o=>o.json()).then(o=>{const a=Number(o.ip.replaceAll(".",""));e(a),n(!1)}).catch(o=>{console.log("error while retrieving ip: ",o),s("Error fetching IP"),n(!1)})},[]),{ip:t,loading:r,error:i}},TX=1,CX=.5,IX=-1,OX=.5,kw=32*2,Wg=32*2,sAe=8,Nw=1200,RX=600,qM=(RX-sAe*Wg/2)/2;function cy(t){return{x:t.x*TX*.5*kw+t.y*IX*.5*kw,y:t.x*CX*.5*Wg+t.y*OX*.5*Wg}}function oAe(t,e,r,n){const i=1/(t*n-e*r);return{a:i*n,b:i*-e,c:i*-r,d:i*t}}function hy(t){const e=TX*.5*kw,r=IX*.5*kw,n=CX*.5*Wg,i=OX*.5*Wg,s=oAe(e,r,n,i);return{x:t.x*s.a+t.y*s.b,y:t.x*s.c+t.y*s.d}}function fb(t){return{x:t.x+Nw/2,y:t.y+qM}}const aAe=(t,e)=>t.x===e.x&&t.y===e.y,JF="/assets/0_1-07718a39.png",uAe=({hoveredTile:t})=>{const r=Math.floor(25);return be.from(JF).baseTexture.scaleMode=Oi.NEAREST,Array.from(Array(50)).map((n,i)=>Array.from(Array(50)).map((s,o)=>{const a={x:o-r,y:i-r,layer:"base",type:"ground"},u=cy({x:a.x,y:a.y}),l=t&&t.x===a.x&&t.y===a.y?5:0;return Yt.jsx(La.Sprite,{image:JF,anchor:.5,scale:2,x:u.x+Nw/2,y:u.y+qM-l},`${a.x}-${a.y}`)}))};var hf=(t=>(t[t.S=0]="S",t[t.SE=1]="SE",t[t.E=2]="E",t[t.NE=3]="NE",t[t.N=4]="N",t[t.NW=5]="NW",t[t.W=6]="W",t[t.SW=7]="SW",t))(hf||{}),gn=(t=>(t[t.Idle=0]="Idle",t[t.Walk=1]="Walk",t[t.Carry=2]="Carry",t[t.Jump=3]="Jump",t[t.Throw=4]="Throw",t[t.Hurt=5]="Hurt",t[t.Death=6]="Death",t))(gn||{});const pb=(t,e,r,n)=>{const i=Object.keys(n.data.frames);let s=[];if(e===0)s=i.filter(o=>o.includes("idle"));else if(e===1)s=i.filter(o=>o.includes("walk"));else if(e===2)s=i.filter(o=>o.includes("carry"));else if(e===3)s=i.filter(o=>o.includes("jump"));else if(e===4)s=i.filter(o=>o.includes("throw"));else if(e===5)s=i.filter(o=>o.includes("hurt"));else if(e===6)s=i.filter(o=>o.includes("death"));else throw new Error("Invalid AnimationType");return r===1?s=s.filter(o=>/-SE-/.test(o)):r===7?s=s.filter(o=>/-SW-/.test(o)):r===5?s=s.filter(o=>/-NW-/.test(o)):r===3?s=s.filter(o=>/-NE-/.test(o)):r===0?s=s.filter(o=>/-S-/.test(o)&&!/-SE-/.test(o)&&!/-SW-/.test(o)):r===2?s=s.filter(o=>/-E-/.test(o)&&!/-SE-/.test(o)&&!/-NE-/.test(o)):r===4?s=s.filter(o=>/-N-/.test(o)&&!/-NE-/.test(o)&&!/-NW-/.test(o)):r===6&&(s=s.filter(o=>/-W-/.test(o)&&!/-SW-/.test(o)&&!/-NW-/.test(o))),s.map(o=>{const a=be.from(o);return a.baseTexture.scaleMode=Oi.NEAREST,a})};function e5(t,e,r){return t*(1-r)+e*r}const PX=(t,e,r)=>{const n=e.x-t.x,i=e.y-t.y,s=n-i,o=(n+i)/2;return s>0&&o>=0?hf.SE:s<=0&&o>0?hf.SW:s<0&&o<=0?hf.NW:s>=0&&o<0?hf.NE:r},lAe=(t,e)=>PX(t,e||t,hf.S),cAe=({type:t,targetPosition:e,health:r,knightPosition:n})=>{const[i,s]=we.useState(gn.Idle),[o,a]=we.useState(0),[u,l]=we.useState(lAe(e,n)),[c,f]=we.useState([]),[p,m]=we.useState(void 0),[y,g]=we.useState(0),[w,b]=we.useState(!1);we.useEffect(()=>{if(p)if(i===gn.Walk){const G=PX(hy(_),hy(x),u);l(G),f(pb(t,gn.Walk,G,p))}else i===gn.Hurt?f(pb(t,gn.Hurt,u,p)):i===gn.Death?f(pb(t,gn.Death,u,p)):f(pb(t,gn.Idle,u,p))},[i,p]),we.useEffect(()=>{g(0),s(r===0?gn.Death:r===10&&t==="knight"?gn.Jump:gn.Hurt)},[r]),we.useEffect(()=>{w&&s(gn.Walk)},[w]);const[_,E]=we.useState(fb(cy(e))),[x,N]=we.useState(fb(cy(e)));we.useEffect(()=>{(async()=>{const F=await oy.load(`assets/${t}/${t}.json`);m(F)})(),E(fb(cy(e)))},[]),we.useEffect(()=>{N(fb(cy(e)))},[e]),La.useTick(()=>{const G=_.x,F=_.y,X=x.x,B=x.y;if(Math.abs(X-G)>=1||Math.abs(B-F)>=1){b(!0);const j=e5(G,X,.05),C=e5(F,B,.05);E({x:j,y:C})}else b(!1)});const[M,R]=we.useState(!0),[D,W]=we.useState(!1);return La.useTick(()=>{M&&(a(G=>G+1),o===1e3&&a(0),o%10===0&&(i===gn.Idle?c&&c.length>0&&g(G=>(G+1)%c.length):c&&c.length>0&&y<c.length-1?g(G=>G+1):i===gn.Death?(R(!1),W(!0)):(g(0),s(gn.Idle))))}),c.length===0?null:Yt.jsx(Yt.Fragment,{children:Yt.jsx(La.AnimatedSprite,{zIndex:hy(_).x+hy(_).y,x:D?-100:_.x,y:D?-100:_.y-36,anchor:.5,scale:2,isPlaying:!1,textures:c,initialFrame:y})})},hAe=({spawn:t,create:e,Character:r,Game:n,Map:i,Tile:s,account:o})=>{const a=nAe(r,n,i,s),{knight:u,map:l}=a,[c,f]=we.useState(void 0),{map:p,set_ip:m}=AX(_=>_),{ip:y,loading:g,error:w}=iAe();return we.useEffect(()=>{!g&&y&&m(y)},[y,g]),(async()=>{const _=Hc.encodeShortString("guest#"+Math.floor(Math.random()*1e4));e(o,y,1e3,_)})(),we.useEffect(()=>{l.spawn===0&&t(o,y)},[l.spawn]),be.from(_F).baseTexture.scaleMode=Oi.NEAREST,be.from(bF).baseTexture.scaleMode=Oi.NEAREST,Yt.jsx("div",{style:{position:"relative"},children:Yt.jsx(La.Stage,{width:Nw,height:RX,options:{backgroundColor:"#242424"},onPointerMove:_=>{const E=hy({x:_.nativeEvent.offsetX-Nw/2,y:_.nativeEvent.offsetY-qM+18}),x=Math.round(E.x),N=Math.round(E.y),M={x,y:N};(c===void 0||!aAe(c,M))&&f(M)},onPointerDown:_=>{console.log("Click on map")},children:Yt.jsxs(La.Container,{sortableChildren:!0,children:[Yt.jsx(uAe,{hoveredTile:c}),u.position&&u.health!==void 0&&Yt.jsx(cAe,{type:"knight",targetPosition:u.position,health:u.health,knightPosition:u.position}),p.size!==0&&Object.keys(a).map((_,E)=>{const x=_;if(_==="game"||_==="map"||_==="hitter"||_==="hitPosition")return null;const N=a[x].health;return Yt.jsxs(Yt.Fragment,{children:[N!==void 0&&N>0?Array.from({length:N}).map((M,R)=>Yt.jsx(La.Sprite,{image:_F,anchor:.5,scale:1.5,x:950-R*30,y:59+(E-2)*40},`heart-${R}`)):Yt.jsx(La.Sprite,{image:bF,anchor:.5,scale:.5,x:950,y:59+(E-2)*40},"skull"),Yt.jsx(La.Text,{text:_.charAt(0).toUpperCase()+_.slice(1),x:980,y:48+(E-2)*40,style:new ru({align:"center",fontFamily:'"Press Start 2P", Helvetica, sans-serif',fontSize:20,fontWeight:"400",fill:N&&N>0?"#ffffff":"#808080"})})]})})]})})})};function dAe(){const{setup:{systemCalls:{spawn:t,create:e},components:{Character:r,Game:n,Map:i,Tile:s}},account:{account:o}}=upe();return ZJ.setAppElement("#root"),Yt.jsx("div",{className:"flex flex-col min-h-screen w-full",children:Yt.jsx("div",{className:"flex-grow mx-auto mt-2",children:Yt.jsx(hAe,{spawn:t,create:e,Character:r,Game:n,Map:i,Tile:s,account:o})})})}function fAe({contractComponents:t}){return{...t,Game:cb(t.Game),Map:cb(t.Map),Tile:cb(t.Tile),Character:cb(t.Character)}}var pAe=class{constructor(t){ei(this,"worldAddress");this.worldAddress=t}getWorldAddress(){return this.worldAddress}},mAe=(t=>(t.get="entity",t.set="set_entity",t.entities="entities",t.execute="execute",t.register_system="register_system",t.register_component="register_component",t.component="component",t.system="system",t))(mAe||{}),yAe="http://127.0.0.1:5050",gAe=[{type:"function",name:"component",inputs:[{name:"name",type:"core::felt252"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"register_component",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"},{type:"function",name:"system",inputs:[{name:"name",type:"core::felt252"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"register_system",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"},{type:"function",name:"uuid",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"emit",inputs:[{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"view"},{type:"function",name:"execute",inputs:[{name:"system",type:"core::felt252"},{name:"calldata",type:"core::array::Array::<core::felt252>"}],outputs:[{type:"core::array::Array::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"entity",inputs:[{name:"component",type:"core::felt252"},{name:"query",type:"dojo::database::query::Query"},{name:"offset",type:"core::integer::u8"},{name:"length",type:"core::integer::u32"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_entity",inputs:[{name:"component",type:"core::felt252"},{name:"query",type:"dojo::database::query::Query"},{name:"offset",type:"core::integer::u8"},{name:"value",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"external"},{type:"function",name:"entities",inputs:[{name:"component",type:"core::felt252"},{name:"partition",type:"core::felt252"},{name:"length",type:"core::integer::u32"}],outputs:[{type:"(core::array::Span::<core::felt252>, core::array::Span::<core::array::Span::<core::felt252>>)"}],state_mutability:"view"},{type:"function",name:"set_executor",inputs:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"executor",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{type:"function",name:"delete_entity",inputs:[{name:"component",type:"core::felt252"},{name:"query",type:"dojo::database::query::Query"}],outputs:[],state_mutability:"external"},{type:"function",name:"origin",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{type:"function",name:"is_owner",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"},{name:"target",type:"core::felt252"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_owner",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"},{name:"target",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_owner",inputs:[{name:"account",type:"core::starknet::contract_address::ContractAddress"},{name:"target",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_writer",inputs:[{name:"component",type:"core::felt252"},{name:"system",type:"core::felt252"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_writer",inputs:[{name:"component",type:"core::felt252"},{name:"system",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_writer",inputs:[{name:"component",type:"core::felt252"},{name:"system",type:"core::felt252"}],outputs:[],state_mutability:"external"}],vAe=(t,e)=>{var r;return((r=t.contracts.find(n=>n.name===e))==null?void 0:r.address)||""},_Ae=class extends pAe{constructor(e,r,n=yAe){super(e);ei(this,"provider");ei(this,"contract");ei(this,"manifest");this.provider=new bf({nodeUrl:n}),this.contract=new mae(gAe,this.getWorldAddress(),this.provider),this.manifest=r}async entity(e,r,n=0,i=0){try{return await this.contract.call("entity",[Hc.encodeShortString(e),r.keys.length,...r.keys,n,i])}catch(s){throw s}}async entities(e,r){try{return await this.contract.call("entities",[Hc.encodeShortString(e),r])}catch(n){throw n}}async component(e){try{return await this.contract.call("component",[Hc.encodeShortString(e)])}catch(r){throw r}}async execute(e,r,n,i,s){try{let o=await(e==null?void 0:e.getNonce());return await(e==null?void 0:e.execute({contractAddress:vAe(this.manifest,r),entrypoint:n,calldata:i},void 0,{maxFee:0,...s,nonce:o}))}catch(o){throw o}}async executeMulti(e,r,n){try{let i=await(e==null?void 0:e.getNonce());return await(e==null?void 0:e.execute(r,void 0,{maxFee:0,...n,nonce:i}))}catch(i){throw i}}async uuid(){try{let{result:e}=await this.provider.callContract({contractAddress:this.getWorldAddress(),entrypoint:"uuid",calldata:[]});if(e&&e.length===1)return parseInt(e[0]);throw new Error("Contract did not return expected uuid")}catch(e){throw new Error(`Failed to fetch uuid: ${e}`)}}};function bAe(t){return{Character:(()=>{const e="Character";return Sd(t,{health:$r.Number,index:$r.Number,hit:$r.Number},{metadata:{name:e}})})(),Game:(()=>{const e="Game";return Sd(t,{game_id:$r.Number,over:$r.Number,seed:$r.Number},{metadata:{name:e}})})(),Map:(()=>{const e="Map";return Sd(t,{level:$r.Number,size:$r.Number,spawn:$r.Number,score:$r.Number,over:$r.Boolean,name:$r.String},{metadata:{name:e}})})(),Tile:(()=>{const e="Tile";return Sd(t,{_type:$r.Number,x:$r.Number,y:$r.Number},{metadata:{name:e}})})(),AuthStatus:(()=>{const e="AuthStatus";return Sd(t,{is_authorized:$r.Boolean},{metadata:{name:e}})})(),AuthRole:(()=>{const e="AuthRole";return Sd(t,{id:$r.Number},{metadata:{name:e}})})()}}const wAe={name:"world",address:"0x4e1fde3268e5fd9d18b89d6f08ce42a8ae7098e44af596bad689ceb50ad29ba",class_hash:"0x5179c281a8d3cca6cfb820201fa7a81150b56f9db492405a29e9564222370b8",abi:[{type:"impl",name:"World",interface_name:"dojo::world::IWorld"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"enum",name:"core::option::Option::<core::felt252>",variants:[{name:"Some",type:"core::felt252"},{name:"None",type:"()"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"enum",name:"core::bool",variants:[{name:"False",type:"()"},{name:"True",type:"()"}]},{type:"interface",name:"dojo::world::IWorld",items:[{type:"function",name:"metadata_uri",inputs:[{name:"resource",type:"core::felt252"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_metadata_uri",inputs:[{name:"resource",type:"core::felt252"},{name:"uri",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"external"},{type:"function",name:"model",inputs:[{name:"name",type:"core::felt252"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"register_model",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"},{type:"function",name:"deploy_contract",inputs:[{name:"salt",type:"core::felt252"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"external"},{type:"function",name:"upgrade_contract",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"external"},{type:"function",name:"uuid",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"external"},{type:"function",name:"emit",inputs:[{name:"keys",type:"core::array::Array::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"view"},{type:"function",name:"entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"offset",type:"core::integer::u8"},{name:"length",type:"core::integer::u32"},{name:"layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"},{name:"offset",type:"core::integer::u8"},{name:"values",type:"core::array::Span::<core::felt252>"},{name:"layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[],state_mutability:"external"},{type:"function",name:"entities",inputs:[{name:"model",type:"core::felt252"},{name:"index",type:"core::option::Option::<core::felt252>"},{name:"values",type:"core::array::Span::<core::felt252>"},{name:"values_length",type:"core::integer::u32"},{name:"values_layout",type:"core::array::Span::<core::integer::u8>"}],outputs:[{type:"(core::array::Span::<core::felt252>, core::array::Span::<core::array::Span::<core::felt252>>)"}],state_mutability:"view"},{type:"function",name:"entity_ids",inputs:[{name:"model",type:"core::felt252"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"},{type:"function",name:"set_executor",inputs:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"executor",inputs:[],outputs:[{type:"core::starknet::contract_address::ContractAddress"}],state_mutability:"view"},{type:"function",name:"base",inputs:[],outputs:[{type:"core::starknet::class_hash::ClassHash"}],state_mutability:"view"},{type:"function",name:"delete_entity",inputs:[{name:"model",type:"core::felt252"},{name:"keys",type:"core::array::Span::<core::felt252>"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_owner",inputs:[{name:"address",type:"core::starknet::contract_address::ContractAddress"},{name:"resource",type:"core::felt252"}],outputs:[],state_mutability:"external"},{type:"function",name:"is_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[{type:"core::bool"}],state_mutability:"view"},{type:"function",name:"grant_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"},{type:"function",name:"revoke_writer",inputs:[{name:"model",type:"core::felt252"},{name:"system",type:"core::starknet::contract_address::ContractAddress"}],outputs:[],state_mutability:"external"}]},{type:"constructor",name:"constructor",inputs:[{name:"executor",type:"core::starknet::contract_address::ContractAddress"},{name:"contract_base",type:"core::starknet::class_hash::ClassHash"}]},{type:"event",name:"dojo::world::world::WorldSpawned",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"creator",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::ContractDeployed",kind:"struct",members:[{name:"salt",type:"core::felt252",kind:"data"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::ContractUpgraded",kind:"struct",members:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::MetadataUpdate",kind:"struct",members:[{name:"resource",type:"core::felt252",kind:"data"},{name:"uri",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::ModelRegistered",kind:"struct",members:[{name:"name",type:"core::felt252",kind:"data"},{name:"class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"},{name:"prev_class_hash",type:"core::starknet::class_hash::ClassHash",kind:"data"}]},{type:"event",name:"dojo::world::world::StoreSetRecord",kind:"struct",members:[{name:"table",type:"core::felt252",kind:"data"},{name:"keys",type:"core::array::Span::<core::felt252>",kind:"data"},{name:"offset",type:"core::integer::u8",kind:"data"},{name:"values",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::StoreDelRecord",kind:"struct",members:[{name:"table",type:"core::felt252",kind:"data"},{name:"keys",type:"core::array::Span::<core::felt252>",kind:"data"}]},{type:"event",name:"dojo::world::world::WriterUpdated",kind:"struct",members:[{name:"model",type:"core::felt252",kind:"data"},{name:"system",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"value",type:"core::bool",kind:"data"}]},{type:"event",name:"dojo::world::world::OwnerUpdated",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"resource",type:"core::felt252",kind:"data"},{name:"value",type:"core::bool",kind:"data"}]},{type:"event",name:"dojo::world::world::ExecutorUpdated",kind:"struct",members:[{name:"address",type:"core::starknet::contract_address::ContractAddress",kind:"data"},{name:"prev_address",type:"core::starknet::contract_address::ContractAddress",kind:"data"}]},{type:"event",name:"dojo::world::world::Event",kind:"enum",variants:[{name:"WorldSpawned",type:"dojo::world::world::WorldSpawned",kind:"nested"},{name:"ContractDeployed",type:"dojo::world::world::ContractDeployed",kind:"nested"},{name:"ContractUpgraded",type:"dojo::world::world::ContractUpgraded",kind:"nested"},{name:"MetadataUpdate",type:"dojo::world::world::MetadataUpdate",kind:"nested"},{name:"ModelRegistered",type:"dojo::world::world::ModelRegistered",kind:"nested"},{name:"StoreSetRecord",type:"dojo::world::world::StoreSetRecord",kind:"nested"},{name:"StoreDelRecord",type:"dojo::world::world::StoreDelRecord",kind:"nested"},{name:"WriterUpdated",type:"dojo::world::world::WriterUpdated",kind:"nested"},{name:"OwnerUpdated",type:"dojo::world::world::OwnerUpdated",kind:"nested"},{name:"ExecutorUpdated",type:"dojo::world::world::ExecutorUpdated",kind:"nested"}]}]},EAe={name:"executor",address:null,class_hash:"0x2b35dd4816731188ed1ad16caa73bde76075c9d9cb8cbfa3e447d3ab9b1ab33",abi:[{type:"impl",name:"Executor",interface_name:"dojo::executor::IExecutor"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"interface",name:"dojo::executor::IExecutor",items:[{type:"function",name:"call",inputs:[{name:"class_hash",type:"core::starknet::class_hash::ClassHash"},{name:"entrypoint",type:"core::felt252"},{name:"calldata",type:"core::array::Span::<core::felt252>"}],outputs:[{type:"core::array::Span::<core::felt252>"}],state_mutability:"view"}]},{type:"event",name:"dojo::executor::executor::Event",kind:"enum",variants:[]}]},xAe={name:"base",class_hash:"0x7aec2b7d7064c1294a339cd90060331ff704ab573e4ee9a1b699be2215c11c9",abi:[{type:"impl",name:"Upgradeable",interface_name:"dojo::upgradable::IUpgradeable"},{type:"interface",name:"dojo::upgradable::IUpgradeable",items:[{type:"function",name:"upgrade",inputs:[{name:"new_class_hash",type:"core::starknet::class_hash::ClassHash"}],outputs:[],state_mutability:"external"}]},{type:"constructor",name:"constructor",inputs:[]},{type:"struct",name:"dojo::world::IWorldDispatcher",members:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}]},{type:"function",name:"world",inputs:[],outputs:[{type:"dojo::world::IWorldDispatcher"}],state_mutability:"view"},{type:"event",name:"dojo::base::base::Event",kind:"enum",variants:[]}]},SAe=[{name:"actions",address:"0x3ac779eaa96b9b01ddee5e88a066437116be4d38f323cf5e542101c8da6aec2",class_hash:"0x2c37bea73021a11145a36dcd7443a4db46385b781a8190ce8bb1e92ce714c36",abi:[{type:"impl",name:"Actions",interface_name:"zdefender::systems::player::IActions"},{type:"struct",name:"dojo::world::IWorldDispatcher",members:[{name:"contract_address",type:"core::starknet::contract_address::ContractAddress"}]},{type:"interface",name:"zdefender::systems::player::IActions",items:[{type:"function",name:"create",inputs:[{name:"world",type:"dojo::world::IWorldDispatcher"},{name:"account",type:"core::felt252"},{name:"seed",type:"core::felt252"},{name:"name",type:"core::felt252"}],outputs:[],state_mutability:"view"}]},{type:"event",name:"zdefender::systems::player::actions::Event",kind:"enum",variants:[]}]}],AAe=[{name:"Game",members:[{name:"key",type:"felt252",key:!0},{name:"id",type:"u32",key:!1},{name:"name",type:"felt252",key:!1},{name:"seed",type:"felt252",key:!1},{name:"over",type:"bool",key:!1},{name:"tower_count",type:"u8",key:!1},{name:"mob_count",type:"u16",key:!1},{name:"mob_remaining",type:"u16",key:!1},{name:"wave",type:"u8",key:!1},{name:"gold",type:"u16",key:!1}],class_hash:"0x1c6cb40c473a04fa241976bf91ac247e17b30bcf68a514c50834b959f089a93",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::schema::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::schema::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::schema::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::schema::Struct"},{name:"Enum",type:"dojo::database::schema::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::schema::Ty"}],state_mutability:"view"},{type:"event",name:"zdefender::models::game::game::Event",kind:"enum",variants:[]}]},{name:"Mob",members:[{name:"game_id",type:"u32",key:!0},{name:"id",type:"u32",key:!0},{name:"index",type:"u32",key:!1},{name:"health",type:"u32",key:!1},{name:"speed",type:"u32",key:!1},{name:"defence",type:"u32",key:!1}],class_hash:"0x2ebadc124e18cf7b7e94b25d64695362796a702f512610c6fb874ff752de150",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::schema::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::schema::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::schema::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::schema::Struct"},{name:"Enum",type:"dojo::database::schema::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::schema::Ty"}],state_mutability:"view"},{type:"event",name:"zdefender::models::mob::mob::Event",kind:"enum",variants:[]}]},{name:"Tile",members:[{name:"game_id",type:"u32",key:!0},{name:"index",type:"u32",key:!0},{name:"category",type:"u8",key:!1}],class_hash:"0x33348b2e425766489009ee4c8806187376ce40087e5037d25fcc9805771040d",abi:[{type:"function",name:"name",inputs:[],outputs:[{type:"core::felt252"}],state_mutability:"view"},{type:"function",name:"unpacked_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"function",name:"packed_size",inputs:[],outputs:[{type:"core::integer::u32"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::integer::u8>",members:[{name:"snapshot",type:"@core::array::Array::<core::integer::u8>"}]},{type:"function",name:"layout",inputs:[],outputs:[{type:"core::array::Span::<core::integer::u8>"}],state_mutability:"view"},{type:"struct",name:"core::array::Span::<core::felt252>",members:[{name:"snapshot",type:"@core::array::Array::<core::felt252>"}]},{type:"struct",name:"core::array::Span::<core::array::Span::<core::felt252>>",members:[{name:"snapshot",type:"@core::array::Array::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"dojo::database::schema::Struct",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"struct",name:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>",members:[{name:"snapshot",type:"@core::array::Array::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"struct",name:"dojo::database::schema::Enum",members:[{name:"name",type:"core::felt252"},{name:"attrs",type:"core::array::Span::<core::felt252>"},{name:"children",type:"core::array::Span::<(core::felt252, core::array::Span::<core::felt252>)>"}]},{type:"enum",name:"dojo::database::schema::Ty",variants:[{name:"Primitive",type:"core::felt252"},{name:"Struct",type:"dojo::database::schema::Struct"},{name:"Enum",type:"dojo::database::schema::Enum"},{name:"Tuple",type:"core::array::Span::<core::array::Span::<core::felt252>>"}]},{type:"function",name:"schema",inputs:[],outputs:[{type:"dojo::database::schema::Ty"}],state_mutability:"view"},{type:"event",name:"zdefender::models::tile::tile::Event",kind:"enum",variants:[]}]}],TAe={world:wAe,executor:EAe,base:xAe,contracts:SAe,models:AAe},t5=Fxe();async function CAe(){const{VITE_PUBLIC_WORLD_ADDRESS:t,VITE_PUBLIC_NODE_URL:e,VITE_PUBLIC_TORII:r}={VITE_PUBLIC_ETH_CONTRACT_ADDRESS:"0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",VITE_PUBLIC_ACCOUNT_CLASS_HASH:"0x04d07e40e93398ed3c76981e72dd1fd22557a78ce36c0515f679e27f0bb5bc5f",VITE_PUBLIC_ACTIONS_ADDRESS:"0x2ca8dbe9c89ee5a3fd917f790d34032faa623b0466f40c0e8e93cac1e92b0f0",VITE_PUBLIC_MASTER_ADDRESS:"0x517ececd29116499f4a1b64b094da79ba08dfd54a3edaa316134c41f8160973",VITE_PUBLIC_MASTER_PRIVATE_KEY:"0x1800000000300000180000000000030000000000003006001800006600",VITE_PUBLIC_WORLD_ADDRESS:"0x33ac2f528bb97cc7b79148fd1756dc368be0e95d391d8c6d6473ecb60b4560e",VITE_PUBLIC_NODE_URL:"http://localhost:5050",VITE_PUBLIC_TORII:"http://localhost:8080",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},n=new _Ae(t,TAe,e);return{provider:n,world:t5,contractComponents:bAe(t5),execute:async(i,s)=>{const o=Array.isArray(s)?s:[s];return n.executeMulti(i,o)},entity:async(i,s)=>n.entity(i,s),entities:async(i,s)=>n.entities(i,s)}}async function IAe(){const t=await CAe(),e=fAe(t),r=MSe(t);return{network:t,components:e,systemCalls:r}}async function OAe(){const t=document.getElementById("root");if(!t)throw new Error("React root not found");const e=BC.createRoot(t),r=await IAe();e.render(Yt.jsx(Ws.StrictMode,{children:Yt.jsx(ape,{value:r,children:Yt.jsx(dAe,{})})}))}OAe()});export default RAe();
